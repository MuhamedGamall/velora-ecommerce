var RPe=Object.defineProperty;var OPe=(e,t,n)=>t in e?RPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>(OPe(e,typeof t!="symbol"?t+"":t,n),n),Dq=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var De=(e,t,n)=>(Dq(e,t,"read from private field"),n?n.call(e):t.get(e)),Fn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},In=(e,t,n,r)=>(Dq(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);const $Pe="modulepreload",PPe=function(e){return"/"+e},Mq={},Tf=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=PPe(a),a in Mq)return;Mq[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":$Pe,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function FPe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Rfe={exports:{}},rI={},Ofe={exports:{}},mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=Symbol.for("react.element"),NPe=Symbol.for("react.portal"),LPe=Symbol.for("react.fragment"),BPe=Symbol.for("react.strict_mode"),VPe=Symbol.for("react.profiler"),zPe=Symbol.for("react.provider"),UPe=Symbol.for("react.context"),HPe=Symbol.for("react.forward_ref"),WPe=Symbol.for("react.suspense"),GPe=Symbol.for("react.memo"),YPe=Symbol.for("react.lazy"),Rq=Symbol.iterator;function qPe(e){return e===null||typeof e!="object"?null:(e=Rq&&e[Rq]||e["@@iterator"],typeof e=="function"?e:null)}var $fe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pfe=Object.assign,Ffe={};function kv(e,t,n){this.props=e,this.context=t,this.refs=Ffe,this.updater=n||$fe}kv.prototype.isReactComponent={};kv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nfe(){}Nfe.prototype=kv.prototype;function M7(e,t,n){this.props=e,this.context=t,this.refs=Ffe,this.updater=n||$fe}var R7=M7.prototype=new Nfe;R7.constructor=M7;Pfe(R7,kv.prototype);R7.isPureReactComponent=!0;var Oq=Array.isArray,Lfe=Object.prototype.hasOwnProperty,O7={current:null},Bfe={key:!0,ref:!0,__self:!0,__source:!0};function Vfe(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Lfe.call(t,r)&&!Bfe.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:WS,type:e,key:a,ref:o,props:i,_owner:O7.current}}function KPe(e,t){return{$$typeof:WS,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $7(e){return typeof e=="object"&&e!==null&&e.$$typeof===WS}function ZPe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $q=/\/+/g;function CO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZPe(""+e.key):t.toString(36)}function K5(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case WS:case NPe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+CO(o,0):r,Oq(i)?(n="",e!=null&&(n=e.replace($q,"$&/")+"/"),K5(i,t,n,"",function(c){return c})):i!=null&&($7(i)&&(i=KPe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($q,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Oq(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+CO(a,s);o+=K5(a,t,n,l,i)}else if(l=qPe(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+CO(a,s++),o+=K5(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lk(e,t,n){if(e==null)return e;var r=[],i=0;return K5(e,r,"","",function(a){return t.call(n,a,i++)}),r}function XPe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wo={current:null},Z5={transition:null},JPe={ReactCurrentDispatcher:Wo,ReactCurrentBatchConfig:Z5,ReactCurrentOwner:O7};function zfe(){throw Error("act(...) is not supported in production builds of React.")}mn.Children={map:Lk,forEach:function(e,t,n){Lk(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lk(e,function(){t++}),t},toArray:function(e){return Lk(e,function(t){return t})||[]},only:function(e){if(!$7(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mn.Component=kv;mn.Fragment=LPe;mn.Profiler=VPe;mn.PureComponent=M7;mn.StrictMode=BPe;mn.Suspense=WPe;mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JPe;mn.act=zfe;mn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pfe({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=O7.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Lfe.call(t,l)&&!Bfe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:WS,type:e.type,key:i,ref:a,props:r,_owner:o}};mn.createContext=function(e){return e={$$typeof:UPe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zPe,_context:e},e.Consumer=e};mn.createElement=Vfe;mn.createFactory=function(e){var t=Vfe.bind(null,e);return t.type=e,t};mn.createRef=function(){return{current:null}};mn.forwardRef=function(e){return{$$typeof:HPe,render:e}};mn.isValidElement=$7;mn.lazy=function(e){return{$$typeof:YPe,_payload:{_status:-1,_result:e},_init:XPe}};mn.memo=function(e,t){return{$$typeof:GPe,type:e,compare:t===void 0?null:t}};mn.startTransition=function(e){var t=Z5.transition;Z5.transition={};try{e()}finally{Z5.transition=t}};mn.unstable_act=zfe;mn.useCallback=function(e,t){return Wo.current.useCallback(e,t)};mn.useContext=function(e){return Wo.current.useContext(e)};mn.useDebugValue=function(){};mn.useDeferredValue=function(e){return Wo.current.useDeferredValue(e)};mn.useEffect=function(e,t){return Wo.current.useEffect(e,t)};mn.useId=function(){return Wo.current.useId()};mn.useImperativeHandle=function(e,t,n){return Wo.current.useImperativeHandle(e,t,n)};mn.useInsertionEffect=function(e,t){return Wo.current.useInsertionEffect(e,t)};mn.useLayoutEffect=function(e,t){return Wo.current.useLayoutEffect(e,t)};mn.useMemo=function(e,t){return Wo.current.useMemo(e,t)};mn.useReducer=function(e,t,n){return Wo.current.useReducer(e,t,n)};mn.useRef=function(e){return Wo.current.useRef(e)};mn.useState=function(e){return Wo.current.useState(e)};mn.useSyncExternalStore=function(e,t,n){return Wo.current.useSyncExternalStore(e,t,n)};mn.useTransition=function(){return Wo.current.useTransition()};mn.version="18.3.1";Ofe.exports=mn;var f=Ofe.exports;const Xe=Fe(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QPe=f,eFe=Symbol.for("react.element"),tFe=Symbol.for("react.fragment"),nFe=Object.prototype.hasOwnProperty,rFe=QPe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iFe={key:!0,ref:!0,__self:!0,__source:!0};function Ufe(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nFe.call(t,r)&&!iFe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:eFe,type:e,key:a,ref:o,props:i,_owner:rFe.current}}rI.Fragment=tFe;rI.jsx=Ufe;rI.jsxs=Ufe;Rfe.exports=rI;var u=Rfe.exports;function Jg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Us(e){return Jg(e)&&typeof e._ref=="string"}function aFe(e){return Jg(e)&&Us(e.asset)&&e.asset._ref.startsWith("image-")}function Hfe(e){return Jg(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function oFe(e){return Jg(e)&&typeof e._id=="string"&&typeof e._type=="string"}function Gh(e){return Jg(e)&&typeof e._type=="string"}function $u(e){return Jg(e)&&typeof e._key=="string"}function P7(e){return e.level==="error"}function Wfe(e){return e.level==="warning"}function sFe(e){return e.level==="info"}const lFe=/_key\s*==\s*['"](.*)['"]/,uFe=/^\d*:\d*$/;function Ya(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function En(e){return typeof e=="string"?lFe.test(e.trim()):typeof e=="object"&&"_key"in e}function af(e){if(typeof e=="string"&&uFe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function X5(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Er(e){return X5(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>X5(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>X5(t)):!0)&&("style"in e?typeof e.style=="string":!0)}function vi(e){return X5(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function cFe(e){return Er(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function Za(e){return!!e&&(typeof e=="object"||typeof e=="function")}function dFe(e){if(!Ui(e))return!1;let t=e;for(;t;){if(t.name==="document")return!0;t=t.type}return!1}function Ui(e){return Za(e)?e.jsonType==="object":!1}function _s(e){return Za(e)?e.jsonType==="array":!1}function zm(e){return _s(e)&&e.of.some(t=>L7(t))}function Af(e){return _s(e)&&e.of.every(t=>Ui(t))}function iI(e){return _s(e)&&e.of.every(t=>aI(t))}function GS(e){return Za(e)?e.jsonType==="boolean":!1}function F7(e){return Za(e)?e.jsonType==="string":!1}function ap(e){return Za(e)?e.jsonType==="number":!1}function aI(e){return GS(e)||F7(e)||ap(e)}function Gs(e){return Za(e)&&(e.name==="reference"||Gs(e.type))}function q1(e){return Za(e)&&(e.name==="image"||q1(e.type))}function cC(e){return Za(e)&&(e.name==="file"||cC(e.type))}function Gfe(e){return Za(e)?typeof e.deprecated<"u":!1}function N7(e){return Za(e)&&(e.name==="crossDatasetReference"||N7(e.type))}function oI(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function fFe(e){return Za(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function L7(e){if(!Za(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(BF),n=e.fields.find(NF),r=e.fields.find(LF);return BF(t)&&NF(n)&&LF(r)}function NF(e){return!Za(e)||e.name!=="style"?!1:Za(e.type)&&e.type.jsonType==="string"}function LF(e){return!Za(e)||e.name!=="listItem"?!1:Za(e.type)&&e.type.jsonType==="string"}function BF(e){return!Za(e)||e.name!=="children"||!_s(e.type)?!1:e.type.of.some(fFe)}function _p(e,t){return e}function un(e,t){return e}function hFe(e,t){return e}function pFe(e){return Jg(e)&&typeof e.current=="string"}function mFe(e){return e.level==="error"}function gFe(e){return e.level==="warning"}const yFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vFe=/_key\s*==\s*['"](.*)['"]/,Yfe=[],bFe="$",xFe=["true","false","null"];function _v(e,t,n){const r=typeof t=="string"?Zs(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let i=e;for(let a=0;a<r.length;a++){const o=r[a];if(Ya(o)){if(!Array.isArray(i))return n;i=i[o]}if(En(o)){if(!Array.isArray(i))return n;i=i.find(s=>s._key===o._key)}if(typeof o=="string"&&(i=typeof i=="object"&&i!==null?i[o]:void 0),typeof i>"u")return n}return i}const SO=new Map;function Nc(e){if(e.length===0)return Yfe;const t=Zt(e);return SO.has(t)?SO.get(t):(SO.set(t,e),Object.freeze(e),e)}function Sr(e,t){return e.length===t.length&&e.every((n,r)=>sI(n,t[r]))}function wFe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!sI(e[r],t[r]))return r;return n}function sI(e,t){return En(e)&&En(t)?e._key===t._key:Ya(e)?Number(e)===Number(t):af(e)&&af(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Ha(e,t){return e.every((n,r)=>sI(n,t[r]))}function Ew(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[i,...a]=t;return sI(n,i)?Nc(Ew(r,a)):t}function B7(e,t){return Ha(e,t)?Ew(e,t):Yfe}function Zt(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const i=r===0;if(typeof n=="number")return`${t}[${n}]`;if(typeof n=="string")return i?n:xFe.includes(n)?`${t}["${n}"]`:`${t}.${n}`;if(En(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(Array.isArray(n)){const[a,o]=n;return`${t}[${a}:${o}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function VF(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const a=e[n];return[typeof(a==null?void 0:a._key)=="string"?{_key:a._key}:n,...VF(a,r)]}const i=_v(e,[n]);return[n,...VF(i,r)]}function CFe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Nc(VF(e,t))}function Zs(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(yFe);if(!t)throw new Error("Invalid path string");return t.map(SFe)}function SFe(e){return Ya(e)?EFe(e):En(e)?kFe(e):af(e)?_Fe(e):e}function EFe(e){return Number(e.replace(/[^\d]/g,""))}function kFe(e){return{_key:e.match(vFe)[1]}}function _Fe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var TFe=typeof Element<"u",AFe=typeof Map=="function",jFe=typeof Set=="function",IFe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function J5(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!J5(e[r],t[r]))return!1;return!0}var a;if(AFe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!J5(r.value[1],t.get(r.value[0])))return!1;return!0}if(jFe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(IFe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(TFe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!J5(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var DFe=function(t,n){try{return J5(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const fg=Fe(DFe),jl="3.57.1",Pq="https://www.sanity.io/help/missing-context-error";function it(e,t){const n=Symbol.for(e);if(typeof document>"u")return f.createContext(t);if(!Kb[n])Kb[n]={context:f.createContext(t),version:jl};else{if(Kb[n].version!==jl)throw new TypeError(`Duplicate instances of context "${e}" with incompatible versions detected: Expected ${jl} but got ${Kb[n].version}.

For more information, please visit ${Pq}`);Fq.has(jl)||(console.warn(`Duplicate instances of context "${e}" detected. This is likely a mistake and may cause unexpected behavior.

For more information, please visit ${Pq}`),Fq.add(jl))}return Kb[n].context}const Fq=new Set;function MFe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("sanity: could not locate global scope")}const Kb=MFe(),qfe=it("sanity/_singletons/context/active-workspace-matcher",null),V7=it("sanity/_singletons/context/addon-dataset",null),Kfe=it("sanity/_singletons/context/calendar",void 0),Zfe=it("sanity/_singletons/context/change-indicator-tracker-store",null),Xfe=it("sanity/_singletons/context/change-indicator-tracker-get-snapshot",null),lI=it("sanity/_singletons/context/color-scheme-set-value",null),uI=it("sanity/_singletons/context/color-scheme-value",null),Jfe=it("sanity/_singletons/context/comment-input",null),Qfe=it("sanity/_singletons/context/comments-authoring-path",null),ehe=it("sanity/_singletons/context/comments",null),the=it("sanity/_singletons/context/comments-enabled",{enabled:!1,mode:null}),nhe=it("sanity/_singletons/context/comments-intent",void 0),rhe=it("sanity/_singletons/context/comments-onboarding",null),ihe=it("sanity/_singletons/context/comments-selected-path",null),ahe=it("sanity/_singletons/context/comments-upsell",null),Qg=it("sanity/_singletons/context/connector",{isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),ohe=it("sanity/_singletons/context/copy-paste",null),of=it("sanity/_singletons/context/diff",{path:[]}),she=it("sanity/_singletons/context/document-action-props",void 0),lhe=it("sanity/_singletons/context/document-change",null),uhe=it("sanity/_singletons/context/document-field-actions",null),che=it("sanity/_singletons/context/document-id",null),dhe=it("sanity/_singletons/context/document-pane",null),fhe=it("sanity/_singletons/context/document-sheet-list",void 0),hhe=it("sanity/_singletons/context/field-actions",{actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}}),phe=it("sanity/_singletons/context/form-builder",null),z7=it("sanity/_singletons/context/form-callbacks",null),RFe=it("sanity/_singletons/context/form-field-presence",[]),mhe=it("sanity/_singletons/context/form-value",null),ghe=it("sanity/_singletons/context/free-trial",void 0),yhe=it("sanity/_singletons/context/get-form-value",null),vhe=it("sanity/_singletons/context/hovered-field",{hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}}),bhe=it("sanity/_singletons/context/is-last-pane",!1),U7=it("sanity/_singletons/context/locale",void 0),xhe=it("sanity/_singletons/context/mention-user",null),whe=it("sanity/_singletons/context/navbar",{onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1}),Che=it("sanity/_singletons/context/pane",null),She=it("sanity/_singletons/context/pane-layout",null);function as(){throw new Error("Pane is missing router context")}const cI=it("sanity/_singletons/context/pane-router",{index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>as(),ChildLink:()=>as(),ReferenceChildLink:()=>as(),handleEditReference:()=>as(),ParameterizedLink:()=>as(),replaceCurrent:()=>as(),closeCurrentAndAfter:()=>as(),closeCurrent:()=>as(),duplicateCurrent:()=>as(),setView:()=>as(),setParams:()=>as(),setPayload:()=>as(),navigateIntent:()=>as(),createPathWithParams:()=>as()}),Ehe=it("sanity/_singletons/context/portable-text-markers",[]),H7=it("sanity/_singletons/context/portable-text-member-items",[]),khe=it("sanity/_singletons/context/presence",[]),_he=it("sanity/_singletons/context/presence-tracker-store",null),The=it("sanity/_singletons/context/presence-tracker-get-snapshot",null),OFe=it("sanity/_singletons/context/preview-card",{selected:!1}),Ahe=it("sanity/_singletons/context/reference-input-options",{}),jhe=it("sanity/_singletons/context/reference-item-ref",null),Ihe=it("sanity/_singletons/context/resource-cache",null);it("sanity/_singletons/context/review-changes",null);const W7=it("sanity/_singletons/context/router",null),Dhe=it("sanity/_singletons/context/router-history",null),Mhe=it("sanity/_singletons/context/scheduled-publishing-enabled",null),Rhe=it("sanity/_singletons/context/schedule-publish-upsell",{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}),Ohe=it("sanity/_singletons/context/schedules",void 0),zF=it("sanity/_singletons/context/scroll",null),$he=it("sanity/_singletons/context/search",void 0),Phe=it("sanity/_singletons/context/sortable-item-id",null),Q5=it("sanity/_singletons/context/source",null),Fhe=it("sanity/_singletons/context/structure-tool",null),Nhe=it("sanity/_singletons/context/tasks",null),Lhe=it("sanity/_singletons/context/tasks-enabled",{enabled:!1,mode:null}),Bhe=it("sanity/_singletons/context/tasks-navigation",null),Vhe=it("sanity/_singletons/context/tasks-upsell",null),zhe=it("sanity/_singletons/context/tree-editing-enabled",{enabled:!1,legacyEditing:!1}),Uhe=it("sanity/_singletons/context/user-color-manager",null),Hhe=it("sanity/_singletons/context/validation",[]),Whe=it("sanity/_singletons/context/virtualizer-scroll-instance",null),Ghe=it("sanity/_singletons/context/workspace",null),Yhe=it("sanity/_singletons/context/workspaces",null),$Fe={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},PFe=it("sanity/_singletons/context/z-index",$Fe);function FFe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var eu=FFe;const dI=Fe(eu);var NFe=typeof va=="object"&&va&&va.Object===Object&&va,qhe=NFe,LFe=qhe,BFe=typeof self=="object"&&self&&self.Object===Object&&self,VFe=LFe||BFe||Function("return this")(),tu=VFe,zFe=tu,UFe=function(){return zFe.Date.now()},HFe=UFe,WFe=/\s/;function GFe(e){for(var t=e.length;t--&&WFe.test(e.charAt(t)););return t}var YFe=GFe,qFe=YFe,KFe=/^\s+/;function ZFe(e){return e&&e.slice(0,qFe(e)+1).replace(KFe,"")}var Khe=ZFe,XFe=tu,JFe=XFe.Symbol,Tv=JFe,Nq=Tv,Zhe=Object.prototype,QFe=Zhe.hasOwnProperty,e4e=Zhe.toString,Zb=Nq?Nq.toStringTag:void 0;function t4e(e){var t=QFe.call(e,Zb),n=e[Zb];try{e[Zb]=void 0;var r=!0}catch{}var i=e4e.call(e);return r&&(t?e[Zb]=n:delete e[Zb]),i}var n4e=t4e,r4e=Object.prototype,i4e=r4e.toString;function a4e(e){return i4e.call(e)}var o4e=a4e,Lq=Tv,s4e=n4e,l4e=o4e,u4e="[object Null]",c4e="[object Undefined]",Bq=Lq?Lq.toStringTag:void 0;function d4e(e){return e==null?e===void 0?c4e:u4e:Bq&&Bq in Object(e)?s4e(e):l4e(e)}var jf=d4e;function f4e(e){return e!=null&&typeof e=="object"}var il=f4e,h4e=jf,p4e=il,m4e="[object Symbol]";function g4e(e){return typeof e=="symbol"||p4e(e)&&h4e(e)==m4e}var e0=g4e,y4e=Khe,Vq=eu,v4e=e0,zq=0/0,b4e=/^[-+]0x[0-9a-f]+$/i,x4e=/^0b[01]+$/i,w4e=/^0o[0-7]+$/i,C4e=parseInt;function S4e(e){if(typeof e=="number")return e;if(v4e(e))return zq;if(Vq(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vq(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=y4e(e);var n=x4e.test(e);return n||w4e.test(e)?C4e(e.slice(2),n?2:8):b4e.test(e)?zq:+e}var Xhe=S4e,E4e=eu,EO=HFe,Uq=Xhe,k4e="Expected a function",_4e=Math.max,T4e=Math.min;function A4e(e,t,n){var r,i,a,o,s,l,c=0,d=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(k4e);t=Uq(t)||0,E4e(n)&&(d=!!n.leading,h="maxWait"in n,a=h?_4e(Uq(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(E){var k=r,_=i;return r=i=void 0,c=E,o=e.apply(_,k),o}function g(E){return c=E,s=setTimeout(b,t),d?m(E):o}function y(E){var k=E-l,_=E-c,T=t-k;return h?T4e(T,a-_):T}function v(E){var k=E-l,_=E-c;return l===void 0||k>=t||k<0||h&&_>=a}function b(){var E=EO();if(v(E))return x(E);s=setTimeout(b,y(E))}function x(E){return s=void 0,p&&r?m(E):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function C(){return s===void 0?o:x(EO())}function S(){var E=EO(),k=v(E);if(r=arguments,i=this,l=E,k){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(b,t),m(l)}return s===void 0&&(s=setTimeout(b,t)),o}return S.cancel=w,S.flush=C,S}var Jhe=A4e;const t0=Fe(Jhe),rr={_version:2,avatar:{sizes:[{distance:-4,size:19},{distance:-4,size:25},{distance:-8,size:33},{distance:-12,size:49}],focusRing:{offset:1,width:1}},button:{textWeight:"medium",border:{width:1},focusRing:{offset:-1,width:1}},card:{border:{width:1},focusRing:{offset:-1,width:1},shadow:{outline:.5}},container:[320,640,960,1280,1600,1920],media:[360,600,900,1200,1800,2400],layer:{dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}},radius:[0,1,3,6,9,12,21],shadow:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-2],penumbra:[0,6,10,0],ambient:[0,1,18,1]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{border:{width:1},checkbox:{size:17,focusRing:{offset:-1,width:1}},radio:{size:17,markSize:9,focusRing:{offset:-1,width:1}},switch:{width:25,height:17,padding:5,transitionDurationMs:150,transitionTimingFunction:"ease-out",focusRing:{offset:1,width:1}},select:{focusRing:{offset:-1,width:1}},text:{focusRing:{offset:-1,width:1}}},style:{button:{root:{transition:"background-color 100ms,border-color 100ms,color 100ms"}}}},Hq=new WeakMap;function Is(e){var i,a,o;const t=Hq.get(e);if(t)return t;const n=Ir(e,e.card.enabled),r={_blend:e._blend||(e.dark?"screen":"multiply"),_dark:e.dark,accent:n.accent,avatar:n.avatar,backdrop:e.base.shadow.ambient,badge:n.badge,bg:e.base.bg,border:e.base.border,button:{default:Bk(e,e.button.default),ghost:Bk(e,e.button.ghost),bleed:Bk(e,e.button.bleed)},code:n.code,fg:e.base.fg,focusRing:e.base.focusRing,icon:n.muted.fg,input:{default:Wq(e.input.default),invalid:Wq(e.input.invalid)},kbd:n.kbd,link:n.link,muted:{...n.muted,bg:((i=e.selectable)==null?void 0:i.default.enabled.bg2)||e.base.bg},selectable:Bk(e,e.selectable||e.muted),shadow:e.base.shadow,skeleton:{from:((a=e.skeleton)==null?void 0:a.from)||e.base.border,to:((o=e.skeleton)==null?void 0:o.to)||e.base.border},syntax:e.syntax};return Hq.set(e,r),r}function Bk(e,t){return{default:{enabled:Ir(e,t.default.enabled),hovered:Ir(e,t.default.hovered),pressed:Ir(e,t.default.pressed),selected:Ir(e,t.default.selected),disabled:Ir(e,t.default.disabled)},primary:{enabled:Ir(e,t.primary.enabled),hovered:Ir(e,t.primary.hovered),pressed:Ir(e,t.primary.pressed),selected:Ir(e,t.primary.selected),disabled:Ir(e,t.primary.disabled)},positive:{enabled:Ir(e,t.positive.enabled),hovered:Ir(e,t.positive.hovered),pressed:Ir(e,t.positive.pressed),selected:Ir(e,t.positive.selected),disabled:Ir(e,t.positive.disabled)},caution:{enabled:Ir(e,t.caution.enabled),hovered:Ir(e,t.caution.hovered),pressed:Ir(e,t.caution.pressed),selected:Ir(e,t.caution.selected),disabled:Ir(e,t.caution.disabled)},critical:{enabled:Ir(e,t.critical.enabled),hovered:Ir(e,t.critical.hovered),pressed:Ir(e,t.critical.pressed),selected:Ir(e,t.critical.selected),disabled:Ir(e,t.critical.disabled)}}}function Ir(e,t){var n,r;return{...t,avatar:{gray:{bg:e.spot.gray,fg:e.base.bg},blue:{bg:e.spot.blue,fg:e.base.bg},purple:{bg:e.spot.purple,fg:e.base.bg},magenta:{bg:e.spot.magenta,fg:e.base.bg},red:{bg:e.spot.red,fg:e.base.bg},orange:{bg:e.spot.orange,fg:e.base.bg},yellow:{bg:e.spot.yellow,fg:e.base.bg},green:{bg:e.spot.green,fg:e.base.bg},cyan:{bg:e.spot.cyan,fg:e.base.bg}},badge:{default:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,dot:e.muted.default.enabled.muted.fg,icon:e.muted.default.enabled.muted.fg},primary:{bg:e.muted.primary.enabled.bg,fg:e.muted.primary.enabled.fg,dot:e.muted.primary.enabled.muted.fg,icon:e.muted.primary.enabled.muted.fg},positive:{bg:e.muted.positive.enabled.bg,fg:e.muted.positive.enabled.fg,dot:e.muted.positive.enabled.muted.fg,icon:e.muted.positive.enabled.muted.fg},caution:{bg:e.muted.caution.enabled.bg,fg:e.muted.caution.enabled.fg,dot:e.muted.caution.enabled.muted.fg,icon:e.muted.caution.enabled.muted.fg},critical:{bg:e.muted.critical.enabled.bg,fg:e.muted.critical.enabled.fg,dot:e.muted.critical.enabled.muted.fg,icon:e.muted.critical.enabled.muted.fg}},kbd:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,border:e.muted.default.enabled.border},muted:{...e.muted.default.enabled.muted,bg:t.bg2||t.bg},skeleton:{from:((n=t.skeleton)==null?void 0:n.from)||t.border,to:((r=t.skeleton)==null?void 0:r.to)||t.border}}}function Wq(e){return{enabled:Vk(e.enabled),disabled:Vk(e.disabled),readOnly:Vk(e.readOnly),hovered:Vk(e.hovered)}}function Vk(e){return{bg:e.bg,border:e.border,fg:e.fg,muted:{bg:e.bg2},placeholder:e.placeholder}}const Gq=new WeakMap;function Te(e){var r;if((r=e.sanity.v2)!=null&&r._resolved)return e.sanity.v2;const t=Gq.get(e);if(t)return t;const n={_version:2,_resolved:!0,avatar:{...rr.avatar,...e.sanity.avatar},button:{...rr.button,...e.sanity.button},card:rr.card,color:Is(e.sanity.color),container:e.sanity.container,font:e.sanity.fonts,input:{...rr.input,...e.sanity.input,checkbox:{...rr.input.checkbox,...e.sanity.input.checkbox},radio:{...rr.input.radio,...e.sanity.input.radio},switch:{...rr.input.switch,...e.sanity.input.switch}},layer:e.sanity.layer??rr.layer,media:e.sanity.media,radius:e.sanity.radius,shadow:e.sanity.shadows,space:e.sanity.space,style:e.sanity.styles};return Gq.set(e,n),n}const G7=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],j4e=["50","100","200","300","400","500","600","700","800","900","950"],e_={title:"Black",hex:"#0d0e12"},Gd={title:"White",hex:"#ffffff"},kw={50:{title:"Gray 50",hex:"#f6f6f8"},100:{title:"Gray 100",hex:"#eeeef1"},200:{title:"Gray 200",hex:"#e3e4e8"},300:{title:"Gray 300",hex:"#bbbdc9"},400:{title:"Gray 400",hex:"#9499ad"},500:{title:"Gray 500",hex:"#727892"},600:{title:"Gray 600",hex:"#515870"},700:{title:"Gray 700",hex:"#383d51"},800:{title:"Gray 800",hex:"#252837"},900:{title:"Gray 900",hex:"#1b1d27"},950:{title:"Gray 950",hex:"#13141b"}},Jx={50:{title:"Blue 50",hex:"#f5f8ff"},100:{title:"Blue 100",hex:"#e5edff"},200:{title:"Blue 200",hex:"#dbe5ff"},300:{title:"Blue 300",hex:"#a8bfff"},400:{title:"Blue 400",hex:"#7595ff"},500:{title:"Blue 500",hex:"#556bfc"},600:{title:"Blue 600",hex:"#4043e7"},700:{title:"Blue 700",hex:"#2927aa"},800:{title:"Blue 800",hex:"#192457"},900:{title:"Blue 900",hex:"#161a41"},950:{title:"Blue 950",hex:"#101228"}},Qhe={50:{title:"Purple 50",hex:"#f8f5ff"},100:{title:"Purple 100",hex:"#f1ebff"},200:{title:"Purple 200",hex:"#ece1fe"},300:{title:"Purple 300",hex:"#ccb1fc"},400:{title:"Purple 400",hex:"#b087f7"},500:{title:"Purple 500",hex:"#8f57ef"},600:{title:"Purple 600",hex:"#721fe5"},700:{title:"Purple 700",hex:"#4c1a9e"},800:{title:"Purple 800",hex:"#2f1862"},900:{title:"Purple 900",hex:"#23173f"},950:{title:"Purple 950",hex:"#181128"}},I4e={50:{title:"Magenta 50",hex:"#fef6f9"},100:{title:"Magenta 100",hex:"#fde8ef"},200:{title:"Magenta 200",hex:"#fcdee9"},300:{title:"Magenta 300",hex:"#f7abc5"},400:{title:"Magenta 400",hex:"#f0709b"},500:{title:"Magenta 500",hex:"#e72767"},600:{title:"Magenta 600",hex:"#b11651"},700:{title:"Magenta 700",hex:"#7c1342"},800:{title:"Magenta 800",hex:"#4b1130"},900:{title:"Magenta 900",hex:"#341325"},950:{title:"Magenta 950",hex:"#1f0f14"}},hg={50:{title:"Red 50",hex:"#fff6f5"},100:{title:"Red 100",hex:"#ffe7e5"},200:{title:"Red 200",hex:"#ffdedc"},300:{title:"Red 300",hex:"#fdada5"},400:{title:"Red 400",hex:"#f77769"},500:{title:"Red 500",hex:"#ef4434"},600:{title:"Red 600",hex:"#cc2819"},700:{title:"Red 700",hex:"#8b2018"},800:{title:"Red 800",hex:"#4d1714"},900:{title:"Red 900",hex:"#321615"},950:{title:"Red 950",hex:"#1e1011"}},D4e={50:{title:"Orange 50",hex:"#fff7f0"},100:{title:"Orange 100",hex:"#ffeadb"},200:{title:"Orange 200",hex:"#ffddc7"},300:{title:"Orange 300",hex:"#ffb685"},400:{title:"Orange 400",hex:"#ff8e42"},500:{title:"Orange 500",hex:"#fa6400"},600:{title:"Orange 600",hex:"#b14802"},700:{title:"Orange 700",hex:"#7c3404"},800:{title:"Orange 800",hex:"#461e07"},900:{title:"Orange 900",hex:"#32160b"},950:{title:"Orange 950",hex:"#21120d"}},dT={50:{title:"Yellow 50",hex:"#fefae1"},100:{title:"Yellow 100",hex:"#fcf3bb"},200:{title:"Yellow 200",hex:"#f9e994"},300:{title:"Yellow 300",hex:"#f7d455"},400:{title:"Yellow 400",hex:"#f9bc15"},500:{title:"Yellow 500",hex:"#d28a04"},600:{title:"Yellow 600",hex:"#965908"},700:{title:"Yellow 700",hex:"#653a0b"},800:{title:"Yellow 800",hex:"#3b220c"},900:{title:"Yellow 900",hex:"#271a11"},950:{title:"Yellow 950",hex:"#181410"}},UF={50:{title:"Green 50",hex:"#e7fef5"},100:{title:"Green 100",hex:"#c5fce8"},200:{title:"Green 200",hex:"#a9f9dc"},300:{title:"Green 300",hex:"#59f3ba"},400:{title:"Green 400",hex:"#0ff0a1"},500:{title:"Green 500",hex:"#04b97a"},600:{title:"Green 600",hex:"#01794f"},700:{title:"Green 700",hex:"#015133"},800:{title:"Green 800",hex:"#023120"},900:{title:"Green 900",hex:"#06231a"},950:{title:"Green 950",hex:"#071715"}},M4e={50:{title:"Cyan 50",hex:"#e7fefe"},100:{title:"Cyan 100",hex:"#c5fcfc"},200:{title:"Cyan 200",hex:"#96f8f8"},300:{title:"Cyan 300",hex:"#62efef"},400:{title:"Cyan 400",hex:"#18e2e2"},500:{title:"Cyan 500",hex:"#04b8be"},600:{title:"Cyan 600",hex:"#037782"},700:{title:"Cyan 700",hex:"#024950"},800:{title:"Cyan 800",hex:"#042f34"},900:{title:"Cyan 900",hex:"#072227"},950:{title:"Cyan 950",hex:"#0d181c"}},rt={gray:kw,blue:Jx,purple:Qhe,magenta:I4e,red:hg,orange:D4e,yellow:dT,green:UF,cyan:M4e},R4e={black:e_,white:Gd,...rt},O4e={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:19,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:22,iconSize:33,lineHeight:31,letterSpacing:0}]},heading:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:17,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:21,iconSize:33,lineHeight:29,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:27,iconSize:41,lineHeight:35,letterSpacing:0},{ascenderHeight:9.5,descenderHeight:8.5,fontSize:33,iconSize:49,lineHeight:41,letterSpacing:0},{ascenderHeight:10.5,descenderHeight:9.5,fontSize:38,iconSize:53,lineHeight:47,letterSpacing:0}]},label:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:8.1,iconSize:13,lineHeight:10,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:9.5,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:10.8,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.25,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:13.6,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:15,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:18,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:21,iconSize:33,lineHeight:31,letterSpacing:0}]}};function Yq(e){return e._version===2}const qq=new WeakMap;function $4e(e){if(e.v2)return e.v2;const t=qq.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:a,focusRing:o,fonts:s,input:l,layer:c,media:d,radius:h,shadows:p,space:m,styles:g}=e,y={_version:2,avatar:{...rr.avatar,...n},button:{...rr.button,...r},card:rr.card,color:{light:{transparent:Is(i.light.transparent),default:Is(i.light.default),primary:Is(i.light.primary),positive:Is(i.light.positive),caution:Is(i.light.caution),critical:Is(i.light.critical)},dark:{transparent:Is(i.dark.transparent),default:Is(i.dark.default),primary:Is(i.dark.primary),positive:Is(i.dark.positive),caution:Is(i.dark.caution),critical:Is(i.dark.critical)}},container:a,font:s,input:{...rr.input,...l,checkbox:{...rr.input.checkbox,...l.checkbox},radio:{...rr.input.radio,...l.radio},switch:{...rr.input.switch,...l.switch}},layer:c??rr.layer,media:d,radius:h,shadow:p,space:m,style:g};return qq.set(e,y),y}const P4e=new WeakMap;function epe(e){const t=P4e.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:a,font:o,input:s,media:l,radius:c,shadow:d,space:h,style:p}=e;return{_version:0,avatar:n,button:r,container:a,color:{light:{transparent:pl(i.light.transparent),default:pl(i.light.default),primary:pl(i.light.primary),positive:pl(i.light.positive),caution:pl(i.light.caution),critical:pl(i.light.critical)},dark:{transparent:pl(i.dark.transparent),default:pl(i.dark.default),primary:pl(i.dark.primary),positive:pl(i.dark.positive),caution:pl(i.dark.caution),critical:pl(i.dark.critical)}},focusRing:s.text.focusRing,fonts:o,input:s,media:l,radius:c,shadows:d,space:h,styles:p,v2:e}}function pl(e){return{base:{bg:e.bg,fg:e.fg,border:e.border,focusRing:e.focusRing,shadow:e.shadow},button:e.button,card:e.selectable.default,dark:e._dark,input:{default:Kq(e.input.default),invalid:Kq(e.input.invalid)},muted:{...e.button.ghost,transparent:e.button.ghost.default},solid:{...e.button.default,transparent:e.button.default.default},selectable:e.selectable,spot:{gray:e.avatar.gray.bg,blue:e.avatar.blue.bg,purple:e.avatar.purple.bg,magenta:e.avatar.magenta.bg,red:e.avatar.red.bg,orange:e.avatar.orange.bg,yellow:e.avatar.yellow.bg,green:e.avatar.green.bg,cyan:e.avatar.cyan.bg},syntax:e.syntax}}function Kq(e){return{enabled:zk(e.enabled),disabled:zk(e.disabled),readOnly:zk(e.readOnly),hovered:zk(e.hovered)}}function zk(e){return{bg:e.bg,bg2:e.muted.bg,border:e.border,fg:e.fg,placeholder:e.placeholder}}const F4e=["multiply","screen"],tpe=["transparent","default","primary","positive","caution","critical"],YS=["default","primary","positive","caution","critical"],qS=["enabled","hovered","pressed","selected","disabled"],npe=["default","ghost","bleed"],rpe=["default","invalid"],ipe=["enabled","hovered","readOnly","disabled"];function N4e(e){return F4e.includes(e)}function L4e(e){return G7.includes(e)}function Zq(e){return j4e.includes(e)}[...tpe];[...YS];[...qS];[...rpe];[...ipe];function kO(e){return/^\d+%$/.test(e)}function ape(e){const t=e.split("/");let n=t.shift()||"";const[r,i]=n.split(" ");if(Zq(r)){const a=r,o=t.shift()||"";if(kO(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",tint:a,mix:s}}if(_O(o)){const s=Number(o);return{type:"color",tint:a,opacity:s}}return{type:"color",tint:a}}if(B4e(r)){const a=r,o=t.shift()||"";if(kO(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",key:a,mix:s}}if(_O(o)){const s=Number(o);return{type:"color",key:a,opacity:s}}return{type:"color",key:a}}if(L4e(r)){const a=r;n=t.shift()||"";const[o,s]=n.split(" ");if(Zq(o)){const l=o,c=t.shift()||"";if(kO(s)){const d=Number(s.slice(0,-1))/100;return{type:"color",hue:a,tint:l,mix:d}}if(_O(c)){const d=Number(c);return{type:"color",hue:a,tint:l,opacity:d}}return{type:"color",hue:a,tint:l}}return{type:"hue",value:a}}if(N4e(r))return{type:"blendMode",value:r}}function B4e(e){return e==="black"||e==="white"}function _O(e){return e==="0"||/^0\.[0-9]+$/.test(e)||e==="1"}function V4e(e){let t="";return e.key==="black"||e.key==="white"?t=e.key:t=`${e.hue}/${e.tint}`,e.mix!==void 0?`${t} ${e.mix*100}%`:(e.opacity!==void 0&&(t+=`/${e.opacity}`),t)}const z4e=["500","500"];function Re(e,t=z4e){const{hue:n,scheme:r}=e,i=ape(t[r==="light"?0:1]);if(!i||i.type!=="color")throw new Error(`Invalid color token: ${t[0]}`);return V4e({...i,hue:i.hue||n})}const U4e={base:{"*":{_blend:["multiply","screen"],accent:{fg:["purple/600","purple/400"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},backdrop:["gray/200/0.5","black/0.5"],badge:{"*":{bg:["100","900"],fg:["600","400"],icon:["500","500"],dot:["500","500"]},positive:{bg:["200 50%","900"],fg:["600","500"]},caution:{bg:["200 50%","900"],fg:["600","500"]}},bg:["50","950"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["800","200"],focusRing:["blue/500","blue/500"],icon:["600","400"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/600","blue/300"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},shadow:{outline:["500/0.3","500/0.4"],umbra:["gray/500/0.1","black/0.2"],penumbra:["gray/500/0.07","black/0.14"],ambient:["gray/500/0.06","black/0.12"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},transparent:{bg:["50","black"]},default:{bg:["white","950"],fg:["800","200"],muted:{fg:["600","400"]}},primary:{_hue:"blue"},positive:{_hue:"green",shadow:{outline:["500/0.4","500/0.4"]}},caution:{_hue:"yellow",shadow:{outline:["600/0.3","500/0.4"]}},critical:{_hue:"red"}},button:{default:{"*":{"*":{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500/0","400/0"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},hovered:{bg:["700","300"],border:["700/0","300/0"]},pressed:{bg:["700","300"]},selected:{bg:["700","300"]},disabled:{_hue:"gray",accent:{fg:["100 70%","900 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/500","gray/400"],fg:["white","black"]}},badge:{"*":{bg:["gray/700","gray/300"],fg:["white","black"],dot:["white","black"],icon:["white","black"]}},bg:["300","600"],code:{bg:["950","50"],fg:["300","600"]},fg:["300","600"],muted:{bg:["950","50"],fg:["300","600"]},kbd:{bg:["black","white"],fg:["white","black"],border:["700","300"]},link:{fg:["100 70%","900 70%"]}}},default:{"*":{avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},bg:["800","200"],muted:{bg:["950","50"],fg:["400","600"]}},hovered:{bg:["900","100"]},pressed:{bg:["black","white"]},selected:{bg:["black","white"]}}},ghost:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 60%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["50","950"],border:["100","900"],code:{bg:["500 10%","400 10%"],fg:["700 60%","400 60%"]},fg:["600","400"],icon:["700 60%","300 60%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 60%","blue/300 60%"]},muted:{bg:["100","950"],fg:["700 60%","300 60%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["100","900"],fg:["700","300"]},pressed:{bg:["100","900"],fg:["800","200"]},selected:{bg:["100","900"],fg:["800","200"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["300","700"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}},positive:{"*":{border:["600 20%","800"]}},caution:{"*":{border:["600 20%","800"]}}},bleed:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["white/0","black/0"],code:{bg:["50","950"],fg:["700 75%","300 75%"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["700","300"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"],icon:["700 70%","400 70%"]},pressed:{bg:["100","900"],fg:["800","200"],icon:["800 70%","200 70%"]},selected:{bg:["100","900"],fg:["800","200"],icon:["800 60%","200 60%"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["400","600"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}}}},input:{"*":{"*":{_blend:["multiply","screen"],bg:["white","black"],border:["200","800"],fg:["black","200"],muted:{bg:["50","950"]},placeholder:["400","600"]},hovered:{border:["300","700"]},readOnly:{bg:["50","950"],border:["200","800"],fg:["800","200"]},disabled:{fg:["400","600"],border:["100","900"],placeholder:["200","800 50%"]}},invalid:{"*":{_hue:"red",bg:["100","950"]}}},selectable:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"]},pressed:{bg:["100","900"]},selected:{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500 20%","400 20%"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["500 10%","400 10%"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{bg:["50 50%","950 50%"],fg:["200","800"]}}},default:{selected:{_hue:"blue"}},critical:{disabled:{bg:["50 50%","950 50%"]}}},syntax:{atrule:["purple/600","purple/400"],attrName:["green/600","green/400"],attrValue:["yellow/600","yellow/400"],attribute:["yellow/600","yellow/400"],boolean:["purple/600","purple/400"],builtin:["purple/600","purple/400"],cdata:["yellow/600","yellow/400"],char:["yellow/600","yellow/400"],class:["orange/600","orange/400"],className:["cyan/600","cyan/400"],comment:["gray/400","gray/600"],constant:["purple/600","purple/400"],deleted:["red/600","red/400"],entity:["red/600","red/400"],function:["green/600","green/400"],hexcode:["blue/600","blue/400"],id:["purple/600","purple/400"],important:["purple/600","purple/400"],inserted:["yellow/600","yellow/400"],keyword:["magenta/600","magenta/400"],number:["purple/600","purple/400"],operator:["magenta/600","magenta/400"],property:["blue/600","blue/400"],pseudoClass:["yellow/600","yellow/400"],pseudoElement:["yellow/600","yellow/400"],punctuation:["gray/600","gray/400"],regex:["blue/600","blue/400"],selector:["red/600","red/400"],string:["yellow/600","yellow/400"],symbol:["purple/600","purple/400"],tag:["red/600","red/400"],unit:["orange/600","orange/400"],url:["red/600","red/400"],variable:["red/600","red/400"]}};function Xq(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}function Nn(...e){const t=e.filter(Boolean);return t.length===0?{}:t.reduce(H4e,{})}function H4e(e,t){for(const n of Object.keys(t)){const r=e[n],i=t[n];Xq(r)&&Xq(i)?e[n]=Nn(r,i):e[n]=i}return e}function W4e(e){const t=Nn(U4e,e);return{base:G4e(t),button:q4e(t),input:J4e(t),selectable:tNe(t),syntax:t.syntax}}function G4e(e){const t={};for(const n of tpe)t[n]=Y4e(e,n);return t}function Y4e(e,t){var i,a,o,s,l,c,d,h,p,m,g,y,v,b,x,w,C,S,E,k,_,T,j,A,I,M,D,O,R,F,P,V,U,H,W,Z,J,re,G,te,X,K;const n=Nn((i=e==null?void 0:e.base)==null?void 0:i["*"],(a=e==null?void 0:e.base)==null?void 0:a[t]),r=n._hue||((s=(o=e==null?void 0:e.base)==null?void 0:o[t])==null?void 0:s._hue)||"gray";return{...n,_hue:r,avatar:{gray:Nn({_hue:"gray"},(l=n.avatar)==null?void 0:l["*"],(c=n.avatar)==null?void 0:c.gray),blue:Nn({_hue:"blue"},(d=n.avatar)==null?void 0:d["*"],(h=n.avatar)==null?void 0:h.blue),purple:Nn({_hue:"purple"},(p=n.avatar)==null?void 0:p["*"],(m=n.avatar)==null?void 0:m.purple),magenta:Nn({_hue:"magenta"},(g=n.avatar)==null?void 0:g["*"],(y=n.avatar)==null?void 0:y.magenta),red:Nn({_hue:"red"},(v=n.avatar)==null?void 0:v["*"],(b=n.avatar)==null?void 0:b.red),orange:Nn({_hue:"orange"},(x=n.avatar)==null?void 0:x["*"],(w=n.avatar)==null?void 0:w.orange),yellow:Nn({_hue:"yellow"},(C=n.avatar)==null?void 0:C["*"],(S=n.avatar)==null?void 0:S.yellow),green:Nn({_hue:"green"},(E=n.avatar)==null?void 0:E["*"],(k=n.avatar)==null?void 0:k.green),cyan:Nn({_hue:"cyan"},(_=n.avatar)==null?void 0:_["*"],(T=n.avatar)==null?void 0:T.cyan)},badge:{default:{_hue:((A=(j=e==null?void 0:e.base)==null?void 0:j.default)==null?void 0:A._hue)||r,...(I=n.badge)==null?void 0:I["*"],...(M=n.badge)==null?void 0:M.default},primary:{_hue:((O=(D=e==null?void 0:e.base)==null?void 0:D.primary)==null?void 0:O._hue)||r,...(R=n.badge)==null?void 0:R["*"],...(F=n.badge)==null?void 0:F.primary},positive:{_hue:((V=(P=e==null?void 0:e.base)==null?void 0:P.positive)==null?void 0:V._hue)||r,...(U=n.badge)==null?void 0:U["*"],...(H=n.badge)==null?void 0:H.positive},caution:{_hue:((Z=(W=e==null?void 0:e.base)==null?void 0:W.caution)==null?void 0:Z._hue)||r,...(J=n.badge)==null?void 0:J["*"],...(re=n.badge)==null?void 0:re.caution},critical:{_hue:((te=(G=e==null?void 0:e.base)==null?void 0:G.critical)==null?void 0:te._hue)||r,...(X=n.badge)==null?void 0:X["*"],...(K=n.badge)==null?void 0:K.critical}}}}function q4e(e){const t={};for(const n of npe)t[n]=K4e(e,n);return t}function K4e(e,t){const n={};for(const r of YS)n[r]=Z4e(e,t,r);return n}function Z4e(e,t,n){const r={};for(const i of qS)r[i]=X4e(e,n,t,i);return r}function X4e(e,t,n,r){var o,s,l,c,d,h,p,m,g,y,v,b,x,w,C,S,E,k,_,T,j,A,I,M,D,O,R,F,P,V,U,H,W,Z,J,re,G,te,X,K,Q,ee,se,le,oe,ue,ye,Ee,ke,ge,je,Ve;const i=Nn((l=(s=(o=e==null?void 0:e.button)==null?void 0:o[n])==null?void 0:s["*"])==null?void 0:l["*"],(h=(d=(c=e==null?void 0:e.button)==null?void 0:c[n])==null?void 0:d[t])==null?void 0:h["*"],(g=(m=(p=e==null?void 0:e.button)==null?void 0:p[n])==null?void 0:m["*"])==null?void 0:g[r],(b=(v=(y=e==null?void 0:e.button)==null?void 0:y[n])==null?void 0:v[t])==null?void 0:b[r]),a=i._hue||((w=(x=e==null?void 0:e.base)==null?void 0:x[t])==null?void 0:w._hue);return{...i,_hue:a,avatar:{gray:Nn({_hue:"gray"},(C=i.avatar)==null?void 0:C["*"],(S=i.avatar)==null?void 0:S.gray),blue:Nn({_hue:"blue"},(E=i.avatar)==null?void 0:E["*"],(k=i.avatar)==null?void 0:k.blue),purple:Nn({_hue:"purple"},(_=i.avatar)==null?void 0:_["*"],(T=i.avatar)==null?void 0:T.purple),magenta:Nn({_hue:"magenta"},(j=i.avatar)==null?void 0:j["*"],(A=i.avatar)==null?void 0:A.magenta),red:Nn({_hue:"red"},(I=i.avatar)==null?void 0:I["*"],(M=i.avatar)==null?void 0:M.red),orange:Nn({_hue:"orange"},(D=i.avatar)==null?void 0:D["*"],(O=i.avatar)==null?void 0:O.orange),yellow:Nn({_hue:"yellow"},(R=i.avatar)==null?void 0:R["*"],(F=i.avatar)==null?void 0:F.yellow),green:Nn({_hue:"green"},(P=i.avatar)==null?void 0:P["*"],(V=i.avatar)==null?void 0:V.green),cyan:Nn({_hue:"cyan"},(U=i.avatar)==null?void 0:U["*"],(H=i.avatar)==null?void 0:H.cyan)},badge:{default:{_hue:(Z=(W=e==null?void 0:e.base)==null?void 0:W.default)==null?void 0:Z._hue,...(J=i.badge)==null?void 0:J["*"],...(re=i.badge)==null?void 0:re.default},primary:{_hue:(te=(G=e==null?void 0:e.base)==null?void 0:G.primary)==null?void 0:te._hue,...(X=i.badge)==null?void 0:X["*"],...(K=i.badge)==null?void 0:K.primary},positive:{_hue:(ee=(Q=e==null?void 0:e.base)==null?void 0:Q.positive)==null?void 0:ee._hue,...(se=i.badge)==null?void 0:se["*"],...(le=i.badge)==null?void 0:le.positive},caution:{_hue:(ue=(oe=e==null?void 0:e.base)==null?void 0:oe.caution)==null?void 0:ue._hue,...(ye=i.badge)==null?void 0:ye["*"],...(Ee=i.badge)==null?void 0:Ee.caution},critical:{_hue:(ge=(ke=e==null?void 0:e.base)==null?void 0:ke.critical)==null?void 0:ge._hue,...(je=i.badge)==null?void 0:je["*"],...(Ve=i.badge)==null?void 0:Ve.critical}}}}function J4e(e){const t={};for(const n of rpe)t[n]=Q4e(e,n);return t}function Q4e(e,t){const n={};for(const r of ipe)n[r]=eNe(e,t,r);return n}function eNe(e,t,n){var a,o,s,l,c,d,h,p,m,g;const r=Nn((o=(a=e==null?void 0:e.input)==null?void 0:a["*"])==null?void 0:o["*"],(l=(s=e==null?void 0:e.input)==null?void 0:s[t])==null?void 0:l["*"],(d=(c=e==null?void 0:e.input)==null?void 0:c["*"])==null?void 0:d[n],(p=(h=e==null?void 0:e.input)==null?void 0:h[t])==null?void 0:p[n]),i=r._hue||((g=(m=e==null?void 0:e.input)==null?void 0:m[t])==null?void 0:g._hue);return{...r,_hue:i}}function tNe(e){const t={};for(const n of YS)t[n]=nNe(e,n);return t}function nNe(e,t){var r,i,a,o;const n={_hue:((i=(r=e==null?void 0:e.selectable)==null?void 0:r[t])==null?void 0:i._hue)||((o=(a=e==null?void 0:e.base)==null?void 0:a[t])==null?void 0:o._hue)};for(const s of qS)n[s]=rNe(e,t,s);return n}function rNe(e,t,n){var a,o,s,l,c,d,h,p,m,g,y,v,b,x,w,C,S,E,k,_,T,j,A,I,M,D,O,R,F,P,V,U,H,W,Z,J,re,G,te,X,K,Q,ee,se,le,oe,ue,ye;const r=Nn((o=(a=e==null?void 0:e.selectable)==null?void 0:a["*"])==null?void 0:o["*"],(l=(s=e==null?void 0:e.selectable)==null?void 0:s[t])==null?void 0:l["*"],(d=(c=e==null?void 0:e.selectable)==null?void 0:c["*"])==null?void 0:d[n],(p=(h=e==null?void 0:e.selectable)==null?void 0:h[t])==null?void 0:p[n]),i=r._hue||((g=(m=e==null?void 0:e.base)==null?void 0:m[t])==null?void 0:g._hue);return{...r,_hue:i,avatar:{gray:Nn({_hue:"gray"},(y=r.avatar)==null?void 0:y["*"],(v=r.avatar)==null?void 0:v.gray),blue:Nn({_hue:"blue"},(b=r.avatar)==null?void 0:b["*"],(x=r.avatar)==null?void 0:x.blue),purple:Nn({_hue:"purple"},(w=r.avatar)==null?void 0:w["*"],(C=r.avatar)==null?void 0:C.purple),magenta:Nn({_hue:"magenta"},(S=r.avatar)==null?void 0:S["*"],(E=r.avatar)==null?void 0:E.magenta),red:Nn({_hue:"red"},(k=r.avatar)==null?void 0:k["*"],(_=r.avatar)==null?void 0:_.red),orange:Nn({_hue:"orange"},(T=r.avatar)==null?void 0:T["*"],(j=r.avatar)==null?void 0:j.orange),yellow:Nn({_hue:"yellow"},(A=r.avatar)==null?void 0:A["*"],(I=r.avatar)==null?void 0:I.yellow),green:Nn({_hue:"green"},(M=r.avatar)==null?void 0:M["*"],(D=r.avatar)==null?void 0:D.green),cyan:Nn({_hue:"cyan"},(O=r.avatar)==null?void 0:O["*"],(R=r.avatar)==null?void 0:R.cyan)},badge:{default:{_hue:(P=(F=e==null?void 0:e.base)==null?void 0:F.default)==null?void 0:P._hue,...(V=r.badge)==null?void 0:V["*"],...(U=r.badge)==null?void 0:U.default},primary:{_hue:(W=(H=e==null?void 0:e.base)==null?void 0:H.primary)==null?void 0:W._hue,...(Z=r.badge)==null?void 0:Z["*"],...(J=r.badge)==null?void 0:J.primary},positive:{_hue:(G=(re=e==null?void 0:e.base)==null?void 0:re.positive)==null?void 0:G._hue,...(te=r.badge)==null?void 0:te["*"],...(X=r.badge)==null?void 0:X.positive},caution:{_hue:(Q=(K=e==null?void 0:e.base)==null?void 0:K.caution)==null?void 0:Q._hue,...(ee=r.badge)==null?void 0:ee["*"],...(se=r.badge)==null?void 0:se.caution},critical:{_hue:(oe=(le=e==null?void 0:e.base)==null?void 0:le.critical)==null?void 0:oe._hue,...(ue=r.badge)==null?void 0:ue["*"],...(ye=r.badge)==null?void 0:ye.critical}}}}function iNe(e){const t={...e,color:W4e(e==null?void 0:e.color)};return{light:Jq({scheme:"light"},t),dark:Jq({scheme:"dark"},t)}}function Jq(e,t){const{scheme:n}=e;return{transparent:z0({scheme:n,tone:"transparent"},t),default:z0({scheme:n,tone:"default"},t),primary:z0({scheme:n,tone:"primary"},t),positive:z0({scheme:n,tone:"positive"},t),caution:z0({scheme:n,tone:"caution"},t),critical:z0({scheme:n,tone:"critical"},t)}}function z0(e,t){var o,s,l,c,d,h,p,m,g,y,v,b,x;const{scheme:n,tone:r}=e,i=(s=(o=t==null?void 0:t.color)==null?void 0:o.base)==null?void 0:s[r],a={hue:(i==null?void 0:i._hue)||"gray",scheme:n};return{_blend:((i==null?void 0:i._blend)||["multiply","screen"])[n==="light"?0:1],_dark:n==="dark",accent:{fg:Re(a,(l=i==null?void 0:i.accent)==null?void 0:l.fg)},avatar:Y7({scheme:n},i),backdrop:Re(a,i==null?void 0:i.backdrop),badge:q7(i==null?void 0:i.badge,{scheme:n},t),bg:Re(a,i==null?void 0:i.bg),border:Re(a,i==null?void 0:i.border),button:oNe({scheme:n},t),code:{bg:Re(a,(c=i==null?void 0:i.code)==null?void 0:c.bg),fg:Re(a,(d=i==null?void 0:i.code)==null?void 0:d.fg)},fg:Re(a,i==null?void 0:i.fg),focusRing:Re(a,i==null?void 0:i.focusRing),icon:Re(a,i==null?void 0:i.icon),input:cNe({scheme:n,tone:r},t),kbd:{bg:Re(a,(h=i==null?void 0:i.kbd)==null?void 0:h.bg),fg:Re(a,(p=i==null?void 0:i.kbd)==null?void 0:p.fg),border:Re(a,(m=i==null?void 0:i.kbd)==null?void 0:m.border)},link:{fg:Re(a,(g=i==null?void 0:i.link)==null?void 0:g.fg)},muted:{bg:Re(a,(y=i==null?void 0:i.muted)==null?void 0:y.bg),fg:Re(a,(v=i==null?void 0:i.muted)==null?void 0:v.fg)},selectable:dNe({scheme:n},t),shadow:aNe({scheme:n,tone:r},t),skeleton:{from:Re(a,(b=i==null?void 0:i.skeleton)==null?void 0:b.from),to:Re(a,(x=i==null?void 0:i.skeleton)==null?void 0:x.to)},syntax:pNe({scheme:n},t)}}function aNe(e,t){var o,s,l,c,d,h;const{scheme:n,tone:r}=e,i=(s=(o=t==null?void 0:t.color)==null?void 0:o.base)==null?void 0:s[r],a={hue:(i==null?void 0:i._hue)||"gray",scheme:n};return{outline:Re(a,(l=i==null?void 0:i.shadow)==null?void 0:l.outline),umbra:Re(a,(c=i==null?void 0:i.shadow)==null?void 0:c.umbra),penumbra:Re(a,(d=i==null?void 0:i.shadow)==null?void 0:d.penumbra),ambient:Re(a,(h=i==null?void 0:i.shadow)==null?void 0:h.ambient)}}function Y7(e,t){const{scheme:n}=e;return{gray:dd({color:"gray",scheme:n},t),blue:dd({color:"blue",scheme:n},t),purple:dd({color:"purple",scheme:n},t),magenta:dd({color:"magenta",scheme:n},t),red:dd({color:"red",scheme:n},t),orange:dd({color:"orange",scheme:n},t),yellow:dd({color:"yellow",scheme:n},t),green:dd({color:"green",scheme:n},t),cyan:dd({color:"cyan",scheme:n},t)}}function dd(e,t){var o;const{color:n,scheme:r}=e,i=(o=t==null?void 0:t.avatar)==null?void 0:o[n],a={hue:(i==null?void 0:i._hue)||"gray",scheme:r};return{_blend:((i==null?void 0:i._blend)||["screen","multiply"])[r==="light"?0:1],bg:Re(a,i==null?void 0:i.bg),fg:Re(a,i==null?void 0:i.fg)}}function q7(e,t,n){const{scheme:r}=t;return{default:Xb(e,{scheme:r,tone:"default"},n),primary:Xb(e,{scheme:r,tone:"primary"},n),positive:Xb(e,{scheme:r,tone:"positive"},n),caution:Xb(e,{scheme:r,tone:"caution"},n),critical:Xb(e,{scheme:r,tone:"critical"},n)}}function Xb(e,t,n){var s,l,c;const{scheme:r,tone:i}=t,a=e==null?void 0:e[i],o={hue:(a==null?void 0:a._hue)||((c=(l=(s=n==null?void 0:n.color)==null?void 0:s.base)==null?void 0:l[i])==null?void 0:c._hue)||"gray",scheme:r};return{bg:Re(o,a==null?void 0:a.bg),fg:Re(o,a==null?void 0:a.fg),dot:Re(o,a==null?void 0:a.dot),icon:Re(o,a==null?void 0:a.icon)}}function oNe(e,t){const{scheme:n}=e,r={};for(const i of npe)r[i]=sNe({scheme:n,mode:i},t);return r}function sNe(e,t){const{mode:n,scheme:r}=e,i={};for(const a of YS)i[a]=lNe({mode:n,scheme:r,tone:a},t);return i}function lNe(e,t){const{mode:n,scheme:r,tone:i}=e,a={};for(const o of qS)a[o]=uNe({mode:n,tone:i,scheme:r,state:o},t);return a}function uNe(e,t){var d,h,p,m,g,y,v,b,x,w,C,S,E,k,_;const{mode:n,tone:r,scheme:i,state:a}=e,o=(m=(p=(h=(d=t==null?void 0:t.color)==null?void 0:d.button)==null?void 0:h[n])==null?void 0:p[r])==null?void 0:m[a],s=(o==null?void 0:o._hue)||"gray",l=(o==null?void 0:o._blend)||["screen","multiply"],c={hue:s,scheme:i};return{_blend:l[i==="light"?0:1],accent:{fg:Re(c,(g=o==null?void 0:o.accent)==null?void 0:g.fg)},avatar:Y7({scheme:i},o),badge:q7(o==null?void 0:o.badge,{scheme:i},t),bg:Re(c,o==null?void 0:o.bg),border:Re(c,o==null?void 0:o.border),code:{bg:Re(c,(y=o==null?void 0:o.code)==null?void 0:y.bg),fg:Re(c,(v=o==null?void 0:o.code)==null?void 0:v.fg)},fg:Re(c,o==null?void 0:o.fg),icon:Re(c,o==null?void 0:o.icon),muted:{bg:Re(c,(b=o==null?void 0:o.muted)==null?void 0:b.bg),fg:Re(c,(x=o==null?void 0:o.muted)==null?void 0:x.fg)},kbd:{bg:Re(c,(w=o==null?void 0:o.kbd)==null?void 0:w.bg),fg:Re(c,(C=o==null?void 0:o.kbd)==null?void 0:C.fg),border:Re(c,(S=o==null?void 0:o.kbd)==null?void 0:S.border)},link:{fg:Re(c,(E=o==null?void 0:o.link)==null?void 0:E.fg)},skeleton:{from:Re(c,(k=o==null?void 0:o.skeleton)==null?void 0:k.from),to:Re(c,(_=o==null?void 0:o.skeleton)==null?void 0:_.to)}}}function cNe(e,t){const{scheme:n,tone:r}=e;return{default:Qq({mode:"default",scheme:n,tone:r},t),invalid:Qq({mode:"invalid",scheme:n,tone:r},t)}}function Qq(e,t){const{mode:n,scheme:r,tone:i}=e;return{enabled:Uk({mode:n,scheme:r,state:"enabled",tone:i},t),hovered:Uk({mode:n,scheme:r,state:"hovered",tone:i},t),readOnly:Uk({mode:n,scheme:r,state:"readOnly",tone:i},t),disabled:Uk({mode:n,scheme:r,state:"disabled",tone:i},t)}}function Uk(e,t){var d,h,p,m,g,y,v;const{mode:n,tone:r,scheme:i,state:a}=e,o=(p=(h=(d=t==null?void 0:t.color)==null?void 0:d.input)==null?void 0:h[n])==null?void 0:p[a],s=(o==null?void 0:o._hue)||((y=(g=(m=t==null?void 0:t.color)==null?void 0:m.base)==null?void 0:g[r])==null?void 0:y._hue)||"gray",l=(o==null?void 0:o._blend)||["screen","multiply"],c={hue:s,scheme:i};return{_blend:l[i==="light"?0:1],bg:Re(c,o==null?void 0:o.bg),border:Re(c,o==null?void 0:o.border),fg:Re(c,o==null?void 0:o.fg),muted:{bg:Re(c,(v=o==null?void 0:o.muted)==null?void 0:v.bg)},placeholder:Re(c,o==null?void 0:o.placeholder)}}function dNe(e,t){const{scheme:n}=e,r={};for(const i of YS)r[i]=fNe({scheme:n,tone:i},t);return r}function fNe(e,t){const{scheme:n,tone:r}=e,i={};for(const a of qS)i[a]=hNe({tone:r,scheme:n,state:a},t);return i}function hNe(e,t){var c,d,h,p,m,g,y,v,b,x,w,C,S,E;const{scheme:n,state:r,tone:i}=e,a=(h=(d=(c=t==null?void 0:t.color)==null?void 0:c.selectable)==null?void 0:d[i])==null?void 0:h[r],o=(a==null?void 0:a._hue)||"gray",s=(a==null?void 0:a._blend)||["screen","multiply"],l={hue:o,scheme:n};return{_blend:s[n==="light"?0:1],accent:{fg:Re(l,(p=a==null?void 0:a.accent)==null?void 0:p.fg)},avatar:Y7({scheme:n},a),badge:q7(a==null?void 0:a.badge,{scheme:n},t),bg:Re(l,a==null?void 0:a.bg),border:Re(l,a==null?void 0:a.border),code:{bg:Re(l,(m=a==null?void 0:a.code)==null?void 0:m.bg),fg:Re(l,(g=a==null?void 0:a.code)==null?void 0:g.fg)},fg:Re(l,a==null?void 0:a.fg),icon:Re(l,a==null?void 0:a.icon),muted:{bg:Re(l,(y=a==null?void 0:a.muted)==null?void 0:y.bg),fg:Re(l,(v=a==null?void 0:a.muted)==null?void 0:v.fg)},kbd:{bg:Re(l,(b=a==null?void 0:a.kbd)==null?void 0:b.bg),fg:Re(l,(x=a==null?void 0:a.kbd)==null?void 0:x.fg),border:Re(l,(w=a==null?void 0:a.kbd)==null?void 0:w.border)},link:{fg:Re(l,(C=a==null?void 0:a.link)==null?void 0:C.fg)},skeleton:{from:Re(l,(S=a==null?void 0:a.skeleton)==null?void 0:S.from),to:Re(l,(E=a==null?void 0:a.skeleton)==null?void 0:E.to)}}}function pNe(e,t){var a;const{scheme:n}=e,r=(a=t==null?void 0:t.color)==null?void 0:a.syntax,i={hue:"gray",scheme:n};return{atrule:Re(i,r==null?void 0:r.atrule),attrName:Re(i,r==null?void 0:r.attrName),attrValue:Re(i,r==null?void 0:r.attrValue),attribute:Re(i,r==null?void 0:r.attribute),boolean:Re(i,r==null?void 0:r.boolean),builtin:Re(i,r==null?void 0:r.builtin),cdata:Re(i,r==null?void 0:r.cdata),char:Re(i,r==null?void 0:r.char),class:Re(i,r==null?void 0:r.class),className:Re(i,r==null?void 0:r.className),comment:Re(i,r==null?void 0:r.comment),constant:Re(i,r==null?void 0:r.constant),deleted:Re(i,r==null?void 0:r.deleted),doctype:Re(i,r==null?void 0:r.doctype),entity:Re(i,r==null?void 0:r.entity),function:Re(i,r==null?void 0:r.function),hexcode:Re(i,r==null?void 0:r.hexcode),id:Re(i,r==null?void 0:r.id),important:Re(i,r==null?void 0:r.important),inserted:Re(i,r==null?void 0:r.inserted),keyword:Re(i,r==null?void 0:r.keyword),number:Re(i,r==null?void 0:r.number),operator:Re(i,r==null?void 0:r.operator),prolog:Re(i,r==null?void 0:r.prolog),property:Re(i,r==null?void 0:r.property),pseudoClass:Re(i,r==null?void 0:r.pseudoClass),pseudoElement:Re(i,r==null?void 0:r.pseudoElement),punctuation:Re(i,r==null?void 0:r.punctuation),regex:Re(i,r==null?void 0:r.regex),selector:Re(i,r==null?void 0:r.selector),string:Re(i,r==null?void 0:r.string),symbol:Re(i,r==null?void 0:r.symbol),tag:Re(i,r==null?void 0:r.tag),unit:Re(i,r==null?void 0:r.unit),url:Re(i,r==null?void 0:r.url),variable:Re(i,r==null?void 0:r.variable)}}const mNe=R4e;function TO(e,t,n){const r=(t-e)*n;return e+r}function gNe(e,t,n){return{r:TO(e.r,t.r,n),g:TO(e.g,t.g,n),b:TO(e.b,t.b,n)}}function AO(e,t){return e*t}function yNe(e,t){return{r:AO(e.r/255,t.r/255)*255,g:AO(e.g/255,t.g/255)*255,b:AO(e.b/255,t.b/255)*255}}function jO(e,t){return e+t-e*t}function vNe(e,t){return{r:jO(e.r/255,t.r/255)*255,g:jO(e.g/255,t.g/255)*255,b:jO(e.b/255,t.b/255)*255}}function bNe(e,t,n){return e*(1-n)+t*n}function xNe(e,t,n){return $s((n-e)/(t-e))}function $s(e,t=0,n=1){return Math.min(n,Math.max(t,e))}function fd(e,t,n,r,i){return bNe(n,r,xNe(e,t,i))}function IO(e){return Math.round(e)}function HF(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function wNe(e){const t=e.replace(/rgba\(|\)/g,"").split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2]),a:parseFloat(t[3])}}function ope(e){const t=IO($s(Math.round(e.r),0,255)),n=IO($s(Math.round(e.g),0,255)),r=IO($s(Math.round(e.b),0,255));return"a"in e?`rgba(${t},${n},${r},${e.a})`:"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function CNe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e.h/60%2-1)),a=n-r/2;let o=0,s=0,l=0;return 0<=e.h&&e.h<60?(o=r,s=i,l=0):60<=e.h&&e.h<120?(o=i,s=r,l=0):120<=e.h&&e.h<180?(o=0,s=r,l=i):180<=e.h&&e.h<240?(o=0,s=i,l=r):240<=e.h&&e.h<300?(o=i,s=0,l=r):300<=e.h&&e.h<360&&(o=r,s=0,l=i),{r:Math.round((o+a)*255),g:Math.round((s+a)*255),b:Math.round((l+a)*255)}}const SNe="0123456789ABCDEFabcdef",ENe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function kNe(e){for(const t of e)if(SNe.indexOf(t)===-1)return!1;return!0}function _Ne(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:kNe(e.slice(1))}function TNe(e){const t=ENe.exec(e);if(!t)throw new Error(`parseHsl: string is not a HSL color: "${e}"`);return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function Qx(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(_Ne(e))return HF(e);if(e.startsWith("hsl("))return CNe(TNe(e));if(e.startsWith("rgba("))return wNe(e);throw new Error(`parseColor: unexpected color format: "${e}"`)}function fI(e,t){const n=Qx(e);return`rgba(${n.r},${n.g},${n.b},${t})`}const Io=[0,255];function ANe(e,t){const{blendMode:n}=t,r=Qx(e),i=Qx(t.black),a=Qx(t.white),o=t.bg?Qx(t.bg):n==="multiply"?a:i,s={r:[i.r,a.r],g:[i.g,a.g],b:[i.b,a.b]},l={r:$s(fd(...s.r,...Io,o.r),...Io),g:$s(fd(...s.g,...Io,o.g),...Io),b:$s(fd(...s.b,...Io,o.b),...Io)},c={r:$s(fd(...s.r,...Io,r.r),...Io),g:$s(fd(...s.g,...Io,r.g),...Io),b:$s(fd(...s.b,...Io,r.b),...Io)},d=n==="multiply"?yNe(l,c):vNe(l,c),h={r:$s(fd(...Io,...s.r,d.r),...s.r),g:$s(fd(...Io,...s.g,d.g),...s.g),b:$s(fd(...Io,...s.b,d.b),...s.b)};return ope(h)}function Ue(e,t){const{bg:n,blendMode:r,colorPalette:i}=t;if(n==="white")throw new Error("Cannot blend with white background");const a=ape(e);if(!a||a.type!=="color")throw new Error(`Invalid color token value: ${e}`);let o="";if(a.key==="black"&&(o=Jb(i.black)),a.key==="white"&&(o=Jb(i.white)),a.hue&&a.tint&&(o=Jb(i[a.hue][a.tint])),!o)throw new Error(`Invalid color token value: ${e}`);const s=o,l={blendMode:r,bg:n,black:Jb(i.black),white:Jb(i.white)};try{if(o=ANe(o,l),n&&a.mix!==void 0){const c=HF(n),d=HF(o);o=ope(gNe(c,d,a.mix))}}catch(c){throw console.warn("could not blend",o,l),c}return o==="#aN"&&(console.warn(`invalid color token value: ${e}`),o=s),a.opacity!==void 0&&(o=fI(o,a.opacity)),o}function Jb(e){return typeof e=="string"?e:e.hex}function jNe(e,t){const n=(t==null?void 0:t.palette)??mNe;return{light:eK(n,e.light),dark:eK(n,e.dark)}}function eK(e,t){const n=Object.entries(t),[,r]=n.find(([l])=>l==="transparent"),[,i]=n.find(([l])=>l==="default"),a=DO(r,{colorPalette:e}),o=DO(i,{colorPalette:e}),s=o.bg;if(s==="white")throw new Error("Cannot blend with white background");return Object.fromEntries([["transparent",a],["default",o],...n.filter(([l])=>l!=="default"&&l!=="transparent").map(([l,c])=>[l,DO(c,{bg:s,colorPalette:e})])])}function DO(e,t){const{colorPalette:n,bg:r}=t,i=e._blend||"multiply",a=Ue(e.bg,{colorPalette:n,bg:r,blendMode:i}),o={colorPalette:n,bg:a,blendMode:i},s=DNe(e.button,{baseBg:a,blendMode:i,colorPalette:n}),l=RNe(e.selectable,{colorPalette:n,baseBg:a,blendMode:i}),c={outline:Ue(e.shadow.outline,o),umbra:Ue(e.shadow.umbra,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}}),penumbra:Ue(e.shadow.penumbra,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}}),ambient:Ue(e.shadow.ambient,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}})};return{_blend:i,_dark:e._dark,accent:{fg:Ue(e.accent.fg,o)},avatar:spe(e.avatar,{baseBg:a,colorPalette:n,blendMode:i}),backdrop:Ue(e.backdrop,o),badge:lpe(e.badge,{baseBg:a,colorPalette:n,blendMode:i}),bg:a,border:Ue(e.border,o),button:s,code:{bg:Ue(e.code.bg,o),fg:Ue(e.code.fg,o)},fg:Ue(e.fg,o),focusRing:Ue(e.focusRing,o),icon:Ue(e.icon,o),input:MNe(e.input,{baseBg:a,colorPalette:n,blendMode:i}),kbd:INe(e.kbd,{baseBg:a,colorPalette:n,blendMode:i}),link:{fg:Ue(e.link.fg,o)},muted:{bg:Ue(e.muted.bg,o),fg:Ue(e.muted.fg,o)},shadow:c,skeleton:{from:Ue(e.skeleton.from,o),to:Ue(e.skeleton.to,o)},syntax:ONe(e.syntax,{baseBg:a,colorPalette:n,blendMode:i}),selectable:l}}function INe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a={bg:n,blendMode:r,colorPalette:i},o=Ue(e.bg,a),s={bg:o,blendMode:r,colorPalette:i};return{bg:o,fg:Ue(e.fg,s),border:Ue(e.border,s)}}function spe(e,t){return{gray:hd(e.gray,t),blue:hd(e.blue,t),purple:hd(e.purple,t),magenta:hd(e.magenta,t),red:hd(e.red,t),orange:hd(e.orange,t),yellow:hd(e.yellow,t),green:hd(e.green,t),cyan:hd(e.cyan,t)}}function hd(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=e._blend||"multiply",o={bg:n,blendMode:r,colorPalette:i},s=Ue(e.bg,o),l={bg:s,blendMode:a,colorPalette:i};return{_blend:a,bg:s,fg:Ue(e.fg,l)}}function lpe(e,t){return{default:Qb(e.default,t),primary:Qb(e.primary,t),positive:Qb(e.positive,t),caution:Qb(e.caution,t),critical:Qb(e.critical,t)}}function Qb(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=r,o={bg:n,blendMode:r,colorPalette:i},s=Ue(e.bg,o),l={bg:s,blendMode:a,colorPalette:i};return{bg:s,dot:Ue(e.dot,l),fg:Ue(e.fg,l),icon:Ue(e.icon,l)}}function DNe(e,t){return{default:MO(e.default,t),ghost:MO(e.ghost,t),bleed:MO(e.bleed,t)}}function MO(e,t){return{default:ex(e.default,t),primary:ex(e.primary,t),positive:ex(e.positive,t),caution:ex(e.caution,t),critical:ex(e.critical,t)}}function ex(e,t){return{enabled:vc(e.enabled,t),hovered:vc(e.hovered,t),pressed:vc(e.pressed,t),selected:vc(e.selected,t),disabled:vc(e.disabled,t)}}function vc(e,t){var c,d;const{baseBg:n,blendMode:r,colorPalette:i}=t,a=e._blend||"multiply",o={bg:n,blendMode:r,colorPalette:i},s=Ue(e.bg,o),l={bg:s,blendMode:a,colorPalette:i};return{_blend:a,accent:{fg:Ue(e.accent.fg,l)},avatar:spe(e.avatar,{baseBg:s,colorPalette:i,blendMode:a}),badge:lpe(e.badge,{baseBg:s,colorPalette:i,blendMode:a}),bg:s,border:Ue(e.border,l),code:{bg:Ue(e.code.bg,l),fg:Ue(e.code.fg,l)},fg:Ue(e.fg,l),icon:Ue(e.icon,l),link:{fg:Ue(e.link.fg,l)},muted:{bg:Ue(e.muted.bg,l),fg:Ue(e.muted.fg,l)},kbd:{bg:Ue(e.kbd.bg,l),fg:Ue(e.kbd.fg,l),border:Ue(e.kbd.border,l)},skeleton:{from:Ue((c=e.skeleton)==null?void 0:c.from,l),to:Ue((d=e.skeleton)==null?void 0:d.to,l)}}}function MNe(e,t){return{default:tK(e.default,t),invalid:tK(e.invalid,t)}}function tK(e,t){return{enabled:Hk(e.enabled,t),hovered:Hk(e.hovered,t),readOnly:Hk(e.readOnly,t),disabled:Hk(e.disabled,t)}}function Hk(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=e._blend||"multiply",o={colorPalette:i,bg:n,blendMode:r},s=Ue(e.bg,o),l={colorPalette:i,bg:s,blendMode:a};return{_blend:a,bg:s,border:Ue(e.border,l),fg:Ue(e.fg,l),muted:{bg:Ue(e.muted.bg,l)},placeholder:Ue(e.placeholder,l)}}function RNe(e,t){return{default:tx(e.default,t),primary:tx(e.primary,t),positive:tx(e.positive,t),caution:tx(e.caution,t),critical:tx(e.critical,t)}}function tx(e,t){return{enabled:vc(e.enabled,t),hovered:vc(e.hovered,t),pressed:vc(e.pressed,t),selected:vc(e.selected,t),disabled:vc(e.disabled,t)}}function ONe(e,t){const{colorPalette:n,baseBg:r,blendMode:i}=t,a={colorPalette:n,bg:r,blendMode:i};return{atrule:Ue(e.atrule,a),attrName:Ue(e.attrName,a),attrValue:Ue(e.attrValue,a),attribute:Ue(e.attribute,a),boolean:Ue(e.boolean,a),builtin:Ue(e.builtin,a),cdata:Ue(e.cdata,a),char:Ue(e.char,a),class:Ue(e.class,a),className:Ue(e.className,a),comment:Ue(e.comment,a),constant:Ue(e.constant,a),deleted:Ue(e.deleted,a),doctype:Ue(e.doctype,a),entity:Ue(e.entity,a),function:Ue(e.function,a),hexcode:Ue(e.hexcode,a),id:Ue(e.id,a),important:Ue(e.important,a),inserted:Ue(e.inserted,a),keyword:Ue(e.keyword,a),number:Ue(e.number,a),operator:Ue(e.operator,a),prolog:Ue(e.prolog,a),property:Ue(e.property,a),pseudoClass:Ue(e.pseudoClass,a),pseudoElement:Ue(e.pseudoElement,a),punctuation:Ue(e.punctuation,a),regex:Ue(e.regex,a),selector:Ue(e.selector,a),string:Ue(e.string,a),symbol:Ue(e.symbol,a),tag:Ue(e.tag,a),unit:Ue(e.unit,a),url:Ue(e.url,a),variable:Ue(e.variable,a)}}function upe(e){const t=iNe(e),n={_version:2,avatar:(e==null?void 0:e.avatar)??rr.avatar,button:(e==null?void 0:e.button)??rr.button,card:(e==null?void 0:e.card)??rr.card,color:jNe(t,e),container:(e==null?void 0:e.container)??rr.container,font:(e==null?void 0:e.font)??O4e,input:(e==null?void 0:e.input)??rr.input,layer:(e==null?void 0:e.layer)??rr.layer,media:(e==null?void 0:e.media)??rr.media,radius:(e==null?void 0:e.radius)??rr.radius,shadow:(e==null?void 0:e.shadow)??rr.shadow,space:(e==null?void 0:e.space)??rr.space,style:(e==null?void 0:e.style)??rr.style};return epe(n)}const t_=new Map;function $Ne(e,t,n){const r=PNe(e,t,n);if(r)return r;const i=Yq(e)?epe(e):e,a=Yq(e)?e:$4e(e),o=i.color[t]||i.color.light,s=o[n]||o.default,l=i.layer||rr.layer,c=a.color[t]||a.color.light,d=c[n]||c.default,h=a.layer||rr.layer,p={sanity:{...i,color:s,layer:l,v2:{...a,_resolved:!0,color:d,layer:h}}};return FNe(e,t,n,p),p}function PNe(e,t,n){const r=t_.get(t);if(!r)return;const i=r.get(n);if(i)return i.get(e)}function FNe(e,t,n,r){t_.has(t)||t_.set(t,new Map);const i=t_.get(t);i.has(n)||i.set(n,new WeakMap),i.get(n).set(e,r)}var cpe={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K7=Symbol.for("react.element"),Z7=Symbol.for("react.portal"),hI=Symbol.for("react.fragment"),pI=Symbol.for("react.strict_mode"),mI=Symbol.for("react.profiler"),gI=Symbol.for("react.provider"),yI=Symbol.for("react.context"),NNe=Symbol.for("react.server_context"),vI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),xI=Symbol.for("react.suspense_list"),wI=Symbol.for("react.memo"),CI=Symbol.for("react.lazy"),LNe=Symbol.for("react.offscreen"),dpe;dpe=Symbol.for("react.module.reference");function nu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case K7:switch(e=e.type,e){case hI:case mI:case pI:case bI:case xI:return e;default:switch(e=e&&e.$$typeof,e){case NNe:case yI:case vI:case CI:case wI:case gI:return e;default:return t}}case Z7:return t}}}cr.ContextConsumer=yI;cr.ContextProvider=gI;cr.Element=K7;cr.ForwardRef=vI;cr.Fragment=hI;cr.Lazy=CI;cr.Memo=wI;cr.Portal=Z7;cr.Profiler=mI;cr.StrictMode=pI;cr.Suspense=bI;cr.SuspenseList=xI;cr.isAsyncMode=function(){return!1};cr.isConcurrentMode=function(){return!1};cr.isContextConsumer=function(e){return nu(e)===yI};cr.isContextProvider=function(e){return nu(e)===gI};cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===K7};cr.isForwardRef=function(e){return nu(e)===vI};cr.isFragment=function(e){return nu(e)===hI};cr.isLazy=function(e){return nu(e)===CI};cr.isMemo=function(e){return nu(e)===wI};cr.isPortal=function(e){return nu(e)===Z7};cr.isProfiler=function(e){return nu(e)===mI};cr.isStrictMode=function(e){return nu(e)===pI};cr.isSuspense=function(e){return nu(e)===bI};cr.isSuspenseList=function(e){return nu(e)===xI};cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hI||e===mI||e===pI||e===bI||e===xI||e===LNe||typeof e=="object"&&e!==null&&(e.$$typeof===CI||e.$$typeof===wI||e.$$typeof===gI||e.$$typeof===yI||e.$$typeof===vI||e.$$typeof===dpe||e.getModuleId!==void 0)};cr.typeOf=nu;cpe.exports=cr;var ka=cpe.exports;const BNe=Fe(ka);var Pa=function(){return Pa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pa.apply(this,arguments)};function Ay(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ur="-ms-",_w="-moz-",Jn="-webkit-",fpe="comm",SI="rule",X7="decl",VNe="@import",hpe="@keyframes",zNe="@layer",ppe=Math.abs,J7=String.fromCharCode,WF=Object.assign;function UNe(e,t){return Da(e,0)^45?(((t<<2^Da(e,0))<<2^Da(e,1))<<2^Da(e,2))<<2^Da(e,3):0}function mpe(e){return e.trim()}function Cd(e,t){return(e=t.exec(e))?e[0]:e}function Jt(e,t,n){return e.replace(t,n)}function n_(e,t,n){return e.indexOf(t,n)}function Da(e,t){return e.charCodeAt(t)|0}function jy(e,t,n){return e.slice(t,n)}function fc(e){return e.length}function gpe(e){return e.length}function ew(e,t){return t.push(e),e}function HNe(e,t){return e.map(t).join("")}function nK(e,t){return e.filter(function(n){return!Cd(n,t)})}var EI=1,Iy=1,ype=0,Wl=0,ta=0,Av="";function kI(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:EI,column:Iy,length:o,return:"",siblings:s}}function ih(e,t){return WF(kI("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function U0(e){for(;e.root;)e=ih(e.root,{children:[e]});ew(e,e.siblings)}function WNe(){return ta}function GNe(){return ta=Wl>0?Da(Av,--Wl):0,Iy--,ta===10&&(Iy=1,EI--),ta}function ju(){return ta=Wl<ype?Da(Av,Wl++):0,Iy++,ta===10&&(Iy=1,EI++),ta}function Um(){return Da(Av,Wl)}function r_(){return Wl}function _I(e,t){return jy(Av,e,t)}function GF(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YNe(e){return EI=Iy=1,ype=fc(Av=e),Wl=0,[]}function qNe(e){return Av="",e}function RO(e){return mpe(_I(Wl-1,YF(e===91?e+2:e===40?e+1:e)))}function KNe(e){for(;(ta=Um())&&ta<33;)ju();return GF(e)>2||GF(ta)>3?"":" "}function ZNe(e,t){for(;--t&&ju()&&!(ta<48||ta>102||ta>57&&ta<65||ta>70&&ta<97););return _I(e,r_()+(t<6&&Um()==32&&ju()==32))}function YF(e){for(;ju();)switch(ta){case e:return Wl;case 34:case 39:e!==34&&e!==39&&YF(ta);break;case 40:e===41&&YF(e);break;case 92:ju();break}return Wl}function XNe(e,t){for(;ju()&&e+ta!==47+10;)if(e+ta===42+42&&Um()===47)break;return"/*"+_I(t,Wl-1)+"*"+J7(e===47?e:ju())}function JNe(e){for(;!GF(Um());)ju();return _I(e,Wl)}function QNe(e){return qNe(i_("",null,null,null,[""],e=YNe(e),0,[0],e))}function i_(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,p=0,m=0,g=0,y=1,v=1,b=1,x=0,w="",C=i,S=a,E=r,k=w;v;)switch(g=x,x=ju()){case 40:if(g!=108&&Da(k,h-1)==58){n_(k+=Jt(RO(x),"&","&\f"),"&\f",ppe(c?s[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:k+=RO(x);break;case 9:case 10:case 13:case 32:k+=KNe(g);break;case 92:k+=ZNe(r_()-1,7);continue;case 47:switch(Um()){case 42:case 47:ew(eLe(XNe(ju(),r_()),t,n,l),l);break;default:k+="/"}break;case 123*y:s[c++]=fc(k)*b;case 125*y:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+d:b==-1&&(k=Jt(k,/\f/g,"")),m>0&&fc(k)-h&&ew(m>32?iK(k+";",r,n,h-1,l):iK(Jt(k," ","")+";",r,n,h-2,l),l);break;case 59:k+=";";default:if(ew(E=rK(k,t,n,c,d,i,s,w,C=[],S=[],h,a),a),x===123)if(d===0)i_(k,t,E,E,C,a,h,s,S);else switch(p===99&&Da(k,3)===110?100:p){case 100:case 108:case 109:case 115:i_(e,E,E,r&&ew(rK(e,E,E,0,0,i,s,w,i,C=[],h,S),S),i,S,h,s,r?C:S);break;default:i_(k,E,E,E,[""],S,0,s,S)}}c=d=m=0,y=b=1,w=k="",h=o;break;case 58:h=1+fc(k),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&GNe()==125)continue}switch(k+=J7(x),x*y){case 38:b=d>0?1:(k+="\f",-1);break;case 44:s[c++]=(fc(k)-1)*b,b=1;break;case 64:Um()===45&&(k+=RO(ju())),p=Um(),d=h=fc(w=k+=JNe(r_())),x++;break;case 45:g===45&&fc(k)==2&&(y=0)}}return a}function rK(e,t,n,r,i,a,o,s,l,c,d,h){for(var p=i-1,m=i===0?a:[""],g=gpe(m),y=0,v=0,b=0;y<r;++y)for(var x=0,w=jy(e,p+1,p=ppe(v=o[y])),C=e;x<g;++x)(C=mpe(v>0?m[x]+" "+w:Jt(w,/&\f/g,m[x])))&&(l[b++]=C);return kI(e,t,n,i===0?SI:s,l,c,d,h)}function eLe(e,t,n,r){return kI(e,t,n,fpe,J7(WNe()),jy(e,2,-2),0,r)}function iK(e,t,n,r,i){return kI(e,t,n,X7,jy(e,0,r),jy(e,r+1,-1),r,i)}function vpe(e,t,n){switch(UNe(e,t)){case 5103:return Jn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+e+e;case 4789:return _w+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+e+_w+e+Ur+e+e;case 5936:switch(Da(e,t+11)){case 114:return Jn+e+Ur+Jt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jn+e+Ur+Jt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jn+e+Ur+Jt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Jn+e+Ur+e+e;case 6165:return Jn+e+Ur+"flex-"+e+e;case 5187:return Jn+e+Jt(e,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+Ur+"flex-$1$2")+e;case 5443:return Jn+e+Ur+"flex-item-"+Jt(e,/flex-|-self/g,"")+(Cd(e,/flex-|baseline/)?"":Ur+"grid-row-"+Jt(e,/flex-|-self/g,""))+e;case 4675:return Jn+e+Ur+"flex-line-pack"+Jt(e,/align-content|flex-|-self/g,"")+e;case 5548:return Jn+e+Ur+Jt(e,"shrink","negative")+e;case 5292:return Jn+e+Ur+Jt(e,"basis","preferred-size")+e;case 6060:return Jn+"box-"+Jt(e,"-grow","")+Jn+e+Ur+Jt(e,"grow","positive")+e;case 4554:return Jn+Jt(e,/([^-])(transform)/g,"$1"+Jn+"$2")+e;case 6187:return Jt(Jt(Jt(e,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),e,"")+e;case 5495:case 3959:return Jt(e,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return Jt(Jt(e,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+Ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+e+e;case 4200:if(!Cd(e,/flex-|baseline/))return Ur+"grid-column-align"+jy(e,t)+e;break;case 2592:case 3360:return Ur+Jt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Cd(r.props,/grid-\w+-end/)})?~n_(e+(n=n[t].value),"span",0)?e:Ur+Jt(e,"-start","")+e+Ur+"grid-row-span:"+(~n_(n,"span",0)?Cd(n,/\d+/):+Cd(n,/\d+/)-+Cd(e,/\d+/))+";":Ur+Jt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Cd(r.props,/grid-\w+-start/)})?e:Ur+Jt(Jt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Jt(e,/(.+)-inline(.+)/,Jn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fc(e)-1-t>6)switch(Da(e,t+1)){case 109:if(Da(e,t+4)!==45)break;case 102:return Jt(e,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+_w+(Da(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~n_(e,"stretch",0)?vpe(Jt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Jt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,o,s,l,c){return Ur+i+":"+a+c+(o?Ur+i+"-span:"+(s?l:+l-+a)+c:"")+e});case 4949:if(Da(e,t+6)===121)return Jt(e,":",":"+Jn)+e;break;case 6444:switch(Da(e,Da(e,14)===45?18:11)){case 120:return Jt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Jn+(Da(e,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+Ur+"$2box$3")+e;case 100:return Jt(e,":",":"+Ur)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Jt(e,"scroll-","scroll-snap-")+e}return e}function fT(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function tLe(e,t,n,r){switch(e.type){case zNe:if(e.children.length)break;case VNe:case X7:return e.return=e.return||e.value;case fpe:return"";case hpe:return e.return=e.value+"{"+fT(e.children,r)+"}";case SI:if(!fc(e.value=e.props.join(",")))return""}return fc(n=fT(e.children,r))?e.return=e.value+"{"+n+"}":""}function nLe(e){var t=gpe(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function rLe(e){return function(t){t.root||(t=t.return)&&e(t)}}function iLe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case X7:e.return=vpe(e.value,e.length,n);return;case hpe:return fT([ih(e,{value:Jt(e.value,"@","@"+Jn)})],r);case SI:if(e.length)return HNe(n=e.props,function(i){switch(Cd(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":U0(ih(e,{props:[Jt(i,/:(read-\w+)/,":"+_w+"$1")]})),U0(ih(e,{props:[i]})),WF(e,{props:nK(n,r)});break;case"::placeholder":U0(ih(e,{props:[Jt(i,/:(plac\w+)/,":"+Jn+"input-$1")]})),U0(ih(e,{props:[Jt(i,/:(plac\w+)/,":"+_w+"$1")]})),U0(ih(e,{props:[Jt(i,/:(plac\w+)/,Ur+"input-$1")]})),U0(ih(e,{props:[i]})),WF(e,{props:nK(n,r)});break}return""})}}var aLe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dy=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",bpe="active",xpe="data-styled-version",TI="6.1.13",Q7=`/*!sc*/
`,hT=typeof window<"u"&&"HTMLElement"in window,oLe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:(typeof process<"u"&&process.env!==void 0,!1)),sLe={},AI=Object.freeze([]),My=Object.freeze({});function wpe(e,t,n){return n===void 0&&(n=My),e.theme!==n.theme&&e.theme||t||n.theme}var Cpe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),lLe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uLe=/(^-|-$)/g;function aK(e){return e.replace(lLe,"-").replace(uLe,"")}var cLe=/(a)(d)/gi,Wk=52,oK=function(e){return String.fromCharCode(e+(e>25?39:97))};function qF(e){var t,n="";for(t=Math.abs(e);t>Wk;t=t/Wk|0)n=oK(t%Wk)+n;return(oK(t%Wk)+n).replace(cLe,"$1-$2")}var OO,Spe=5381,C1=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Epe=function(e){return C1(Spe,e)};function e9(e){return qF(Epe(e)>>>0)}function dLe(e){return e.displayName||e.name||"Component"}function $O(e){return typeof e=="string"&&!0}var kpe=typeof Symbol=="function"&&Symbol.for,_pe=kpe?Symbol.for("react.memo"):60115,fLe=kpe?Symbol.for("react.forward_ref"):60112,hLe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pLe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mLe=((OO={})[fLe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OO[_pe]=Tpe,OO);function sK(e){return("type"in(t=e)&&t.type.$$typeof)===_pe?Tpe:"$$typeof"in e?mLe[e.$$typeof]:hLe;var t}var gLe=Object.defineProperty,yLe=Object.getOwnPropertyNames,lK=Object.getOwnPropertySymbols,vLe=Object.getOwnPropertyDescriptor,bLe=Object.getPrototypeOf,uK=Object.prototype;function Ape(e,t,n){if(typeof t!="string"){if(uK){var r=bLe(t);r&&r!==uK&&Ape(e,r,n)}var i=yLe(t);lK&&(i=i.concat(lK(t)));for(var a=sK(e),o=sK(t),s=0;s<i.length;++s){var l=i[s];if(!(l in pLe||n&&n[l]||o&&l in o||a&&l in a)){var c=vLe(t,l);try{gLe(e,l,c)}catch{}}}}return e}function pg(e){return typeof e=="function"}function t9(e){return typeof e=="object"&&"styledComponentId"in e}function Tm(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function pT(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function dC(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function KF(e,t,n){if(n===void 0&&(n=!1),!n&&!dC(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=KF(e[r],t[r]);else if(dC(t))for(var r in t)e[r]=KF(e[r],t[r]);return e}function n9(e,t){Object.defineProperty(e,"toString",{value:t})}function op(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xLe=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;t>=a;)if((a<<=1)<0)throw op(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var o=i;o<a;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(t+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(s,n[o])&&(this.groupSizes[t]++,s++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),a=i+r,o=i;o<a;o++)n+="".concat(this.tag.getRule(o)).concat(Q7);return n},e}(),a_=new Map,mT=new Map,o_=1,Gk=function(e){if(a_.has(e))return a_.get(e);for(;mT.has(o_);)o_++;var t=o_++;return a_.set(e,t),mT.set(t,e),t},wLe=function(e,t){o_=t+1,a_.set(e,t),mT.set(t,e)},CLe="style[".concat(Dy,"][").concat(xpe,'="').concat(TI,'"]'),SLe=new RegExp("^".concat(Dy,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ELe=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},kLe=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Q7),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var l=s.match(SLe);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(wLe(d,c),ELe(e,d,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},cK=function(e){for(var t=document.querySelectorAll(CLe),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Dy)!==bpe&&(kLe(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function _Le(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var jpe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(s){var l=Array.from(s.querySelectorAll("style[".concat(Dy,"]")));return l[l.length-1]}(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(Dy,bpe),r.setAttribute(xpe,TI);var o=_Le();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},TLe=function(){function e(t){this.element=jpe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var o=r[i];if(o.ownerNode===n)return o}throw op(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),ALe=function(){function e(t){this.element=jpe(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),jLe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),dK=hT,ILe={isServer:!hT,useCSSOMInjection:!oLe},gT=function(){function e(t,n,r){t===void 0&&(t=My),n===void 0&&(n={});var i=this;this.options=Pa(Pa({},ILe),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&hT&&dK&&(dK=!1,cK(this)),n9(this,function(){return function(a){for(var o=a.getTag(),s=o.length,l="",c=function(h){var p=function(b){return mT.get(b)}(h);if(p===void 0)return"continue";var m=a.names.get(p),g=o.getGroup(h);if(m===void 0||!m.size||g.length===0)return"continue";var y="".concat(Dy,".g").concat(h,'[id="').concat(p,'"]'),v="";m!==void 0&&m.forEach(function(b){b.length>0&&(v+="".concat(b,","))}),l+="".concat(g).concat(y,'{content:"').concat(v,'"}').concat(Q7)},d=0;d<s;d++)c(d);return l}(i)})}return e.registerId=function(t){return Gk(t)},e.prototype.rehydrate=function(){!this.server&&hT&&cK(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Pa(Pa({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new jLe(i):r?new TLe(i):new ALe(i)}(this.options),new xLe(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Gk(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Gk(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Gk(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),DLe=/&/g,MLe=/^\s*\/\/.*$/gm;function Ipe(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ipe(n.children,t)),n})}function RLe(e){var t,n,r,i=e===void 0?My:e,a=i.options,o=a===void 0?My:a,s=i.plugins,l=s===void 0?AI:s,c=function(p,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(t):p},d=l.slice();d.push(function(p){p.type===SI&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(DLe,n).replace(r,c))}),o.prefix&&d.push(iLe),d.push(tLe);var h=function(p,m,g,y){m===void 0&&(m=""),g===void 0&&(g=""),y===void 0&&(y="&"),t=y,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var v=p.replace(MLe,""),b=QNe(g||m?"".concat(g," ").concat(m," { ").concat(v," }"):v);o.namespace&&(b=Ipe(b,o.namespace));var x=[];return fT(b,nLe(d.concat(rLe(function(w){return x.push(w)})))),x};return h.hash=l.length?l.reduce(function(p,m){return m.name||op(15),C1(p,m.name)},Spe).toString():"",h}var OLe=new gT,ZF=RLe(),Dpe=Xe.createContext({shouldForwardProp:void 0,styleSheet:OLe,stylis:ZF});Dpe.Consumer;Xe.createContext(void 0);function XF(){return f.useContext(Dpe)}var Mpe=function(){function e(t,n){var r=this;this.inject=function(i,a){a===void 0&&(a=ZF);var o=r.name+a.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,a(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,n9(this,function(){throw op(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=ZF),this.name+t.hash},e}(),$Le=function(e){return e>="A"&&e<="Z"};function fK(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;$Le(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Rpe=function(e){return e==null||e===!1||e===""},Ope=function(e){var t,n,r=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!Rpe(a)&&(Array.isArray(a)&&a.isCss||pg(a)?r.push("".concat(fK(i),":"),a,";"):dC(a)?r.push.apply(r,Ay(Ay(["".concat(i," {")],Ope(a),!1),["}"],!1)):r.push("".concat(fK(i),": ").concat((t=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in aLe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Yh(e,t,n,r){if(Rpe(e))return[];if(t9(e))return[".".concat(e.styledComponentId)];if(pg(e)){if(!pg(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var i=e(t);return Yh(i,t,n,r)}var a;return e instanceof Mpe?n?(e.inject(n,r),[e.getName(r)]):[e]:dC(e)?Ope(e):Array.isArray(e)?Array.prototype.concat.apply(AI,e.map(function(o){return Yh(o,t,n,r)})):[e.toString()]}function $pe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pg(n)&&!t9(n))return!1}return!0}var PLe=Epe(TI),FLe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&$pe(t),this.componentId=n,this.baseHash=C1(PLe,n),this.baseStyle=r,gT.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Tm(i,this.staticRulesId);else{var a=pT(Yh(this.rules,t,n,r)),o=qF(C1(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,o)){var s=r(a,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,s)}i=Tm(i,o),this.staticRulesId=o}else{for(var l=C1(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")c+=h;else if(h){var p=pT(Yh(h,t,n,r));l=C1(l,p+d),c+=p}}if(c){var m=qF(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=Tm(i,m)}}return i},e}(),Ry=Xe.createContext(void 0);Ry.Consumer;function Ppe(){var e=f.useContext(Ry);if(!e)throw op(18);return e}function NLe(e){var t=Xe.useContext(Ry),n=f.useMemo(function(){return function(r,i){if(!r)throw op(14);if(pg(r)){var a=r(i);return a}if(Array.isArray(r)||typeof r!="object")throw op(8);return i?Pa(Pa({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?Xe.createElement(Ry.Provider,{value:n},e.children):null}var PO={};function LLe(e,t,n){var r=t9(e),i=e,a=!$O(e),o=t.attrs,s=o===void 0?AI:o,l=t.componentId,c=l===void 0?function(C,S){var E=typeof C!="string"?"sc":aK(C);PO[E]=(PO[E]||0)+1;var k="".concat(E,"-").concat(e9(TI+E+PO[E]));return S?"".concat(S,"-").concat(k):k}(t.displayName,t.parentComponentId):l,d=t.displayName,h=d===void 0?function(C){return $O(C)?"styled.".concat(C):"Styled(".concat(dLe(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(aK(t.displayName),"-").concat(t.componentId):t.componentId||c,m=r&&i.attrs?i.attrs.concat(s).filter(Boolean):s,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;g=function(C,S){return y(C,S)&&v(C,S)}}else g=y}var b=new FLe(n,p,r?i.componentStyle:void 0);function x(C,S){return function(E,k,_){var T=E.attrs,j=E.componentStyle,A=E.defaultProps,I=E.foldedComponentIds,M=E.styledComponentId,D=E.target,O=Xe.useContext(Ry),R=XF(),F=E.shouldForwardProp||R.shouldForwardProp,P=wpe(k,O,A)||My,V=function(re,G,te){for(var X,K=Pa(Pa({},G),{className:void 0,theme:te}),Q=0;Q<re.length;Q+=1){var ee=pg(X=re[Q])?X(K):X;for(var se in ee)K[se]=se==="className"?Tm(K[se],ee[se]):se==="style"?Pa(Pa({},K[se]),ee[se]):ee[se]}return G.className&&(K.className=Tm(K.className,G.className)),K}(T,k,P),U=V.as||D,H={};for(var W in V)V[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&V.theme===P||(W==="forwardedAs"?H.as=V.forwardedAs:F&&!F(W,U)||(H[W]=V[W]));var Z=function(re,G){var te=XF(),X=re.generateAndInjectStyles(G,te.styleSheet,te.stylis);return X}(j,V),J=Tm(I,M);return Z&&(J+=" "+Z),V.className&&(J+=" "+V.className),H[$O(U)&&!Cpe.has(U)?"class":"className"]=J,H.ref=_,f.createElement(U,H)}(w,C,S)}x.displayName=h;var w=Xe.forwardRef(x);return w.attrs=m,w.componentStyle=b,w.displayName=h,w.shouldForwardProp=g,w.foldedComponentIds=r?Tm(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=p,w.target=r?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(S){for(var E=[],k=1;k<arguments.length;k++)E[k-1]=arguments[k];for(var _=0,T=E;_<T.length;_++)KF(S,T[_],!0);return S}({},i.defaultProps,C):C}}),n9(w,function(){return".".concat(w.styledComponentId)}),a&&Ape(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function hK(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var pK=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pg(e)||dC(e))return pK(Yh(hK(AI,Ay([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Yh(r):pK(Yh(hK(r,t)))}function JF(e,t,n){if(n===void 0&&(n=My),!t)throw op(1,t);var r=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return e(t,n,de.apply(void 0,Ay([i],a,!1)))};return r.attrs=function(i){return JF(e,t,Pa(Pa({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return JF(e,t,Pa(Pa({},n),i))},r}var Fpe=function(e){return JF(LLe,e)},$=Fpe;Cpe.forEach(function(e){$[e]=Fpe(e)});var BLe=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=$pe(t),gT.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var a=i(pT(Yh(this.rules,n,r,i)),""),o=this.componentId+t;r.insertRules(o,o,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&gT.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function VLe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,Ay([e],t,!1)),i="sc-global-".concat(e9(JSON.stringify(r))),a=new BLe(r,i),o=function(l){var c=XF(),d=Xe.useContext(Ry),h=Xe.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&s(h,l,c.styleSheet,d,c.stylis),Xe.useLayoutEffect(function(){if(!c.styleSheet.server)return s(h,l,c.styleSheet,d,c.stylis),function(){return a.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,d,c.stylis]),null};function s(l,c,d,h,p){if(a.isStatic)a.renderStyles(l,sLe,d,p);else{var m=Pa(Pa({},c),{theme:wpe(c,h,o.defaultProps)});a.renderStyles(l,m,d,p)}}return Xe.memo(o)}function Tp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=pT(de.apply(void 0,Ay([e],t,!1))),i=e9(r);return new Mpe(i,r)}const sf=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});sf.displayName="ForwardRef(AccessDeniedIcon)";const Npe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Npe.displayName="ForwardRef(ActivityIcon)";const yT=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});yT.displayName="ForwardRef(AddCircleIcon)";const jI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});jI.displayName="ForwardRef(AddCommentIcon)";const jv=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V12M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5M6.5 9.5V19.5H11M20 17.5H16.5M16.5 17.5H13M16.5 17.5V14M16.5 17.5V21",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});jv.displayName="ForwardRef(AddDocumentIcon)";const wa=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});wa.displayName="ForwardRef(AddIcon)";const KS=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.17857 15.2368C3.10714 15.7632 1.5 16.8158 1.5 20.5H16.5C16.5 16.8158 15.2589 15.943 13.8214 15.2368C12.75 14.7105 10.6071 14.7105 10.6071 13.1316C10.6071 11.5526 11.6786 10.7632 11.6786 8.65789C11.6786 6.55263 10.6071 5.5 9 5.5C7.39285 5.5 6.32142 6.55263 6.32142 8.65789C6.32142 10.7632 7.39286 11.5526 7.39286 13.1316C7.39286 14.7105 5.25 14.7105 4.17857 15.2368Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M19.5 7V14M16 10.5H23",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});KS.displayName="ForwardRef(AddUserIcon)";const Lpe=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),u.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})});Lpe.displayName="ForwardRef(ApiIcon)";const Bpe=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Bpe.displayName="ForwardRef(ArchiveIcon)";const r9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});r9.displayName="ForwardRef(ArrowDownIcon)";const Iv=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Iv.displayName="ForwardRef(ArrowLeftIcon)";const i9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});i9.displayName="ForwardRef(ArrowRightIcon)";const Vpe=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Vpe.displayName="ForwardRef(ArrowTopRightIcon)";const zpe=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});zpe.displayName="ForwardRef(ArrowUpIcon)";const Upe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"asterisk",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Upe.displayName="ForwardRef(AsteriskIcon)";const Hpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Hpe.displayName="ForwardRef(BarChartIcon)";const Wpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Wpe.displayName="ForwardRef(BasketIcon)";const Gpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Gpe.displayName="ForwardRef(BellIcon)";const Ype=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ype.displayName="ForwardRef(BillIcon)";const Dv=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})});Dv.displayName="ForwardRef(BinaryDocumentIcon)";const a9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),u.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})});a9.displayName="ForwardRef(BlockContentIcon)";const o9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});o9.displayName="ForwardRef(BlockElementIcon)";const qpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});qpe.displayName="ForwardRef(BlockquoteIcon)";const s9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})});s9.displayName="ForwardRef(BoldIcon)";const II=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});II.displayName="ForwardRef(BoltIcon)";const Kpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Kpe.displayName="ForwardRef(BookIcon)";const Zpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Zpe.displayName="ForwardRef(BottleIcon)";const Xpe=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),u.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883L9.06122 13.9883L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})});Xpe.displayName="ForwardRef(BulbFilledIcon)";const ZS=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})});ZS.displayName="ForwardRef(BulbOutlineIcon)";const Fa=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Fa.displayName="ForwardRef(CalendarIcon)";const Jpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Jpe.displayName="ForwardRef(CaseIcon)";const Qpe=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Qpe.displayName="ForwardRef(ChartUpwardIcon)";const Ap=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ap.displayName="ForwardRef(CheckmarkCircleIcon)";const _a=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});_a.displayName="ForwardRef(CheckmarkIcon)";const Di=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Di.displayName="ForwardRef(ChevronDownIcon)";const If=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});If.displayName="ForwardRef(ChevronLeftIcon)";const io=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});io.displayName="ForwardRef(ChevronRightIcon)";const l9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});l9.displayName="ForwardRef(ChevronUpIcon)";const mg=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});mg.displayName="ForwardRef(CircleIcon)";const u9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});u9.displayName="ForwardRef(ClipboardIcon)";const eme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});eme.displayName="ForwardRef(ClipboardImageIcon)";const DI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});DI.displayName="ForwardRef(ClockIcon)";const tme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});tme.displayName="ForwardRef(CloseCircleIcon)";const Nr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Nr.displayName="ForwardRef(CloseIcon)";const nme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});nme.displayName="ForwardRef(CodeBlockIcon)";const c9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});c9.displayName="ForwardRef(CodeIcon)";const MI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});MI.displayName="ForwardRef(CogIcon)";const d9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});d9.displayName="ForwardRef(CollapseIcon)";const rme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});rme.displayName="ForwardRef(ColorWheelIcon)";const RI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});RI.displayName="ForwardRef(CommentIcon)";const ime=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});ime.displayName="ForwardRef(ComponentIcon)";const ame=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});ame.displayName="ForwardRef(ComposeIcon)";const ome=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"confetti",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25Z",fill:"currentColor"}),u.jsx("path",{d:"M19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z",fill:"currentColor"}),u.jsx("path",{d:"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.066 16.4904C15.3965 17.1598 13.1126 15.9613 10.9647 13.8135C8.81684 11.6656 7.61835 9.38165 8.28782 8.71218M16.066 16.4904C16.7355 15.8209 15.537 13.537 13.3891 11.3891C11.2412 9.2412 8.95729 8.04271 8.28782 8.71218M16.066 16.4904C15.8661 16.6902 15.6277 16.8474 15.3657 16.952L6.99288 20.296C6.26931 20.5849 5.44878 20.4193 4.9038 19.8744C4.35883 19.3294 4.19324 18.5089 4.48221 17.7853L7.82614 9.41242C7.93077 9.15042 8.08793 8.91208 8.28782 8.71218M20 5C20 14 11.5 5.32688 11.5 14.3269",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});ome.displayName="ForwardRef(ConfettiIcon)";const OI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});OI.displayName="ForwardRef(ControlsIcon)";const Gl=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Gl.displayName="ForwardRef(CopyIcon)";const sme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});sme.displayName="ForwardRef(CreditCardIcon)";const f9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});f9.displayName="ForwardRef(CropIcon)";const lme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});lme.displayName="ForwardRef(CubeIcon)";const ume=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});ume.displayName="ForwardRef(DashboardIcon)";const cme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});cme.displayName="ForwardRef(DatabaseIcon)";const h9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});h9.displayName="ForwardRef(DesktopIcon)";const dme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"diamond",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});dme.displayName="ForwardRef(DiamondIcon)";const Pu=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Pu.displayName="ForwardRef(DocumentIcon)";const fme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});fme.displayName="ForwardRef(DocumentPdfIcon)";const hme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});hme.displayName="ForwardRef(DocumentRemoveIcon)";const pme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});pme.displayName="ForwardRef(DocumentSheetIcon)";const mme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});mme.displayName="ForwardRef(DocumentTextIcon)";const gme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});gme.displayName="ForwardRef(DocumentVideoIcon)";const yme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});yme.displayName="ForwardRef(DocumentWordIcon)";const vme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});vme.displayName="ForwardRef(DocumentZipIcon)";const $I=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});$I.displayName="ForwardRef(DocumentsIcon)";const p9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:2.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})});p9.displayName="ForwardRef(DotIcon)";const bme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 8L12.5 12.5L8 8M17 13L12.5 17.5L8 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});bme.displayName="ForwardRef(DoubleChevronDownIcon)";const m9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12 17L7.5 12.5L12 8M17 17L12.5 12.5L17 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});m9.displayName="ForwardRef(DoubleChevronLeftIcon)";const PI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 8L17.5 12.5L13 17M8 8L12.5 12.5L8 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});PI.displayName="ForwardRef(DoubleChevronRightIcon)";const xme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12L12.5 7.5L17 12M8 17L12.5 12.5L17 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});xme.displayName="ForwardRef(DoubleChevronUpIcon)";const FI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});FI.displayName="ForwardRef(DownloadIcon)";const g9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),u.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})});g9.displayName="ForwardRef(DragHandleIcon)";const wme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});wme.displayName="ForwardRef(DropIcon)";const K1=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});K1.displayName="ForwardRef(EarthAmericasIcon)";const Cme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Cme.displayName="ForwardRef(EarthGlobeIcon)";const Lc=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Lc.displayName="ForwardRef(EditIcon)";const Mv=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})});Mv.displayName="ForwardRef(EllipsisHorizontalIcon)";const Sme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})});Sme.displayName="ForwardRef(EllipsisVerticalIcon)";const Eme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"empty",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 21V19.1111M8.25 19.8614L9.19445 18.2255M5.13878 16.7501L6.77461 15.8057M4 12.5H5.8889M5.13872 8.2499L6.77455 9.19436M8.25004 5.13876L9.19449 6.7746M12.5 5.88891V4M15.8055 6.77465L16.75 5.1388M18.2254 9.19449L19.8612 8.25004M19.1111 12.5001H21M18.2254 15.8056L19.8612 16.7501M15.8056 18.2255L16.75 19.8614",stroke:"currentColor",strokeWidth:1.2})})});Eme.displayName="ForwardRef(EmptyIcon)";const kme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});kme.displayName="ForwardRef(EnterIcon)";const _me=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});_me.displayName="ForwardRef(EnterRightIcon)";const Tme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Tme.displayName="ForwardRef(EnvelopeIcon)";const Ame=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})});Ame.displayName="ForwardRef(EqualIcon)";const jme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})});jme.displayName="ForwardRef(ErrorFilledIcon)";const Ta=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ta.displayName="ForwardRef(ErrorOutlineIcon)";const y9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});y9.displayName="ForwardRef(ExpandIcon)";const Ime=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ime.displayName="ForwardRef(EyeClosedIcon)";const NI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});NI.displayName="ForwardRef(EyeOpenIcon)";const Dme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});Dme.displayName="ForwardRef(FilterIcon)";const v9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});v9.displayName="ForwardRef(FolderIcon)";const Mme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Mme.displayName="ForwardRef(GenerateIcon)";const Rme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),u.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),u.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})});Rme.displayName="ForwardRef(GroqIcon)";const Ome=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"hash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z",fill:"currentColor"})})});Ome.displayName="ForwardRef(HashIcon)";const $me=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});$me.displayName="ForwardRef(HeartFilledIcon)";const Pme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Pme.displayName="ForwardRef(HeartIcon)";const gg=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});gg.displayName="ForwardRef(HelpCircleIcon)";const Fme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"highlight",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5311 13.7141L8.0245 8.22547M17.5311 13.7141L20.25 9.00478M17.5311 13.7141L16.5 15.5L13.232 16.134L12 18L11.4142 17.6485M8.0245 8.22547L10.75 3.50479M8.0245 8.22547L6.99999 9.99998L7.99998 13L6.99998 15L7.58576 15.3514M7.58576 15.3514L4.90192 20L10.0566 20L11.4142 17.6485M7.58576 15.3514L11.4142 17.6485M13 20H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Fme.displayName="ForwardRef(HighlightIcon)";const Nme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Nme.displayName="ForwardRef(HomeIcon)";const Lme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Lme.displayName="ForwardRef(IceCreamIcon)";const Yl=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Yl.displayName="ForwardRef(ImageIcon)";const Bme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Bme.displayName="ForwardRef(ImageRemoveIcon)";const Vme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Vme.displayName="ForwardRef(ImagesIcon)";const zme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})});zme.displayName="ForwardRef(InfoFilledIcon)";const Df=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Df.displayName="ForwardRef(InfoOutlineIcon)";const b9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});b9.displayName="ForwardRef(InlineElementIcon)";const Ume=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ume.displayName="ForwardRef(InlineIcon)";const LI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});LI.displayName="ForwardRef(InsertAboveIcon)";const BI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});BI.displayName="ForwardRef(InsertBelowIcon)";const x9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})});x9.displayName="ForwardRef(ItalicIcon)";const Hme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Hme.displayName="ForwardRef(JoystickIcon)";const w9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});w9.displayName="ForwardRef(JsonIcon)";const Wc=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Wc.displayName="ForwardRef(LaunchIcon)";const VI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});VI.displayName="ForwardRef(LeaveIcon)";const Wme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Wme.displayName="ForwardRef(LemonIcon)";const Ss=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ss.displayName="ForwardRef(LinkIcon)";const C9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});C9.displayName="ForwardRef(LinkRemovedIcon)";const Gme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Gme.displayName="ForwardRef(LockIcon)";const Yme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})});Yme.displayName="ForwardRef(LogoJsIcon)";const qme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})});qme.displayName="ForwardRef(LogoTsIcon)";const S9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});S9.displayName="ForwardRef(MasterDetailIcon)";const E9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});E9.displayName="ForwardRef(MenuIcon)";const Kme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Kme.displayName="ForwardRef(MobileDeviceIcon)";const k9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});k9.displayName="ForwardRef(MoonIcon)";const _9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),u.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),u.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),u.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})});_9.displayName="ForwardRef(NumberIcon)";const Zme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Zme.displayName="ForwardRef(OkHandIcon)";const T9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});T9.displayName="ForwardRef(OlistIcon)";const Xme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Xme.displayName="ForwardRef(OverageIcon)";const Jme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Jme.displayName="ForwardRef(PackageIcon)";const A9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});A9.displayName="ForwardRef(PanelLeftIcon)";const j9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});j9.displayName="ForwardRef(PanelRightIcon)";const Qme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})});Qme.displayName="ForwardRef(PauseIcon)";const ege=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});ege.displayName="ForwardRef(PinIcon)";const tge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});tge.displayName="ForwardRef(PinRemovedIcon)";const nge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});nge.displayName="ForwardRef(PlayIcon)";const rge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});rge.displayName="ForwardRef(PlugIcon)";const ige=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});ige.displayName="ForwardRef(PresentationIcon)";const age=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-50",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M17 12.5C17 14.9853 14.9853 17 12.5 17V8C14.9853 8 17 10.0147 17 12.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});age.displayName="ForwardRef(Progress50Icon)";const oge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-75",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 17C14.9853 17 17 14.9853 17 12.5C17 10.0147 14.9853 8 12.5 8V12.5H8C8 14.9853 10.0147 17 12.5 17Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});oge.displayName="ForwardRef(Progress75Icon)";const sge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"projects",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 17.5H14M17.5 14V21M5.5 14.5H10.5V19.5H5.5V14.5ZM14.5 5.5H19.5V10.5H14.5V5.5ZM5.5 5.5H10.5V10.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});sge.displayName="ForwardRef(ProjectsIcon)";const Hm=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Hm.displayName="ForwardRef(PublishIcon)";const Rv=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Rv.displayName="ForwardRef(ReadOnlyIcon)";const lge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});lge.displayName="ForwardRef(RedoIcon)";const uge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});uge.displayName="ForwardRef(RefreshIcon)";const cge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});cge.displayName="ForwardRef(RemoveCircleIcon)";const I9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});I9.displayName="ForwardRef(RemoveIcon)";const Bc=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})});Bc.displayName="ForwardRef(ResetIcon)";const zI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});zI.displayName="ForwardRef(RestoreIcon)";const dge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});dge.displayName="ForwardRef(RetrieveIcon)";const fge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});fge.displayName="ForwardRef(RetryIcon)";const UI=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});UI.displayName="ForwardRef(RevertIcon)";const hge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});hge.displayName="ForwardRef(RobotIcon)";const pge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});pge.displayName="ForwardRef(RocketIcon)";const mge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});mge.displayName="ForwardRef(SchemaIcon)";const Ca=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ca.displayName="ForwardRef(SearchIcon)";const D9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16 15L12.5 18.5L9 15M9 10L12.5 6.5L16 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});D9.displayName="ForwardRef(SelectIcon)";const gge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});gge.displayName="ForwardRef(ShareIcon)";const Oy=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Oy.displayName="ForwardRef(SortIcon)";const yge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});yge.displayName="ForwardRef(SparkleIcon)";const vge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})});vge.displayName="ForwardRef(SparklesIcon)";const Ov=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ov.displayName="ForwardRef(SpinnerIcon)";const bge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});bge.displayName="ForwardRef(SplitHorizontalIcon)";const M9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});M9.displayName="ForwardRef(SplitVerticalIcon)";const xge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});xge.displayName="ForwardRef(SquareIcon)";const HI=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});HI.displayName="ForwardRef(StackCompactIcon)";const R9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});R9.displayName="ForwardRef(StackIcon)";const wge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"star-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})});wge.displayName="ForwardRef(StarFilledIcon)";const Cge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Cge.displayName="ForwardRef(StarIcon)";const Sge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Sge.displayName="ForwardRef(StopIcon)";const O9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),u.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),u.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})});O9.displayName="ForwardRef(StrikethroughIcon)";const xm=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),u.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})});xm.displayName="ForwardRef(StringIcon)";const $9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});$9.displayName="ForwardRef(SunIcon)";const n0=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});n0.displayName="ForwardRef(SyncIcon)";const Ege=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Ege.displayName="ForwardRef(TabletDeviceIcon)";const kge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});kge.displayName="ForwardRef(TagIcon)";const _ge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});_ge.displayName="ForwardRef(TagsIcon)";const XS=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"task",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.88281 10.75V19.75H20.8828V10.75M4.88281 10.75V5.75H20.8828V10.75M4.88281 10.75H12.8828H20.8828M17.8828 8.25V3.25M7.88281 8.25V3.25",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.083 14.7358L12.083 16.7358L15.683 13.1758",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});XS.displayName="ForwardRef(TaskIcon)";const Tge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Tge.displayName="ForwardRef(TerminalIcon)";const Age=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Age.displayName="ForwardRef(TextIcon)";const P9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});P9.displayName="ForwardRef(ThLargeIcon)";const jge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});jge.displayName="ForwardRef(ThListIcon)";const Ige=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ige.displayName="ForwardRef(TiersIcon)";const JS=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})});JS.displayName="ForwardRef(ToggleArrowRightIcon)";const Dge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Dge.displayName="ForwardRef(TokenIcon)";const Mge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Mge.displayName="ForwardRef(TransferIcon)";const Rge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})});Rge.displayName="ForwardRef(TranslateIcon)";const Jr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Jr.displayName="ForwardRef(TrashIcon)";const Oge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Oge.displayName="ForwardRef(TrendUpwardIcon)";const $ge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});$ge.displayName="ForwardRef(TriangleOutlineIcon)";const Pge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Pge.displayName="ForwardRef(TrolleyIcon)";const Fge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Fge.displayName="ForwardRef(TruncateIcon)";const Nge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})});Nge.displayName="ForwardRef(TwitterIcon)";const Wm=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Wm.displayName="ForwardRef(UlistIcon)";const Lge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unarchive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10.5V18M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 10.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Lge.displayName="ForwardRef(UnarchiveIcon)";const F9=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),u.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});F9.displayName="ForwardRef(UnderlineIcon)";const fC=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});fC.displayName="ForwardRef(UndoIcon)";const Fl=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Fl.displayName="ForwardRef(UnknownIcon)";const Bge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlink",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 13.5L17.5 11C18.281 10.219 18.281 8.78105 17.5 8L17 7.5C16.2189 6.71895 14.781 6.71895 14 7.5L11.5 10M10 11.5L7.5 14C6.71896 14.781 6.71895 16.219 7.5 17L8 17.5C8.78105 18.281 10.2189 18.281 11 17.5L13.5 15M9.5 8V5M8 9.5H5M17 15.5H20M15.5 17V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Bge.displayName="ForwardRef(UnlinkIcon)";const Vge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Vge.displayName="ForwardRef(UnlockIcon)";const hC=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});hC.displayName="ForwardRef(UnpublishIcon)";const QS=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});QS.displayName="ForwardRef(UploadIcon)";const $y=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});$y.displayName="ForwardRef(UserIcon)";const N9=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});N9.displayName="ForwardRef(UsersIcon)";const zge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})});zge.displayName="ForwardRef(WarningFilledIcon)";const gr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});gr.displayName="ForwardRef(WarningOutlineIcon)";const Uge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6758 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.9771 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784L12.4535 5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242L5.21498 16.4242L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108L6.06351 19.5108L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L18.5475 11.9318L18.5475 11.9318L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83124 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76897L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.9771 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0986 7.19284 10.7021 9.14217 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76897L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})});Uge.displayName="ForwardRef(WrenchIcon)";const zLe={"access-denied":sf,activity:Npe,"add-circle":yT,"add-comment":jI,"add-document":jv,add:wa,"add-user":KS,api:Lpe,archive:Bpe,"arrow-down":r9,"arrow-left":Iv,"arrow-right":i9,"arrow-top-right":Vpe,"arrow-up":zpe,asterisk:Upe,"bar-chart":Hpe,basket:Wpe,bell:Gpe,bill:Ype,"binary-document":Dv,"block-content":a9,"block-element":o9,blockquote:qpe,bold:s9,bolt:II,book:Kpe,bottle:Zpe,"bulb-filled":Xpe,"bulb-outline":ZS,calendar:Fa,case:Jpe,"chart-upward":Qpe,"checkmark-circle":Ap,checkmark:_a,"chevron-down":Di,"chevron-left":If,"chevron-right":io,"chevron-up":l9,circle:mg,clipboard:u9,"clipboard-image":eme,clock:DI,"close-circle":tme,close:Nr,"code-block":nme,code:c9,cog:MI,collapse:d9,"color-wheel":rme,comment:RI,component:ime,compose:ame,confetti:ome,controls:OI,copy:Gl,"credit-card":sme,crop:f9,cube:lme,dashboard:ume,database:cme,desktop:h9,diamond:dme,document:Pu,"document-pdf":fme,"document-remove":hme,"document-sheet":pme,"document-text":mme,"document-video":gme,"document-word":yme,"document-zip":vme,documents:$I,dot:p9,"double-chevron-down":bme,"double-chevron-left":m9,"double-chevron-right":PI,"double-chevron-up":xme,download:FI,"drag-handle":g9,drop:wme,"earth-americas":K1,"earth-globe":Cme,edit:Lc,"ellipsis-horizontal":Mv,"ellipsis-vertical":Sme,empty:Eme,enter:kme,"enter-right":_me,envelope:Tme,equal:Ame,"error-filled":jme,"error-outline":Ta,expand:y9,"eye-closed":Ime,"eye-open":NI,filter:Dme,folder:v9,generate:Mme,groq:Rme,hash:Ome,"heart-filled":$me,heart:Pme,"help-circle":gg,highlight:Fme,home:Nme,"ice-cream":Lme,image:Yl,"image-remove":Bme,images:Vme,"info-filled":zme,"info-outline":Df,"inline-element":b9,inline:Ume,"insert-above":LI,"insert-below":BI,italic:x9,joystick:Hme,json:w9,launch:Wc,leave:VI,lemon:Wme,link:Ss,"link-removed":C9,lock:Gme,"logo-js":Yme,"logo-ts":qme,"master-detail":S9,menu:E9,"mobile-device":Kme,moon:k9,number:_9,"ok-hand":Zme,olist:T9,overage:Xme,package:Jme,"panel-left":A9,"panel-right":j9,pause:Qme,pin:ege,"pin-removed":tge,play:nge,plug:rge,presentation:ige,"progress-50":age,"progress-75":oge,projects:sge,publish:Hm,"read-only":Rv,redo:lge,refresh:uge,"remove-circle":cge,remove:I9,reset:Bc,restore:zI,retrieve:dge,retry:fge,revert:UI,robot:hge,rocket:pge,schema:mge,search:Ca,select:D9,share:gge,sort:Oy,sparkle:yge,sparkles:vge,spinner:Ov,"split-horizontal":bge,"split-vertical":M9,square:xge,"stack-compact":HI,stack:R9,"star-filled":wge,star:Cge,stop:Sge,strikethrough:O9,string:xm,sun:$9,sync:n0,"tablet-device":Ege,tag:kge,tags:_ge,task:XS,terminal:Tge,text:Age,"th-large":P9,"th-list":jge,tiers:Ige,"toggle-arrow-right":JS,token:Dge,transfer:Mge,translate:Rge,trash:Jr,"trend-upward":Oge,"triangle-outline":$ge,trolley:Pge,truncate:Fge,twitter:Nge,ulist:Wm,unarchive:Lge,underline:F9,undo:fC,unknown:Fl,unlink:Bge,unlock:Vge,unpublish:hC,upload:QS,user:$y,users:N9,"warning-filled":zge,"warning-outline":gr,wrench:Uge},L9=f.forwardRef(function(e,t){const{symbol:n,...r}=e,i=zLe[n];return i?u.jsx(i,{...r,ref:t}):null});L9.displayName="ForwardRef(Icon)";var ULe=WLe,HLe=Object.prototype.hasOwnProperty;function WLe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)HLe.call(n,r)&&(e[r]=n[r])}return e}var Hge=Wge,B9=Wge.prototype;B9.space=null;B9.normal={};B9.property={};function Wge(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var mK=ULe,GLe=Hge,YLe=qLe;function qLe(e){for(var t=e.length,n=[],r=[],i=-1,a,o;++i<t;)a=e[i],n.push(a.property),r.push(a.normal),o=a.space;return new GLe(mK.apply(null,n),mK.apply(null,r),o)}var V9=KLe;function KLe(e){return e.toLowerCase()}var Gge=Yge,ru=Yge.prototype;ru.space=null;ru.attribute=null;ru.property=null;ru.boolean=!1;ru.booleanish=!1;ru.overloadedBoolean=!1;ru.number=!1;ru.commaSeparated=!1;ru.spaceSeparated=!1;ru.commaOrSpaceSeparated=!1;ru.mustUseProperty=!1;ru.defined=!1;function Yge(e,t){this.property=e,this.attribute=t}var Gc={},ZLe=0;Gc.boolean=r0();Gc.booleanish=r0();Gc.overloadedBoolean=r0();Gc.number=r0();Gc.spaceSeparated=r0();Gc.commaSeparated=r0();Gc.commaOrSpaceSeparated=r0();function r0(){return Math.pow(2,++ZLe)}var qge=Gge,gK=Gc,Kge=z9;z9.prototype=new qge;z9.prototype.defined=!0;var Zge=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],XLe=Zge.length;function z9(e,t,n,r){var i=-1,a;for(yK(this,"space",r),qge.call(this,e,t);++i<XLe;)a=Zge[i],yK(this,a,(n&gK[a])===gK[a])}function yK(e,t,n){n&&(e[t]=n)}var vK=V9,JLe=Hge,QLe=Kge,eE=e8e;function e8e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},i=e.properties,a=e.transform,o={},s={},l,c;for(l in i)c=new QLe(l,a(r,l),i[l],t),n.indexOf(l)!==-1&&(c.mustUseProperty=!0),o[l]=c,s[vK(l)]=l,s[vK(c.attribute)]=l;return new JLe(o,s,t)}var t8e=eE,n8e=t8e({space:"xlink",transform:r8e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function r8e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var i8e=eE,a8e=i8e({space:"xml",transform:o8e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function o8e(e,t){return"xml:"+t.slice(3).toLowerCase()}var s8e=l8e;function l8e(e,t){return t in e?e[t]:t}var u8e=s8e,Xge=c8e;function c8e(e,t){return u8e(e,t.toLowerCase())}var d8e=eE,f8e=Xge,h8e=d8e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:f8e,properties:{xmlns:null,xmlnsXLink:null}}),U9=Gc,p8e=eE,os=U9.booleanish,ml=U9.number,tm=U9.spaceSeparated,m8e=p8e({transform:g8e,properties:{ariaActiveDescendant:null,ariaAtomic:os,ariaAutoComplete:null,ariaBusy:os,ariaChecked:os,ariaColCount:ml,ariaColIndex:ml,ariaColSpan:ml,ariaControls:tm,ariaCurrent:null,ariaDescribedBy:tm,ariaDetails:null,ariaDisabled:os,ariaDropEffect:tm,ariaErrorMessage:null,ariaExpanded:os,ariaFlowTo:tm,ariaGrabbed:os,ariaHasPopup:null,ariaHidden:os,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tm,ariaLevel:ml,ariaLive:null,ariaModal:os,ariaMultiLine:os,ariaMultiSelectable:os,ariaOrientation:null,ariaOwns:tm,ariaPlaceholder:null,ariaPosInSet:ml,ariaPressed:os,ariaReadOnly:os,ariaRelevant:null,ariaRequired:os,ariaRoleDescription:tm,ariaRowCount:ml,ariaRowIndex:ml,ariaRowSpan:ml,ariaSelected:os,ariaSetSize:ml,ariaSort:null,ariaValueMax:ml,ariaValueMin:ml,ariaValueNow:ml,ariaValueText:null,role:null}});function g8e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var $v=Gc,y8e=eE,v8e=Xge,ln=$v.boolean,b8e=$v.overloadedBoolean,nx=$v.booleanish,zr=$v.number,Do=$v.spaceSeparated,Yk=$v.commaSeparated,x8e=y8e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:v8e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yk,acceptCharset:Do,accessKey:Do,action:null,allow:null,allowFullScreen:ln,allowPaymentRequest:ln,allowUserMedia:ln,alt:null,as:null,async:ln,autoCapitalize:null,autoComplete:Do,autoFocus:ln,autoPlay:ln,capture:ln,charSet:null,checked:ln,cite:null,className:Do,cols:zr,colSpan:null,content:null,contentEditable:nx,controls:ln,controlsList:Do,coords:zr|Yk,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ln,defer:ln,dir:null,dirName:null,disabled:ln,download:b8e,draggable:nx,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ln,formTarget:null,headers:Do,height:zr,hidden:ln,high:zr,href:null,hrefLang:null,htmlFor:Do,httpEquiv:Do,id:null,imageSizes:null,imageSrcSet:Yk,inputMode:null,integrity:null,is:null,isMap:ln,itemId:null,itemProp:Do,itemRef:Do,itemScope:ln,itemType:Do,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ln,low:zr,manifest:null,max:null,maxLength:zr,media:null,method:null,min:null,minLength:zr,multiple:ln,muted:ln,name:null,nonce:null,noModule:ln,noValidate:ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ln,optimum:zr,pattern:null,ping:Do,placeholder:null,playsInline:ln,poster:null,preload:null,readOnly:ln,referrerPolicy:null,rel:Do,required:ln,reversed:ln,rows:zr,rowSpan:zr,sandbox:Do,scope:null,scoped:ln,seamless:ln,selected:ln,shape:null,size:zr,sizes:null,slot:null,span:zr,spellCheck:nx,src:null,srcDoc:null,srcLang:null,srcSet:Yk,start:zr,step:null,style:null,tabIndex:zr,target:null,title:null,translate:null,type:null,typeMustMatch:ln,useMap:null,value:nx,width:zr,wrap:null,align:null,aLink:null,archive:Do,axis:null,background:null,bgColor:null,border:zr,borderColor:null,bottomMargin:zr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ln,declare:ln,event:null,face:null,frame:null,frameBorder:null,hSpace:zr,leftMargin:zr,link:null,longDesc:null,lowSrc:null,marginHeight:zr,marginWidth:zr,noResize:ln,noHref:ln,noShade:ln,noWrap:ln,object:null,profile:null,prompt:null,rev:null,rightMargin:zr,rules:null,scheme:null,scrolling:nx,standby:null,summary:null,text:null,topMargin:zr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:zr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ln,disableRemotePlayback:ln,prefix:null,property:null,results:zr,security:null,unselectable:null}}),w8e=YLe,C8e=n8e,S8e=a8e,E8e=h8e,k8e=m8e,_8e=x8e,T8e=w8e([S8e,C8e,E8e,k8e,_8e]),A8e=V9,j8e=Kge,I8e=Gge,H9="data",D8e=O8e,M8e=/^data[-\w.:]+$/i,Jge=/-[a-z]/g,R8e=/[A-Z]/g;function O8e(e,t){var n=A8e(t),r=t,i=I8e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===H9&&M8e.test(t)&&(t.charAt(4)==="-"?r=$8e(t):t=P8e(t),i=j8e),new i(r,t))}function $8e(e){var t=e.slice(5).replace(Jge,N8e);return H9+t.charAt(0).toUpperCase()+t.slice(1)}function P8e(e){var t=e.slice(4);return Jge.test(t)?e:(t=t.replace(R8e,F8e),t.charAt(0)!=="-"&&(t="-"+t),H9+t)}function F8e(e){return"-"+e.toLowerCase()}function N8e(e){return e.charAt(1).toUpperCase()}var L8e=B8e,bK=/[#.]/g;function B8e(e,t){for(var n=e||"",r=t||"div",i={},a=0,o,s,l;a<n.length;)bK.lastIndex=a,l=bK.exec(n),o=n.slice(a,l?l.index:n.length),o&&(s?s==="#"?i.id=o:i.className?i.className.push(o):i.className=[o]:r=o,a+=o.length),l&&(s=l[0],a++);return{type:"element",tagName:r,properties:i,children:[]}}var W9={};W9.parse=U8e;W9.stringify=H8e;var xK="",V8e=" ",z8e=/[ \t\n\r\f]+/g;function U8e(e){var t=String(e||xK).trim();return t===xK?[]:t.split(z8e)}function H8e(e){return e.join(V8e).trim()}var G9={};G9.parse=W8e;G9.stringify=G8e;var QF=",",wK=" ",tw="";function W8e(e){for(var t=[],n=String(e||tw),r=n.indexOf(QF),i=0,a=!1,o;!a;)r===-1&&(r=n.length,a=!0),o=n.slice(i,r).trim(),(o||!a)&&t.push(o),i=r+1,r=n.indexOf(QF,i);return t}function G8e(e,t){var n=t||{},r=n.padLeft===!1?tw:wK,i=n.padRight?wK:tw;return e[e.length-1]===tw&&(e=e.concat(tw)),e.join(i+QF+r).trim()}var Y8e=D8e,CK=V9,q8e=L8e,SK=W9.parse,EK=G9.parse,K8e=X8e,Z8e={}.hasOwnProperty;function X8e(e,t,n){var r=n?n6e(n):null;return i;function i(o,s){var l=q8e(o,t),c=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),h;if(l.tagName=r&&Z8e.call(r,d)?r[d]:d,s&&J8e(s,l)&&(c.unshift(s),s=null),s)for(h in s)a(l.properties,h,s[h]);return Qge(l.children,c),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function a(o,s,l){var c,d,h;l==null||l!==l||(c=Y8e(e,s),d=c.property,h=l,typeof h=="string"&&(c.spaceSeparated?h=SK(h):c.commaSeparated?h=EK(h):c.commaOrSpaceSeparated&&(h=SK(EK(h).join(" ")))),d==="style"&&typeof l!="string"&&(h=t6e(h)),d==="className"&&o.className&&(h=o.className.concat(h)),o[d]=e6e(c,d,h))}}function J8e(e,t){return typeof e=="string"||"length"in e||Q8e(t.tagName,e)}function Q8e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function Qge(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)Qge(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function e6e(e,t,n){var r,i,a;if(typeof n!="object"||!("length"in n))return kK(e,t,n);for(i=n.length,r=-1,a=[];++r<i;)a[r]=kK(e,t,n[r]);return a}function kK(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||CK(n)===CK(t))&&(r=!0),r}function t6e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function n6e(e){for(var t=e.length,n=-1,r={},i;++n<t;)i=e[n],r[i.toLowerCase()]=i;return r}var r6e=T8e,i6e=K8e,e0e=i6e(r6e,"div");e0e.displayName="html";var a6e=e0e,o6e=a6e;const s6e="",l6e="&",u6e="",c6e="",d6e="",f6e="",h6e="",p6e="",m6e="",g6e="",y6e="",v6e="",b6e="",x6e="",w6e="",C6e=">",S6e="",E6e="",k6e="",_6e="",T6e="<",A6e="",j6e="",I6e="",D6e="",M6e="",R6e="",O6e="",$6e='"',P6e="",F6e="",N6e="",L6e="",B6e="",V6e="",z6e="",U6e="",H6e="",W6e="",G6e="",Y6e="",q6e="&",K6e="",Z6e="",X6e="",J6e="",Q6e="",e7e="",t7e="",n7e="",r7e="",i7e="",a7e="",o7e="",s7e="",l7e="",u7e="",c7e="",d7e="",f7e="",h7e="",p7e=">",m7e="",g7e="",y7e="",v7e="",b7e="",x7e="",w7e="",C7e="<",S7e="",E7e="",k7e="",_7e="",T7e="",A7e="",j7e="",I7e="",D7e="",M7e="",R7e="",O7e="",$7e="",P7e="",F7e="",N7e="",L7e="",B7e='"',V7e="",z7e="",U7e="",H7e="",W7e="",G7e="",Y7e="",q7e="",K7e="",Z7e="",X7e="",J7e="",Q7e="",e9e="",t9e="",n9e="",r9e="",i9e="",a9e={AElig:s6e,AMP:l6e,Aacute:u6e,Acirc:c6e,Agrave:d6e,Aring:f6e,Atilde:h6e,Auml:p6e,COPY:m6e,Ccedil:g6e,ETH:y6e,Eacute:v6e,Ecirc:b6e,Egrave:x6e,Euml:w6e,GT:C6e,Iacute:S6e,Icirc:E6e,Igrave:k6e,Iuml:_6e,LT:T6e,Ntilde:A6e,Oacute:j6e,Ocirc:I6e,Ograve:D6e,Oslash:M6e,Otilde:R6e,Ouml:O6e,QUOT:$6e,REG:P6e,THORN:F6e,Uacute:N6e,Ucirc:L6e,Ugrave:B6e,Uuml:V6e,Yacute:z6e,aacute:U6e,acirc:H6e,acute:W6e,aelig:G6e,agrave:Y6e,amp:q6e,aring:K6e,atilde:Z6e,auml:X6e,brvbar:J6e,ccedil:Q6e,cedil:e7e,cent:t7e,copy:n7e,curren:r7e,deg:i7e,divide:a7e,eacute:o7e,ecirc:s7e,egrave:l7e,eth:u7e,euml:c7e,frac12:d7e,frac14:f7e,frac34:h7e,gt:p7e,iacute:m7e,icirc:g7e,iexcl:y7e,igrave:v7e,iquest:b7e,iuml:x7e,laquo:w7e,lt:C7e,macr:S7e,micro:E7e,middot:k7e,nbsp:_7e,not:T7e,ntilde:A7e,oacute:j7e,ocirc:I7e,ograve:D7e,ordf:M7e,ordm:R7e,oslash:O7e,otilde:$7e,ouml:P7e,para:F7e,plusmn:N7e,pound:L7e,quot:B7e,raquo:V7e,reg:z7e,sect:U7e,shy:H7e,sup1:W7e,sup2:G7e,sup3:Y7e,szlig:q7e,thorn:K7e,times:Z7e,uacute:X7e,ucirc:J7e,ugrave:Q7e,uml:e9e,uuml:t9e,yacute:n9e,yen:r9e,yuml:i9e},o9e={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var t0e=s9e;function s9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var l9e=u9e;function u9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var c9e=d9e;function d9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var f9e=c9e,h9e=t0e,p9e=m9e;function m9e(e){return f9e(e)||h9e(e)}var qk,g9e=59,y9e=v9e;function v9e(e){var t="&"+e+";",n;return qk=qk||document.createElement("i"),qk.innerHTML=t,n=qk.textContent,n.charCodeAt(n.length-1)===g9e&&e!=="semi"||n===t?!1:n}var _K=a9e,TK=o9e,b9e=t0e,x9e=l9e,n0e=p9e,w9e=y9e,C9e=$9e,S9e={}.hasOwnProperty,H0=String.fromCharCode,E9e=Function.prototype,AK={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},k9e=9,jK=10,_9e=12,T9e=32,IK=38,A9e=59,j9e=60,I9e=61,D9e=35,M9e=88,R9e=120,O9e=65533,a1="named",Y9="hexadecimal",q9="decimal",K9={};K9[Y9]=16;K9[q9]=10;var WI={};WI[a1]=n0e;WI[q9]=b9e;WI[Y9]=x9e;var r0e=1,i0e=2,a0e=3,o0e=4,s0e=5,e4=6,l0e=7,jp={};jp[r0e]="Named character references must be terminated by a semicolon";jp[i0e]="Numeric character references must be terminated by a semicolon";jp[a0e]="Named character references cannot be empty";jp[o0e]="Numeric character references cannot be empty";jp[s0e]="Named character references must be known";jp[e4]="Numeric character references cannot be disallowed";jp[l0e]="Numeric character references cannot be outside the permissible Unicode range";function $9e(e,t){var n={},r,i;t||(t={});for(i in AK)r=t[i],n[i]=r??AK[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),P9e(e,n)}function P9e(e,t){var n=t.additional,r=t.nonTerminated,i=t.text,a=t.reference,o=t.warning,s=t.textContext,l=t.referenceContext,c=t.warningContext,d=t.position,h=t.indent||[],p=e.length,m=0,g=-1,y=d.column||1,v=d.line||1,b="",x=[],w,C,S,E,k,_,T,j,A,I,M,D,O,R,F,P,V,U,H;for(typeof n=="string"&&(n=n.charCodeAt(0)),P=W(),j=o?Z:E9e,m--,p++;++m<p;)if(k===jK&&(y=h[g]||1),k=e.charCodeAt(m),k===IK){if(T=e.charCodeAt(m+1),T===k9e||T===jK||T===_9e||T===T9e||T===IK||T===j9e||T!==T||n&&T===n){b+=H0(k),y++;continue}for(O=m+1,D=O,H=O,T===D9e?(H=++D,T=e.charCodeAt(H),T===M9e||T===R9e?(R=Y9,H=++D):R=q9):R=a1,w="",M="",E="",F=WI[R],H--;++H<p&&(T=e.charCodeAt(H),!!F(T));)E+=H0(T),R===a1&&S9e.call(_K,E)&&(w=E,M=_K[E]);S=e.charCodeAt(H)===A9e,S&&(H++,C=R===a1?w9e(E):!1,C&&(w=E,M=C)),U=1+H-O,!S&&!r||(E?R===a1?(S&&!M?j(s0e,1):(w!==E&&(H=D+w.length,U=1+H-D,S=!1),S||(A=w?r0e:a0e,t.attribute?(T=e.charCodeAt(H),T===I9e?(j(A,U),M=null):n0e(T)?M=null:j(A,U)):j(A,U))),_=M):(S||j(i0e,U),_=parseInt(E,K9[R]),F9e(_)?(j(l0e,U),_=H0(O9e)):_ in TK?(j(e4,U),_=TK[_]):(I="",N9e(_)&&j(e4,U),_>65535&&(_-=65536,I+=H0(_>>>10|55296),_=56320|_&1023),_=I+H0(_))):R!==a1&&j(o0e,U)),_?(J(),P=W(),m=H-1,y+=H-O+1,x.push(_),V=W(),V.offset++,a&&a.call(l,_,{start:P,end:V},e.slice(O-1,H)),P=V):(E=e.slice(O-1,H),b+=E,y+=E.length,m=H-1)}else k===10&&(v++,g++,y=0),k===k?(b+=H0(k),y++):J();return x.join("");function W(){return{line:v,column:y,offset:m+(d.offset||0)}}function Z(re,G){var te=W();te.column+=G,te.offset+=G,o.call(c,jp[re],te,re)}function J(){b&&(x.push(b),i&&i.call(s,b,{start:P,end:W()}),b="")}}function F9e(e){return e>=55296&&e<=57343||e>1114111}function N9e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var u0e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,o={},s={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function x(w){return w instanceof l?new l(w.type,x(w.content),w.alias):Array.isArray(w)?w.map(x):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++a}),x.__id},clone:function x(w,C){C=C||{};var S,E;switch(s.util.type(w)){case"Object":if(E=s.util.objId(w),C[E])return C[E];S={},C[E]=S;for(var k in w)w.hasOwnProperty(k)&&(S[k]=x(w[k],C));return S;case"Array":return E=s.util.objId(w),C[E]?C[E]:(S=[],C[E]=S,w.forEach(function(_,T){S[T]=x(_,C)}),S);default:return w}},getLanguage:function(x){for(;x;){var w=i.exec(x.className);if(w)return w[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,w){x.className=x.className.replace(RegExp(i,"gi"),""),x.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(S){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(x){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==x)return w[C]}return null}},isActive:function(x,w,C){for(var S="no-"+w;x;){var E=x.classList;if(E.contains(w))return!0;if(E.contains(S))return!1;x=x.parentElement}return!!C}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(x,w){var C=s.util.clone(s.languages[x]);for(var S in w)C[S]=w[S];return C},insertBefore:function(x,w,C,S){S=S||s.languages;var E=S[x],k={};for(var _ in E)if(E.hasOwnProperty(_)){if(_==w)for(var T in C)C.hasOwnProperty(T)&&(k[T]=C[T]);C.hasOwnProperty(_)||(k[_]=E[_])}var j=S[x];return S[x]=k,s.languages.DFS(s.languages,function(A,I){I===j&&A!=x&&(this[A]=k)}),k},DFS:function x(w,C,S,E){E=E||{};var k=s.util.objId;for(var _ in w)if(w.hasOwnProperty(_)){C.call(w,_,w[_],S||_);var T=w[_],j=s.util.type(T);j==="Object"&&!E[k(T)]?(E[k(T)]=!0,x(T,C,null,E)):j==="Array"&&!E[k(T)]&&(E[k(T)]=!0,x(T,C,_,E))}}},plugins:{},highlightAll:function(x,w){s.highlightAllUnder(document,x,w)},highlightAllUnder:function(x,w,C){var S={callback:C,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),s.hooks.run("before-all-elements-highlight",S);for(var E=0,k;k=S.elements[E++];)s.highlightElement(k,w===!0,S.callback)},highlightElement:function(x,w,C){var S=s.util.getLanguage(x),E=s.languages[S];s.util.setLanguage(x,S);var k=x.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(k,S);var _=x.textContent,T={element:x,language:S,grammar:E,code:_};function j(I){T.highlightedCode=I,s.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,s.hooks.run("after-highlight",T),s.hooks.run("complete",T),C&&C.call(T.element)}if(s.hooks.run("before-sanity-check",T),k=T.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!T.code){s.hooks.run("complete",T),C&&C.call(T.element);return}if(s.hooks.run("before-highlight",T),!T.grammar){j(s.util.encode(T.code));return}if(w&&r.Worker){var A=new Worker(s.filename);A.onmessage=function(I){j(I.data)},A.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else j(s.highlight(T.code,T.grammar,T.language))},highlight:function(x,w,C){var S={code:x,grammar:w,language:C};if(s.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=s.tokenize(S.code,S.grammar),s.hooks.run("after-tokenize",S),l.stringify(s.util.encode(S.tokens),S.language)},tokenize:function(x,w){var C=w.rest;if(C){for(var S in C)w[S]=C[S];delete w.rest}var E=new h;return p(E,E.head,x),d(x,E,w,E.head,0),g(E)},hooks:{all:{},add:function(x,w){var C=s.hooks.all;C[x]=C[x]||[],C[x].push(w)},run:function(x,w){var C=s.hooks.all[x];if(!(!C||!C.length))for(var S=0,E;E=C[S++];)E(w)}},Token:l};r.Prism=s;function l(x,w,C,S){this.type=x,this.content=w,this.alias=C,this.length=(S||"").length|0}l.stringify=function x(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var S="";return w.forEach(function(j){S+=x(j,C)}),S}var E={type:w.type,content:x(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},k=w.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(E.classes,k):E.classes.push(k)),s.hooks.run("wrap",E);var _="";for(var T in E.attributes)_+=" "+T+'="'+(E.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+E.tag+' class="'+E.classes.join(" ")+'"'+_+">"+E.content+"</"+E.tag+">"};function c(x,w,C,S){x.lastIndex=w;var E=x.exec(C);if(E&&S&&E[1]){var k=E[1].length;E.index+=k,E[0]=E[0].slice(k)}return E}function d(x,w,C,S,E,k){for(var _ in C)if(!(!C.hasOwnProperty(_)||!C[_])){var T=C[_];T=Array.isArray(T)?T:[T];for(var j=0;j<T.length;++j){if(k&&k.cause==_+","+j)return;var A=T[j],I=A.inside,M=!!A.lookbehind,D=!!A.greedy,O=A.alias;if(D&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var F=A.pattern||A,P=S.next,V=E;P!==w.tail&&!(k&&V>=k.reach);V+=P.value.length,P=P.next){var U=P.value;if(w.length>x.length)return;if(!(U instanceof l)){var H=1,W;if(D){if(W=c(F,V,x,M),!W||W.index>=x.length)break;var G=W.index,Z=W.index+W[0].length,J=V;for(J+=P.value.length;G>=J;)P=P.next,J+=P.value.length;if(J-=P.value.length,V=J,P.value instanceof l)continue;for(var re=P;re!==w.tail&&(J<Z||typeof re.value=="string");re=re.next)H++,J+=re.value.length;H--,U=x.slice(V,J),W.index-=V}else if(W=c(F,0,U,M),!W)continue;var G=W.index,te=W[0],X=U.slice(0,G),K=U.slice(G+te.length),Q=V+U.length;k&&Q>k.reach&&(k.reach=Q);var ee=P.prev;X&&(ee=p(w,ee,X),V+=X.length),m(w,ee,H);var se=new l(_,I?s.tokenize(te,I):te,O,te);if(P=p(w,ee,se),K&&p(w,P,K),H>1){var le={cause:_+","+j,reach:Q};d(x,w,C,P.prev,V,le),k&&le.reach>k.reach&&(k.reach=le.reach)}}}}}}function h(){var x={value:null,prev:null,next:null},w={value:null,prev:x,next:null};x.next=w,this.head=x,this.tail=w,this.length=0}function p(x,w,C){var S=w.next,E={value:C,prev:w,next:S};return w.next=E,S.prev=E,x.length++,E}function m(x,w,C){for(var S=w.next,E=0;E<C&&S!==x.tail;E++)S=S.next;w.next=S,S.prev=w,x.length-=E}function g(x){for(var w=[],C=x.head.next;C!==x.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(s.disableWorkerMessageHandler||r.addEventListener("message",function(x){var w=JSON.parse(x.data),C=w.language,S=w.code,E=w.immediateClose;r.postMessage(s.highlight(S,s.languages[C],C)),E&&r.close()},!1)),s;var y=s.util.currentScript();y&&(s.filename=y.src,y.hasAttribute("data-manual")&&(s.manual=!0));function v(){s.manual||s.highlightAll()}if(!s.manual){var b=document.readyState;b==="loading"||b==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",v):window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,16)}return s}(t);e.exports&&(e.exports=n),typeof va<"u"&&(va.Prism=n)})(u0e);var L9e=u0e.exports,B9e=Z9;Z9.displayName="markup";Z9.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function Z9(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:a},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var V9e=X9;X9.displayName="css";X9.aliases=[];function X9(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var z9e=J9;J9.displayName="clike";J9.aliases=[];function J9(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var c0e=Q9;Q9.displayName="javascript";Q9.aliases=["js"];function Q9(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const U9e=Fe(c0e);var nw=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof va=="object"?va:{},H9e=oBe();nw.Prism={manual:!0,disableWorkerMessageHandler:!0};var W9e=o6e,G9e=C9e,d0e=L9e,Y9e=B9e,q9e=V9e,K9e=z9e,Z9e=c0e;H9e();var eB={}.hasOwnProperty;function f0e(){}f0e.prototype=d0e;var aa=new f0e,X9e=aa;aa.highlight=Q9e;aa.register=tE;aa.alias=J9e;aa.registered=eBe;aa.listLanguages=tBe;tE(Y9e);tE(q9e);tE(K9e);tE(Z9e);aa.util.encode=iBe;aa.Token.stringify=nBe;function tE(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");aa.languages[e.displayName]===void 0&&e(aa)}function J9e(e,t){var n=aa.languages,r=e,i,a,o,s;t&&(r={},r[e]=t);for(i in r)for(a=r[i],a=typeof a=="string"?[a]:a,o=a.length,s=-1;++s<o;)n[a[s]]=n[i]}function Q9e(e,t){var n=d0e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(aa.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(eB.call(aa.languages,t))r=aa.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function eBe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return eB.call(aa.languages,e)}function tBe(){var e=aa.languages,t=[],n;for(n in e)eB.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function nBe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:aa.util.type(e)==="Array"?rBe(e,t):(r={type:e.type,content:aa.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),aa.hooks.run("wrap",r),W9e(r.tag+"."+r.classes.join("."),aBe(r.attributes),r.content))}function rBe(e,t){for(var n=[],r=e.length,i=-1,a;++i<r;)a=e[i],a!==""&&a!==null&&a!==void 0&&n.push(a);for(i=-1,r=n.length;++i<r;)a=n[i],n[i]=aa.Token.stringify(a,t,n);return n}function iBe(e){return e}function aBe(e){var t;for(t in e)e[t]=G9e(e[t]);return e}function oBe(){var e="Prism"in nw,t=e?nw.Prism:void 0;return n;function n(){e?nw.Prism=t:delete nw.Prism,e=void 0,t=void 0}}var h0e={},sBe=f;function lBe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return sBe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(p0e(n+1)))}return e.value}function p0e(e){return function(n,r){return lBe(n,r,e)}}h0e.depth=p0e;var m0e=g0e;function g0e(e){if(e==null)return fBe;if(typeof e=="string")return dBe(e);if(typeof e=="object")return"length"in e?cBe(e):uBe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function uBe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function cBe(e){for(var t=[],n=-1;++n<e.length;)t[n]=g0e(e[n]);return r;function r(){for(var i=-1;++i<t.length;)if(t[i].apply(this,arguments))return!0;return!1}}function dBe(e){return t;function t(n){return!!(n&&n.type===e)}}function fBe(){return!0}var hBe=m0e,pBe=gBe,mBe={}.hasOwnProperty;function gBe(e,t,n){var r=hBe(n||t),i=t.cascade==null?!0:t.cascade;return a(e,null,null);function a(o,s,l){var c,d,h,p,m;if(!r(o,s,l))return null;if(o.children){for(c=[],d=-1;++d<o.children.length;)h=a(o.children[d],d,o),h&&c.push(h);if(i&&o.children.length&&!c.length)return null}p={};for(m in o)mBe.call(o,m)&&(p[m]=m==="children"?c:o[m]);return p}}var yBe=vBe;function vBe(e){return e}var bBe=GI,xBe=m0e,wBe=yBe,y0e=!0,v0e="skip",t4=!1;GI.CONTINUE=y0e;GI.SKIP=v0e;GI.EXIT=t4;function GI(e,t,n,r){var i,a;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),a=xBe(t),i=r?-1:1,o(e,null,[])();function o(s,l,c){var d=typeof s=="object"&&s!==null?s:{},h;return typeof d.type=="string"&&(h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+wBe(d.type+(h?"<"+h+">":""))+")"),p;function p(){var m=c.concat(s),g=[],y,v;if((!t||a(s,l,c[c.length-1]||null))&&(g=CBe(n(s,c)),g[0]===t4))return g;if(s.children&&g[0]!==v0e)for(v=(r?s.children.length:-1)+i;v>-1&&v<s.children.length;){if(y=o(s.children[v],v,m)(),y[0]===t4)return y;v=typeof y[1]=="number"?y[1]:v+i}return g}}}function CBe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[y0e,e]:[e]}var SBe=typeof WeakMap=="function"?nE:rE;function nE(){this.map=new WeakMap}nE.prototype.has=function(e){return this.map.has(e)};nE.prototype.set=function(e,t){return this.map.set(e,t),this};nE.prototype.get=function(e){return this.map.get(e)};nE.prototype.clear=function(){};function rE(){this.keys=[],this.values=[]}rE.prototype.has=function(e){return this.keys.indexOf(e)!==-1};rE.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};rE.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};rE.prototype.clear=function(){this.keys=[],this.values=[]};var EBe=pBe,DK=bBe,FO=SBe;function b0e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var i=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=i,r.lineEnd=i,n.nodes.push(r),n;for(var a=r.value.split(`
`),o=0;o<a.length;o++){var s=o===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:o===a.length-1?a[o]:"".concat(a[o],`
`),lineStart:s,lineEnd:s})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=b0e(r.children,t),c=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=c?c.lineStart:i,r.lineEnd=d?d.lineEnd:i,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function kBe(e,t){var n={type:"root",children:t},r=new FO,i=new FO,a=new FO,o=[];function s(h,p,m){o.push(p),m.forEach(function(x){h.has(x)||(h.set(x,Object.assign({},x,{children:[]})),x!==n&&o.push(x))});for(var g=m.length;g--;){var y=h.get(m[g]),v=m[g+1],b=h.get(v)||p;y.children.indexOf(b)===-1&&y.children.push(b)}}DK(n,function(h,p){if(!h.children){if(h.lineStart<e){s(r,h,p);return}if(h.lineStart===e){s(i,h,p);return}h.lineEnd>e&&o.some(function(m){return p.indexOf(m)!==-1})&&s(a,h,p)}});var l=EBe(n,function(h){return o.indexOf(h)===-1}),c=function(p){var m=p.get(n);return m?(DK(m,function(g,y){if(g.children){g.lineStart=0,g.lineEnd=0;return}y.forEach(function(v){v.lineStart=Math.max(v.lineStart,g.lineStart),v.lineEnd=Math.max(v.lineEnd,g.lineEnd)})}),m.children):[]},d=[].concat(c(r),c(i),c(a),l?l.children:[]);return r.clear(),i.clear(),a.clear(),d}function _Be(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function TBe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(h,p){return kBe(p.line,h)},e),i=[],a=0,o=0;o<t.length;o++){for(var s=t[o],l=r[a];l&&l.lineEnd<s.line;l=r[++a])i.push(l);for(var c=[],d=r[a];d&&d.lineEnd===s.line;d=r[++a])c.push(d);c.length>0&&i.push(_Be(c,s,n))}for(;a<r.length;)i.push(r[a++]);return i}function ABe(e,t){var n=t.markers.map(function(i){return i.line?i:{line:i}}).sort(function(i,a){return i.line-a.line}),r=b0e(e).nodes;return TBe(r,n,t)}var jBe=ABe,IBe=f,tB=X9e,DBe=h0e,MBe=jBe,MK=IBe.createElement;function nB(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className||"refractor",t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className||"refractor");var i=tB.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(i=MBe(i,{markers:e.markers}));var a=i.length===0?e.value:i.map(DBe.depth(0)),o=MK("code",n,a);return e.inline?o:MK("pre",r,o)}nB.registerLanguage=function(e){return tB.register(e)};nB.hasLanguage=function(e){return tB.registered(e)};var RBe=nB;const yg=Fe(RBe),OBe=["top","right","bottom","left"],Py=Math.min,Gm=Math.max,vT=Math.round,Kk=Math.floor,sp=e=>({x:e,y:e}),$Be={left:"right",right:"left",bottom:"top",top:"bottom"},PBe={start:"end",end:"start"};function n4(e,t,n){return Gm(e,Py(t,n))}function Pv(e,t){return typeof e=="function"?e(t):e}function vg(e){return e.split("-")[0]}function iE(e){return e.split("-")[1]}function x0e(e){return e==="x"?"y":"x"}function rB(e){return e==="y"?"height":"width"}function Fy(e){return["top","bottom"].includes(vg(e))?"y":"x"}function iB(e){return x0e(Fy(e))}function FBe(e,t,n){n===void 0&&(n=!1);const r=iE(e),i=iB(e),a=rB(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=bT(o)),[o,bT(o)]}function NBe(e){const t=bT(e);return[r4(e),t,r4(t)]}function r4(e){return e.replace(/start|end/g,t=>PBe[t])}function LBe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function BBe(e,t,n,r){const i=iE(e);let a=LBe(vg(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(r4)))),a}function bT(e){return e.replace(/left|right|bottom|top/g,t=>$Be[t])}function VBe(e){return{top:0,right:0,bottom:0,left:0,...e}}function w0e(e){return typeof e!="number"?VBe(e):{top:e,right:e,bottom:e,left:e}}function xT(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function RK(e,t,n){let{reference:r,floating:i}=e;const a=Fy(t),o=iB(t),s=rB(o),l=vg(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(iE(t)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const zBe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=RK(c,r,l),p=r,m={},g=0;for(let y=0;y<s.length;y++){const{name:v,fn:b}=s[y],{x,y:w,data:C,reset:S}=await b({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=x??d,h=w??h,m={...m,[v]:{...m[v],...C}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:h}=RK(c,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function pC(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Pv(t,e),g=w0e(m),v=s[p?h==="floating"?"reference":"floating":h],b=xT(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),C=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=xT(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-S.top+g.top)/C.y,bottom:(S.bottom-b.bottom+g.bottom)/C.y,left:(b.left-S.left+g.left)/C.x,right:(S.right-b.right+g.right)/C.x}}const UBe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Pv(e,t)||{};if(c==null)return{};const h=w0e(d),p={x:n,y:r},m=iB(i),g=rB(m),y=await o.getDimensions(c),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[m]-p[m]-a.floating[g],S=p[m]-a.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=E?E[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(E)))&&(k=s.floating[w]||a.floating[g]);const _=C/2-S/2,T=k/2-y[g]/2-1,j=Py(h[b],T),A=Py(h[x],T),I=j,M=k-y[g]-A,D=k/2-y[g]/2+_,O=n4(I,D,M),R=!l.arrow&&iE(i)!=null&&D!==O&&a.reference[g]/2-(D<I?j:A)-y[g]/2<0,F=R?D<I?D-I:D-M:0;return{[m]:p[m]+F,data:{[m]:O,centerOffset:D-O-F,...R&&{alignmentOffset:F}},reset:R}}}),HBe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=Pv(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=vg(i),x=Fy(s),w=vg(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(w||!y?[bT(s)]:NBe(s)),E=g!=="none";!p&&E&&S.push(...BBe(s,y,g,C));const k=[s,...S],_=await pC(t,v),T=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(_[b]),h){const D=FBe(i,o,C);T.push(_[D[0]],_[D[1]])}if(j=[...j,{placement:i,overflows:T}],!T.every(D=>D<=0)){var A,I;const D=(((A=a.flip)==null?void 0:A.index)||0)+1,O=k[D];if(O)return{data:{index:D,overflows:j},reset:{placement:O}};let R=(I=j.filter(F=>F.overflows[0]<=0).sort((F,P)=>F.overflows[1]-P.overflows[1])[0])==null?void 0:I.placement;if(!R)switch(m){case"bestFit":{var M;const F=(M=j.filter(P=>{if(E){const V=Fy(P.placement);return V===x||V==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(V=>V>0).reduce((V,U)=>V+U,0)]).sort((P,V)=>P[1]-V[1])[0])==null?void 0:M[0];F&&(R=F);break}case"initialPlacement":R=s;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function OK(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $K(e){return OBe.some(t=>e[t]>=0)}const WBe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Pv(e,t);switch(r){case"referenceHidden":{const a=await pC(t,{...i,elementContext:"reference"}),o=OK(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$K(o)}}}case"escaped":{const a=await pC(t,{...i,altBoundary:!0}),o=OK(a,n.floating);return{data:{escapedOffsets:o,escaped:$K(o)}}}default:return{}}}}};async function GBe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=vg(n),s=iE(n),l=Fy(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Pv(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const YBe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await GBe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},qBe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...l}=Pv(e,t),c={x:n,y:r},d=await pC(t,l),h=Fy(vg(i)),p=x0e(h);let m=c[p],g=c[h];if(a){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=n4(x,m,w)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=n4(x,g,w)}const y=s.fn({...t,[p]:m,[h]:g});return{...y,data:{x:y.x-n,y:y.y-r}}}}};function Fv(e){return C0e(e)?(e.nodeName||"").toLowerCase():"#document"}function Ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mf(e){var t;return(t=(C0e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C0e(e){return e instanceof Node||e instanceof Ys(e).Node}function Fu(e){return e instanceof Element||e instanceof Ys(e).Element}function Vc(e){return e instanceof HTMLElement||e instanceof Ys(e).HTMLElement}function PK(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ys(e).ShadowRoot}function aE(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Nu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function KBe(e){return["table","td","th"].includes(Fv(e))}function YI(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function aB(e){const t=oB(),n=Fu(e)?Nu(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ZBe(e){let t=lp(e);for(;Vc(t)&&!Ny(t);){if(aB(t))return t;if(YI(t))return null;t=lp(t)}return null}function oB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ny(e){return["html","body","#document"].includes(Fv(e))}function Nu(e){return Ys(e).getComputedStyle(e)}function qI(e){return Fu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lp(e){if(Fv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PK(e)&&e.host||Mf(e);return PK(t)?t.host:t}function S0e(e){const t=lp(e);return Ny(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vc(t)&&aE(t)?t:S0e(t)}function mC(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=S0e(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ys(i);if(a){const s=i4(o);return t.concat(o,o.visualViewport||[],aE(i)?i:[],s&&n?mC(s):[])}return t.concat(i,mC(i,[],n))}function i4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E0e(e){const t=Nu(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vc(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=vT(n)!==a||vT(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function sB(e){return Fu(e)?e:e.contextElement}function Z1(e){const t=sB(e);if(!Vc(t))return sp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=E0e(t);let o=(a?vT(n.width):n.width)/r,s=(a?vT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const XBe=sp(0);function k0e(e){const t=Ys(e);return!oB()||!t.visualViewport?XBe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JBe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ys(e)?!1:t}function bg(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=sB(e);let o=sp(1);t&&(r?Fu(r)&&(o=Z1(r)):o=Z1(e));const s=JBe(a,n,r)?k0e(a):sp(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const p=Ys(a),m=r&&Fu(r)?Ys(r):r;let g=p,y=i4(g);for(;y&&r&&m!==g;){const v=Z1(y),b=y.getBoundingClientRect(),x=Nu(y),w=b.left+(y.clientLeft+parseFloat(x.paddingLeft))*v.x,C=b.top+(y.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,h*=v.y,l+=w,c+=C,g=Ys(y),y=i4(g)}}return xT({width:d,height:h,x:l,y:c})}function QBe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Mf(r),s=t?YI(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=sp(1);const d=sp(0),h=Vc(r);if((h||!h&&!a)&&((Fv(r)!=="body"||aE(o))&&(l=qI(r)),Vc(r))){const p=bg(r);c=Z1(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function eVe(e){return Array.from(e.getClientRects())}function _0e(e){return bg(Mf(e)).left+qI(e).scrollLeft}function tVe(e){const t=Mf(e),n=qI(e),r=e.ownerDocument.body,i=Gm(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Gm(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_0e(e);const s=-n.scrollTop;return Nu(r).direction==="rtl"&&(o+=Gm(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function nVe(e,t){const n=Ys(e),r=Mf(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=oB();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function rVe(e,t){const n=bg(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Vc(e)?Z1(e):sp(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function FK(e,t,n){let r;if(t==="viewport")r=nVe(e,n);else if(t==="document")r=tVe(Mf(e));else if(Fu(t))r=rVe(t,n);else{const i=k0e(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return xT(r)}function T0e(e,t){const n=lp(e);return n===t||!Fu(n)||Ny(n)?!1:Nu(n).position==="fixed"||T0e(n,t)}function iVe(e,t){const n=t.get(e);if(n)return n;let r=mC(e,[],!1).filter(s=>Fu(s)&&Fv(s)!=="body"),i=null;const a=Nu(e).position==="fixed";let o=a?lp(e):e;for(;Fu(o)&&!Ny(o);){const s=Nu(o),l=aB(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||aE(o)&&!l&&T0e(e,o))?r=r.filter(d=>d!==o):i=s,o=lp(o)}return t.set(e,r),r}function aVe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?YI(t)?[]:iVe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=FK(t,d,i);return c.top=Gm(h.top,c.top),c.right=Py(h.right,c.right),c.bottom=Py(h.bottom,c.bottom),c.left=Gm(h.left,c.left),c},FK(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oVe(e){const{width:t,height:n}=E0e(e);return{width:t,height:n}}function sVe(e,t,n){const r=Vc(t),i=Mf(t),a=n==="fixed",o=bg(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=sp(0);if(r||!r&&!a)if((Fv(t)!=="body"||aE(i))&&(s=qI(t)),r){const h=bg(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=_0e(i));const c=o.left+s.scrollLeft-l.x,d=o.top+s.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function NO(e){return Nu(e).position==="static"}function NK(e,t){return!Vc(e)||Nu(e).position==="fixed"?null:t?t(e):e.offsetParent}function A0e(e,t){const n=Ys(e);if(YI(e))return n;if(!Vc(e)){let i=lp(e);for(;i&&!Ny(i);){if(Fu(i)&&!NO(i))return i;i=lp(i)}return n}let r=NK(e,t);for(;r&&KBe(r)&&NO(r);)r=NK(r,t);return r&&Ny(r)&&NO(r)&&!aB(r)?n:r||ZBe(e)||n}const lVe=async function(e){const t=this.getOffsetParent||A0e,n=this.getDimensions,r=await n(e.floating);return{reference:sVe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uVe(e){return Nu(e).direction==="rtl"}const cVe={convertOffsetParentRelativeRectToViewportRelativeRect:QBe,getDocumentElement:Mf,getClippingRect:aVe,getOffsetParent:A0e,getElementRects:lVe,getClientRects:eVe,getDimensions:oVe,getScale:Z1,isElement:Fu,isRTL:uVe};function dVe(e,t){let n=null,r;const i=Mf(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:h,height:p}=e.getBoundingClientRect();if(s||t(),!h||!p)return;const m=Kk(d),g=Kk(i.clientWidth-(c+h)),y=Kk(i.clientHeight-(d+p)),v=Kk(c),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Gm(0,Py(1,l))||1};let w=!0;function C(S){const E=S[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(C,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return o(!0),a}function j0e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=sB(e),d=i||a?[...c?mC(c):[],...mC(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=c&&s?dVe(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let g,y=l?bg(e):null;l&&v();function v(){const b=bg(e);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const fVe=pC,hVe=YBe,pVe=qBe,mVe=HBe,gVe=WBe,LK=UBe,yVe=(e,t,n)=>{const r=new Map,i={platform:cVe,...n},a={...i.platform,_c:r};return zBe(e,t,{...i,platform:a})};var I0e={exports:{}},al={},D0e={exports:{}},M0e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,V){var U=P.length;P.push(V);e:for(;0<U;){var H=U-1>>>1,W=P[H];if(0<i(W,V))P[H]=V,P[U]=W,U=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],U=P.pop();if(U!==V){P[0]=U;e:for(var H=0,W=P.length,Z=W>>>1;H<Z;){var J=2*(H+1)-1,re=P[J],G=J+1,te=P[G];if(0>i(re,U))G<W&&0>i(te,re)?(P[H]=te,P[G]=U,H=G):(P[H]=re,P[J]=U,H=J);else if(G<W&&0>i(te,U))P[H]=te,P[G]=U,H=G;else break e}}return V}function i(P,V){var U=P.sortIndex-V.sortIndex;return U!==0?U:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,p=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=P)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function C(P){if(y=!1,w(P),!g)if(n(l)!==null)g=!0,R(S);else{var V=n(c);V!==null&&F(C,V.startTime-P)}}function S(P,V){g=!1,y&&(y=!1,b(_),_=-1),m=!0;var U=p;try{for(w(V),h=n(l);h!==null&&(!(h.expirationTime>V)||P&&!A());){var H=h.callback;if(typeof H=="function"){h.callback=null,p=h.priorityLevel;var W=H(h.expirationTime<=V);V=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),w(V)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var J=n(c);J!==null&&F(C,J.startTime-V),Z=!1}return Z}finally{h=null,p=U,m=!1}}var E=!1,k=null,_=-1,T=5,j=-1;function A(){return!(e.unstable_now()-j<T)}function I(){if(k!==null){var P=e.unstable_now();j=P;var V=!0;try{V=k(!0,P)}finally{V?M():(E=!1,k=null)}}else E=!1}var M;if(typeof x=="function")M=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=I,M=function(){O.postMessage(null)}}else M=function(){v(I,0)};function R(P){k=P,E||(E=!0,M())}function F(P,V){_=v(function(){P(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var U=p;p=V;try{return P()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=p;p=P;try{return V()}finally{p=U}},e.unstable_scheduleCallback=function(P,V,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,P={id:d++,callback:V,priorityLevel:P,startTime:U,expirationTime:W,sortIndex:-1},U>H?(P.sortIndex=U,t(c,P),n(l)===null&&P===n(c)&&(y?(b(_),_=-1):y=!0,F(C,U-H))):(P.sortIndex=W,t(l,P),g||m||(g=!0,R(S))),P},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(P){var V=p;return function(){var U=p;p=V;try{return P.apply(this,arguments)}finally{p=U}}}})(M0e);D0e.exports=M0e;var vVe=D0e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bVe=f,Xs=vVe;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R0e=new Set,gC={};function i0(e,t){Ly(e,t),Ly(e+"Capture",t)}function Ly(e,t){for(gC[e]=t,e=0;e<t.length;e++)R0e.add(t[e])}var lf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a4=Object.prototype.hasOwnProperty,xVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BK={},VK={};function wVe(e){return a4.call(VK,e)?!0:a4.call(BK,e)?!1:xVe.test(e)?VK[e]=!0:(BK[e]=!0,!1)}function CVe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SVe(e,t,n,r){if(t===null||typeof t>"u"||CVe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Go(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Xa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xa[e]=new Go(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xa[t]=new Go(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xa[e]=new Go(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xa[e]=new Go(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xa[e]=new Go(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xa[e]=new Go(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xa[e]=new Go(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xa[e]=new Go(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xa[e]=new Go(e,5,!1,e.toLowerCase(),null,!1,!1)});var lB=/[\-:]([a-z])/g;function uB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lB,uB);Xa[t]=new Go(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lB,uB);Xa[t]=new Go(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lB,uB);Xa[t]=new Go(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xa[e]=new Go(e,1,!1,e.toLowerCase(),null,!1,!1)});Xa.xlinkHref=new Go("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xa[e]=new Go(e,1,!1,e.toLowerCase(),null,!0,!0)});function cB(e,t,n,r){var i=Xa.hasOwnProperty(t)?Xa[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SVe(t,n,i,r)&&(n=null),r||i===null?wVe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rf=bVe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zk=Symbol.for("react.element"),S1=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),dB=Symbol.for("react.strict_mode"),o4=Symbol.for("react.profiler"),O0e=Symbol.for("react.provider"),$0e=Symbol.for("react.context"),fB=Symbol.for("react.forward_ref"),s4=Symbol.for("react.suspense"),l4=Symbol.for("react.suspense_list"),hB=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),P0e=Symbol.for("react.offscreen"),zK=Symbol.iterator;function rx(e){return e===null||typeof e!="object"?null:(e=zK&&e[zK]||e["@@iterator"],typeof e=="function"?e:null)}var xi=Object.assign,LO;function rw(e){if(LO===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);LO=t&&t[1]||""}return`
`+LO+e}var BO=!1;function VO(e,t){if(!e||BO)return"";BO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{BO=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rw(e):""}function EVe(e){switch(e.tag){case 5:return rw(e.type);case 16:return rw("Lazy");case 13:return rw("Suspense");case 19:return rw("SuspenseList");case 0:case 2:case 15:return e=VO(e.type,!1),e;case 11:return e=VO(e.type.render,!1),e;case 1:return e=VO(e.type,!0),e;default:return""}}function u4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E1:return"Fragment";case S1:return"Portal";case o4:return"Profiler";case dB:return"StrictMode";case s4:return"Suspense";case l4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $0e:return(e.displayName||"Context")+".Consumer";case O0e:return(e._context.displayName||"Context")+".Provider";case fB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hB:return t=e.displayName||null,t!==null?t:u4(e.type)||"Memo";case ch:t=e._payload,e=e._init;try{return u4(e(t))}catch{}}return null}function kVe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u4(t);case 8:return t===dB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function up(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F0e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _Ve(e){var t=F0e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xk(e){e._valueTracker||(e._valueTracker=_Ve(e))}function N0e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F0e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wT(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c4(e,t){var n=t.checked;return xi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function UK(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=up(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L0e(e,t){t=t.checked,t!=null&&cB(e,"checked",t,!1)}function d4(e,t){L0e(e,t);var n=up(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?f4(e,t.type,n):t.hasOwnProperty("defaultValue")&&f4(e,t.type,up(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HK(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function f4(e,t,n){(t!=="number"||wT(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var iw=Array.isArray;function X1(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+up(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function h4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return xi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WK(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pe(92));if(iw(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:up(n)}}function B0e(e,t){var n=up(t.value),r=up(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function GK(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V0e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V0e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jk,z0e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jk=Jk||document.createElement("div"),Jk.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jk.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TVe=["Webkit","ms","Moz","O"];Object.keys(Tw).forEach(function(e){TVe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tw[t]=Tw[e]})});function U0e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tw.hasOwnProperty(e)&&Tw[e]?(""+t).trim():t+"px"}function H0e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U0e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var AVe=xi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m4(e,t){if(t){if(AVe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function g4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y4=null;function pB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v4=null,J1=null,Q1=null;function YK(e){if(e=lE(e)){if(typeof v4!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=QI(t),v4(e.stateNode,e.type,t))}}function W0e(e){J1?Q1?Q1.push(e):Q1=[e]:J1=e}function G0e(){if(J1){var e=J1,t=Q1;if(Q1=J1=null,YK(e),t)for(e=0;e<t.length;e++)YK(t[e])}}function Y0e(e,t){return e(t)}function q0e(){}var zO=!1;function K0e(e,t,n){if(zO)return e(t,n);zO=!0;try{return Y0e(e,t,n)}finally{zO=!1,(J1!==null||Q1!==null)&&(q0e(),G0e())}}function vC(e,t){var n=e.stateNode;if(n===null)return null;var r=QI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pe(231,t,typeof n));return n}var b4=!1;if(lf)try{var ix={};Object.defineProperty(ix,"passive",{get:function(){b4=!0}}),window.addEventListener("test",ix,ix),window.removeEventListener("test",ix,ix)}catch{b4=!1}function jVe(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Aw=!1,CT=null,ST=!1,x4=null,IVe={onError:function(e){Aw=!0,CT=e}};function DVe(e,t,n,r,i,a,o,s,l){Aw=!1,CT=null,jVe.apply(IVe,arguments)}function MVe(e,t,n,r,i,a,o,s,l){if(DVe.apply(this,arguments),Aw){if(Aw){var c=CT;Aw=!1,CT=null}else throw Error(Pe(198));ST||(ST=!0,x4=c)}}function a0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z0e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qK(e){if(a0(e)!==e)throw Error(Pe(188))}function RVe(e){var t=e.alternate;if(!t){if(t=a0(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qK(i),e;if(a===r)return qK(i),t;a=a.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?e:t}function X0e(e){return e=RVe(e),e!==null?J0e(e):null}function J0e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J0e(e);if(t!==null)return t;e=e.sibling}return null}var Q0e=Xs.unstable_scheduleCallback,KK=Xs.unstable_cancelCallback,OVe=Xs.unstable_shouldYield,$Ve=Xs.unstable_requestPaint,Li=Xs.unstable_now,PVe=Xs.unstable_getCurrentPriorityLevel,mB=Xs.unstable_ImmediatePriority,e1e=Xs.unstable_UserBlockingPriority,ET=Xs.unstable_NormalPriority,FVe=Xs.unstable_LowPriority,t1e=Xs.unstable_IdlePriority,KI=null,Dc=null;function NVe(e){if(Dc&&typeof Dc.onCommitFiberRoot=="function")try{Dc.onCommitFiberRoot(KI,e,void 0,(e.current.flags&128)===128)}catch{}}var Iu=Math.clz32?Math.clz32:VVe,LVe=Math.log,BVe=Math.LN2;function VVe(e){return e>>>=0,e===0?32:31-(LVe(e)/BVe|0)|0}var Qk=64,e2=4194304;function aw(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kT(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=aw(s):(a&=o,a!==0&&(r=aw(a)))}else o=n&~i,o!==0?r=aw(o):a!==0&&(r=aw(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Iu(t),i=1<<n,r|=e[n],t&=~i;return r}function zVe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UVe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Iu(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=zVe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function w4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function n1e(){var e=Qk;return Qk<<=1,!(Qk&4194240)&&(Qk=64),e}function UO(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oE(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Iu(t),e[t]=n}function HVe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Iu(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function gB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Iu(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var or=0;function r1e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var i1e,yB,a1e,o1e,s1e,C4=!1,t2=[],qh=null,Kh=null,Zh=null,bC=new Map,xC=new Map,wh=[],WVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZK(e,t){switch(e){case"focusin":case"focusout":qh=null;break;case"dragenter":case"dragleave":Kh=null;break;case"mouseover":case"mouseout":Zh=null;break;case"pointerover":case"pointerout":bC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xC.delete(t.pointerId)}}function ax(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=lE(t),t!==null&&yB(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GVe(e,t,n,r,i){switch(t){case"focusin":return qh=ax(qh,e,t,n,r,i),!0;case"dragenter":return Kh=ax(Kh,e,t,n,r,i),!0;case"mouseover":return Zh=ax(Zh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return bC.set(a,ax(bC.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xC.set(a,ax(xC.get(a)||null,e,t,n,r,i)),!0}return!1}function l1e(e){var t=Am(e.target);if(t!==null){var n=a0(t);if(n!==null){if(t=n.tag,t===13){if(t=Z0e(n),t!==null){e.blockedOn=t,s1e(e.priority,function(){a1e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function s_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);y4=r,n.target.dispatchEvent(r),y4=null}else return t=lE(n),t!==null&&yB(t),e.blockedOn=n,!1;t.shift()}return!0}function XK(e,t,n){s_(e)&&n.delete(t)}function YVe(){C4=!1,qh!==null&&s_(qh)&&(qh=null),Kh!==null&&s_(Kh)&&(Kh=null),Zh!==null&&s_(Zh)&&(Zh=null),bC.forEach(XK),xC.forEach(XK)}function ox(e,t){e.blockedOn===t&&(e.blockedOn=null,C4||(C4=!0,Xs.unstable_scheduleCallback(Xs.unstable_NormalPriority,YVe)))}function wC(e){function t(i){return ox(i,e)}if(0<t2.length){ox(t2[0],e);for(var n=1;n<t2.length;n++){var r=t2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qh!==null&&ox(qh,e),Kh!==null&&ox(Kh,e),Zh!==null&&ox(Zh,e),bC.forEach(t),xC.forEach(t),n=0;n<wh.length;n++)r=wh[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wh.length&&(n=wh[0],n.blockedOn===null);)l1e(n),n.blockedOn===null&&wh.shift()}var ey=Rf.ReactCurrentBatchConfig,_T=!0;function qVe(e,t,n,r){var i=or,a=ey.transition;ey.transition=null;try{or=1,vB(e,t,n,r)}finally{or=i,ey.transition=a}}function KVe(e,t,n,r){var i=or,a=ey.transition;ey.transition=null;try{or=4,vB(e,t,n,r)}finally{or=i,ey.transition=a}}function vB(e,t,n,r){if(_T){var i=S4(e,t,n,r);if(i===null)QO(e,t,r,TT,n),ZK(e,r);else if(GVe(i,e,t,n,r))r.stopPropagation();else if(ZK(e,r),t&4&&-1<WVe.indexOf(e)){for(;i!==null;){var a=lE(i);if(a!==null&&i1e(a),a=S4(e,t,n,r),a===null&&QO(e,t,r,TT,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else QO(e,t,r,null,n)}}var TT=null;function S4(e,t,n,r){if(TT=null,e=pB(r),e=Am(e),e!==null)if(t=a0(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z0e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return TT=e,null}function u1e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PVe()){case mB:return 1;case e1e:return 4;case ET:case FVe:return 16;case t1e:return 536870912;default:return 16}default:return 16}}var Dh=null,bB=null,l_=null;function c1e(){if(l_)return l_;var e,t=bB,n=t.length,r,i="value"in Dh?Dh.value:Dh.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return l_=i.slice(e,1<r?1-r:void 0)}function u_(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function n2(){return!0}function JK(){return!1}function ol(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?n2:JK,this.isPropagationStopped=JK,this}return xi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=n2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=n2)},persist:function(){},isPersistent:n2}),t}var Nv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xB=ol(Nv),sE=xi({},Nv,{view:0,detail:0}),ZVe=ol(sE),HO,WO,sx,ZI=xi({},sE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sx&&(sx&&e.type==="mousemove"?(HO=e.screenX-sx.screenX,WO=e.screenY-sx.screenY):WO=HO=0,sx=e),HO)},movementY:function(e){return"movementY"in e?e.movementY:WO}}),QK=ol(ZI),XVe=xi({},ZI,{dataTransfer:0}),JVe=ol(XVe),QVe=xi({},sE,{relatedTarget:0}),GO=ol(QVe),eze=xi({},Nv,{animationName:0,elapsedTime:0,pseudoElement:0}),tze=ol(eze),nze=xi({},Nv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rze=ol(nze),ize=xi({},Nv,{data:0}),eZ=ol(ize),aze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sze[e])?!!t[e]:!1}function wB(){return lze}var uze=xi({},sE,{key:function(e){if(e.key){var t=aze[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=u_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oze[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wB,charCode:function(e){return e.type==="keypress"?u_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?u_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cze=ol(uze),dze=xi({},ZI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tZ=ol(dze),fze=xi({},sE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wB}),hze=ol(fze),pze=xi({},Nv,{propertyName:0,elapsedTime:0,pseudoElement:0}),mze=ol(pze),gze=xi({},ZI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yze=ol(gze),vze=[9,13,27,32],CB=lf&&"CompositionEvent"in window,jw=null;lf&&"documentMode"in document&&(jw=document.documentMode);var bze=lf&&"TextEvent"in window&&!jw,d1e=lf&&(!CB||jw&&8<jw&&11>=jw),nZ=String.fromCharCode(32),rZ=!1;function f1e(e,t){switch(e){case"keyup":return vze.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var k1=!1;function xze(e,t){switch(e){case"compositionend":return h1e(t);case"keypress":return t.which!==32?null:(rZ=!0,nZ);case"textInput":return e=t.data,e===nZ&&rZ?null:e;default:return null}}function wze(e,t){if(k1)return e==="compositionend"||!CB&&f1e(e,t)?(e=c1e(),l_=bB=Dh=null,k1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d1e&&t.locale!=="ko"?null:t.data;default:return null}}var Cze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iZ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cze[e.type]:t==="textarea"}function p1e(e,t,n,r){W0e(r),t=AT(t,"onChange"),0<t.length&&(n=new xB("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Iw=null,CC=null;function Sze(e){k1e(e,0)}function XI(e){var t=A1(e);if(N0e(t))return e}function Eze(e,t){if(e==="change")return t}var m1e=!1;if(lf){var YO;if(lf){var qO="oninput"in document;if(!qO){var aZ=document.createElement("div");aZ.setAttribute("oninput","return;"),qO=typeof aZ.oninput=="function"}YO=qO}else YO=!1;m1e=YO&&(!document.documentMode||9<document.documentMode)}function oZ(){Iw&&(Iw.detachEvent("onpropertychange",g1e),CC=Iw=null)}function g1e(e){if(e.propertyName==="value"&&XI(CC)){var t=[];p1e(t,CC,e,pB(e)),K0e(Sze,t)}}function kze(e,t,n){e==="focusin"?(oZ(),Iw=t,CC=n,Iw.attachEvent("onpropertychange",g1e)):e==="focusout"&&oZ()}function _ze(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return XI(CC)}function Tze(e,t){if(e==="click")return XI(t)}function Aze(e,t){if(e==="input"||e==="change")return XI(t)}function jze(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lu=typeof Object.is=="function"?Object.is:jze;function SC(e,t){if(Lu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!a4.call(t,i)||!Lu(e[i],t[i]))return!1}return!0}function sZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lZ(e,t){var n=sZ(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sZ(n)}}function y1e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y1e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v1e(){for(var e=window,t=wT();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wT(e.document)}return t}function SB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ize(e){var t=v1e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&y1e(n.ownerDocument.documentElement,n)){if(r!==null&&SB(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lZ(n,a);var o=lZ(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dze=lf&&"documentMode"in document&&11>=document.documentMode,_1=null,E4=null,Dw=null,k4=!1;function uZ(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k4||_1==null||_1!==wT(r)||(r=_1,"selectionStart"in r&&SB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dw&&SC(Dw,r)||(Dw=r,r=AT(E4,"onSelect"),0<r.length&&(t=new xB("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_1)))}function r2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var T1={animationend:r2("Animation","AnimationEnd"),animationiteration:r2("Animation","AnimationIteration"),animationstart:r2("Animation","AnimationStart"),transitionend:r2("Transition","TransitionEnd")},KO={},b1e={};lf&&(b1e=document.createElement("div").style,"AnimationEvent"in window||(delete T1.animationend.animation,delete T1.animationiteration.animation,delete T1.animationstart.animation),"TransitionEvent"in window||delete T1.transitionend.transition);function JI(e){if(KO[e])return KO[e];if(!T1[e])return e;var t=T1[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b1e)return KO[e]=t[n];return e}var x1e=JI("animationend"),w1e=JI("animationiteration"),C1e=JI("animationstart"),S1e=JI("transitionend"),E1e=new Map,cZ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ip(e,t){E1e.set(e,t),i0(t,[e])}for(var ZO=0;ZO<cZ.length;ZO++){var XO=cZ[ZO],Mze=XO.toLowerCase(),Rze=XO[0].toUpperCase()+XO.slice(1);Ip(Mze,"on"+Rze)}Ip(x1e,"onAnimationEnd");Ip(w1e,"onAnimationIteration");Ip(C1e,"onAnimationStart");Ip("dblclick","onDoubleClick");Ip("focusin","onFocus");Ip("focusout","onBlur");Ip(S1e,"onTransitionEnd");Ly("onMouseEnter",["mouseout","mouseover"]);Ly("onMouseLeave",["mouseout","mouseover"]);Ly("onPointerEnter",["pointerout","pointerover"]);Ly("onPointerLeave",["pointerout","pointerover"]);i0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));i0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));i0("onBeforeInput",["compositionend","keypress","textInput","paste"]);i0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));i0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));i0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ow="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oze=new Set("cancel close invalid load scroll toggle".split(" ").concat(ow));function dZ(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MVe(r,t,void 0,e),e.currentTarget=null}function k1e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;dZ(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;dZ(i,s,c),a=l}}}if(ST)throw e=x4,ST=!1,x4=null,e}function Hr(e,t){var n=t[I4];n===void 0&&(n=t[I4]=new Set);var r=e+"__bubble";n.has(r)||(_1e(t,e,2,!1),n.add(r))}function JO(e,t,n){var r=0;t&&(r|=4),_1e(n,e,r,t)}var i2="_reactListening"+Math.random().toString(36).slice(2);function EC(e){if(!e[i2]){e[i2]=!0,R0e.forEach(function(n){n!=="selectionchange"&&(Oze.has(n)||JO(n,!1,e),JO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[i2]||(t[i2]=!0,JO("selectionchange",!1,t))}}function _1e(e,t,n,r){switch(u1e(t)){case 1:var i=qVe;break;case 4:i=KVe;break;default:i=vB}n=i.bind(null,t,n,e),i=void 0,!b4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function QO(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Am(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}K0e(function(){var c=a,d=pB(n),h=[];e:{var p=E1e.get(e);if(p!==void 0){var m=xB,g=e;switch(e){case"keypress":if(u_(n)===0)break e;case"keydown":case"keyup":m=cze;break;case"focusin":g="focus",m=GO;break;case"focusout":g="blur",m=GO;break;case"beforeblur":case"afterblur":m=GO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JVe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hze;break;case x1e:case w1e:case C1e:m=tze;break;case S1e:m=mze;break;case"scroll":m=ZVe;break;case"wheel":m=yze;break;case"copy":case"cut":case"paste":m=rze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tZ}var y=(t&4)!==0,v=!y&&e==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=vC(x,b),C!=null&&y.push(kC(x,C,w)))),v)break;x=x.return}0<y.length&&(p=new m(p,g,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==y4&&(g=n.relatedTarget||n.fromElement)&&(Am(g)||g[uf]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Am(g):null,g!==null&&(v=a0(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=QK,C="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=tZ,C="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?p:A1(m),w=g==null?p:A1(g),p=new y(C,x+"leave",m,n,d),p.target=v,p.relatedTarget=w,C=null,Am(d)===c&&(y=new y(b,x+"enter",g,n,d),y.target=w,y.relatedTarget=v,C=y),v=C,m&&g)t:{for(y=m,b=g,x=0,w=y;w;w=W0(w))x++;for(w=0,C=b;C;C=W0(C))w++;for(;0<x-w;)y=W0(y),x--;for(;0<w-x;)b=W0(b),w--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=W0(y),b=W0(b)}y=null}else y=null;m!==null&&fZ(h,p,m,y,!1),g!==null&&v!==null&&fZ(h,v,g,y,!0)}}e:{if(p=c?A1(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=Eze;else if(iZ(p))if(m1e)S=Aze;else{S=_ze;var E=kze}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Tze);if(S&&(S=S(e,c))){p1e(h,S,n,d);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&f4(p,"number",p.value)}switch(E=c?A1(c):window,e){case"focusin":(iZ(E)||E.contentEditable==="true")&&(_1=E,E4=c,Dw=null);break;case"focusout":Dw=E4=_1=null;break;case"mousedown":k4=!0;break;case"contextmenu":case"mouseup":case"dragend":k4=!1,uZ(h,n,d);break;case"selectionchange":if(Dze)break;case"keydown":case"keyup":uZ(h,n,d)}var k;if(CB)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else k1?f1e(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(d1e&&n.locale!=="ko"&&(k1||_!=="onCompositionStart"?_==="onCompositionEnd"&&k1&&(k=c1e()):(Dh=d,bB="value"in Dh?Dh.value:Dh.textContent,k1=!0)),E=AT(c,_),0<E.length&&(_=new eZ(_,e,null,n,d),h.push({event:_,listeners:E}),k?_.data=k:(k=h1e(n),k!==null&&(_.data=k)))),(k=bze?xze(e,n):wze(e,n))&&(c=AT(c,"onBeforeInput"),0<c.length&&(d=new eZ("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}k1e(h,t)})}function kC(e,t,n){return{instance:e,listener:t,currentTarget:n}}function AT(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vC(e,n),a!=null&&r.unshift(kC(e,a,i)),a=vC(e,t),a!=null&&r.push(kC(e,a,i))),e=e.return}return r}function W0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fZ(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=vC(n,a),l!=null&&o.unshift(kC(n,l,s))):i||(l=vC(n,a),l!=null&&o.push(kC(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $ze=/\r\n?/g,Pze=/\u0000|\uFFFD/g;function hZ(e){return(typeof e=="string"?e:""+e).replace($ze,`
`).replace(Pze,"")}function a2(e,t,n){if(t=hZ(t),hZ(e)!==t&&n)throw Error(Pe(425))}function jT(){}var _4=null,T4=null;function A4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j4=typeof setTimeout=="function"?setTimeout:void 0,Fze=typeof clearTimeout=="function"?clearTimeout:void 0,pZ=typeof Promise=="function"?Promise:void 0,Nze=typeof queueMicrotask=="function"?queueMicrotask:typeof pZ<"u"?function(e){return pZ.resolve(null).then(e).catch(Lze)}:j4;function Lze(e){setTimeout(function(){throw e})}function e$(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wC(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wC(t)}function Xh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mZ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lv=Math.random().toString(36).slice(2),bc="__reactFiber$"+Lv,_C="__reactProps$"+Lv,uf="__reactContainer$"+Lv,I4="__reactEvents$"+Lv,Bze="__reactListeners$"+Lv,Vze="__reactHandles$"+Lv;function Am(e){var t=e[bc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[uf]||n[bc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mZ(e);e!==null;){if(n=e[bc])return n;e=mZ(e)}return t}e=n,n=e.parentNode}return null}function lE(e){return e=e[bc]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function A1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function QI(e){return e[_C]||null}var D4=[],j1=-1;function Dp(e){return{current:e}}function Kr(e){0>j1||(e.current=D4[j1],D4[j1]=null,j1--)}function Pr(e,t){j1++,D4[j1]=e.current,e.current=t}var cp={},_o=Dp(cp),bs=Dp(!1),xg=cp;function By(e,t){var n=e.type.contextTypes;if(!n)return cp;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xs(e){return e=e.childContextTypes,e!=null}function IT(){Kr(bs),Kr(_o)}function gZ(e,t,n){if(_o.current!==cp)throw Error(Pe(168));Pr(_o,t),Pr(bs,n)}function T1e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,kVe(e)||"Unknown",i));return xi({},n,r)}function DT(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cp,xg=_o.current,Pr(_o,e),Pr(bs,bs.current),!0}function yZ(e,t,n){var r=e.stateNode;if(!r)throw Error(Pe(169));n?(e=T1e(e,t,xg),r.__reactInternalMemoizedMergedChildContext=e,Kr(bs),Kr(_o),Pr(_o,e)):Kr(bs),Pr(bs,n)}var Ad=null,eD=!1,t$=!1;function A1e(e){Ad===null?Ad=[e]:Ad.push(e)}function zze(e){eD=!0,A1e(e)}function Mp(){if(!t$&&Ad!==null){t$=!0;var e=0,t=or;try{var n=Ad;for(or=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ad=null,eD=!1}catch(i){throw Ad!==null&&(Ad=Ad.slice(e+1)),Q0e(mB,Mp),i}finally{or=t,t$=!1}}return null}var I1=[],D1=0,MT=null,RT=0,Sl=[],El=0,wg=null,Nd=1,Ld="";function cm(e,t){I1[D1++]=RT,I1[D1++]=MT,MT=e,RT=t}function j1e(e,t,n){Sl[El++]=Nd,Sl[El++]=Ld,Sl[El++]=wg,wg=e;var r=Nd;e=Ld;var i=32-Iu(r)-1;r&=~(1<<i),n+=1;var a=32-Iu(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nd=1<<32-Iu(t)+i|n<<i|r,Ld=a+e}else Nd=1<<a|n<<i|r,Ld=e}function EB(e){e.return!==null&&(cm(e,1),j1e(e,1,0))}function kB(e){for(;e===MT;)MT=I1[--D1],I1[D1]=null,RT=I1[--D1],I1[D1]=null;for(;e===wg;)wg=Sl[--El],Sl[El]=null,Ld=Sl[--El],Sl[El]=null,Nd=Sl[--El],Sl[El]=null}var qs=null,Hs=null,si=!1,xu=null;function I1e(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vZ(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,Hs=Xh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,Hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wg!==null?{id:Nd,overflow:Ld}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ml(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qs=e,Hs=null,!0):!1;default:return!1}}function M4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function R4(e){if(si){var t=Hs;if(t){var n=t;if(!vZ(e,t)){if(M4(e))throw Error(Pe(418));t=Xh(n.nextSibling);var r=qs;t&&vZ(e,t)?I1e(r,n):(e.flags=e.flags&-4097|2,si=!1,qs=e)}}else{if(M4(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,si=!1,qs=e}}}function bZ(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function o2(e){if(e!==qs)return!1;if(!si)return bZ(e),si=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A4(e.type,e.memoizedProps)),t&&(t=Hs)){if(M4(e))throw D1e(),Error(Pe(418));for(;t;)I1e(e,t),t=Xh(t.nextSibling)}if(bZ(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Hs=Xh(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Hs=null}}else Hs=qs?Xh(e.stateNode.nextSibling):null;return!0}function D1e(){for(var e=Hs;e;)e=Xh(e.nextSibling)}function Vy(){Hs=qs=null,si=!1}function _B(e){xu===null?xu=[e]:xu.push(e)}var Uze=Rf.ReactCurrentBatchConfig;function lx(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,e))}return e}function s2(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xZ(e){var t=e._init;return t(e._payload)}function M1e(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=tp(b,x),b.index=0,b.sibling=null,b}function a(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,x,w,C){return x===null||x.tag!==6?(x=l$(w,b.mode,C),x.return=b,x):(x=i(x,w),x.return=b,x)}function l(b,x,w,C){var S=w.type;return S===E1?d(b,x,w.props.children,C,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ch&&xZ(S)===x.type)?(C=i(x,w.props),C.ref=lx(b,x,w),C.return=b,C):(C=g_(w.type,w.key,w.props,null,b.mode,C),C.ref=lx(b,x,w),C.return=b,C)}function c(b,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=u$(w,b.mode,C),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function d(b,x,w,C,S){return x===null||x.tag!==7?(x=qm(w,b.mode,C,S),x.return=b,x):(x=i(x,w),x.return=b,x)}function h(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=l$(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zk:return w=g_(x.type,x.key,x.props,null,b.mode,w),w.ref=lx(b,null,x),w.return=b,w;case S1:return x=u$(x,b.mode,w),x.return=b,x;case ch:var C=x._init;return h(b,C(x._payload),w)}if(iw(x)||rx(x))return x=qm(x,b.mode,w,null),x.return=b,x;s2(b,x)}return null}function p(b,x,w,C){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(b,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zk:return w.key===S?l(b,x,w,C):null;case S1:return w.key===S?c(b,x,w,C):null;case ch:return S=w._init,p(b,x,S(w._payload),C)}if(iw(w)||rx(w))return S!==null?null:d(b,x,w,C,null);s2(b,w)}return null}function m(b,x,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,s(x,b,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zk:return b=b.get(C.key===null?w:C.key)||null,l(x,b,C,S);case S1:return b=b.get(C.key===null?w:C.key)||null,c(x,b,C,S);case ch:var E=C._init;return m(b,x,w,E(C._payload),S)}if(iw(C)||rx(C))return b=b.get(w)||null,d(x,b,C,S,null);s2(x,C)}return null}function g(b,x,w,C){for(var S=null,E=null,k=x,_=x=0,T=null;k!==null&&_<w.length;_++){k.index>_?(T=k,k=null):T=k.sibling;var j=p(b,k,w[_],C);if(j===null){k===null&&(k=T);break}e&&k&&j.alternate===null&&t(b,k),x=a(j,x,_),E===null?S=j:E.sibling=j,E=j,k=T}if(_===w.length)return n(b,k),si&&cm(b,_),S;if(k===null){for(;_<w.length;_++)k=h(b,w[_],C),k!==null&&(x=a(k,x,_),E===null?S=k:E.sibling=k,E=k);return si&&cm(b,_),S}for(k=r(b,k);_<w.length;_++)T=m(k,b,_,w[_],C),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?_:T.key),x=a(T,x,_),E===null?S=T:E.sibling=T,E=T);return e&&k.forEach(function(A){return t(b,A)}),si&&cm(b,_),S}function y(b,x,w,C){var S=rx(w);if(typeof S!="function")throw Error(Pe(150));if(w=S.call(w),w==null)throw Error(Pe(151));for(var E=S=null,k=x,_=x=0,T=null,j=w.next();k!==null&&!j.done;_++,j=w.next()){k.index>_?(T=k,k=null):T=k.sibling;var A=p(b,k,j.value,C);if(A===null){k===null&&(k=T);break}e&&k&&A.alternate===null&&t(b,k),x=a(A,x,_),E===null?S=A:E.sibling=A,E=A,k=T}if(j.done)return n(b,k),si&&cm(b,_),S;if(k===null){for(;!j.done;_++,j=w.next())j=h(b,j.value,C),j!==null&&(x=a(j,x,_),E===null?S=j:E.sibling=j,E=j);return si&&cm(b,_),S}for(k=r(b,k);!j.done;_++,j=w.next())j=m(k,b,_,j.value,C),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?_:j.key),x=a(j,x,_),E===null?S=j:E.sibling=j,E=j);return e&&k.forEach(function(I){return t(b,I)}),si&&cm(b,_),S}function v(b,x,w,C){if(typeof w=="object"&&w!==null&&w.type===E1&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zk:e:{for(var S=w.key,E=x;E!==null;){if(E.key===S){if(S=w.type,S===E1){if(E.tag===7){n(b,E.sibling),x=i(E,w.props.children),x.return=b,b=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ch&&xZ(S)===E.type){n(b,E.sibling),x=i(E,w.props),x.ref=lx(b,E,w),x.return=b,b=x;break e}n(b,E);break}else t(b,E);E=E.sibling}w.type===E1?(x=qm(w.props.children,b.mode,C,w.key),x.return=b,b=x):(C=g_(w.type,w.key,w.props,null,b.mode,C),C.ref=lx(b,x,w),C.return=b,b=C)}return o(b);case S1:e:{for(E=w.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=u$(w,b.mode,C),x.return=b,b=x}return o(b);case ch:return E=w._init,v(b,x,E(w._payload),C)}if(iw(w))return g(b,x,w,C);if(rx(w))return y(b,x,w,C);s2(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,w),x.return=b,b=x):(n(b,x),x=l$(w,b.mode,C),x.return=b,b=x),o(b)):n(b,x)}return v}var zy=M1e(!0),R1e=M1e(!1),OT=Dp(null),$T=null,M1=null,TB=null;function AB(){TB=M1=$T=null}function jB(e){var t=OT.current;Kr(OT),e._currentValue=t}function O4(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ty(e,t){$T=e,TB=M1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vs=!0),e.firstContext=null)}function ql(e){var t=e._currentValue;if(TB!==e)if(e={context:e,memoizedValue:t,next:null},M1===null){if($T===null)throw Error(Pe(308));M1=e,$T.dependencies={lanes:0,firstContext:e}}else M1=M1.next=e;return t}var jm=null;function IB(e){jm===null?jm=[e]:jm.push(e)}function O1e(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,IB(t)):(n.next=i.next,i.next=n),t.interleaved=n,cf(e,r)}function cf(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dh=!1;function DB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $1e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jh(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ln&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cf(e,n)}return i=r.interleaved,i===null?(t.next=t,IB(r)):(t.next=i.next,i.next=t),r.interleaved=t,cf(e,n)}function c_(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gB(e,n)}}function wZ(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function PT(e,t,n,r){var i=e.updateQueue;dh=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;o=0,d=c=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(p=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=xi({},h,p);break e;case 2:dh=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Sg|=o,e.lanes=o,e.memoizedState=h}}function CZ(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var uE={},Mc=Dp(uE),TC=Dp(uE),AC=Dp(uE);function Im(e){if(e===uE)throw Error(Pe(174));return e}function MB(e,t){switch(Pr(AC,t),Pr(TC,e),Pr(Mc,uE),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p4(t,e)}Kr(Mc),Pr(Mc,t)}function Uy(){Kr(Mc),Kr(TC),Kr(AC)}function P1e(e){Im(AC.current);var t=Im(Mc.current),n=p4(t,e.type);t!==n&&(Pr(TC,e),Pr(Mc,n))}function RB(e){TC.current===e&&(Kr(Mc),Kr(TC))}var fi=Dp(0);function FT(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var n$=[];function OB(){for(var e=0;e<n$.length;e++)n$[e]._workInProgressVersionPrimary=null;n$.length=0}var d_=Rf.ReactCurrentDispatcher,r$=Rf.ReactCurrentBatchConfig,Cg=0,bi=null,pa=null,Ma=null,NT=!1,Mw=!1,jC=0,Hze=0;function lo(){throw Error(Pe(321))}function $B(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lu(e[n],t[n]))return!1;return!0}function PB(e,t,n,r,i,a){if(Cg=a,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,d_.current=e===null||e.memoizedState===null?qze:Kze,e=n(r,i),Mw){a=0;do{if(Mw=!1,jC=0,25<=a)throw Error(Pe(301));a+=1,Ma=pa=null,t.updateQueue=null,d_.current=Zze,e=n(r,i)}while(Mw)}if(d_.current=LT,t=pa!==null&&pa.next!==null,Cg=0,Ma=pa=bi=null,NT=!1,t)throw Error(Pe(300));return e}function FB(){var e=jC!==0;return jC=0,e}function cc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ma===null?bi.memoizedState=Ma=e:Ma=Ma.next=e,Ma}function Kl(){if(pa===null){var e=bi.alternate;e=e!==null?e.memoizedState:null}else e=pa.next;var t=Ma===null?bi.memoizedState:Ma.next;if(t!==null)Ma=t,pa=e;else{if(e===null)throw Error(Pe(310));pa=e,e={memoizedState:pa.memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},Ma===null?bi.memoizedState=Ma=e:Ma=Ma.next=e}return Ma}function IC(e,t){return typeof t=="function"?t(e):t}function i$(e){var t=Kl(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=pa,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((Cg&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,o=r):l=l.next=h,bi.lanes|=d,Sg|=d}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Lu(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,bi.lanes|=a,Sg|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function a$(e){var t=Kl(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Lu(a,t.memoizedState)||(vs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function F1e(){}function N1e(e,t){var n=bi,r=Kl(),i=t(),a=!Lu(r.memoizedState,i);if(a&&(r.memoizedState=i,vs=!0),r=r.queue,NB(V1e.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ma!==null&&Ma.memoizedState.tag&1){if(n.flags|=2048,DC(9,B1e.bind(null,n,r,i,t),void 0,null),Na===null)throw Error(Pe(349));Cg&30||L1e(n,t,i)}return i}function L1e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bi.updateQueue,t===null?(t={lastEffect:null,stores:null},bi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function B1e(e,t,n,r){t.value=n,t.getSnapshot=r,z1e(t)&&U1e(e)}function V1e(e,t,n){return n(function(){z1e(t)&&U1e(e)})}function z1e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lu(e,n)}catch{return!0}}function U1e(e){var t=cf(e,1);t!==null&&Du(t,e,1,-1)}function SZ(e){var t=cc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:IC,lastRenderedState:e},t.queue=e,e=e.dispatch=Yze.bind(null,bi,e),[t.memoizedState,e]}function DC(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bi.updateQueue,t===null?(t={lastEffect:null,stores:null},bi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function H1e(){return Kl().memoizedState}function f_(e,t,n,r){var i=cc();bi.flags|=e,i.memoizedState=DC(1|t,n,void 0,r===void 0?null:r)}function tD(e,t,n,r){var i=Kl();r=r===void 0?null:r;var a=void 0;if(pa!==null){var o=pa.memoizedState;if(a=o.destroy,r!==null&&$B(r,o.deps)){i.memoizedState=DC(t,n,a,r);return}}bi.flags|=e,i.memoizedState=DC(1|t,n,a,r)}function EZ(e,t){return f_(8390656,8,e,t)}function NB(e,t){return tD(2048,8,e,t)}function W1e(e,t){return tD(4,2,e,t)}function G1e(e,t){return tD(4,4,e,t)}function Y1e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q1e(e,t,n){return n=n!=null?n.concat([e]):null,tD(4,4,Y1e.bind(null,t,e),n)}function LB(){}function K1e(e,t){var n=Kl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$B(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Z1e(e,t){var n=Kl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$B(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function X1e(e,t,n){return Cg&21?(Lu(n,t)||(n=n1e(),bi.lanes|=n,Sg|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function Wze(e,t){var n=or;or=n!==0&&4>n?n:4,e(!0);var r=r$.transition;r$.transition={};try{e(!1),t()}finally{or=n,r$.transition=r}}function J1e(){return Kl().memoizedState}function Gze(e,t,n){var r=ep(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q1e(e))eye(t,n);else if(n=O1e(e,t,n,r),n!==null){var i=Bo();Du(n,e,r,i),tye(n,t,r)}}function Yze(e,t,n){var r=ep(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q1e(e))eye(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Lu(s,o)){var l=t.interleaved;l===null?(i.next=i,IB(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=O1e(e,t,i,r),n!==null&&(i=Bo(),Du(n,e,r,i),tye(n,t,r))}}function Q1e(e){var t=e.alternate;return e===bi||t!==null&&t===bi}function eye(e,t){Mw=NT=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tye(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gB(e,n)}}var LT={readContext:ql,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useInsertionEffect:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useMutableSource:lo,useSyncExternalStore:lo,useId:lo,unstable_isNewReconciler:!1},qze={readContext:ql,useCallback:function(e,t){return cc().memoizedState=[e,t===void 0?null:t],e},useContext:ql,useEffect:EZ,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,f_(4194308,4,Y1e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return f_(4194308,4,e,t)},useInsertionEffect:function(e,t){return f_(4,2,e,t)},useMemo:function(e,t){var n=cc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gze.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){var t=cc();return e={current:e},t.memoizedState=e},useState:SZ,useDebugValue:LB,useDeferredValue:function(e){return cc().memoizedState=e},useTransition:function(){var e=SZ(!1),t=e[0];return e=Wze.bind(null,e[1]),cc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bi,i=cc();if(si){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=t(),Na===null)throw Error(Pe(349));Cg&30||L1e(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,EZ(V1e.bind(null,r,a,e),[e]),r.flags|=2048,DC(9,B1e.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=cc(),t=Na.identifierPrefix;if(si){var n=Ld,r=Nd;n=(r&~(1<<32-Iu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jC++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hze++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kze={readContext:ql,useCallback:K1e,useContext:ql,useEffect:NB,useImperativeHandle:q1e,useInsertionEffect:W1e,useLayoutEffect:G1e,useMemo:Z1e,useReducer:i$,useRef:H1e,useState:function(){return i$(IC)},useDebugValue:LB,useDeferredValue:function(e){var t=Kl();return X1e(t,pa.memoizedState,e)},useTransition:function(){var e=i$(IC)[0],t=Kl().memoizedState;return[e,t]},useMutableSource:F1e,useSyncExternalStore:N1e,useId:J1e,unstable_isNewReconciler:!1},Zze={readContext:ql,useCallback:K1e,useContext:ql,useEffect:NB,useImperativeHandle:q1e,useInsertionEffect:W1e,useLayoutEffect:G1e,useMemo:Z1e,useReducer:a$,useRef:H1e,useState:function(){return a$(IC)},useDebugValue:LB,useDeferredValue:function(e){var t=Kl();return pa===null?t.memoizedState=e:X1e(t,pa.memoizedState,e)},useTransition:function(){var e=a$(IC)[0],t=Kl().memoizedState;return[e,t]},useMutableSource:F1e,useSyncExternalStore:N1e,useId:J1e,unstable_isNewReconciler:!1};function vu(e,t){if(e&&e.defaultProps){t=xi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $4(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nD={isMounted:function(e){return(e=e._reactInternals)?a0(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bo(),i=ep(e),a=Yd(r,i);a.payload=t,n!=null&&(a.callback=n),t=Jh(e,a,i),t!==null&&(Du(t,e,i,r),c_(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bo(),i=ep(e),a=Yd(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Jh(e,a,i),t!==null&&(Du(t,e,i,r),c_(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bo(),r=ep(e),i=Yd(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jh(e,i,r),t!==null&&(Du(t,e,r,n),c_(t,e,r))}};function kZ(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!SC(n,r)||!SC(i,a):!0}function nye(e,t,n){var r=!1,i=cp,a=t.contextType;return typeof a=="object"&&a!==null?a=ql(a):(i=xs(t)?xg:_o.current,r=t.contextTypes,a=(r=r!=null)?By(e,i):cp),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nD,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _Z(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nD.enqueueReplaceState(t,t.state,null)}function P4(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},DB(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ql(a):(a=xs(t)?xg:_o.current,i.context=By(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($4(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nD.enqueueReplaceState(i,i.state,null),PT(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hy(e,t){try{var n="",r=t;do n+=EVe(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function o$(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function F4(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xze=typeof WeakMap=="function"?WeakMap:Map;function rye(e,t,n){n=Yd(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){VT||(VT=!0,Y4=r),F4(e,t)},n}function iye(e,t,n){n=Yd(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){F4(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){F4(e,t),typeof r!="function"&&(Qh===null?Qh=new Set([this]):Qh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function TZ(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xze;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dUe.bind(null,e,t,n),t.then(e,e))}function AZ(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jZ(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yd(-1,1),t.tag=2,Jh(n,t,1))),n.lanes|=1),e)}var Jze=Rf.ReactCurrentOwner,vs=!1;function $o(e,t,n,r){t.child=e===null?R1e(t,null,n,r):zy(t,e.child,n,r)}function IZ(e,t,n,r,i){n=n.render;var a=t.ref;return ty(t,i),r=PB(e,t,n,r,a,i),n=FB(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,df(e,t,i)):(si&&n&&EB(t),t.flags|=1,$o(e,t,r,i),t.child)}function DZ(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!YB(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,aye(e,t,a,r,i)):(e=g_(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:SC,n(o,r)&&e.ref===t.ref)return df(e,t,i)}return t.flags|=1,e=tp(a,r),e.ref=t.ref,e.return=t,t.child=e}function aye(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(SC(a,r)&&e.ref===t.ref)if(vs=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(vs=!0);else return t.lanes=e.lanes,df(e,t,i)}return N4(e,t,n,r,i)}function oye(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(O1,Fs),Fs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(O1,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pr(O1,Fs),Fs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pr(O1,Fs),Fs|=r;return $o(e,t,i,n),t.child}function sye(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function N4(e,t,n,r,i){var a=xs(n)?xg:_o.current;return a=By(t,a),ty(t,i),n=PB(e,t,n,r,a,i),r=FB(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,df(e,t,i)):(si&&r&&EB(t),t.flags|=1,$o(e,t,n,i),t.child)}function MZ(e,t,n,r,i){if(xs(n)){var a=!0;DT(t)}else a=!1;if(ty(t,i),t.stateNode===null)h_(e,t),nye(t,n,r),P4(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ql(c):(c=xs(n)?xg:_o.current,c=By(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&_Z(t,o,r,c),dh=!1;var p=t.memoizedState;o.state=p,PT(t,r,o,i),l=t.memoizedState,s!==r||p!==l||bs.current||dh?(typeof d=="function"&&($4(t,n,d,r),l=t.memoizedState),(s=dh||kZ(t,n,s,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$1e(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vu(t.type,s),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ql(l):(l=xs(n)?xg:_o.current,l=By(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==h||p!==l)&&_Z(t,o,r,l),dh=!1,p=t.memoizedState,o.state=p,PT(t,r,o,i);var g=t.memoizedState;s!==h||p!==g||bs.current||dh?(typeof m=="function"&&($4(t,n,m,r),g=t.memoizedState),(c=dh||kZ(t,n,c,r,p,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return L4(e,t,n,r,a,i)}function L4(e,t,n,r,i,a){sye(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yZ(t,n,!1),df(e,t,a);r=t.stateNode,Jze.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zy(t,e.child,null,a),t.child=zy(t,null,s,a)):$o(e,t,s,a),t.memoizedState=r.state,i&&yZ(t,n,!0),t.child}function lye(e){var t=e.stateNode;t.pendingContext?gZ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gZ(e,t.context,!1),MB(e,t.containerInfo)}function RZ(e,t,n,r,i){return Vy(),_B(i),t.flags|=256,$o(e,t,n,r),t.child}var B4={dehydrated:null,treeContext:null,retryLane:0};function V4(e){return{baseLanes:e,cachePool:null,transitions:null}}function uye(e,t,n){var r=t.pendingProps,i=fi.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pr(fi,i&1),e===null)return R4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=aD(o,r,0,null),e=qm(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=V4(n),t.memoizedState=B4,e):BB(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Qze(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=tp(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=tp(s,a):(a=qm(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?V4(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=B4,r}return a=e.child,e=a.sibling,r=tp(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function BB(e,t){return t=aD({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function l2(e,t,n,r){return r!==null&&_B(r),zy(t,e.child,null,n),e=BB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qze(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=o$(Error(Pe(422))),l2(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=aD({mode:"visible",children:r.children},i,0,null),a=qm(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&zy(t,e.child,null,o),t.child.memoizedState=V4(o),t.memoizedState=B4,a);if(!(t.mode&1))return l2(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Pe(419)),r=o$(a,r,void 0),l2(e,t,o,r)}if(s=(o&e.childLanes)!==0,vs||s){if(r=Na,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,cf(e,i),Du(r,e,i,-1))}return GB(),r=o$(Error(Pe(421))),l2(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fUe.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Hs=Xh(i.nextSibling),qs=t,si=!0,xu=null,e!==null&&(Sl[El++]=Nd,Sl[El++]=Ld,Sl[El++]=wg,Nd=e.id,Ld=e.overflow,wg=t),t=BB(t,r.children),t.flags|=4096,t)}function OZ(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),O4(e.return,t,n)}function s$(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function cye(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($o(e,t,r.children,n),r=fi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OZ(e,n,t);else if(e.tag===19)OZ(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pr(fi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&FT(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),s$(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&FT(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}s$(t,!0,n,null,a);break;case"together":s$(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function h_(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function df(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sg|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,n=tp(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tp(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eUe(e,t,n){switch(t.tag){case 3:lye(t),Vy();break;case 5:P1e(t);break;case 1:xs(t.type)&&DT(t);break;case 4:MB(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pr(OT,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pr(fi,fi.current&1),t.flags|=128,null):n&t.child.childLanes?uye(e,t,n):(Pr(fi,fi.current&1),e=df(e,t,n),e!==null?e.sibling:null);Pr(fi,fi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cye(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pr(fi,fi.current),r)break;return null;case 22:case 23:return t.lanes=0,oye(e,t,n)}return df(e,t,n)}var dye,z4,fye,hye;dye=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z4=function(){};fye=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Im(Mc.current);var a=null;switch(n){case"input":i=c4(e,i),r=c4(e,r),a=[];break;case"select":i=xi({},i,{value:void 0}),r=xi({},r,{value:void 0}),a=[];break;case"textarea":i=h4(e,i),r=h4(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jT)}m4(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gC.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gC.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};hye=function(e,t,n,r){n!==r&&(t.flags|=4)};function ux(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tUe(e,t,n){var r=t.pendingProps;switch(kB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:return xs(t.type)&&IT(),uo(t),null;case 3:return r=t.stateNode,Uy(),Kr(bs),Kr(_o),OB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(o2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xu!==null&&(Z4(xu),xu=null))),z4(e,t),uo(t),null;case 5:RB(t);var i=Im(AC.current);if(n=t.type,e!==null&&t.stateNode!=null)fye(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return uo(t),null}if(e=Im(Mc.current),o2(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[bc]=t,r[_C]=a,e=(t.mode&1)!==0,n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<ow.length;i++)Hr(ow[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":UK(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":WK(r,a),Hr("invalid",r)}m4(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&a2(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&a2(r.textContent,s,e),i=["children",""+s]):gC.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Hr("scroll",r)}switch(n){case"input":Xk(r),HK(r,a,!0);break;case"textarea":Xk(r),GK(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jT)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V0e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bc]=t,e[_C]=r,dye(e,t,!1,!1),t.stateNode=e;e:{switch(o=g4(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<ow.length;i++)Hr(ow[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":UK(e,r),i=c4(e,r),Hr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xi({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":WK(e,r),i=h4(e,r),Hr("invalid",e);break;default:i=r}m4(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?H0e(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z0e(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yC(e,l):typeof l=="number"&&yC(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gC.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Hr("scroll",e):l!=null&&cB(e,a,l,o))}switch(n){case"input":Xk(e),HK(e,r,!1);break;case"textarea":Xk(e),GK(e);break;case"option":r.value!=null&&e.setAttribute("value",""+up(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?X1(e,!!r.multiple,a,!1):r.defaultValue!=null&&X1(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&t.stateNode!=null)hye(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(n=Im(AC.current),Im(Mc.current),o2(t)){if(r=t.stateNode,n=t.memoizedProps,r[bc]=t,(a=r.nodeValue!==n)&&(e=qs,e!==null))switch(e.tag){case 3:a2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a2(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bc]=t,t.stateNode=r}return uo(t),null;case 13:if(Kr(fi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(si&&Hs!==null&&t.mode&1&&!(t.flags&128))D1e(),Vy(),t.flags|=98560,a=!1;else if(a=o2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Pe(317));a[bc]=t}else Vy(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;uo(t),a=!1}else xu!==null&&(Z4(xu),xu=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fi.current&1?ba===0&&(ba=3):GB())),t.updateQueue!==null&&(t.flags|=4),uo(t),null);case 4:return Uy(),z4(e,t),e===null&&EC(t.stateNode.containerInfo),uo(t),null;case 10:return jB(t.type._context),uo(t),null;case 17:return xs(t.type)&&IT(),uo(t),null;case 19:if(Kr(fi),a=t.memoizedState,a===null)return uo(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)ux(a,!1);else{if(ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=FT(e),o!==null){for(t.flags|=128,ux(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pr(fi,fi.current&1|2),t.child}e=e.sibling}a.tail!==null&&Li()>Wy&&(t.flags|=128,r=!0,ux(a,!1),t.lanes=4194304)}else{if(!r)if(e=FT(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ux(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!si)return uo(t),null}else 2*Li()-a.renderingStartTime>Wy&&n!==1073741824&&(t.flags|=128,r=!0,ux(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Li(),t.sibling=null,n=fi.current,Pr(fi,r?n&1|2:n&1),t):(uo(t),null);case 22:case 23:return WB(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fs&1073741824&&(uo(t),t.subtreeFlags&6&&(t.flags|=8192)):uo(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function nUe(e,t){switch(kB(t),t.tag){case 1:return xs(t.type)&&IT(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uy(),Kr(bs),Kr(_o),OB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return RB(t),null;case 13:if(Kr(fi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Vy()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kr(fi),null;case 4:return Uy(),null;case 10:return jB(t.type._context),null;case 22:case 23:return WB(),null;case 24:return null;default:return null}}var u2=!1,xo=!1,rUe=typeof WeakSet=="function"?WeakSet:Set,ut=null;function R1(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ki(e,t,r)}else n.current=null}function U4(e,t,n){try{n()}catch(r){ki(e,t,r)}}var $Z=!1;function iUe(e,t){if(_4=_T,e=v1e(),SB(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(s=o+i),h!==a||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++c===i&&(s=o),p===a&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(T4={focusedElem:e,selectionRange:n},_T=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:vu(t.type,y),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(C){ki(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return g=$Z,$Z=!1,g}function Rw(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&U4(t,n,a)}i=i.next}while(i!==r)}}function rD(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function H4(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pye(e){var t=e.alternate;t!==null&&(e.alternate=null,pye(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bc],delete t[_C],delete t[I4],delete t[Bze],delete t[Vze])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mye(e){return e.tag===5||e.tag===3||e.tag===4}function PZ(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mye(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function W4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jT));else if(r!==4&&(e=e.child,e!==null))for(W4(e,t,n),e=e.sibling;e!==null;)W4(e,t,n),e=e.sibling}function G4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(G4(e,t,n),e=e.sibling;e!==null;)G4(e,t,n),e=e.sibling}var Ba=null,bu=!1;function Xf(e,t,n){for(n=n.child;n!==null;)gye(e,t,n),n=n.sibling}function gye(e,t,n){if(Dc&&typeof Dc.onCommitFiberUnmount=="function")try{Dc.onCommitFiberUnmount(KI,n)}catch{}switch(n.tag){case 5:xo||R1(n,t);case 6:var r=Ba,i=bu;Ba=null,Xf(e,t,n),Ba=r,bu=i,Ba!==null&&(bu?(e=Ba,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ba.removeChild(n.stateNode));break;case 18:Ba!==null&&(bu?(e=Ba,n=n.stateNode,e.nodeType===8?e$(e.parentNode,n):e.nodeType===1&&e$(e,n),wC(e)):e$(Ba,n.stateNode));break;case 4:r=Ba,i=bu,Ba=n.stateNode.containerInfo,bu=!0,Xf(e,t,n),Ba=r,bu=i;break;case 0:case 11:case 14:case 15:if(!xo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&U4(n,t,o),i=i.next}while(i!==r)}Xf(e,t,n);break;case 1:if(!xo&&(R1(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ki(n,t,s)}Xf(e,t,n);break;case 21:Xf(e,t,n);break;case 22:n.mode&1?(xo=(r=xo)||n.memoizedState!==null,Xf(e,t,n),xo=r):Xf(e,t,n);break;default:Xf(e,t,n)}}function FZ(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rUe),t.forEach(function(r){var i=hUe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pu(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ba=s.stateNode,bu=!1;break e;case 3:Ba=s.stateNode.containerInfo,bu=!0;break e;case 4:Ba=s.stateNode.containerInfo,bu=!0;break e}s=s.return}if(Ba===null)throw Error(Pe(160));gye(a,o,i),Ba=null,bu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ki(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yye(t,e),t=t.sibling}function yye(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pu(t,e),Qu(e),r&4){try{Rw(3,e,e.return),rD(3,e)}catch(y){ki(e,e.return,y)}try{Rw(5,e,e.return)}catch(y){ki(e,e.return,y)}}break;case 1:pu(t,e),Qu(e),r&512&&n!==null&&R1(n,n.return);break;case 5:if(pu(t,e),Qu(e),r&512&&n!==null&&R1(n,n.return),e.flags&32){var i=e.stateNode;try{yC(i,"")}catch(y){ki(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&L0e(i,a),g4(s,o);var c=g4(s,a);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?H0e(i,h):d==="dangerouslySetInnerHTML"?z0e(i,h):d==="children"?yC(i,h):cB(i,d,h,c)}switch(s){case"input":d4(i,a);break;case"textarea":B0e(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?X1(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?X1(i,!!a.multiple,a.defaultValue,!0):X1(i,!!a.multiple,a.multiple?[]:"",!1))}i[_C]=a}catch(y){ki(e,e.return,y)}}break;case 6:if(pu(t,e),Qu(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){ki(e,e.return,y)}}break;case 3:if(pu(t,e),Qu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wC(t.containerInfo)}catch(y){ki(e,e.return,y)}break;case 4:pu(t,e),Qu(e);break;case 13:pu(t,e),Qu(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(UB=Li())),r&4&&FZ(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(xo=(c=xo)||d,pu(t,e),xo=c):pu(t,e),Qu(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(h=ut=d;ut!==null;){switch(p=ut,m=p.child,p.tag){case 0:case 11:case 14:case 15:Rw(4,p,p.return);break;case 1:R1(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ki(r,n,y)}}break;case 5:R1(p,p.return);break;case 22:if(p.memoizedState!==null){LZ(h);continue}}m!==null?(m.return=p,ut=m):LZ(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=U0e("display",o))}catch(y){ki(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ki(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pu(t,e),Qu(e),r&4&&FZ(e);break;case 21:break;default:pu(t,e),Qu(e)}}function Qu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mye(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yC(i,""),r.flags&=-33);var a=PZ(e);G4(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=PZ(e);W4(e,s,o);break;default:throw Error(Pe(161))}}catch(l){ki(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aUe(e,t,n){ut=e,vye(e)}function vye(e,t,n){for(var r=(e.mode&1)!==0;ut!==null;){var i=ut,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||u2;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||xo;s=u2;var c=xo;if(u2=o,(xo=l)&&!c)for(ut=i;ut!==null;)o=ut,l=o.child,o.tag===22&&o.memoizedState!==null?BZ(i):l!==null?(l.return=o,ut=l):BZ(i);for(;a!==null;)ut=a,vye(a),a=a.sibling;ut=i,u2=s,xo=c}NZ(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ut=a):NZ(e)}}function NZ(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xo||rD(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xo)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&CZ(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}CZ(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wC(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}xo||t.flags&512&&H4(t)}catch(p){ki(t,t.return,p)}}if(t===e){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function LZ(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function BZ(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rD(4,t)}catch(l){ki(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ki(t,i,l)}}var a=t.return;try{H4(t)}catch(l){ki(t,a,l)}break;case 5:var o=t.return;try{H4(t)}catch(l){ki(t,o,l)}}}catch(l){ki(t,t.return,l)}if(t===e){ut=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ut=s;break}ut=t.return}}var oUe=Math.ceil,BT=Rf.ReactCurrentDispatcher,VB=Rf.ReactCurrentOwner,Nl=Rf.ReactCurrentBatchConfig,Ln=0,Na=null,ra=null,qa=0,Fs=0,O1=Dp(0),ba=0,MC=null,Sg=0,iD=0,zB=0,Ow=null,ps=null,UB=0,Wy=1/0,Sd=null,VT=!1,Y4=null,Qh=null,c2=!1,Mh=null,zT=0,$w=0,q4=null,p_=-1,m_=0;function Bo(){return Ln&6?Li():p_!==-1?p_:p_=Li()}function ep(e){return e.mode&1?Ln&2&&qa!==0?qa&-qa:Uze.transition!==null?(m_===0&&(m_=n1e()),m_):(e=or,e!==0||(e=window.event,e=e===void 0?16:u1e(e.type)),e):1}function Du(e,t,n,r){if(50<$w)throw $w=0,q4=null,Error(Pe(185));oE(e,n,r),(!(Ln&2)||e!==Na)&&(e===Na&&(!(Ln&2)&&(iD|=n),ba===4&&Ch(e,qa)),ws(e,r),n===1&&Ln===0&&!(t.mode&1)&&(Wy=Li()+500,eD&&Mp()))}function ws(e,t){var n=e.callbackNode;UVe(e,t);var r=kT(e,e===Na?qa:0);if(r===0)n!==null&&KK(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&KK(n),t===1)e.tag===0?zze(VZ.bind(null,e)):A1e(VZ.bind(null,e)),Nze(function(){!(Ln&6)&&Mp()}),n=null;else{switch(r1e(r)){case 1:n=mB;break;case 4:n=e1e;break;case 16:n=ET;break;case 536870912:n=t1e;break;default:n=ET}n=_ye(n,bye.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bye(e,t){if(p_=-1,m_=0,Ln&6)throw Error(Pe(327));var n=e.callbackNode;if(ny()&&e.callbackNode!==n)return null;var r=kT(e,e===Na?qa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=UT(e,r);else{t=r;var i=Ln;Ln|=2;var a=wye();(Na!==e||qa!==t)&&(Sd=null,Wy=Li()+500,Ym(e,t));do try{uUe();break}catch(s){xye(e,s)}while(1);AB(),BT.current=a,Ln=i,ra!==null?t=0:(Na=null,qa=0,t=ba)}if(t!==0){if(t===2&&(i=w4(e),i!==0&&(r=i,t=K4(e,i))),t===1)throw n=MC,Ym(e,0),Ch(e,r),ws(e,Li()),n;if(t===6)Ch(e,r);else{if(i=e.current.alternate,!(r&30)&&!sUe(i)&&(t=UT(e,r),t===2&&(a=w4(e),a!==0&&(r=a,t=K4(e,a))),t===1))throw n=MC,Ym(e,0),Ch(e,r),ws(e,Li()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:dm(e,ps,Sd);break;case 3:if(Ch(e,r),(r&130023424)===r&&(t=UB+500-Li(),10<t)){if(kT(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=j4(dm.bind(null,e,ps,Sd),t);break}dm(e,ps,Sd);break;case 4:if(Ch(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Iu(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Li()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oUe(r/1960))-r,10<r){e.timeoutHandle=j4(dm.bind(null,e,ps,Sd),r);break}dm(e,ps,Sd);break;case 5:dm(e,ps,Sd);break;default:throw Error(Pe(329))}}}return ws(e,Li()),e.callbackNode===n?bye.bind(null,e):null}function K4(e,t){var n=Ow;return e.current.memoizedState.isDehydrated&&(Ym(e,t).flags|=256),e=UT(e,t),e!==2&&(t=ps,ps=n,t!==null&&Z4(t)),e}function Z4(e){ps===null?ps=e:ps.push.apply(ps,e)}function sUe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Lu(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ch(e,t){for(t&=~zB,t&=~iD,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Iu(t),r=1<<n;e[n]=-1,t&=~r}}function VZ(e){if(Ln&6)throw Error(Pe(327));ny();var t=kT(e,0);if(!(t&1))return ws(e,Li()),null;var n=UT(e,t);if(e.tag!==0&&n===2){var r=w4(e);r!==0&&(t=r,n=K4(e,r))}if(n===1)throw n=MC,Ym(e,0),Ch(e,t),ws(e,Li()),n;if(n===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dm(e,ps,Sd),ws(e,Li()),null}function HB(e,t){var n=Ln;Ln|=1;try{return e(t)}finally{Ln=n,Ln===0&&(Wy=Li()+500,eD&&Mp())}}function Eg(e){Mh!==null&&Mh.tag===0&&!(Ln&6)&&ny();var t=Ln;Ln|=1;var n=Nl.transition,r=or;try{if(Nl.transition=null,or=1,e)return e()}finally{or=r,Nl.transition=n,Ln=t,!(Ln&6)&&Mp()}}function WB(){Fs=O1.current,Kr(O1)}function Ym(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fze(n)),ra!==null)for(n=ra.return;n!==null;){var r=n;switch(kB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&IT();break;case 3:Uy(),Kr(bs),Kr(_o),OB();break;case 5:RB(r);break;case 4:Uy();break;case 13:Kr(fi);break;case 19:Kr(fi);break;case 10:jB(r.type._context);break;case 22:case 23:WB()}n=n.return}if(Na=e,ra=e=tp(e.current,null),qa=Fs=t,ba=0,MC=null,zB=iD=Sg=0,ps=Ow=null,jm!==null){for(t=0;t<jm.length;t++)if(n=jm[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}jm=null}return e}function xye(e,t){do{var n=ra;try{if(AB(),d_.current=LT,NT){for(var r=bi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}NT=!1}if(Cg=0,Ma=pa=bi=null,Mw=!1,jC=0,VB.current=null,n===null||n.return===null){ba=1,MC=t,ra=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=qa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AZ(o);if(m!==null){m.flags&=-257,jZ(m,o,s,a,t),m.mode&1&&TZ(a,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){TZ(a,c,t),GB();break e}l=Error(Pe(426))}}else if(si&&s.mode&1){var v=AZ(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jZ(v,o,s,a,t),_B(Hy(l,s));break e}}a=l=Hy(l,s),ba!==4&&(ba=2),Ow===null?Ow=[a]:Ow.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=rye(a,l,t);wZ(a,b);break e;case 1:s=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qh===null||!Qh.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=iye(a,s,t);wZ(a,C);break e}}a=a.return}while(a!==null)}Sye(n)}catch(S){t=S,ra===n&&n!==null&&(ra=n=n.return);continue}break}while(1)}function wye(){var e=BT.current;return BT.current=LT,e===null?LT:e}function GB(){(ba===0||ba===3||ba===2)&&(ba=4),Na===null||!(Sg&268435455)&&!(iD&268435455)||Ch(Na,qa)}function UT(e,t){var n=Ln;Ln|=2;var r=wye();(Na!==e||qa!==t)&&(Sd=null,Ym(e,t));do try{lUe();break}catch(i){xye(e,i)}while(1);if(AB(),Ln=n,BT.current=r,ra!==null)throw Error(Pe(261));return Na=null,qa=0,ba}function lUe(){for(;ra!==null;)Cye(ra)}function uUe(){for(;ra!==null&&!OVe();)Cye(ra)}function Cye(e){var t=kye(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?Sye(e):ra=t,VB.current=null}function Sye(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nUe(n,t),n!==null){n.flags&=32767,ra=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ba=6,ra=null;return}}else if(n=tUe(n,t,Fs),n!==null){ra=n;return}if(t=t.sibling,t!==null){ra=t;return}ra=t=e}while(t!==null);ba===0&&(ba=5)}function dm(e,t,n){var r=or,i=Nl.transition;try{Nl.transition=null,or=1,cUe(e,t,n,r)}finally{Nl.transition=i,or=r}return null}function cUe(e,t,n,r){do ny();while(Mh!==null);if(Ln&6)throw Error(Pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(HVe(e,a),e===Na&&(ra=Na=null,qa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||c2||(c2=!0,_ye(ET,function(){return ny(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Nl.transition,Nl.transition=null;var o=or;or=1;var s=Ln;Ln|=4,VB.current=null,iUe(e,n),yye(n,e),Ize(T4),_T=!!_4,T4=_4=null,e.current=n,aUe(n),$Ve(),Ln=s,or=o,Nl.transition=a}else e.current=n;if(c2&&(c2=!1,Mh=e,zT=i),a=e.pendingLanes,a===0&&(Qh=null),NVe(n.stateNode),ws(e,Li()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(VT)throw VT=!1,e=Y4,Y4=null,e;return zT&1&&e.tag!==0&&ny(),a=e.pendingLanes,a&1?e===q4?$w++:($w=0,q4=e):$w=0,Mp(),null}function ny(){if(Mh!==null){var e=r1e(zT),t=Nl.transition,n=or;try{if(Nl.transition=null,or=16>e?16:e,Mh===null)var r=!1;else{if(e=Mh,Mh=null,zT=0,Ln&6)throw Error(Pe(331));var i=Ln;for(Ln|=4,ut=e.current;ut!==null;){var a=ut,o=a.child;if(ut.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ut=c;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Rw(8,d,a)}var h=d.child;if(h!==null)h.return=d,ut=h;else for(;ut!==null;){d=ut;var p=d.sibling,m=d.return;if(pye(d),d===c){ut=null;break}if(p!==null){p.return=m,ut=p;break}ut=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ut=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ut=o;else e:for(;ut!==null;){if(a=ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rw(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ut=b;break e}ut=a.return}}var x=e.current;for(ut=x;ut!==null;){o=ut;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ut=w;else e:for(o=x;ut!==null;){if(s=ut,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:rD(9,s)}}catch(S){ki(s,s.return,S)}if(s===o){ut=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,ut=C;break e}ut=s.return}}if(Ln=i,Mp(),Dc&&typeof Dc.onPostCommitFiberRoot=="function")try{Dc.onPostCommitFiberRoot(KI,e)}catch{}r=!0}return r}finally{or=n,Nl.transition=t}}return!1}function zZ(e,t,n){t=Hy(n,t),t=rye(e,t,1),e=Jh(e,t,1),t=Bo(),e!==null&&(oE(e,1,t),ws(e,t))}function ki(e,t,n){if(e.tag===3)zZ(e,e,n);else for(;t!==null;){if(t.tag===3){zZ(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qh===null||!Qh.has(r))){e=Hy(n,e),e=iye(t,e,1),t=Jh(t,e,1),e=Bo(),t!==null&&(oE(t,1,e),ws(t,e));break}}t=t.return}}function dUe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bo(),e.pingedLanes|=e.suspendedLanes&n,Na===e&&(qa&n)===n&&(ba===4||ba===3&&(qa&130023424)===qa&&500>Li()-UB?Ym(e,0):zB|=n),ws(e,t)}function Eye(e,t){t===0&&(e.mode&1?(t=e2,e2<<=1,!(e2&130023424)&&(e2=4194304)):t=1);var n=Bo();e=cf(e,t),e!==null&&(oE(e,t,n),ws(e,n))}function fUe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Eye(e,n)}function hUe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),Eye(e,n)}var kye;kye=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bs.current)vs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vs=!1,eUe(e,t,n);vs=!!(e.flags&131072)}else vs=!1,si&&t.flags&1048576&&j1e(t,RT,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;h_(e,t),e=t.pendingProps;var i=By(t,_o.current);ty(t,n),i=PB(null,t,r,e,i,n);var a=FB();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xs(r)?(a=!0,DT(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DB(t),i.updater=nD,t.stateNode=i,i._reactInternals=t,P4(t,r,e,n),t=L4(null,t,r,!0,a,n)):(t.tag=0,si&&a&&EB(t),$o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(h_(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=mUe(r),e=vu(r,e),i){case 0:t=N4(null,t,r,e,n);break e;case 1:t=MZ(null,t,r,e,n);break e;case 11:t=IZ(null,t,r,e,n);break e;case 14:t=DZ(null,t,r,vu(r.type,e),n);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vu(r,i),N4(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vu(r,i),MZ(e,t,r,i,n);case 3:e:{if(lye(t),e===null)throw Error(Pe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,$1e(e,t),PT(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Hy(Error(Pe(423)),t),t=RZ(e,t,r,n,i);break e}else if(r!==i){i=Hy(Error(Pe(424)),t),t=RZ(e,t,r,n,i);break e}else for(Hs=Xh(t.stateNode.containerInfo.firstChild),qs=t,si=!0,xu=null,n=R1e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vy(),r===i){t=df(e,t,n);break e}$o(e,t,r,n)}t=t.child}return t;case 5:return P1e(t),e===null&&R4(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,A4(r,i)?o=null:a!==null&&A4(r,a)&&(t.flags|=32),sye(e,t),$o(e,t,o,n),t.child;case 6:return e===null&&R4(t),null;case 13:return uye(e,t,n);case 4:return MB(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zy(t,null,r,n):$o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vu(r,i),IZ(e,t,r,i,n);case 7:return $o(e,t,t.pendingProps,n),t.child;case 8:return $o(e,t,t.pendingProps.children,n),t.child;case 12:return $o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Pr(OT,r._currentValue),r._currentValue=o,a!==null)if(Lu(a.value,o)){if(a.children===i.children&&!bs.current){t=df(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Yd(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),O4(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Pe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),O4(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}$o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ty(t,n),i=ql(i),r=r(i),t.flags|=1,$o(e,t,r,n),t.child;case 14:return r=t.type,i=vu(r,t.pendingProps),i=vu(r.type,i),DZ(e,t,r,i,n);case 15:return aye(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vu(r,i),h_(e,t),t.tag=1,xs(r)?(e=!0,DT(t)):e=!1,ty(t,n),nye(t,r,i),P4(t,r,i,n),L4(null,t,r,!0,e,n);case 19:return cye(e,t,n);case 22:return oye(e,t,n)}throw Error(Pe(156,t.tag))};function _ye(e,t){return Q0e(e,t)}function pUe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new pUe(e,t,n,r)}function YB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mUe(e){if(typeof e=="function")return YB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fB)return 11;if(e===hB)return 14}return 2}function tp(e,t){var n=e.alternate;return n===null?(n=Ml(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function g_(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")YB(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case E1:return qm(n.children,i,a,t);case dB:o=8,i|=8;break;case o4:return e=Ml(12,n,t,i|2),e.elementType=o4,e.lanes=a,e;case s4:return e=Ml(13,n,t,i),e.elementType=s4,e.lanes=a,e;case l4:return e=Ml(19,n,t,i),e.elementType=l4,e.lanes=a,e;case P0e:return aD(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O0e:o=10;break e;case $0e:o=9;break e;case fB:o=11;break e;case hB:o=14;break e;case ch:o=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=Ml(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function qm(e,t,n,r){return e=Ml(7,e,r,t),e.lanes=n,e}function aD(e,t,n,r){return e=Ml(22,e,r,t),e.elementType=P0e,e.lanes=n,e.stateNode={isHidden:!1},e}function l$(e,t,n){return e=Ml(6,e,null,t),e.lanes=n,e}function u$(e,t,n){return t=Ml(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gUe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=UO(0),this.expirationTimes=UO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=UO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qB(e,t,n,r,i,a,o,s,l){return e=new gUe(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DB(a),e}function yUe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S1,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tye(e){if(!e)return cp;e=e._reactInternals;e:{if(a0(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var n=e.type;if(xs(n))return T1e(e,n,t)}return t}function Aye(e,t,n,r,i,a,o,s,l){return e=qB(n,r,!0,e,i,a,o,s,l),e.context=Tye(null),n=e.current,r=Bo(),i=ep(n),a=Yd(r,i),a.callback=t??null,Jh(n,a,i),e.current.lanes=i,oE(e,i,r),ws(e,r),e}function oD(e,t,n,r){var i=t.current,a=Bo(),o=ep(i);return n=Tye(n),t.context===null?t.context=n:t.pendingContext=n,t=Yd(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jh(i,t,o),e!==null&&(Du(e,i,o,a),c_(e,i,o)),o}function HT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UZ(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function KB(e,t){UZ(e,t),(e=e.alternate)&&UZ(e,t)}function vUe(){return null}var jye=typeof reportError=="function"?reportError:function(e){console.error(e)};function ZB(e){this._internalRoot=e}sD.prototype.render=ZB.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));oD(e,t,null,null)};sD.prototype.unmount=ZB.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eg(function(){oD(null,e,null,null)}),t[uf]=null}};function sD(e){this._internalRoot=e}sD.prototype.unstable_scheduleHydration=function(e){if(e){var t=o1e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wh.length&&t!==0&&t<wh[n].priority;n++);wh.splice(n,0,e),n===0&&l1e(e)}};function XB(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HZ(){}function bUe(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=HT(o);a.call(c)}}var o=Aye(t,r,e,0,null,!1,!1,"",HZ);return e._reactRootContainer=o,e[uf]=o.current,EC(e.nodeType===8?e.parentNode:e),Eg(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=HT(l);s.call(c)}}var l=qB(e,0,!1,null,null,!1,!1,"",HZ);return e._reactRootContainer=l,e[uf]=l.current,EC(e.nodeType===8?e.parentNode:e),Eg(function(){oD(t,l,n,r)}),l}function uD(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=HT(o);s.call(l)}}oD(t,o,e,i)}else o=bUe(n,t,e,i,r);return HT(o)}i1e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=aw(t.pendingLanes);n!==0&&(gB(t,n|1),ws(t,Li()),!(Ln&6)&&(Wy=Li()+500,Mp()))}break;case 13:Eg(function(){var r=cf(e,1);if(r!==null){var i=Bo();Du(r,e,1,i)}}),KB(e,1)}};yB=function(e){if(e.tag===13){var t=cf(e,134217728);if(t!==null){var n=Bo();Du(t,e,134217728,n)}KB(e,134217728)}};a1e=function(e){if(e.tag===13){var t=ep(e),n=cf(e,t);if(n!==null){var r=Bo();Du(n,e,t,r)}KB(e,t)}};o1e=function(){return or};s1e=function(e,t){var n=or;try{return or=e,t()}finally{or=n}};v4=function(e,t,n){switch(t){case"input":if(d4(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=QI(r);if(!i)throw Error(Pe(90));N0e(r),d4(r,i)}}}break;case"textarea":B0e(e,n);break;case"select":t=n.value,t!=null&&X1(e,!!n.multiple,t,!1)}};Y0e=HB;q0e=Eg;var xUe={usingClientEntryPoint:!1,Events:[lE,A1,QI,W0e,G0e,HB]},cx={findFiberByHostInstance:Am,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wUe={bundleType:cx.bundleType,version:cx.version,rendererPackageName:cx.rendererPackageName,rendererConfig:cx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X0e(e),e===null?null:e.stateNode},findFiberByHostInstance:cx.findFiberByHostInstance||vUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d2.isDisabled&&d2.supportsFiber)try{KI=d2.inject(wUe),Dc=d2}catch{}}al.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xUe;al.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XB(t))throw Error(Pe(200));return yUe(e,t,null,n)};al.createRoot=function(e,t){if(!XB(e))throw Error(Pe(299));var n=!1,r="",i=jye;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qB(e,1,!1,null,null,n,!1,r,i),e[uf]=t.current,EC(e.nodeType===8?e.parentNode:e),new ZB(t)};al.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=X0e(t),e=e===null?null:e.stateNode,e};al.flushSync=function(e){return Eg(e)};al.hydrate=function(e,t,n){if(!lD(t))throw Error(Pe(200));return uD(null,e,t,!0,n)};al.hydrateRoot=function(e,t,n){if(!XB(e))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=jye;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Aye(t,null,e,1,n??null,i,!1,a,o),e[uf]=t.current,EC(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sD(t)};al.render=function(e,t,n){if(!lD(t))throw Error(Pe(200));return uD(null,e,t,!1,n)};al.unmountComponentAtNode=function(e){if(!lD(e))throw Error(Pe(40));return e._reactRootContainer?(Eg(function(){uD(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};al.unstable_batchedUpdates=HB;al.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lD(n))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return uD(e,t,n,!1,r)};al.version="18.3.1-next-f1338f8080-20240426";function Iye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iye)}catch(e){console.error(e)}}Iye(),I0e.exports=al;var xc=I0e.exports;const CUe=Fe(xc);var y_=typeof document<"u"?f.useLayoutEffect:f.useEffect;function WT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!WT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!WT(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Dye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WZ(e,t){const n=Dye(e);return Math.round(t*n)/n}function GZ(e){const t=f.useRef(e);return y_(()=>{t.current=e}),t}function Mye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);WT(p,r)||m(r);const[g,y]=f.useState(null),[v,b]=f.useState(null),x=f.useCallback(F=>{F!==E.current&&(E.current=F,y(F))},[]),w=f.useCallback(F=>{F!==k.current&&(k.current=F,b(F))},[]),C=a||g,S=o||v,E=f.useRef(null),k=f.useRef(null),_=f.useRef(d),T=l!=null,j=GZ(l),A=GZ(i),I=f.useCallback(()=>{if(!E.current||!k.current)return;const F={placement:t,strategy:n,middleware:p};A.current&&(F.platform=A.current),yVe(E.current,k.current,F).then(P=>{const V={...P,isPositioned:!0};M.current&&!WT(_.current,V)&&(_.current=V,xc.flushSync(()=>{h(V)}))})},[p,t,n,A]);y_(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const M=f.useRef(!1);y_(()=>(M.current=!0,()=>{M.current=!1}),[]),y_(()=>{if(C&&(E.current=C),S&&(k.current=S),C&&S){if(j.current)return j.current(C,S,I);I()}},[C,S,I,j,T]);const D=f.useMemo(()=>({reference:E,floating:k,setReference:x,setFloating:w}),[x,w]),O=f.useMemo(()=>({reference:C,floating:S}),[C,S]),R=f.useMemo(()=>{const F={position:n,left:0,top:0};if(!O.floating)return F;const P=WZ(O.floating,d.x),V=WZ(O.floating,d.y);return s?{...F,transform:"translate("+P+"px, "+V+"px)",...Dye(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,s,O.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:I,refs:D,elements:O,floatingStyles:R}),[d,I,D,O,R])}const SUe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?LK({element:r.current,padding:i}).fn(n):{}:r?LK({element:r,padding:i}).fn(n):{}}}},Rye=(e,t)=>({...hVe(e),options:[e,t]}),Oye=(e,t)=>({...pVe(e),options:[e,t]}),$ye=(e,t)=>({...mVe(e),options:[e,t]}),EUe=(e,t)=>({...gVe(e),options:[e,t]}),Pye=(e,t)=>({...SUe(e),options:[e,t]}),Fye=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cD=f.createContext({}),dD=f.createContext(null),fD=typeof document<"u",JB=fD?f.useLayoutEffect:f.useEffect,Nye=f.createContext({strict:!1}),QB=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),kUe="framerAppearId",Lye="data-"+QB(kUe),Bye={skipAnimations:!1,useManualTiming:!1};class YZ{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function _Ue(e){let t=new YZ,n=new YZ,r=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const h=d&&i,p=h?t:n;return c&&o.add(l),p.add(l)&&h&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];o.has(d)&&(s.schedule(d),e()),d(l)}i=!1,a&&(a=!1,s.process(l))}};return s}const f2=["prepare","read","update","preRender","render","postRender"],TUe=40;function Vye(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=f2.reduce((h,p)=>(h[p]=_Ue(()=>n=!0),h),{}),o=h=>{a[h].process(i)},s=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,TUe),1),i.timestamp=h,i.isProcessing=!0,f2.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:f2.reduce((h,p)=>{const m=a[p];return h[p]=(g,y=!1,v=!1)=>(n||l(),m.schedule(g,y,v)),h},{}),cancel:h=>f2.forEach(p=>a[p].cancel(h)),state:i,steps:a}}const{schedule:eV,cancel:azn}=Vye(queueMicrotask,!1);function AUe(e,t,n,r){const{visualElement:i}=f.useContext(cD),a=f.useContext(Nye),o=f.useContext(dD),s=f.useContext(Fye).reducedMotion,l=f.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;f.useInsertionEffect(()=>{c&&c.update(n,o)});const d=f.useRef(!!(n[Lye]&&!window.HandoffComplete));return JB(()=>{c&&(eV.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())}),f.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function $1(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jUe(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):$1(n)&&(n.current=r))},[t])}function RC(e){return typeof e=="string"||Array.isArray(e)}function hD(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tV=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nV=["initial",...tV];function pD(e){return hD(e.animate)||nV.some(t=>RC(e[t]))}function zye(e){return!!(pD(e)||e.variants)}function IUe(e,t){if(pD(e)){const{initial:n,animate:r}=e;return{initial:n===!1||RC(n)?n:void 0,animate:RC(r)?r:void 0}}return e.inherit!==!1?t:{}}function DUe(e){const{initial:t,animate:n}=IUe(e,f.useContext(cD));return f.useMemo(()=>({initial:t,animate:n}),[qZ(t),qZ(n)])}function qZ(e){return Array.isArray(e)?e.join(" "):e}const KZ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},OC={};for(const e in KZ)OC[e]={isEnabled:t=>KZ[e].some(n=>!!t[n])};function MUe(e){for(const t in e)OC[t]={...OC[t],...e[t]}}const rV=f.createContext({}),Uye=f.createContext({}),RUe=Symbol.for("motionComponentSymbol");function OUe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&MUe(e);function a(s,l){let c;const d={...f.useContext(Fye),...s,layoutId:$Ue(s)},{isStatic:h}=d,p=DUe(s),m=r(s,h);if(!h&&fD){p.visualElement=AUe(i,m,d,t);const g=f.useContext(Uye),y=f.useContext(Nye).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,g))}return f.createElement(cD.Provider,{value:p},c&&p.visualElement?f.createElement(c,{visualElement:p.visualElement,...d}):null,n(i,s,jUe(m,p.visualElement,l),m,h,p.visualElement))}const o=f.forwardRef(a);return o[RUe]=i,o}function $Ue({layoutId:e}){const t=f.useContext(rV).id;return t&&e!==void 0?t+"-"+e:e}function PUe(e){function t(r,i={}){return OUe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const FUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iV(e){return typeof e!="string"||e.includes("-")?!1:!!(FUe.indexOf(e)>-1||/[A-Z]/.test(e))}const GT={};function NUe(e){Object.assign(GT,e)}const cE=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],o0=new Set(cE);function Hye(e,{layout:t,layoutId:n}){return o0.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!GT[e]||e==="opacity")}const Es=e=>!!(e&&e.getVelocity),LUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BUe=cE.length;function VUe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let o=0;o<BUe;o++){const s=cE[o];if(e[s]!==void 0){const l=LUe[s]||s;a+=`${l}(${e[s]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const Wye=e=>t=>typeof t=="string"&&t.startsWith(e),Gye=Wye("--"),zUe=Wye("var(--"),YT=e=>zUe(e)?UUe.test(e.split("/*")[0].trim()):!1,UUe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,HUe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,dp=(e,t,n)=>n>t?t:n<e?e:n,Bv={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pw={...Bv,transform:e=>dp(0,1,e)},h2={...Bv,default:1},Fw=e=>Math.round(e*1e5)/1e5,aV=/(-)?([\d]*\.?[\d])+/g,WUe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,GUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function dE(e){return typeof e=="string"}const fE=e=>({test:t=>dE(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ah=fE("deg"),Rc=fE("%"),Tt=fE("px"),YUe=fE("vh"),qUe=fE("vw"),ZZ={...Rc,parse:e=>Rc.parse(e)/100,transform:e=>Rc.transform(e*100)},XZ={...Bv,transform:Math.round},Yye={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,size:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,rotate:ah,rotateX:ah,rotateY:ah,rotateZ:ah,scale:h2,scaleX:h2,scaleY:h2,scaleZ:h2,skew:ah,skewX:ah,skewY:ah,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Pw,originX:ZZ,originY:ZZ,originZ:Tt,zIndex:XZ,fillOpacity:Pw,strokeOpacity:Pw,numOctaves:XZ};function oV(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const h in t){const p=t[h];if(Gye(h)){a[h]=p;continue}const m=Yye[h],g=HUe(p,m);if(o0.has(h)){if(l=!0,o[h]=g,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,s[h]=g):i[h]=g}if(t.transform||(l||r?i.transform=VUe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=s;i.transformOrigin=`${h} ${p} ${m}`}}const sV=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qye(e,t,n){for(const r in t)!Es(t[r])&&!Hye(r,n)&&(e[r]=t[r])}function KUe({transformTemplate:e},t,n){return f.useMemo(()=>{const r=sV();return oV(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function ZUe(e,t,n){const r=e.style||{},i={};return qye(i,r,e),Object.assign(i,KUe(e,t,n)),i}function XUe(e,t,n){const r={},i=ZUe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const JUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qT(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||JUe.has(e)}let Kye=e=>!qT(e);function QUe(e){e&&(Kye=t=>t.startsWith("on")?!qT(t):e(t))}try{QUe(require("@emotion/is-prop-valid").default)}catch{}function eHe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Kye(i)||n===!0&&qT(i)||!t&&!qT(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function JZ(e,t,n){return typeof e=="string"?e:Tt.transform(t+n*e)}function tHe(e,t,n){const r=JZ(t,e.x,e.width),i=JZ(n,e.y,e.height);return`${r} ${i}`}const nHe={offset:"stroke-dashoffset",array:"stroke-dasharray"},rHe={offset:"strokeDashoffset",array:"strokeDasharray"};function iHe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?nHe:rHe;e[a.offset]=Tt.transform(-r);const o=Tt.transform(t),s=Tt.transform(n);e[a.array]=`${o} ${s}`}function lV(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,h,p){if(oV(e,c,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:y}=e;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=tHe(y,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&iHe(m,o,s,l,!1)}const Zye=()=>({...sV(),attrs:{}}),uV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aHe(e,t,n,r){const i=f.useMemo(()=>{const a=Zye();return lV(a,t,{enableHardwareAcceleration:!1},uV(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};qye(a,e.style,e),i.style={...a,...i.style}}return i}function oHe(e=!1){return(n,r,i,{latestValues:a},o)=>{const l=(iV(n)?aHe:XUe)(r,a,o,n),c=eHe(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:i}:{},{children:h}=r,p=f.useMemo(()=>Es(h)?h.get():h,[h]);return f.createElement(n,{...d,children:p})}}function Xye(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Jye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qye(e,t,n,r){Xye(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Jye.has(i)?i:QB(i),t.attrs[i])}function cV(e,t){const{style:n}=e,r={};for(const i in n)(Es(n[i])||t.style&&Es(t.style[i])||Hye(i,e))&&(r[i]=n[i]);return r}function eve(e,t){const n=cV(e,t);for(const r in e)if(Es(e[r])||Es(t[r])){const i=cE.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function dV(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function tve(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const KT=e=>Array.isArray(e),sHe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),lHe=e=>KT(e)?e[e.length-1]||0:e;function v_(e){const t=Es(e)?e.get():e;return sHe(t)?t.toValue():t}function uHe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:cHe(r,i,a,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const nve=e=>(t,n)=>{const r=f.useContext(cD),i=f.useContext(dD),a=()=>uHe(e,t,r,i);return n?a():tve(a)};function cHe(e,t,n,r){const i={},a=r(e,{});for(const p in a)i[p]=v_(a[p]);let{initial:o,animate:s}=e;const l=pD(e),c=zye(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?s:o;return h&&typeof h!="boolean"&&!hD(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=dV(e,m);if(!g)return;const{transitionEnd:y,transition:v,...b}=g;for(const x in b){let w=b[x];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[x]=w)}for(const x in y)i[x]=y[x]}),i}const Bi=e=>e,{schedule:li,cancel:ff,state:Va,steps:c$}=Vye(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bi,!0),dHe={useVisualState:nve({scrapeMotionValuesFromProps:eve,createRenderState:Zye,onMount:(e,t,{renderState:n,latestValues:r})=>{li.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),li.render(()=>{lV(n,r,{enableHardwareAcceleration:!1},uV(t.tagName),e.transformTemplate),Qye(t,n)})}})},fHe={useVisualState:nve({scrapeMotionValuesFromProps:cV,createRenderState:sV})};function hHe(e,{forwardMotionProps:t=!1},n,r){return{...iV(e)?dHe:fHe,preloadedFeatures:n,useRender:oHe(t),createVisualElement:r,Component:e}}function Bd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const rve=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mD(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const pHe=e=>t=>rve(t)&&e(t,mD(t));function qd(e,t,n,r){return Bd(e,t,pHe(n),r)}const mHe=(e,t)=>n=>t(e(n)),Kd=(...e)=>e.reduce(mHe);function ive(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const QZ=ive("dragHorizontal"),eX=ive("dragVertical");function ave(e){let t=!1;if(e==="y")t=eX();else if(e==="x")t=QZ();else{const n=QZ(),r=eX();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function ove(){const e=ave(!0);return e?(e(),!1):!0}class Rp{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tX(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||ove())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&li.update(()=>s[r](a,o))};return qd(e.current,n,i,{passive:!e.getProps()[r]})}class gHe extends Rp{mount(){this.unmount=Kd(tX(this.node,!0),tX(this.node,!1))}unmount(){}}class yHe extends Rp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Bd(this.node.current,"focus",()=>this.onFocus()),Bd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sve=(e,t)=>t?e===t?!0:sve(e,t.parentElement):!1;function d$(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,mD(n))}class vHe extends Rp{constructor(){super(...arguments),this.removeStartListeners=Bi,this.removeEndListeners=Bi,this.removeAccessibleListeners=Bi,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=qd(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();li.update(()=>{!h&&!sve(this.node.current,s.target)?d&&d(s,l):c&&c(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=qd(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kd(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||d$("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&li.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Bd(this.node.current,"keyup",o),d$("down",(s,l)=>{this.startPress(s,l)})},n=Bd(this.node.current,"keydown",t),r=()=>{this.isPressing&&d$("cancel",(a,o)=>this.cancelPress(a,o))},i=Bd(this.node.current,"blur",r);this.removeAccessibleListeners=Kd(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&li.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ove()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&li.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=qd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Bd(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kd(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const X4=new WeakMap,f$=new WeakMap,bHe=e=>{const t=X4.get(e.target);t&&t(e)},xHe=e=>{e.forEach(bHe)};function wHe({root:e,...t}){const n=e||document;f$.has(n)||f$.set(n,{});const r=f$.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(xHe,{root:e,...t})),r[i]}function CHe(e,t,n){const r=wHe(t);return X4.set(e,n),r.observe(e),()=>{X4.delete(e),r.unobserve(e)}}const SHe={some:0,all:1};class EHe extends Rp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:SHe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return CHe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(kHe(t,n))&&this.startObserver()}unmount(){}}function kHe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _He={inView:{Feature:EHe},tap:{Feature:vHe},focus:{Feature:yHe},hover:{Feature:gHe}};function lve(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function THe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function AHe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function gD(e,t,n){const r=e.getProps();return dV(r,t,n!==void 0?n:r.custom,THe(e),AHe(e))}let jHe=Bi,fV=Bi;const np=e=>e*1e3,Zd=e=>e/1e3,IHe={current:!1},uve=e=>Array.isArray(e)&&typeof e[0]=="number";function cve(e){return!!(!e||typeof e=="string"&&dve[e]||uve(e)||Array.isArray(e)&&e.every(cve))}const sw=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dve={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sw([0,.65,.55,1]),circOut:sw([.55,0,1,.45]),backIn:sw([.31,.01,.66,-.59]),backOut:sw([.33,1.53,.69,.99])};function fve(e){if(e)return uve(e)?sw(e):Array.isArray(e)?e.map(fve):dve[e]}function DHe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=fve(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function MHe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const hve=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RHe=1e-7,OHe=12;function $He(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=hve(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>RHe&&++s<OHe);return o}function hE(e,t,n,r){if(e===t&&n===r)return Bi;const i=a=>$He(a,0,1,e,n);return a=>a===0||a===1?a:hve(i(a),t,r)}const PHe=hE(.42,0,1,1),FHe=hE(0,0,.58,1),pve=hE(.42,0,.58,1),NHe=e=>Array.isArray(e)&&typeof e[0]!="number",mve=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gve=e=>t=>1-e(1-t),hV=e=>1-Math.sin(Math.acos(e)),yve=gve(hV),LHe=mve(hV),vve=hE(.33,1.53,.69,.99),pV=gve(vve),BHe=mve(pV),VHe=e=>(e*=2)<1?.5*pV(e):.5*(2-Math.pow(2,-10*(e-1))),zHe={linear:Bi,easeIn:PHe,easeInOut:pve,easeOut:FHe,circIn:hV,circInOut:LHe,circOut:yve,backIn:pV,backInOut:BHe,backOut:vve,anticipate:VHe},nX=e=>{if(Array.isArray(e)){fV(e.length===4);const[t,n,r,i]=e;return hE(t,n,r,i)}else if(typeof e=="string")return zHe[e];return e},$C=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},hi=(e,t,n)=>e+(t-e)*n;function h$(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UHe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=h$(l,s,e+1/3),a=h$(l,s,e),o=h$(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const mV=(e,t)=>n=>!!(dE(n)&&GUe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),bve=(e,t,n)=>r=>{if(!dE(r))return r;const[i,a,o,s]=r.match(aV);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},HHe=e=>dp(0,255,e),p$={...Bv,transform:e=>Math.round(HHe(e))},Dm={test:mV("rgb","red"),parse:bve("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+p$.transform(e)+", "+p$.transform(t)+", "+p$.transform(n)+", "+Fw(Pw.transform(r))+")"};function WHe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J4={test:mV("#"),parse:WHe,transform:Dm.transform},P1={test:mV("hsl","hue"),parse:bve("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Rc.transform(Fw(t))+", "+Rc.transform(Fw(n))+", "+Fw(Pw.transform(r))+")"},m$=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},GHe=[J4,Dm,P1],YHe=e=>GHe.find(t=>t.test(e));function rX(e){const t=YHe(e);let n=t.parse(e);return t===P1&&(n=UHe(n)),n}const iX=(e,t)=>{const n=rX(e),r=rX(t),i={...n};return a=>(i.red=m$(n.red,r.red,a),i.green=m$(n.green,r.green,a),i.blue=m$(n.blue,r.blue,a),i.alpha=hi(n.alpha,r.alpha,a),Dm.transform(i))},yo={test:e=>Dm.test(e)||J4.test(e)||P1.test(e),parse:e=>Dm.test(e)?Dm.parse(e):P1.test(e)?P1.parse(e):J4.parse(e),transform:e=>dE(e)?e:e.hasOwnProperty("red")?Dm.transform(e):P1.transform(e)};function qHe(e){var t,n;return isNaN(e)&&dE(e)&&(((t=e.match(aV))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(WUe))===null||n===void 0?void 0:n.length)||0)>0}const xve="number",wve="color",KHe="var",ZHe="var(",aX="${}",oX=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function ZT(e){const t=e.toString(),n=t.match(oX)||[],r=[],i={color:[],number:[],var:[]},a=[];for(let l=0;l<n.length;l++){const c=n[l];yo.test(c)?(i.color.push(l),a.push(wve),r.push(yo.parse(c))):c.startsWith(ZHe)?(i.var.push(l),a.push(KHe),r.push(c)):(i.number.push(l),a.push(xve),r.push(parseFloat(c)))}const s=t.replace(oX,aX).split(aX);return{values:r,split:s,indexes:i,types:a}}function Cve(e){return ZT(e).values}function Sve(e){const{split:t,types:n}=ZT(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const s=n[o];s===xve?a+=Fw(i[o]):s===wve?a+=yo.transform(i[o]):a+=i[o]}return a}}const XHe=e=>typeof e=="number"?0:e;function JHe(e){const t=Cve(e);return Sve(e)(t.map(XHe))}const fp={test:qHe,parse:Cve,createTransformer:Sve,getAnimatableNone:JHe};function Q4(e,t){return n=>n>0?t:e}function QHe(e,t){return n=>hi(e,t,n)}function gV(e){return typeof e=="number"?QHe:typeof e=="string"?YT(e)?Q4:yo.test(e)?iX:nWe:Array.isArray(e)?Eve:typeof e=="object"?yo.test(e)?iX:eWe:Q4}function Eve(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>gV(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function eWe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gV(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function tWe(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],s=e.indexes[o][i[o]],l=(n=e.values[s])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const nWe=(e,t)=>{const n=fp.createTransformer(t),r=ZT(e),i=ZT(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Kd(Eve(tWe(r,i),i.values),n):Q4(e,t)};function kve(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?hi(e,t,n):gV(e)(e,t)}function rWe(e,t,n){const r=[],i=n||kve,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Bi:t;s=Kd(l,s)}r.push(s)}return r}function iWe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(fV(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=rWe(t,r,i),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=$C(e[d],e[d+1],c);return o[d](h)};return n?c=>l(dp(e[0],e[a-1],c)):l}function aWe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=$C(0,t,r);e.push(hi(n,1,i))}}function oWe(e){const t=[0];return aWe(t,e.length-1),t}function sWe(e,t){return e.map(n=>n*t)}function lWe(e,t){return e.map(()=>t||pve).splice(0,e.length-1)}function XT({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=NHe(r)?r.map(nX):nX(r),a={done:!1,value:t[0]},o=sWe(n&&n.length===t.length?n:oWe(t),e),s=iWe(o,t,{ease:Array.isArray(i)?i:lWe(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}function _ve(e,t){return t?e*(1e3/t):0}const uWe=5;function Tve(e,t,n){const r=Math.max(t-uWe,0);return _ve(n-e(r),t-r)}const g$=.001,cWe=.01,sX=10,dWe=.05,fWe=1;function hWe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;jHe(e<=np(sX));let o=1-t;o=dp(dWe,fWe,o),e=dp(cWe,sX,Zd(e)),o<1?(i=c=>{const d=c*o,h=d*e,p=d-n,m=eN(c,o),g=Math.exp(-h);return g$-p/m*g},a=c=>{const h=c*o*e,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-h),y=eN(Math.pow(c,2),o);return(-i(c)+g$>0?-1:1)*((p-m)*g)/y}):(i=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-g$+d*h},a=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const s=5/e,l=mWe(i,a,s);if(e=np(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const pWe=12;function mWe(e,t,n){let r=n;for(let i=1;i<pWe;i++)r=r-e(r)/t(r);return r}function eN(e,t){return e*Math.sqrt(1-t*t)}const gWe=["duration","bounce"],yWe=["stiffness","damping","mass"];function lX(e,t){return t.some(n=>e[n]!==void 0)}function vWe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lX(e,yWe)&&lX(e,gWe)){const n=hWe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Ave({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=vWe({...r,velocity:-Zd(r.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(s*c)),y=a-i,v=Zd(Math.sqrt(s/c)),b=Math.abs(y)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let x;if(g<1){const w=eN(v,g);x=C=>{const S=Math.exp(-g*v*C);return a-S*((m+g*v*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(g===1)x=w=>a-Math.exp(-v*w)*(y+(m+v*y)*w);else{const w=v*Math.sqrt(g*g-1);x=C=>{const S=Math.exp(-g*v*C),E=Math.min(w*C,300);return a-S*((m+g*v*y)*Math.sinh(E)+w*y*Math.cosh(E))/w}}return{calculatedDuration:p&&d||null,next:w=>{const C=x(w);if(p)o.done=w>=d;else{let S=m;w!==0&&(g<1?S=Tve(x,w,C):S=0);const E=Math.abs(S)<=n,k=Math.abs(a-C)<=t;o.done=E&&k}return o.value=o.done?a:C,o}}}function uX({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},m=_=>s!==void 0&&_<s||l!==void 0&&_>l,g=_=>s===void 0?l:l===void 0||Math.abs(s-_)<Math.abs(l-_)?s:l;let y=n*t;const v=h+y,b=o===void 0?v:o(v);b!==v&&(y=b-h);const x=_=>-y*Math.exp(-_/r),w=_=>b+x(_),C=_=>{const T=x(_),j=w(_);p.done=Math.abs(T)<=c,p.value=p.done?b:j};let S,E;const k=_=>{m(p.value)&&(S=_,E=Ave({keyframes:[p.value,g(p.value)],velocity:Tve(w,_,p.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:_=>{let T=!1;return!E&&S===void 0&&(T=!0,C(_),k(_)),S!==void 0&&_>S?E.next(_-S):(!T&&C(_),p)}}}let b_;function bWe(){b_=void 0}const Km={now:()=>(b_===void 0&&Km.set(Va.isProcessing||Bye.useManualTiming?Va.timestamp:performance.now()),b_),set:e=>{b_=e,queueMicrotask(bWe)}},xWe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>li.update(t,!0),stop:()=>ff(t),now:()=>Va.isProcessing?Va.timestamp:Km.now()}},cX=2e4;function dX(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cX;)t+=n,r=e.next(t);return t>=cX?1/0:t}const wWe={decay:uX,inertia:uX,tween:XT,keyframes:XT,spring:Ave},CWe=e=>e/100;function JT({autoplay:e=!0,delay:t=0,driver:n=xWe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...p}){let m=1,g=!1,y,v;const b=()=>{v=new Promise(H=>{y=H})};b();let x;const w=wWe[i]||XT;let C;w!==XT&&typeof r[0]!="number"&&(C=Kd(CWe,kve(r[0],r[1])),r=[0,100]);const S=w({...p,keyframes:r});let E;s==="mirror"&&(E=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let k="idle",_=null,T=null,j=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=dX(S));const{calculatedDuration:A}=S;let I=1/0,M=1/0;A!==null&&(I=A+o,M=I*(a+1)-o);let D=0;const O=H=>{if(T===null)return;m>0&&(T=Math.min(T,H)),m<0&&(T=Math.min(H-M/m,T)),_!==null?D=_:D=Math.round(H-T)*m;const W=D-t*(m>=0?1:-1),Z=m>=0?W<0:W>M;D=Math.max(W,0),k==="finished"&&_===null&&(D=M);let J=D,re=S;if(a){const K=Math.min(D,M)/I;let Q=Math.floor(K),ee=K%1;!ee&&K>=1&&(ee=1),ee===1&&Q--,Q=Math.min(Q,a+1),!!(Q%2)&&(s==="reverse"?(ee=1-ee,o&&(ee-=o/I)):s==="mirror"&&(re=E)),J=dp(0,1,ee)*I}const G=Z?{done:!1,value:r[0]}:re.next(J);C&&(G.value=C(G.value));let{done:te}=G;!Z&&A!==null&&(te=m>=0?D>=M:D<=0);const X=_===null&&(k==="finished"||k==="running"&&te);return h&&h(G.value),X&&P(),G},R=()=>{x&&x.stop(),x=void 0},F=()=>{k="idle",R(),y(),b(),T=j=null},P=()=>{k="finished",d&&d(),R(),y()},V=()=>{if(g)return;x||(x=n(O));const H=x.now();l&&l(),_!==null?T=H-_:(!T||k==="finished")&&(T=H),k==="finished"&&b(),j=T,_=null,k="running",x.start()};e&&V();const U={then(H,W){return v.then(H,W)},get time(){return Zd(D)},set time(H){H=np(H),D=H,_!==null||!x||m===0?_=H:T=x.now()-H/m},get duration(){const H=S.calculatedDuration===null?dX(S):S.calculatedDuration;return Zd(H)},get speed(){return m},set speed(H){H===m||!x||(m=H,U.time=Zd(D))},get state(){return k},play:V,pause:()=>{k="paused",_=D},stop:()=>{g=!0,k!=="idle"&&(k="idle",c&&c(),F())},cancel:()=>{j!==null&&O(j),F()},complete:()=>{k="finished"},sample:H=>(T=0,O(H))};return U}function SWe(e){let t;return()=>(t===void 0&&(t=e()),t)}const EWe=SWe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kWe=new Set(["opacity","clipPath","filter","transform"]),p2=10,_We=2e4,TWe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cve(t.ease);function AWe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(EWe()&&kWe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,c=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:h,duration:p=300,ease:m,times:g}=i;if(TWe(t,i)){const w=JT({...i,repeat:0,delay:0});let C={done:!1,value:h[0]};const S=[];let E=0;for(;!C.done&&E<_We;)C=w.sample(E),S.push(C.value),E+=p2;g=void 0,h=S,p=E-p2,m="linear"}const y=DHe(e.owner.current,t,h,{...i,duration:p,ease:m,times:g}),v=()=>{c=!1,y.cancel()},b=()=>{c=!0,li.update(v),s(),d()};return y.onfinish=()=>{c||(e.set(MHe(h,i)),r&&r(),b())},{then(w,C){return l.then(w,C)},attachTimeline(w){return y.timeline=w,y.onfinish=null,Bi},get time(){return Zd(y.currentTime||0)},set time(w){y.currentTime=np(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return Zd(p)},play:()=>{o||(y.play(),ff(v))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const C=JT({...i,autoplay:!1});e.setWithVelocity(C.sample(w-p2).value,C.sample(w).value,p2)}b()},complete:()=>{c||y.finish()},cancel:b}}function jWe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Bi,pause:Bi,stop:Bi,then:a=>(a(),Promise.resolve()),cancel:Bi,complete:Bi});return t?JT({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const IWe={type:"spring",stiffness:500,damping:25,restSpeed:10},DWe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),MWe={type:"keyframes",duration:.8},RWe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OWe=(e,{keyframes:t})=>t.length>2?MWe:o0.has(e)?e.startsWith("scale")?DWe(t[1]):IWe:RWe,tN=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fp.test(t)||t==="0")&&!t.startsWith("url(")),$We=new Set(["brightness","contrast","saturate","opacity"]);function PWe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(aV)||[];if(!r)return e;const i=n.replace(r,"");let a=$We.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const FWe=/([a-z-]*)\(.*?\)/g,nN={...fp,getAnimatableNone:e=>{const t=e.match(FWe);return t?t.map(PWe).join(" "):e}},NWe={...Yye,color:yo,backgroundColor:yo,outlineColor:yo,fill:yo,stroke:yo,borderColor:yo,borderTopColor:yo,borderRightColor:yo,borderBottomColor:yo,borderLeftColor:yo,filter:nN,WebkitFilter:nN},yV=e=>NWe[e];function jve(e,t){let n=yV(e);return n!==nN&&(n=fp),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ive=e=>/^0[^.\s]+$/.test(e);function LWe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Ive(e)}function BWe(e,t,n,r){const i=tN(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?o:a[c-1]),LWe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];a[d]=jve(t,s)}return a}function VWe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function vV(e,t){return e[t]||e.default||e}const bV=(e,t,n,r={})=>i=>{const a=vV(r,e)||{},o=a.delay||r.delay||0;let{elapsed:s=0}=r;s=s-np(o);const l=BWe(t,e,n,a),c=l[0],d=l[l.length-1],h=tN(e,c),p=tN(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(VWe(a)||(m={...m,...OWe(e,m)}),m.duration&&(m.duration=np(m.duration)),m.repeatDelay&&(m.repeatDelay=np(m.repeatDelay)),!h||!p||IHe.current||a.type===!1||Bye.skipAnimations)return jWe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=AWe(t,e,m);if(g)return g}return JT(m)};function QT(e){return!!(Es(e)&&e.add)}const Dve=e=>/^\-?\d*\.?\d+$/.test(e);function xV(e,t){e.indexOf(t)===-1&&e.push(t)}function wV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class CV{constructor(){this.subscriptions=[]}add(t){return xV(this.subscriptions,t),()=>wV(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fX=30,zWe=e=>!isNaN(parseFloat(e));class UWe{constructor(t,n={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Km.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=zWe(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Km.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new CV);const r=this.events[t].add(n);return t==="change"?()=>{r(),li.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Km.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fX)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fX);return _ve(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gy(e,t){return new UWe(e,t)}const Mve=e=>t=>t.test(e),HWe={test:e=>e==="auto",parse:e=>e},Rve=[Bv,Tt,Rc,ah,qUe,YUe,HWe],dx=e=>Rve.find(Mve(e)),WWe=[...Rve,yo,fp],GWe=e=>WWe.find(Mve(e));function YWe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gy(n))}function qWe(e,t){const n=gD(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const s=lHe(a[o]);YWe(e,o,s)}}function KWe(e,t,n){var r,i;const a=Object.keys(t).filter(s=>!e.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(Dve(d)||Ive(d))?d=parseFloat(d):!GWe(d)&&fp.test(c)&&(d=jve(l,c)),e.addValue(l,Gy(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function ZWe(e,t){return t?(t[e]||t.default||t).from:void 0}function XWe(e,t,n){const r={};for(const i in e){const a=ZWe(i,t);if(a!==void 0)r[i]=a;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function JWe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function QWe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Ove(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const p=e.getValue(h),m=s[h];if(!p||m===void 0||d&&JWe(d,h))continue;const g={delay:n,elapsed:0,...vV(a||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[Lye];if(b){const x=window.HandoffAppearAnimations(b,h,p,li);x!==null&&(g.elapsed=x,g.isHandoff=!0)}}let y=!g.isHandoff&&!QWe(p,m);if(g.type==="spring"&&(p.getVelocity()||g.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(bV(h,p,m,e.shouldReduceMotion&&o0.has(h)?{type:!1}:g));const v=p.animation;QT(l)&&(l.add(h),v.then(()=>l.remove(h))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&qWe(e,o)}),c}function rN(e,t,n={}){const r=gD(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Ove(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return eGe(e,t,c+l,d,h,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function eGe(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(tGe).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(rN(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function tGe(e,t){return e.sortNodePosition(t)}function nGe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>rN(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=rN(e,t,n);else{const i=typeof t=="function"?gD(e,t,n.custom):t;r=Promise.all(Ove(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const rGe=[...tV].reverse(),iGe=tV.length;function aGe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nGe(e,n,r)))}function oGe(e){let t=aGe(e);const n=lGe();let r=!0;const i=(l,c)=>{const d=gD(e,c);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function a(l){t=l(e)}function o(l,c){const d=e.getProps(),h=e.getVariantContext(!0)||{},p=[],m=new Set;let g={},y=1/0;for(let b=0;b<iGe;b++){const x=rGe[b],w=n[x],C=d[x]!==void 0?d[x]:h[x],S=RC(C),E=x===c?w.isActive:null;E===!1&&(y=b);let k=C===h[x]&&C!==d[x]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...g},!w.isActive&&E===null||!C&&!w.prevProp||hD(C)||typeof C=="boolean")continue;let T=sGe(w.prevProp,C)||x===c&&w.isActive&&!k&&S||b>y&&S,j=!1;const A=Array.isArray(C)?C:[C];let I=A.reduce(i,{});E===!1&&(I={});const{prevResolvedValues:M={}}=w,D={...M,...I},O=R=>{T=!0,m.has(R)&&(j=!0,m.delete(R)),w.needsAnimating[R]=!0};for(const R in D){const F=I[R],P=M[R];if(g.hasOwnProperty(R))continue;let V=!1;KT(F)&&KT(P)?V=!lve(F,P):V=F!==P,V?F!==void 0?O(R):m.add(R):F!==void 0&&m.has(R)?O(R):w.protectedKeys[R]=!0}w.prevProp=C,w.prevResolvedValues=I,w.isActive&&(g={...g,...I}),r&&e.blockInitialAnimation&&(T=!1),T&&(!k||j)&&p.push(...A.map(R=>({animation:R,options:{type:x,...l}})))}if(m.size){const b={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(b[x]=w)}),p.push({animation:b})}let v=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(p):Promise.resolve()}function s(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n}}function sGe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lve(t,e):!1}function nm(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lGe(){return{animate:nm(!0),whileInView:nm(),whileHover:nm(),whileTap:nm(),whileDrag:nm(),whileFocus:nm(),exit:nm()}}class uGe extends Rp{constructor(t){super(t),t.animationState||(t.animationState=oGe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),hD(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let cGe=0;class dGe extends Rp{constructor(){super(...arguments),this.id=cGe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const fGe={animation:{Feature:uGe},exit:{Feature:dGe}},hX=(e,t)=>Math.abs(e-t);function hGe(e,t){const n=hX(e.x,t.x),r=hX(e.y,t.y);return Math.sqrt(n**2+r**2)}class $ve{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=v$(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=hGe(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:y}=Va;this.history.push({...g,timestamp:y});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=y$(p,this.transformPagePoint),li.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=v$(h.type==="pointercancel"?this.lastMoveEventInfo:y$(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),g&&g(h,v)},!rve(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=mD(t),s=y$(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=Va;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,v$(s,this.history)),this.removeListeners=Kd(qd(this.contextWindow,"pointermove",this.handlePointerMove),qd(this.contextWindow,"pointerup",this.handlePointerUp),qd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ff(this.updatePoint)}}function y$(e,t){return t?{point:t(e.point)}:e}function pX(e,t){return{x:e.x-t.x,y:e.y-t.y}}function v$({point:e},t){return{point:e,delta:pX(e,Pve(t)),offset:pX(e,pGe(t)),velocity:mGe(t,.1)}}function pGe(e){return e[0]}function Pve(e){return e[e.length-1]}function mGe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Pve(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>np(t)));)n--;if(!r)return{x:0,y:0};const a=Zd(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Js(e){return e.max-e.min}function iN(e,t=0,n=.01){return Math.abs(e-t)<=n}function mX(e,t,n,r=.5){e.origin=r,e.originPoint=hi(t.min,t.max,e.origin),e.scale=Js(n)/Js(t),(iN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=hi(n.min,n.max,e.origin)-e.originPoint,(iN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Nw(e,t,n,r){mX(e.x,t.x,n.x,r?r.originX:void 0),mX(e.y,t.y,n.y,r?r.originY:void 0)}function gX(e,t,n){e.min=n.min+t.min,e.max=e.min+Js(t)}function gGe(e,t,n){gX(e.x,t.x,n.x),gX(e.y,t.y,n.y)}function yX(e,t,n){e.min=t.min-n.min,e.max=e.min+Js(t)}function Lw(e,t,n){yX(e.x,t.x,n.x),yX(e.y,t.y,n.y)}function yGe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?hi(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?hi(n,e,r.max):Math.min(e,n)),e}function vX(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vGe(e,{top:t,left:n,bottom:r,right:i}){return{x:vX(e.x,n,i),y:vX(e.y,t,r)}}function bX(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function bGe(e,t){return{x:bX(e.x,t.x),y:bX(e.y,t.y)}}function xGe(e,t){let n=.5;const r=Js(e),i=Js(t);return i>r?n=$C(t.min,t.max-r,e.min):r>i&&(n=$C(e.min,e.max-i,t.min)),dp(0,1,n)}function wGe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const aN=.35;function CGe(e=aN){return e===!1?e=0:e===!0&&(e=aN),{x:xX(e,"left","right"),y:xX(e,"top","bottom")}}function xX(e,t,n){return{min:wX(e,t),max:wX(e,n)}}function wX(e,t){return typeof e=="number"?e:e[t]||0}const CX=()=>({translate:0,scale:1,origin:0,originPoint:0}),F1=()=>({x:CX(),y:CX()}),SX=()=>({min:0,max:0}),$i=()=>({x:SX(),y:SX()});function wl(e){return[e("x"),e("y")]}function Fve({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function SGe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EGe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function b$(e){return e===void 0||e===1}function oN({scale:e,scaleX:t,scaleY:n}){return!b$(e)||!b$(t)||!b$(n)}function fm(e){return oN(e)||Nve(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Nve(e){return EX(e.x)||EX(e.y)}function EX(e){return e&&e!=="0%"}function eA(e,t,n){const r=e-n,i=t*r;return n+i}function kX(e,t,n,r,i){return i!==void 0&&(e=eA(e,i,r)),eA(e,n,r)+t}function sN(e,t=0,n=1,r,i){e.min=kX(e.min,t,n,r,i),e.max=kX(e.max,t,n,r,i)}function Lve(e,{x:t,y:n}){sN(e.x,t.translate,t.scale,t.originPoint),sN(e.y,n.translate,n.scale,n.originPoint)}function kGe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&N1(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Lve(e,o)),r&&fm(a.latestValues)&&N1(e,a.latestValues))}t.x=_X(t.x),t.y=_X(t.y)}function _X(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fh(e,t){e.min=e.min+t,e.max=e.max+t}function TX(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,o=hi(e.min,e.max,a);sN(e,t[n],t[r],o,t.scale)}const _Ge=["x","scaleX","originX"],TGe=["y","scaleY","originY"];function N1(e,t){TX(e.x,t,_Ge),TX(e.y,t,TGe)}function Bve(e,t){return Fve(EGe(e.getBoundingClientRect(),t))}function AGe(e,t,n){const r=Bve(e,n),{scroll:i}=t;return i&&(fh(r.x,i.offset.x),fh(r.y,i.offset.y)),r}const Vve=({current:e})=>e?e.ownerDocument.defaultView:null,jGe=new WeakMap;class IGe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$i(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mD(d,"page").point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ave(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wl(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Rc.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(b=Js(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&li.update(()=>g(d,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=h;if(m&&this.currentDirection===null){this.currentDirection=DGe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(d,h)},s=(d,h)=>this.stop(d,h),l=()=>wl(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new $ve(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Vve(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&li.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!m2(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=yGe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&$1(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=vGe(i.layoutBox,n):this.constraints=!1,this.elastic=CGe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wl(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=wGe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$1(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=AGe(r,i.root,this.visualElement.getTransformPagePoint());let o=bGe(i.layout.layoutBox,a);if(n){const s=n(SGe(o));this.hasMutatedConstraints=!!s,s&&(o=Fve(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=wl(d=>{if(!m2(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(bV(t,r,0,n))}stopAnimation(){wl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wl(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wl(n=>{const{drag:r}=this.getProps();if(!m2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(t[n]-hi(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$1(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wl(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=xGe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wl(o=>{if(!m2(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(hi(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;jGe.set(this.visualElement,this);const t=this.visualElement.current,n=qd(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$1(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Bd(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wl(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=aN,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function m2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function DGe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class MGe extends Rp{constructor(t){super(t),this.removeGroupControls=Bi,this.removeListeners=Bi,this.controls=new IGe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const AX=e=>(t,n)=>{e&&li.update(()=>e(t,n))};class RGe extends Rp{constructor(){super(...arguments),this.removePointerDownListener=Bi}onPointerDown(t){this.session=new $ve(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vve(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AX(t),onStart:AX(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&li.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=qd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OGe(){const e=f.useContext(dD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=f.useId();return f.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const x_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jX(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=jX(e,t.target.x),r=jX(e,t.target.y);return`${n}% ${r}%`}},$Ge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=fp.parse(e);if(i.length>5)return r;const a=fp.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=hi(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class PGe extends Xe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;NUe(FGe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),x_.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||li.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),eV.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zve(e){const[t,n]=OGe(),r=f.useContext(rV);return Xe.createElement(PGe,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Uye),isPresent:t,safeToRemove:n})}const FGe={borderRadius:{...fx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fx,borderTopRightRadius:fx,borderBottomLeftRadius:fx,borderBottomRightRadius:fx,boxShadow:$Ge},Uve=["TopLeft","TopRight","BottomLeft","BottomRight"],NGe=Uve.length,IX=e=>typeof e=="string"?parseFloat(e):e,DX=e=>typeof e=="number"||Tt.test(e);function LGe(e,t,n,r,i,a){i?(e.opacity=hi(0,n.opacity!==void 0?n.opacity:1,BGe(r)),e.opacityExit=hi(t.opacity!==void 0?t.opacity:1,0,VGe(r))):a&&(e.opacity=hi(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<NGe;o++){const s=`border${Uve[o]}Radius`;let l=MX(t,s),c=MX(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||DX(l)===DX(c)?(e[s]=Math.max(hi(IX(l),IX(c),r),0),(Rc.test(c)||Rc.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||n.rotate)&&(e.rotate=hi(t.rotate||0,n.rotate||0,r))}function MX(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BGe=Hve(0,.5,yve),VGe=Hve(.5,.95,Bi);function Hve(e,t,n){return r=>r<e?0:r>t?1:n($C(e,t,r))}function RX(e,t){e.min=t.min,e.max=t.max}function gl(e,t){RX(e.x,t.x),RX(e.y,t.y)}function OX(e,t,n,r,i){return e-=t,e=eA(e,1/n,r),i!==void 0&&(e=eA(e,1/i,r)),e}function zGe(e,t=0,n=1,r=.5,i,a=e,o=e){if(Rc.test(t)&&(t=parseFloat(t),t=hi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=hi(a.min,a.max,r);e===a&&(s-=t),e.min=OX(e.min,t,n,s,i),e.max=OX(e.max,t,n,s,i)}function $X(e,t,[n,r,i],a,o){zGe(e,t[n],t[r],t[i],t.scale,a,o)}const UGe=["x","scaleX","originX"],HGe=["y","scaleY","originY"];function PX(e,t,n,r){$X(e.x,t,UGe,n?n.x:void 0,r?r.x:void 0),$X(e.y,t,HGe,n?n.y:void 0,r?r.y:void 0)}function FX(e){return e.translate===0&&e.scale===1}function Wve(e){return FX(e.x)&&FX(e.y)}function WGe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Gve(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function NX(e){return Js(e.x)/Js(e.y)}class GGe{constructor(){this.members=[]}add(t){xV(this.members,t),t.scheduleRender()}remove(t){if(wV(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LX(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const YGe=(e,t)=>e.depth-t.depth;class qGe{constructor(){this.children=[],this.isDirty=!1}add(t){xV(this.children,t),this.isDirty=!0}remove(t){wV(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YGe),this.isDirty=!1,this.children.forEach(t)}}function KGe(e,t){const n=Km.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ff(r),e(a-t))};return li.read(r,!0),()=>ff(r)}function ZGe(e){window.MotionDebug&&window.MotionDebug.record(e)}function XGe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function JGe(e,t,n){const r=Es(e)?e:Gy(e);return r.start(bV("",r,t,n)),r.animation}const BX=["","X","Y","Z"],QGe={visibility:"hidden"},VX=1e3;let eYe=0;const hm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Yve({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=eYe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hm.totalNodes=hm.resolvedTargetDeltas=hm.recalculatedProjection=0,this.nodes.forEach(rYe),this.nodes.forEach(lYe),this.nodes.forEach(uYe),this.nodes.forEach(iYe),ZGe(hm)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qGe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new CV),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XGe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KGe(p,250),x_.hasAnimatedSinceResize&&(x_.hasAnimatedSinceResize=!1,this.nodes.forEach(UX))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||pYe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=d.getProps(),x=!this.targetLayout||!Gve(this.targetLayout,g)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...vV(y,"layout"),onPlay:v,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||UX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ff(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cYe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zX);return}this.isUpdating||this.nodes.forEach(oYe),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(sYe),this.nodes.forEach(tYe),this.nodes.forEach(nYe),this.clearAllSnapshots();const s=Km.now();Va.delta=dp(0,1e3/60,s-Va.timestamp),Va.timestamp=s,Va.isProcessing=!0,c$.update.process(Va),c$.preRender.process(Va),c$.render.process(Va),Va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eV.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aYe),this.sharedNodes.forEach(dYe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,li.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){li.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$i(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!Wve(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(s||fm(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),mYe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $i();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(fh(s.x,l.offset.x),fh(s.y,l.offset.y)),s}removeElementScroll(o){const s=$i();gl(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){gl(s,o);const{scroll:p}=this.root;p&&(fh(s.x,-p.offset.x),fh(s.y,-p.offset.y))}fh(s.x,d.offset.x),fh(s.y,d.offset.y)}}return s}applyTransform(o,s=!1){const l=$i();gl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&N1(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fm(d.latestValues)&&N1(l,d.latestValues)}return fm(this.latestValues)&&N1(l,this.latestValues),l}removeTransform(o){const s=$i();gl(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fm(c.latestValues))continue;oN(c.latestValues)&&c.updateSnapshot();const d=$i(),h=c.measurePageBox();gl(d,h),PX(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return fm(this.latestValues)&&PX(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Va.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$i(),this.relativeTargetOrigin=$i(),Lw(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$i(),this.targetWithTransforms=$i()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gGe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gl(this.target,this.layout.layoutBox),Lve(this.target,this.targetDelta)):gl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$i(),this.relativeTargetOrigin=$i(),Lw(this.relativeTargetOrigin,this.target,m.target),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oN(this.parent.latestValues)||Nve(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Va.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;gl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;kGe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=$i());const{target:g}=s;if(!g){this.projectionTransform&&(this.projectionDelta=F1(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=F1(),this.projectionDeltaWithTransform=F1());const y=this.projectionTransform;Nw(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=LX(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),hm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=F1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=$i(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,v=this.getStack(),b=!v||v.members.length<=1,x=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(hYe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const S=C/1e3;HX(h.x,o.x,S),HX(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lw(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fYe(this.relativeTarget,this.relativeTargetOrigin,p,S),w&&WGe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$i()),gl(w,this.relativeTarget)),y&&(this.animationValues=d,LGe(d,c,this.latestValues,S,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ff(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=li.update(()=>{x_.hasAnimatedSinceResize=!0,this.currentAnimation=JGe(0,VX,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&qve(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$i();const h=Js(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Js(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}gl(s,l),N1(s,d),Nw(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GGe),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const c={};for(let d=0;d<BX.length;d++){const h="rotate"+BX[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QGe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=v_(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=v_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fm(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=LX(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(s=p.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in GT){if(p[y]===void 0)continue;const{correct:v,applyTo:b}=GT[y],x=c.transform==="none"?p[y]:v(p[y],h);if(b){const w=b.length;for(let C=0;C<w;C++)c[b[C]]=x}else c[y]=x}return this.options.layoutId&&(c.pointerEvents=h===this?v_(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(zX),this.root.sharedNodes.clear()}}}function tYe(e){e.updateLayout()}function nYe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?wl(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Js(p);p.min=r[h].min,p.max=p.min+m}):qve(a,n.layoutBox,r)&&wl(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Js(r[h]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const s=F1();Nw(s,r,n.layoutBox);const l=F1();o?Nw(l,e.applyTransform(i,!0),n.measuredBox):Nw(l,r,n.layoutBox);const c=!Wve(s);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=$i();Lw(g,n.layoutBox,p.layoutBox);const y=$i();Lw(y,r,m.layoutBox),Gve(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function rYe(e){hm.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iYe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aYe(e){e.clearSnapshot()}function zX(e){e.clearMeasurements()}function oYe(e){e.isLayoutDirty=!1}function sYe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UX(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lYe(e){e.resolveTargetDelta()}function uYe(e){e.calcProjection()}function cYe(e){e.resetRotation()}function dYe(e){e.removeLeadSnapshot()}function HX(e,t,n){e.translate=hi(t.translate,0,n),e.scale=hi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WX(e,t,n,r){e.min=hi(t.min,n.min,r),e.max=hi(t.max,n.max,r)}function fYe(e,t,n,r){WX(e.x,t.x,n.x,r),WX(e.y,t.y,n.y,r)}function hYe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pYe={duration:.45,ease:[.4,0,.1,1]},GX=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YX=GX("applewebkit/")&&!GX("chrome/")?Math.round:Bi;function qX(e){e.min=YX(e.min),e.max=YX(e.max)}function mYe(e){qX(e.x),qX(e.y)}function qve(e,t,n){return e==="position"||e==="preserve-aspect"&&!iN(NX(t),NX(n),.2)}const gYe=Yve({attachResizeListener:(e,t)=>Bd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x$={current:void 0},Kve=Yve({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!x$.current){const e=new gYe({});e.mount(window),e.setOptions({layoutScroll:!0}),x$.current=e}return x$.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yYe={pan:{Feature:RGe},drag:{Feature:MGe,ProjectionNode:Kve,MeasureLayout:zve}},vYe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bYe(e){const t=vYe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function lN(e,t,n=1){const[r,i]=bYe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Dve(o)?parseFloat(o):o}else return YT(i)?lN(i,t,n+1):i}function xYe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!YT(a))return;const o=lN(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!YT(a))continue;const o=lN(a,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const wYe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Zve=e=>wYe.has(e),CYe=e=>Object.keys(e).some(Zve),KX=e=>e===Bv||e===Tt,ZX=(e,t)=>parseFloat(e.split(", ")[t]),XX=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ZX(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?ZX(a[1],e):0}},SYe=new Set(["x","y","z"]),EYe=cE.filter(e=>!SYe.has(e));function kYe(e){const t=[];return EYe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Yy={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:XX(4,13),y:XX(5,14)};Yy.translateX=Yy.x;Yy.translateY=Yy.y;const _Ye=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Yy[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Yy[c](l,a)}),e},TYe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Zve);let a=[],o=!1;const s=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],h=dx(d);const p=t[l];let m;if(KT(p)){const g=p.length,y=p[0]===null?1:0;d=p[y],h=dx(d);for(let v=y;v<g&&p[v]!==null;v++)m?fV(dx(p[v])===m):m=dx(p[v])}else m=dx(p);if(h!==m)if(KX(h)&&KX(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Tt&&(t[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=h.transform(p):(o||(a=kYe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=_Ye(t,e,s);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),fD&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function AYe(e,t,n,r){return CYe(t)?TYe(e,t,n,r):{target:t,transitionEnd:r}}const jYe=(e,t,n,r)=>{const i=xYe(e,t,r);return t=i.target,r=i.transitionEnd,AYe(e,t,n,r)},uN={current:null},Xve={current:!1};function IYe(){if(Xve.current=!0,!!fD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uN.current=e.matches;e.addListener(t),t()}else uN.current=!1}function DYe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(Es(a))e.addValue(i,a),QT(r)&&r.add(i);else if(Es(o))e.addValue(i,Gy(a,{owner:e})),QT(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=e.getStaticValue(i);e.addValue(i,Gy(s!==void 0?s:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const JX=new WeakMap,Jve=Object.keys(OC),MYe=Jve.length,QX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RYe=nV.length;class OYe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>li.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=pD(n),this.isVariantNode=zye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const p=d[h];s[h]!==void 0&&Es(p)&&(p.set(s[h],!1),QT(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JX.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Xve.current||IYe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JX.delete(this.current),this.projection&&this.projection.unmount(),ff(this.notifyUpdate),ff(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=o0.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&li.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let o,s;for(let l=0;l<MYe;l++){const c=Jve[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:m}=OC[c];p&&(o=p),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&$1(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$i()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QX.length;r++){const i=QX[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=DYe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<RYe;r++){const i=nV[r],a=this.props[i];(RC(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Gy(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=dV(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Es(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new CV),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Qve extends OYe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},i){const a=XWe(r,t||{},this);if(i){KWe(this,r,a);const o=jYe(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function $Ye(e){return window.getComputedStyle(e)}class PYe extends Qve{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(o0.has(n)){const r=yV(n);return r&&r.default||0}else{const r=$Ye(t),i=(Gye(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Bve(t,n)}build(t,n,r,i){oV(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return cV(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Es(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Xye(t,n,r,i)}}class FYe extends Qve{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(o0.has(n)){const r=yV(n);return r&&r.default||0}return n=Jye.has(n)?n:QB(n),t.getAttribute(n)}measureInstanceViewportBox(){return $i()}scrapeMotionValuesFromProps(t,n){return eve(t,n)}build(t,n,r,i){lV(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Qye(t,n,r,i)}mount(t){this.isSVGTag=uV(t.tagName),super.mount(t)}}const NYe=(e,t)=>iV(e)?new FYe(t,{enableHardwareAcceleration:!1}):new PYe(t,{enableHardwareAcceleration:!0}),LYe={layout:{ProjectionNode:Kve,MeasureLayout:zve}},BYe={...fGe,..._He,...yYe,...LYe},Mi=PUe((e,t)=>hHe(e,t,BYe,NYe));function ebe(){const e=f.useRef(!1);return JB(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VYe(){const e=ebe(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>li.postRender(r),[r]),t]}class zYe extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UYe({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),f.createElement(zYe,{isPresent:t,childRef:r,sizeRef:i},f.cloneElement(e,{ref:r}))}const w$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=tve(HYe),l=f.useId(),c=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d=>{s.set(d,!0);for(const h of s.values())if(!h)return;r&&r()},register:d=>(s.set(d,!1),()=>s.delete(d))}),a?void 0:[n]);return f.useMemo(()=>{s.forEach((d,h)=>s.set(h,!1))},[n]),f.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o==="popLayout"&&(e=f.createElement(UYe,{isPresent:n},e)),f.createElement(dD.Provider,{value:c},e)};function HYe(){return new Map}function WYe(e){return f.useEffect(()=>()=>e(),[])}const pm=e=>e.key||"";function GYe(e,t){e.forEach(n=>{const r=pm(n);t.set(r,n)})}function YYe(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const sl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=f.useContext(rV).forceRender||VYe()[0],l=ebe(),c=YYe(e);let d=c;const h=f.useRef(new Map).current,p=f.useRef(d),m=f.useRef(new Map).current,g=f.useRef(!0);if(JB(()=>{g.current=!1,GYe(c,m),p.current=d}),WYe(()=>{g.current=!0,m.clear(),h.clear()}),g.current)return f.createElement(f.Fragment,null,d.map(x=>f.createElement(w$,{key:pm(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},x)));d=[...d];const y=p.current.map(pm),v=c.map(pm),b=y.length;for(let x=0;x<b;x++){const w=y[x];v.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((x,w)=>{if(v.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const S=y.indexOf(w);let E=x;if(!E){const k=()=>{h.delete(w);const _=Array.from(m.keys()).filter(T=>!v.includes(T));if(_.forEach(T=>m.delete(T)),p.current=c.filter(T=>{const j=pm(T);return j===w||_.includes(j)}),!h.size){if(l.current===!1)return;s(),r&&r()}};E=f.createElement(w$,{key:pm(C),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:a,mode:o},C),h.set(w,E)}d.splice(S,0,E)}),d=d.map(x=>{const w=x.key;return h.has(w)?x:f.createElement(w$,{key:pm(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),f.createElement(f.Fragment,null,h.size?d:d.map(x=>f.cloneElement(x)))};function SV(e){const t=f.useRef(null);return f.useInsertionEffect(()=>{t.current=e},[e]),f.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const EV=fI,kg=upe(),pE=[],rp={},Oc="--motion-content-opacity",tbe={initial:{opacity:.5,[Oc]:0,scale:.97,willChange:"transform"},animate:{opacity:[null,1,1],[Oc]:[null,null,1],scale:1},exit:{opacity:[null,null,0],[Oc]:[null,0,0],scale:.97},transition:{duration:.4,type:"spring"}};function qYe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function Ce(e){return e===0?0:`${e/16}rem`}function Pt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((r,i)=>i===0?r:{[`@media screen and (min-width: ${e[i-1]}px)`]:r})}function KYe(e,t){return e===void 0?t||pE:Array.isArray(e)?e:[e]}function hs(e,t,n=pE){if(!Array.isArray(n))throw new Error("the property must be array of numbers");if(n.length===0)return null;const{media:r,space:i}=Te(e);return Pt(r,n,a=>qYe(t,Ce(i[a])))}function qy(e,t){const{$size:n,$weight:r}=t,{font:i,media:a}=Te(t.theme),{family:o,sizes:s,weights:l}=i[e],c=r&&l[r]||l.regular,d=s[2],h={position:"relative",fontFamily:o,fontWeight:c,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return qy.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:h}),qy.warned=!0),[h];const p=Pt(a,n,m=>ZYe(s[m]||d));return[h,...p]}function ZYe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:i,letterSpacing:a,lineHeight:o}=e,s=t+n,l=o-s,c=(l-i)/2,d=Math.floor(r*1.125/2)*2+1,h=(l-d)/2;return{fontSize:Ce(r),lineHeight:`calc(${o} / ${r})`,letterSpacing:Ce(a),transform:`translateY(${Ce(n)})`,"&:before":{marginTop:`calc(${Ce(0-s)} - 1px)`},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:`calc(${d} / 16 * 1rem)`,margin:Ce(h)},"& [data-sanity-icon]":{fontSize:`calc(${i} / 16 * 1rem)`,margin:Ce(c)}}}function XYe(e){return qy("code",e)}function JYe(e){return qy("heading",e)}function QYe(e){return qy("label",e)}function kV(e){const{media:t}=Te(e.theme);return Pt(t,e.$align,n=>({textAlign:n}))}function eqe(e){return qy("text",e)}function Ae(e,t){const n=f.useMemo(()=>JSON.stringify(e??t),[t,e]);return f.useMemo(()=>KYe(e,t),[n])}function xn(e,t=()=>pE,n){const r=SV(a=>{if(!e)return;const o=a.target;if(!(o instanceof Node))return;const s=n==null?void 0:n();if(s&&!s.contains(o))return;const l=t().flat();for(const c of l)if(c&&(o===c||c.contains(o)))return;e(a)}),i=!!e;f.useEffect(()=>{if(!i)return;const a=o=>r(o);return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[i,r]),f.useDebugValue(e?"MouseDown On":"MouseDown Off")}function mE(e,t){f.useEffect(()=>{var n;(n=e.current)==null||n.setCustomValidity(t||"")},[t,e])}var Zm=[],tqe=function(){return Zm.some(function(e){return e.activeTargets.length>0})},nqe=function(){return Zm.some(function(e){return e.skippedTargets.length>0})},eJ="ResizeObserver loop completed with undelivered notifications.",rqe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:eJ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=eJ),window.dispatchEvent(e)},PC;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(PC||(PC={}));var Xm=function(e){return Object.freeze(e)},iqe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Xm(this)}return e}(),nbe=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Xm(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:r,top:i,right:a,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),_V=function(e){return e instanceof SVGElement&&"getBBox"in e},rbe=function(e){if(_V(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},tJ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},aqe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Bw=typeof window<"u"?window:{},g2=new WeakMap,nJ=/auto|scroll/,oqe=/^tb|vertical/,sqe=/msie|trident/i.test(Bw.navigator&&Bw.navigator.userAgent),ec=function(e){return parseFloat(e||"0")},ry=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new iqe((n?t:e)||0,(n?e:t)||0)},rJ=Xm({devicePixelContentBoxSize:ry(),borderBoxSize:ry(),contentBoxSize:ry(),contentRect:new nbe(0,0,0,0)}),ibe=function(e,t){if(t===void 0&&(t=!1),g2.has(e)&&!t)return g2.get(e);if(rbe(e))return g2.set(e,rJ),rJ;var n=getComputedStyle(e),r=_V(e)&&e.ownerSVGElement&&e.getBBox(),i=!sqe&&n.boxSizing==="border-box",a=oqe.test(n.writingMode||""),o=!r&&nJ.test(n.overflowY||""),s=!r&&nJ.test(n.overflowX||""),l=r?0:ec(n.paddingTop),c=r?0:ec(n.paddingRight),d=r?0:ec(n.paddingBottom),h=r?0:ec(n.paddingLeft),p=r?0:ec(n.borderTopWidth),m=r?0:ec(n.borderRightWidth),g=r?0:ec(n.borderBottomWidth),y=r?0:ec(n.borderLeftWidth),v=h+c,b=l+d,x=y+m,w=p+g,C=s?e.offsetHeight-w-e.clientHeight:0,S=o?e.offsetWidth-x-e.clientWidth:0,E=i?v+x:0,k=i?b+w:0,_=r?r.width:ec(n.width)-E-S,T=r?r.height:ec(n.height)-k-C,j=_+v+S+x,A=T+b+C+w,I=Xm({devicePixelContentBoxSize:ry(Math.round(_*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:ry(j,A,a),contentBoxSize:ry(_,T,a),contentRect:new nbe(h,l,_,T)});return g2.set(e,I),I},abe=function(e,t,n){var r=ibe(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case PC.DEVICE_PIXEL_CONTENT_BOX:return o;case PC.BORDER_BOX:return i;default:return a}},lqe=function(){function e(t){var n=ibe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Xm([n.borderBoxSize]),this.contentBoxSize=Xm([n.contentBoxSize]),this.devicePixelContentBoxSize=Xm([n.devicePixelContentBoxSize])}return e}(),obe=function(e){if(rbe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},uqe=function(){var e=1/0,t=[];Zm.forEach(function(a){if(a.activeTargets.length!==0){var o=[];a.activeTargets.forEach(function(s){var l=new lqe(s.target),c=obe(s.target);o.push(l),s.lastReportedSize=abe(s.target,s.observedBox),c<e&&(e=c)}),t.push(function(){a.callback.call(a.observer,o,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},iJ=function(e){Zm.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(obe(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},cqe=function(){var e=0;for(iJ(e);tqe();)e=uqe(),iJ(e);return nqe()&&rqe(),e>0},C$,sbe=[],dqe=function(){return sbe.splice(0).forEach(function(e){return e()})},fqe=function(e){if(!C$){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return dqe()}).observe(n,r),C$=function(){n.textContent="".concat(t?t--:t++)}}sbe.push(e),C$()},hqe=function(e){fqe(function(){requestAnimationFrame(e)})},w_=0,pqe=function(){return!!w_},mqe=250,gqe={attributes:!0,characterData:!0,childList:!0,subtree:!0},aJ=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],oJ=function(e){return e===void 0&&(e=0),Date.now()+e},S$=!1,yqe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=mqe),!S$){S$=!0;var r=oJ(t);hqe(function(){var i=!1;try{i=cqe()}finally{if(S$=!1,t=r-oJ(),!pqe())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,gqe)};document.body?n():Bw.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),aJ.forEach(function(n){return Bw.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),aJ.forEach(function(n){return Bw.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),cN=new yqe,sJ=function(e){!w_&&e>0&&cN.start(),w_+=e,!w_&&cN.stop()},vqe=function(e){return!_V(e)&&!aqe(e)&&getComputedStyle(e).display==="inline"},bqe=function(){function e(t,n){this.target=t,this.observedBox=n||PC.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=abe(this.target,this.observedBox,!0);return vqe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),xqe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),y2=new WeakMap,lJ=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},v2=function(){function e(){}return e.connect=function(t,n){var r=new xqe(t,n);y2.set(t,r)},e.observe=function(t,n,r){var i=y2.get(t),a=i.observationTargets.length===0;lJ(i.observationTargets,n)<0&&(a&&Zm.push(i),i.observationTargets.push(new bqe(n,r&&r.box)),sJ(1),cN.schedule())},e.unobserve=function(t,n){var r=y2.get(t),i=lJ(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&Zm.splice(Zm.indexOf(r),1),r.observationTargets.splice(i,1),sJ(-1))},e.disconnect=function(t){var n=this,r=y2.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),wqe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");v2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tJ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");v2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tJ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");v2.unobserve(this,t)},e.prototype.disconnect=function(){v2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const lbe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:wqe,Cqe=Eqe();function Sqe(){return{subscribe(e,t){const n=new lbe(([r])=>{t({_contentRect:r.contentRect,border:{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize},content:{width:r.contentRect.width,height:r.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function Eqe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const i=t.get(n)||[];let a=e.get(n);return t.has(n)||(t.set(n,i),a=Sqe().subscribe(n,o=>{for(const s of i)s(o)})),i.push(r),()=>{const o=i.indexOf(r);o>-1&&i.splice(o,1),i.length===0&&a&&a()}}}}function gE(e){const[t,n]=f.useState(null);return f.useEffect(()=>{if(e)return Cqe.subscribe(e,n)},[e]),t}function _g(e){var t;return((t=gE(e))==null?void 0:t._contentRect)||null}function Yo(e){return f.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function ube(e,t){const{subscribe:n,getSnapshot:r}=f.useMemo(()=>{let i;const a=()=>(i||(i=window.matchMedia(e)),i);return{subscribe:o=>{const s=a();return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},getSnapshot:()=>a().matches}},[e]);return f.useDebugValue(e),f.useSyncExternalStore(n,r,t)}function kqe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Rd=kqe();function Of(e,t){const n=Symbol.for(e);return typeof document>"u"?f.createContext(t):(Rd[n]=Rd[n]||f.createContext(t),Rd[n])}const dN=Of("@sanity/ui/context/theme",null);function FC(e){const t=f.useContext(dN),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:i=(t==null?void 0:t.theme)||null,tone:a=(t==null?void 0:t.tone)||"default"}=e,o=f.useMemo(()=>i?{version:0,theme:i,scheme:r,tone:a}:null,[i,r,a]),s=f.useMemo(()=>i?$Ne(i,r,a):null,[r,i,a]);return s?u.jsx(dN.Provider,{value:o,children:u.jsx(NLe,{theme:s,children:n})}):u.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}FC.displayName="ThemeProvider";function Vv(){const e=f.useContext(dN);if(!e)throw new Error("useRootTheme(): missing context value");return e}function TV(e){const{children:t,scheme:n,tone:r}=e,i=Vv();return u.jsx(FC,{scheme:n||i.scheme,theme:i.theme,tone:r,children:t})}TV.displayName="ThemeColorProvider";function zv(){return Ppe()}function $f(){return Te(Ppe())}function _qe(e,t){return t===0?`screen and (max-width: ${e[t]-1}px)`:t===e.length?`screen and (min-width: ${e[t-1]}px)`:`screen and (min-width: ${e[t-1]}px) and (max-width: ${e[t]-1}px)`}function Tqe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let i=t;i>-1;i-=1){const a=_qe(e,i);n.push({index:i,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:i,mq:a}of r())if(a.matches)return i;return 0},subscribe:i=>{const a=[];for(const{mq:o}of r()){const s=()=>{o.matches&&i()};o.addEventListener("change",s),a.push(()=>o.removeEventListener("change",s))}return()=>{for(const o of a)o()}}}}function Aqe(){return 0}function s0(){const{media:e}=$f(),t=f.useMemo(()=>Tqe(e),[e]);return f.useSyncExternalStore(t.subscribe,t.getSnapshot,Aqe)}function jqe(e=()=>!1){return ube("(prefers-color-scheme: dark)",e)}function yD(e=()=>!1){return ube("(prefers-reduced-motion: reduce)",e)}function Iqe(){return[Dqe,Mqe,Rqe,Oqe,$qe]}function Dqe(e){var i;const{card:t,media:n}=Te(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Pt(n,e.$border,a=>a?{"&&":{border:r}}:{"&&":{border:0}})}function Mqe(e){var i;const{card:t,media:n}=Te(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Pt(n,e.$borderTop,a=>a?{"&&":{borderTop:r}}:{"&&":{borderTop:0}})}function Rqe(e){var i;const{card:t,media:n}=Te(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Pt(n,e.$borderRight,a=>a?{"&&":{borderRight:r}}:{"&&":{borderRight:0}})}function Oqe(e){var i;const{card:t,media:n}=Te(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Pt(n,e.$borderBottom,a=>a?{"&&":{borderBottom:r}}:{"&&":{borderBottom:0}})}function $qe(e){var i;const{card:t,media:n}=Te(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Pt(n,e.$borderLeft,a=>a?{"&&":{borderLeft:r}}:{"&&":{borderLeft:0}})}const Pqe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Fqe={content:"content-box",border:"border-box"},Nqe={stretch:"stretch",fill:"100%"};function Lqe(){return Pqe}function Bqe(){return[zqe,Uqe,Hqe,Vqe]}function Vqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$display,n=>({"&:not([hidden])":{display:n}}))}function zqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$sizing,n=>({boxSizing:Fqe[n]}))}function Uqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$height,n=>({height:Nqe[n]}))}function Hqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$overflow,n=>({overflow:n}))}const Wqe={"&&:not([hidden])":{display:"flex"}};function Gqe(){return[Wqe,Yqe,qqe,Kqe,Zqe,Xqe]}function Yqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$align,n=>({alignItems:n}))}function qqe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$gap,r=>({gap:r?Ce(n[r]):void 0}))}function Kqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$wrap,n=>({flexWrap:n}))}function Zqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$justify,n=>({justifyContent:n}))}function Xqe(e){const{media:t}=Te(e.theme);return Pt(t,e.$direction,n=>({flexDirection:n}))}const Jqe={minWidth:0,minHeight:0};function cbe(){return[Jqe,Qqe]}function Qqe(e){const{media:t}=Te(e.theme);return e.$flex?Pt(t,e.$flex,n=>({flex:n})):pE}function _i(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function Ll(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&_i(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const eKe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},tKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},nKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function rKe(){return[eKe,iKe,aKe,oKe,sKe,lKe,uKe,cKe,dKe]}function iKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$autoFlow,n=>({gridAutoFlow:n}))}function aKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$autoRows,n=>({gridAutoRows:n&&nKe[n]}))}function oKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$autoCols,n=>({gridAutoColumns:n&&tKe[n]}))}function sKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$columns,n=>({gridTemplateColumns:n&&`repeat(${n},minmax(0,1fr));`}))}function lKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$rows,n=>({gridTemplateRows:n&&`repeat(${n},minmax(0,1fr));`}))}function uKe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$gap,r=>({gridGap:r?Ce(n[r]):void 0}))}function cKe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$gapX,r=>({columnGap:r?Ce(n[r]):void 0}))}function dKe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$gapY,r=>({rowGap:r?Ce(n[r]):void 0}))}function fKe(){return[mKe,gKe,yKe,vKe,bKe,xKe]}const hKe={auto:"auto",full:"1 / -1"},pKe={auto:"auto",full:"1 / -1"};function mKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$row,n=>typeof n=="number"?{gridRow:`span ${n} / span ${n}`}:{gridRow:hKe[n]})}function gKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$rowStart,n=>({gridRowStart:n}))}function yKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$rowEnd,n=>({gridRowEnd:n}))}function vKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$column,n=>typeof n=="number"?{gridColumn:`span ${n} / span ${n}`}:{gridColumn:pKe[n]})}function bKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$columnStart,n=>({gridColumnStart:n}))}function xKe(e){const{media:t}=Te(e.theme);return Pt(t,e.$columnEnd,n=>({gridColumnEnd:n}))}function AV(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:i,$space:a}=e,{font:o,media:s,space:l}=Te(e.theme),c=Math.max(i.length,a.length,t.length),d=[],h=[],p=[];for(let m=0;m<c;m+=1)p[m]=t[m]===void 0?p[m-1]:t[m],d[m]=i[m]===void 0?d[m-1]:i[m],h[m]=a[m]===void 0?h[m-1]:a[m];return Pt(s,d,(m,g)=>{const y=o.text.sizes[p[g]]||o.text.sizes[2],v=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=l[d[g]],x=l[h[g]],w={paddingTop:Ce(b-y.ascenderHeight),paddingRight:Ce(b),paddingBottom:Ce(b-y.descenderHeight),paddingLeft:Ce(b)};return r&&(w.paddingRight=Ce(b+v+x)),n&&(w.paddingLeft=Ce(b+v+x)),w})}function wKe(e){return AV({...e,$iconRight:!0})}const CKe=de`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`;function dbe(){return CKe}function fbe(e){const{$scheme:t,$tone:n,$weight:r}=e,{color:i,font:a}=Te(e.theme);return de`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${a.text.family};
    font-weight: ${r&&a.text.weights[r]||a.text.weights.regular};
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='${t}'][data-tone='${n}'] {
      --input-fg-color: ${i.input.default.enabled.fg};
      --input-placeholder-color: ${i.input.default.enabled.placeholder};

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: ${i.input.default.enabled.fg};
        --input-placeholder-color: ${i.input.default.enabled.placeholder};
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: ${i.input.default.disabled.fg};
        --input-placeholder-color: ${i.input.default.disabled.placeholder};
      }

      /* invalid */
      &:invalid {
        --input-fg-color: ${i.input.invalid.enabled.fg};
        --input-placeholder-color: ${i.input.invalid.enabled.placeholder};
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: ${i.input.default.readOnly.fg};
        --input-placeholder-color: ${i.input.default.readOnly.placeholder};
      }
    }
  `}function hbe(e){const{font:t,media:n}=Te(e.theme);return Pt(n,e.$fontSize,r=>{const i=t.text.sizes[r]||t.text.sizes[2];return{fontSize:Ce(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function pbe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:i,$unstableDisableFocusRing:a}=e,{color:o,input:s}=Te(e.theme);return de`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: ${t?0:void 0};
    border-bottom-left-radius: ${t?0:void 0};
    border-top-right-radius: ${n?0:void 0};
    border-bottom-right-radius: ${n?0:void 0};

    &[data-scheme='${r}'][data-tone='${i}'] {
      --card-bg-color: ${o.input.default.enabled.bg};
      --card-fg-color: ${o.input.default.enabled.fg};

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: ${_i({color:o.input.default.enabled.border,width:s.border.width})};
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: ${o.input.invalid.enabled.bg};
        --card-fg-color: ${o.input.invalid.enabled.fg};

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.enabled.border,width:s.border.width})};
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: ${a?void 0:Ll({border:{color:o.input.default.enabled.border,width:s.border.width},focusRing:s.text.focusRing})};
        }

        &:not([data-border]) {
          --input-box-shadow: ${a?void 0:Ll({focusRing:s.text.focusRing})};
        }
      }

      /* disabled */
      *:not(:invalid):disabled + & {
        --card-bg-color: ${o.input.default.disabled.bg} !important;
        --card-fg-color: ${o.input.default.disabled.fg} !important;
        --card-icon-color: ${o.input.default.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.default.disabled.border,width:s.border.width})};
        }
      }

      *:invalid:disabled + & {
        --card-bg-color: ${o.input.invalid.disabled.bg} !important;
        --card-fg-color: ${o.input.invalid.disabled.fg} !important;
        --card-icon-color: ${o.input.invalid.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.disabled.border,width:s.border.width})};
        }
      }

      /* readOnly */
      *:not(:invalid):read-only + & {
        --card-bg-color: ${o.input.default.readOnly.bg} !important;
        --card-fg-color: ${o.input.default.readOnly.fg} !important;
      }

      *:invalid:read-only + & {
        --card-bg-color: ${o.input.invalid.readOnly.bg} !important;
        --card-fg-color: ${o.input.invalid.readOnly.fg} !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: ${o.input.default.hovered.bg};
          --card-fg-color: ${o.input.default.hovered.fg};
        }

        *:invalid:not(:disabled):not(:read-only):hover + & {
          --card-bg-color: ${o.input.invalid.hovered.bg};
          --card-fg-color: ${o.input.invalid.hovered.fg};
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${_i({color:o.input.default.hovered.border,width:s.border.width})};
        }

        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.hovered.border,width:s.border.width})};
        }
      }
    }
  `}function SKe(e){const{theme:t}=e;return[hs(t,["margin"],e.$margin),hs(t,["marginLeft","marginRight"],e.$marginX),hs(t,["marginTop","marginBottom"],e.$marginY),hs(t,["marginTop"],e.$marginTop),hs(t,["marginRight"],e.$marginRight),hs(t,["marginBottom"],e.$marginBottom),hs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function mbe(e){const{theme:t}=e;return[hs(t,["padding"],e.$padding),hs(t,["paddingLeft","paddingRight"],e.$paddingX),hs(t,["paddingTop","paddingBottom"],e.$paddingY),hs(t,["paddingTop"],e.$paddingTop),hs(t,["paddingRight"],e.$paddingRight),hs(t,["paddingBottom"],e.$paddingBottom),hs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function Pf(e){const{media:t,radius:n}=Te(e.theme);return Pt(t,e.$radius,r=>{let i=0;return typeof r=="number"&&(i=Ce(n[r])),r==="full"&&(i="9999px"),{borderRadius:i}})}function E$(e,t){return`${e.map(Ce).join(" ")} ${t}`}function EKe(e,t=1){if(!e)return rp;const n=`0 0 0 ${Ce(t)} var(--card-shadow-outline-color)`,r=E$(e.umbra,"var(--card-shadow-umbra-color)"),i=E$(e.penumbra,"var(--card-shadow-penumbra-color)"),a=E$(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:`${n}, ${r}, ${i}, ${a}`}}function kKe(e){const{card:t,media:n,shadow:r}=Te(e.theme);return Pt(n,e.$shadow,i=>EKe(r[i],t.shadow.outline))}function _Ke(e){const{$accent:t,$muted:n}=e,{font:r}=Te(e.theme);return de`
    text-transform: uppercase;

    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const TKe=$.div(QYe,kV,_Ke),AKe=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Uv=f.forwardRef(function(e,t){const{accent:n,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"?d=u.jsx(AKe,{children:d}):d=u.jsx("span",{children:d}),u.jsx(TKe,{"data-ui":"Label",...c,$accent:n,$align:Ae(r),$muted:a,$size:Ae(o),$weight:l,ref:t,children:d})});Uv.displayName="ForwardRef(Label)";const Hv={root:IKe,arrow:jKe,bgStroke:OKe,stroke:$Ke,initials:RKe,image:MKe};function jKe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function IKe(e){const{$color:t}=e,{avatar:n}=Te(e.theme);return{"--avatar-bg-color":`var(--card-avatar-${t}-bg-color)`,"--avatar-fg-color":`var(--card-avatar-${t}-fg-color)`,backgroundColor:"var(--avatar-bg-color)",position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ll({focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function DKe(e){const{avatar:t,media:n}=Te(e.theme);return Pt(n,e.$size,r=>{const i=t.sizes[r]||t.sizes[0];return{width:Ce(i.size),height:Ce(i.size),borderRadius:Ce(i.size/2),"&>svg":{width:Ce(i.size),height:Ce(i.size),borderRadius:Ce(i.size/2)}}})}function MKe(){return{position:"relative"}}function RKe(){return{width:"100%",height:"100%",color:"var(--avatar-fg-color)",alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function OKe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function $Ke(){return{strokeWidth:"2px",stroke:"var(--avatar-bg-color)",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const PKe=$.div(DKe,Hv.root),FKe=$.div(Hv.arrow),NKe=$.ellipse(Hv.bgStroke),LKe=$.ellipse(Hv.stroke),BKe=$.div(Hv.initials),VKe=$(Uv)({color:"inherit"}),zKe=$.svg(Hv.image),jV=f.forwardRef(function(e,t){const{__unstable_hideInnerStroke:n,as:r,color:i="gray",src:a,title:o,initials:s,onImageLoadError:l,arrowPosition:c,animateArrowFrom:d,status:h="online",size:p=1,...m}=e,{avatar:g}=$f(),y=BNe.isValidElementType(r)?r:"div",v=Ae(p),b=(g.sizes[v[0]]||g.sizes[0]).size,x=b/2,w=f.useId(),[C,S]=f.useState(d||c||"inside"),[E,k]=f.useState(!1),_=`avatar-image-${w}`;f.useEffect(()=>{if(C===c)return;const A=requestAnimationFrame(()=>S(c));return()=>cancelAnimationFrame(A)},[C,c]),f.useEffect(()=>{a&&k(!1)},[a]);const T=f.useCallback(()=>{k(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),j=f.useMemo(()=>v.map(A=>A===1?1:A===2?3:A===3?5:0),[v]);return u.jsxs(PKe,{as:y,"data-as":typeof y=="string"?y:void 0,"data-ui":"Avatar",...m,$color:i,$size:v,"aria-label":o,"data-arrow-position":C,"data-status":h,ref:t,title:o,children:[u.jsx(FKe,{children:u.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:u.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:i})})}),!E&&a&&u.jsxs(zKe,{viewBox:`0 0 ${b} ${b}`,fill:"none",children:[u.jsx("defs",{children:u.jsx("pattern",{id:_,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:u.jsx("image",{href:a,width:"1",height:"1",onError:T})})}),u.jsx("circle",{cx:x,cy:x,r:x,fill:`url(#${_})`}),!n&&u.jsx(NKe,{cx:x,cy:x,rx:x,ry:x,vectorEffect:"non-scaling-stroke"}),u.jsx(LKe,{cx:x,cy:x,rx:x,ry:x,vectorEffect:"non-scaling-stroke"})]}),(E||!a)&&s&&u.jsx(u.Fragment,{children:u.jsx(BKe,{children:u.jsx(VKe,{forwardedAs:"span",size:j,weight:"medium",children:s})})})]})});jV.displayName="ForwardRef(Avatar)";function UKe(e){const{avatar:t,media:n}=Te(e.theme);return Pt(n,e.$size,r=>{const i=t.sizes[r];return i?{borderRadius:Ce(i.size/2),minWidth:Ce(i.size),height:Ce(i.size)}:rp})}function HKe(e){const{space:t}=Te(e.theme);return de`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1px var(--card-hairline-hard-color);
    padding: 0 ${Ce(t[2])};

    &:not([hidden]) {
      display: flex;
    }
  `}const WKe=$.div(UKe,HKe),tA=f.forwardRef(function(e,t){const{count:n,size:r=1}=e,i=Ae(r),a=f.useMemo(()=>i.map(o=>o===1?1:o===2?3:o===3?5:0),[i]);return u.jsx(WKe,{$size:i,"data-ui":"AvatarCounter",ref:t,children:u.jsx(Uv,{as:"span",size:a,weight:"medium",children:n})})});tA.displayName="ForwardRef(AvatarCounter)";const GKe=de`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`;function YKe(){return GKe}function qKe(e){const{avatar:t,media:n}=Te(e.theme);return Pt(n,e.$size,r=>{const i=t.sizes[r];return i?{"& > div + div":{marginLeft:Ce(i.distance)}}:rp})}const KKe=$.div(qKe,YKe),yE=f.forwardRef(function(e,t){const{children:n,maxLength:r=4,size:i=1,...a}=e,o=f.useMemo(()=>f.Children.toArray(n).filter(f.isValidElement),[n]),s=Math.max(r,0),l=Ae(i),c=o.length,d=s-1,h=c-d,p=h>1?o.slice(h,c):o;return u.jsxs(KKe,{"data-ui":"AvatarStack",...a,ref:t,$size:l,children:[c===0&&u.jsx("div",{children:u.jsx(tA,{count:c,size:l})}),c!==0&&h>1&&u.jsx("div",{children:u.jsx(tA,{count:h,size:l})}),p.map((m,g)=>u.jsx("div",{children:f.cloneElement(m,{size:l})},String(g)))]})});yE.displayName="ForwardRef(AvatarStack)";const ZKe=$.div(Lqe,cbe,Bqe,fKe,SKe,mbe),L=f.forwardRef(function(e,t){const{as:n="div",column:r,columnStart:i,columnEnd:a,display:o="block",flex:s,height:l,margin:c=0,marginX:d,marginY:h,marginTop:p,marginRight:m,marginBottom:g,marginLeft:y,overflow:v,padding:b=0,paddingX:x,paddingY:w,paddingTop:C,paddingRight:S,paddingBottom:E,paddingLeft:k,row:_,rowStart:T,rowEnd:j,sizing:A,...I}=e;return u.jsx(ZKe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Box",...I,$column:Ae(r),$columnStart:Ae(i),$columnEnd:Ae(a),$display:Ae(o),$flex:Ae(s),$height:Ae(l),$margin:Ae(c),$marginX:Ae(d),$marginY:Ae(h),$marginTop:Ae(p),$marginRight:Ae(m),$marginBottom:Ae(g),$marginLeft:Ae(y),$overflow:Ae(v),$padding:Ae(b),$paddingX:Ae(x),$paddingY:Ae(w),$paddingTop:Ae(C),$paddingRight:Ae(S),$paddingBottom:Ae(E),$paddingLeft:Ae(k),$row:Ae(_),$rowStart:Ae(T),$rowEnd:Ae(j),$sizing:Ae(A),as:n,ref:t,children:e.children})});L.displayName="ForwardRef(Box)";function XKe(e){const{$accent:t,$muted:n}=e,{font:r}=Te(e.theme);return de`
    color: var(--card-fg-color);

    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.text.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
      color: var(--card-icon-color);

      & path {
        vector-effect: non-scaling-stroke !important;
      }
    }
  `}const JKe=$.div(eqe,kV,XKe),QKe=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,N=f.forwardRef(function(e,t){const{accent:n=!1,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"&&(d=u.jsx(QKe,{children:d})),u.jsx(JKe,{"data-ui":"Text",...c,$accent:n,$align:Ae(r),$muted:a,ref:t,$size:Ae(o),$weight:l,children:u.jsx("span",{children:d})})});N.displayName="ForwardRef(Text)";function eZe(e){const{$tone:t}=e;return{"--card-bg-color":`var(--card-badge-${t}-bg-color)`,"--card-fg-color":`var(--card-badge-${t}-fg-color)`,backgroundColor:"var(--card-bg-color)",cursor:"default","&:not([hidden])":{display:"inline-block",verticalAlign:"top"}}}const tZe=$(L)(Pf,eZe),ao=f.forwardRef(function(e,t){const{children:n,fontSize:r=1,mode:i,padding:a=1,radius:o="full",tone:s="default",...l}=e;return u.jsx(tZe,{"data-ui":"Badge",...l,$tone:s,$radius:Ae(o),padding:Ae(a),ref:t,children:u.jsx(N,{size:r,children:n})})});ao.displayName="ForwardRef(Badge)";const nZe=$(L)(cbe,Gqe),z=f.forwardRef(function(e,t){const{align:n,as:r,direction:i="row",gap:a,justify:o,wrap:s,...l}=e;return u.jsx(nZe,{"data-ui":"Flex",...l,$align:Ae(n),$direction:Ae(i),$gap:Ae(a),$justify:Ae(o),$wrap:Ae(s),forwardedAs:r,ref:t})});z.displayName="ForwardRef(Flex)";const rZe=Tp`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,iZe=$(N)`
  & > span > svg {
    animation: ${rZe} 500ms linear infinite;
  }
`,Op=f.forwardRef(function(e,t){return u.jsx(iZe,{"data-ui":"Spinner",...e,ref:t,children:u.jsx(Ov,{})})});Op.displayName="ForwardRef(Spinner)";function yn(e,t,n=!1){return{"--card-backdrop-color":e.backdrop,"--card-focus-ring-color":e.focusRing,"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-accent-fg-color":t.accent.fg,"--card-avatar-gray-bg-color":t.avatar.gray.bg,"--card-avatar-gray-fg-color":t.avatar.gray.fg,"--card-avatar-blue-bg-color":t.avatar.blue.bg,"--card-avatar-blue-fg-color":t.avatar.blue.fg,"--card-avatar-purple-bg-color":t.avatar.purple.bg,"--card-avatar-purple-fg-color":t.avatar.purple.fg,"--card-avatar-magenta-bg-color":t.avatar.magenta.bg,"--card-avatar-magenta-fg-color":t.avatar.magenta.fg,"--card-avatar-red-bg-color":t.avatar.red.bg,"--card-avatar-red-fg-color":t.avatar.red.fg,"--card-avatar-orange-bg-color":t.avatar.orange.bg,"--card-avatar-orange-fg-color":t.avatar.orange.fg,"--card-avatar-yellow-bg-color":t.avatar.yellow.bg,"--card-avatar-yellow-fg-color":t.avatar.yellow.fg,"--card-avatar-green-bg-color":t.avatar.green.bg,"--card-avatar-green-fg-color":t.avatar.green.fg,"--card-avatar-cyan-bg-color":t.avatar.cyan.bg,"--card-avatar-cyan-fg-color":t.avatar.cyan.fg,"--card-bg-color":t.bg,"--card-bg-image":n?`repeating-conic-gradient(${t.bg} 0% 25%, ${t.muted.bg} 0% 50%)`:void 0,"--card-border-color":t.border,"--card-badge-default-bg-color":t.badge.default.bg,"--card-badge-default-dot-color":t.badge.default.dot,"--card-badge-default-fg-color":t.badge.default.fg,"--card-badge-default-icon-color":t.badge.default.icon,"--card-badge-primary-bg-color":t.badge.primary.bg,"--card-badge-primary-dot-color":t.badge.primary.dot,"--card-badge-primary-fg-color":t.badge.primary.fg,"--card-badge-primary-icon-color":t.badge.primary.icon,"--card-badge-positive-bg-color":t.badge.positive.bg,"--card-badge-positive-dot-color":t.badge.positive.dot,"--card-badge-positive-fg-color":t.badge.positive.fg,"--card-badge-positive-icon-color":t.badge.positive.icon,"--card-badge-caution-bg-color":t.badge.caution.bg,"--card-badge-caution-dot-color":t.badge.caution.dot,"--card-badge-caution-fg-color":t.badge.caution.fg,"--card-badge-caution-icon-color":t.badge.caution.icon,"--card-badge-critical-bg-color":t.badge.critical.bg,"--card-badge-critical-dot-color":t.badge.critical.dot,"--card-badge-critical-fg-color":t.badge.critical.fg,"--card-badge-critical-icon-color":t.badge.critical.icon,"--card-code-bg-color":t.code.bg,"--card-code-fg-color":t.code.fg,"--card-fg-color":t.fg,"--card-icon-color":t.icon,"--card-kbd-bg-color":t.kbd.bg,"--card-kbd-border-color":t.kbd.border,"--card-kbd-fg-color":t.kbd.fg,"--card-link-fg-color":t.link.fg,"--card-muted-bg-color":t.muted.bg,"--card-muted-fg-color":t.muted.fg,"--card-skeleton-color-from":t.skeleton.from,"--card-skeleton-color-to":t.skeleton.to,"--card-bg2-color":t.muted.bg,"--card-link-color":t.link.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}function aZe(e){const{$width:t}=e,{style:n}=Te(e.theme);return de`
    ${n==null?void 0:n.button};

    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;
    vertical-align: top;

    ${t==="fill"&&de`
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    `}

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `}function uJ(...e){return e.filter(Boolean).join(",")}function oZe(e){var d;const{$mode:t}=e,{button:n,color:r,style:i}=Te(e.theme),a=e.$mode==="ghost",o=r.button[t]||r.button.default,s=o[e.$tone]||o.default,l={width:n.border.width,color:"var(--card-border-color)"},c=void 0;return[yn(r,s.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:_i(l),'&:disabled, &[data-disabled="true"]':yn(r,s.disabled),"&:not([data-disabled='true'])":{boxShadow:uJ(_i(l),a?c:void 0),"&:focus":{boxShadow:Ll({base:r,border:{width:2,color:r.bg},focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:uJ(_i(l),a?c:void 0)},"@media (hover: hover)":{"&:hover":yn(r,s.hovered),"&:active":yn(r,s.pressed),"&[data-hovered]":yn(r,s.hovered)},"&[data-selected]":yn(r,s.pressed)}},(d=i==null?void 0:i.button)==null?void 0:d.root].filter(Boolean)}const sZe=$.button(Pf,aZe,oZe),lZe=$.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`,$t=f.forwardRef(function(e,t){const{children:n,disabled:r,fontSize:i=1,icon:a,iconRight:o,justify:s="center",loading:l,mode:c="default",padding:d=3,paddingX:h,paddingY:p,paddingTop:m,paddingBottom:g,paddingLeft:y,paddingRight:v,radius:b=2,selected:x,space:w=3,text:C,textAlign:S,tone:E="default",type:k="button",muted:_=!1,width:T,...j}=e,{button:A}=$f(),I=Ae(s),M=Ae(d),D=Ae(h),O=Ae(p),R=Ae(m),F=Ae(g),P=Ae(y),V=Ae(v),U=Ae(b),H=Ae(w),W=f.useMemo(()=>({padding:M,paddingX:D,paddingY:O,paddingTop:R,paddingBottom:F,paddingLeft:P,paddingRight:V}),[M,D,O,R,F,P,V]);return u.jsxs(sZe,{"data-ui":"Button",...j,$mode:c,$radius:U,$tone:E,"data-disabled":!!(l||r),"data-selected":x?"":void 0,disabled:!!(l||r),ref:t,type:k,$width:T,children:[!!l&&u.jsx(lZe,{children:u.jsx(Op,{})}),(a||C||o)&&u.jsx(L,{as:"span",...W,children:u.jsxs(z,{as:"span",justify:I,gap:H,children:[a&&u.jsxs(N,{size:i,children:[f.isValidElement(a)&&a,ka.isValidElementType(a)&&u.jsx(a,{})]}),C&&u.jsx(N,{muted:_,align:S,size:i,textOverflow:"ellipsis",weight:A.textWeight,children:C}),o&&u.jsxs(N,{size:i,children:[f.isValidElement(o)&&o,ka.isValidElementType(o)&&u.jsx(o,{})]})]})}),n&&u.jsx(L,{as:"span",...W,children:n})]})});$t.displayName="ForwardRef(Button)";function uZe(e){return[cZe(e),dZe(e)]}function cZe(e){const{$checkered:t}=e,{space:n}=Te(e.theme);return de`
    ${t&&de`
      background-size: ${n[3]}px ${n[3]}px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `}

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `}function dZe(e){var l;const{$checkered:t,$focusRing:n,$muted:r}=e,{card:i,color:a,style:o}=Te(e.theme),s={width:i.border.width,color:"var(--card-border-color)"};return de`
    color-scheme: ${a._dark?"dark":"light"};

    ${yn(a,a,t)}

    background-color: ${r?"var(--card-muted-bg-color)":"var(--card-bg-color)"};
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        ${yn(a,a.selectable.default.disabled,t)}
      }

      &:not(:disabled) {
        &[data-pressed] {
          ${yn(a,a.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${yn(a,a.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${yn(a,a.selectable.default.hovered,t)}
            }

            &:active {
              ${yn(a,a.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ll({base:a,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        ${yn(a,a.selectable.default.disabled,t)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${yn(a,a.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${yn(a,a.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${yn(a,a.selectable.default.hovered,t)}
            }

            &:active {
              ${yn(a,a.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ll({base:a,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    ${(l=o==null?void 0:o.card)==null?void 0:l.root}
  `}const fZe=$(L)(Iqe,Pf,kKe,uZe),ie=f.forwardRef(function(e,t){const{__unstable_checkered:n=!1,__unstable_focusRing:r=!1,as:i,border:a,borderTop:o,borderRight:s,borderBottom:l,borderLeft:c,muted:d,pressed:h,radius:p=0,scheme:m,selected:g,shadow:y,tone:v="default",...b}=e,x=ka.isValidElementType(i)?i:"div",w=Vv(),C=v==="inherit"?w.tone:v;return u.jsx(TV,{scheme:m,tone:C,children:u.jsx(fZe,{"data-as":typeof x=="string"?x:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...b,$border:Ae(a),$borderTop:Ae(o),$borderRight:Ae(s),$borderBottom:Ae(l),$borderLeft:Ae(c),$checkered:n,$focusRing:r,$muted:d,$radius:Ae(p),$shadow:Ae(y),$tone:C,"data-checkered":n?"":void 0,"data-pressed":h?"":void 0,"data-selected":g?"":void 0,forwardedAs:x,ref:t,selected:g})})});ie.displayName="ForwardRef(Card)";function hZe(){return de`
    position: relative;
    display: inline-block;
  `}function pZe(e){const{color:t,input:n,radius:r}=Te(e.theme),{focusRing:i}=n.checkbox;return de`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: ${Ce(n.checkbox.size)};
      width: ${Ce(n.checkbox.size)};
      box-sizing: border-box;
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};
      border-radius: ${Ce(r[2])};
      line-height: 1;
      background-color: ${t.input.default.enabled.bg};

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 1.5px !important;
        }
      }
    }

    &:checked + span {
      background: ${t.input.default.enabled.fg};
      box-shadow: ${_i({color:t.input.default.enabled.fg,width:n.border.width})};
      color: ${t.input.default.enabled.bg};
    }

    /* focus */
    &:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ll({focusRing:i})};
    }

    /* focus when checked - uses a different offset */
    &:not(:disabled):focus:focus-visible&:checked + span {
      box-shadow: ${Ll({focusRing:{width:1,offset:1}})};
    }

    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${_i({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      color: ${t.input.default.disabled.fg};
    }
    &[data-error]&:checked + span {
      background-color: ${t.input.invalid.enabled.muted.bg};
      color: ${t.input.default.enabled.bg};
    }
    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ll({border:{width:n.border.width,color:t.input.invalid.readOnly.muted.bg},focusRing:{width:1,offset:1}})};
    }

    &:disabled + span {
      background-color: ${t.input.default.disabled.bg};
      box-shadow: ${_i({width:n.border.width,color:t.input.default.disabled.border})};
      color: ${t.input.default.disabled.fg};
    }
    &:disabled&:checked + span {
      background-color: ${t.input.default.disabled.muted.bg};
    }

    &[data-read-only] + span {
      background-color: ${t.input.default.readOnly.bg};
      box-shadow: ${_i({width:n.border.width,color:t.input.default.readOnly.border})};
      color: ${t.input.default.readOnly.fg};
    }

    &[data-read-only]&:checked + span {
      background-color: ${t.input.default.readOnly.muted.bg};
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }
    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `}const mZe=$.div(hZe),gZe=$.input(pZe),$p=f.forwardRef(function(e,t){const{checked:n,className:r,disabled:i,indeterminate:a,customValidity:o,readOnly:s,style:l,...c}=e,d=f.useRef(null);return f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{d.current&&(d.current.indeterminate=a||!1)},[a]),mE(d,o),u.jsxs(mZe,{className:r,"data-ui":"Checkbox",style:l,children:[u.jsx(gZe,{"data-read-only":!i&&s?"":void 0,"data-error":o?"":void 0,...c,checked:n,disabled:i||s,type:"checkbox",readOnly:s,ref:d}),u.jsxs("span",{children:[u.jsx(_a,{}),u.jsx(I9,{})]})]})});$p.displayName="ForwardRef(Checkbox)";function yZe({theme:e}){const{color:{syntax:t}}=Te(e);return{"&.atrule":{color:t.atrule},"&.attr-name":{color:t.attrName},"&.attr-value":{color:t.attrValue},"&.attribute":{color:t.attribute},"&.boolean":{color:t.boolean},"&.builtin":{color:t.builtin},"&.cdata":{color:t.cdata},"&.char":{color:t.char},"&.class":{color:t.class},"&.class-name":{color:t.className},"&.comment":{color:t.comment},"&.constant":{color:t.constant},"&.deleted":{color:t.deleted},"&.doctype":{color:t.doctype},"&.entity":{color:t.entity},"&.function":{color:t.function},"&.hexcode":{color:t.hexcode},"&.id":{color:t.id},"&.important":{color:t.important},"&.inserted":{color:t.inserted},"&.keyword":{color:t.keyword},"&.number":{color:t.number},"&.operator":{color:t.operator},"&.prolog":{color:t.prolog},"&.property":{color:t.property},"&.pseudo-class":{color:t.pseudoClass},"&.pseudo-element":{color:t.pseudoElement},"&.punctuation":{color:t.punctuation},"&.regex":{color:t.regex},"&.selector":{color:t.selector},"&.string":{color:t.string},"&.symbol":{color:t.symbol},"&.tag":{color:t.tag},"&.unit":{color:t.unit},"&.url":{color:t.url},"&.variable":{color:t.variable}}}function vZe(){return de`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        ${yZe}
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const bZe=$.pre(vZe,XYe),mi=f.forwardRef(function(e,t){const{children:n,language:r,size:i=2,weight:a,...o}=e,s=typeof r=="string"?r:void 0,l=s?yg.hasLanguage(s):!1;return u.jsxs(bZe,{"data-ui":"Code",...o,$size:Ae(i),$weight:a,ref:t,children:[!(s&&l)&&u.jsx("code",{children:n}),s&&l&&u.jsx(yg,{inline:!0,language:s,value:String(n)})]})});mi.displayName="ForwardRef(Code)";const xZe={width:"100%",margin:"0 auto"};function wZe(){return xZe}function CZe(e){const{container:t,media:n}=Te(e.theme);return Pt(n,e.$width,r=>({maxWidth:r==="auto"?"none":Ce(t[r])}))}const SZe=$(L)(wZe,CZe),ui=f.forwardRef(function(e,t){const{as:n,width:r=2,...i}=e;return u.jsx(SZe,{"data-ui":"Container",...i,$width:Ae(r),forwardedAs:n,ref:t})});ui.displayName="ForwardRef(Container)";const EZe=$(L)(rKe),Gn=f.forwardRef(function(e,t){const{as:n,autoRows:r,autoCols:i,autoFlow:a,columns:o,gap:s,gapX:l,gapY:c,rows:d,children:h,...p}=e;return u.jsx(EZe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Grid",...p,$autoRows:Ae(r),$autoCols:Ae(i),$autoFlow:Ae(a),$columns:Ae(o),$gap:Ae(s),$gapX:Ae(l),$gapY:Ae(c),$rows:Ae(d),forwardedAs:n,ref:t,children:h})});Gn.displayName="ForwardRef(Grid)";function kZe(e){const{$accent:t,$muted:n}=e,{font:r}=Te(e.theme);return de`
    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.heading.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const _Ze=$.div(kZe,kV,JYe),TZe=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Gi=f.forwardRef(function(e,t){const{accent:n=!1,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"&&(d=u.jsx(TZe,{children:d})),u.jsx(_Ze,{"data-ui":"Heading",...c,$accent:n,$align:Ae(r),$muted:a,$size:Ae(o),$weight:l,ref:t,children:u.jsx("span",{children:d})})});Gi.displayName="ForwardRef(Heading)";function AZe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function jZe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$space,r=>{const i=Ce(r===.5?n[1]/2:n[r]);return{margin:`-${i} 0 0 -${i}`,"& > div":{padding:`${i} 0 0 ${i}`}}})}const IZe=$(L)(AZe,jZe),Rn=f.forwardRef(function(e,t){const{as:n,children:r,space:i,...a}=e,o=f.useMemo(()=>f.Children.map(r,s=>s&&u.jsx("div",{children:s})),[r]);return u.jsx(IZe,{"data-ui":"Inline",...a,$space:Ae(i),forwardedAs:n,ref:t,children:o})});Rn.displayName="ForwardRef(Inline)";function DZe(){return de`
    --card-bg-color: var(--card-kbd-bg-color);
    --card-border-color: var(--card-kbd-border-color);
    --card-fg-color: var(--card-kbd-fg-color);

    box-shadow: inset 0 0 0 1px var(--card-border-color);
    background: var(--card-bg-color);
    font: inherit;

    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  `}const MZe=$.kbd(Pf,DZe),gbe=f.forwardRef(function(e,t){const{children:n,fontSize:r=0,padding:i=1,radius:a=2,...o}=e;return u.jsx(MZe,{"data-ui":"KBD",...o,$radius:Ae(a),ref:t,children:u.jsx(L,{as:"span",padding:i,children:u.jsx(N,{as:"span",size:r,weight:"semibold",children:n})})})});gbe.displayName="ForwardRef(KBD)";const ybe={name:"@sanity/ui/origin",fn({middlewareData:e,placement:t,rects:n}){var h,p;const[r]=t.split("-"),i=n.floating.width,a=n.floating.height,o=((h=e.shift)==null?void 0:h.x)||0,s=((p=e.shift)==null?void 0:p.y)||0;if(i<=0||a<=0)return{};const l=["bottom","top"].includes(r),{originX:c,originY:d}=l?{originX:cJ(.5-o/i,0,1),originY:r==="bottom"?0:1}:{originX:r==="left"?1:0,originY:cJ(.5-s/a,0,1)};return{data:{originX:c,originY:d}}}};function cJ(e,t,n){return Math.min(Math.max(e,t),n)}function dJ(e,t,n){const r=t.x-e.x,i=t.y-e.y,a=Math.sqrt(r*r+i*i);return fN(e,t,Math.min(1,n/a))}function fN(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function RZe(e){const t=e.length,n=[];for(let r=0;r<t;r+=1){const i=e[r],a=e[r-1],o=e[r+1];if(a&&i.radius){const s=dJ(i,a,i.radius),l=dJ(i,o,i.radius),c=fN(s,i,.5),d=fN(i,l,.5);n.push({type:"point",...s}),n.push({type:"curve",curveEnd:l,startControl:c,endControl:d})}else n.push({type:"point",...i})}return n}function OZe(e){return e.map((t,n)=>t.type==="point"?`${n===0?"M":"L"} ${t.x} ${t.y}`:t.type==="curve"?`C ${t.startControl.x} ${t.startControl.y} ${t.endControl.x} ${t.endControl.y} ${t.curveEnd.x} ${t.curveEnd.y}`:"").join(" ")}const $Ze=$.div(({$w:e})=>de`
    position: absolute;
    width: ${e}px;
    height: ${e}px;

    :empty + & {
      display: none;
    }

    & > svg {
      display: block;
      line-height: 0;
      transform-origin: ${e/2}px ${e/2}px;
    }

    [data-placement^='top'] > & {
      bottom: -${e}px;

      & > svg {
        transform: rotate(0);
      }
    }

    [data-placement^='right'] > & {
      left: -${e}px;

      & > svg {
        transform: rotate(90deg);
      }
    }

    [data-placement^='left'] > & {
      right: -${e}px;

      & > svg {
        transform: rotate(-90deg);
      }
    }

    [data-placement^='bottom'] > & {
      top: -${e}px;

      & > svg {
        transform: rotate(180deg);
      }
    }
  `),PZe=$.path`
  stroke: var(--card-shadow-outline-color);
`,FZe=$.path`
  fill: var(--card-bg-color);
`,IV=f.forwardRef(function(e,t){const{width:n,height:r,radius:i=0,...a}=e,{card:o}=$f(),s=o.shadow.outline,l=n/2,c=[{x:0,y:0},{x:i,y:0,radius:i},{x:l,y:r-1,radius:i},{x:n-i,y:0,radius:i},{x:n,y:0}],d=RZe(c),h=OZe(d),p=`${h}`,m=`${h} M ${n} -1 M 0 -1 Z`;return u.jsx($Ze,{...a,$w:n,ref:t,children:u.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:[u.jsx("mask",{id:"stroke-mask",children:u.jsx("rect",{x:0,y:s,width:n,height:n,fill:"white"})}),u.jsx(PZe,{d:p,mask:"url(#stroke-mask)",strokeWidth:s*2}),u.jsx(FZe,{d:m})]})})});IV.displayName="ForwardRef(Arrow)";const vbe=Of("@sanity/ui/context/boundaryElement",null);function hf(e){const{children:t,element:n}=e,r=f.useMemo(()=>({version:0,element:n}),[n]);return u.jsx(vbe.Provider,{value:r,children:t})}hf.displayName="BoundaryElementProvider";function vE(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}const NZe={version:0,element:null};function l0(){const e=f.useContext(vbe);if(e&&(!vE(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||NZe}function NC({children:e,condition:t,wrapper:n}){return t?n(e):e}NC.displayName="ConditionalWrapper";function LZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function BZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const vD=f.forwardRef(function(e,t){const n=$f(),{children:r,media:i=n.media,...a}=e,o=f.useRef(null),[s,l]=f.useState(null),c=gE(s),d=f.useMemo(()=>(c==null?void 0:c.border.width)??window.innerWidth,[c]),h=f.useMemo(()=>LZe(i,d),[i,d]),p=f.useMemo(()=>BZe(i,d),[i,d]);f.useImperativeHandle(t,()=>o.current);const m=f.useCallback(g=>{o.current=g,l(g)},[]);return u.jsx("div",{"data-ui":"ElementQuery",...a,"data-eq-max":h.length?h.join(" "):void 0,"data-eq-min":p.length?p.join(" "):void 0,ref:m,children:r})});vD.displayName="ForwardRef(ElementQuery)";class Wv extends f.Component{constructor(){super(...arguments);Y(this,"state",{error:null})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n,r){this.props.onCatch({error:n,info:r})}render(){const{error:n}=this.state;if(n){const r=typeof(n==null?void 0:n.message)=="string"?n.message:"Error";return u.jsx(mi,{children:r})}return this.props.children}}function bbe(e){if(!vE(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const hN=Of("@sanity/ui/context/layer",null);function Ts(){const e=f.useContext(hN);if(!e)throw new Error("useLayer(): missing context value");try{return bbe(e)}catch(t){throw t instanceof Error?new Error(`useLayer(): ${t.message}`):new Error(`useLayer(): ${t}`)}}function pN(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function VZe(e){let t=null;const n=pN(()=>{t=pN(e)});return()=>{t&&t(),n()}}function zZe(e){return DV(e)||MV(e)}function Yc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function DV(e){return Yc(e)&&e.nodeName==="A"}function UZe(e){return Yc(e)&&e.nodeName==="INPUT"}function MV(e){return Yc(e)&&e.nodeName==="BUTTON"}function HZe(e){return Yc(e)&&e.nodeName==="SELECT"}function WZe(e){return Yc(e)&&e.nodeName==="TEXTAREA"}function mN(e,t){return e.contains(t)||e===t}function GZe(e){return!!document.activeElement&&e.contains(document.activeElement)}function YZe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:DV(e)?!!e.href&&e.rel!=="ignore":UZe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:MV(e)||HZe(e)||WZe(e)?!e.disabled:!1}function xbe(e){if(!YZe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Tg(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Yc(n)&&(xbe(n)||Tg(n)))return!0}return!1}function RV(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Yc(n)&&(xbe(n)||RV(n)))return!0}return!1}function qZe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Zl(e){const{children:t,zOffset:n=0}=e,r=f.useContext(hN),i=r&&bbe(r),a=i==null?void 0:i.registerChild,o=((i==null?void 0:i.level)??0)+1,s=Ae(n),l=s.length-1,c=Math.min(s0(),l),d=i?i.zIndex+s[c]:s[c],[,h]=f.useState({}),[p,m]=f.useState(0),g=p===0,y=f.useCallback(b=>{const x=a==null?void 0:a(b);return b!==void 0?h(w=>{const C=w[b]??0,S={...w,[b]:C+1};return m(Object.keys(S).length),S}):m(w=>w+1),()=>{b!==void 0?h(w=>{const C={...w};return C[b]===1?(delete C[b],m(Object.keys(C).length)):C[b]-=1,C}):m(w=>w-1),x==null||x()}},[a]);f.useEffect(()=>a==null?void 0:a(o),[o,a]);const v=f.useMemo(()=>({version:0,isTopLayer:g,level:o,registerChild:y,size:p,zIndex:d}),[g,o,y,p,d]);return u.jsx(hN.Provider,{value:v,children:t})}Zl.displayName="LayerProvider";const KZe=$.div({position:"relative"}),ZZe=f.forwardRef(function(e,t){const{children:n,onActivate:r,onFocus:i,style:a=rp,...o}=e,{zIndex:s,isTopLayer:l}=Ts(),c=f.useRef(null),d=f.useRef(null),h=f.useRef(l);f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{h.current!==l&&l&&(r==null||r({activeElement:c.current})),h.current=l},[l,r]);const p=f.useCallback(m=>{i==null||i(m);const g=d.current,y=document.activeElement;!l||!g||!y||Yc(y)&&mN(g,y)&&(c.current=y)},[l,i]);return u.jsx(KZe,{...o,"data-ui":"Layer",onFocus:p,ref:d,style:{...a,zIndex:s},children:n})}),qo=f.forwardRef(function(e,t){const{children:n,zOffset:r=1,...i}=e;return u.jsx(Zl,{zOffset:r,children:u.jsx(ZZe,{...i,ref:t,children:n})})});qo.displayName="ForwardRef(Layer)";const wbe="@sanity/ui/context/portal",o1=Symbol.for(`${wbe}/element`);Rd[o1]=null;const XZe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Rd[o1]||(Rd[o1]=document.createElement("div"),Rd[o1].setAttribute("data-portal",""),document.body.appendChild(Rd[o1])),Rd[o1])}},Cbe=Of(wbe,XZe);function Ff(){const e=f.useContext(Cbe);if(!e)throw new Error("usePortal(): missing context value");if(!vE(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function Pp(e){var a;const{children:t,__unstable_name:n}=e,r=Ff(),i=(n?r.elements&&r.elements[n]:r.element)||((a=r.elements)==null?void 0:a.default);return i?xc.createPortal(t,i):null}Pp.displayName="Portal";function Gv(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:i}=e,a=QZe(i),o=f.useSyncExternalStore(JZe,()=>document.body,()=>null),s=f.useMemo(()=>({version:0,boundaryElement:t||null,element:r||o,elements:a}),[t,r,a,o]);return u.jsx(Cbe.Provider,{value:s,children:n})}Gv.displayName="PortalProvider";const JZe=()=>()=>{};function QZe(e){const t=f.useRef(e);return eXe(t.current,e)||(t.current=e),t.current}function eXe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>e[i]===t[i])}const tXe=$.div`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`,nXe=f.forwardRef(function(e,t){const{as:n,children:r}=e;return u.jsx(tXe,{"aria-hidden":!0,as:n,"data-ui":"SrOnly",ref:t,children:r})});nXe.displayName="ForwardRef(SrOnly)";const rXe=$.div`
  position: relative;
`,fJ=$.div`
  position: absolute;
  left: 0;
  right: 0;
`,iXe=f.forwardRef(function(e,t){const{as:n="div",gap:r=0,getItemKey:i,items:a=[],onChange:o,renderItem:s,...l}=e,{space:c}=$f(),d=f.useRef(null),h=f.useRef(null),[p,m]=f.useState(0),[g,y]=f.useState(0),[v,b]=f.useState(-1);f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{if(!h.current)return;const _=h.current.firstChild;_ instanceof HTMLElement&&b(_.offsetHeight)},[s]),f.useEffect(()=>{if(!d.current)return;let _=d.current.parentNode;for(;_&&!qZe(_);)_=_.parentNode;if(_){const A=_;if(!(A instanceof HTMLElement))return;const I=()=>{m(A.scrollTop)};A.addEventListener("scroll",I,{passive:!0});const M=new lbe(D=>{y(D[0].contentRect.height)});return M.observe(A),I(),()=>{A.removeEventListener("scroll",I),M.unobserve(A),M.disconnect()}}const T=()=>{m(window.scrollY)},j=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",j),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",j)}},[]);const x=a.length,w=v?x*(v+c[r])-c[r]:0,C=w?Math.max(Math.floor(p/w*x)-2,0):0,S=w?Math.ceil((p+g)/w*x)+1:0;f.useEffect(()=>{o&&o({fromIndex:C,gap:c[r],itemHeight:v,scrollHeight:g,scrollTop:p,toIndex:S})},[C,r,v,o,g,p,c,S]);const E=f.useMemo(()=>!s||a.length===0?null:v===-1?[u.jsx(fJ,{children:s(a[0])},0)]:a.slice(C,S).map((_,T)=>{const j=C+T,A=s(_),I=i?i(_,j):j;return u.jsx(fJ,{style:{top:j*(v+c[r])},children:A},I)}),[C,r,i,v,a,s,c,S]),k=f.useMemo(()=>({height:w}),[w]);return u.jsx(rXe,{as:n,"data-ui":"VirtualList",...l,ref:d,children:u.jsx("div",{ref:h,style:k,children:E})})});iXe.displayName="ForwardRef(VirtualList)";const aXe=4,s1=4,oXe=19,sXe=8,lXe=2,Sbe=[0,0,0,0],uXe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function cXe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(i){const{elements:a,placement:o,platform:s,rects:l}=i,{floating:c,reference:d}=l,h=await fVe(i,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const g=c.width,y=c.height;o.includes("top")&&(p=g-(h.left+h.right),m=y-h.top),o.includes("right")&&(p=g-h.right,m=y-(h.top+h.bottom)),o.includes("bottom")&&(p=g-(h.left+h.right),m=y-h.bottom),o.includes("left")&&(p=g-h.left,m=y-(h.top+h.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:a,referenceWidth:d.width-n[1]-n[3]});const v=await s.getDimensions(a.floating),b=v.height,x=v.width;return g!==x||y!==b?{reset:{rects:!0}}:{}}}}function dXe(e){const{container:t,mediaIndex:n,width:r}=e,i=r[n],a=i===void 0?r[r.length-1]:i;return typeof a=="number"?t[a]:void 0}function fXe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-s1*2)}const hXe=$(Mi(ie))`
  &:not([hidden]) {
    display: flex;
  }
  flex-direction: column;
  width: max-content;
  min-width: min-content;
  & > * {
    opacity: var(${Oc}, 1);
    will-change: opacity;
  }
`,Ebe=f.memo(f.forwardRef(function(e,t){const{__unstable_margins:n,animate:r,arrow:i,arrowRef:a,arrowX:o,arrowY:s,children:l,padding:c,placement:d,originX:h,originY:p,overflow:m,radius:g,scheme:y,shadow:v,strategy:b,style:x,tone:w,width:C,x:S,y:E,...k}=e,{zIndex:_}=Ts(),T=f.useMemo(()=>n||Sbe,[n]),j=(S??0)+T[3],A=(E??0)+T[0],I=f.useMemo(()=>({left:j,originX:h,originY:p,position:b,top:A,width:C,zIndex:_,willChange:r?"transform":void 0,...x}),[r,h,p,b,x,C,j,A,_]),M=f.useMemo(()=>({left:o!==null?o:void 0,top:s!==null?s:void 0,right:void 0,bottom:void 0}),[o,s]);return u.jsxs(hXe,{"data-ui":"Popover",...k,"data-placement":d,radius:g,ref:t,scheme:y,shadow:v,sizing:"border",style:I,tone:w,...r?tbe:{},children:[u.jsx(z,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:m,children:u.jsx(z,{direction:"column",flex:1,padding:c,children:l})}),i&&u.jsx(IV,{ref:a,style:M,width:oXe,height:sXe,radius:lXe})]})}));Ebe.displayName="Memo(ForwardRef(PopoverCard))";const Fp=f.memo(f.forwardRef(function(e,t){var Oe,qe,nt,_t,wn,We;const{container:n,layer:r}=$f(),i=l0(),{__unstable_margins:a=Sbe,animate:o=!1,arrow:s=!1,boundaryElement:l=i.element,children:c,constrainSize:d=!1,content:h,disabled:p,fallbackPlacements:m=e.fallbackPlacements??uXe[e.placement??"bottom"],matchReferenceWidth:g,floatingBoundary:y=e.boundaryElement??i.element,onActivate:v,open:b,overflow:x="hidden",padding:w,placement:C="bottom",portal:S,preventOverflow:E=!0,radius:k=3,referenceBoundary:_=e.boundaryElement??i.element,referenceElement:T,scheme:j,shadow:A=3,tone:I="inherit",width:M="auto",zOffset:D=r.popover.zOffset,updateRef:O,...R}=e,F=yD()?!1:o,P=(Oe=gE(l))==null?void 0:Oe.border,V=Ae(w),U=Ae(k),H=Ae(A),W=Ae(M),Z=Ae(D),J=f.useRef(null),re=f.useRef(null),G="viewport";f.useImperativeHandle(t,()=>J.current);const te=s0(),X=d||E?P==null?void 0:P.width:void 0,K=dXe({container:n,mediaIndex:te,width:W}),Q=f.useRef(K);f.useEffect(()=>{Q.current=K},[K]);const ee=fXe({boundaryWidth:X,currentWidth:K}),se=f.useRef(ee);f.useEffect(()=>{se.current=ee},[ee]);const le=f.useRef();f.useEffect(()=>{const yt=J.current;if(!b||!yt)return;const Pn=le.current;g?Pn!==void 0&&(yt.style.width=`${Pn}px`):K!==void 0&&(yt.style.width=`${K}px`),typeof ee=="number"&&(yt.style.maxWidth=`${ee}px`)},[K,g,ee,b]);const oe=f.useMemo(()=>{const yt=[];return(d||E)&&yt.push($ye({boundary:y||void 0,fallbackPlacements:m,padding:s1,rootBoundary:G})),yt.push(Rye({mainAxis:aXe})),(d||g)&&yt.push(cXe({apply({availableWidth:Pn,availableHeight:Ei,elements:on,referenceWidth:br}){le.current=br;const Ke=Q.current,Bt=se.current;g?on.floating.style.width=`${br}px`:Ke!==void 0&&(on.floating.style.width=`${Ke}px`),d&&(on.floating.style.maxWidth=`${Math.min(Pn,Bt??1/0)}px`,on.floating.style.maxHeight=`${Ei}px`)},boundaryElement:y||void 0,constrainSize:d,margins:a,matchReferenceWidth:g,padding:s1})),E&&yt.push(Oye({boundary:y||void 0,rootBoundary:G,padding:s1})),s&&yt.push(Pye({element:re,padding:s1})),F&&yt.push(ybe),yt.push(EUe({boundary:_||void 0,padding:s1,strategy:"referenceHidden"})),yt},[F,s,d,m,y,a,g,E,_]),{x:ue,y:ye,middlewareData:Ee,placement:ke,refs:ge,strategy:je,update:Ve}=Mye({middleware:oe,placement:C,whileElementsMounted:j0e}),xe=(qe=Ee.hide)==null?void 0:qe.referenceHidden,me=(nt=Ee.arrow)==null?void 0:nt.x,Se=(_t=Ee.arrow)==null?void 0:_t.y,ve=(wn=Ee["@sanity/ui/origin"])==null?void 0:wn.originX,_e=(We=Ee["@sanity/ui/origin"])==null?void 0:We.originY,Ze=f.useCallback(yt=>{re.current=yt},[]),Je=f.useCallback(yt=>{J.current=yt,ge.setFloating(yt)},[ge]),ot=f.useCallback(yt=>{ge.setReference(yt);const Pn=c==null?void 0:c.ref;typeof Pn=="function"?Pn(yt):Pn&&(Pn.current=yt)},[c,ge]),$e=f.useMemo(()=>!c||T?null:f.cloneElement(c,{ref:ot}),[c,T,ot]);if(f.useEffect(()=>{O&&(typeof O=="function"?O(Ve):O&&(O.current=Ve))},[Ve,O]),f.useEffect(()=>{$e||ge.setReference(T||null)},[T,ge,$e]),p)return c||u.jsx(u.Fragment,{});const Le=u.jsx(Zl,{zOffset:Z,children:u.jsx(Ebe,{...R,__unstable_margins:a,animate:F,arrow:s,arrowRef:Ze,arrowX:me,arrowY:Se,hidden:xe,overflow:x,padding:V,placement:ke,radius:U,ref:Je,scheme:j,shadow:H,originX:ve,originY:_e,strategy:je,tone:I,width:g?le.current:K,x:ue,y:ye,children:h})});return u.jsxs(u.Fragment,{children:[u.jsx(NC,{condition:F,wrapper:yt=>u.jsx(sl,{children:yt}),children:b&&u.jsx(NC,{condition:!!S,wrapper:yt=>u.jsx(Pp,{__unstable_name:typeof S=="string"?S:void 0,children:yt}),children:Le})}),$e]})}));Fp.displayName="Memo(ForwardRef(Popover))";function pXe(){return de`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `}function mXe(e){const{color:t,input:n}=Te(e.theme),r=(n.radio.size-n.radio.markSize)/2;return de`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: ${Ce(n.radio.size/2)};
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: ${Ce(n.radio.size)};
      width: ${Ce(n.radio.size)};
      border-radius: ${Ce(n.radio.size/2)};
      background: ${t.input.default.enabled.bg};
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};

      &::after {
        content: '';
        position: absolute;
        top: ${Ce(r)};
        left: ${Ce(r)};
        height: ${Ce(n.radio.markSize)};
        width: ${Ce(n.radio.markSize)};
        border-radius: ${Ce(n.radio.markSize/2)};
        background: ${t.input.default.enabled.fg};
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: ${Ll({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.radio.focusRing})};
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* customValidity */
    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${_i({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      &::after {
        background: ${t.input.invalid.enabled.muted.bg};
      }
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px ${t.input.default.readOnly.border};
      background: ${t.input.default.readOnly.bg};

      &::after {
        background: ${t.input.default.readOnly.border};
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px ${t.input.default.disabled.border};
      background: ${t.input.default.disabled.bg};

      &::after {
        background: ${t.input.default.disabled.border};
      }
    }
  `}const gXe=$.div(pXe),yXe=$.input(mXe),kbe=f.forwardRef(function(e,t){const{className:n,disabled:r,style:i,customValidity:a,readOnly:o,...s}=e,l=f.useRef(null);return f.useImperativeHandle(t,()=>l.current),mE(l,a),u.jsxs(gXe,{className:n,"data-ui":"Radio",style:i,children:[u.jsx(yXe,{"data-read-only":!r&&o?"":void 0,"data-error":a?"":void 0,...s,disabled:r||o,readOnly:o,ref:l,type:"radio"}),u.jsx("span",{})]})});kbe.displayName="ForwardRef(Radio)";function vXe(){return de`
    position: relative;
    width: -moz-available;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `}function bXe(e){const{font:t}=Te(e.theme);return de`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: ${t.text.family};
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `}function xXe(e){const{color:t,input:n}=Te(e.theme);return de`
    /* enabled */
    background-color: ${t.input.default.enabled.bg};
    color: ${t.input.default.enabled.fg};
    box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: ${t.input.default.hovered.bg};
        color: ${t.input.default.hovered.fg};
        box-shadow: ${_i({color:t.input.default.hovered.border,width:n.border.width})};
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: ${Ll({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.select.focusRing})};
    }

    /* read-only */
    &[data-read-only] {
      background-color: ${t.input.default.readOnly.bg};
      color: ${t.input.default.readOnly.fg};
      box-shadow: ${_i({color:t.input.default.readOnly.border,width:n.border.width})};
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: ${t.input.default.disabled.bg};
      color: ${t.input.default.disabled.fg};
      box-shadow: ${_i({color:t.input.default.disabled.border,width:n.border.width})};
    }
  `}function wXe(e){return{fontSize:Ce(e.fontSize),lineHeight:Ce(e.lineHeight)}}function CXe(e){const{$fontSize:t}=e,{font:n,media:r}=Te(e.theme);return Pt(r,t,i=>wXe(n.text.sizes[i]||n.text.sizes[2]))}function SXe(){return[Pf,bXe,xXe,CXe,wKe]}function EXe(e){const{color:t}=Te(e.theme);return de`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: ${t.input.default.enabled.fg};

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: ${t.input.default.hovered.fg};
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: ${t.input.default.disabled.fg};
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: ${t.input.default.readOnly.fg};
    }
  `}const OV={root:vXe,input:SXe,iconBox:EXe},kXe=$.div(OV.root),_Xe=$.select(OV.input),TXe=$(L)(OV.iconBox),Xl=f.forwardRef(function(e,t){const{children:n,customValidity:r,disabled:i,fontSize:a=2,padding:o=3,radius:s=2,readOnly:l,space:c=3,...d}=e,h=f.useRef(null);return f.useImperativeHandle(t,()=>h.current),mE(h,r),u.jsxs(kXe,{"data-ui":"Select",children:[u.jsx(_Xe,{"data-read-only":!i&&l?"":void 0,"data-ui":"Select",...d,$fontSize:Ae(a),$padding:Ae(o),$radius:Ae(s),$space:Ae(c),disabled:i||l,ref:h,children:n}),u.jsx(TXe,{padding:o,children:u.jsx(N,{size:a,children:u.jsx(Di,{})})})]})});Xl.displayName="ForwardRef(Select)";const AXe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function jXe(){return AXe}function IXe(e){const{media:t,space:n}=Te(e.theme);return Pt(t,e.$space,r=>({gridGap:Ce(n[r])}))}const DXe=$(L)(jXe,IXe),ne=f.forwardRef(function(e,t){const{as:n,space:r,...i}=e;return u.jsx(DXe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Stack",...i,$space:Ae(r),forwardedAs:n,ref:t})});ne.displayName="ForwardRef(Stack)";function MXe(){return de`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `}function RXe(){return de`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `}function OXe(e){const{color:t,input:n}=Te(e.theme);return de`
    --switch-bg-color: ${t.input.default.enabled.border};
    --switch-fg-color: ${t.input.default.enabled.bg};
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: ${Ce(n.switch.width)};
    height: ${Ce(n.switch.height)};
    border-radius: ${Ce(n.switch.height/2)};

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: ${Ll({focusRing:n.switch.focusRing})};
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: ${t.input.default.enabled.fg};
      --switch-fg-color: ${t.input.default.enabled.bg};
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: ${t.input.default.hovered.border};
        --switch-fg-color: ${t.input.default.hovered.bg};
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: ${t.input.default.enabled.fg};
        --switch-fg-color: ${t.input.default.enabled.bg};
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: ${t.input.default.disabled.border};
      --switch-fg-color: ${t.input.default.disabled.bg};
    }

    input[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.border};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }

    input:checked[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.fg};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }
  `}function $Xe(e){const{input:t}=Te(e.theme);return de`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: ${Ce(t.switch.width)};
    height: ${Ce(t.switch.height)};
    border-radius: ${Ce(t.switch.height/2)};
  `}function PXe(e){const{$indeterminate:t}=e,{input:n}=Te(e.theme),r=n.switch.width,i=n.switch.height,a=n.switch.padding,o=i-n.switch.padding*2,s=r-a*2-o,l=r/2-o/2-a,c=t!==!0&&e.$checked===!0;return de`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: ${Ce(a)};
    top: ${Ce(a)};
    height: ${Ce(o)};
    width: ${Ce(o)};
    border-radius: ${Ce(o/2)};
    transition-property: transform;
    transition-duration: ${n.switch.transitionDurationMs}ms;
    transition-timing-function: ${n.switch.transitionTimingFunction};
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);
    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);

    ${c&&de`
      transform: translate3d(${s}px, 0, 0);
    `}

    ${t&&de`
      transform: translate3d(${l}px, 0, 0);
    `}
  `}const FXe=$.span(MXe),NXe=$.input(RXe),LXe=$.span(OXe),BXe=$.span($Xe),VXe=$.span(PXe),bD=f.forwardRef(function(e,t){const{checked:n,className:r,disabled:i,indeterminate:a,readOnly:o,style:s,...l}=e,c=f.useRef(null);return f.useImperativeHandle(t,()=>c.current),f.useEffect(()=>{c.current&&(c.current.indeterminate=a||!1)},[a]),u.jsxs(FXe,{className:r,"data-ui":"Switch",style:s,children:[u.jsx(NXe,{"data-read-only":!i&&o?"":void 0,...l,checked:a!==!0&&n,disabled:i||o,type:"checkbox",ref:c}),u.jsxs(LXe,{"aria-hidden":!0,"data-name":"representation",children:[u.jsx(BXe,{}),u.jsx(VXe,{$checked:n,$indeterminate:a})]})]})});bD.displayName="ForwardRef(Switch)";const zXe=$.span(dbe),UXe=$.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,HXe=$.textarea(AV,fbe,hbe),WXe=$.div(Pf,pbe),_be=f.forwardRef(function(e,t){const{border:n=!0,customValidity:r,disabled:i=!1,fontSize:a=2,padding:o=3,radius:s=2,weight:l,__unstable_disableFocusRing:c,...d}=e,h=f.useRef(null),p=Vv();return f.useImperativeHandle(t,()=>h.current),mE(h,r),u.jsx(zXe,{"data-ui":"TextArea",children:u.jsxs(UXe,{children:[u.jsx(HXe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:Ae(a),$padding:Ae(o),$scheme:p.scheme,$space:Ae(0),$tone:p.tone,$weight:l,disabled:i,ref:h}),u.jsx(WXe,{$radius:Ae(s),$unstableDisableFocusRing:c,$scheme:p.scheme,$tone:p.tone,"data-border":n?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});_be.displayName="ForwardRef(TextArea)";const GXe={zIndex:2},YXe=$(ie).attrs({forwardedAs:"span"})(dbe),qXe=$.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,KXe=$(ie).attrs({forwardedAs:"span"})`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,ZXe=$(ie).attrs({forwardedAs:"span"})`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,XXe=$.input(AV,fbe,hbe),JXe=$.span(Pf,pbe),QXe=$(L)`
  position: absolute;
  top: 0;
  left: 0;
`,eJe=$(L)`
  position: absolute;
  top: 0;
  right: 0;
`,tJe=$(ie)`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`,nJe=$($t)({"&:not([hidden])":{display:"block"}}),Lr=f.forwardRef(function(e,t){const{__unstable_disableFocusRing:n,border:r=!0,clearButton:i,disabled:a=!1,fontSize:o=2,icon:s,iconRight:l,onClear:c,padding:d=3,prefix:h,radius:p=2,readOnly:m,space:g=3,suffix:y,customValidity:v,type:b="text",weight:x,...w}=e,C=f.useRef(null),S=Vv(),E=Ae(o),k=Ae(d),_=Ae(p),T=Ae(g),j=!!i,A=!!s,I=!!l,M=!!y,D=!!h;f.useImperativeHandle(t,()=>C.current),mE(C,v);const O=f.useCallback(J=>{J.preventDefault(),J.stopPropagation()},[]),R=f.useCallback(J=>{var re;J.preventDefault(),J.stopPropagation(),c&&c(),(re=C.current)==null||re.focus()},[c,C]),F=f.useMemo(()=>h&&u.jsx(KXe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:_,sizing:"border",tone:"inherit",children:u.jsx("span",{children:h})}),[h,_]),P=f.useMemo(()=>u.jsxs(JXe,{$hasPrefix:D,$unstableDisableFocusRing:n,$hasSuffix:M,$radius:_,$scheme:S.scheme,$tone:S.tone,"data-border":r?"":void 0,"data-scheme":S.scheme,"data-tone":S.tone,children:[s&&u.jsx(QXe,{padding:k,children:u.jsxs(N,{size:E,children:[f.isValidElement(s)&&s,ka.isValidElementType(s)&&u.jsx(s,{})]})}),!j&&l&&u.jsx(eJe,{padding:k,children:u.jsxs(N,{size:E,children:[f.isValidElement(l)&&l,ka.isValidElementType(l)&&u.jsx(l,{})]})})]}),[n,r,E,s,l,k,_,S,j,D,M]),V=f.useMemo(()=>k.map(J=>J===0?0:J===1||J===2?1:J-2),[k]),U=f.useMemo(()=>k.map(J=>J===0||J===1?0:J===2?1:J-1),[k]),H=f.useMemo(()=>typeof i=="object"?i:rp,[i]),W=f.useMemo(()=>!a&&!m&&i&&u.jsx(tJe,{forwardedAs:"span",padding:V,style:GXe,tone:v?"critical":"inherit",children:u.jsx(nJe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:E,icon:Nr,mode:"bleed",padding:U,radius:_,...H,onClick:R,onMouseDown:O})}),[i,V,U,H,v,a,E,R,O,_,m]),Z=f.useMemo(()=>y&&u.jsx(ZXe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:_,sizing:"border",tone:"inherit",children:u.jsx("span",{children:y})}),[_,y]);return u.jsxs(YXe,{"data-ui":"TextInput",tone:S.tone,children:[F,u.jsxs(qXe,{children:[u.jsx(XXe,{"data-as":"input","data-scheme":S.scheme,"data-tone":S.tone,...w,$fontSize:E,$iconLeft:A,$iconRight:I||j,$padding:k,$scheme:S.scheme,$space:T,$tone:S.tone,$weight:x,disabled:a,readOnly:m,ref:C,type:b}),P,W]}),Z]})});Lr.displayName="ForwardRef(TextInput)";function gN(e){const[t,n]=f.useState(e),r=f.useRef(),i=f.useCallback((a,o)=>{const s=()=>{n(a)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!o)return s();r.current=setTimeout(s,o)},[]);return[t,i]}const rJe=15,iJe=6,aJe=2,oJe=4,b2=4,sJe={top:["top-end","top-start","bottom","left","right"],"top-start":["top","top-end","bottom-start","left-start","right-start"],"top-end":["top","top-start","bottom-end","left-end","right-end"],bottom:["bottom-end","bottom-start","top","left","right"],"bottom-start":["bottom","bottom-end","top-start","left-start","right-start"],"bottom-end":["bottom","bottom-start","top-end","left-end","right-end"],left:["left-end","left-start","right","top","bottom"],"left-start":["left","left-end","right-start","top-start","bottom-start"],"left-end":["left","left-start","right-end","top-end","bottom-end"],right:["right-end","right-start","left","top","bottom"],"right-start":["right","right-end","left-start","top-start","bottom-start"],"right-end":["right","right-start","left-end","top-end","bottom-end"]},lJe=$(Mi(ie))`
  & > * {
    opacity: var(${Oc}, 1);
    will-change: opacity;
  }
`,Tbe=f.memo(f.forwardRef(function(e,t){const{animate:n,arrow:r,arrowRef:i,arrowX:a,arrowY:o,children:s,originX:l,originY:c,padding:d,placement:h,radius:p,scheme:m,shadow:g,style:y,...v}=e,b=f.useMemo(()=>({originX:l,originY:c,willChange:n?"transform":void 0,...y}),[n,l,c,y]),x=f.useMemo(()=>({left:a!==null?a:void 0,top:o!==null?o:void 0,right:void 0,bottom:void 0}),[a,o]);return u.jsxs(lJe,{"data-ui":"Tooltip__card",...v,"data-placement":h,padding:d,radius:p,ref:t,scheme:m,shadow:g,style:b,...n?tbe:{},children:[s,r&&u.jsx(IV,{ref:i,style:x,width:rJe,height:iJe,radius:aJe})]})}));Tbe.displayName="Memo(ForwardRef(TooltipCard))";const Abe=Of("@sanity/ui/context/tooltipDelayGroup",null);function uJe(){return f.useContext(Abe)}function jbe(e){const{children:t,delay:n}=e,[r,i]=gN(!1),[a,o]=gN(null),s=typeof n=="number"?n:(n==null?void 0:n.open)||0,l=typeof n=="number"?n:(n==null?void 0:n.close)||0,c=f.useMemo(()=>({isGroupActive:r,setIsGroupActive:i,openTooltipId:a,setOpenTooltipId:o,openDelay:r?1:s,closeDelay:l}),[l,r,s,a,i,o]);return u.jsx(Abe.Provider,{value:c,children:t})}jbe.displayName="TooltipDelayGroupProvider";const cJe=$(qo)`
  pointer-events: none;
`,nA=f.forwardRef(function(e,t){var Ze,Je,ot,$e,Le;const n=l0(),{layer:r}=$f(),{animate:i=!1,arrow:a=!1,boundaryElement:o=n==null?void 0:n.element,children:s,content:l,disabled:c,fallbackPlacements:d=e.fallbackPlacements??sJe[e.placement??"bottom"],padding:h=2,placement:p="bottom",portal:m,radius:g=2,scheme:y,shadow:v=2,zOffset:b=r.tooltip.zOffset,delay:x,...w}=e,C=yD()?!1:i,S=Ae(d),E=f.useRef(null),[k,_]=f.useState(null),T=f.useRef(null),j="viewport",[A,I]=f.useState(0);f.useImperativeHandle(t,()=>E.current);const M=Ff(),D=typeof m=="string"?((Ze=M.elements)==null?void 0:Ze[m])||null:M.element,O=f.useMemo(()=>{const Oe=[];return Oe.push($ye({boundary:o||void 0,fallbackPlacements:S,padding:b2,rootBoundary:j})),Oe.push(Rye({mainAxis:oJe})),Oe.push(Oye({boundary:o||void 0,rootBoundary:j,padding:b2})),a&&Oe.push(Pye({element:T,padding:b2})),C&&Oe.push(ybe),Oe},[C,a,o,S]),{floatingStyles:R,placement:F,middlewareData:P,refs:V,update:U}=Mye({middleware:O,placement:p,whileElementsMounted:j0e}),H=(Je=P.arrow)==null?void 0:Je.x,W=(ot=P.arrow)==null?void 0:ot.y,Z=($e=P["@sanity/ui/origin"])==null?void 0:$e.originX,J=(Le=P["@sanity/ui/origin"])==null?void 0:Le.originY,re=f.useId(),[G,te]=gN(!1),X=uJe(),K=G||(X==null?void 0:X.openTooltipId)===re,Q=X!==null,ee=typeof x=="number"?x:(x==null?void 0:x.open)||0,se=typeof x=="number"?x:(x==null?void 0:x.close)||0,le=Q?X.openDelay:ee,oe=Q?X.closeDelay:se,ue=f.useCallback((Oe,qe)=>{if(Q)if(Oe){const nt=qe?0:le;X.setIsGroupActive(Oe,nt),X.setOpenTooltipId(re,nt)}else{const nt=oe>200?oe:200;X.setIsGroupActive(Oe,nt),X.setOpenTooltipId(null,qe?0:oe)}else te(Oe,qe?0:Oe?le:oe)},[Q,X,le,re,oe,te]),ye=f.useCallback(Oe=>{var qe,nt;ue(!1),(nt=(qe=s==null?void 0:s.props)==null?void 0:qe.onBlur)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]),Ee=f.useCallback(Oe=>{var qe,nt;ue(!1,!0),(nt=s==null?void 0:(qe=s.props).onClick)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]),ke=f.useCallback(Oe=>{var qe,nt;ue(!1,!0),(nt=s==null?void 0:(qe=s.props).onContextMenu)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]),ge=f.useCallback(Oe=>{var qe,nt;ue(!0),(nt=(qe=s==null?void 0:s.props)==null?void 0:qe.onFocus)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]),je=f.useCallback(Oe=>{var qe,nt;ue(!0),(nt=(qe=s==null?void 0:s.props)==null?void 0:qe.onMouseEnter)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]),Ve=f.useCallback(Oe=>{var qe,nt;ue(!1),(nt=(qe=s==null?void 0:s.props)==null?void 0:qe.onMouseLeave)==null||nt.call(qe,Oe)},[s==null?void 0:s.props,ue]);dJe({handleIsOpenChange:ue,referenceElement:k,showTooltip:K}),f.useEffect(()=>{c&&K&&ue(!1)},[c,ue,K]),f.useEffect(()=>{!l&&K&&ue(!1)},[l,ue,K]),f.useEffect(()=>V.setReference(k),[k,V]),f.useEffect(()=>{if(!K)return;function Oe(qe){qe.key==="Escape"&&ue(!1,!0)}return window.addEventListener("keydown",Oe),()=>{window.removeEventListener("keydown",Oe)}},[ue,K]),f.useLayoutEffect(()=>{const Oe=[...o?[o.offsetWidth]:[],(D==null?void 0:D.offsetWidth)||document.body.offsetWidth];I(Math.min(...Oe)-b2*2)},[o,D]);const xe=f.useCallback(Oe=>{T.current=Oe,U()},[U]),me=f.useCallback(Oe=>{E.current=Oe,V.setFloating(Oe)},[V]),Se=f.useRef(null);f.useImperativeHandle(s==null?void 0:s.ref,()=>Se.current);const ve=f.useMemo(()=>s?f.cloneElement(s,{onBlur:ye,onFocus:ge,onMouseEnter:je,onMouseLeave:Ve,onClick:Ee,onContextMenu:ke,ref:Se}):null,[s,ye,Ee,ke,ge,je,Ve]);if(f.useEffect(()=>{if(ve)return _(Se.current),()=>_(null)},[ve]),!ve)return u.jsx(u.Fragment,{});if(c)return ve;const _e=u.jsx(cJe,{"data-ui":"Tooltip",...w,ref:me,style:{...R,maxWidth:A>0?`${A}px`:void 0},zOffset:b,children:u.jsx(Tbe,{...w,animate:C,arrow:a,arrowRef:xe,arrowX:H,arrowY:W,originX:Z,originY:J,padding:h,placement:F,radius:g,ref:me,scheme:y,shadow:v,children:l})});return u.jsxs(u.Fragment,{children:[u.jsx(NC,{condition:C,wrapper:Oe=>u.jsx(sl,{children:Oe}),children:K&&u.jsx(NC,{condition:!!m,wrapper:Oe=>u.jsx(Pp,{__unstable_name:typeof m=="string"?m:void 0,children:Oe}),children:_e})}),ve]})});nA.displayName="ForwardRef(Tooltip)";function dJe({handleIsOpenChange:e,referenceElement:t,showTooltip:n}){const r=SV((i,a)=>{t&&(t===i||i instanceof Node&&t.contains(i)||(e(!1),a()))});f.useEffect(()=>{if(!n)return;const i=a=>{r(a.target,()=>window.removeEventListener("mousemove",i))};return window.addEventListener("mousemove",i),()=>window.removeEventListener("mousemove",i)},[r,n])}const fJe=$.div`
  line-height: 0;
`,hJe=$(L)`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`,pJe=Tp`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,mJe=$(Ov)`
  animation: ${pJe} 500ms linear infinite;
`;function gJe(e){const{children:t,id:n,onSelect:r,selected:i,value:a}=e,o=f.useCallback(()=>{setTimeout(()=>{r(a)},0)},[r,a]),s=f.useCallback(l=>{l.key==="Enter"&&!zZe(l.currentTarget)&&o()},[o]);return u.jsx("li",{"aria-selected":i,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:o,onKeyDown:s,children:t})}function yJe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const vJe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],bJe="bottom-start",xJe=["bottom-start","top-start"],wJe=(e,t)=>t?t.value:e,CJe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Ibe=f.forwardRef(function(e,t){const{border:n=!0,customValidity:r,disabled:i,filterOption:a,fontSize:o=2,icon:s,id:l,listBox:c=rp,loading:d,onBlur:h,onChange:p,onFocus:m,onQueryChange:g,onSelect:y,openButton:v,openOnFocus:b,options:x,padding:w=3,popover:C=rp,prefix:S,radius:E=2,readOnly:k,relatedElements:_,renderOption:T,renderPopover:j,renderValue:A=wJe,suffix:I,value:M,...D}=e,[O,R]=f.useReducer(yJe,{activeValue:M||null,focused:!1,listFocused:!1,query:null,value:M||null}),{activeValue:F,focused:P,listFocused:V,query:U,value:H}=O,W=f.useCallback(({value:Ke})=>u.jsx(ie,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:u.jsx(N,{size:o,textOverflow:"ellipsis",children:Ke})}),[o,w]),Z=typeof T=="function"?T:W,J=typeof a=="function"?a:CJe,re=f.useRef(null),G=f.useRef(null),te=f.useRef(null),X=f.useRef(null),K=f.useRef(!1),Q=f.useRef(H),ee=f.useRef(M),se=f.useRef(!1);f.useImperativeHandle(t,()=>te.current);const le=`${l}-listbox`,oe=Array.isArray(x)?x:pE,ue=Ae(w),ye=f.useMemo(()=>H!==null?oe.find(Ke=>Ke.value===H):void 0,[oe,H]),Ee=f.useMemo(()=>oe.filter(Ke=>U?J(U,Ke):!0),[J,oe,U]),ke=Ee.length,ge=F?`${l}-option-${F}`:void 0,je=U!==null&&d||P&&U!==null,Ve=f.useCallback(Ke=>{setTimeout(()=>{if(se.current)return;const Bt=(_||[]).concat(re.current?[re.current]:[],G.current?[G.current]:[]);let jn=!1;if(document.activeElement){for(const Cn of Bt)if(Cn===document.activeElement||Cn.contains(document.activeElement)){jn=!0;break}}jn===!1&&(R({type:"root/blur"}),se.current=!1,g&&g(null),h&&h(Ke))},0)},[h,g,_]),xe=f.useCallback(Ke=>{const Bt=X.current,jn=Ke.target instanceof HTMLElement?Ke.target:null,Cn=(Bt==null?void 0:Bt.contains(jn))||!1;Cn!==K.current&&(K.current=Cn,R({type:"root/setListFocused",listFocused:Cn}))},[]),me=f.useCallback(Ke=>{var Bt;R({type:"value/change",value:Ke}),se.current=!1,y&&y(Ke),Q.current=Ke,p&&p(Ke),g&&g(null),(Bt=te.current)==null||Bt.focus()},[p,y,g]),Se=f.useCallback(Ke=>{var Cn,Ki;if(Ke.key==="ArrowDown"){if(Ke.preventDefault(),!ke)return;const fa=Ee.find(hl=>hl.value===F),ha=fa?Ee.indexOf(fa):-1,so=Ee[(ha+1)%ke];so&&R({type:"root/setActiveValue",value:so.value,listFocused:!0});return}if(Ke.key==="ArrowUp"){if(Ke.preventDefault(),!ke)return;const fa=Ee.find(hl=>hl.value===F),ha=fa?Ee.indexOf(fa):-1,so=Ee[ha===-1?ke-1:(ke+ha-1)%ke];so&&R({type:"root/setActiveValue",value:so.value,listFocused:!0});return}if(Ke.key==="Escape"){R({type:"root/escape"}),se.current=!1,g&&g(null),(Cn=te.current)==null||Cn.focus();return}const Bt=Ke.target,jn=X.current;if((jn===Bt||jn!=null&&jn.contains(Bt))&&!vJe.includes(Ke.key)){(Ki=te.current)==null||Ki.focus();return}},[F,Ee,ke,g]),ve=f.useCallback(Ke=>{const Bt=Ke.currentTarget.value;R({type:"input/change",query:Bt}),g&&g(Bt)},[g]),_e=f.useCallback(()=>{R({type:"root/open",query:H?A(H,ye):""})},[ye,A,H]),Ze=f.useCallback(Ke=>{P||(R({type:"input/focus"}),m&&m(Ke),b&&_e())},[P,m,b,_e]),Je=f.useCallback(()=>{se.current=!0},[]),ot=f.useCallback(()=>{se.current=!1},[]),$e=f.useCallback(()=>{var Ke;R({type:"root/clear"}),Q.current="",p&&p(""),g&&g(null),(Ke=te.current)==null||Ke.focus()},[p,g]),Le=f.useCallback(()=>{R({type:"input/focus"})},[]);f.useEffect(()=>{if(M!==ee.current){ee.current=M,M!==void 0&&(R({type:"value/change",value:M}),Q.current=M);return}M!==Q.current&&(Q.current=M||null,R({type:"value/change",value:M||null}))},[M]),f.useEffect(()=>{!P&&Q.current&&R({type:"root/setActiveValue",value:Q.current})},[P]),f.useEffect(()=>{const Ke=X.current;if(!Ke)return;const Bt=Ee.find(jn=>jn.value===F);if(Bt){const jn=Ee.indexOf(Bt),Cn=Ke.childNodes[jn];if(Cn){if(GZe(Cn))return;Tg(Cn)}}},[F,Ee]);const Oe=f.useMemo(()=>{if(!d&&!i&&H)return{"aria-label":"Clear",onFocus:Le}},[i,Le,d,H]),qe=f.useMemo(()=>ue.map(Ke=>Ke===0?0:Ke===1||Ke===2?1:Ke-2),[ue]),nt=f.useMemo(()=>ue.map(Ke=>Math.max(Ke-1,0)),[ue]),_t=f.useMemo(()=>typeof v=="object"?v:rp,[v]),wn=f.useCallback(Ke=>{_e(),_t.onClick&&_t.onClick(Ke),pN(()=>{var Bt;return(Bt=te.current)==null?void 0:Bt.focus()})},[_t,_e]),We=f.useMemo(()=>!i&&!k&&v?u.jsx(L,{"aria-hidden":je,padding:qe,children:u.jsx($t,{"aria-label":"Open",disabled:je,fontSize:o,icon:Di,mode:"bleed",padding:nt,..._t,onClick:wn})}):void 0,[i,je,o,wn,v,qe,nt,_t,k]),yt=f.useMemo(()=>U===null?H!==null?A(H,ye):"":U,[ye,U,A,H]),Pn=u.jsx(Lr,{...D,"aria-activedescendant":ge,"aria-autocomplete":"list","aria-expanded":je,"aria-owns":le,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:n,clearButton:Oe,customValidity:r,disabled:i,fontSize:o,icon:s,iconRight:d&&mJe,id:l,inputMode:"search",onChange:ve,onClear:$e,onFocus:Ze,padding:ue,prefix:S,radius:E,readOnly:k,ref:te,role:"combobox",spellCheck:!1,suffix:I||We,value:yt}),Ei=f.useCallback(Ke=>{var Bt;Ke.key==="Tab"&&V&&((Bt=te.current)==null||Bt.focus())},[V]),on=f.useMemo(()=>Ee.length===0?null:u.jsx(hJe,{"data-ui":"AutoComplete__results",onKeyDown:Ei,padding:1,...c,tabIndex:-1,children:u.jsx(ne,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:le,ref:X,role:"listbox",space:1,children:Ee.map(Ke=>{const Bt=F!==null?Ke.value===F:ye===Ke;return u.jsx(gJe,{id:`${l}-option-${Ke.value}`,onSelect:me,selected:Bt,value:Ke.value,children:f.cloneElement(Z(Ke),{disabled:d,selected:Bt,tabIndex:V&&Bt?0:-1})},Ke.value)})})}),[F,ye,Ee,me,Ei,l,c,le,V,d,Z]),br=f.useMemo(()=>j?j({content:on,hidden:!je,inputElement:te.current,onMouseEnter:Je,onMouseLeave:ot},G):ke===0?null:u.jsx(Fp,{arrow:!1,constrainSize:!0,content:on,fallbackPlacements:xJe,matchReferenceWidth:!0,onMouseEnter:Je,onMouseLeave:ot,open:je,overflow:"auto",placement:bJe,portal:!0,radius:E,ref:G,referenceElement:te.current,...C}),[on,je,ke,Je,ot,C,E,j]);return u.jsxs(fJe,{"data-ui":"Autocomplete",onBlur:Ve,onFocus:xe,onKeyDown:Se,ref:re,children:[Pn,br]})});Ibe.displayName="ForwardRef(Autocomplete)";const xD=Ibe,SJe=$.ol`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`,EJe=$($t)`
  appearance: none;
  margin: -4px;
`,$V=f.forwardRef(function(e,t){const{children:n,maxLength:r,separator:i,space:a=2,...o}=e,s=Ae(a),[l,c]=f.useState(!1),d=f.useRef(null),h=f.useRef(null),p=f.useCallback(()=>c(!1),[]),m=f.useCallback(()=>c(!0),[]);xn(p,()=>[d.current,h.current]);const g=f.useMemo(()=>f.Children.toArray(n).filter(f.isValidElement),[n]),y=f.useMemo(()=>{const v=g.length;if(r&&v>r){const b=Math.ceil(r/2),x=Math.floor(r/2);return[...g.slice(0,b-1),u.jsx(Fp,{constrainSize:!0,content:u.jsx(ne,{as:"ol",overflow:"auto",padding:s,space:s,children:g.slice(b-1,v-x)}),open:l,placement:"top",portal:!0,ref:h,children:u.jsx(EJe,{fontSize:1,mode:"bleed",onClick:l?p:m,padding:1,ref:d,selected:l,text:""})},"button"),...g.slice(v-x)]}return g},[p,m,r,l,g,s]);return u.jsx(SJe,{"data-ui":"Breadcrumbs",...o,ref:t,children:y.map((v,b)=>u.jsxs(f.Fragment,{children:[b>0&&u.jsx(L,{"aria-hidden":!0,as:"li",paddingX:s,children:i||u.jsx(N,{muted:!0,children:"/"})}),u.jsx(L,{as:"li",children:v})]},b))})});$V.displayName="ForwardRef(Breadcrumbs)";function kJe({theme:e}){const{color:t}=Te(e);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:t.backdrop}}function _Je(e){const{media:t}=Te(e.theme);return Pt(t,e.$position,n=>({"&&":{position:n}}))}function TJe(e){return e.$animate?de`
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    animation: fadeIn 200ms ease-out;
    // Animates the dialog card.
    & > [data-ui='DialogCard'] {
      animation: zoomIn 200ms ease-out;
    }
  `:de``}const Dbe=Of("@sanity/ui/context/dialog",{version:0});function AJe(){return f.useContext(Dbe)}function yN(e,t,n){return!e||!t?!0:mN(e,n)||mN(t,n)}const jJe=$(qo)(mbe,kJe,_Je,TJe),IJe=$(ui)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,DJe=$(ie)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`,MJe=$(z)`
  flex: 1;
  min-height: 0;
  width: 100%;
`,RJe=$(L)`
  position: relative;
  z-index: 2;
`,OJe=$(L)`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`,$Je=$(L)`
  position: relative;
  z-index: 3;
`,Mbe=f.forwardRef(function(e,t){var M;const{__unstable_autoFocus:n,__unstable_hideCloseButton:r,children:i,contentRef:a,footer:o,header:s,id:l,onClickOutside:c,onClose:d,portal:h,radius:p,scheme:m,shadow:g,width:y}=e,v=Ff(),b=h?((M=v.elements)==null?void 0:M[h])||null:v.element,x=l0().element,w=Ae(p),C=Ae(g),S=Ae(y),E=f.useRef(null),k=f.useRef(null),_=Ts(),{isTopLayer:T}=_,j=`${l}_label`,A=!!d&&r===!1,I=!!s||A;return f.useImperativeHandle(t,()=>E.current),f.useImperativeHandle(a,()=>k.current),f.useEffect(()=>{n&&E.current&&Tg(E.current)},[n,E]),Yo(f.useCallback(D=>{if(!T||!d)return;const O=document.activeElement;O&&!yN(x,b,O)||D.key==="Escape"&&(D.preventDefault(),D.stopPropagation(),d())},[x,T,d,b])),xn(T&&c&&(D=>{const O=D.target;O&&!yN(x,b,O)||c()}),()=>[E.current]),u.jsx(IJe,{"data-ui":"DialogCard",width:S,children:u.jsx(DJe,{radius:w,ref:E,scheme:m,shadow:C,children:u.jsxs(MJe,{direction:"column",children:[I&&u.jsx(RJe,{children:u.jsxs(z,{align:"center",padding:3,children:[u.jsx(L,{flex:1,padding:2,children:s&&u.jsx(N,{id:j,size:1,weight:"semibold",children:s})}),A&&u.jsx(L,{flex:"none",children:u.jsx($t,{"aria-label":"Close dialog",disabled:!d,icon:Nr,mode:"bleed",onClick:d,padding:2})})]})}),u.jsx(OJe,{flex:1,ref:k,tabIndex:-1,children:i}),o&&u.jsx($Je,{children:o})]})})})});Mbe.displayName="ForwardRef(DialogCard)";const wD=f.forwardRef(function(e,t){var G;const n=AJe(),{layer:r}=$f(),{__unstable_autoFocus:i=!0,__unstable_hideCloseButton:a=!1,cardRadius:o=4,cardShadow:s=3,children:l,contentRef:c,footer:d,header:h,id:p,onActivate:m,onClickOutside:g,onClose:y,onFocus:v,padding:b=3,portal:x,position:w=n.position||"fixed",scheme:C,width:S=0,zOffset:E=n.zOffset||r.dialog.zOffset,animate:k=!1,..._}=e,T=yD()?!1:k,j=Ff(),A=x?((G=j.elements)==null?void 0:G[x])||null:j.element,I=l0().element,M=Ae(o),D=Ae(b),O=Ae(w),R=Ae(S),F=Ae(E),P=f.useRef(null),V=f.useRef(null),U=f.useRef(null),H=f.useRef(null),W=f.useCallback(te=>{v==null||v(te);const X=te.target,K=U.current;if(K&&X===P.current){RV(K);return}if(K&&X===V.current){Tg(K);return}Yc(te.target)&&(H.current=te.target)},[v]),Z=`${p}_label`,J=f.useRef(),re=f.useCallback(()=>{J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{const te=document.activeElement;if(te&&!yN(I,A,te)){const X=H.current;if(!X||!document.body.contains(X)){const K=U.current;K&&Tg(K);return}X.focus()}},0)},[I,A]);return u.jsx(Pp,{__unstable_name:x,children:u.jsxs(jJe,{..._,$animate:T,$padding:D,$position:O,"aria-labelledby":Z,"aria-modal":!0,"data-ui":"Dialog",id:p,onActivate:m,onClick:re,onFocus:W,ref:t,role:"dialog",zOffset:F,children:[u.jsx("div",{ref:P,tabIndex:0}),u.jsx(Mbe,{__unstable_autoFocus:i,__unstable_hideCloseButton:a,contentRef:c,footer:d,header:h,id:p,onClickOutside:g,onClose:y,portal:x,radius:M,ref:U,scheme:C,shadow:s,width:R,children:l}),u.jsx("div",{ref:V,tabIndex:0})]})})});wD.displayName="ForwardRef(Dialog)";function rA(e){const{children:t,position:n,zOffset:r}=e,i=f.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return u.jsx(Dbe.Provider,{value:i,children:t})}rA.displayName="DialogProvider";const PJe=$.kbd`
  font: inherit;
  padding: 1px;

  &:not([hidden]) {
    display: block;
  }
`,FJe=$(gbe)`
  &:not([hidden]) {
    display: block;
  }
`,PV=f.forwardRef(function(e,t){const{fontSize:n,keys:r,padding:i,radius:a,space:o=.5,...s}=e,l=Ae(o);return!r||r.length===0?u.jsx(u.Fragment,{}):u.jsx(PJe,{"data-ui":"Hotkeys",...s,ref:t,children:u.jsx(Rn,{as:"span",space:l,children:r.map((c,d)=>u.jsx(FJe,{fontSize:n,padding:i,radius:a,children:c},d))})})});PV.displayName="ForwardRef(Hotkeys)";const Rbe=Of("@sanity/ui/context/menu",null);function NJe(e){return DV(e)&&e.getAttribute("data-disabled")!=="true"||MV(e)&&!e.disabled}function G0(e){return e.filter(NJe)}function LJe(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const a=Array.from(i.childNodes).indexOf(r);if(n.unshift(a),i===e)return n;r=i}return n}const hJ=[];function BJe(e,t){if(!e)return;const n=new WeakMap;for(const i of t)n.set(i,LJe(e,i));const r=(i,a)=>{const o=n.get(i)||hJ,s=n.get(a)||hJ,l=Math.max(o.length,s.length);for(let c=0;c<l;c+=1){const d=o[c]||-1,h=s[c]||-1;if(d!==h)return d-h}return 0};t.sort(r)}function VJe(e){const{onKeyDown:t,originElement:n,shouldFocus:r,rootElementRef:i}=e,a=f.useRef([]),[o,s]=f.useState(-1),l=f.useRef(o),c=f.useMemo(()=>a.current[o]||null,[o]),d=!!i.current,h=f.useCallback(v=>{s(v),l.current=v},[]),p=f.useCallback((v,b)=>{if(!v)return()=>{};if(a.current.indexOf(v)===-1&&(a.current.push(v),BJe(i.current,a.current)),b){const x=a.current.indexOf(v);h(x)}return()=>{const x=a.current.indexOf(v);x>-1&&a.current.splice(x,1)}},[i,h]),m=f.useCallback(v=>{if(v.key==="Tab"){n&&n.focus();return}if(v.key==="Home"){v.preventDefault(),v.stopPropagation();const b=G0(a.current)[0];if(!b)return;const x=a.current.indexOf(b);h(x);return}if(v.key==="End"){v.preventDefault(),v.stopPropagation();const b=G0(a.current),x=b[b.length-1];if(!x)return;const w=a.current.indexOf(x);h(w);return}if(v.key==="ArrowUp"){v.preventDefault(),v.stopPropagation();const b=G0(a.current),x=b.length;if(x===0)return;const w=a.current[l.current];let C=b.indexOf(w);C=(C-1+x)%x;const S=b[C],E=a.current.indexOf(S);h(E);return}if(v.key==="ArrowDown"){v.preventDefault(),v.stopPropagation();const b=G0(a.current),x=b.length;if(x===0)return;const w=a.current[l.current];let C=b.indexOf(w);C=(C+1)%x;const S=b[C],E=a.current.indexOf(S);h(E);return}t&&t(v)},[t,n,h]),g=f.useCallback(v=>{const b=v.currentTarget,x=a.current.indexOf(b);h(x)},[h]),y=f.useCallback(()=>{var v;h(-2),(v=i.current)==null||v.focus()},[i,h]);return f.useEffect(()=>{if(!d)return;const v=requestAnimationFrame(()=>{var b;if(o===-1){if(r==="first"){const x=G0(a.current)[0];if(x){const w=a.current.indexOf(x);h(w)}}if(r==="last"){const x=G0(a.current),w=x[x.length-1];if(w){const C=a.current.indexOf(w);h(C)}}return}(b=a.current[o]||null)==null||b.focus()});return()=>cancelAnimationFrame(v)},[o,d,h,r]),{activeElement:c,activeIndex:o,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:m,mount:p}}const zJe=$(L)`
  outline: none;
  overflow: auto;
`,Ot=f.forwardRef(function(e,t){const{children:n,focusFirst:r,focusLast:i,onClickOutside:a,onEscape:o,onItemClick:s,onItemSelect:l,onKeyDown:c,originElement:d,padding:h=1,registerElement:p,shouldFocus:m=e.focusFirst&&"first"||e.focusLast&&"last"||null,space:g=1,...y}=e,v=f.useRef(null);f.useImperativeHandle(t,()=>v.current);const{isTopLayer:b}=Ts(),{activeElement:x,activeIndex:w,handleItemMouseEnter:C,handleItemMouseLeave:S,handleKeyDown:E,mount:k}=VJe({onKeyDown:c,originElement:d,shouldFocus:m,rootElementRef:v}),_=f.useRef(null),T=f.useCallback(A=>{_.current&&(_.current(),_.current=null),v.current=A,v.current&&p&&(_.current=p(v.current))},[p]);f.useEffect(()=>{l&&l(w)},[w,l]),xn(b&&a,()=>[v.current]),Yo(f.useCallback(A=>{b&&A.key==="Escape"&&(A.stopPropagation(),o&&o())},[b,o]));const j=f.useMemo(()=>({version:0,activeElement:x,activeIndex:w,mount:k,onClickOutside:a,onEscape:o,onItemClick:s,onItemMouseEnter:C,onItemMouseLeave:S,registerElement:p,onMouseEnter:C,onMouseLeave:S}),[x,w,k,C,S,a,o,s,p]);return u.jsx(Rbe.Provider,{value:j,children:u.jsx(zJe,{"data-ui":"Menu",...y,onKeyDown:E,padding:h,ref:T,role:"menu",tabIndex:-1,children:u.jsx(ne,{space:g,children:n})})})});Ot.displayName="ForwardRef(Menu)";const Obe=f.forwardRef(function(e,t){const{__unstable_disableRestoreFocusOnClose:n=!1,boundaryElement:r,button:i,id:a,menu:o,onClose:s,onOpen:l,placement:c,popoverScheme:d,portal:h=!0,popover:p,popoverRadius:m,preventOverflow:g}=e,[y,v]=f.useState(!1),[b,x]=f.useState(null),[w,C]=f.useState(null),[S,E]=f.useState([]),k=f.useRef(y);f.useEffect(()=>{l&&y&&!k.current&&l()},[l,y]),f.useEffect(()=>{s&&!y&&k.current&&s()},[s,y]),f.useEffect(()=>{k.current=y},[y]);const _=f.useCallback(()=>{v(H=>!H),x(null)},[]),T=f.useCallback(H=>{y&&H.preventDefault()},[y]),j=f.useCallback(H=>{if(H.key==="ArrowDown"||H.key==="Enter"||H.key===" "){H.preventDefault(),v(!0),x("first");return}if(H.key==="ArrowUp"){H.preventDefault(),v(!0),x("last");return}},[]),A=f.useCallback(H=>{const W=H.target;if(W instanceof Node&&!(w&&(W===w||w.contains(W)))){for(const Z of S)if(W===Z||Z.contains(W))return;v(!1)}},[w,S]),I=f.useCallback(()=>{v(!1),!n&&w&&w.focus()},[w,n]),M=f.useCallback(H=>{const W=H.relatedTarget;if(W instanceof Node){for(const Z of S)if(Z===W||Z.contains(W))return;v(!1)}},[S]),D=f.useCallback(()=>{v(!1),!n&&w&&w.focus()},[w,n]),O=f.useCallback(H=>(E(W=>W.concat([H])),()=>E(W=>W.filter(Z=>Z!==H))),[]),R=f.useMemo(()=>({"aria-labelledby":a,onBlurCapture:M,onClickOutside:A,onEscape:I,onItemClick:D,originElement:w,registerElement:O,shouldFocus:b}),[w,A,I,D,a,M,O,b]),F=o&&f.cloneElement(o,R),P=f.useRef(null),V=f.useMemo(()=>i&&f.cloneElement(i,{"data-ui":"MenuButton",id:a,onClick:_,onKeyDown:j,onMouseDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:P,selected:i.props.selected??y}),[i,_,j,T,a,y]);f.useImperativeHandle(t,()=>P.current),f.useEffect(()=>{if(V)return C(P.current),()=>C(null)},[V]);const U=f.useMemo(()=>({boundaryElement:r,overflow:"auto",placement:c,portal:h,preventOverflow:g,radius:m,scheme:d,...p||{}}),[r,c,m,d,h,g,p]);return u.jsx(Fp,{"data-ui":"MenuButton__popover",...U,content:F,open:y,children:V||u.jsx(u.Fragment,{})})});Obe.displayName="ForwardRef(MenuButton)";const fr=$.hr`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`;fr.displayName="MenuDivider";function UJe(){return de`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `}function HJe(e){var a;const{$tone:t}=e,{color:n,style:r}=Te(e.theme),i=n.selectable[t];return de`
    ${yn(n,i.enabled)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        ${yn(n,i.disabled)}
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          ${yn(n,i.pressed)}
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          ${yn(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${yn(n,i.hovered)}
            }

            &:active {
              ${yn(n,i.pressed)}
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        ${yn(n,i.disabled)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${yn(n,i.pressed)}
        }

        &[data-selected] {
          ${yn(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${yn(n,i.hovered)}
            }
            &:active {
              ${yn(n,i.pressed)}
            }
          }
        }
      }
    }

    ${(a=r==null?void 0:r.card)==null?void 0:a.root}
  `}const FV=$(L)(Pf,UJe,HJe);FV.displayName="Selectable";function $be(){const e=f.useContext(Rbe);if(!e)throw new Error("useMenu(): missing context value");if(!vE(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function Pbe(e){const{as:t="button",children:n,fontSize:r=1,icon:i,onClick:a,padding:o=3,popover:s,radius:l=2,space:c=3,text:d,tone:h="default",...p}=e,m=$be(),{scheme:g}=Vv(),{activeElement:y,mount:v,onClickOutside:b,onEscape:x,onItemClick:w,onItemMouseEnter:C=m.onMouseEnter,registerElement:S}=m,[E,k]=f.useState(null),[_,T]=f.useState(!1),[j,A]=f.useState(null),I=!!y&&y===E,[M,D]=f.useState(!1),O=f.useCallback(W=>{D(!1),C(W),T(!0)},[C]),R=f.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),T(!1),requestAnimationFrame(()=>{E==null||E.focus()}))},[E]),F=f.useCallback(W=>{a==null||a(W),A("first"),T(!0)},[a]),P=f.useCallback(()=>{T(!1),w==null||w()},[w]),V=f.useCallback(()=>D(!0),[]);f.useEffect(()=>v(E),[v,E]),f.useEffect(()=>{I||T(!1)},[I]),f.useEffect(()=>{_||D(!1)},[_]),f.useEffect(()=>{if(!j)return;const W=requestAnimationFrame(()=>A(null));return()=>cancelAnimationFrame(W)},[j]);const U=u.jsx(Ot,{onClickOutside:b,onEscape:x,onItemClick:P,onKeyDown:R,onMouseEnter:V,registerElement:S,shouldFocus:j,children:n}),H=f.useCallback(W=>{const Z=W.currentTarget;if(document.activeElement===Z&&W.key==="ArrowRight"){A("first"),T(!0),D(!0);return}},[]);return u.jsx(Fp,{...s,content:U,"data-ui":"MenuGroup__popover",open:_,children:u.jsx(FV,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?M:void 0,"data-pressed":t!=="button"?M:void 0,"data-selected":!M&&I?"":void 0,$radius:Ae(l),$tone:h,$scheme:g,onClick:F,onKeyDown:H,onMouseEnter:O,ref:k,tabIndex:-1,type:t==="button"?"button":void 0,children:u.jsxs(z,{gap:c,padding:o,children:[i&&u.jsxs(N,{size:r,children:[f.isValidElement(i)&&i,ka.isValidElementType(i)&&u.jsx(i,{})]}),u.jsx(L,{flex:1,children:u.jsx(N,{size:r,textOverflow:"ellipsis",weight:"medium",children:d})}),u.jsx(N,{size:r,children:u.jsx(io,{})})]})})})}Pbe.displayName="MenuGroup";const u0=f.forwardRef(function(e,t){const{as:n="button",children:r,disabled:i,fontSize:a=1,hotkeys:o,icon:s,iconRight:l,onClick:c,padding:d=3,paddingX:h,paddingY:p,paddingTop:m,paddingRight:g,paddingBottom:y,paddingLeft:v,pressed:b,radius:x=2,selected:w,space:C=3,text:S,tone:E="default",...k}=e,{scheme:_}=Vv(),T=$be(),{activeElement:j,mount:A,onItemClick:I,onItemMouseEnter:M=T.onMouseEnter,onItemMouseLeave:D=T.onMouseLeave}=T,[O,R]=f.useState(null),F=!!j&&j===O,P=f.useRef(null);f.useImperativeHandle(t,()=>P.current),f.useEffect(()=>A(O,w),[A,O,w]);const V=f.useCallback(Z=>{i||(c&&c(Z),I&&I())},[i,c,I]),U=f.useMemo(()=>({padding:d,paddingX:h,paddingY:p,paddingTop:m,paddingRight:g,paddingBottom:y,paddingLeft:v}),[d,h,p,m,g,y,v]),H=Ae(a).map(Z=>Z-1),W=f.useCallback(Z=>{P.current=Z,R(Z)},[]);return u.jsxs(FV,{"data-ui":"MenuItem",...k,"aria-pressed":n==="button"&&b,"data-pressed":n!=="button"&&b?"":void 0,"data-selected":F?"":void 0,"data-disabled":i?"":void 0,forwardedAs:n,$radius:Ae(x),$padding:Ae(0),$tone:i?"default":E,$scheme:_,disabled:i,onClick:V,onMouseEnter:M,onMouseLeave:D,ref:W,role:"menuitem",tabIndex:-1,type:n==="button"?"button":void 0,children:[(s||S||l)&&u.jsxs(z,{as:"span",gap:C,align:"center",...U,children:[s&&u.jsxs(N,{size:a,children:[f.isValidElement(s)&&s,ka.isValidElementType(s)&&u.jsx(s,{})]}),S&&u.jsx(L,{flex:1,children:u.jsx(N,{size:a,textOverflow:"ellipsis",weight:"medium",children:S})}),o&&u.jsx(PV,{fontSize:H,keys:o,style:{marginTop:-4,marginBottom:-4}}),l&&u.jsxs(N,{size:a,children:[f.isValidElement(l)&&l,ka.isValidElementType(l)&&u.jsx(l,{})]})]}),r&&u.jsx(L,{as:"span",...U,children:r})]})});u0.displayName="ForwardRef(MenuItem)";const WJe=Tp`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`,GJe=de`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: ${WJe};
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`,YJe=de`
  opacity: ${({$visible:e})=>e?1:0};
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    ${({$animated:e})=>e?GJe:de`
            background-color: var(--card-skeleton-color-from);
          `}
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`,qJe=$(L)(Pf,YJe),qc=f.forwardRef(function(e,t){const{animated:n=!1,delay:r,radius:i,...a}=e,[o,s]=f.useState(!r);return f.useEffect(()=>{if(!r)return s(!0);const l=setTimeout(()=>{s(!0)},r);return()=>{clearTimeout(l)}},[r]),u.jsx(qJe,{...a,$animated:n,$radius:Ae(i),$visible:o,ref:t})});qc.displayName="ForwardRef(Skeleton)";const CD=$(qc)(e=>{const{$size:t,$style:n}=e,{font:r,media:i}=Te(e.theme),a=r[n];return Pt(i,t,o=>{const s=a.sizes[o];return{height:s.lineHeight-s.ascenderHeight-s.descenderHeight}})}),ur=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=Ae(n);return u.jsx(CD,{...r,$size:i,ref:t,$style:"text"})});ur.displayName="ForwardRef(TextSkeleton)";const KJe=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=Ae(n);return u.jsx(CD,{...r,$size:i,ref:t,$style:"label"})});KJe.displayName="ForwardRef(LabelSkeleton)";const ZJe=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=Ae(n);return u.jsx(CD,{...r,$size:i,ref:t,$style:"heading"})});ZJe.displayName="ForwardRef(HeadingSkeleton)";const XJe=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=Ae(n);return u.jsx(CD,{...r,$size:i,ref:t,$style:"code"})});XJe.displayName="ForwardRef(CodeSkeleton)";const JJe=$($t)`
  max-width: 100%;
`,NV=f.forwardRef(function(e,t){const{icon:n,id:r,focused:i,fontSize:a=1,label:o,onClick:s,onFocus:l,padding:c=2,selected:d,...h}=e,p=f.useRef(null),m=f.useRef(!1);f.useImperativeHandle(t,()=>p.current);const g=f.useCallback(()=>{m.current=!1},[]),y=f.useCallback(v=>{m.current=!0,l&&l(v)},[l]);return f.useEffect(()=>{i&&!m.current&&(p.current&&p.current.focus(),m.current=!0)},[i]),u.jsx(JJe,{"data-ui":"Tab",...h,"aria-selected":d?"true":"false",fontSize:a,icon:n,id:r,mode:"bleed",onClick:s,onBlur:g,onFocus:y,padding:c,ref:p,role:"tab",selected:d,tabIndex:d?0:-1,text:o,type:"button"})});NV.displayName="ForwardRef(Tab)";function QJe(e){return!!e}const eQe=$(Rn)`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`,Yv=f.forwardRef(function(e,t){const{children:n,...r}=e,[i,a]=f.useState(-1),o=f.useMemo(()=>n.filter(QJe),[n]).map((d,h)=>f.cloneElement(d,{focused:i===h,key:h,onFocus:()=>l(h)})),s=o.length,l=f.useCallback(d=>{a(d)},[]),c=f.useCallback(d=>{d.key==="ArrowLeft"&&a(h=>(h+s-1)%s),d.key==="ArrowRight"&&a(h=>(h+1)%s)},[s]);return u.jsx(eQe,{"data-ui":"TabList",...r,onKeyDown:c,ref:t,role:"tablist",children:o})});Yv.displayName="ForwardRef(TabList)";const Fbe=f.forwardRef(function(e,t){const{flex:n,...r}=e;return u.jsx(L,{"data-ui":"TabPanel",...r,flex:n,ref:t,role:"tabpanel",tabIndex:e.tabIndex===void 0?0:e.tabIndex,children:e.children})});Fbe.displayName="ForwardRef(TabPanel)";const tQe=$(z)`
  overflow-x: auto;
`,nQe=Tp`
  0% {
    width: 0;
  }
  100% {
    width: 100%;
  }
`,pJ=2;function rQe(e){const{color:t}=Te(e.theme),n=t.button.default[e.tone].enabled.bg;return e.$duration?de`
    pointer-events: all;
    width: 100%;
    position: relative;
    overflow: hidden;
    overflow: clip;
    padding-bottom: ${pJ}px;
    &::before {
      content: '';
      position: absolute;
      bottom: 0px;
      height: ${pJ}px;
      background: ${n};
      animation-name: ${nQe};
      animation-duration: ${e.$duration}ms;
      animation-fill-mode: both;
    }

    & > * {
      opacity: var(${Oc}, 1);
      will-change: opacity;
    }
  `:de`
      pointer-events: all;
      & > * {
        opacity: var(${Oc}, 1);
        will-change: opacity;
      }
    `}const iQe={error:"critical",warning:"caution",success:"positive",info:"primary"},aQe={error:"critical",warning:"caution",success:"positive",info:"primary"},oQe={error:"alert",warning:"alert",success:"alert",info:"alert"},sQe=$(ie)(rQe);function Nbe(e){const{closable:t,description:n,duration:r,onClose:i,radius:a=3,title:o,status:s,...l}=e,c=s?iQe[s]:"default",d=s?aQe[s]:"default",h=s?oQe[s]:"status";return u.jsx(sQe,{"data-ui":"Toast",role:h,...l,marginTop:3,radius:a,shadow:2,tone:c,$duration:r,children:u.jsxs(z,{align:"flex-start",children:[u.jsx(tQe,{flex:1,padding:3,children:u.jsxs(ne,{space:3,children:[o&&u.jsx(N,{size:1,weight:"medium",children:o}),n&&u.jsx(N,{muted:!0,size:1,children:n})]})}),t&&u.jsx(L,{padding:1,children:u.jsx($t,{as:"button",icon:Nr,mode:"bleed",padding:2,tone:d,onClick:i,style:{verticalAlign:"top"}})})]})})}Nbe.displayName="Toast";function lQe(){return f.useSyncExternalStore(uQe,()=>!0,()=>!1)}const uQe=()=>()=>{},Lbe=Of("@sanity/ui/context/toast",null),cQe=$(qo)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`,dQe=$.div`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`;let fQe=0;function Bbe(e){const{children:t,padding:n=4,paddingX:r,paddingY:i,zOffset:a}=e,[o,s]=f.useState([]),l=f.useRef({}),c=lQe(),d=yD(),h=f.useMemo(()=>({initial:{opacity:0,[Oc]:0,y:32,scale:.25,willChange:"transform"},animate:{opacity:[0,1,1],[Oc]:[0,0,1],y:0,scale:1},exit:{opacity:[1,1,0],[Oc]:[1,0,0],scale:.5,transition:d?{duration:0}:{duration:.2}}}),[d]),p=f.useMemo(()=>({version:0,push:m=>{const g=x=>f.startTransition(()=>s(x)),y=m.id||String(fQe++),v=m.duration||5e3,b=()=>{var w;const x=(w=l.current[y])==null?void 0:w.timeoutId;g(C=>{const S=C.findIndex(E=>E.id===y);if(S>-1){const E=C.slice(0);return E.splice(S,1),E}return C}),x!==void 0&&(clearTimeout(x),delete l.current[y])};return g(x=>x.filter(w=>w.id!==y).concat([{dismiss:b,id:y,params:{...m,duration:v}}])),l.current[y]&&(clearTimeout(l.current[y].timeoutId),delete l.current[y]),l.current[y]={timeoutId:setTimeout(b,v)},y}}),[]);return f.useEffect(()=>()=>{for(const{timeoutId:m}of Object.values(l.current))clearTimeout(m);l.current={}},[]),u.jsxs(Lbe.Provider,{value:p,children:[t,c&&u.jsx(cQe,{"data-ui":"ToastProvider",zOffset:a,children:u.jsx(dQe,{children:u.jsx(L,{padding:n,paddingX:r,paddingY:i,children:u.jsx(sl,{initial:!1,children:o.map(({dismiss:m,id:g,params:y})=>u.jsx(Mi.div,{layout:"position",initial:"initial",animate:"animate",exit:"exit",variants:h,transition:d?{duration:0}:{type:"spring",damping:30,stiffness:400},children:u.jsx(Nbe,{closable:y.closable,description:y.description,onClose:m,status:y.status,title:y.title,duration:y.duration})},g))})})})})]})}Bbe.displayName="ToastProvider";function _r(){const e=f.useContext(Lbe);if(!e)throw new Error("useToast(): missing context value");if(!vE(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function hQe(e,t,n){var o;const r=t.indexOf(n),i=t.slice(0,r),a=i.length;for(let s=a-1;s>=0;s-=1){const l=i[s].getAttribute("data-tree-key");if(!l)continue;const c=l.split("/");c.pop();const d=[];let h=!0;for(let p=0;p<c.length;p+=1){d.push(c[p]);const m=d.join("/");if(!((o=e[m])!=null&&o.expanded)){h=!1;break}}if(h)return i[s]}return null}function pQe(e,t,n){var o;const r=t.indexOf(n),i=t.slice(r),a=t.length;for(let s=1;s<a;s+=1){if(!i[s])continue;const l=i[s].getAttribute("data-tree-key");if(!l)continue;const c=l.split("/");c.pop();const d=[];let h=!0;for(let p=0;p<c.length;p+=1){d.push(c[p]);const m=d.join("/");if(!((o=e[m])!=null&&o.expanded)){h=!1;break}}if(h)return i[s]}return null}function mJ(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const iA=Of("@sanity/ui/context/tree",null),mQe=f.memo(f.forwardRef(function(e,t){const{children:n,space:r=1,onFocus:i,...a}=e,o=f.useRef(null),[s,l]=f.useState(null),c=f.useRef(s),d=f.useMemo(()=>[],[]),[h,p]=f.useState([]),[m,g]=f.useState({}),y=f.useRef(m);f.useImperativeHandle(t,()=>o.current),f.useEffect(()=>{c.current=s},[s]),f.useEffect(()=>{y.current=m},[m]);const v=f.useCallback((S,E,k,_)=>(g(T=>({...T,[E]:{element:S,expanded:k}})),_&&l(S),()=>{g(T=>{const j={...T};return delete j[E],j})}),[]),b=f.useCallback((S,E)=>{g(k=>{const _=k[S];return _?{...k,[S]:{..._,expanded:E}}:k})},[]),x=f.useMemo(()=>({version:0,focusedElement:s||h[0]||null,level:0,path:d,registerItem:v,setExpanded:b,setFocusedElement:l,space:r,state:m}),[s,h,d,v,b,r,m]),w=f.useCallback(S=>{var E;if(c.current){if(S.key==="ArrowDown"){S.preventDefault();const k=pQe(y.current,h,c.current);k&&(mJ(k),l(k));return}if(S.key==="ArrowUp"){S.preventDefault();const k=hQe(y.current,h,c.current);k&&(mJ(k),l(k));return}if(S.key==="ArrowLeft"){S.preventDefault();const k=c.current.getAttribute("data-tree-key");if(!k)return;const _=y.current[k];if(!_)return;if(_.expanded)g(T=>{const j=T[k];return j?{...T,[k]:{...j,expanded:!1}}:T});else{const T=k.split("/");T.pop();const j=T.join("/"),A=j&&y.current[j];A&&(A.element.focus(),l(A.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const k=c.current.getAttribute("data-tree-key");if(!k)return;(E=y.current[k])!=null&&E.expanded||g(_=>{const T=_[k];return T?{..._,[k]:{...T,expanded:!0}}:_});return}}},[h]),C=f.useCallback(S=>{l(S.target),i==null||i(S)},[i]);return f.useEffect(()=>{if(!o.current)return;const S=Array.from(o.current.querySelectorAll('[data-ui="TreeItem"]'));p(S)},[n]),u.jsx(iA.Provider,{value:x,children:u.jsx(ne,{as:"ul","data-ui":"Tree",...a,onFocus:C,onKeyDown:w,ref:o,role:"tree",space:r,children:n})})}));mQe.displayName="Memo(ForwardRef(Tree))";function gQe(){return de`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      background-color: var(--card-bg-color);
      color: var(--treeitem-fg-color);

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &:focus > div {
        position: relative;
      }
    }
  `}function yQe(e){const t="default",{color:n}=Te(e.theme),r=n.selectable[t];return de`
    &[role='none'] {
      & > [role='treeitem'] {
        ${yn(n,r.enabled)}
      }

      &[data-selected] > [role='treeitem'] {
        ${yn(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          ${yn(n,r.hovered)}
        }

        & > [role='treeitem']:focus {
          ${yn(n,r.selected)}
        }
      }
    }

    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        ${yn(n,r.enabled)}
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        ${yn(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          ${yn(n,r.hovered)}
        }

        &:focus > [data-ui='TreeItem__box'] {
          ${yn(n,r.selected)}
        }
      }
    }
  `}function vQe(e){const{$level:t}=e,{space:n}=Te(e.theme);return de`
    padding-left: ${Ce(n[2]*t)};

    &[data-as='a'] {
      text-decoration: none;
    }
  `}function Vbe(){const e=f.useContext(iA);if(!e)throw new Error("Tree: missing context value");return e}const gJ=f.memo(function(e){const{children:t,expanded:n=!1,...r}=e,i=Vbe();return u.jsx(ne,{as:"ul","data-ui":"TreeGroup",...r,hidden:!n,marginTop:i.space,role:"group",space:i.space,children:t})}),yJ=f.memo($.li(gQe,yQe)),vJ=$(L).attrs({forwardedAs:"a"})(vQe),bQe=$(N)`
  & > svg {
    transition: transform 100ms;
  }
`,xQe=f.memo(function(e){const{children:t,expanded:n=!1,fontSize:r=1,href:i,icon:a,id:o,linkAs:s,muted:l,onClick:c,padding:d=2,selected:h=!1,space:p=2,text:m,weight:g,...y}=e,v=f.useRef(null),b=f.useRef(null),x=Vbe(),{path:w,registerItem:C,setExpanded:S,setFocusedElement:E}=x,k=f.useId(),_=o||k,T=f.useMemo(()=>w.concat([_||""]),[_,w]),j=T.join("/"),A=x.state[j],I=x.focusedElement===v.current,M=(A==null?void 0:A.expanded)===void 0?n:(A==null?void 0:A.expanded)||!1,D=x.focusedElement&&x.focusedElement===v.current?0:-1,O=f.useMemo(()=>({...x,level:x.level+1,path:T}),[T,x]),R=f.useCallback(V=>{c&&c(V);const U=V.target;U instanceof HTMLElement&&(U.getAttribute("data-ui")==="TreeItem"||U.closest('[data-ui="TreeItem__box"]'))&&(V.stopPropagation(),S(j,!M),E(v.current))},[M,j,c,S,E]),F=f.useCallback(V=>{var U;I&&V.key==="Enter"&&((U=b.current||v.current)==null||U.click())},[I]);f.useEffect(()=>{if(v.current)return C(v.current,T.join("/"),M,h)},[M,T,C,h]);const P=u.jsxs(z,{padding:d,children:[u.jsxs(L,{marginRight:p,style:{visibility:a||t?"visible":"hidden",pointerEvents:"none"},children:[a&&u.jsx(N,{muted:l,size:r,weight:g,children:u.jsx(a,{})}),!a&&u.jsx(bQe,{muted:l,size:r,weight:g,children:u.jsx(JS,{style:{transform:M?"rotate(90deg)":void 0}})})]}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:l,size:r,textOverflow:"ellipsis",weight:g,children:m})})]});return i?u.jsxs(yJ,{"data-selected":h?"":void 0,"data-tree-id":_,"data-tree-key":j,"data-ui":"TreeItem",...y,onClick:R,ref:v,role:"none",children:[u.jsx(vJ,{$level:x.level,"aria-expanded":M,as:s,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:D,children:P}),u.jsx(iA.Provider,{value:O,children:t&&u.jsx(gJ,{hidden:!M,children:t})})]}):u.jsxs(yJ,{"data-selected":h?"":void 0,"data-ui":"TreeItem","data-tree-id":_,"data-tree-key":j,...y,"aria-expanded":M,onClick:R,onKeyDown:F,ref:v,role:"treeitem",tabIndex:D,children:[u.jsx(vJ,{$level:x.level,as:"div","data-ui":"TreeItem__box",children:P}),u.jsx(iA.Provider,{value:O,children:t&&u.jsx(gJ,{expanded:M,children:t})})]})});xQe.displayName="Memo(TreeItem)";var Jm=[],wQe=function(){return Jm.some(function(e){return e.activeTargets.length>0})},CQe=function(){return Jm.some(function(e){return e.skippedTargets.length>0})},bJ="ResizeObserver loop completed with undelivered notifications.",SQe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:bJ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=bJ),window.dispatchEvent(e)},LC;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(LC||(LC={}));var Qm=function(e){return Object.freeze(e)},EQe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Qm(this)}return e}(),zbe=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Qm(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:r,top:i,right:a,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),LV=function(e){return e instanceof SVGElement&&"getBBox"in e},Ube=function(e){if(LV(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},xJ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},kQe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Vw=typeof window<"u"?window:{},x2=new WeakMap,wJ=/auto|scroll/,_Qe=/^tb|vertical/,TQe=/msie|trident/i.test(Vw.navigator&&Vw.navigator.userAgent),tc=function(e){return parseFloat(e||"0")},iy=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new EQe((n?t:e)||0,(n?e:t)||0)},CJ=Qm({devicePixelContentBoxSize:iy(),borderBoxSize:iy(),contentBoxSize:iy(),contentRect:new zbe(0,0,0,0)}),Hbe=function(e,t){if(t===void 0&&(t=!1),x2.has(e)&&!t)return x2.get(e);if(Ube(e))return x2.set(e,CJ),CJ;var n=getComputedStyle(e),r=LV(e)&&e.ownerSVGElement&&e.getBBox(),i=!TQe&&n.boxSizing==="border-box",a=_Qe.test(n.writingMode||""),o=!r&&wJ.test(n.overflowY||""),s=!r&&wJ.test(n.overflowX||""),l=r?0:tc(n.paddingTop),c=r?0:tc(n.paddingRight),d=r?0:tc(n.paddingBottom),h=r?0:tc(n.paddingLeft),p=r?0:tc(n.borderTopWidth),m=r?0:tc(n.borderRightWidth),g=r?0:tc(n.borderBottomWidth),y=r?0:tc(n.borderLeftWidth),v=h+c,b=l+d,x=y+m,w=p+g,C=s?e.offsetHeight-w-e.clientHeight:0,S=o?e.offsetWidth-x-e.clientWidth:0,E=i?v+x:0,k=i?b+w:0,_=r?r.width:tc(n.width)-E-S,T=r?r.height:tc(n.height)-k-C,j=_+v+S+x,A=T+b+C+w,I=Qm({devicePixelContentBoxSize:iy(Math.round(_*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:iy(j,A,a),contentBoxSize:iy(_,T,a),contentRect:new zbe(h,l,_,T)});return x2.set(e,I),I},Wbe=function(e,t,n){var r=Hbe(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case LC.DEVICE_PIXEL_CONTENT_BOX:return o;case LC.BORDER_BOX:return i;default:return a}},AQe=function(){function e(t){var n=Hbe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Qm([n.borderBoxSize]),this.contentBoxSize=Qm([n.contentBoxSize]),this.devicePixelContentBoxSize=Qm([n.devicePixelContentBoxSize])}return e}(),Gbe=function(e){if(Ube(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},jQe=function(){var e=1/0,t=[];Jm.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var d=new AQe(c.target),h=Gbe(c.target);s.push(d),c.lastReportedSize=Wbe(c.target,c.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},SJ=function(e){Jm.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Gbe(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},IQe=function(){var e=0;for(SJ(e);wQe();)e=jQe(),SJ(e);return CQe()&&SQe(),e>0},k$,Ybe=[],DQe=function(){return Ybe.splice(0).forEach(function(e){return e()})},MQe=function(e){if(!k$){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return DQe()}).observe(n,r),k$=function(){n.textContent="".concat(t?t--:t++)}}Ybe.push(e),k$()},RQe=function(e){MQe(function(){requestAnimationFrame(e)})},C_=0,OQe=function(){return!!C_},$Qe=250,PQe={attributes:!0,characterData:!0,childList:!0,subtree:!0},EJ=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],kJ=function(e){return e===void 0&&(e=0),Date.now()+e},_$=!1,FQe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=$Qe),!_$){_$=!0;var r=kJ(t);RQe(function(){var i=!1;try{i=IQe()}finally{if(_$=!1,t=r-kJ(),!OQe())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,PQe)};document.body?n():Vw.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),EJ.forEach(function(n){return Vw.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),EJ.forEach(function(n){return Vw.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),vN=new FQe,_J=function(e){!C_&&e>0&&vN.start(),C_+=e,!C_&&vN.stop()},NQe=function(e){return!LV(e)&&!kQe(e)&&getComputedStyle(e).display==="inline"},LQe=function(){function e(t,n){this.target=t,this.observedBox=n||LC.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Wbe(this.target,this.observedBox,!0);return NQe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),BQe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),w2=new WeakMap,TJ=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},C2=function(){function e(){}return e.connect=function(t,n){var r=new BQe(t,n);w2.set(t,r)},e.observe=function(t,n,r){var i=w2.get(t),a=i.observationTargets.length===0;TJ(i.observationTargets,n)<0&&(a&&Jm.push(i),i.observationTargets.push(new LQe(n,r&&r.box)),_J(1),vN.schedule())},e.unobserve=function(t,n){var r=w2.get(t),i=TJ(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&Jm.splice(Jm.indexOf(r),1),r.observationTargets.splice(i,1),_J(-1))},e.disconnect=function(t){var n=this,r=w2.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),qbe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");C2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xJ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");C2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xJ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");C2.unobserve(this,t)},e.prototype.disconnect=function(){C2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Kbe(){const e=Object.create(null);let t=0;function n(i){const a=t++;return e[a]=i,function(){delete e[a]}}function r(i){for(const a in e)e[a](i)}return{publish:r,subscribe:n}}function VQe(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const AJ={};function bN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&AJ[t[0]]||(typeof t[0]=="string"&&(AJ[t[0]]=new Date),VQe(...t))}const Zbe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function jJ(e,t,n){e.loadNamespaces(t,Zbe(e,n))}function IJ(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Zbe(e,r))}function zQe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=t.services.backendConnector.state[`${s}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}function UQe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(bN("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}):zQe(e,t,n)}const HQe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,WQe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},GQe=e=>WQe[e],YQe=e=>e.replace(HQe,GQe);let xN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:YQe};function qQe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xN={...xN,...e}}function KQe(){return xN}let Xbe;function ZQe(e){Xbe=e}function XQe(){return Xbe}const JQe={type:"3rdParty",init(e){qQe(e.options.react),ZQe(e)}},Jbe=f.createContext();class QQe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const eet=(e,t)=>{const n=f.useRef();return f.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current};function Qbe(e,t,n,r){return e.getFixedT(t,n,r)}function tet(e,t,n,r){return f.useCallback(Qbe(e,t,n,r),[e,t,n,r])}function qv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=f.useContext(Jbe)||{},a=n||r||XQe();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new QQe),!a){bN("You will need to pass in an i18next instance by using initReactI18next");const C=(E,k)=>typeof k=="string"?k:k&&typeof k=="object"&&typeof k.defaultValue=="string"?k.defaultValue:Array.isArray(E)?E[E.length-1]:E,S=[C,{},!1];return S.t=C,S.i18n={},S.ready=!1,S}a.options.react&&a.options.react.wait!==void 0&&bN("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...KQe(),...a.options.react,...t},{useSuspense:s,keyPrefix:l}=o;let c=e||i||a.options&&a.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(c);const d=(a.isInitialized||a.initializedStoreOnce)&&c.every(C=>UQe(C,a,o)),h=tet(a,t.lng||null,o.nsMode==="fallback"?c:c[0],l),p=()=>h,[m,g]=f.useState(p);let y=c.join();t.lng&&(y=`${t.lng}${y}`);const v=eet(y),b=f.useRef(!0);f.useEffect(()=>{const{bindI18n:C,bindI18nStore:S}=o;b.current=!0,!d&&!s&&(t.lng?IJ(a,t.lng,c,()=>{b.current&&g(p)}):jJ(a,c,()=>{b.current&&g(()=>Qbe(a,t.lng||null,o.nsMode==="fallback"?c:c[0],l))})),d&&v&&v!==y&&b.current&&g(p);function E(){b.current&&g(p)}return C&&a&&a.on(C,E),S&&a&&a.store.on(S,E),()=>{b.current=!1,C&&a&&C.split(" ").forEach(k=>a.off(k,E)),S&&a&&S.split(" ").forEach(k=>a.store.off(k,E))}},[a,y]);const x=f.useRef(!0);f.useEffect(()=>{b.current&&!x.current&&g(p),x.current=!1},[a,l]);const w=[m,a,d];if(w.t=m,w.i18n=a,w.ready=d,d||!d&&!s)return w;throw new Promise(C=>{t.lng?IJ(a,t.lng,c,()=>C()):jJ(a,c,()=>C())})}function net(e){let{i18n:t,defaultNS:n,children:r}=e;const i=f.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return f.createElement(Jbe.Provider,{value:i},r)}function Kv({children:e,condition:t,wrapper:n}){return t?n(e):e}const ret={space:3,padding:3},iet={space:2,padding:2},aet=$.span`
  display: inline-flex;
`,he=f.forwardRef(function({size:e="default",mode:t="default",paddingY:n,tone:r="default",tooltipProps:i,...a},o){const s=f.useCallback(l=>u.jsx(bt,{content:i==null?void 0:i.content,portal:!0,...i,children:u.jsx(aet,{children:l})}),[i]);return u.jsx(Kv,{condition:!!i,wrapper:s,children:u.jsx($t,{...a,...e==="default"?iet:ret,paddingY:n,ref:o,mode:t,tone:r})})}),Ri=f.forwardRef(function({bodyHeight:e,children:t,footer:n,padding:r=!0,...i},a){const{t:o}=qv();return u.jsx(wD,{...i,animate:!0,ref:a,footer:((n==null?void 0:n.confirmButton)||(n==null?void 0:n.cancelButton))&&u.jsxs(z,{width:"full",gap:3,justify:"flex-end",padding:3,children:[i.onClose&&u.jsx($t,{mode:"bleed",padding:2,text:o("common.dialog.cancel-button.text"),tone:"default",onClick:i.onClose,"data-testid":"cancel-button",...n.cancelButton}),n.confirmButton&&u.jsx($t,{mode:"default",padding:2,text:o("common.dialog.confirm-button.text"),tone:"critical","data-testid":"confirm-button",...n.confirmButton})]}),children:u.jsx(L,{height:e,padding:r?4:0,children:t})})}),Gt=f.forwardRef(function(e,t){return u.jsx(Obe,{...e,ref:t,popover:{...e.popover,animate:!0}})}),BV=e=>u.jsx(Pbe,{...e,fontSize:1,padding:3});function VV({makePlatformAware:e=!0,keys:t=[],...n}){const r=e?t.map(oet):t;return u.jsx(PV,{...n,keys:r})}const DJ=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function oet(e){const t=e.toLowerCase();return t==="alt"&&DJ?MJ(e,"option"):t==="option"&&!DJ?MJ(e,"alt"):e}function MJ(e,t){const n=e.length;return t.replace(/./g,(r,i)=>i<n&&e[i]===e[i].toUpperCase()?r.toUpperCase():r)}const T$=1,set=0,uet=$(N)`
  margin-top: 2px;
`,cet=$(L)`
  height: 25px;
  width: 25px;
  overflow: hidden;
`,He=f.forwardRef(function({badgeText:e,children:t,disabled:n,hotkeys:r,icon:i,iconRight:a,preview:o=null,renderMenuItem:s,text:l,tooltipProps:c,__unstable_subtitle:d,__unstable_space:h,...p},m){const g=f.useMemo(()=>u.jsxs(z,{align:"center",gap:2,children:[o&&u.jsx(cet,{style:{opacity:n?.25:void 0},paddingRight:h?1:0,children:u.jsx(z,{align:"center",height:"fill",justify:"center",children:o})}),i&&u.jsx(L,{paddingRight:1,children:u.jsxs(N,{size:T$,children:[f.isValidElement(i)&&i,ka.isValidElementType(i)&&f.createElement(i)]})}),l&&u.jsxs(ne,{flex:1,space:d?1:2,paddingLeft:d?1:0,children:[u.jsx(N,{size:T$,textOverflow:"ellipsis",weight:"medium",children:l}),d&&u.jsx(uet,{size:set,textOverflow:"ellipsis",weight:"medium",muted:!0,children:d})]}),(e||r||a)&&u.jsxs(z,{align:"center",gap:3,marginLeft:3,children:[r&&u.jsx(VV,{keys:r,style:{marginTop:-4,marginBottom:-4}}),e&&u.jsx(ao,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:e}),a&&u.jsxs(N,{size:T$,children:[f.isValidElement(a)&&a,ka.isValidElementType(a)&&f.createElement(a)]})]})]}),[o,n,h,i,l,d,e,r,a]),y=f.useCallback(v=>u.jsx(bt,{content:c==null?void 0:c.content,portal:!0,...c,children:u.jsx("div",{children:v})}),[c]);return u.jsx(Kv,{condition:!!c,wrapper:y,children:u.jsx(u0,{disabled:n,paddingLeft:o?1:3,paddingRight:3,paddingY:o?1:3,ref:m,...p,children:typeof t>"u"&&typeof s=="function"?s(g):g})})}),_n=f.forwardRef(function(e,t){return u.jsx(Fp,{...e,animate:!0,ref:t})}),BC=f.forwardRef(function({tone:e="default",...t},n){return u.jsx(NV,{...t,muted:!0,padding:2,ref:n,tone:e})}),exe={open:400},RJ={animate:!0,arrow:!1,boundaryElement:null,delay:exe,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},bt=f.forwardRef(function(e,t){const{content:n,hotkeys:r,...i}=e;return typeof n=="string"?u.jsx(nA,{...RJ,content:u.jsxs(z,{align:"center",children:[n&&u.jsx(L,{flex:1,padding:1,children:u.jsx(N,{size:1,children:n})}),r&&u.jsx(L,{flex:"none",children:u.jsx(VV,{keys:r})})]}),padding:1,ref:t,...i}):u.jsx(nA,{...RJ,content:n,ref:t,...i})}),Ja=e=>u.jsx(jbe,{delay:exe,children:e.children}),det="https://docs.sanity.io/help/";function txe(e){return det+e}function fet(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var zV=fet,het=jf,pet=il,met="[object Arguments]";function get(e){return pet(e)&&het(e)==met}var yet=get,OJ=yet,vet=il,nxe=Object.prototype,bet=nxe.hasOwnProperty,xet=nxe.propertyIsEnumerable,wet=OJ(function(){return arguments}())?OJ:function(e){return vet(e)&&bet.call(e,"callee")&&!xet.call(e,"callee")},SD=wet,Cet=Array.isArray,Yi=Cet,$J=Tv,Eet=SD,ket=Yi,PJ=$J?$J.isConcatSpreadable:void 0;function _et(e){return ket(e)||Eet(e)||!!(PJ&&e&&e[PJ])}var Tet=_et,Aet=zV,jet=Tet;function rxe(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=jet),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?rxe(s,t-1,n,r,i):Aet(i,s):r||(i[i.length]=s)}return i}var Zv=rxe;function Iet(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Gu=Iet,Det=Yi,Met=e0,Ret=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oet=/^\w*$/;function $et(e,t){if(Det(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Met(e)?!0:Oet.test(e)||!Ret.test(e)||t!=null&&e in Object(t)}var UV=$et,Pet=jf,Fet=eu,Net="[object AsyncFunction]",Let="[object Function]",Bet="[object GeneratorFunction]",Vet="[object Proxy]";function zet(e){if(!Fet(e))return!1;var t=Pet(e);return t==Let||t==Bet||t==Net||t==Vet}var ixe=zet,Uet=tu,Het=Uet["__core-js_shared__"],Wet=Het,A$=Wet,FJ=function(){var e=/[^.]+$/.exec(A$&&A$.keys&&A$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Get(e){return!!FJ&&FJ in e}var Yet=Get,qet=Function.prototype,Ket=qet.toString;function Zet(e){if(e!=null){try{return Ket.call(e)}catch{}try{return e+""}catch{}}return""}var axe=Zet,Xet=ixe,Jet=Yet,Qet=eu,ett=axe,ttt=/[\\^$.*+?()[\]{}|]/g,ntt=/^\[object .+?Constructor\]$/,rtt=Function.prototype,itt=Object.prototype,att=rtt.toString,ott=itt.hasOwnProperty,stt=RegExp("^"+att.call(ott).replace(ttt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ltt(e){if(!Qet(e)||Jet(e))return!1;var t=Xet(e)?stt:ntt;return t.test(ett(e))}var utt=ltt;function ctt(e,t){return e==null?void 0:e[t]}var dtt=ctt,ftt=utt,htt=dtt;function ptt(e,t){var n=htt(e,t);return ftt(n)?n:void 0}var c0=ptt,mtt=c0,gtt=mtt(Object,"create"),ED=gtt,NJ=ED;function ytt(){this.__data__=NJ?NJ(null):{},this.size=0}var vtt=ytt;function btt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xtt=btt,wtt=ED,Ctt="__lodash_hash_undefined__",Stt=Object.prototype,Ett=Stt.hasOwnProperty;function ktt(e){var t=this.__data__;if(wtt){var n=t[e];return n===Ctt?void 0:n}return Ett.call(t,e)?t[e]:void 0}var _tt=ktt,Ttt=ED,Att=Object.prototype,jtt=Att.hasOwnProperty;function Itt(e){var t=this.__data__;return Ttt?t[e]!==void 0:jtt.call(t,e)}var Dtt=Itt,Mtt=ED,Rtt="__lodash_hash_undefined__";function Ott(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mtt&&t===void 0?Rtt:t,this}var $tt=Ott,Ptt=vtt,Ftt=xtt,Ntt=_tt,Ltt=Dtt,Btt=$tt;function Xv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xv.prototype.clear=Ptt;Xv.prototype.delete=Ftt;Xv.prototype.get=Ntt;Xv.prototype.has=Ltt;Xv.prototype.set=Btt;var Vtt=Xv;function ztt(){this.__data__=[],this.size=0}var Utt=ztt;function Htt(e,t){return e===t||e!==e&&t!==t}var bE=Htt,Wtt=bE;function Gtt(e,t){for(var n=e.length;n--;)if(Wtt(e[n][0],t))return n;return-1}var kD=Gtt,Ytt=kD,qtt=Array.prototype,Ktt=qtt.splice;function Ztt(e){var t=this.__data__,n=Ytt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ktt.call(t,n,1),--this.size,!0}var Xtt=Ztt,Jtt=kD;function Qtt(e){var t=this.__data__,n=Jtt(t,e);return n<0?void 0:t[n][1]}var ent=Qtt,tnt=kD;function nnt(e){return tnt(this.__data__,e)>-1}var rnt=nnt,int=kD;function ant(e,t){var n=this.__data__,r=int(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ont=ant,snt=Utt,lnt=Xtt,unt=ent,cnt=rnt,dnt=ont;function Jv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jv.prototype.clear=snt;Jv.prototype.delete=lnt;Jv.prototype.get=unt;Jv.prototype.has=cnt;Jv.prototype.set=dnt;var _D=Jv,fnt=c0,hnt=tu,pnt=fnt(hnt,"Map"),HV=pnt,LJ=Vtt,mnt=_D,gnt=HV;function ynt(){this.size=0,this.__data__={hash:new LJ,map:new(gnt||mnt),string:new LJ}}var vnt=ynt;function bnt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xnt=bnt,wnt=xnt;function Cnt(e,t){var n=e.__data__;return wnt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var TD=Cnt,Snt=TD;function Ent(e){var t=Snt(this,e).delete(e);return this.size-=t?1:0,t}var knt=Ent,_nt=TD;function Tnt(e){return _nt(this,e).get(e)}var Ant=Tnt,jnt=TD;function Int(e){return jnt(this,e).has(e)}var Dnt=Int,Mnt=TD;function Rnt(e,t){var n=Mnt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Ont=Rnt,$nt=vnt,Pnt=knt,Fnt=Ant,Nnt=Dnt,Lnt=Ont;function Qv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qv.prototype.clear=$nt;Qv.prototype.delete=Pnt;Qv.prototype.get=Fnt;Qv.prototype.has=Nnt;Qv.prototype.set=Lnt;var WV=Qv,oxe=WV,Bnt="Expected a function";function GV(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Bnt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(GV.Cache||oxe),n}GV.Cache=oxe;var sxe=GV;const AD=Fe(sxe);var Vnt=sxe,znt=500;function Unt(e){var t=Vnt(e,function(r){return n.size===znt&&n.clear(),r}),n=t.cache;return t}var Hnt=Unt,Wnt=Hnt,Gnt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ynt=/\\(\\)?/g,qnt=Wnt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gnt,function(n,r,i,a){t.push(i?a.replace(Ynt,"$1"):r||n)}),t}),lxe=qnt,BJ=Tv,Knt=Gu,Znt=Yi,Xnt=e0,Jnt=1/0,VJ=BJ?BJ.prototype:void 0,zJ=VJ?VJ.toString:void 0;function uxe(e){if(typeof e=="string")return e;if(Znt(e))return Knt(e,uxe)+"";if(Xnt(e))return zJ?zJ.call(e):"";var t=e+"";return t=="0"&&1/e==-Jnt?"-0":t}var cxe=uxe,Qnt=cxe;function ert(e){return e==null?"":Qnt(e)}var iu=ert,trt=Yi,nrt=UV,rrt=lxe,irt=iu;function art(e,t){return trt(e)?e:nrt(e,t)?[e]:rrt(irt(e))}var eb=art,ort=e0,srt=1/0;function lrt(e){if(typeof e=="string"||ort(e))return e;var t=e+"";return t=="0"&&1/e==-srt?"-0":t}var d0=lrt,urt=eb,crt=d0;function drt(e,t){t=urt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[crt(t[n++])];return n&&n==r?e:void 0}var xE=drt,frt=_D;function hrt(){this.__data__=new frt,this.size=0}var prt=hrt;function mrt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var grt=mrt;function yrt(e){return this.__data__.get(e)}var vrt=yrt;function brt(e){return this.__data__.has(e)}var xrt=brt,wrt=_D,Crt=HV,Srt=WV,Ert=200;function krt(e,t){var n=this.__data__;if(n instanceof wrt){var r=n.__data__;if(!Crt||r.length<Ert-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Srt(r)}return n.set(e,t),this.size=n.size,this}var _rt=krt,Trt=_D,Art=prt,jrt=grt,Irt=vrt,Drt=xrt,Mrt=_rt;function tb(e){var t=this.__data__=new Trt(e);this.size=t.size}tb.prototype.clear=Art;tb.prototype.delete=jrt;tb.prototype.get=Irt;tb.prototype.has=Drt;tb.prototype.set=Mrt;var YV=tb,Rrt="__lodash_hash_undefined__";function Ort(e){return this.__data__.set(e,Rrt),this}var $rt=Ort;function Prt(e){return this.__data__.has(e)}var Frt=Prt,Nrt=WV,Lrt=$rt,Brt=Frt;function aA(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Nrt;++t<n;)this.add(e[t])}aA.prototype.add=aA.prototype.push=Lrt;aA.prototype.has=Brt;var jD=aA;function Vrt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zrt=Vrt;function Urt(e,t){return e.has(t)}var ID=Urt,Hrt=jD,Wrt=zrt,Grt=ID,Yrt=1,qrt=2;function Krt(e,t,n,r,i,a){var o=n&Yrt,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,m=n&qrt?new Hrt:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var g=e[h],y=t[h];if(r)var v=o?r(y,g,h,t,e,a):r(g,y,h,e,t,a);if(v!==void 0){if(v)continue;p=!1;break}if(m){if(!Wrt(t,function(b,x){if(!Grt(m,x)&&(g===b||i(g,b,n,r,a)))return m.push(x)})){p=!1;break}}else if(!(g===y||i(g,y,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var dxe=Krt,Zrt=tu,Xrt=Zrt.Uint8Array,fxe=Xrt;function Jrt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var hxe=Jrt;function Qrt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var qV=Qrt,UJ=Tv,HJ=fxe,eit=bE,tit=dxe,nit=hxe,rit=qV,iit=1,ait=2,oit="[object Boolean]",sit="[object Date]",lit="[object Error]",uit="[object Map]",cit="[object Number]",dit="[object RegExp]",fit="[object Set]",hit="[object String]",pit="[object Symbol]",mit="[object ArrayBuffer]",git="[object DataView]",WJ=UJ?UJ.prototype:void 0,j$=WJ?WJ.valueOf:void 0;function yit(e,t,n,r,i,a,o){switch(n){case git:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mit:return!(e.byteLength!=t.byteLength||!a(new HJ(e),new HJ(t)));case oit:case sit:case cit:return eit(+e,+t);case lit:return e.name==t.name&&e.message==t.message;case dit:case hit:return e==t+"";case uit:var s=nit;case fit:var l=r&iit;if(s||(s=rit),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=ait,o.set(e,t);var d=tit(s(e),s(t),r,i,a,o);return o.delete(e),d;case pit:if(j$)return j$.call(e)==j$.call(t)}return!1}var vit=yit,bit=zV,xit=Yi;function wit(e,t,n){var r=t(e);return xit(e)?r:bit(r,n(e))}var pxe=wit;function Cit(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var mxe=Cit;function Sit(){return[]}var gxe=Sit,Eit=mxe,kit=gxe,_it=Object.prototype,Tit=_it.propertyIsEnumerable,GJ=Object.getOwnPropertySymbols,Ait=GJ?function(e){return e==null?[]:(e=Object(e),Eit(GJ(e),function(t){return Tit.call(e,t)}))}:kit,KV=Ait;function jit(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Iit=jit,oA={exports:{}};function Dit(){return!1}var Mit=Dit;oA.exports;(function(e,t){var n=tu,r=Mit,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(oA,oA.exports);var DD=oA.exports,Rit=9007199254740991,Oit=/^(?:0|[1-9]\d*)$/;function $it(e,t){var n=typeof e;return t=t??Rit,!!t&&(n=="number"||n!="symbol"&&Oit.test(e))&&e>-1&&e%1==0&&e<t}var MD=$it,Pit=9007199254740991;function Fit(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Pit}var ZV=Fit,Nit=jf,Lit=ZV,Bit=il,Vit="[object Arguments]",zit="[object Array]",Uit="[object Boolean]",Hit="[object Date]",Wit="[object Error]",Git="[object Function]",Yit="[object Map]",qit="[object Number]",Kit="[object Object]",Zit="[object RegExp]",Xit="[object Set]",Jit="[object String]",Qit="[object WeakMap]",eat="[object ArrayBuffer]",tat="[object DataView]",nat="[object Float32Array]",rat="[object Float64Array]",iat="[object Int8Array]",aat="[object Int16Array]",oat="[object Int32Array]",sat="[object Uint8Array]",lat="[object Uint8ClampedArray]",uat="[object Uint16Array]",cat="[object Uint32Array]",Wr={};Wr[nat]=Wr[rat]=Wr[iat]=Wr[aat]=Wr[oat]=Wr[sat]=Wr[lat]=Wr[uat]=Wr[cat]=!0;Wr[Vit]=Wr[zit]=Wr[eat]=Wr[Uit]=Wr[tat]=Wr[Hit]=Wr[Wit]=Wr[Git]=Wr[Yit]=Wr[qit]=Wr[Kit]=Wr[Zit]=Wr[Xit]=Wr[Jit]=Wr[Qit]=!1;function dat(e){return Bit(e)&&Lit(e.length)&&!!Wr[Nit(e)]}var fat=dat;function hat(e){return function(t){return e(t)}}var nb=hat,sA={exports:{}};sA.exports;(function(e,t){var n=qhe,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(sA,sA.exports);var XV=sA.exports,pat=fat,mat=nb,YJ=XV,qJ=YJ&&YJ.isTypedArray,gat=qJ?mat(qJ):pat,JV=gat,yat=Iit,vat=SD,bat=Yi,xat=DD,wat=MD,Cat=JV,Sat=Object.prototype,Eat=Sat.hasOwnProperty;function kat(e,t){var n=bat(e),r=!n&&vat(e),i=!n&&!r&&xat(e),a=!n&&!r&&!i&&Cat(e),o=n||r||i||a,s=o?yat(e.length,String):[],l=s.length;for(var c in e)(t||Eat.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wat(c,l)))&&s.push(c);return s}var yxe=kat,_at=Object.prototype;function Tat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||_at;return e===n}var RD=Tat;function Aat(e,t){return function(n){return e(t(n))}}var vxe=Aat,jat=vxe,Iat=jat(Object.keys,Object),Dat=Iat,Mat=RD,Rat=Dat,Oat=Object.prototype,$at=Oat.hasOwnProperty;function Pat(e){if(!Mat(e))return Rat(e);var t=[];for(var n in Object(e))$at.call(e,n)&&n!="constructor"&&t.push(n);return t}var bxe=Pat,Fat=ixe,Nat=ZV;function Lat(e){return e!=null&&Nat(e.length)&&!Fat(e)}var Np=Lat,Bat=yxe,Vat=bxe,zat=Np;function Uat(e){return zat(e)?Bat(e):Vat(e)}var Kc=Uat,Hat=pxe,Wat=KV,Gat=Kc;function Yat(e){return Hat(e,Gat,Wat)}var xxe=Yat,KJ=xxe,qat=1,Kat=Object.prototype,Zat=Kat.hasOwnProperty;function Xat(e,t,n,r,i,a){var o=n&qat,s=KJ(e),l=s.length,c=KJ(t),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var p=s[h];if(!(o?p in t:Zat.call(t,p)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var y=!0;a.set(e,t),a.set(t,e);for(var v=o;++h<l;){p=s[h];var b=e[p],x=t[p];if(r)var w=o?r(x,b,p,t,e,a):r(b,x,p,e,t,a);if(!(w===void 0?b===x||i(b,x,n,r,a):w)){y=!1;break}v||(v=p=="constructor")}if(y&&!v){var C=e.constructor,S=t.constructor;C!=S&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(e),a.delete(t),y}var Jat=Xat,Qat=c0,eot=tu,tot=Qat(eot,"DataView"),not=tot,rot=c0,iot=tu,aot=rot(iot,"Promise"),oot=aot,sot=c0,lot=tu,uot=sot(lot,"Set"),wxe=uot,cot=c0,dot=tu,fot=cot(dot,"WeakMap"),Cxe=fot,wN=not,CN=HV,SN=oot,EN=wxe,kN=Cxe,Sxe=jf,rb=axe,ZJ="[object Map]",hot="[object Object]",XJ="[object Promise]",JJ="[object Set]",QJ="[object WeakMap]",eQ="[object DataView]",pot=rb(wN),mot=rb(CN),got=rb(SN),yot=rb(EN),vot=rb(kN),mm=Sxe;(wN&&mm(new wN(new ArrayBuffer(1)))!=eQ||CN&&mm(new CN)!=ZJ||SN&&mm(SN.resolve())!=XJ||EN&&mm(new EN)!=JJ||kN&&mm(new kN)!=QJ)&&(mm=function(e){var t=Sxe(e),n=t==hot?e.constructor:void 0,r=n?rb(n):"";if(r)switch(r){case pot:return eQ;case mot:return ZJ;case got:return XJ;case yot:return JJ;case vot:return QJ}return t});var ib=mm,I$=YV,bot=dxe,xot=vit,wot=Jat,tQ=ib,nQ=Yi,rQ=DD,Cot=JV,Sot=1,iQ="[object Arguments]",aQ="[object Array]",S2="[object Object]",Eot=Object.prototype,oQ=Eot.hasOwnProperty;function kot(e,t,n,r,i,a){var o=nQ(e),s=nQ(t),l=o?aQ:tQ(e),c=s?aQ:tQ(t);l=l==iQ?S2:l,c=c==iQ?S2:c;var d=l==S2,h=c==S2,p=l==c;if(p&&rQ(e)){if(!rQ(t))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new I$),o||Cot(e)?bot(e,t,n,r,i,a):xot(e,t,l,n,r,i,a);if(!(n&Sot)){var m=d&&oQ.call(e,"__wrapped__"),g=h&&oQ.call(t,"__wrapped__");if(m||g){var y=m?e.value():e,v=g?t.value():t;return a||(a=new I$),i(y,v,n,r,a)}}return p?(a||(a=new I$),wot(e,t,n,r,i,a)):!1}var _ot=kot,Tot=_ot,sQ=il;function Exe(e,t,n,r,i){return e===t?!0:e==null||t==null||!sQ(e)&&!sQ(t)?e!==e&&t!==t:Tot(e,t,n,r,Exe,i)}var QV=Exe,Aot=YV,jot=QV,Iot=1,Dot=2;function Mot(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],c=e[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var h=new Aot;if(r)var p=r(c,d,l,e,t,h);if(!(p===void 0?jot(d,c,Iot|Dot,r,h):p))return!1}}return!0}var Rot=Mot,Oot=eu;function $ot(e){return e===e&&!Oot(e)}var kxe=$ot,Pot=kxe,Fot=Kc;function Not(e){for(var t=Fot(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Pot(i)]}return t}var Lot=Not;function Bot(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var _xe=Bot,Vot=Rot,zot=Lot,Uot=_xe;function Hot(e){var t=zot(e);return t.length==1&&t[0][2]?Uot(t[0][0],t[0][1]):function(n){return n===e||Vot(n,e,t)}}var Wot=Hot,Got=xE;function Yot(e,t,n){var r=e==null?void 0:Got(e,t);return r===void 0?n:r}var Txe=Yot;const ir=Fe(Txe);function qot(e,t){return e!=null&&t in Object(e)}var Kot=qot,Zot=eb,Xot=SD,Jot=Yi,Qot=MD,est=ZV,tst=d0;function nst(e,t,n){t=Zot(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=tst(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&est(i)&&Qot(o,i)&&(Jot(e)||Xot(e)))}var rst=nst,ist=Kot,ast=rst;function ost(e,t){return e!=null&&ast(e,t,ist)}var Axe=ost,sst=QV,lst=Txe,ust=Axe,cst=UV,dst=kxe,fst=_xe,hst=d0,pst=1,mst=2;function gst(e,t){return cst(e)&&dst(t)?fst(hst(e),t):function(n){var r=lst(n,e);return r===void 0&&r===t?ust(n,e):sst(t,r,pst|mst)}}var yst=gst;function vst(e){return e}var f0=vst;const jxe=Fe(f0);function bst(e){return function(t){return t==null?void 0:t[e]}}var xst=bst,wst=xE;function Cst(e){return function(t){return wst(t,e)}}var Sst=Cst,Est=xst,kst=Sst,_st=UV,Tst=d0;function Ast(e){return _st(e)?Est(Tst(e)):kst(e)}var jst=Ast,Ist=Wot,Dst=yst,Mst=f0,Rst=Yi,Ost=jst;function $st(e){return typeof e=="function"?e:e==null?Mst:typeof e=="object"?Rst(e)?Dst(e[0],e[1]):Ist(e):Ost(e)}var Lp=$st;function Pst(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var Fst=Pst,Nst=Fst,Lst=Nst(),Bst=Lst,Vst=Bst,zst=Kc;function Ust(e,t){return e&&Vst(e,t,zst)}var Hst=Ust,Wst=Np;function Gst(e,t){return function(n,r){if(n==null)return n;if(!Wst(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Yst=Gst,qst=Hst,Kst=Yst,Zst=Kst(qst),Ixe=Zst,Xst=Ixe,Jst=Np;function Qst(e,t){var n=-1,r=Jst(e)?Array(e.length):[];return Xst(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var Dxe=Qst;function elt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var tlt=elt,lQ=e0;function nlt(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=lQ(e),o=t!==void 0,s=t===null,l=t===t,c=lQ(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var rlt=nlt,ilt=rlt;function alt(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=ilt(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var olt=alt,D$=Gu,slt=xE,llt=Lp,ult=Dxe,clt=tlt,dlt=nb,flt=olt,hlt=f0,plt=Yi;function mlt(e,t,n){t.length?t=D$(t,function(a){return plt(a)?function(o){return slt(o,a.length===1?a[0]:a)}:a}):t=[hlt];var r=-1;t=D$(t,dlt(llt));var i=ult(e,function(a,o,s){var l=D$(t,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return clt(i,function(a,o){return flt(a,o,n)})}var Mxe=mlt;function glt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Rxe=glt,ylt=Rxe,uQ=Math.max;function vlt(e,t,n){return t=uQ(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=uQ(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),ylt(e,this,s)}}var Oxe=vlt;function blt(e){return function(){return e}}var xlt=blt,wlt=c0,Clt=function(){try{var e=wlt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$xe=Clt,Slt=xlt,cQ=$xe,Elt=f0,klt=cQ?function(e,t){return cQ(e,"toString",{configurable:!0,enumerable:!1,value:Slt(t),writable:!0})}:Elt,_lt=klt,Tlt=800,Alt=16,jlt=Date.now;function Ilt(e){var t=0,n=0;return function(){var r=jlt(),i=Alt-(r-n);if(n=r,i>0){if(++t>=Tlt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Dlt=Ilt,Mlt=_lt,Rlt=Dlt,Olt=Rlt(Mlt),Pxe=Olt,$lt=f0,Plt=Oxe,Flt=Pxe;function Nlt(e,t){return Flt(Plt(e,t,$lt),e+"")}var h0=Nlt,Llt=bE,Blt=Np,Vlt=MD,zlt=eu;function Ult(e,t,n){if(!zlt(n))return!1;var r=typeof t;return(r=="number"?Blt(n)&&Vlt(t,n.length):r=="string"&&t in n)?Llt(n[t],e):!1}var OD=Ult,Hlt=Zv,Wlt=Mxe,Glt=h0,dQ=OD,Ylt=Glt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&dQ(e,t[0],t[1])?t=[]:n>2&&dQ(t[0],t[1],t[2])&&(t=[t[0]]),Wlt(e,Hlt(t,1),[])}),qlt=Ylt;const Bp=Fe(qlt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lA.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uA.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(e,t,n){var r,i=(r=n.initialDeps)!=null?r:[],a;return function(){var o;n.key&&n.debug!=null&&n.debug()&&(o=Date.now());var s=e(),l=s.length!==i.length||s.some(function(g,y){return i[y]!==g});if(!l)return a;i=s;var c;if(n.key&&n.debug!=null&&n.debug()&&(c=Date.now()),a=t.apply(void 0,s),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-c)*100)/100,p=h/16,m=function(y,v){for(y=String(y);y.length<v;)y=" "+y;return y};console.info("%c "+m(h,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(a),a}}function M$(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Klt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zlt=function(t){return t},Fxe=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),i=[],a=n;a<=r;a++)i.push(a);return i},Xlt=function(t,n){var r=t.scrollElement;if(r){var i=function(s){var l=s.width,c=s.height;n({width:Math.round(l),height:Math.round(c)})};i(r.getBoundingClientRect());var a=new ResizeObserver(function(o){var s=o[0];if(s!=null&&s.borderBoxSize){var l=s.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return a.observe(r,{box:"border-box"}),function(){a.unobserve(r)}}},Jlt=function(t,n){var r=t.scrollElement;if(r){var i=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},Qlt=function(t,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var a=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return a}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Nxe=function(t,n,r){var i,a,o=n.adjustments,s=o===void 0?0:o,l=n.behavior,c=t+s;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((a={},a[r.options.horizontal?"left":"top"]=c,a.behavior=l,a))},eut=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(o){o.forEach(function(s){n._measureElement(s.target,s)})}):null)};return{disconnect:function(){var o;return(o=i())==null?void 0:o.disconnect()},observe:function(o){var s;return(s=i())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:function(o){var s;return(s=i())==null?void 0:s.unobserve(o)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var a=i[0],o=i[1];typeof o>"u"&&delete r[a]}),n.options=uA({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Zlt,rangeExtractor:Fxe,onChange:function(){},measureElement:Qlt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var a=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==a.width:i.height!==a.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Y0(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,a,o){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:a,getItemKey:o}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var a=new Map,o=new Map,s=i-1;s>=0;s--){var l=r[s];if(!a.has(l.lane)){var c=o.get(l.lane);if(c==null||l.end>c.end?o.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===n.options.lanes)break}}return o.size===n.options.lanes?Array.from(o.values()).sort(function(d,h){return d.end-h.end})[0]:void 0},this.getMeasurements=Y0(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var a=r.count,o=r.paddingStart,s=r.scrollMargin,l=r.getItemKey,c=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,c),h=c;h<a;h++){var p=l(h),m=n.options.lanes===1?d[h-1]:n.getFurthestMeasurement(d,h),g=m?m.end:o+s,y=i.get(p),v=typeof y=="number"?y:n.options.estimateSize(h),b=g+v,x=m?m.lane:h%n.options.lanes;d[h]={index:h,start:g,size:v,end:b,key:p,lane:x}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Y0(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,a){return n.range=tut({measurements:r,outerSize:i,scrollOffset:a})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Y0(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Y0(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,a,o){return r(uA({},i,{overscan:a,count:o}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,a=r.getAttribute(i);return a?parseInt(a,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var a,o=n.indexFromElement(r),s=n.measurementsCache[o];if(s){var l=n.measureElementCache.get(s.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(s.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(s.key,r));var c=n.options.measureElement(r,i,n),d=(a=n.itemSizeCache.get(s.key))!=null?a:s.size,h=c-d;h!==0&&(s.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=h,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(o),n.itemSizeCache=new Map(n.itemSizeCache.set(s.key,c)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Y0(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var a=[],o=0,s=r.length;o<s;o++){var l=r[o],c=i[l];a.push(c)}return a},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return M$(i[Lxe(0,i.length-1,function(a){return M$(i[a]).start},r)])},this.getOffsetForAlignment=function(r,i){var a=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+a?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-a:i==="center"&&(r=r-a/2);var o=n.options.horizontal?"scrollWidth":"scrollHeight",s=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[o]:n.scrollElement[o]:0,l=s-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var a=M$(n.getMeasurements()[r]);if(i==="auto")if(a.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(a.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var o=i==="end"?a.end+n.options.scrollPaddingEnd:a.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(o,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var a=i===void 0?{}:i,o=a.align,s=o===void 0?"start":o,l=a.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var a=i===void 0?{}:i,o=a.align,s=o===void 0?"auto":o,l=a.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var c=n.getOffsetForIndex(r,s),d=c[0],h=c[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,h),g=m[0];Klt(g,n.scrollOffset)||n.scrollToIndex(r,{align:h,behavior:l})}else n.scrollToIndex(r,{align:h,behavior:l})}))},this.scrollBy=function(r,i){var a=i===void 0?{}:i,o=a.behavior;n.cancelScrollToIndex(),o==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var a=i.adjustments,o=i.behavior;n.options.scrollToFn(r,{behavior:o,adjustments:a},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},Lxe=function(t,n,r,i){for(;t<=n;){var a=(t+n)/2|0,o=r(a);if(o<i)t=a+1;else if(o>i)n=a-1;else return a}return t>0?t-1:0};function tut(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,a=function(c){return t[c].start},o=Lxe(0,i,a,r),s=o;s<i&&t[s].end<r+n;)s++;return{startIndex:o,endIndex:s}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nut=typeof document<"u"?f.useLayoutEffect:f.useEffect;function rut(e){var t=f.useReducer(function(){return{}},{})[1],n=lA({},e,{onChange:function(o){t(),e.onChange==null||e.onChange(o)}}),r=f.useState(function(){return new eut(n)}),i=r[0];return i.setOptions(n),f.useEffect(function(){return i._didMount()},[]),nut(function(){return i._willUpdate()}),i}function ez(e){return rut(lA({observeElementRect:Xlt,observeElementOffset:Jlt,scrollToFn:Nxe},e))}var iut=Jhe,aut=eu,out="Expected a function";function sut(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(out);return aut(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),iut(e,t,{leading:r,maxWait:t,trailing:i})}var lut=sut;const ab=Fe(lut);function uut(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(null,arguments)}var _N="data-focus-lock",Bxe="data-focus-lock-disabled",cut="data-no-focus-lock",dut="data-autofocus-inside",fut="data-no-autofocus";function R$(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hut(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var put=typeof window<"u"?f.useLayoutEffect:f.useEffect,fQ=new WeakMap;function mut(e,t){var n=hut(t||null,function(r){return e.forEach(function(i){return R$(i,r)})});return put(function(){var r=fQ.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||R$(s,null)}),a.forEach(function(s){i.has(s)||R$(s,o)})}fQ.set(n,e)},[e]),n}var O$={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},TN=function(e,t){return TN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TN(e,t)};function ll(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TN(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var AN=function(){return AN=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},AN.apply(this,arguments)};function gut(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})}function Vxe(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ag(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function ks(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ay(e){return this instanceof ay?(this.v=e,this):new ay(e)}function yut(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(g){return Promise.resolve(g).then(m,h)}}function s(m,g){r[m]&&(i[m]=function(y){return new Promise(function(v,b){a.push([m,y,v,b])>1||l(m,y)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(y){p(a[0][3],y)}}function c(m){m.value instanceof ay?Promise.resolve(m.value.v).then(d,h):p(a[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function p(m,g){m(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function vut(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ag=="function"?Ag(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function zxe(e){return e}function Uxe(e,t){t===void 0&&(t=zxe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function tz(e,t){return t===void 0&&(t=zxe),Uxe(e,t)}function but(e){e===void 0&&(e={});var t=Uxe(null);return t.options=AN({async:!0,ssr:!1},e),t}var Hxe=tz({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),Wxe=tz(),xut=tz(),wut=but({async:!0,ssr:typeof document<"u"}),Cut=f.createContext(void 0),Sut=[],Gxe=f.forwardRef(function(t,n){var r,i=f.useState(),a=i[0],o=i[1],s=f.useRef(),l=f.useRef(!1),c=f.useRef(null),d=f.useState({}),h=d[1],p=t.children,m=t.disabled,g=m===void 0?!1:m,y=t.noFocusGuards,v=y===void 0?!1:y,b=t.persistentFocus,x=b===void 0?!1:b,w=t.crossFrame,C=w===void 0?!0:w,S=t.autoFocus,E=S===void 0?!0:S;t.allowTextSelection;var k=t.group,_=t.className,T=t.whiteList,j=t.hasPositiveIndices,A=t.shards,I=A===void 0?Sut:A,M=t.as,D=M===void 0?"div":M,O=t.lockProps,R=O===void 0?{}:O,F=t.sideCar,P=t.returnFocus,V=P===void 0?!1:P,U=t.focusOptions,H=t.onActivation,W=t.onDeactivation,Z=f.useState({}),J=Z[0],re=f.useCallback(function(ye){var Ee=ye.captureFocusRestore;if(!c.current){var ke,ge=(ke=document)==null?void 0:ke.activeElement;c.current=ge,ge!==document.body&&(c.current=Ee(ge))}s.current&&H&&H(s.current),l.current=!0,h()},[H]),G=f.useCallback(function(){l.current=!1,W&&W(s.current),h()},[W]),te=f.useCallback(function(ye){var Ee=c.current;if(Ee){var ke=(typeof Ee=="function"?Ee():Ee)||document.body,ge=typeof V=="function"?V(ke):V;if(ge){var je=typeof ge=="object"?ge:void 0;c.current=null,ye?Promise.resolve().then(function(){return ke.focus(je)}):ke.focus(je)}}},[V]),X=f.useCallback(function(ye){l.current&&Hxe.useMedium(ye)},[]),K=Wxe.useMedium,Q=f.useCallback(function(ye){s.current!==ye&&(s.current=ye,o(ye))},[]),ee=pf((r={},r[Bxe]=g&&"disabled",r[_N]=k,r),R),se=v!==!0,le=se&&v!=="tail",oe=mut([n,Q]),ue=f.useMemo(function(){return{observed:s,shards:I,enabled:!g,active:l.current}},[g,l.current,I,a]);return f.createElement(f.Fragment,null,se&&[f.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:O$}),j?f.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:O$}):null],!g&&f.createElement(F,{id:J,sideCar:wut,observed:a,disabled:g,persistentFocus:x,crossFrame:C,autoFocus:E,whiteList:T,shards:I,onActivation:re,onDeactivation:G,returnFocus:te,focusOptions:U,noFocusGuards:v}),f.createElement(D,pf({ref:oe},ee,{className:_,onBlur:K,onFocus:X}),f.createElement(Cut.Provider,{value:ue},p)),le&&f.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:O$}))});Gxe.propTypes={};const Yxe=Gxe;function cA(e,t){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cA(e,t)}function Eut(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cA(e,t)}function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function kut(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qxe(e){var t=kut(e,"string");return Bu(t)=="symbol"?t:t+""}function tt(e,t,n){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ut(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var a=[],o;function s(){o=e(a.map(function(c){return c.props})),t(o)}var l=function(c){Eut(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var h=d.prototype;return h.componentDidMount=function(){a.push(this),s()},h.componentDidUpdate=function(){s()},h.componentWillUnmount=function(){var m=a.indexOf(this);a.splice(m,1),s()},h.render=function(){return Xe.createElement(i,this.props)},d}(f.PureComponent);return tt(l,"displayName","SideEffect("+n(i)+")"),l}}var Zc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},jg=function(e){return Array.isArray(e)?e:[e]},Kxe=function(e){return Array.isArray(e)?e[0]:e},Tut=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Zxe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Xxe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Aut=function(e){return e.hasAttribute("inert")},jut=function(e,t){return!e||Xxe(e)||!Tut(e)&&!Aut(e)&&t(Zxe(e))},Jxe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=jut(t,Jxe.bind(void 0,e));return e.set(t,r),r},Iut=function(e,t){return e&&!Xxe(e)?Rut(e)?t(Zxe(e)):!1:!0},Qxe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Iut(t,Qxe.bind(void 0,e));return e.set(t,r),r},ewe=function(e){return e.dataset},Dut=function(e){return e.tagName==="BUTTON"},twe=function(e){return e.tagName==="INPUT"},nwe=function(e){return twe(e)&&e.type==="radio"},Mut=function(e){return!((twe(e)||Dut(e))&&(e.type==="hidden"||e.disabled))},Rut=function(e){var t=e.getAttribute(fut);return![!0,"true",""].includes(t)},nz=function(e){var t;return!!(e&&(!((t=ewe(e))===null||t===void 0)&&t.focusGuard))},jN=function(e){return!nz(e)},Out=function(e){return!!e},$ut=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,a=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||a},Put=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},rz=function(e,t,n){return Zc(e).map(function(r,i){var a=Put(r);return{node:r,index:i,tabIndex:n&&a===-1?(r.dataset||{}).focusGuard?0:-1:a}}).filter(function(r){return!t||r.tabIndex>=0}).sort($ut)},Fut=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],iz=Fut.join(","),Nut="".concat(iz,", [data-focus-guard]"),rwe=function(e,t){return Zc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Nut:iz)?[r]:[],rwe(r))},[])},Lut=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?Ky([e.contentDocument.body],t):[e]},Ky=function(e,t){return e.reduce(function(n,r){var i,a=rwe(r,t),o=(i=[]).concat.apply(i,a.map(function(s){return Lut(s,t)}));return n.concat(o,r.parentNode?Zc(r.parentNode.querySelectorAll(iz)).filter(function(s){return s===r}):[])},[])},But=function(e){var t=e.querySelectorAll("[".concat(dut,"]"));return Zc(t).map(function(n){return Ky([n])}).reduce(function(n,r){return n.concat(r)},[])},az=function(e,t){return Zc(e).filter(function(n){return Jxe(t,n)}).filter(function(n){return Mut(n)})},hQ=function(e,t){return t===void 0&&(t=new Map),Zc(e).filter(function(n){return Qxe(t,n)})},oz=function(e,t,n){return rz(az(Ky(e,n),t),!0,n)},VC=function(e,t){return rz(az(Ky(e),t),!1)},Vut=function(e,t){return az(But(e),t)},eg=function(e,t){return e.shadowRoot?eg(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Zc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?eg(i,t):!1}return eg(n,t)})},zut=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var a=e[r].compareDocumentPosition(e[i]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(o,s){return!t.has(s)})},iwe=function(e){return e.parentNode?iwe(e.parentNode):e},sz=function(e){var t=jg(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(_N);return n.push.apply(n,i?zut(Zc(iwe(r).querySelectorAll("[".concat(_N,'="').concat(i,'"]:not([').concat(Bxe,'="disabled"])')))):[r]),n},[])},Uut=function(e){try{return e()}catch{return}},zC=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?zC(t.shadowRoot):t instanceof HTMLIFrameElement&&Uut(function(){return t.contentWindow.document})?zC(t.contentWindow.document):t}},Hut=function(e,t){return e===t},Wut=function(e,t){return!!Zc(e.querySelectorAll("iframe")).some(function(n){return Hut(n,t)})},awe=function(e,t){return t===void 0&&(t=zC(Kxe(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:sz(e).some(function(n){return eg(n,t)||Wut(n,t)})},Gut=function(e){e===void 0&&(e=document);var t=zC(e);return t?Zc(e.querySelectorAll("[".concat(cut,"]"))).some(function(n){return eg(n,t)}):!1},Yut=function(e,t){return t.filter(nwe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},lz=function(e,t){return nwe(e)&&e.name?Yut(e,t):e},qut=function(e){var t=new Set;return e.forEach(function(n){return t.add(lz(n,e))}),e.filter(function(n){return t.has(n)})},pQ=function(e){return e[0]&&e.length>1?lz(e[0],e):e[0]},mQ=function(e,t){return e.indexOf(lz(t,e))},IN="NEW_FOCUS",Kut=function(e,t,n,r,i){var a=e.length,o=e[0],s=e[a-1],l=nz(r);if(!(r&&e.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):c,h=i?e.indexOf(i):-1;if(c===-1)return h!==-1?h:IN;if(h===-1)return IN;var p=c-d,m=n.indexOf(o),g=n.indexOf(s),y=qut(n),v=r!==void 0?y.indexOf(r):-1,b=v-(i?y.indexOf(i):c);if(!p&&h>=0||t.length===0)return h;var x=mQ(e,t[0]),w=mQ(e,t[t.length-1]);if(c<=m&&l&&Math.abs(p)>1)return w;if(c>=g&&l&&Math.abs(p)>1)return x;if(p&&Math.abs(b)>1)return h;if(c<=m)return w;if(c>g)return x;if(p)return Math.abs(p)>1?h:(a+h+p)%a}},Zut=function(e){return function(t){var n,r=(n=ewe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},gQ=function(e,t,n){var r=e.map(function(a){var o=a.node;return o}),i=hQ(r.filter(Zut(n)));return i&&i.length?pQ(i):pQ(hQ(t))},DN=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&DN(e.parentNode.host||e.parentNode,t),t},$$=function(e,t){for(var n=DN(e),r=DN(t),i=0;i<n.length;i+=1){var a=n[i];if(r.indexOf(a)>=0)return a}return!1},owe=function(e,t,n){var r=jg(e),i=jg(t),a=r[0],o=!1;return i.filter(Boolean).forEach(function(s){o=$$(o||s,s)||o,n.filter(Boolean).forEach(function(l){var c=$$(a,l);c&&(!o||eg(c,o)?o=c:o=$$(c,o))})}),o},yQ=function(e,t){return e.reduce(function(n,r){return n.concat(Vut(r,t))},[])},Xut=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Out)},Jut=function(e,t){var n=zC(jg(e).length>0?document:Kxe(e).ownerDocument),r=sz(e).filter(jN),i=owe(n||e,e,r),a=new Map,o=VC(r,a),s=o.filter(function(g){var y=g.node;return jN(y)});if(s[0]){var l=VC([i],a).map(function(g){var y=g.node;return y}),c=Xut(l,s),d=c.map(function(g){var y=g.node;return y}),h=c.filter(function(g){var y=g.tabIndex;return y>=0}).map(function(g){var y=g.node;return y}),p=Kut(d,h,l,n,t);if(p===IN){var m=gQ(o,h,yQ(r,a))||gQ(o,d,yQ(r,a));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:c[p]}},Qut=function(e){var t=sz(e).filter(jN),n=owe(e,e,t),r=rz(Ky([n],!0),!0,!0),i=Ky(t,!1);return r.map(function(a){var o=a.node,s=a.index;return{node:o,index:s,lockItem:i.indexOf(o)>=0,guard:nz(o)}})},uz=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},P$=0,F$=!1,swe=function(e,t,n){n===void 0&&(n={});var r=Jut(e,t);if(!F$&&r){if(P$>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),F$=!0,setTimeout(function(){F$=!1},1);return}P$++,uz(r.node,n.focusOptions),P$--}};function hx(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var ect=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:hx(n),parent:hx(n.parentElement),left:hx(n.previousElementSibling),right:hx(n.nextElementSibling)}),n=n.parentElement;return{element:hx(e),stack:t,ownerDocument:e.ownerDocument}},tct=function(e){var t,n,r,i,a;if(e)for(var o=e.stack,s=e.ownerDocument,l=new Map,c=0,d=o;c<d.length;c++){var h=d[c],p=(t=h.parent)===null||t===void 0?void 0:t.call(h);if(p&&s.contains(p)){for(var m=(n=h.left)===null||n===void 0?void 0:n.call(h),g=h.current(),y=p.contains(g)?g:void 0,v=(r=h.right)===null||r===void 0?void 0:r.call(h),b=oz([p],l),x=(a=(i=y??(m==null?void 0:m.nextElementSibling))!==null&&i!==void 0?i:v)!==null&&a!==void 0?a:m;x;){for(var w=0,C=b;w<C.length;w++){var S=C[w];if(x!=null&&x.contains(S.node))return S.node}x=x.nextElementSibling}if(b.length)return b[0].node}}},lwe=function(e){var t=ect(e);return function(){return tct(t)}},nct=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=jg(t);if(r.every(function(o){return!eg(o,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?oz(r,new Map):VC(r,new Map),a=i.findIndex(function(o){var s=o.node;return s===e});if(a!==-1)return{prev:i[a-1],next:i[a+1],first:i[0],last:i[i.length-1]}},rct=function(e,t){var n=t?oz(jg(e),new Map):VC(jg(e),new Map);return{first:n[0],last:n[n.length-1]}},ict=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},uwe=function(e,t,n){t===void 0&&(t={});var r=ict(t),i=nct(e,r.scope,r.onlyTabbable);if(i){var a=n(i,r.cycle);a&&uz(a.node,r.focusOptions)}},act=function(e,t){t===void 0&&(t={}),uwe(e,t,function(n,r){var i=n.next,a=n.first;return i||r&&a})},oct=function(e,t){t===void 0&&(t={}),uwe(e,t,function(n,r){var i=n.prev,a=n.last;return i||r&&a})},cwe=function(e,t,n){var r,i=rct(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),a=i[n];a&&uz(a.node,t.focusOptions)},sct=function(e,t){t===void 0&&(t={}),cwe(e,t,"first")},lct=function(e,t){t===void 0&&(t={}),cwe(e,t,"last")};function cz(e){setTimeout(e,1)}var uct=function(t){return t&&"current"in t?t.current:t},dwe=function(){return document&&document.activeElement===document.body},cct=function(){return dwe()||Gut()},oy=null,Rs=null,vQ=function(){return null},sy=null,UC=!1,dz=!1,dct=function(){return!0},fct=function(t){return(oy.whiteList||dct)(t)},hct=function(t,n){sy={observerNode:t,portaledElement:n}},pct=function(t){return sy&&sy.portaledElement===t};function bQ(e,t,n,r){var i=null,a=e;do{var o=r[a];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(a!==e)return;i=null}else break}while((a+=n)!==t);i&&(i.node.tabIndex=0)}var mct=function(t){return t?!!UC:UC==="meanwhile"},gct=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},yct=function(t,n){return n.some(function(r){return gct(t,r,r)})},fwe=function(t){return VC(t,new Map)},vct=function(t){return!fwe([t.parentNode]).some(function(n){return n.node===t})},dA=function(){var t=!1;if(oy){var n=oy,r=n.observed,i=n.persistentFocus,a=n.autoFocus,o=n.shards,s=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,d=r||sy&&sy.portaledElement;if(dwe()&&Rs&&(!document.body.contains(Rs)||vct(Rs))){Rs=null;var h=vQ();h&&h.focus()}var p=document&&document.activeElement;if(d){var m=[d].concat(o.map(uct).filter(Boolean)),g=function(){if(!mct(s)||!c||!Rs||dz)return!1;var w=fwe(m),C=w.findIndex(function(S){var E=S.node;return E===Rs});return C===0||C===w.length-1};if((!p||fct(p))&&(i||g()||!cct()||!Rs&&a)&&(d&&!(awe(m)||p&&yct(p,m)||pct(p))&&(document&&!Rs&&p&&!a?(p.blur&&p.blur(),document.body.focus()):(t=swe(m,Rs,{focusOptions:l}),sy={})),UC=!1,Rs=document&&document.activeElement,vQ=lwe(Rs)),document&&p!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var y=document&&document.activeElement,v=Qut(m),b=v.map(function(x){var w=x.node;return w}).indexOf(y);b>-1&&(v.filter(function(x){var w=x.guard,C=x.node;return w&&C.dataset.focusAutoGuard}).forEach(function(x){var w=x.node;return w.removeAttribute("tabIndex")}),bQ(b,v.length,1,v),bQ(b,-1,-1,v))}}}return t},hwe=function(t){dA()&&t&&(t.stopPropagation(),t.preventDefault())},fz=function(){return cz(dA)},bct=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||hct(r,n)},xct=function(){return null},pwe=function(){dz=!0},mwe=function(){dz=!1,UC="just",cz(function(){UC="meanwhile"})},wct=function(){document.addEventListener("focusin",hwe),document.addEventListener("focusout",fz),window.addEventListener("focus",pwe),window.addEventListener("blur",mwe)},Cct=function(){document.removeEventListener("focusin",hwe),document.removeEventListener("focusout",fz),window.removeEventListener("focus",pwe),window.removeEventListener("blur",mwe)};function Sct(e){return e.filter(function(t){var n=t.disabled;return!n})}var gwe={moveFocusInside:swe,focusInside:awe,focusNextElement:act,focusPrevElement:oct,focusFirstElement:sct,focusLastElement:lct,captureFocusRestore:lwe};function Ect(e){var t=e.slice(-1)[0];t&&!oy&&wct();var n=oy,r=n&&t&&t.id===n.id;oy=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var a=i.id;return a===n.id}).length||n.returnFocus(!t)),t?(Rs=null,(!r||n.observed!==t.observed)&&t.onActivation(gwe),dA(),cz(dA)):(Cct(),Rs=null)}Hxe.assignSyncMedium(bct);Wxe.assignMedium(fz);xut.assignMedium(function(e){return e(gwe)});const kct=_ut(Sct,Ect)(xct);var ywe=f.forwardRef(function(t,n){return f.createElement(Yxe,pf({sideCar:kct,ref:n},t))}),vwe=Yxe.propTypes||{};vwe.sideCar;uut(vwe,["sideCar"]);ywe.propTypes={};const Yu=ywe;function bwe(e){const t=zc(e),[n,r]=f.useState(t),{defaultDpr:i,maxDpr:a,round:o}=e||{};return f.useEffect(()=>{if(!(typeof window<"u"&&"matchMedia"in window))return;const l=()=>r(zc({defaultDpr:i,maxDpr:a,round:o})),c=window.matchMedia(`screen and (resolution: ${n}dppx)`);return c.addEventListener?c.addEventListener("change",l):c.addListener(l),()=>{c.removeEventListener?c.removeEventListener("change",l):c.removeListener(l)}},[n,i,a,o]),n}function zc(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},a=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(a):a),n)}function hn(e){return typeof e=="function"}function $D(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var N$=$D(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function fA(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ig=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Ag(o),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else o.remove(this);var d=this.initialTeardown;if(hn(d))try{d()}catch(y){a=y instanceof N$?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=Ag(h),m=p.next();!m.done;m=p.next()){var g=m.value;try{xQ(g)}catch(y){a=a??[],y instanceof N$?a=ks(ks([],Uo(a)),Uo(y.errors)):a.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(a)throw new N$(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)xQ(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&fA(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&fA(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),xwe=Ig.EMPTY;function wwe(e){return e instanceof Ig||e&&"closed"in e&&hn(e.remove)&&hn(e.add)&&hn(e.unsubscribe)}function xQ(e){hn(e)?e():e.unsubscribe()}var Cwe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},MN={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=MN.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,ks([e,t],Uo(n))):setTimeout.apply(void 0,ks([e,t],Uo(n)))},clearTimeout:function(e){var t=MN.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Swe(e){MN.setTimeout(function(){throw e})}function hp(){}function S_(e){e()}var hz=function(e){ll(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,wwe(n)&&n.add(r)):r.destination=jct,r}return t.create=function(n,r,i){return new Zy(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ig),_ct=Function.prototype.bind;function L$(e,t){return _ct.call(e,t)}var Tct=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){E2(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){E2(r)}else E2(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){E2(n)}},e}(),Zy=function(e){ll(t,e);function t(n,r,i){var a=e.call(this)||this,o;if(hn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;a&&Cwe.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return a.unsubscribe()},o={next:n.next&&L$(n.next,s),error:n.error&&L$(n.error,s),complete:n.complete&&L$(n.complete,s)}):o=n}return a.destination=new Tct(o),a}return t}(hz);function E2(e){Swe(e)}function Act(e){throw e}var jct={closed:!0,next:hp,error:Act,complete:hp},pz=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Xc(e){return e}function Ict(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ewe(e)}function Ewe(e){return e.length===0?Xc:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Rt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,a=Mct(t)?t:new Zy(t,n,r);return S_(function(){var o=i,s=o.operator,l=o.source;a.add(s?s.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=wQ(n),new n(function(i,a){var o=new Zy({next:function(s){try{t(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[pz]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ewe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=wQ(t),new t(function(r,i){var a;n.subscribe(function(o){return a=o},function(o){return i(o)},function(){return r(a)})})},e.create=function(t){return new e(t)},e}();function wQ(e){var t;return(t=e??Cwe.Promise)!==null&&t!==void 0?t:Promise}function Dct(e){return e&&hn(e.next)&&hn(e.error)&&hn(e.complete)}function Mct(e){return e&&e instanceof hz||Dct(e)&&wwe(e)}function kwe(e){return hn(e==null?void 0:e.lift)}function On(e){return function(t){if(kwe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function an(e,t,n,r,i){return new _we(e,t,n,r,i)}var _we=function(e){ll(t,e);function t(n,r,i,a,o,s){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(d){n.error(d)}}:e.prototype._next,l._error=a?function(c){try{a(c)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(hz);function Eu(){return On(function(e,t){var n=null;e._refCount++;var r=an(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Rct=function(e){ll(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,kwe(n)&&(i.lift=n.lift),i}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Ig;var i=this.getSubject();r.add(this.source.subscribe(an(i,void 0,function(){n._teardown(),i.complete()},function(a){n._teardown(),i.error(a)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Ig.EMPTY)}return r},t.prototype.refCount=function(){return Eu()(this)},t}(Rt),Oct=$D(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fr=function(e){ll(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new CQ(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Oct},t.prototype.next=function(n){var r=this;S_(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Ag(r.currentObservers),s=o.next();!s.done;s=o.next()){var l=s.value;l.next(n)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;S_(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;S_(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?xwe:(this.currentObservers=null,s.push(n),new Ig(function(){r.currentObservers=null,fA(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,o=r.isStopped;i?n.error(a):o&&n.complete()},t.prototype.asObservable=function(){var n=new Rt;return n.source=this,n},t.create=function(n,r){return new CQ(n,r)},t}(Rt),CQ=function(e){ll(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:xwe},t}(Fr),PD=function(e){ll(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Fr),mz={now:function(){return(mz.delegate||Date).now()},delegate:void 0},gz=function(e){ll(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=mz);var a=e.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return t.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(a.push(n),!o&&a.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,o=n._infiniteTimeWindow,s=(o?1:2)*r;if(r<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var l=i.now(),c=0,d=1;d<a.length&&a[d]<=l;d+=2)c=d;c&&a.splice(0,c+1)}},t}(Fr),$ct=function(e){ll(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Ig),hA={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=hA.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,ks([e,t],Uo(n))):setInterval.apply(void 0,ks([e,t],Uo(n)))},clearInterval:function(e){var t=hA.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Twe=function(e){ll(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,o=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(o,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),hA.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&hA.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(o){i=!0,a=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,fA(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}($ct),Pct=1,B$,RN={};function SQ(e){return e in RN?(delete RN[e],!0):!1}var Awe={setImmediate:function(e){var t=Pct++;return RN[t]=!0,B$||(B$=Promise.resolve()),B$.then(function(){return SQ(t)&&e()}),t},clearImmediate:function(e){SQ(e)}},Fct=Awe.setImmediate,Nct=Awe.clearImmediate,pA={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pA.delegate;return((n==null?void 0:n.setImmediate)||Fct).apply(void 0,ks([],Uo(e)))},clearImmediate:function(e){var t=pA.delegate;return((t==null?void 0:t.clearImmediate)||Nct)(e)},delegate:void 0},Lct=function(e){ll(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=pA.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var a;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((a=o[o.length-1])===null||a===void 0?void 0:a.id)!==r&&(pA.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Twe),EQ=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=mz.now,e}(),jwe=function(e){ll(t,e);function t(n,r){r===void 0&&(r=EQ.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(EQ),Bct=function(e){ll(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,a;n=n||i.shift();do if(a=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw a}},t}(jwe),Iwe=new Bct(Lct),Jl=new jwe(Twe),Vct=Jl,sr=new Rt(function(e){return e.complete()});function Dwe(e){return e&&hn(e.schedule)}function yz(e){return e[e.length-1]}function FD(e){return hn(yz(e))?e.pop():void 0}function wE(e){return Dwe(yz(e))?e.pop():void 0}function zct(e,t){return typeof yz(e)=="number"?e.pop():t}var vz=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Mwe(e){return hn(e==null?void 0:e.then)}function Rwe(e){return hn(e[pz])}function Owe(e){return Symbol.asyncIterator&&hn(e==null?void 0:e[Symbol.asyncIterator])}function $we(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Uct(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pwe=Uct();function Fwe(e){return hn(e==null?void 0:e[Pwe])}function Nwe(e){return yut(this,arguments,function(){var n,r,i,a;return Vxe(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ay(n.read())];case 3:return r=o.sent(),i=r.value,a=r.done,a?[4,ay(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ay(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Lwe(e){return hn(e==null?void 0:e.getReader)}function Zn(e){if(e instanceof Rt)return e;if(e!=null){if(Rwe(e))return Hct(e);if(vz(e))return Wct(e);if(Mwe(e))return Gct(e);if(Owe(e))return Bwe(e);if(Fwe(e))return Yct(e);if(Lwe(e))return qct(e)}throw $we(e)}function Hct(e){return new Rt(function(t){var n=e[pz]();if(hn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wct(e){return new Rt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Gct(e){return new Rt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Swe)})}function Yct(e){return new Rt(function(t){var n,r;try{for(var i=Ag(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Bwe(e){return new Rt(function(t){Kct(e,t).catch(function(n){return t.error(n)})})}function qct(e){return Bwe(Nwe(e))}function Kct(e,t){var n,r,i,a;return gut(this,void 0,void 0,function(){var o,s;return Vxe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=vut(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function $c(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Vwe(e,t){return t===void 0&&(t=0),On(function(n,r){n.subscribe(an(r,function(i){return $c(r,e,function(){return r.next(i)},t)},function(){return $c(r,e,function(){return r.complete()},t)},function(i){return $c(r,e,function(){return r.error(i)},t)}))})}function zwe(e,t){return t===void 0&&(t=0),On(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Zct(e,t){return Zn(e).pipe(zwe(t),Vwe(t))}function Xct(e,t){return Zn(e).pipe(zwe(t),Vwe(t))}function Jct(e,t){return new Rt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Qct(e,t){return new Rt(function(n){var r;return $c(n,t,function(){r=e[Pwe](),$c(n,t,function(){var i,a,o;try{i=r.next(),a=i.value,o=i.done}catch(s){n.error(s);return}o?n.complete():n.next(a)},0,!0)}),function(){return hn(r==null?void 0:r.return)&&r.return()}})}function Uwe(e,t){if(!e)throw new Error("Iterable cannot be null");return new Rt(function(n){$c(n,t,function(){var r=e[Symbol.asyncIterator]();$c(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function edt(e,t){return Uwe(Nwe(e),t)}function Hwe(e,t){if(e!=null){if(Rwe(e))return Zct(e,t);if(vz(e))return Jct(e,t);if(Mwe(e))return Xct(e,t);if(Owe(e))return Uwe(e,t);if(Fwe(e))return Qct(e,t);if(Lwe(e))return edt(e,t)}throw $we(e)}function Br(e,t){return t?Hwe(e,t):Zn(e)}function we(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wE(e);return Br(e,n)}function pp(e,t){var n=hn(e)?e:function(){return e},r=function(i){return i.error(n())};return new Rt(t?function(i){return t.schedule(r,0,i)}:r)}function tdt(e){return!!e&&(e instanceof Rt||hn(e.lift)&&hn(e.subscribe))}var CE=$D(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Fi(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=!1,o;e.subscribe({next:function(s){o=s,a=!0},error:i,complete:function(){a?r(o):n?r(t.defaultValue):i(new CE)}})})}function ndt(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=new Zy({next:function(o){r(o),a.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new CE)}});e.subscribe(a)})}function Wwe(e){return e instanceof Date&&!isNaN(e)}var rdt=$D(function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function idt(e,t){var n=Wwe(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,a=n.with,o=a===void 0?adt:a,s=n.scheduler,l=s===void 0?t??Jl:s,c=n.meta,d=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return On(function(h,p){var m,g,y=null,v=0,b=function(x){g=$c(p,l,function(){try{m.unsubscribe(),Zn(o({meta:d,lastValue:y,seen:v})).subscribe(p)}catch(w){p.error(w)}},x)};m=h.subscribe(an(p,function(x){g==null||g.unsubscribe(),v++,p.next(y=x),i>0&&b(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),y=null})),!v&&b(r!=null?typeof r=="number"?r:+r-l.now():i)})}function adt(e){throw new rdt(e)}function fe(e,t){return On(function(n,r){var i=0;n.subscribe(an(r,function(a){r.next(e.call(t,a,i++))}))})}var odt=Array.isArray;function sdt(e,t){return odt(t)?e.apply(void 0,ks([],Uo(t))):e(t)}function ND(e){return fe(function(t){return sdt(e,t)})}var ldt=Array.isArray,udt=Object.getPrototypeOf,cdt=Object.prototype,ddt=Object.keys;function Gwe(e){if(e.length===1){var t=e[0];if(ldt(t))return{args:t,keys:null};if(fdt(t)){var n=ddt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function fdt(e){return e&&typeof e=="object"&&udt(e)===cdt}function Ywe(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function Hi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wE(e),r=FD(e),i=Gwe(e),a=i.args,o=i.keys;if(a.length===0)return Br([],n);var s=new Rt(qwe(a,n,o?function(l){return Ywe(o,l)}:Xc));return r?s.pipe(ND(r)):s}function qwe(e,t,n){return n===void 0&&(n=Xc),function(r){kQ(t,function(){for(var i=e.length,a=new Array(i),o=i,s=i,l=function(d){kQ(t,function(){var h=Br(e[d],t),p=!1;h.subscribe(an(r,function(m){a[d]=m,p||(p=!0,s--),s||r.next(n(a.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)},r)}}function kQ(e,t,n){e?$c(n,e,t):t()}function hdt(e,t,n,r,i,a,o,s){var l=[],c=0,d=0,h=!1,p=function(){h&&!l.length&&!c&&t.complete()},m=function(y){return c<r?g(y):l.push(y)},g=function(y){a&&t.next(y),c++;var v=!1;Zn(n(y,d++)).subscribe(an(t,function(b){i==null||i(b),a?m(b):t.next(b)},function(){v=!0},void 0,function(){if(v)try{c--;for(var b=function(){var x=l.shift();o?$c(t,o,function(){return g(x)}):g(x)};l.length&&c<r;)b();p()}catch(x){t.error(x)}}))};return e.subscribe(an(t,m,function(){h=!0,p()})),function(){s==null||s()}}function Mt(e,t,n){return n===void 0&&(n=1/0),hn(t)?Mt(function(r,i){return fe(function(a,o){return t(r,a,i,o)})(Zn(e(r,i)))},n):(typeof t=="number"&&(n=t),On(function(r,i){return hdt(r,i,e,n)}))}function LD(e){return e===void 0&&(e=1/0),Mt(Xc,e)}function pdt(){return LD(1)}function ji(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pdt()(Br(e,wE(e)))}function oa(e){return new Rt(function(t){Zn(e()).subscribe(t)})}function mdt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=FD(e),r=Gwe(e),i=r.args,a=r.keys,o=new Rt(function(s){var l=i.length;if(!l){s.complete();return}for(var c=new Array(l),d=l,h=l,p=function(g){var y=!1;Zn(i[g]).subscribe(an(s,function(v){y||(y=!0,h--),c[g]=v},function(){return d--},void 0,function(){(!d||!y)&&(h||s.next(a?Ywe(a,c):c),s.complete())}))},m=0;m<l;m++)p(m)});return n?o.pipe(ND(n)):o}var gdt=["addListener","removeListener"],ydt=["addEventListener","removeEventListener"],vdt=["on","off"];function To(e,t,n,r){if(hn(n)&&(r=n,n=void 0),r)return To(e,t,n).pipe(ND(r));var i=Uo(wdt(e)?ydt.map(function(s){return function(l){return e[s](t,l,n)}}):bdt(e)?gdt.map(_Q(e,t)):xdt(e)?vdt.map(_Q(e,t)):[],2),a=i[0],o=i[1];if(!a&&vz(e))return Mt(function(s){return To(s,t,n)})(Zn(e));if(!a)throw new TypeError("Invalid event target");return new Rt(function(s){var l=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return s.next(1<c.length?c:c[0])};return a(l),function(){return o(l)}})}function _Q(e,t){return function(n){return function(r){return e[n](t,r)}}}function bdt(e){return hn(e.addListener)&&hn(e.removeListener)}function xdt(e){return hn(e.on)&&hn(e.off)}function wdt(e){return hn(e.addEventListener)&&hn(e.removeEventListener)}function Cdt(e,t,n){return oa(function(){return e()?t:n})}function Qr(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Vct);var r=-1;return t!=null&&(Dwe(t)?n=t:r=t),new Rt(function(i){var a=Wwe(e)?+e-n.now():e;a<0&&(a=0);var o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function Bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wE(e),r=zct(e,1/0),i=e;return i.length?i.length===1?Zn(i[0]):LD(r)(Br(i,n)):sr}var bz=new Rt(hp),Sdt=Array.isArray;function Kwe(e){return e.length===1&&Sdt(e[0])?e[0]:e}function Edt(e,t){return function(n,r){return!e.call(t,n,r)}}function Nt(e,t){return On(function(n,r){var i=0;n.subscribe(an(r,function(a){return e.call(t,a,i++)&&r.next(a)}))})}function xz(e,t,n){return[Nt(t,n)(Zn(e)),Nt(Edt(t,n))(Zn(e))]}function kdt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Kwe(e),e.length===1?Zn(e[0]):new Rt(_dt(e))}function _dt(e){return function(t){for(var n=[],r=function(a){n.push(Zn(e[a]).subscribe(an(t,function(o){if(n){for(var s=0;s<n.length;s++)s!==a&&n[s].unsubscribe();n=null}t.next(o)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}function Tdt(e,t){return new Rt(function(n){var r=e(),i=t(r),a=i?Zn(i):sr;return a.subscribe(n),function(){r&&r.unsubscribe()}})}function Adt(e){return On(function(t,n){var r=!1,i=null,a=null,o=!1,s=function(){if(a==null||a.unsubscribe(),a=null,r){r=!1;var c=i;i=null,n.next(c)}o&&n.complete()},l=function(){a=null,o&&n.complete()};t.subscribe(an(n,function(c){r=!0,i=c,a||Zn(e(c)).subscribe(a=an(n,s,l))},function(){o=!0,(!r||!a||a.closed)&&n.complete()}))})}function jdt(e,t){return t===void 0&&(t=Jl),Adt(function(){return Qr(e,t)})}function kn(e){return On(function(t,n){var r=null,i=!1,a;r=t.subscribe(an(n,void 0,void 0,function(o){a=Zn(e(o,kn(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Zwe(e,t,n,r,i){return function(a,o){var s=n,l=t,c=0;a.subscribe(an(o,function(d){var h=c++;l=s?e(l,d,h):(s=!0,d),r&&o.next(l)},i&&function(){s&&o.next(l),o.complete()}))}}function Xwe(e,t){return On(Zwe(e,t,arguments.length>=2,!1,!0))}var Idt=function(e,t){return e.push(t),e};function Ddt(){return On(function(e,t){Xwe(Idt,[])(e).subscribe(t)})}function Jwe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=FD(e);return n?Ict(Jwe.apply(void 0,ks([],Uo(e))),ND(n)):On(function(r,i){qwe(ks([r],Uo(Kwe(e))))(i)})}function Mdt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Jwe.apply(void 0,ks([],Uo(e)))}function tg(e,t){return hn(t)?Mt(e,t,1):Mt(e,1)}function Rdt(e){return new Rt(function(t){return e.subscribe(t)})}var Odt={connector:function(){return new Fr}};function $dt(e,t){t===void 0&&(t=Odt);var n=t.connector;return On(function(r,i){var a=n();Zn(e(Rdt(a))).subscribe(i),i.add(r.subscribe(a))})}function wz(e){return On(function(t,n){var r=!1,i=null,a=null,o=function(){if(a==null||a.unsubscribe(),a=null,r){r=!1;var s=i;i=null,n.next(s)}};t.subscribe(an(n,function(s){a==null||a.unsubscribe(),r=!0,i=s,a=an(n,o,hp),Zn(e(s)).subscribe(a)},function(){o(),n.complete()},void 0,function(){i=a=null}))})}function Cz(e,t){return t===void 0&&(t=Jl),On(function(n,r){var i=null,a=null,o=null,s=function(){if(i){i.unsubscribe(),i=null;var c=a;a=null,r.next(c)}};function l(){var c=o+e,d=t.now();if(d<c){i=this.schedule(void 0,c-d),r.add(i);return}s()}n.subscribe(an(r,function(c){a=c,o=t.now(),i||(i=t.schedule(l,e),r.add(i))},function(){s(),r.complete()},void 0,function(){a=i=null}))})}function Qwe(e){return On(function(t,n){var r=!1;t.subscribe(an(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function $a(e){return e<=0?function(){return sr}:On(function(t,n){var r=0;t.subscribe(an(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Pdt(){return On(function(e,t){e.subscribe(an(t,hp))})}function BD(e){return fe(function(){return e})}function eCe(e,t){return t?function(n){return ji(t.pipe($a(1),Pdt()),n.pipe(eCe(e)))}:Mt(function(n,r){return Zn(e(n,r)).pipe($a(1),BD(n))})}function tCe(e,t){t===void 0&&(t=Jl);var n=Qr(e,t);return eCe(function(){return n})}function Fdt(e,t){return On(function(n,r){var i=new Set;n.subscribe(an(r,function(a){var o=e?e(a):a;i.has(o)||(i.add(o),r.next(a))})),t&&Zn(t).subscribe(an(r,function(){return i.clear()},hp))})}function hr(e,t){return t===void 0&&(t=Xc),e=e??Ndt,On(function(n,r){var i,a=!0;n.subscribe(an(r,function(o){var s=t(o);(a||!e(i,s))&&(a=!1,i=s,r.next(o))}))})}function Ndt(e,t){return e===t}function nCe(e){return e===void 0&&(e=Ldt),On(function(t,n){var r=!1;t.subscribe(an(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function Ldt(){return new CE}function rCe(e,t){return t?function(n){return n.pipe(rCe(function(r,i){return Zn(e(r,i)).pipe(fe(function(a,o){return t(r,a,i,o)}))}))}:On(function(n,r){var i=0,a=null,o=!1;n.subscribe(an(r,function(s){a||(a=an(r,void 0,function(){a=null,o&&r.complete()}),Zn(e(s,i++)).subscribe(a))},function(){o=!0,!a&&r.complete()}))})}function VD(e){return On(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function iCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Nt(function(i,a){return e(i,a,r)}):Xc,$a(1),n?Qwe(t):nCe(function(){return new CE}))}}function aCe(e,t,n,r){return On(function(i,a){var o;!t||typeof t=="function"?o=t:(n=t.duration,o=t.element,r=t.connector);var s=new Map,l=function(g){s.forEach(g),g(a)},c=function(g){return l(function(y){return y.error(g)})},d=0,h=!1,p=new _we(a,function(g){try{var y=e(g),v=s.get(y);if(!v){s.set(y,v=r?r():new Fr);var b=m(y,v);if(a.next(b),n){var x=an(v,function(){v.complete(),x==null||x.unsubscribe()},void 0,void 0,function(){return s.delete(y)});p.add(Zn(n(b)).subscribe(x))}}v.next(o?o(g):g)}catch(w){c(w)}},function(){return l(function(g){return g.complete()})},c,function(){return s.clear()},function(){return h=!0,d===0});i.subscribe(p);function m(g,y){var v=new Rt(function(b){d++;var x=y.subscribe(b);return function(){x.unsubscribe(),--d===0&&h&&p.unsubscribe()}});return v.key=g,v}})}function Bdt(e){return e<=0?function(){return sr}:On(function(t,n){var r=[];t.subscribe(an(n,function(i){r.push(i),e<r.length&&r.shift()},function(){var i,a;try{for(var o=Ag(r),s=o.next();!s.done;s=o.next()){var l=s.value;n.next(l)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}function Vdt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Nt(function(i,a){return e(i,a,r)}):Xc,Bdt(1),n?Qwe(t):nCe(function(){return new CE}))}}function Xy(e,t,n){return n===void 0&&(n=1/0),hn(t)?Mt(function(){return e},t,n):(typeof t=="number"&&(n=t),Mt(function(){return e},n))}function zdt(e,t){var n=hn(e)?e:function(){return e};return hn(t)?$dt(t,{connector:n}):function(r){return new Rct(r,n)}}function ku(e,t,n,r){n&&!hn(n)&&(r=n);var i=hn(n)?n:void 0;return function(a){return zdt(new gz(e,t,r),i)(a)}}function Udt(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,i=t.delay,a=t.resetOnSuccess,o=a===void 0?!1:a;return r<=0?Xc:On(function(s,l){var c=0,d,h=function(){var p=!1;d=s.subscribe(an(l,function(m){o&&(c=0),l.next(m)},void 0,function(m){if(c++<r){var g=function(){d?(d.unsubscribe(),d=null,h()):p=!0};if(i!=null){var y=typeof i=="number"?Qr(i):Zn(i(m,c)),v=an(l,function(){v.unsubscribe(),g()},function(){l.complete()});y.subscribe(v)}else g()}else l.error(m)})),p&&(d.unsubscribe(),d=null,h())};h()})}function Qs(e,t){return On(Zwe(e,t,arguments.length>=2,!0))}function Ho(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Fr}:t,r=e.resetOnError,i=r===void 0?!0:r,a=e.resetOnComplete,o=a===void 0?!0:a,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var d,h,p,m=0,g=!1,y=!1,v=function(){h==null||h.unsubscribe(),h=void 0},b=function(){v(),d=p=void 0,g=y=!1},x=function(){var w=d;b(),w==null||w.unsubscribe()};return On(function(w,C){m++,!y&&!g&&v();var S=p=p??n();C.add(function(){m--,m===0&&!y&&!g&&(h=V$(x,l))}),S.subscribe(C),!d&&m>0&&(d=new Zy({next:function(E){return S.next(E)},error:function(E){y=!0,v(),h=V$(b,i,E),S.error(E)},complete:function(){g=!0,v(),h=V$(b,o),S.complete()}}),Zn(w).subscribe(d))})(c)}}function V$(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Zy({next:function(){i.unsubscribe(),e()}});return Zn(t.apply(void 0,ks([],Uo(n)))).subscribe(i)}}function la(e,t,n){var r,i,a,o,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,a=e.refCount,s=a===void 0?!1:a,n=e.scheduler):o=e??1/0,Ho({connector:function(){return new gz(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function oCe(e){return Nt(function(t,n){return e<=n})}function Wi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wE(e);return On(function(r,i){(n?ji(e,r,n):ji(e,r)).subscribe(i)})}function Ct(e,t){return On(function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(an(r,function(l){i==null||i.unsubscribe();var c=0,d=a++;Zn(e(l,d)).subscribe(i=an(r,function(h){return r.next(t?t(l,h,d,c++):h)},function(){i=null,s()}))},function(){o=!0,s()}))})}function Hdt(e,t){return hn(t)?Ct(function(){return e},t):Ct(function(){return e})}function Sz(e){return On(function(t,n){Zn(e).subscribe(an(n,function(){return n.complete()},hp)),!n.closed&&t.subscribe(n)})}function Qn(e,t,n){var r=hn(e)||t||n?{next:e,error:t,complete:n}:e;return r?On(function(i,a){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var s=!0;i.subscribe(an(a,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),a.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),a.complete()},function(l){var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),a.error(l)},function(){var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Xc}function Ez(e,t){return On(function(n,r){var i=t??{},a=i.leading,o=a===void 0?!0:a,s=i.trailing,l=s===void 0?!1:s,c=!1,d=null,h=null,p=!1,m=function(){h==null||h.unsubscribe(),h=null,l&&(v(),p&&r.complete())},g=function(){h=null,p&&r.complete()},y=function(b){return h=Zn(e(b)).subscribe(an(r,m,g))},v=function(){if(c){c=!1;var b=d;d=null,r.next(b),!p&&y(b)}};n.subscribe(an(r,function(b){c=!0,d=b,!(h&&!h.closed)&&(o?v():y(b))},function(){p=!0,!(l&&c&&h&&!h.closed)&&r.complete()}))})}function HC(e,t,n){t===void 0&&(t=Jl);var r=Qr(e,t);return Ez(function(){return r},n)}function mA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=FD(e);return On(function(r,i){for(var a=e.length,o=new Array(a),s=e.map(function(){return!1}),l=!1,c=function(h){Zn(e[h]).subscribe(an(i,function(p){o[h]=p,!l&&!s[h]&&(s[h]=!0,(l=s.every(Xc))&&(s=null))},hp))},d=0;d<a;d++)c(d);r.subscribe(an(i,function(h){if(l){var p=ks([h],Uo(o));i.next(n?n.apply(void 0,ks([],Uo(p))):p)}}))})}const sCe=!(typeof navigator>"u")&&navigator.product==="ReactNative",lCe={timeout:sCe?6e4:12e4},Wdt=function(e){const t={...lCe,...typeof e=="string"?{url:e}:e};if(t.timeout=uCe(t.timeout),t.query){const{url:n,searchParams:r}=function(i){const a=i.indexOf("?");if(a===-1)return{url:i,searchParams:new URLSearchParams};const o=i.slice(0,a),s=i.slice(a+1);if(!sCe)return{url:o,searchParams:new URLSearchParams(s)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const c of s.split("&")){const[d,h]=c.split("=");d&&l.append(TQ(d),TQ(h||""))}return{url:o,searchParams:l}}(t.url);for(const[i,a]of Object.entries(t.query)){if(a!==void 0)if(Array.isArray(a))for(const s of a)r.append(i,s);else r.append(i,a);const o=r.toString();o&&(t.url=`${n}?${o}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function TQ(e){return decodeURIComponent(e.replace(/\+/g," "))}function uCe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?uCe(lCe.timeout):{connect:t,socket:t}}const Gdt=/^https?:\/\//i,Ydt=function(e){if(!Gdt.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function cCe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const qdt=["request","response","progress","error","abort"],AQ=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function dCe(e,t){const n=[],r=AQ.reduce((a,o)=>(a[o]=a[o]||[],a),{processOptions:[Wdt],validateOptions:[Ydt]});function i(a){const o=qdt.reduce((m,g)=>(m[g]=function(){const y=Object.create(null);let v=0;return{publish:function(b){for(const x in y)y[x](b)},subscribe:function(b){const x=v++;return y[x]=b,function(){delete y[x]}}}}(),m),{}),s=(m=>function(g,y,...v){const b=g==="onError";let x=y;for(let w=0;w<m[g].length&&(x=(0,m[g][w])(x,...v),!b||x);w++);return x})(r),l=s("processOptions",a);s("validateOptions",l);const c={options:l,channels:o,applyMiddleware:s};let d;const h=o.request.subscribe(m=>{d=t(m,(g,y)=>((v,b,x)=>{let w=v,C=b;if(!w)try{C=s("onResponse",b,x)}catch(S){C=null,w=S}w=w&&s("onError",w,x),w?o.error.publish(w):C&&o.response.publish(C)})(g,y,m))});o.abort.subscribe(()=>{h(),d&&d.abort()});const p=s("onReturn",o,c);return p===o&&o.request.publish(c),p}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return AQ.forEach(o=>{a[o]&&r[o].push(a[o])}),n.push(a),i},i.clone=()=>dCe(n,t),e.forEach(i.use),i}var z$=function(e){return e.replace(/^\s+|\s+$/g,"")},Kdt=cCe(function(e){if(!e)return{};for(var t={},n=z$(e).split(`
`),r=0;r<n.length;r++){var i=n[r],a=i.indexOf(":"),o=z$(i.slice(0,a)).toLowerCase(),s=z$(i.slice(a+1));typeof t[o]>"u"?t[o]=s:(l=t[o],Object.prototype.toString.call(l)==="[object Array]"?t[o].push(s):t[o]=[t[o],s])}var l;return t}),MS,RS,Sy,OS,Id,$S,PS,Dfe;let ON=(Dfe=class{constructor(){Y(this,"onabort");Y(this,"onerror");Y(this,"onreadystatechange");Y(this,"ontimeout");Y(this,"readyState",0);Y(this,"response");Y(this,"responseText","");Y(this,"responseType","");Y(this,"status");Y(this,"statusText");Y(this,"withCredentials");Fn(this,MS,void 0);Fn(this,RS,void 0);Fn(this,Sy,void 0);Fn(this,OS,{});Fn(this,Id,void 0);Fn(this,$S,{});Fn(this,PS,void 0)}open(t,n,r){var i;In(this,MS,t),In(this,RS,n),In(this,Sy,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),In(this,Id,void 0)}abort(){De(this,Id)&&De(this,Id).abort()}getAllResponseHeaders(){return De(this,Sy)}setRequestHeader(t,n){De(this,OS)[t]=n}setInit(t,n=!0){In(this,$S,t),In(this,PS,n)}send(t){const n=this.responseType!=="arraybuffer",r={...De(this,$S),method:De(this,MS),headers:De(this,OS),body:t};typeof AbortController=="function"&&De(this,PS)&&(In(this,Id,new AbortController),typeof EventTarget<"u"&&De(this,Id).signal instanceof EventTarget&&(r.signal=De(this,Id).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(De(this,RS),r).then(i=>{var a;return i.headers.forEach((o,s)=>{In(this,Sy,De(this,Sy)+`${s}: ${o}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(a=this.onreadystatechange)==null||a.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var a;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(a=this.onreadystatechange)==null||a.call(this)}).catch(i=>{var a,o;i.name!=="AbortError"?(a=this.onerror)==null||a.call(this,i):(o=this.onabort)==null||o.call(this)})}},MS=new WeakMap,RS=new WeakMap,Sy=new WeakMap,OS=new WeakMap,Id=new WeakMap,$S=new WeakMap,PS=new WeakMap,Dfe);const $N=typeof XMLHttpRequest=="function"?"xhr":"fetch",Zdt=$N==="xhr"?XMLHttpRequest:ON,Xdt=(e,t)=>{const n=e.options,r=e.applyMiddleware("finalizeOptions",n),i={},a=e.applyMiddleware("interceptRequest",void 0,{adapter:$N,context:e});if(a){const y=setTimeout(t,0,null,a);return{abort:()=>clearTimeout(y)}}let o=new Zdt;o instanceof ON&&typeof r.fetch=="object"&&o.setInit(r.fetch,r.useAbortSignal??!0);const s=r.headers,l=r.timeout;let c=!1,d=!1,h=!1;if(o.onerror=y=>{g(o instanceof ON?y instanceof Error?y:new Error(`Request error while attempting to reach is ${r.url}`,{cause:y}):new Error(`Request error while attempting to reach is ${r.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},o.ontimeout=y=>{g(new Error(`Request timeout while attempting to reach ${r.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},o.onabort=()=>{m(!0),c=!0},o.onreadystatechange=()=>{l&&(m(),i.socket=setTimeout(()=>p("ESOCKETTIMEDOUT"),l.socket)),!c&&o.readyState===4&&o.status!==0&&function(){if(!(c||d||h)){if(o.status===0)return void g(new Error("Unknown XHR error"));m(),d=!0,t(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:r.url,method:r.method,headers:Kdt(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(r.method,r.url,!0),o.withCredentials=!!r.withCredentials,s&&o.setRequestHeader)for(const y in s)s.hasOwnProperty(y)&&o.setRequestHeader(y,s[y]);return r.rawBody&&(o.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:r,adapter:$N,request:o,context:e}),o.send(r.body||null),l&&(i.connect=setTimeout(()=>p("ETIMEDOUT"),l.connect)),{abort:function(){c=!0,o&&o.abort()}};function p(y){h=!0,o.abort();const v=new Error(y==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);v.code=y,e.channels.error.publish(v)}function m(y){(y||c||o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function g(y){if(d)return;m(!0),d=!0,o=null;const v=y||new Error(`Network error while attempting to reach ${r.url}`);v.isNetworkError=!0,v.request=r,t(v)}},Jdt=(e=[],t=Xdt)=>dCe(e,t);var jQ,IQ,PN={exports:{}};function Qdt(){if(IQ)return jQ;IQ=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,a=365.25*r;function o(s,l,c,d){var h=l>=1.5*c;return Math.round(s/c)+" "+d+(h?"s":"")}return jQ=function(s,l){l=l||{};var c,d,h=typeof s;if(h==="string"&&s.length>0)return function(p){if(!((p=String(p)).length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]);switch((m[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*n;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}(s);if(h==="number"&&isFinite(s))return l.long?(c=s,(d=Math.abs(c))>=r?o(c,d,r,"day"):d>=n?o(c,d,n,"hour"):d>=t?o(c,d,t,"minute"):d>=e?o(c,d,e,"second"):c+" ms"):function(p){var m=Math.abs(p);return m>=r?Math.round(p/r)+"d":m>=n?Math.round(p/n)+"h":m>=t?Math.round(p/t)+"m":m>=e?Math.round(p/e)+"s":p+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var eft=function(e){function t(i){let a,o,s,l=null;function c(...d){if(!c.enabled)return;const h=c,p=Number(new Date),m=p-(a||p);h.diff=m,h.prev=a,h.curr=p,a=p,d[0]=t.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let g=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(y,v)=>{if(y==="%%")return"%";g++;const b=t.formatters[v];if(typeof b=="function"){const x=d[g];y=b.call(h,x),d.splice(g,1),g--}return y}),t.formatArgs.call(h,d),(h.log||t.log).apply(h,d)}return c.namespace=i,c.useColors=t.useColors(),c.color=t.selectColor(i),c.extend=n,c.destroy=t.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(i)),s),set:d=>{l=d}}),typeof t.init=="function"&&t.init(c),c}function n(i,a){const o=t(this.namespace+(typeof a>"u"?":":a)+i);return o.log=this.log,o}function r(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(i){return i instanceof Error?i.stack||i.message:i},t.disable=function(){const i=[...t.names.map(r),...t.skips.map(r).map(a=>"-"+a)].join(",");return t.enable(""),i},t.enable=function(i){let a;t.save(i),t.namespaces=i,t.names=[],t.skips=[];const o=(typeof i=="string"?i:"").split(/[\s,]+/),s=o.length;for(a=0;a<s;a++)o[a]&&((i=o[a].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))},t.enabled=function(i){if(i[i.length-1]==="*")return!0;let a,o;for(a=0,o=t.skips.length;a<o;a++)if(t.skips[a].test(i))return!1;for(a=0,o=t.names.length;a<o;a++)if(t.names[a].test(i))return!0;return!1},t.humanize=Qdt(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(i){let a=0;for(let o=0;o<i.length;o++)a=(a<<5)-a+i.charCodeAt(o),a|=0;return t.colors[Math.abs(a)%t.colors.length]},t.enable(t.load()),t};(function(e,t){t.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let a=0,o=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(a++,s==="%c"&&(o=a))}),r.splice(o,0,i)},t.save=function(r){try{r?t.storage.setItem("debug",r):t.storage.removeItem("debug")}catch{}},t.load=function(){let r;try{r=t.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r={}.DEBUG),r},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||window.process.type!=="renderer"&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=eft(t);const{formatters:n}=e.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(PN,PN.exports);cCe(PN.exports);const tft=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function DQ(e){return Object.prototype.toString.call(e)==="[object Object]"}function nft(e){if(DQ(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(DQ(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const rft=["boolean","string","number"];function ift(){return{processOptions:e=>{const t=e.body;return!t||typeof t.pipe=="function"||tft(t)||rft.indexOf(typeof t)===-1&&!Array.isArray(t)&&!nft(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function aft(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=e&&e.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:t(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let lw={};typeof globalThis<"u"?lw=globalThis:typeof window<"u"?lw=window:typeof global<"u"?lw=global:typeof self<"u"&&(lw=self);var oft=lw;function sft(e={}){const t=e.implementation||oft.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(i=>(n.error.subscribe(a=>i.error(a)),n.progress.subscribe(a=>i.next(Object.assign({type:"progress"},a))),n.response.subscribe(a=>{i.next(Object.assign({type:"response"},a)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function lft(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;function r(i){return a=>{const o=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:i,percent:o,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"))}}}var fCe=(e,t,n)=>(n.method==="GET"||n.method==="HEAD")&&(e.isNetworkError||!1);function uft(e){return 100*Math.pow(2,e)+100*Math.random()}const kz=(e={})=>(t=>{const n=t.maxRetries||5,r=t.retryDelay||uft,i=t.shouldRetry;return{onError:(a,o)=>{const s=o.options,l=s.maxRetries||n,c=s.retryDelay||r,d=s.shouldRetry||i,h=s.attemptNumber||0;if((p=s.body)!==null&&typeof p=="object"&&typeof p.pipe=="function"||!d(a,h,s)||h>=l)return a;var p;const m=Object.assign({},o,{options:Object.assign({},s,{attemptNumber:h+1})});return setTimeout(()=>o.channels.request.publish(m),c(h)),null}}})({shouldRetry:fCe,...e});kz.shouldRetry=fCe;var hCe={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},_z={0:8203,1:8204,2:8205,3:65279},cft=new Array(4).fill(String.fromCodePoint(_z[0])).join("");function dft(e){let t=JSON.stringify(e);return`${cft}${Array.from(t).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(_z[i])).join("")}).join("")}`}function fft(e){return!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)?!1:!!Date.parse(e)}function hft(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function lzn(e,t,n="auto"){return n===!0||n==="auto"&&(fft(e)||hft(e))?e:`${e}${dft(t)}`}Object.fromEntries(Object.entries(_z).map(e=>e.reverse()));Object.fromEntries(Object.entries(hCe).map(e=>e.reverse()));var pft=`${Object.values(hCe).map(e=>`\\u{${e.toString(16)}}`).join("")}`,MQ=new RegExp(`[${pft}]{4,}`,"gu");function mft(e){var t;return{cleaned:e.replace(MQ,""),encoded:((t=e.match(MQ))==null?void 0:t[0])||""}}function gft(e){return e&&JSON.parse(mft(JSON.stringify(e)).cleaned)}function yft(e){return gft(e)}class vft extends Error{constructor(n){const r=pCe(n);super(r.message);Y(this,"response");Y(this,"statusCode",400);Y(this,"responseBody");Y(this,"details");Object.assign(this,r)}}class bft extends Error{constructor(n){const r=pCe(n);super(r.message);Y(this,"response");Y(this,"statusCode",500);Y(this,"responseBody");Y(this,"details");Object.assign(this,r)}}function pCe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Sft(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message=`${t.error} - ${t.message}`,n;if(xft(t)||wft(t)){const r=t.error.items||[],i=r.slice(0,5).map(o=>{var s;return(s=o.error)==null?void 0:s.description}).filter(Boolean);let a=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(a+=`
...and ${r.length-5} more`),n.message=`${t.error.description}${a}`,n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||Cft(e),n)}function xft(e){return gA(e)&&gA(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function wft(e){return gA(e)&&gA(e.error)&&e.error.type==="actionError"&&typeof e.error.description=="string"}function gA(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Cft(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function Sft(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Eft={onResponse:e=>{if(e.statusCode>=500)throw new bft(e);if(e.statusCode>=400)throw new vft(e);return e}},kft={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(n=>console.warn(n)),e}};function _ft(e){return Jdt([kz({shouldRetry:Tft}),...e,kft,ift(),aft(),lft(),Eft,sft({implementation:Rt})])}function Tft(e,t,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),a=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&a?!0:kz.shouldRetry(e,t,n)}function mCe(e){if(typeof e=="string")return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}const RQ=["image","file"],OQ=["before","after","replace"],gCe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Aft=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},jft=e=>{if(RQ.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${RQ.join(", ")}`)},zw=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},yCe=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},yA=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);yCe(e,t._id)},Ift=(e,t,n)=>{const r="insert(at, selector, items)";if(OQ.indexOf(e)===-1){const i=OQ.map(a=>`"${a}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof t!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},vCe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},bCe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};class xCe{constructor(t,n={}){Y(this,"selection");Y(this,"operations");this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return zw("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Ift(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after",`${t}[-1]`,n)}prepend(t,n){return this.insert("before",`${t}[0]`,n)}splice(t,n,r,i){const a=typeof r>"u"||r===-1,o=n<0?n-1:n,s=a?-1:Math.max(0,n+r),l=o<0&&s>=0?"":s,c=`${t}[${o}:${l}]`;return this.insert("replace",c,i||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...mCe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n,r=!0){return zw(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}var Lm;const mq=class mq extends xCe{constructor(n,r,i){super(n,r);Fn(this,Lm,void 0);In(this,Lm,i)}clone(){return new mq(this.selection,{...this.operations},De(this,Lm))}commit(n){if(!De(this,Lm))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return De(this,Lm).mutate({patch:this.serialize()},i)}};Lm=new WeakMap;let ng=mq;var Bm;const gq=class gq extends xCe{constructor(n,r,i){super(n,r);Fn(this,Bm,void 0);In(this,Bm,i)}clone(){return new gq(this.selection,{...this.operations},De(this,Bm))}commit(n){if(!De(this,Bm))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return De(this,Bm).mutate({patch:this.serialize()},i)}};Bm=new WeakMap;let rg=gq;const wCe={returnDocuments:!1};class CCe{constructor(t=[],n){Y(this,"operations");Y(this,"trxId");this.operations=t,this.trxId=n}create(t){return zw("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return zw(n,t),yA(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return zw(n,t),yA(n,t),this._add({[n]:t})}delete(t){return yCe("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}var kh;const yq=class yq extends CCe{constructor(n,r,i){super(n,i);Fn(this,kh,void 0);In(this,kh,r)}clone(){return new yq([...this.operations],De(this,kh),this.trxId)}commit(n){if(!De(this,kh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return De(this,kh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},wCe,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof rg)return this._add({patch:n.serialize()});if(i){const a=r(new rg(n,{},De(this,kh)));if(!(a instanceof rg))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};kh=new WeakMap;let vA=yq;var _h;const vq=class vq extends CCe{constructor(n,r,i){super(n,i);Fn(this,_h,void 0);In(this,_h,r)}clone(){return new vq([...this.operations],De(this,_h),this.trxId)}commit(n){if(!De(this,_h))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return De(this,_h).mutate(this.serialize(),Object.assign({transactionId:this.trxId},wCe,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof ng)return this._add({patch:n.serialize()});if(i){const a=r(new ng(n,{},De(this,_h)));if(!(a instanceof ng))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};_h=new WeakMap;let bA=vq;const Dft="https://www.sanity.io/help/";function Tz(e){return Dft+e}function Mft(e){let t=!1,n;return(...r)=>(t||(n=e(...r),t=!0),n)}const SE=e=>Mft((...t)=>console.warn(e.join(" "),...t)),Rft=SE(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Oft=SE(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),$ft=SE(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Pft=SE(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Tz("js-client-browser-token")} for more information and how to hide this warning.`]),Fft=SE(["Using the Sanity client without specifying an API version is deprecated.",`See ${Tz("js-client-api-version")}`]),Nft="apicdn.sanity.io",Uw={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Lft=["localhost","127.0.0.1","0.0.0.0"],Bft=e=>Lft.indexOf(e)!==-1;function Vft(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const SCe=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},ECe=(e,t)=>{const n={...t,...e,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||Uw.stega,...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||{}}};n.apiVersion||Fft();const r={...Uw,...n},i=r.useProjectHostname;if(typeof Promise>"u"){const h=Tz("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${h}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&SCe(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const a=typeof window<"u"&&window.location&&window.location.hostname,o=a&&Bft(window.location.hostname);a&&o&&r.token&&r.ignoreBrowserTokenWarning!==!0?Pft():typeof r.useCdn>"u"&&Oft(),i&&Aft(r.projectId),r.dataset&&gCe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?bCe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Uw.apiHost,r.useCdn===!0&&r.withCredentials&&Rft(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,Vft(r.apiVersion);const s=r.apiHost.split("://",2),l=s[0],c=s[1],d=r.isDefaultApi?Nft:c;return r.useProjectHostname?(r.url=`${l}://${r.projectId}.${c}/v${r.apiVersion}`,r.cdnUrl=`${l}://${r.projectId}.${d}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r},zft="X-Sanity-Project-ID";function Uft(e,t={}){const n={},r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[zft]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),a=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof a>"u"?5*60*1e3:a,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const kCe=({query:e,params:t={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:a,returnQuery:o,...s}=n;i&&r.append("tag",i),r.append("query",e);for(const[l,c]of Object.entries(t))r.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(s))c&&r.append(l,`${c}`);return o===!1&&r.append("returnQuery","false"),a===!1&&r.append("includeMutations","false"),`?${r}`},Hft=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Wft=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:Hft(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),Az=e=>e.type==="response",Gft=e=>e.body,Yft=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),qft=11264;function _Ce(e,t,n,r,i={},a={}){const o="stega"in a?{...n||{},...typeof a.stega=="boolean"?{enabled:a.stega}:a.stega||{}}:n,s=o.enabled?yft(i):i,l=a.filterResponse===!1?g=>g:g=>g.result,{cache:c,next:d,...h}={useAbortSignal:typeof a.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":a.resultSourceMap,...a,returnQuery:a.filterResponse===!1&&a.returnQuery!==!1},p=typeof c<"u"||typeof d<"u"?{...h,fetch:{cache:c,next:d}}:h,m=ob(e,t,"query",{query:r,params:s},p);return o.enabled?m.pipe(Mdt(Br(Tf(()=>import("./stegaEncodeSourceMap-7d395956.js"),[]).then(function(g){return g.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:g})=>g))),fe(([g,y])=>{const v=y(g.result,g.resultSourceMap,o);return l({...g,result:v})})):m.pipe(fe(l))}function TCe(e,t,n,r={}){const i={uri:p0(e,"doc",n),json:!0,tag:r.tag,signal:r.signal};return EE(e,t,i).pipe(Nt(Az),fe(a=>a.body.documents&&a.body.documents[0]))}function ACe(e,t,n,r={}){const i={uri:p0(e,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return EE(e,t,i).pipe(Nt(Az),fe(a=>{const o=Yft(a.body.documents||[],s=>s._id);return n.map(s=>o[s]||null)}))}function jCe(e,t,n,r){return yA("createIfNotExists",n),zD(e,t,n,"createIfNotExists",r)}function ICe(e,t,n,r){return yA("createOrReplace",n),zD(e,t,n,"createOrReplace",r)}function DCe(e,t,n,r){return ob(e,t,"mutate",{mutations:[{delete:mCe(n)}]},r)}function MCe(e,t,n,r){let i;n instanceof rg||n instanceof ng?i={patch:n.serialize()}:n instanceof vA||n instanceof bA?i=n.serialize():i=n;const a=Array.isArray(i)?i:[i],o=r&&r.transactionId||void 0;return ob(e,t,"mutate",{mutations:a,transactionId:o},r)}function RCe(e,t,n,r){const i=Array.isArray(n)?n:[n],a=r&&r.transactionId||void 0,o=r&&r.skipCrossDatasetReferenceValidation||void 0,s=r&&r.dryRun||void 0;return ob(e,t,"actions",{actions:i,transactionId:a,skipCrossDatasetReferenceValidation:o,dryRun:s},r)}function ob(e,t,n,r,i={}){const a=n==="mutate",o=n==="actions",s=n==="query",l=a||o?"":kCe(r),c=!a&&!o&&l.length<qft,d=c?l:"",h=i.returnFirst,{timeout:p,token:m,tag:g,headers:y,returnQuery:v,lastLiveEventId:b}=i,x=p0(e,n,d),w={method:c?"GET":"POST",uri:x,json:!0,body:c?void 0:r,query:a&&Wft(i),timeout:p,headers:y,token:m,tag:g,returnQuery:v,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(b)?b[0]:b,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return EE(e,t,w).pipe(Nt(Az),fe(Gft),fe(C=>{if(!a)return C;const S=C.results||[];if(i.returnDocuments)return h?S[0]&&S[0].document:S.map(_=>_.document);const E=h?"documentId":"documentIds",k=h?S[0]&&S[0].id:S.map(_=>_.id);return{transactionId:C.transactionId,results:S,[E]:k}}))}function zD(e,t,n,r,i={}){const a={[r]:n},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return ob(e,t,"mutate",{mutations:[a]},o)}function EE(e,t,n){const r=n.url||n.uri,i=e.config(),a=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&r.indexOf("/data/")===0:n.canUseCdn;let o=(n.useCdn??i.useCdn)&&a;const s=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(s&&n.tag!==null&&(n.query={tag:bCe(s),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&r.indexOf("/data/query/")===0){const d=n.resultSourceMap??i.resultSourceMap;d!==void 0&&d!==!1&&(n.query={resultSourceMap:d,...n.query});const h=n.perspective||i.perspective;typeof h=="string"&&h!=="raw"&&(SCe(h),n.query={perspective:h,...n.query},h==="previewDrafts"&&o&&(o=!1,$ft())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query})}const l=Uft(i,Object.assign({},n,{url:jz(e,r,o)})),c=new Rt(d=>t(l,i.requester).subscribe(d));return n.signal?c.pipe(Kft(n.signal)):c}function Vu(e,t,n){return EE(e,t,n).pipe(Nt(r=>r.type==="response"),fe(r=>r.body))}function p0(e,t,n){const r=e.config(),i=vCe(r),a=`/${t}/${i}`;return`/data${n?`${a}/${n}`:a}`.replace(/\/($|\?)/,"$1")}function jz(e,t,n=!1){const{url:r,cdnUrl:i}=e.config();return`${n?i:r}/${t.replace(/^\//,"")}`}function Kft(e){return t=>new Rt(n=>{const r=()=>n.error(Xft(e));if(e&&e.aborted){r();return}const i=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),i.unsubscribe()}})}const Zft=!!globalThis.DOMException;function Xft(e){if(Zft)return new DOMException((e==null?void 0:e.reason)??"The operation was aborted.","AbortError");const t=new Error((e==null?void 0:e.reason)??"The operation was aborted.");return t.name="AbortError",t}var FS,NS;class Jft{constructor(t,n){Fn(this,FS,void 0);Fn(this,NS,void 0);In(this,FS,t),In(this,NS,n)}upload(t,n,r){return OCe(De(this,FS),De(this,NS),t,n,r)}}FS=new WeakMap,NS=new WeakMap;var LS,BS;class Qft{constructor(t,n){Fn(this,LS,void 0);Fn(this,BS,void 0);In(this,LS,t),In(this,BS,n)}upload(t,n,r){const i=OCe(De(this,LS),De(this,BS),t,n,r);return Fi(i.pipe(Nt(a=>a.type==="response"),fe(a=>a.body.document)))}}LS=new WeakMap,BS=new WeakMap;function OCe(e,t,n,r,i={}){jft(n);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);const o=vCe(e.config()),s=n==="image"?"images":"files",l=eht(i,r),{tag:c,label:d,title:h,description:p,creditLine:m,filename:g,source:y}=l,v={label:d,title:h,description:p,filename:g,meta:a,creditLine:m};return y&&(v.sourceId=y.id,v.sourceName=y.name,v.sourceUrl=y.url),EE(e,t,{tag:c,method:"POST",timeout:l.timeout||0,uri:`/assets/${s}/${o}`,headers:l.contentType?{"Content-Type":l.contentType}:{},query:v,body:r})}function eht(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var tht=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const nht=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),rht=14800,iht=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],aht={includeResult:!0};function $Ce(e,t,n={}){const{url:r,token:i,withCredentials:a,requestTagPrefix:o}=this.config(),s=n.tag&&o?[o,n.tag].join("."):n.tag,l={...tht(n,aht),tag:s},c=nht(l,iht),d=kCe({query:e,params:t,options:{tag:s,...c}}),h=`${r}${p0(this,"listen",d)}`;if(h.length>rht)return new Rt(y=>y.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,g={};return(i||a)&&(g.withCredentials=!0),i&&(g.headers={Authorization:`Bearer ${i}`}),new Rt(y=>{let v,b,x=!1,w=!1;A();function C(){x||(T(),!x&&v.readyState===v.CLOSED&&(_(),clearTimeout(b),b=setTimeout(A,100)))}function S(M){y.error(oht(M))}function E(M){const D=PCe(M);return D instanceof Error?y.error(D):y.next(D)}function k(){x=!0,_(),y.complete()}function _(){v&&(v.removeEventListener("error",C),v.removeEventListener("channelError",S),v.removeEventListener("disconnect",k),p.forEach(M=>v.removeEventListener(M,E)),v.close())}function T(){m&&y.next({type:"reconnect"})}async function j(){const{default:M}=await Tf(()=>import("./browser-3dbbfe38.js").then(O=>O.b),[]);if(w)return;const D=new M(h,g);return D.addEventListener("error",C),D.addEventListener("channelError",S),D.addEventListener("disconnect",k),p.forEach(O=>D.addEventListener(O,E)),D}function A(){j().then(M=>{M&&(v=M,w&&_())}).catch(M=>{y.error(M),I()})}function I(){x=!0,_(),w=!0}return I})}function PCe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function oht(e){if(e instanceof Error)return e;const t=PCe(e);return t instanceof Error?t:new Error(sht(t))}function sht(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}const $Q="2021-03-26";var Vm;class FCe{constructor(t){Fn(this,Vm,void 0);In(this,Vm,t)}events(){const t=De(this,Vm).config().apiVersion.replace(/^v/,"");if(t!=="X"&&t<$Q)throw new Error(`The live events API requires API version ${$Q} or later. The current API version is ${t}. Please update your API version to use this feature.`);const n=p0(De(this,Vm),"live/events"),r=new URL(De(this,Vm).getUrl(n,!1)),i=["restart","message"];return new Rt(a=>{let o,s,l=!1,c=!1;g();function d(v){if(!l){if("data"in v){const b=PQ(v);a.error(new Error(b.message,{cause:b}))}o.readyState===o.CLOSED&&(p(),clearTimeout(s),s=setTimeout(g,100))}}function h(v){const b=PQ(v);return b instanceof Error?a.error(b):a.next(b)}function p(){if(o){o.removeEventListener("error",d);for(const v of i)o.removeEventListener(v,h);o.close()}}async function m(){const v=typeof EventSource>"u"?(await Tf(()=>import("./browser-3dbbfe38.js").then(x=>x.b),[])).default:EventSource;if(c)return;const b=new v(r.toString());b.addEventListener("error",d);for(const x of i)b.addEventListener(x,h);return b}function g(){m().then(v=>{v&&(o=v,c&&p())}).catch(v=>{a.error(v),y()})}function y(){l=!0,p(),c=!0}return y})}}Vm=new WeakMap;function PQ(e){try{const t=e.data&&JSON.parse(e.data)||{};return{type:e.type,id:e.lastEventId,...t}}catch(t){return t}}var Th,Ah;class lht{constructor(t,n){Fn(this,Th,void 0);Fn(this,Ah,void 0);In(this,Th,t),In(this,Ah,n)}create(t,n){return ly(De(this,Th),De(this,Ah),"PUT",t,n)}edit(t,n){return ly(De(this,Th),De(this,Ah),"PATCH",t,n)}delete(t){return ly(De(this,Th),De(this,Ah),"DELETE",t)}list(){return Vu(De(this,Th),De(this,Ah),{uri:"/datasets",tag:null})}}Th=new WeakMap,Ah=new WeakMap;var jh,Ih;class uht{constructor(t,n){Fn(this,jh,void 0);Fn(this,Ih,void 0);In(this,jh,t),In(this,Ih,n)}create(t,n){return Fi(ly(De(this,jh),De(this,Ih),"PUT",t,n))}edit(t,n){return Fi(ly(De(this,jh),De(this,Ih),"PATCH",t,n))}delete(t){return Fi(ly(De(this,jh),De(this,Ih),"DELETE",t))}list(){return Fi(Vu(De(this,jh),De(this,Ih),{uri:"/datasets",tag:null}))}}jh=new WeakMap,Ih=new WeakMap;function ly(e,t,n,r,i){return gCe(r),Vu(e,t,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var Ey,ky;class cht{constructor(t,n){Fn(this,Ey,void 0);Fn(this,ky,void 0);In(this,Ey,t),In(this,ky,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Vu(De(this,Ey),De(this,ky),{uri:n})}getById(t){return Vu(De(this,Ey),De(this,ky),{uri:`/projects/${t}`})}}Ey=new WeakMap,ky=new WeakMap;var _y,Ty;class dht{constructor(t,n){Fn(this,_y,void 0);Fn(this,Ty,void 0);In(this,_y,t),In(this,Ty,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Fi(Vu(De(this,_y),De(this,Ty),{uri:n}))}getById(t){return Fi(Vu(De(this,_y),De(this,Ty),{uri:`/projects/${t}`}))}}_y=new WeakMap,Ty=new WeakMap;var VS,zS;class fht{constructor(t,n){Fn(this,VS,void 0);Fn(this,zS,void 0);In(this,VS,t),In(this,zS,n)}getById(t){return Vu(De(this,VS),De(this,zS),{uri:`/users/${t}`})}}VS=new WeakMap,zS=new WeakMap;var US,HS;class hht{constructor(t,n){Fn(this,US,void 0);Fn(this,HS,void 0);In(this,US,t),In(this,HS,n)}getById(t){return Fi(Vu(De(this,US),De(this,HS),{uri:`/users/${t}`}))}}US=new WeakMap,HS=new WeakMap;var Dd,Xi;const tI=class tI{constructor(t,n=Uw){Y(this,"assets");Y(this,"datasets");Y(this,"live");Y(this,"projects");Y(this,"users");Fn(this,Dd,void 0);Fn(this,Xi,void 0);Y(this,"listen",$Ce);this.config(n),In(this,Xi,t),this.assets=new Jft(this,De(this,Xi)),this.datasets=new lht(this,De(this,Xi)),this.live=new FCe(this),this.projects=new cht(this,De(this,Xi)),this.users=new fht(this,De(this,Xi))}clone(){return new tI(De(this,Xi),this.config())}config(t){if(t===void 0)return{...De(this,Dd)};if(De(this,Dd)&&De(this,Dd).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return In(this,Dd,ECe(t,De(this,Dd)||{})),this}withConfig(t){const n=this.config();return new tI(De(this,Xi),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return _Ce(this,De(this,Xi),De(this,Dd).stega,t,n,r)}getDocument(t,n){return TCe(this,De(this,Xi),t,n)}getDocuments(t,n){return ACe(this,De(this,Xi),t,n)}create(t,n){return zD(this,De(this,Xi),t,"create",n)}createIfNotExists(t,n){return jCe(this,De(this,Xi),t,n)}createOrReplace(t,n){return ICe(this,De(this,Xi),t,n)}delete(t,n){return DCe(this,De(this,Xi),t,n)}mutate(t,n){return MCe(this,De(this,Xi),t,n)}patch(t,n){return new ng(t,n,this)}transaction(t){return new bA(t,this)}action(t,n){return RCe(this,De(this,Xi),t,n)}request(t){return Vu(this,De(this,Xi),t)}getUrl(t,n){return jz(this,t,n)}getDataUrl(t,n){return p0(this,t,n)}};Dd=new WeakMap,Xi=new WeakMap;let FN=tI;var Md,Oi;const nI=class nI{constructor(t,n=Uw){Y(this,"assets");Y(this,"datasets");Y(this,"live");Y(this,"projects");Y(this,"users");Y(this,"observable");Fn(this,Md,void 0);Fn(this,Oi,void 0);Y(this,"listen",$Ce);this.config(n),In(this,Oi,t),this.assets=new Qft(this,De(this,Oi)),this.datasets=new uht(this,De(this,Oi)),this.live=new FCe(this),this.projects=new dht(this,De(this,Oi)),this.users=new hht(this,De(this,Oi)),this.observable=new FN(t,n)}clone(){return new nI(De(this,Oi),this.config())}config(t){if(t===void 0)return{...De(this,Md)};if(De(this,Md)&&De(this,Md).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),In(this,Md,ECe(t,De(this,Md)||{})),this}withConfig(t){const n=this.config();return new nI(De(this,Oi),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return Fi(_Ce(this,De(this,Oi),De(this,Md).stega,t,n,r))}getDocument(t,n){return Fi(TCe(this,De(this,Oi),t,n))}getDocuments(t,n){return Fi(ACe(this,De(this,Oi),t,n))}create(t,n){return Fi(zD(this,De(this,Oi),t,"create",n))}createIfNotExists(t,n){return Fi(jCe(this,De(this,Oi),t,n))}createOrReplace(t,n){return Fi(ICe(this,De(this,Oi),t,n))}delete(t,n){return Fi(DCe(this,De(this,Oi),t,n))}mutate(t,n){return Fi(MCe(this,De(this,Oi),t,n))}patch(t,n){return new rg(t,n,this)}transaction(t){return new vA(t,this)}action(t,n){return Fi(RCe(this,De(this,Oi),t,n))}request(t){return Fi(Vu(this,De(this,Oi),t))}dataRequest(t,n,r){return Fi(ob(this,De(this,Oi),t,n,r))}getUrl(t,n){return jz(this,t,n)}getDataUrl(t,n){return p0(this,t,n)}};Md=new WeakMap,Oi=new WeakMap;let NN=nI;function pht(e,t){const n=_ft(e);return{requester:n,createClient:r=>new t((i,a)=>(a||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...i}),r)}}var mht=[];const ght=pht(mht,NN),NCe=ght.createClient;var yht=QV;function vht(e,t){return yht(e,t)}var bht=vht;const kt=Fe(bht);var xht=function(e){return e};function LCe(e){e===void 0&&(e=xht);var t=new Fr;return[t.pipe(e),function(n){return t.next(n)}]}function FQ(e){return typeof e=="function"?e():e}const k2=new WeakMap;function ti(e,t){const n=f.useRef(FQ(t));f.useEffect(()=>{n.current=FQ(t)},[t]);const r=f.useMemo(()=>{if(!k2.has(e)){const a={snapshot:n.current};a.observable=e.pipe(fe(o=>({snapshot:o,error:void 0})),kn(o=>we({snapshot:void 0,error:o})),Qn(({snapshot:o,error:s})=>{a.snapshot=o,a.error=s}),fe(o=>{}),VD(()=>k2.delete(e)),Ho({resetOnRefCountZero:()=>Qr(0,Iwe)})),a.observable.subscribe().unsubscribe(),k2.set(e,a)}const i=k2.get(e);return{subscribe:a=>{const o=i.observable.subscribe(a);return()=>{o.unsubscribe()}},getSnapshot:()=>{if(i.error)throw i.error;return i.snapshot}}},[e]);return f.useSyncExternalStore(r.subscribe,r.getSnapshot,typeof n.current>"u"?void 0:()=>n.current)}function UD(e){const[[t,n]]=f.useState(()=>LCe()),r=SV(i=>e(i));return f.useEffect(()=>{const i=t.pipe(a=>r(a)).subscribe();return()=>i.unsubscribe()},[t,r]),n}var BCe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,r(s)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)t.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(BCe);var wht=BCe.exports;const Cht=Fe(wht);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var VCe;function Qe(){return VCe.apply(null,arguments)}function Sht(e){VCe=e}function zu(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ig(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Iz(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Yn(e,t))return!1;return!0}function ls(e){return e===void 0}function mf(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function kE(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function zCe(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Rh(e,t){for(var n in t)Yn(t,n)&&(e[n]=t[n]);return Yn(t,"toString")&&(e.toString=t.toString),Yn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Jc(e,t,n,r){return dSe(e,t,n,r,!0).utc()}function Eht(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Kt(e){return e._pf==null&&(e._pf=Eht()),e._pf}var LN;Array.prototype.some?LN=Array.prototype.some:LN=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Dz(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Kt(e),n=LN.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function HD(e){var t=Jc(NaN);return e!=null?Rh(Kt(t),e):Kt(t).userInvalidated=!0,t}var NQ=Qe.momentProperties=[],U$=!1;function Mz(e,t){var n,r,i,a=NQ.length;if(ls(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ls(t._i)||(e._i=t._i),ls(t._f)||(e._f=t._f),ls(t._l)||(e._l=t._l),ls(t._strict)||(e._strict=t._strict),ls(t._tzm)||(e._tzm=t._tzm),ls(t._isUTC)||(e._isUTC=t._isUTC),ls(t._offset)||(e._offset=t._offset),ls(t._pf)||(e._pf=Kt(t)),ls(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=NQ[n],i=t[r],ls(i)||(e[r]=i);return e}function _E(e){Mz(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U$===!1&&(U$=!0,Qe.updateOffset(this),U$=!1)}function Uu(e){return e instanceof _E||e!=null&&e._isAMomentObject!=null}function UCe(e){Qe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function au(e,t){var n=!0;return Rh(function(){if(Qe.deprecationHandler!=null&&Qe.deprecationHandler(null,e),n){var r=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(o in arguments[0])Yn(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}UCe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var LQ={};function HCe(e,t){Qe.deprecationHandler!=null&&Qe.deprecationHandler(e,t),LQ[e]||(UCe(t),LQ[e]=!0)}Qe.suppressDeprecationWarnings=!1;Qe.deprecationHandler=null;function Qc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function kht(e){var t,n;for(n in e)Yn(e,n)&&(t=e[n],Qc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function BN(e,t){var n=Rh({},e),r;for(r in t)Yn(t,r)&&(ig(e[r])&&ig(t[r])?(n[r]={},Rh(n[r],e[r]),Rh(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Yn(e,r)&&!Yn(t,r)&&ig(e[r])&&(n[r]=Rh({},n[r]));return n}function Rz(e){e!=null&&this.set(e)}var VN;Object.keys?VN=Object.keys:VN=function(e){var t,n=[];for(t in e)Yn(e,t)&&n.push(t);return n};var _ht={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Tht(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Qc(r)?r.call(t,n):r}function Uc(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Oz=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H$={},uy={};function St(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(uy[e]=i),t&&(uy[t[0]]=function(){return Uc(i.apply(this,arguments),t[1],t[2])}),n&&(uy[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Aht(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function jht(e){var t=e.match(Oz),n,r;for(n=0,r=t.length;n<r;n++)uy[t[n]]?t[n]=uy[t[n]]:t[n]=Aht(t[n]);return function(i){var a="",o;for(o=0;o<r;o++)a+=Qc(t[o])?t[o].call(i,e):t[o];return a}}function E_(e,t){return e.isValid()?(t=WCe(t,e.localeData()),H$[t]=H$[t]||jht(t),H$[t](e)):e.localeData().invalidDate()}function WCe(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(_2.lastIndex=0;n>=0&&_2.test(e);)e=e.replace(_2,r),_2.lastIndex=0,n-=1;return e}var Iht={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Dht(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Oz).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Mht="Invalid date";function Rht(){return this._invalidDate}var Oht="%d",$ht=/\d{1,2}/;function Pht(e){return this._ordinal.replace("%d",e)}var Fht={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Nht(e,t,n,r){var i=this._relativeTime[n];return Qc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Lht(e,t){var n=this._relativeTime[e>0?"future":"past"];return Qc(n)?n(t):n.replace(/%s/i,t)}var BQ={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ou(e){return typeof e=="string"?BQ[e]||BQ[e.toLowerCase()]:void 0}function $z(e){var t={},n,r;for(r in e)Yn(e,r)&&(n=ou(r),n&&(t[n]=e[r]));return t}var Bht={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Vht(e){var t=[],n;for(n in e)Yn(e,n)&&t.push({unit:n,priority:Bht[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var GCe=/\d/,ul=/\d\d/,YCe=/\d{3}/,Pz=/\d{4}/,WD=/[+-]?\d{6}/,ni=/\d\d?/,qCe=/\d\d\d\d?/,KCe=/\d\d\d\d\d\d?/,GD=/\d{1,3}/,Fz=/\d{1,4}/,YD=/[+-]?\d{1,6}/,sb=/\d+/,qD=/[+-]?\d+/,zht=/Z|[+-]\d\d:?\d\d/gi,KD=/Z|[+-]\d\d(?::?\d\d)?/gi,Uht=/[+-]?\d+(\.\d{1,3})?/,TE=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lb=/^[1-9]\d?/,Nz=/^([1-9]\d|\d)/,xA;xA={};function lt(e,t,n){xA[e]=Qc(t)?t:function(r,i){return r&&n?n:t}}function Hht(e,t){return Yn(xA,e)?xA[e](t._strict,t._locale):new RegExp(Wht(e))}function Wht(e){return Xd(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,a){return n||r||i||a}))}function Xd(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function kl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function vn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=kl(t)),n}var zN={};function yr(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),mf(t)&&(r=function(a,o){o[t]=vn(a)}),i=e.length,n=0;n<i;n++)zN[e[n]]=r}function AE(e,t){yr(e,function(n,r,i,a){i._w=i._w||{},t(n,i._w,i,a)})}function Ght(e,t,n){t!=null&&Yn(zN,e)&&zN[e](t,n._a,n,e)}function ZD(e){return e%4===0&&e%100!==0||e%400===0}var Eo=0,Vd=1,wc=2,xa=3,_u=4,zd=5,Mm=6,Yht=7,qht=8;St("Y",0,0,function(){var e=this.year();return e<=9999?Uc(e,4):"+"+e});St(0,["YY",2],0,function(){return this.year()%100});St(0,["YYYY",4],0,"year");St(0,["YYYYY",5],0,"year");St(0,["YYYYYY",6,!0],0,"year");lt("Y",qD);lt("YY",ni,ul);lt("YYYY",Fz,Pz);lt("YYYYY",YD,WD);lt("YYYYYY",YD,WD);yr(["YYYYY","YYYYYY"],Eo);yr("YYYY",function(e,t){t[Eo]=e.length===2?Qe.parseTwoDigitYear(e):vn(e)});yr("YY",function(e,t){t[Eo]=Qe.parseTwoDigitYear(e)});yr("Y",function(e,t){t[Eo]=parseInt(e,10)});function Hw(e){return ZD(e)?366:365}Qe.parseTwoDigitYear=function(e){return vn(e)+(vn(e)>68?1900:2e3)};var ZCe=ub("FullYear",!0);function Kht(){return ZD(this.year())}function ub(e,t){return function(n){return n!=null?(XCe(this,e,n),Qe.updateOffset(this,t),this):WC(this,e)}}function WC(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function XCe(e,t,n){var r,i,a,o,s;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,o=e.month(),s=e.date(),s=s===29&&o===1&&!ZD(a)?28:s,i?r.setUTCFullYear(a,o,s):r.setFullYear(a,o,s)}}function Zht(e){return e=ou(e),Qc(this[e])?this[e]():this}function Xht(e,t){if(typeof e=="object"){e=$z(e);var n=Vht(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=ou(e),Qc(this[e]))return this[e](t);return this}function Jht(e,t){return(e%t+t)%t}var Pi;Array.prototype.indexOf?Pi=Array.prototype.indexOf:Pi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Lz(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Jht(t,12);return e+=(t-n)/12,n===1?ZD(e)?29:28:31-n%7%2}St("M",["MM",2],"Mo",function(){return this.month()+1});St("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});St("MMMM",0,0,function(e){return this.localeData().months(this,e)});lt("M",ni,lb);lt("MM",ni,ul);lt("MMM",function(e,t){return t.monthsShortRegex(e)});lt("MMMM",function(e,t){return t.monthsRegex(e)});yr(["M","MM"],function(e,t){t[Vd]=vn(e)-1});yr(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Vd]=i:Kt(n).invalidMonth=e});var Qht="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),JCe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),QCe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ept=TE,tpt=TE;function npt(e,t){return e?zu(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||QCe).test(t)?"format":"standalone"][e.month()]:zu(this._months)?this._months:this._months.standalone}function rpt(e,t){return e?zu(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[QCe.test(t)?"format":"standalone"][e.month()]:zu(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ipt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=Jc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(i=Pi.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Pi.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Pi.call(this._shortMonthsParse,o),i!==-1?i:(i=Pi.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Pi.call(this._longMonthsParse,o),i!==-1?i:(i=Pi.call(this._shortMonthsParse,o),i!==-1?i:null))}function apt(e,t,n){var r,i,a;if(this._monthsParseExact)return ipt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Jc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function eSe(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=vn(t);else if(t=e.localeData().monthsParse(t),!mf(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,Lz(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function tSe(e){return e!=null?(eSe(this,e),Qe.updateOffset(this,!0),this):WC(this,"Month")}function opt(){return Lz(this.year(),this.month())}function spt(e){return this._monthsParseExact?(Yn(this,"_monthsRegex")||nSe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Yn(this,"_monthsShortRegex")||(this._monthsShortRegex=ept),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function lpt(e){return this._monthsParseExact?(Yn(this,"_monthsRegex")||nSe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Yn(this,"_monthsRegex")||(this._monthsRegex=tpt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function nSe(){function e(l,c){return c.length-l.length}var t=[],n=[],r=[],i,a,o,s;for(i=0;i<12;i++)a=Jc([2e3,i]),o=Xd(this.monthsShort(a,"")),s=Xd(this.months(a,"")),t.push(o),n.push(s),r.push(s),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function upt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function GC(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wA(e,t,n){var r=7+t-n,i=(7+GC(e,0,r).getUTCDay()-t)%7;return-i+r-1}function rSe(e,t,n,r,i){var a=(7+n-r)%7,o=wA(e,r,i),s=1+7*(t-1)+a+o,l,c;return s<=0?(l=e-1,c=Hw(l)+s):s>Hw(e)?(l=e+1,c=s-Hw(e)):(l=e,c=s),{year:l,dayOfYear:c}}function YC(e,t,n){var r=wA(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,a,o;return i<1?(o=e.year()-1,a=i+Jd(o,t,n)):i>Jd(e.year(),t,n)?(a=i-Jd(e.year(),t,n),o=e.year()+1):(o=e.year(),a=i),{week:a,year:o}}function Jd(e,t,n){var r=wA(e,t,n),i=wA(e+1,t,n);return(Hw(e)-r+i)/7}St("w",["ww",2],"wo","week");St("W",["WW",2],"Wo","isoWeek");lt("w",ni,lb);lt("ww",ni,ul);lt("W",ni,lb);lt("WW",ni,ul);AE(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=vn(e)});function cpt(e){return YC(e,this._week.dow,this._week.doy).week}var dpt={dow:0,doy:6};function fpt(){return this._week.dow}function hpt(){return this._week.doy}function ppt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function mpt(e){var t=YC(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}St("d",0,"do","day");St("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});St("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});St("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});St("e",0,0,"weekday");St("E",0,0,"isoWeekday");lt("d",ni);lt("e",ni);lt("E",ni);lt("dd",function(e,t){return t.weekdaysMinRegex(e)});lt("ddd",function(e,t){return t.weekdaysShortRegex(e)});lt("dddd",function(e,t){return t.weekdaysRegex(e)});AE(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Kt(n).invalidWeekday=e});AE(["d","e","E"],function(e,t,n,r){t[r]=vn(e)});function gpt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ypt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Bz(e,t){return e.slice(t,7).concat(e.slice(0,t))}var vpt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iSe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bpt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xpt=TE,wpt=TE,Cpt=TE;function Spt(e,t){var n=zu(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Bz(n,this._week.dow):e?n[e.day()]:n}function Ept(e){return e===!0?Bz(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function kpt(e){return e===!0?Bz(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function _pt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=Jc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(i=Pi.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Pi.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Pi.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Pi.call(this._weekdaysParse,o),i!==-1||(i=Pi.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Pi.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Pi.call(this._shortWeekdaysParse,o),i!==-1||(i=Pi.call(this._weekdaysParse,o),i!==-1)?i:(i=Pi.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Pi.call(this._minWeekdaysParse,o),i!==-1||(i=Pi.call(this._weekdaysParse,o),i!==-1)?i:(i=Pi.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Tpt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return _pt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Jc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Apt(e){if(!this.isValid())return e!=null?this:NaN;var t=WC(this,"Day");return e!=null?(e=gpt(e,this.localeData()),this.add(e-t,"d")):t}function jpt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ipt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ypt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Dpt(e){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||Vz.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Yn(this,"_weekdaysRegex")||(this._weekdaysRegex=xpt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Mpt(e){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||Vz.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Yn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wpt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rpt(e){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||Vz.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Yn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cpt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Vz(){function e(d,h){return h.length-d.length}var t=[],n=[],r=[],i=[],a,o,s,l,c;for(a=0;a<7;a++)o=Jc([2e3,1]).day(a),s=Xd(this.weekdaysMin(o,"")),l=Xd(this.weekdaysShort(o,"")),c=Xd(this.weekdays(o,"")),t.push(s),n.push(l),r.push(c),i.push(s),i.push(l),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zz(){return this.hours()%12||12}function Opt(){return this.hours()||24}St("H",["HH",2],0,"hour");St("h",["hh",2],0,zz);St("k",["kk",2],0,Opt);St("hmm",0,0,function(){return""+zz.apply(this)+Uc(this.minutes(),2)});St("hmmss",0,0,function(){return""+zz.apply(this)+Uc(this.minutes(),2)+Uc(this.seconds(),2)});St("Hmm",0,0,function(){return""+this.hours()+Uc(this.minutes(),2)});St("Hmmss",0,0,function(){return""+this.hours()+Uc(this.minutes(),2)+Uc(this.seconds(),2)});function aSe(e,t){St(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}aSe("a",!0);aSe("A",!1);function oSe(e,t){return t._meridiemParse}lt("a",oSe);lt("A",oSe);lt("H",ni,Nz);lt("h",ni,lb);lt("k",ni,lb);lt("HH",ni,ul);lt("hh",ni,ul);lt("kk",ni,ul);lt("hmm",qCe);lt("hmmss",KCe);lt("Hmm",qCe);lt("Hmmss",KCe);yr(["H","HH"],xa);yr(["k","kk"],function(e,t,n){var r=vn(e);t[xa]=r===24?0:r});yr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});yr(["h","hh"],function(e,t,n){t[xa]=vn(e),Kt(n).bigHour=!0});yr("hmm",function(e,t,n){var r=e.length-2;t[xa]=vn(e.substr(0,r)),t[_u]=vn(e.substr(r)),Kt(n).bigHour=!0});yr("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[xa]=vn(e.substr(0,r)),t[_u]=vn(e.substr(r,2)),t[zd]=vn(e.substr(i)),Kt(n).bigHour=!0});yr("Hmm",function(e,t,n){var r=e.length-2;t[xa]=vn(e.substr(0,r)),t[_u]=vn(e.substr(r))});yr("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[xa]=vn(e.substr(0,r)),t[_u]=vn(e.substr(r,2)),t[zd]=vn(e.substr(i))});function $pt(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ppt=/[ap]\.?m?\.?/i,Fpt=ub("Hours",!0);function Npt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sSe={calendar:_ht,longDateFormat:Iht,invalidDate:Mht,ordinal:Oht,dayOfMonthOrdinalParse:$ht,relativeTime:Fht,months:Qht,monthsShort:JCe,week:dpt,weekdays:vpt,weekdaysMin:bpt,weekdaysShort:iSe,meridiemParse:Ppt},oi={},px={},qC;function Lpt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function VQ(e){return e&&e.toLowerCase().replace("_","-")}function Bpt(e){for(var t=0,n,r,i,a;t<e.length;){for(a=VQ(e[t]).split("-"),n=a.length,r=VQ(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=XD(a.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Lpt(a,r)>=n-1)break;n--}t++}return qC}function Vpt(e){return!!(e&&e.match("^[^/\\\\]*$"))}function XD(e){var t=null,n;if(oi[e]===void 0&&typeof module<"u"&&module&&module.exports&&Vpt(e))try{t=qC._abbr,n=require,n("./locale/"+e),ip(t)}catch{oi[e]=null}return oi[e]}function ip(e,t){var n;return e&&(ls(t)?n=Nf(e):n=Uz(e,t),n?qC=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),qC._abbr}function Uz(e,t){if(t!==null){var n,r=sSe;if(t.abbr=e,oi[e]!=null)HCe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=oi[e]._config;else if(t.parentLocale!=null)if(oi[t.parentLocale]!=null)r=oi[t.parentLocale]._config;else if(n=XD(t.parentLocale),n!=null)r=n._config;else return px[t.parentLocale]||(px[t.parentLocale]=[]),px[t.parentLocale].push({name:e,config:t}),null;return oi[e]=new Rz(BN(r,t)),px[e]&&px[e].forEach(function(i){Uz(i.name,i.config)}),ip(e),oi[e]}else return delete oi[e],null}function zpt(e,t){if(t!=null){var n,r,i=sSe;oi[e]!=null&&oi[e].parentLocale!=null?oi[e].set(BN(oi[e]._config,t)):(r=XD(e),r!=null&&(i=r._config),t=BN(i,t),r==null&&(t.abbr=e),n=new Rz(t),n.parentLocale=oi[e],oi[e]=n),ip(e)}else oi[e]!=null&&(oi[e].parentLocale!=null?(oi[e]=oi[e].parentLocale,e===ip()&&ip(e)):oi[e]!=null&&delete oi[e]);return oi[e]}function Nf(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qC;if(!zu(e)){if(t=XD(e),t)return t;e=[e]}return Bpt(e)}function Upt(){return VN(oi)}function Hz(e){var t,n=e._a;return n&&Kt(e).overflow===-2&&(t=n[Vd]<0||n[Vd]>11?Vd:n[wc]<1||n[wc]>Lz(n[Eo],n[Vd])?wc:n[xa]<0||n[xa]>24||n[xa]===24&&(n[_u]!==0||n[zd]!==0||n[Mm]!==0)?xa:n[_u]<0||n[_u]>59?_u:n[zd]<0||n[zd]>59?zd:n[Mm]<0||n[Mm]>999?Mm:-1,Kt(e)._overflowDayOfYear&&(t<Eo||t>wc)&&(t=wc),Kt(e)._overflowWeeks&&t===-1&&(t=Yht),Kt(e)._overflowWeekday&&t===-1&&(t=qht),Kt(e).overflow=t),e}var Hpt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wpt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gpt=/Z|[+-]\d\d(?::?\d\d)?/,T2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],W$=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ypt=/^\/?Date\((-?\d+)/i,qpt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Kpt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lSe(e){var t,n,r=e._i,i=Hpt.exec(r)||Wpt.exec(r),a,o,s,l,c=T2.length,d=W$.length;if(i){for(Kt(e).iso=!0,t=0,n=c;t<n;t++)if(T2[t][1].exec(i[1])){o=T2[t][0],a=T2[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(W$[t][1].exec(i[3])){s=(i[2]||" ")+W$[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(i[4])if(Gpt.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(l||""),Gz(e)}else e._isValid=!1}function Zpt(e,t,n,r,i,a){var o=[Xpt(e),JCe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Xpt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Jpt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Qpt(e,t,n){if(e){var r=iSe.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function emt(e,t,n){if(e)return Kpt[e];if(t)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return a*60+i}function uSe(e){var t=qpt.exec(Jpt(e._i)),n;if(t){if(n=Zpt(t[4],t[3],t[2],t[5],t[6],t[7]),!Qpt(t[1],n,e))return;e._a=n,e._tzm=emt(t[8],t[9],t[10]),e._d=GC.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Kt(e).rfc2822=!0}else e._isValid=!1}function tmt(e){var t=Ypt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(lSe(e),e._isValid===!1)delete e._isValid;else return;if(uSe(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Qe.createFromInputFallback(e)}Qe.createFromInputFallback=au("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function l1(e,t,n){return e??t??n}function nmt(e){var t=new Date(Qe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Wz(e){var t,n,r=[],i,a,o;if(!e._d){for(i=nmt(e),e._w&&e._a[wc]==null&&e._a[Vd]==null&&rmt(e),e._dayOfYear!=null&&(o=l1(e._a[Eo],i[Eo]),(e._dayOfYear>Hw(o)||e._dayOfYear===0)&&(Kt(e)._overflowDayOfYear=!0),n=GC(o,0,e._dayOfYear),e._a[Vd]=n.getUTCMonth(),e._a[wc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[xa]===24&&e._a[_u]===0&&e._a[zd]===0&&e._a[Mm]===0&&(e._nextDay=!0,e._a[xa]=0),e._d=(e._useUTC?GC:upt).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[xa]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Kt(e).weekdayMismatch=!0)}}function rmt(e){var t,n,r,i,a,o,s,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=l1(t.GG,e._a[Eo],YC(ei(),1,4).year),r=l1(t.W,1),i=l1(t.E,1),(i<1||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=YC(ei(),a,o),n=l1(t.gg,e._a[Eo],c.year),r=l1(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),r<1||r>Jd(n,a,o)?Kt(e)._overflowWeeks=!0:l!=null?Kt(e)._overflowWeekday=!0:(s=rSe(n,r,i,a,o),e._a[Eo]=s.year,e._dayOfYear=s.dayOfYear)}Qe.ISO_8601=function(){};Qe.RFC_2822=function(){};function Gz(e){if(e._f===Qe.ISO_8601){lSe(e);return}if(e._f===Qe.RFC_2822){uSe(e);return}e._a=[],Kt(e).empty=!0;var t=""+e._i,n,r,i,a,o,s=t.length,l=0,c,d;for(i=WCe(e._f,e._locale).match(Oz)||[],d=i.length,n=0;n<d;n++)a=i[n],r=(t.match(Hht(a,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&Kt(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),uy[a]?(r?Kt(e).empty=!1:Kt(e).unusedTokens.push(a),Ght(a,r,e)):e._strict&&!r&&Kt(e).unusedTokens.push(a);Kt(e).charsLeftOver=s-l,t.length>0&&Kt(e).unusedInput.push(t),e._a[xa]<=12&&Kt(e).bigHour===!0&&e._a[xa]>0&&(Kt(e).bigHour=void 0),Kt(e).parsedDateParts=e._a.slice(0),Kt(e).meridiem=e._meridiem,e._a[xa]=imt(e._locale,e._a[xa],e._meridiem),c=Kt(e).era,c!==null&&(e._a[Eo]=e._locale.erasConvertYear(c,e._a[Eo])),Wz(e),Hz(e)}function imt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function amt(e){var t,n,r,i,a,o,s=!1,l=e._f.length;if(l===0){Kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,t=Mz({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Gz(t),Dz(t)&&(o=!0),a+=Kt(t).charsLeftOver,a+=Kt(t).unusedTokens.length*10,Kt(t).score=a,s?a<r&&(r=a,n=t):(r==null||a<r||o)&&(r=a,n=t,o&&(s=!0));Rh(e,n||t)}function omt(e){if(!e._d){var t=$z(e._i),n=t.day===void 0?t.date:t.day;e._a=zCe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Wz(e)}}function smt(e){var t=new _E(Hz(cSe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function cSe(e){var t=e._i,n=e._f;return e._locale=e._locale||Nf(e._l),t===null||n===void 0&&t===""?HD({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Uu(t)?new _E(Hz(t)):(kE(t)?e._d=t:zu(n)?amt(e):n?Gz(e):lmt(e),Dz(e)||(e._d=null),e))}function lmt(e){var t=e._i;ls(t)?e._d=new Date(Qe.now()):kE(t)?e._d=new Date(t.valueOf()):typeof t=="string"?tmt(e):zu(t)?(e._a=zCe(t.slice(0),function(n){return parseInt(n,10)}),Wz(e)):ig(t)?omt(e):mf(t)?e._d=new Date(t):Qe.createFromInputFallback(e)}function dSe(e,t,n,r,i){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ig(e)&&Iz(e)||zu(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,smt(a)}function ei(e,t,n,r){return dSe(e,t,n,r,!1)}var umt=au("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ei.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:HD()}),cmt=au("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ei.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:HD()});function fSe(e,t){var n,r;if(t.length===1&&zu(t[0])&&(t=t[0]),!t.length)return ei();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function dmt(){var e=[].slice.call(arguments,0);return fSe("isBefore",e)}function fmt(){var e=[].slice.call(arguments,0);return fSe("isAfter",e)}var hmt=function(){return Date.now?Date.now():+new Date},mx=["year","quarter","month","week","day","hour","minute","second","millisecond"];function pmt(e){var t,n=!1,r,i=mx.length;for(t in e)if(Yn(e,t)&&!(Pi.call(mx,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[mx[r]]){if(n)return!1;parseFloat(e[mx[r]])!==vn(e[mx[r]])&&(n=!0)}return!0}function mmt(){return this._isValid}function gmt(){return qu(NaN)}function JD(e){var t=$z(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=pmt(t),this._milliseconds=+d+c*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=Nf(),this._bubble()}function k_(e){return e instanceof JD}function UN(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ymt(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&vn(e[o])!==vn(t[o]))&&a++;return a+i}function hSe(e,t){St(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Uc(~~(n/60),2)+t+Uc(~~n%60,2)})}hSe("Z",":");hSe("ZZ","");lt("Z",KD);lt("ZZ",KD);yr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Yz(KD,e)});var vmt=/([\+\-]|\d\d)/gi;function Yz(e,t){var n=(t||"").match(e),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(vmt)||["-",0,0],a=+(i[1]*60)+vn(i[2]),a===0?0:i[0]==="+"?a:-a)}function qz(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Uu(e)||kE(e)?e.valueOf():ei(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Qe.updateOffset(n,!1),n):ei(e).local()}function HN(e){return-Math.round(e._d.getTimezoneOffset())}Qe.updateOffset=function(){};function bmt(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Yz(KD,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=HN(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?gSe(this,qu(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Qe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:HN(this)}function xmt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function wmt(e){return this.utcOffset(0,e)}function Cmt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(HN(this),"m")),this}function Smt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Yz(zht,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Emt(e){return this.isValid()?(e=e?ei(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function kmt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _mt(){if(!ls(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Mz(e,this),e=cSe(e),e._a?(t=e._isUTC?Jc(e._a):ei(e._a),this._isDSTShifted=this.isValid()&&ymt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tmt(){return this.isValid()?!this._isUTC:!1}function Amt(){return this.isValid()?this._isUTC:!1}function pSe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jmt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Imt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qu(e,t){var n=e,r=null,i,a,o;return k_(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:mf(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=jmt.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:vn(r[wc])*i,h:vn(r[xa])*i,m:vn(r[_u])*i,s:vn(r[zd])*i,ms:vn(UN(r[Mm]*1e3))*i}):(r=Imt.exec(e))?(i=r[1]==="-"?-1:1,n={y:rm(r[2],i),M:rm(r[3],i),w:rm(r[4],i),d:rm(r[5],i),h:rm(r[6],i),m:rm(r[7],i),s:rm(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Dmt(ei(n.from),ei(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new JD(n),k_(e)&&Yn(e,"_locale")&&(a._locale=e._locale),k_(e)&&Yn(e,"_isValid")&&(a._isValid=e._isValid),a}qu.fn=JD.prototype;qu.invalid=gmt;function rm(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function zQ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Dmt(e,t){var n;return e.isValid()&&t.isValid()?(t=qz(t,e),e.isBefore(t)?n=zQ(e,t):(n=zQ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function mSe(e,t){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(HCe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),i=qu(n,r),gSe(this,i,e),this}}function gSe(e,t,n,r){var i=t._milliseconds,a=UN(t._days),o=UN(t._months);e.isValid()&&(r=r??!0,o&&eSe(e,WC(e,"Month")+o*n),a&&XCe(e,"Date",WC(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Qe.updateOffset(e,a||o))}var Mmt=mSe(1,"add"),Rmt=mSe(-1,"subtract");function ySe(e){return typeof e=="string"||e instanceof String}function Omt(e){return Uu(e)||kE(e)||ySe(e)||mf(e)||Pmt(e)||$mt(e)||e===null||e===void 0}function $mt(e){var t=ig(e)&&!Iz(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=r.length;for(i=0;i<o;i+=1)a=r[i],n=n||Yn(e,a);return t&&n}function Pmt(e){var t=zu(e),n=!1;return t&&(n=e.filter(function(r){return!mf(r)&&ySe(e)}).length===0),t&&n}function Fmt(e){var t=ig(e)&&!Iz(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<r.length;i+=1)a=r[i],n=n||Yn(e,a);return t&&n}function Nmt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Lmt(e,t){arguments.length===1&&(arguments[0]?Omt(arguments[0])?(e=arguments[0],t=void 0):Fmt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ei(),r=qz(n,this).startOf("day"),i=Qe.calendarFormat(this,r)||"sameElse",a=t&&(Qc(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,ei(n)))}function Bmt(){return new _E(this)}function Vmt(e,t){var n=Uu(e)?e:ei(e);return this.isValid()&&n.isValid()?(t=ou(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function zmt(e,t){var n=Uu(e)?e:ei(e);return this.isValid()&&n.isValid()?(t=ou(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Umt(e,t,n,r){var i=Uu(e)?e:ei(e),a=Uu(t)?t:ei(t);return this.isValid()&&i.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function Hmt(e,t){var n=Uu(e)?e:ei(e),r;return this.isValid()&&n.isValid()?(t=ou(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Wmt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Gmt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ymt(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(r=qz(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=ou(t),t){case"year":a=__(this,r)/12;break;case"month":a=__(this,r);break;case"quarter":a=__(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:kl(a)}function __(e,t){if(e.date()<t.date())return-__(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,a;return t-r<0?(i=e.clone().add(n-1,"months"),a=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),a=(t-r)/(i-r)),-(n+a)||0}Qe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Qe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qmt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Kmt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?E_(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Qc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",E_(n,"Z")):E_(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zmt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+r+i+a)}function Xmt(e){e||(e=this.isUtc()?Qe.defaultFormatUtc:Qe.defaultFormat);var t=E_(this,e);return this.localeData().postformat(t)}function Jmt(e,t){return this.isValid()&&(Uu(e)&&e.isValid()||ei(e).isValid())?qu({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Qmt(e){return this.from(ei(),e)}function egt(e,t){return this.isValid()&&(Uu(e)&&e.isValid()||ei(e).isValid())?qu({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function tgt(e){return this.to(ei(),e)}function vSe(e){var t;return e===void 0?this._locale._abbr:(t=Nf(e),t!=null&&(this._locale=t),this)}var bSe=au("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xSe(){return this._locale}var CA=1e3,cy=60*CA,SA=60*cy,wSe=(365*400+97)*24*SA;function dy(e,t){return(e%t+t)%t}function CSe(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-wSe:new Date(e,t,n).valueOf()}function SSe(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-wSe:Date.UTC(e,t,n)}function ngt(e){var t,n;if(e=ou(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?SSe:CSe,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=dy(t+(this._isUTC?0:this.utcOffset()*cy),SA);break;case"minute":t=this._d.valueOf(),t-=dy(t,cy);break;case"second":t=this._d.valueOf(),t-=dy(t,CA);break}return this._d.setTime(t),Qe.updateOffset(this,!0),this}function rgt(e){var t,n;if(e=ou(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?SSe:CSe,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=SA-dy(t+(this._isUTC?0:this.utcOffset()*cy),SA)-1;break;case"minute":t=this._d.valueOf(),t+=cy-dy(t,cy)-1;break;case"second":t=this._d.valueOf(),t+=CA-dy(t,CA)-1;break}return this._d.setTime(t),Qe.updateOffset(this,!0),this}function igt(){return this._d.valueOf()-(this._offset||0)*6e4}function agt(){return Math.floor(this.valueOf()/1e3)}function ogt(){return new Date(this.valueOf())}function sgt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function lgt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ugt(){return this.isValid()?this.toISOString():null}function cgt(){return Dz(this)}function dgt(){return Rh({},Kt(this))}function fgt(){return Kt(this).overflow}function hgt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}St("N",0,0,"eraAbbr");St("NN",0,0,"eraAbbr");St("NNN",0,0,"eraAbbr");St("NNNN",0,0,"eraName");St("NNNNN",0,0,"eraNarrow");St("y",["y",1],"yo","eraYear");St("y",["yy",2],0,"eraYear");St("y",["yyy",3],0,"eraYear");St("y",["yyyy",4],0,"eraYear");lt("N",Kz);lt("NN",Kz);lt("NNN",Kz);lt("NNNN",Egt);lt("NNNNN",kgt);yr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Kt(n).era=i:Kt(n).invalidEra=e});lt("y",sb);lt("yy",sb);lt("yyy",sb);lt("yyyy",sb);lt("yo",_gt);yr(["y","yy","yyy","yyyy"],Eo);yr(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Eo]=n._locale.eraYearOrdinalParse(e,i):t[Eo]=parseInt(e,10)});function pgt(e,t){var n,r,i,a=this._eras||Nf("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=Qe(a[n].since).startOf("day"),a[n].since=i.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=Qe(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf();break}}return a}function mgt(e,t,n){var r,i,a=this.eras(),o,s,l;for(e=e.toUpperCase(),r=0,i=a.length;r<i;++r)if(o=a[r].name.toUpperCase(),s=a[r].abbr.toUpperCase(),l=a[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return a[r];break;case"NNNN":if(o===e)return a[r];break;case"NNNNN":if(l===e)return a[r];break}else if([o,s,l].indexOf(e)>=0)return a[r]}function ggt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Qe(e.since).year():Qe(e.since).year()+(t-e.offset)*n}function ygt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function vgt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function bgt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function xgt(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Qe(i[e].since).year())*n+i[e].offset;return this.year()}function wgt(e){return Yn(this,"_erasNameRegex")||Zz.call(this),e?this._erasNameRegex:this._erasRegex}function Cgt(e){return Yn(this,"_erasAbbrRegex")||Zz.call(this),e?this._erasAbbrRegex:this._erasRegex}function Sgt(e){return Yn(this,"_erasNarrowRegex")||Zz.call(this),e?this._erasNarrowRegex:this._erasRegex}function Kz(e,t){return t.erasAbbrRegex(e)}function Egt(e,t){return t.erasNameRegex(e)}function kgt(e,t){return t.erasNarrowRegex(e)}function _gt(e,t){return t._eraYearOrdinalRegex||sb}function Zz(){var e=[],t=[],n=[],r=[],i,a,o,s,l,c=this.eras();for(i=0,a=c.length;i<a;++i)o=Xd(c[i].name),s=Xd(c[i].abbr),l=Xd(c[i].narrow),t.push(o),e.push(s),n.push(l),r.push(o),r.push(s),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}St(0,["gg",2],0,function(){return this.weekYear()%100});St(0,["GG",2],0,function(){return this.isoWeekYear()%100});function QD(e,t){St(0,[e,e.length],0,t)}QD("gggg","weekYear");QD("ggggg","weekYear");QD("GGGG","isoWeekYear");QD("GGGGG","isoWeekYear");lt("G",qD);lt("g",qD);lt("GG",ni,ul);lt("gg",ni,ul);lt("GGGG",Fz,Pz);lt("gggg",Fz,Pz);lt("GGGGG",YD,WD);lt("ggggg",YD,WD);AE(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=vn(e)});AE(["gg","GG"],function(e,t,n,r){t[r]=Qe.parseTwoDigitYear(e)});function Tgt(e){return ESe.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Agt(e){return ESe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function jgt(){return Jd(this.year(),1,4)}function Igt(){return Jd(this.isoWeekYear(),1,4)}function Dgt(){var e=this.localeData()._week;return Jd(this.year(),e.dow,e.doy)}function Mgt(){var e=this.localeData()._week;return Jd(this.weekYear(),e.dow,e.doy)}function ESe(e,t,n,r,i){var a;return e==null?YC(this,r,i).year:(a=Jd(e,r,i),t>a&&(t=a),Rgt.call(this,e,t,n,r,i))}function Rgt(e,t,n,r,i){var a=rSe(e,t,n,r,i),o=GC(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}St("Q",0,"Qo","quarter");lt("Q",GCe);yr("Q",function(e,t){t[Vd]=(vn(e)-1)*3});function Ogt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}St("D",["DD",2],"Do","date");lt("D",ni,lb);lt("DD",ni,ul);lt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});yr(["D","DD"],wc);yr("Do",function(e,t){t[wc]=vn(e.match(ni)[0])});var kSe=ub("Date",!0);St("DDD",["DDDD",3],"DDDo","dayOfYear");lt("DDD",GD);lt("DDDD",YCe);yr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=vn(e)});function $gt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}St("m",["mm",2],0,"minute");lt("m",ni,Nz);lt("mm",ni,ul);yr(["m","mm"],_u);var Pgt=ub("Minutes",!1);St("s",["ss",2],0,"second");lt("s",ni,Nz);lt("ss",ni,ul);yr(["s","ss"],zd);var Fgt=ub("Seconds",!1);St("S",0,0,function(){return~~(this.millisecond()/100)});St(0,["SS",2],0,function(){return~~(this.millisecond()/10)});St(0,["SSS",3],0,"millisecond");St(0,["SSSS",4],0,function(){return this.millisecond()*10});St(0,["SSSSS",5],0,function(){return this.millisecond()*100});St(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});St(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});St(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});St(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});lt("S",GD,GCe);lt("SS",GD,ul);lt("SSS",GD,YCe);var Oh,_Se;for(Oh="SSSS";Oh.length<=9;Oh+="S")lt(Oh,sb);function Ngt(e,t){t[Mm]=vn(("0."+e)*1e3)}for(Oh="S";Oh.length<=9;Oh+="S")yr(Oh,Ngt);_Se=ub("Milliseconds",!1);St("z",0,0,"zoneAbbr");St("zz",0,0,"zoneName");function Lgt(){return this._isUTC?"UTC":""}function Bgt(){return this._isUTC?"Coordinated Universal Time":""}var Ne=_E.prototype;Ne.add=Mmt;Ne.calendar=Lmt;Ne.clone=Bmt;Ne.diff=Ymt;Ne.endOf=rgt;Ne.format=Xmt;Ne.from=Jmt;Ne.fromNow=Qmt;Ne.to=egt;Ne.toNow=tgt;Ne.get=Zht;Ne.invalidAt=fgt;Ne.isAfter=Vmt;Ne.isBefore=zmt;Ne.isBetween=Umt;Ne.isSame=Hmt;Ne.isSameOrAfter=Wmt;Ne.isSameOrBefore=Gmt;Ne.isValid=cgt;Ne.lang=bSe;Ne.locale=vSe;Ne.localeData=xSe;Ne.max=cmt;Ne.min=umt;Ne.parsingFlags=dgt;Ne.set=Xht;Ne.startOf=ngt;Ne.subtract=Rmt;Ne.toArray=sgt;Ne.toObject=lgt;Ne.toDate=ogt;Ne.toISOString=Kmt;Ne.inspect=Zmt;typeof Symbol<"u"&&Symbol.for!=null&&(Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ne.toJSON=ugt;Ne.toString=qmt;Ne.unix=agt;Ne.valueOf=igt;Ne.creationData=hgt;Ne.eraName=ygt;Ne.eraNarrow=vgt;Ne.eraAbbr=bgt;Ne.eraYear=xgt;Ne.year=ZCe;Ne.isLeapYear=Kht;Ne.weekYear=Tgt;Ne.isoWeekYear=Agt;Ne.quarter=Ne.quarters=Ogt;Ne.month=tSe;Ne.daysInMonth=opt;Ne.week=Ne.weeks=ppt;Ne.isoWeek=Ne.isoWeeks=mpt;Ne.weeksInYear=Dgt;Ne.weeksInWeekYear=Mgt;Ne.isoWeeksInYear=jgt;Ne.isoWeeksInISOWeekYear=Igt;Ne.date=kSe;Ne.day=Ne.days=Apt;Ne.weekday=jpt;Ne.isoWeekday=Ipt;Ne.dayOfYear=$gt;Ne.hour=Ne.hours=Fpt;Ne.minute=Ne.minutes=Pgt;Ne.second=Ne.seconds=Fgt;Ne.millisecond=Ne.milliseconds=_Se;Ne.utcOffset=bmt;Ne.utc=wmt;Ne.local=Cmt;Ne.parseZone=Smt;Ne.hasAlignedHourOffset=Emt;Ne.isDST=kmt;Ne.isLocal=Tmt;Ne.isUtcOffset=Amt;Ne.isUtc=pSe;Ne.isUTC=pSe;Ne.zoneAbbr=Lgt;Ne.zoneName=Bgt;Ne.dates=au("dates accessor is deprecated. Use date instead.",kSe);Ne.months=au("months accessor is deprecated. Use month instead",tSe);Ne.years=au("years accessor is deprecated. Use year instead",ZCe);Ne.zone=au("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",xmt);Ne.isDSTShifted=au("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_mt);function Vgt(e){return ei(e*1e3)}function zgt(){return ei.apply(null,arguments).parseZone()}function TSe(e){return e}var qn=Rz.prototype;qn.calendar=Tht;qn.longDateFormat=Dht;qn.invalidDate=Rht;qn.ordinal=Pht;qn.preparse=TSe;qn.postformat=TSe;qn.relativeTime=Nht;qn.pastFuture=Lht;qn.set=kht;qn.eras=pgt;qn.erasParse=mgt;qn.erasConvertYear=ggt;qn.erasAbbrRegex=Cgt;qn.erasNameRegex=wgt;qn.erasNarrowRegex=Sgt;qn.months=npt;qn.monthsShort=rpt;qn.monthsParse=apt;qn.monthsRegex=lpt;qn.monthsShortRegex=spt;qn.week=cpt;qn.firstDayOfYear=hpt;qn.firstDayOfWeek=fpt;qn.weekdays=Spt;qn.weekdaysMin=kpt;qn.weekdaysShort=Ept;qn.weekdaysParse=Tpt;qn.weekdaysRegex=Dpt;qn.weekdaysShortRegex=Mpt;qn.weekdaysMinRegex=Rpt;qn.isPM=$pt;qn.meridiem=Npt;function EA(e,t,n,r){var i=Nf(),a=Jc().set(r,t);return i[n](a,e)}function ASe(e,t,n){if(mf(e)&&(t=e,e=void 0),e=e||"",t!=null)return EA(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=EA(e,r,n,"month");return i}function Xz(e,t,n,r){typeof e=="boolean"?(mf(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,mf(t)&&(n=t,t=void 0),t=t||"");var i=Nf(),a=e?i._week.dow:0,o,s=[];if(n!=null)return EA(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=EA(t,(o+a)%7,r,"day");return s}function Ugt(e,t){return ASe(e,t,"months")}function Hgt(e,t){return ASe(e,t,"monthsShort")}function Wgt(e,t,n){return Xz(e,t,n,"weekdays")}function Ggt(e,t,n){return Xz(e,t,n,"weekdaysShort")}function Ygt(e,t,n){return Xz(e,t,n,"weekdaysMin")}ip("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=vn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Qe.lang=au("moment.lang is deprecated. Use moment.locale instead.",ip);Qe.langData=au("moment.langData is deprecated. Use moment.localeData instead.",Nf);var pd=Math.abs;function qgt(){var e=this._data;return this._milliseconds=pd(this._milliseconds),this._days=pd(this._days),this._months=pd(this._months),e.milliseconds=pd(e.milliseconds),e.seconds=pd(e.seconds),e.minutes=pd(e.minutes),e.hours=pd(e.hours),e.months=pd(e.months),e.years=pd(e.years),this}function jSe(e,t,n,r){var i=qu(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Kgt(e,t){return jSe(this,e,t,1)}function Zgt(e,t){return jSe(this,e,t,-1)}function UQ(e){return e<0?Math.floor(e):Math.ceil(e)}function Xgt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,a,o,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=UQ(WN(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=kl(e/1e3),r.seconds=i%60,a=kl(i/60),r.minutes=a%60,o=kl(a/60),r.hours=o%24,t+=kl(o/24),l=kl(ISe(t)),n+=l,t-=UQ(WN(l)),s=kl(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function ISe(e){return e*4800/146097}function WN(e){return e*146097/4800}function Jgt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=ou(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+ISe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(WN(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Lf(e){return function(){return this.as(e)}}var DSe=Lf("ms"),Qgt=Lf("s"),e0t=Lf("m"),t0t=Lf("h"),n0t=Lf("d"),r0t=Lf("w"),i0t=Lf("M"),a0t=Lf("Q"),o0t=Lf("y"),s0t=DSe;function l0t(){return qu(this)}function u0t(e){return e=ou(e),this.isValid()?this[e+"s"]():NaN}function m0(e){return function(){return this.isValid()?this._data[e]:NaN}}var c0t=m0("milliseconds"),d0t=m0("seconds"),f0t=m0("minutes"),h0t=m0("hours"),p0t=m0("days"),m0t=m0("months"),g0t=m0("years");function y0t(){return kl(this.days()/7)}var Ed=Math.round,L1={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function v0t(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function b0t(e,t,n,r){var i=qu(e).abs(),a=Ed(i.as("s")),o=Ed(i.as("m")),s=Ed(i.as("h")),l=Ed(i.as("d")),c=Ed(i.as("M")),d=Ed(i.as("w")),h=Ed(i.as("y")),p=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],p[2]=t,p[3]=+e>0,p[4]=r,v0t.apply(null,p)}function x0t(e){return e===void 0?Ed:typeof e=="function"?(Ed=e,!0):!1}function w0t(e,t){return L1[e]===void 0?!1:t===void 0?L1[e]:(L1[e]=t,e==="s"&&(L1.ss=t-1),!0)}function C0t(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=L1,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},L1,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),a=b0t(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var G$=Math.abs;function q0(e){return(e>0)-(e<0)||+e}function eM(){if(!this.isValid())return this.localeData().invalidDate();var e=G$(this._milliseconds)/1e3,t=G$(this._days),n=G$(this._months),r,i,a,o,s=this.asSeconds(),l,c,d,h;return s?(r=kl(e/60),i=kl(r/60),e%=60,r%=60,a=kl(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",c=q0(this._months)!==q0(s)?"-":"",d=q0(this._days)!==q0(s)?"-":"",h=q0(this._milliseconds)!==q0(s)?"-":"",l+"P"+(a?c+a+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var $n=JD.prototype;$n.isValid=mmt;$n.abs=qgt;$n.add=Kgt;$n.subtract=Zgt;$n.as=Jgt;$n.asMilliseconds=DSe;$n.asSeconds=Qgt;$n.asMinutes=e0t;$n.asHours=t0t;$n.asDays=n0t;$n.asWeeks=r0t;$n.asMonths=i0t;$n.asQuarters=a0t;$n.asYears=o0t;$n.valueOf=s0t;$n._bubble=Xgt;$n.clone=l0t;$n.get=u0t;$n.milliseconds=c0t;$n.seconds=d0t;$n.minutes=f0t;$n.hours=h0t;$n.days=p0t;$n.weeks=y0t;$n.months=m0t;$n.years=g0t;$n.humanize=C0t;$n.toISOString=eM;$n.toString=eM;$n.toJSON=eM;$n.locale=vSe;$n.localeData=xSe;$n.toIsoString=au("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",eM);$n.lang=bSe;St("X",0,0,"unix");St("x",0,0,"valueOf");lt("x",qD);lt("X",Uht);yr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});yr("x",function(e,t,n){n._d=new Date(vn(e))});//! moment.js
Qe.version="2.30.1";Sht(ei);Qe.fn=Ne;Qe.min=dmt;Qe.max=fmt;Qe.now=hmt;Qe.utc=Jc;Qe.unix=Vgt;Qe.months=Ugt;Qe.isDate=kE;Qe.locale=ip;Qe.invalid=HD;Qe.duration=qu;Qe.isMoment=Uu;Qe.weekdays=Wgt;Qe.parseZone=zgt;Qe.localeData=Nf;Qe.isDuration=k_;Qe.monthsShort=Hgt;Qe.weekdaysMin=Ygt;Qe.defineLocale=Uz;Qe.updateLocale=zpt;Qe.locales=Upt;Qe.weekdaysShort=Ggt;Qe.normalizeUnits=ou;Qe.relativeTimeRounding=x0t;Qe.relativeTimeThreshold=w0t;Qe.calendarFormat=Nmt;Qe.prototype=Ne;Qe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Vp="YYYY-MM-DD",Jz="HH:mm";function cb(e,t,n=!1){return n?Qe.utc(e).format(t):Qe(e).format(t)}function tM(e,t){const n=Qe(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:`Invalid date. Must be on the format "${t}"`}}function S0t(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var MSe=S0t;function E0t(e){return e!==e}var k0t=E0t;function _0t(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var T0t=_0t,A0t=MSe,j0t=k0t,I0t=T0t;function D0t(e,t,n){return t===t?I0t(e,t,n):A0t(e,j0t,n)}var Qz=D0t,M0t=Qz;function R0t(e,t){var n=e==null?0:e.length;return!!n&&M0t(e,t,0)>-1}var eU=R0t;function O0t(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var tU=O0t;function $0t(){}var nU=$0t;const RSe=Fe(nU);var Y$=wxe,P0t=nU,F0t=qV,N0t=1/0,L0t=Y$&&1/F0t(new Y$([,-0]))[1]==N0t?function(e){return new Y$(e)}:P0t,B0t=L0t,V0t=jD,z0t=eU,U0t=tU,H0t=ID,W0t=B0t,G0t=qV,Y0t=200;function q0t(e,t,n){var r=-1,i=z0t,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=U0t;else if(a>=Y0t){var c=t?null:W0t(e);if(c)return G0t(c);o=!1,i=H0t,l=new V0t}else l=t?[]:s;e:for(;++r<a;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),s.push(d)}else i(l,h,n)||(l!==s&&l.push(h),s.push(d))}return s}var nM=q0t,K0t=Lp,Z0t=nM;function X0t(e,t){return e&&e.length?Z0t(e,K0t(t)):[]}var J0t=X0t;const mp=Fe(J0t);function Q0t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,KC(e,t)}function GN(e){return GN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GN(e)}function KC(e,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KC(e,t)}function e1t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T_(e,t,n){return e1t()?T_=Reflect.construct.bind():T_=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),c=new l;return o&&KC(c,o.prototype),c},T_.apply(null,arguments)}function t1t(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function YN(e){var t=typeof Map=="function"?new Map:void 0;return YN=function(r){if(r===null||!t1t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return T_(r,arguments,GN(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),KC(i,r)},YN(e)}var A2=Object.freeze({left:0,top:0,bottom:0,right:0}),j2=Object.freeze({x:.5,y:.5,height:1,width:1}),n1t=function(t){var n=t.top,r=t.bottom,i=t.left,a=t.right,o=A2.top,s=A2.bottom,l=A2.left,c=A2.right;return n===o&&r===s&&i===l&&a===c},r1t=function(t){var n=t.x,r=t.y,i=t.width,a=t.height,o=j2.x,s=j2.y,l=j2.width,c=j2.height;return n===o&&r===s&&i===l&&a===c},rU=function(e){Q0t(t,e);function t(n,r){var i;return r===void 0&&(r="Failed to resolve asset ID from source"),i=e.call(this,r)||this,i.unresolvable=!0,i.input=n,i}return t}(YN(Error));function i1t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function a1t(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(i1t(t))return;throw t}}}var Sh="https://cdn.sanity.io",o1t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,s1t=/^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/,l1t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,u1t=/^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+$/,OSe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,$Se=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function c1t(e){return jE(e)&&typeof e._ref=="string"}function d1t(e){return jE(e)&&typeof e._id=="string"}function f1t(e){return jE(e)&&typeof e.path=="string"}function h1t(e){return jE(e)&&typeof e.url=="string"}function p1t(e){return u1t.test(e)}function m1t(e){return s1t.test(e)}function qN(e){var t=e;return jE(t)&&t.asset&&typeof t.asset=="object"}function jE(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function g1t(e){if(OSe.test(e))return e;if(!e.startsWith(Sh+"/"))throw new rU('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Sh.length+1,n)}var y1t="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function v1t(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3],a=(r||"").split("x").map(Number),o=a[0],s=a[1];if(!n||!r||!i||!(o>0)||!(s>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+y1t+'".');return{type:"image",assetId:n,width:o,height:s,extension:i}}function b1t(e){var t=PSe(e),n=v1t(t),r=n.width,i=n.height,a=r/i;return{width:r,height:i,aspectRatio:a}}function PSe(e){var t=qN(e)?e.asset:e,n="";typeof t=="string"?n=x1t(t):c1t(t)?n=t._ref:d1t(t)?n=t._id:f1t(t)?n=B1(Sh+"/"+t.path):h1t(t)&&(n=B1(t.url));var r=n&&$Se.test(n);if(!r)throw new rU(e);return n}var FSe=a1t(PSe);function x1t(e){if($Se.test(e))return e;if(e.indexOf(Sh+"/images")===0||e.indexOf(Sh+"/files")===0)return B1(e);if(OSe.test(e))return B1(Sh+"/"+e);if(C1t(e))return B1(Sh+"/files/a/b/"+e);if(w1t(e))return B1(Sh+"/images/a/b/"+e);throw new rU(e)}function B1(e){var t=g1t(e),n=t.split("/"),r=n[0],i=n[3],a=r.replace(/s$/,"");return a+"-"+i.replace(/\./g,"-")}function w1t(e){return l1t.test(e)}function C1t(e){return o1t.test(e)}function HQ(e){var t=FSe(e);return t?t.startsWith("file-"):!1}function db(e){var t=FSe(e);return t?t.startsWith("image-"):!1}var NSe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(va,function(){function n(){return n=Object.assign||function(A){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(A[D]=M[D])}return A},n.apply(this,arguments)}function r(A,I){if(A){if(typeof A=="string")return i(A,I);var M=Object.prototype.toString.call(A).slice(8,-1);if(M==="Object"&&A.constructor&&(M=A.constructor.name),M==="Map"||M==="Set")return Array.from(A);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return i(A,I)}}function i(A,I){(I==null||I>A.length)&&(I=A.length);for(var M=0,D=new Array(I);M<I;M++)D[M]=A[M];return D}function a(A,I){var M=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(M)return(M=M.call(A)).next.bind(M);if(Array.isArray(A)||(M=r(A))||I&&A&&typeof A.length=="number"){M&&(A=M);var D=0;return function(){return D>=A.length?{done:!0}:{done:!1,value:A[D++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function s(A){var I=A.split("-"),M=I[1],D=I[2],O=I[3];if(!M||!D||!O)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+o+'".');var R=D.split("x"),F=R[0],P=R[1],V=+F,U=+P,H=isFinite(V)&&isFinite(U);if(!H)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+o+'".');return{id:M,width:V,height:U,format:O}}var l=function(I){var M=I;return M?typeof M._ref=="string":!1},c=function(I){var M=I;return M?typeof M._id=="string":!1},d=function(I){var M=I;return M&&M.asset?typeof M.asset.url=="string":!1};function h(A){if(!A)return null;var I;if(typeof A=="string"&&p(A))I={asset:{_ref:m(A)}};else if(typeof A=="string")I={asset:{_ref:A}};else if(l(A))I={asset:A};else if(c(A))I={asset:{_ref:A._id||""}};else if(d(A))I={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")I=n({},A);else return null;var M=A;return M.crop&&(I.crop=M.crop),M.hotspot&&(I.hotspot=M.hotspot),g(I)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var I=A.split("/").slice(-1);return("image-"+I[0]).replace(/\.([a-z]+)$/,"-$1")}function g(A){if(A.crop&&A.hotspot)return A;var I=n({},A);return I.crop||(I.crop={left:0,top:0,bottom:0,right:0}),I.hotspot||(I.hotspot={x:.5,y:.5,height:1,width:1}),I}var y=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function v(A){var I=n({},A||{}),M=I.source;delete I.source;var D=h(M);if(!D)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(M)+")");var O=D.asset._ref||D.asset._id||"",R=s(O),F=Math.round(D.crop.left*R.width),P=Math.round(D.crop.top*R.height),V={left:F,top:P,width:Math.round(R.width-D.crop.right*R.width-F),height:Math.round(R.height-D.crop.bottom*R.height-P)},U=D.hotspot.height*R.height/2,H=D.hotspot.width*R.width/2,W=D.hotspot.x*R.width,Z=D.hotspot.y*R.height,J={left:W-H,top:Z-U,right:W+H,bottom:Z+U};return I.rect||I.focalPoint||I.ignoreImageParams||I.crop||(I=n({},I,x({crop:V,hotspot:J},I))),b(n({},I,{asset:R}))}function b(A){var I=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),M=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,D=I+"/images/"+A.projectId+"/"+A.dataset+"/"+M,O=[];if(A.rect){var R=A.rect,F=R.left,P=R.top,V=R.width,U=R.height,H=F!==0||P!==0||U!==A.asset.height||V!==A.asset.width;H&&O.push("rect="+F+","+P+","+V+","+U)}A.bg&&O.push("bg="+A.bg),A.focalPoint&&(O.push("fp-x="+A.focalPoint.x),O.push("fp-y="+A.focalPoint.y));var W=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return W&&O.push("flip="+W),y.forEach(function(Z){var J=Z[0],re=Z[1];typeof A[J]<"u"?O.push(re+"="+encodeURIComponent(A[J])):typeof A[re]<"u"&&O.push(re+"="+encodeURIComponent(A[re]))}),O.length===0?D:D+"?"+O.join("&")}function x(A,I){var M,D=I.width,O=I.height;if(!(D&&O))return{width:D,height:O,rect:A.crop};var R=A.crop,F=A.hotspot,P=D/O,V=R.width/R.height;if(V>P){var U=Math.round(R.height),H=Math.round(U*P),W=Math.max(0,Math.round(R.top)),Z=Math.round((F.right-F.left)/2+F.left),J=Math.max(0,Math.round(Z-H/2));J<R.left?J=R.left:J+H>R.left+R.width&&(J=R.left+R.width-H),M={left:J,top:W,width:H,height:U}}else{var re=R.width,G=Math.round(re/P),te=Math.max(0,Math.round(R.left)),X=Math.round((F.bottom-F.top)/2+F.top),K=Math.max(0,Math.round(X-G/2));K<R.top?K=R.top:K+G>R.top+R.height&&(K=R.top+R.height-G),M={left:te,top:K,width:re,height:G}}return{width:D,height:O,rect:M}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],S=["format"];function E(A){return A&&"config"in A?typeof A.config=="function":!1}function k(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function _(A){for(var I=y,M=a(I),D;!(D=M()).done;){var O=D.value,R=O[0],F=O[1];if(A===R||A===F)return R}return A}function T(A){if(E(A)){var I=A.config(),M=I.apiHost,D=I.projectId,O=I.dataset,R=M||"https://api.sanity.io";return new j(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:D,dataset:O})}var F=A;if(k(F)){var P=F.clientConfig,V=P.apiHost,U=P.projectId,H=P.dataset,W=V||"https://api.sanity.io";return new j(null,{baseUrl:W.replace(/^https:\/\/api\./,"https://cdn."),projectId:U,dataset:H})}return new j(null,A)}var j=function(){function A(M,D){this.options=void 0,this.options=M?n({},M.options||{},D||{}):n({},D||{})}var I=A.prototype;return I.withOptions=function(D){var O=D.baseUrl||this.options.baseUrl,R={baseUrl:O};for(var F in D)if(D.hasOwnProperty(F)){var P=_(F);R[P]=D[F]}return new A(this,n({baseUrl:O},R))},I.image=function(D){return this.withOptions({source:D})},I.dataset=function(D){return this.withOptions({dataset:D})},I.projectId=function(D){return this.withOptions({projectId:D})},I.bg=function(D){return this.withOptions({bg:D})},I.dpr=function(D){return this.withOptions(D&&D!==1?{dpr:D}:{})},I.width=function(D){return this.withOptions({width:D})},I.height=function(D){return this.withOptions({height:D})},I.focalPoint=function(D,O){return this.withOptions({focalPoint:{x:D,y:O}})},I.maxWidth=function(D){return this.withOptions({maxWidth:D})},I.minWidth=function(D){return this.withOptions({minWidth:D})},I.maxHeight=function(D){return this.withOptions({maxHeight:D})},I.minHeight=function(D){return this.withOptions({minHeight:D})},I.size=function(D,O){return this.withOptions({width:D,height:O})},I.blur=function(D){return this.withOptions({blur:D})},I.sharpen=function(D){return this.withOptions({sharpen:D})},I.rect=function(D,O,R,F){return this.withOptions({rect:{left:D,top:O,width:R,height:F}})},I.format=function(D){return this.withOptions({format:D})},I.invert=function(D){return this.withOptions({invert:D})},I.orientation=function(D){return this.withOptions({orientation:D})},I.quality=function(D){return this.withOptions({quality:D})},I.forceDownload=function(D){return this.withOptions({download:D})},I.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},I.flipVertical=function(){return this.withOptions({flipVertical:!0})},I.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},I.fit=function(D){if(w.indexOf(D)===-1)throw new Error('Invalid fit mode "'+D+'"');return this.withOptions({fit:D})},I.crop=function(D){if(C.indexOf(D)===-1)throw new Error('Invalid crop mode "'+D+'"');return this.withOptions({crop:D})},I.saturation=function(D){return this.withOptions({saturation:D})},I.auto=function(D){if(S.indexOf(D)===-1)throw new Error('Invalid auto mode "'+D+'"');return this.withOptions({auto:D})},I.pad=function(D){return this.withOptions({pad:D})},I.url=function(){return v(this.options)},I.toString=function(){return this.url()},A}();return T})})(NSe);var S1t=NSe.exports;const IE=Fe(S1t);var E1t=Zv;function k1t(e){var t=e==null?0:e.length;return t?E1t(e,1):[]}var LSe=k1t;const pr=Fe(LSe);var WQ=$xe;function _1t(e,t,n){t=="__proto__"&&WQ?WQ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var rM=_1t;function T1t(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var A1t=T1t,j1t=Ixe;function I1t(e,t,n,r){return j1t(e,function(i,a,o){t(r,i,n(i),o)}),r}var D1t=I1t,M1t=A1t,R1t=D1t,O1t=Lp,$1t=Yi;function P1t(e,t){return function(n,r){var i=$1t(n)?M1t:R1t,a=t?t():{};return i(n,e,O1t(r),a)}}var iU=P1t,F1t=rM,N1t=iU,L1t=Object.prototype,B1t=L1t.hasOwnProperty,V1t=N1t(function(e,t,n){B1t.call(e,n)?e[n].push(t):F1t(e,n,[t])}),z1t=V1t;const aU=Fe(z1t);var U1t=Mxe,GQ=Yi;function H1t(e,t,n,r){return e==null?[]:(GQ(t)||(t=t==null?[]:[t]),n=r?void 0:n,GQ(n)||(n=n==null?[]:[n]),U1t(e,t,n))}var W1t=H1t;const fb=Fe(W1t);var G1t=iu,Y1t=0;function q1t(e){var t=++Y1t;return G1t(e)+t}var K1t=q1t;const BSe=Fe(K1t),Z1t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),q$={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},VSe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Z1t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},oU={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var I2=1;I2<20;I2++)oU["f"+I2]=111+I2;function Qi(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);const r=e.map(a=>X1t(a,t)),i=a=>r.some(o=>J1t(o,a));return n==null?i:i(n)}function X1t(e,t){const n=t&&t.byKey,r={};e=e.replace("++","+add");const i=e.split("+"),{length:a}=i;for(const o in q$)r[q$[o]]=!1;for(let o of i){const s=o.endsWith("?")&&o.length>1;s&&(o=o.slice(0,-1));const l=zSe(o),c=q$[l];if(o.length>1&&!c&&!VSe[o]&&!oU[l])throw new TypeError(`Unknown modifier: "${o}"`);(a===1||!c)&&(n?r.key=l:r.which=Q1t(o)),c&&(r[c]=s?null:!0)}return r}function J1t(e,t){for(const n in e){const r=e[n];let i;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function Q1t(e){return e=zSe(e),oU[e]||e.toUpperCase().charCodeAt(0)}function zSe(e){return e=e.toLowerCase(),e=VSe[e]||e,e}var eyt=jD,tyt=eU,nyt=tU,ryt=Gu,iyt=nb,ayt=ID,oyt=200;function syt(e,t,n,r){var i=-1,a=tyt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=ryt(t,iyt(n))),r?(a=nyt,o=!1):t.length>=oyt&&(a=ayt,o=!1,t=new eyt(t));e:for(;++i<s;){var d=e[i],h=n==null?d:n(d);if(d=r||d!==0?d:0,o&&h===h){for(var p=c;p--;)if(t[p]===h)continue e;l.push(d)}else a(t,h,r)||l.push(d)}return l}var USe=syt,lyt=Np,uyt=il;function cyt(e){return uyt(e)&&lyt(e)}var iM=cyt,dyt=USe,fyt=Zv,hyt=h0,YQ=iM,pyt=hyt(function(e,t){return YQ(e)?dyt(e,fyt(t,1,YQ,!0)):[]}),myt=pyt;const Dg=Fe(myt);var gyt=tu,yyt=gyt.isFinite;function vyt(e){return typeof e=="number"&&yyt(e)}var byt=vyt;const HSe=Fe(byt),Mg=5,K$={},WSe=e=>(K$[e]||(K$[e]=Symbol(`__cachedStringFields_${e}`)),K$[e]),xyt=e=>e.type&&e.type.name==="reference",wyt=["style","list"],sU=e=>e.name==="block"||e.type&&sU(e.type),Cyt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(sU);function aM(e,t,n,r=[],i){if(i<0)return n;const a=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?Syt(e,t,a,r,i):e.jsonType==="object"&&Array.isArray(e.fields)&&!xyt(e)?Eyt(e,t,a,r,i):a}function Syt(e,t,n,r,i){return e.of.reduce((a,o)=>aM(o,t,a,r,i-1),n)}function Eyt(e,t,n,r,i){const a=sU(e);return e.fields.reduce((o,s)=>{if(a&&wyt.includes(s.name))return o;const l=[s.name].concat(s.type.jsonType==="array"?[[]]:[]);return aM(s.type,t,o,r.concat(l),i-1)},n)}const GSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],qQ={title:10,subtitle:5,description:1.5};function YSe(e,t){var i;const n=(i=e==null?void 0:e.preview)==null?void 0:i.select;if(!n)return[];const r=[];for(const a of Object.keys(n)){if(!(a in qQ))continue;const o=n[a].split(".");t>-1&&o.length-1>t||r.push({weight:qQ[a],path:o})}return r}function kyt(e,t){const n=WSe(t);return e[n]||(e[n]=mp([...GSe,...YSe(e,t),...Tyt(e,t).map(r=>({weight:1,path:r})),...Ayt(e,t).map(r=>({weight:1,path:r,mapWith:"pt::text"}))],r=>r.path.join("."))),e[n]}function _yt(e,t){const n=WSe(t);return e[n]||(e[n]=mp([...GSe,...YSe(e,t)],r=>r.path.join("."))),e[n]}function Tyt(e,t){return aM(e,(n,r,i)=>r.jsonType==="string"?[...n,i]:n,[],[],t)}function Ayt(e,t){return aM(e,(n,r,i)=>Cyt(r)?[...n,i]:n,[],[],t)}function jyt(e,t){return _yt(e,qSe(t))}function Iyt(e,t){return kyt(e,qSe(t))}function qSe(e){return!HSe(e)||e<1||e>Mg?Mg-1:e-1}var KN={exports:{}},Z$,KQ;function Dyt(){if(KQ)return Z$;KQ=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,a=r*365.25;Z$=function(d,h){h=h||{};var p=typeof d;if(p==="string"&&d.length>0)return o(d);if(p==="number"&&isFinite(d))return h.long?l(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function s(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var h=Math.abs(d);return h>=r?c(d,h,r,"day"):h>=n?c(d,h,n,"hour"):h>=t?c(d,h,t,"minute"):h>=e?c(d,h,e,"second"):d+" ms"}function c(d,h,p,m){var g=h>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return Z$}function Myt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=o,n.humanize=Dyt(),n.destroy=c,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,p=null,m,g;function y(...v){if(!y.enabled)return;const b=y,x=Number(new Date),w=x-(h||x);b.diff=w,b.prev=h,b.curr=x,h=x,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let C=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(E,k)=>{if(E==="%%")return"%";C++;const _=n.formatters[k];if(typeof _=="function"){const T=v[C];E=_.call(b,T),v.splice(C,1),C--}return E}),n.formatArgs.call(b,v),(b.log||n.log).apply(b,v)}return y.namespace=d,y.useColors=n.useColors(),y.color=n.selectColor(d),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(d)),g),set:v=>{p=v}}),typeof n.init=="function"&&n.init(y),y}function r(d,h){const p=n(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let h;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(h=0;h<m;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...n.names.map(s),...n.skips.map(s).map(h=>"-"+h)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(d))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(d))return!0;return!1}function s(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Ryt=Myt;(function(e,t){t.formatArgs=r,t.save=i,t.load=a,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let d=0,h=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(h=d))}),l.splice(h,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=Ryt(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(KN,KN.exports);var Oyt=KN.exports;const gi=Fe(Oyt);var $yt=Object.defineProperty,Pyt=(e,t,n)=>t in e?$yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZQ=(e,t,n)=>Pyt(e,typeof t!="symbol"?t+"":t,n);function Fyt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Nyt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(Fyt(n));return new RegExp(`^${t.join(".")}$`)}let KSe=class{constructor(t){ZQ(this,"pattern"),ZQ(this,"patternRe"),this.pattern=t,this.patternRe=Nyt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}};var Lyt=Object.defineProperty,Byt=(e,t,n)=>t in e?Lyt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gx=(e,t,n)=>Byt(e,typeof t!="symbol"?t+"":t,n);class $h{constructor(t){gx(this,"type","stream"),gx(this,"generator"),gx(this,"ticker"),gx(this,"isDone"),gx(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(a=>{t=a})},r=()=>{t(),n()},i=async()=>{for await(const a of this.generator())this.data.push(a),r();this.isDone=!0,r()};return n(),i(),this.ticker}}const Vyt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function zyt(e){return Vyt.test(e)?new Date(e):null}function Uyt(e){const t=im(e.getUTCFullYear(),4),n=im(e.getUTCMonth()+1,2),r=im(e.getUTCDate(),2),i=im(e.getUTCHours(),2),a=im(e.getUTCMinutes(),2),o=im(e.getUTCSeconds(),2);let s="";const l=e.getMilliseconds();return l!=0&&(s=`.${im(l,3)}`),`${t}-${n}-${r}T${i}:${a}:${o}${s}Z`}function im(e,t){let n=e.toString();for(;n.length<t;)n=`0${n}`;return n}var Hyt=Object.defineProperty,Wyt=(e,t,n)=>t in e?Hyt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZN=(e,t,n)=>Wyt(e,typeof t!="symbol"?t+"":t,n);class Bf{constructor(t,n){ZN(this,"data"),ZN(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield wr(n)}(this.data);throw new Error(`Cannot iterate over: ${this.type}`)}}const Ge=new Bf(null,"null"),za=new Bf(!0,"boolean"),Ia=new Bf(!1,"boolean");class Jy{constructor(t){ZN(this,"date"),this.date=t}static parseToValue(t){const n=zyt(t);return n?new Bf(new Jy(n),"datetime"):Ge}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Jy(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return Uyt(this.date)}toJSON(){return this.toString()}}function Bl(e){return Number.isFinite(e)?new Bf(e,"number"):Ge}function Vl(e){return new Bf(e,"string")}function XN(e){return new Bf(e,"datetime")}function Gyt(e){return new Bf(e,"path")}function Yyt(e){return e&&typeof e.next=="function"}function wr(e){return Yyt(e)?new $h(async function*(){for await(const t of e)yield wr(t)}):e==null?Ge:new Bf(e,gp(e))}function gp(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof KSe?"path":e instanceof Jy?"datetime":typeof e}function X$(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const qyt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Kyt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,ZSe=/(\b\.+|\.+\b)/g;function Zyt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function XSe(e){return e.replace(ZSe,"").match(qyt)||[]}function Xyt(e){return JSe(e).map(t=>n=>n.some(r=>t.test(r)))}function JSe(e){return(e.replace(ZSe,"").match(Kyt)||[]).map(t=>new RegExp(`^${t.slice(0,1024).replace(/\*/g,".*")}$`,"i"))}async function kA(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const XQ={datetime:1,number:2,string:3,boolean:4};function Rm(e,t){const n=gp(e),r=gp(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function Jyt(e,t){const n=gp(e),r=gp(t),i=XQ[n]||100,a=XQ[r]||100;if(i!==a)return i-a;let o=Rm(e,t);return o===null&&(o=0),o}const Qyt={"==":function(e,t){return X$(e,t)?za:Ia},"!=":function(e,t){return X$(e,t)?Ia:za},">":function(e,t){if(e.type==="stream"||t.type==="stream")return Ge;const n=Rm(e.data,t.data);return n===null?Ge:n>0?za:Ia},">=":function(e,t){if(e.type==="stream"||t.type==="stream")return Ge;const n=Rm(e.data,t.data);return n===null?Ge:n>=0?za:Ia},"<":function(e,t){if(e.type==="stream"||t.type==="stream")return Ge;const n=Rm(e.data,t.data);return n===null?Ge:n<0?za:Ia},"<=":function(e,t){if(e.type==="stream"||t.type==="stream")return Ge;const n=Rm(e.data,t.data);return n===null?Ge:n<=0?za:Ia},in:async function(e,t){if(t.type==="path")return e.type!=="string"?Ge:t.data.matches(e.data)?za:Ia;if(t.isArray()){for await(const n of t)if(X$(e,n))return za;return Ia}return Ge},match:async function(e,t){let n=[],r=[];return await kA(e,i=>{n=n.concat(XSe(i))}),await kA(t,i=>{r=r.concat(Xyt(i))})&&Zyt(n,r)?za:Ia},"+":function(e,t){return e.type==="datetime"&&t.type==="number"?XN(e.data.add(t.data)):e.type==="number"&&t.type==="number"?Bl(e.data+t.data):e.type==="string"&&t.type==="string"?Vl(e.data+t.data):e.type==="object"&&t.type==="object"?wr({...e.data,...t.data}):e.type==="array"&&t.type==="array"?wr(e.data.concat(t.data)):e.isArray()&&t.isArray()?new $h(async function*(){for await(const n of e)yield n;for await(const n of t)yield n}):Ge},"-":function(e,t){return e.type==="datetime"&&t.type==="number"?XN(e.data.add(-t.data)):e.type==="datetime"&&t.type==="datetime"?Bl(e.data.difference(t.data)):e.type==="number"&&t.type==="number"?Bl(e.data-t.data):Ge},"*":D2((e,t)=>e*t),"/":D2((e,t)=>e/t),"%":D2((e,t)=>e%t),"**":D2((e,t)=>Math.pow(e,t))};function D2(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Bl(r)}return Ge}}var evt=Object.defineProperty,tvt=(e,t,n)=>t in e?evt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K0=(e,t,n)=>tvt(e,typeof t!="symbol"?t+"":t,n);let QSe=class JN{constructor(t,n,r,i,a){K0(this,"params"),K0(this,"source"),K0(this,"value"),K0(this,"parent"),K0(this,"context"),K0(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=i,this.parent=a}createNested(t){return this.isHidden?new JN(this.params,this.source,t,this.context,this.parent):new JN(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}};function lU(e,t,n=lU){const r=nvt[e.type];return r(e,t,n)}function JQ(e,t){return"then"in e?e.then(t):t(e)}const nvt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter({name:e},t){return wr(t.params[e])},Context({key:e},t){if(e==="before"||e==="after")return t.context[e]||Ge;throw new Error(`unknown context key: ${e}`)},Parent({n:e},t){let n=t;for(let r=0;r<e;r++){if(!n.parent)return Ge;n=n.parent}return n.value},OpCall({op:e,left:t,right:n},r,i){const a=Qyt[e];if(!a)throw new Error(`Unknown operator: ${e}`);const o=i(t,r),s=i(n,r);return"then"in o||"then"in s?(async()=>a(await o,await s))():a(o,s)},async Select({alternatives:e,fallback:t},n,r){for(const i of e){const a=await r(i.condition,n);if(a.type==="boolean"&&a.data===!0)return r(i.value,n)}return t?r(t,n):Ge},async InRange({base:e,left:t,right:n,isInclusive:r},i,a){const o=await a(e,i),s=await a(t,i),l=await a(n,i),c=Rm(await o.get(),await s.get());if(c===null)return Ge;const d=Rm(await o.get(),await l.get());return d===null?Ge:r?c>=0&&d<=0?za:Ia:c>=0&&d<0?za:Ia},async Filter({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new $h(async function*(){for await(const a of i){const o=n.createNested(a),s=await r(t,o);s.type==="boolean"&&s.data===!0&&(yield a)}}):Ge},async Projection({base:e,expr:t},n,r){const i=await r(e,n);if(i.type!=="object")return Ge;const a=n.createNested(i);return r(t,a)},FuncCall({func:e,args:t},n,r){return e(t,n,r)},async PipeFuncCall({func:e,base:t,args:n},r,i){const a=await i(t,r);return e(a,n,r,i)},async AccessAttribute({base:e,name:t},n,r){let i=n.value;return e&&(i=await r(e,n)),i.type==="object"&&i.data.hasOwnProperty(t)?wr(i.data[t]):Ge},async AccessElement({base:e,index:t},n,r){const i=await r(e,n);if(!i.isArray())return Ge;const a=await i.get(),o=t<0?t+a.length:t;return wr(a[o])},async Slice({base:e,left:t,right:n,isInclusive:r},i,a){const o=await a(e,i);if(!o.isArray())return Ge;const s=await o.get();let l=t,c=n;return l<0&&(l=s.length+l),c<0&&(c=s.length+c),r&&c++,l<0&&(l=0),c<0&&(c=0),wr(s.slice(l,c))},async Deref({base:e},t,n){const r=await n(e,t);if(!t.source.isArray()||r.type!=="object")return Ge;const i=r.data._ref;if(typeof i!="string")return Ge;if(t.context.dereference)return wr(await t.context.dereference({_ref:i}));for await(const a of t.source)if(a.type==="object"&&i===a.data._id)return a;return Ge},Value({value:e}){return wr(e)},Group({base:e},t,n){return n(e,t)},async Object({attributes:e},t,n){const r={};for(const i of e){const a=i.type;switch(i.type){case"ObjectAttributeValue":{const o=await n(i.value,t);r[i.name]=await o.get();break}case"ObjectConditionalSplat":{const o=await n(i.condition,t);if(o.type!=="boolean"||o.data===!1)continue;const s=await n(i.value,t);s.type==="object"&&Object.assign(r,s.data);break}case"ObjectSplat":{const o=await n(i.value,t);o.type==="object"&&Object.assign(r,o.data);break}default:throw new Error(`Unknown node type: ${a}`)}}return wr(r)},Array({elements:e},t,n){return new $h(async function*(){for(const r of e){const i=await n(r.value,t);if(r.isSplat){if(i.isArray())for await(const a of i)yield a}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or({left:e,right:t},n,r){const i=await r(e,n),a=await r(t,n);return i.type==="boolean"&&i.data===!0||a.type==="boolean"&&a.data===!0?za:i.type!=="boolean"||a.type!=="boolean"?Ge:Ia},async And({left:e,right:t},n,r){const i=await r(e,n),a=await r(t,n);return i.type==="boolean"&&i.data===!1||a.type==="boolean"&&a.data===!1?Ia:i.type!=="boolean"||a.type!=="boolean"?Ge:za},async Not({base:e},t,n){const r=await n(e,t);return r.type!=="boolean"?Ge:r.data?Ia:za},Neg({base:e},t,n){return JQ(n(e,t),r=>r.type!=="number"?Ge:Bl(-r.data))},Pos({base:e},t,n){return JQ(n(e,t),r=>r.type!=="number"?Ge:Bl(r.data))},Asc(){return Ge},Desc(){return Ge},async ArrayCoerce({base:e},t,n){const r=await n(e,t);return r.isArray()?r:Ge},async Map({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new $h(async function*(){for await(const a of i){const o=n.createHidden(a);yield await r(t,o)}}):Ge},async FlatMap({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new $h(async function*(){for await(const a of i){const o=n.createHidden(a),s=await r(t,o);if(s.isArray())for await(const l of s)yield l;else yield s}}):Ge}};function eEe(e,t={}){const n=wr(t.root),r=wr(t.dataset),i={...t.params},a=new QSe(i,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?wr(t.after):null,before:t.before?wr(t.before):null,dereference:t.dereference},null);return lU(e,a)}function uw(e){switch(e.type){case"Group":return uw(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return uw(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return uw(e.left)&&uw(e.right);default:return!1}default:return!1}}const rvt=new QSe({},Ge,Ge,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function J$(e){return uw(e)?tEe(e):null}function tEe(e){const t=lU(e,rvt,tEe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function ivt(e){if(e.type==="object")return rEe(e.data);if(e.isArray()){const t=await nEe(e);if(t.length>0)return t.join(`

`)}return null}async function nEe(e,t=[]){for await(const n of e)if(n.type==="object"){const r=rEe(n.data);r!==null&&t.push(r)}else n.isArray()&&await nEe(n,t);return t}function rEe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const QQ=1.2;async function u1(e,t,n){if(e.type==="OpCall"&&e.op==="match")return avt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await u1(e.args[0],t,n),i=await n(e.args[1],t);return i.type==="number"&&r>0?r+i.data:0}switch(e.type){case"Or":{const r=await u1(e.left,t,n),i=await u1(e.right,t,n);return r+i}case"And":{const r=await u1(e.left,t,n),i=await u1(e.right,t,n);return r===0||i===0?0:r+i}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function avt(e,t,n,r){const i=await r(e,n),a=await r(t,n);let o=[],s=[];if(await kA(i,c=>{o=o.concat(XSe(c))}),!await kA(a,c=>{s=s.concat(JSe(c))})||o.length===0||s.length===0)return 0;let l=0;for(const c of s){const d=o.reduce((h,p)=>h+(c.test(p)?1:0),0);l+=d*(QQ+1)/(d+QQ)}return l}function QN(e,t){switch(gp(e)){case"array":for(const n of e)if(QN(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(QN(n,t))return!0;break}return!1}function ovt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const vr={};vr.anywhere=async function(){throw new Error("not implemented")};vr.anywhere.arity=1;vr.coalesce=async function(e,t,n){for(const r of e){const i=await n(r,t);if(i.type!=="null")return i}return Ge};vr.count=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;let i=0;for await(const a of r)i++;return Bl(i)};vr.count.arity=1;vr.dateTime=async function(e,t,n){const r=await n(e[0],t);return r.type==="datetime"?r:r.type!=="string"?Ge:Jy.parseToValue(r.data)};vr.dateTime.arity=1;vr.defined=async function(e,t,n){return(await n(e[0],t)).type==="null"?Ia:za};vr.defined.arity=1;vr.identity=async function(e,t){return Vl(t.context.identity)};vr.identity.arity=0;vr.length=async function(e,t,n){const r=await n(e[0],t);if(r.type==="string")return Bl(ovt(r.data));if(r.isArray()){let i=0;for await(const a of r)i++;return Bl(i)}return Ge};vr.length.arity=1;vr.path=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Ge:Gyt(new KSe(r.data))};vr.path.arity=1;vr.string=async function(e,t,n){const r=await n(e[0],t);switch(r.type){case"number":case"string":case"boolean":case"datetime":return Vl(`${r.data}`);default:return Ge}};vr.string.arity=1;vr.references=async function(e,t,n){const r=new Set;for(const a of e){const o=await n(a,t);if(o.type==="string")r.add(o.data);else if(o.isArray())for await(const s of o)s.type==="string"&&r.add(s.data)}if(r.size===0)return Ia;const i=await t.value.get();return QN(i,r)?za:Ia};vr.references.arity=e=>e>=1;vr.round=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="number")return Ge;const i=r.data;let a=0;if(e.length===2){const o=await n(e[1],t);if(o.type!=="number"||o.data<0||!Number.isInteger(o.data))return Ge;a=o.data}return a===0?i<0?Bl(-Math.round(-i)):Bl(Math.round(i)):Bl(Number(i.toFixed(a)))};vr.round.arity=e=>e>=1&&e<=2;vr.now=async function(e,t){return Vl(t.context.timestamp.toISOString())};vr.now.arity=0;vr.boost=async function(){throw new Error("unexpected boost call")};vr.boost.arity=2;const Ku={};Ku.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Ge:Vl(r.data.toLowerCase())};Ku.lower.arity=1;Ku.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Ge:Vl(r.data.toUpperCase())};Ku.upper.arity=1;Ku.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Ge;const i=await n(e[1],t);return i.type!=="string"?Ge:r.data.length===0?wr([]):i.data.length===0?wr(Array.from(r.data)):wr(r.data.split(i.data))};Ku.split.arity=2;vr.lower=Ku.lower;vr.upper=Ku.upper;Ku.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Ge;const i=await n(e[1],t);return i.type!=="string"?Ge:r.data.startsWith(i.data)?za:Ia};Ku.startsWith.arity=2;const g0={};g0.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;const i=await n(e[1],t);if(i.type!=="string")return Ge;let a="",o=!1;for await(const s of r){switch(o&&(a+=i.data),s.type){case"number":case"string":case"boolean":case"datetime":a+=`${s.data}`;break;default:return Ge}o=!0}return wr(a)};g0.join.arity=2;g0.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new $h(async function*(){for await(const i of r)i.type!=="null"&&(yield i)}):Ge};g0.compact.arity=1;g0.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new $h(async function*(){const i=new Set;for await(const a of r)switch(a.type){case"number":case"string":case"boolean":case"datetime":i.has(a.data)||(i.add(a.data),yield a);break;default:yield a}}):Ge};g0.unique.arity=1;const uU={};uU.text=async function(e,t,n){const r=await n(e[0],t),i=await ivt(r);return i===null?Ge:Vl(i)};uU.text.arity=1;const y0={};y0.projectId=async function(e,t){return t.context.sanity?Vl(t.context.sanity.projectId):Ge};y0.dataset=async function(e,t){return t.context.sanity?Vl(t.context.sanity.dataset):Ge};y0.versionOf=async function(e,t,n){if(!t.source.isArray())return Ge;const r=await n(e[0],t);if(r.type!=="string")return Ge;const i=r.data,a=[];for await(const o of t.source)if(gp(o)==="object"){const s=await o.get();s&&"_id"in s&&s._id.split(".").length===2&&s._id.endsWith(`.${i}`)&&"_version"in s&&typeof s._version=="object"&&a.push(s._id)}return wr(a)};y0.versionOf.arity=1;y0.documentsOf=async function(e,t,n){if(!t.source.isArray())return Ge;const r=await n(e[0],t);if(r.type!=="string")return Ge;const i=r.data,a=[];for await(const o of t.source)if(gp(o)==="object"){const s=await o.get();s&&"_id"in s&&s._id.split(".").length===2&&s._id.startsWith(`${i}.`)&&"_version"in s&&typeof s._version=="object"&&a.push(s._id)}return wr(a)};y0.documentsOf.arity=1;const DE={};DE.order=async function(e,t,n,r){if(await!0,!e.isArray())return Ge;const i=[],a=[];let o=0;for(let c of t){let d="asc";c.type==="Desc"?(d="desc",c=c.base):c.type==="Asc"&&(c=c.base),i.push(c),a.push(d),o++}const s=[];let l=0;for await(const c of e){const d=n.createNested(c),h=[await c.get(),l];for(let p=0;p<o;p++){const m=await r(i[p],d);h.push(await m.get())}s.push(h),l++}return s.sort((c,d)=>{for(let h=0;h<o;h++){let p=Jyt(c[h+2],d[h+2]);if(a[h]==="desc"&&(p=-p),p!==0)return p}return c[1]-d[1]}),wr(s.map(c=>c[0]))};DE.order.arity=e=>e>=1;DE.score=async function(e,t,n,r){if(!e.isArray())return Ge;const i=[],a=[];for await(const o of e){if(o.type!=="object"){i.push(await o.get());continue}const s=n.createNested(o);let l=typeof o.data._score=="number"?o.data._score:0;for(const d of t)l+=await u1(d,s,r);const c=Object.assign({},o.data,{_score:l});a.push(c)}return a.sort((o,s)=>s._score-o._score),wr(a)};DE.score.arity=e=>e>=1;const zp={};zp.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Vl("update"):r?Vl("create"):n?Vl("delete"):Ge};zp.changedAny=()=>{throw new Error("not implemented")};zp.changedAny.arity=1;zp.changedAny.mode="delta";zp.changedOnly=()=>{throw new Error("not implemented")};zp.changedOnly.arity=1;zp.changedOnly.mode="delta";const ME={};ME.changedAny=()=>{throw new Error("not implemented")};ME.changedAny.arity=3;ME.changedOnly=()=>{throw new Error("not implemented")};ME.changedOnly.arity=3;const Vf={};Vf.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;let i;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return Ge;(i===void 0||a.data<i)&&(i=a.data)}return wr(i)};Vf.min.arity=1;Vf.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;let i;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return Ge;(i===void 0||a.data>i)&&(i=a.data)}return wr(i)};Vf.max.arity=1;Vf.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;let i=0;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return Ge;i+=a.data}return wr(i)};Vf.sum.arity=1;Vf.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Ge;let i=0,a=0;for await(const o of r)if(o.type!=="null"){if(o.type!=="number")return Ge;i+=o.data,a++}return a===0?Ge:wr(i/a)};Vf.avg.arity=1;const cU={};cU.now=async function(e,t){return XN(new Jy(t.context.timestamp))};cU.now.arity=0;const svt={global:vr,string:Ku,array:g0,pt:uU,delta:zp,diff:ME,sanity:y0,math:Vf,dateTime:cU};var lvt=Object.defineProperty,uvt=(e,t,n)=>t in e?lvt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yx=(e,t,n)=>uvt(e,typeof t!="symbol"?t+"":t,n);class cvt{constructor(t,n,r){yx(this,"string"),yx(this,"marks"),yx(this,"index"),yx(this,"parseOptions"),yx(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(t=0){return this.index+t<this.marks.length}getMark(t=0){return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error(`Unknown handler: ${n.name}`);return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const dvt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,Q$=/^\d+/,Om=/^[a-zA-Z_][a-zA-Z_0-9]*/;function fvt(e){let t=0;t=xt(e,t);let n=dr(e,t,0);return n.type==="error"?n:(t=xt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function dr(e,t,n){let r=t,i=e[t],a;switch(i){case"+":{let c=dr(e,xt(e,t+1),10);if(c.type==="error")return c;a=[{name:"pos",position:r}].concat(c.marks),t=c.position;break}case"-":{let c=dr(e,xt(e,t+1),8);if(c.type==="error")return c;a=[{name:"neg",position:r}].concat(c.marks),t=c.position;break}case"(":{let c=dr(e,xt(e,t+1),0);if(c.type==="error")return c;switch(t=xt(e,c.position),e[t]){case",":{for(a=[{name:"tuple",position:r}].concat(c.marks),t=xt(e,t+1);;){if(c=dr(e,t,0),c.type==="error")return c;if(t=xt(e,c.position),e[t]!==",")break;t=xt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,a.push({name:"tuple_end",position:t});break}case")":{t++,a=[{name:"group",position:r}].concat(c.marks);break}default:return{type:"error",position:t}}break}case"!":{let c=dr(e,xt(e,t+1),10);if(c.type==="error")return c;a=[{name:"not",position:r}].concat(c.marks),t=c.position;break}case"{":{let c=eL(e,t);if(c.type==="error")return c;a=c.marks,t=c.position;break}case"[":if(a=[{name:"array",position:t}],t=xt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(a.push({name:"array_splat",position:t}),t=xt(e,t+3));let c=dr(e,t,0);if(c.type==="error")return c;if(a=a.concat(c.marks),t=c.position,t=xt(e,t),e[t]!==","||(t=xt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,a.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let c=hvt(e,t);if(c.type==="error")return c;a=c.marks,t=c.position;break}case"^":{for(t++,a=[];e[t]==="."&&e[t+1]==="^";)a.push({name:"dblparent",position:r}),t+=2;a.push({name:"parent",position:r});break}case"@":a=[{name:"this",position:r}],t++;break;case"*":a=[{name:"everything",position:r}],t++;break;case"$":{let c=hc(e,t+1,Om);c&&(t+=1+c,a=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let c=hc(e,t,Q$);if(c){t+=c;let h="integer";if(e[t]==="."){let p=hc(e,t+1,Q$);p&&(h="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){h="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=hc(e,t,Q$);if(!p)return{type:"error",position:t};t+=p}a=[{name:h,position:r},{name:h+"_end",position:t}];break}let d=hc(e,t,Om);if(d){switch(t+=d,e[t]){case":":case"(":{let h=tee(e,r,t);if(h.type==="error")return h;a=h.marks,t=h.position;break}default:a=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!a)return{type:"error",position:t};let o=12,s;e:for(;;){let c=xt(e,t);if(c===e.length){t=c;break}if(s=eee(e,c),s.type==="success"){for(a.unshift({name:"traverse",position:r});s.type==="success";)a=a.concat(s.marks),t=s.position,s=eee(e,xt(e,t));a.push({name:"traversal_end",position:t});continue}switch(e[c]){case"=":{switch(e[c+1]){case">":{if(n>1||o<=1)break e;let d=dr(e,xt(e,c+2),1);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"pair",position:r}),t=d.position,o=1;break}case"=":{if(n>4||o<=4)break e;let d=dr(e,xt(e,c+2),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(d.marks),t=d.position,o=4;break}default:break e}break}case"+":{if(n>6||o<6)break e;let d=dr(e,xt(e,c+1),7);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"add",position:r}),t=d.position,o=6;break}case"-":{if(n>6||o<6)break e;let d=dr(e,xt(e,c+1),7);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"sub",position:r}),t=d.position,o=6;break}case"*":{if(e[c+1]==="*"){if(n>8||o<=8)break e;let h=dr(e,xt(e,c+2),8);if(h.type==="error")return h;a=a.concat(h.marks),a.unshift({name:"pow",position:r}),t=h.position,o=8;break}if(n>7||o<7)break e;let d=dr(e,xt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"mul",position:r}),t=d.position,o=7;break}case"/":{if(n>7||o<7)break e;let d=dr(e,xt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"div",position:r}),t=d.position,o=7;break}case"%":{if(n>7||o<7)break e;let d=dr(e,xt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"mod",position:r}),t=d.position,o=7;break}case"<":case">":{if(n>4||o<=4)break e;let d=c+1;e[d]==="="&&d++;let h=dr(e,xt(e,d),5);if(h.type==="error")return h;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:d}),a=a.concat(h.marks),t=h.position,o=4;break}case"|":{if(e[c+1]==="|"){if(n>2||o<2)break e;let d=dr(e,xt(e,c+2),3);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"or",position:r}),t=d.position,o=2}else{if(n>11||o<11)break e;let d=xt(e,c+1),h=hc(e,d,Om);if(!h)return{type:"error",position:d};if(t=d+h,e[t]==="("||e[t]===":"){let p=tee(e,d,t);if(p.type==="error")return p;a=a.concat(p.marks),a.unshift({name:"pipecall",position:r}),t=p.position,o=11}}break}case"&":{if(e[c+1]!="&"||n>3||o<3)break e;let d=dr(e,xt(e,c+2),4);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"and",position:r}),t=d.position,o=3;break}case"!":{if(e[c+1]!=="="||n>4||o<=4)break e;let d=dr(e,xt(e,c+2),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(d.marks),t=d.position,o=4;break}case"d":{if(e.slice(c,c+4)!=="desc"||n>4||o<4)break e;a.unshift({name:"desc",position:r}),t=c+4,o=4;break}case"a":{if(e.slice(c,c+3)!=="asc"||n>4||o<4)break e;a.unshift({name:"asc",position:r}),t=c+3,o=4;break}default:switch(pvt(e,c,Om)){case"in":{if(n>4||o<=4)break e;t=xt(e,c+2);let d=!1;e[t]==="("&&(d=!0,t=xt(e,t+1));let h=t,p=dr(e,t,5);if(p.type==="error")return p;if(t=xt(e,p.position),e[t]==="."&&e[t+1]==="."){let m="inc_range";e[t+2]==="."?(m="exc_range",t=xt(e,t+3)):t=xt(e,t+2);let g=dr(e,t,5);if(g.type==="error")return g;a.unshift({name:"in_range",position:r}),a=a.concat({name:m,position:h},p.marks,g.marks),t=g.position}else a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(p.marks);if(d){if(t=xt(e,t),e[t]!==")")return{type:"error",position:t};t++}o=4;break}case"match":{if(n>4||o<=4)break e;let d=dr(e,xt(e,c+5),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+5}),a=a.concat(d.marks),t=d.position,o=4;break}default:break e}}}let l=(s==null?void 0:s.type)==="error"&&s.position;return{type:"success",marks:a,position:t,failPosition:l}}function eee(e,t){let n=t;switch(e[t]){case".":{t=xt(e,t+1);let o=t,s=hc(e,t,Om);return s?(t+=s,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:o},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let i=xt(e,t),a=hc(e,i,Om);return a&&(t=i+a,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=xt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let o=t,s=dr(e,t,0);if(s.type==="error")return s;if(t=xt(e,s.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=xt(e,t);let c=dr(e,t,0);return c.type==="error"?c:(t=xt(e,c.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:o}].concat(s.marks,c.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(s.marks),position:t+1}}case"|":{if(t=xt(e,t+1),e[t]==="{"){let o=eL(e,t);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}break}case"{":{let o=eL(e,t);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}}return{type:"error",position:t}}function tee(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=xt(e,n+2);let a=hc(e,n,Om);if(!a)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+a}),n=xt(e,n+a),e[n]!=="(")return{type:"error",position:n};n++,n=xt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=xt(e,n+1);let i=n;if(e[n]!==")")for(;;){let a=dr(e,n,0);if(a.type==="error")return a;if(r=r.concat(a.marks),i=a.position,n=xt(e,a.position),e[n]!==","||(n=xt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function eL(e,t){let n=[{name:"object",position:t}];for(t=xt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=xt(e,t+3),e[t]!=="}"&&e[t]!==","){let i=dr(e,t,0);if(i.type==="error")return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),t=i.position}else n.push({name:"object_splat_this",position:r});else{let i=dr(e,t,0);if(i.type==="error")return i;let a=xt(e,i.position);if(i.marks[0].name==="str"&&e[a]===":"){let o=dr(e,xt(e,a+1),0);if(o.type==="error")return o;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,o.marks),t=o.position}else n=n.concat({name:"object_expr",position:t},i.marks),t=i.position}if(t=xt(e,t),e[t]!==",")break;t=xt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function hvt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function xt(e,t){return t+hc(e,t,dvt)}function hc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function pvt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Rl(e,t){return n=>t(e(n))}function tL(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function mvt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function A_(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Rl(e,t.build)};case"a-b":return{type:"a-b",build:Rl(e,t.build)};case"b-b":return{type:"a-a",build:Rl(e,tL(t.build))};case"b-a":return{type:"a-a",build:Rl(e,mvt(t.build))};default:throw new Error(`unknown type: ${t.type}`)}}function e3(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Rl(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Rl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function gvt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Rl(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Rl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function yvt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Rl(tL(e),t.build)};case"a-b":return{type:"a-b",build:Rl(tL(e),t.build)};case"b-a":return{type:"b-a",build:Rl(e,t.build)};case"b-b":return{type:"b-b",build:Rl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}var vvt=Object.defineProperty,bvt=(e,t,n)=>t in e?vvt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nL=(e,t,n)=>bvt(e,typeof t!="symbol"?t+"":t,n);const xvt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function wvt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Oo extends Error{constructor(){super(...arguments),nL(this,"name","GroqQueryError")}}const At={group(e){return{type:"Group",base:e.process(At)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(At).n+1}},traverse(e){const t=e.process(At),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(iEe));e.shift();let r=null;for(let i=n.length-1;i>=0;i--)r=n[i](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=A_(i=>i,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(At)}},pos(e){return{type:"Pos",base:e.process(At)}},add(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(At),n=e.process(At);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(At),n=e.processString(),r=e.process(At);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(At),n=e.getMark().name==="inc_range";e.shift();const r=e.process(At),i=e.process(At);return{type:"InRange",base:t,left:r,right:i,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=xvt[r];break}case"unicode_hex":e.shift(),t+=wvt(e.processStringEnd());break;default:throw new Error(`unexpected mark: ${n.name}`)}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(Cvt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(At);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(At));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const o={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(o.fallback)throw new Oo("unexpected argument to select()");e.shift();const s=e.process(At),l=e.process(At);o.alternatives.push({type:"SelectAlternative",condition:s,value:l})}else{if(o.fallback)throw new Oo("unexpected argument to select()");const s=e.process(At);o.fallback=s}return e.shift(),o}const r=[];for(;e.getMark().name!=="func_args_end";)Svt(t,n,r.length)?(e.process(rL),r.push({type:"Selector"})):r.push(e.process(At));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Oo("unexpected boost");const i=svt[t];if(!i)throw new Oo(`Undefined namespace: ${t}`);const a=i[n];if(!a)throw new Oo(`Undefined function: ${n}`);if(a.arity!==void 0&&nee(n,a.arity,r.length),a.mode!==void 0&&a.mode!==e.parseOptions.mode)throw new Oo(`Undefined function: ${n}`);return{type:"FuncCall",func:a,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(At);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Oo(`Undefined namespace: ${n}`);const r=e.processString(),i=[],a=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const s=e.getMark().name;if(s==="func_args_end")break;if(r==="order"){if(s==="asc"){e.shift(),i.push({type:"Asc",base:e.process(At)});continue}else if(s==="desc"){e.shift(),i.push({type:"Desc",base:e.process(At)});continue}}i.push(e.process(At))}e.shift(),e.allowBoost=a;const o=DE[r];if(!o)throw new Oo(`Undefined pipe function: ${r}`);return o.arity&&nee(r,o.arity,i.length),{type:"PipeFuncCall",func:o,base:t,name:r,args:i}},pair(){throw new Oo("unexpected =>")},and(e){const t=e.process(At),n=e.process(At);return{type:"And",left:t,right:n}},or(e){const t=e.process(At),n=e.process(At);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(At)}},asc(){throw new Oo("unexpected asc")},desc(){throw new Oo("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},Cvt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(At),r=e.process(At);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(At);return{type:"ObjectAttributeValue",name:aEe(t),value:t}},object_pair(e){const t=e.process(At);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(At);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(At)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},iEe={square_bracket(e){const t=e.process(At),n=J$(t);return n&&n.type==="number"?r=>gvt(i=>({type:"AccessElement",base:i,index:n.data}),r):n&&n.type==="string"?r=>e3(i=>({type:"AccessAttribute",base:i,name:n.data}),r):r=>A_(i=>({type:"Filter",base:i,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(At),r=e.process(At),i=J$(n),a=J$(r);if(!i||!a||i.type!=="number"||a.type!=="number")throw new Oo("slicing must use constant numbers");return o=>A_(s=>({type:"Slice",base:s,left:i.data,right:a.data,isInclusive:t}),o)},projection(e){const t=e.process(At);return n=>yvt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>e3(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>e3(i=>n({type:"Deref",base:i}),r)},array_postfix(){return e=>A_(t=>({type:"ArrayCoerce",base:t}),e)}},rL={group(e){return e.process(rL),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(rL);e.getMark().name!=="traversal_end";)e.process(iEe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(){throw new Error("Invalid selector syntax")},pos(){throw new Error("Invalid selector syntax")},add(){throw new Error("Invalid selector syntax")},sub(){throw new Error("Invalid selector syntax")},mul(){throw new Error("Invalid selector syntax")},div(){throw new Error("Invalid selector syntax")},mod(){throw new Error("Invalid selector syntax")},pow(){throw new Error("Invalid selector syntax")},comp(){throw new Error("Invalid selector syntax")},in_range(){throw new Error("Invalid selector syntax")},str(){throw new Error("Invalid selector syntax")},integer(){throw new Error("Invalid selector syntax")},float(){throw new Error("Invalid selector syntax")},sci(){throw new Error("Invalid selector syntax")},object(){throw new Error("Invalid selector syntax")},array(){throw new Error("Invalid selector syntax")},tuple(){throw new Error("Invalid selector syntax")},func_call(e,t){const n=At.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(){throw new Error("Invalid selector syntax")},pair(){throw new Error("Invalid selector syntax")},and(){throw new Error("Invalid selector syntax")},or(){throw new Error("Invalid selector syntax")},not(){throw new Error("Invalid selector syntax")},asc(){throw new Error("Invalid selector syntax")},desc(){throw new Error("Invalid selector syntax")},param(){throw new Error("Invalid selector syntax")}};function aEe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return aEe(e.base);throw new Oo(`Cannot determine property key for type: ${e.type}`)}function nee(e,t,n){if(typeof t=="number"){if(n!==t)throw new Oo(`Incorrect number of arguments to function ${e}(). Expected ${t}, got ${n}.`)}else if(t&&!t(n))throw new Oo(`Incorrect number of arguments to function ${e}().`)}function Svt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class Evt extends Error{constructor(t){super(`Syntax error in GROQ query at position ${t}`),nL(this,"position"),nL(this,"name","GroqSyntaxError"),this.position=t}}function dU(e,t={}){const n=fvt(e);if(n.type==="error")throw new Evt(n.position);return new cvt(e,n.marks,t).process(At)}const kvt=gi("typeEvaluator:scope:trace");kvt.log=console.log.bind(console);const _vt=gi("typeEvaluator:evaluate:trace");_vt.log=console.log.bind(console);const Tvt=gi("typeEvaluator:evaluate:debug");Tvt.log=console.log.bind(console);gi("typeEvaluator:evaluate:warn");var Avt=nM;function jvt(e){return e&&e.length?Avt(e):[]}var Ivt=jvt;const Sa=Fe(Ivt);var Dvt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var i="",a=0;a<r;a++)a===r-1?(n.oxfordComma&&(i+=","),i+=" "+n.conjunction+" "):a!==0&&(i+=", "),i+=t[a];return i};const Tu=Fe(Dvt);var Mvt=iU,Rvt=Mvt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ovt=Rvt;const oM=Fe(Ovt);var $vt=vxe,Pvt=$vt(Object.getPrototypeOf,Object),fU=Pvt,Fvt=jf,Nvt=fU,Lvt=il,Bvt="[object Object]",Vvt=Function.prototype,zvt=Object.prototype,oEe=Vvt.toString,Uvt=zvt.hasOwnProperty,Hvt=oEe.call(Object);function Wvt(e){if(!Lvt(e)||Fvt(e)!=Bvt)return!1;var t=Nvt(e);if(t===null)return!0;var n=Uvt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&oEe.call(n)==Hvt}var hU=Wvt;const mr=Fe(hU);function Gvt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Yvt=Gvt,qvt=rM,Kvt=bE,Zvt=Object.prototype,Xvt=Zvt.hasOwnProperty;function Jvt(e,t,n){var r=e[t];(!(Xvt.call(e,t)&&Kvt(r,n))||n===void 0&&!(t in e))&&qvt(e,t,n)}var pU=Jvt,Qvt=pU,ebt=rM;function tbt(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?ebt(n,s,l):Qvt(n,s,l)}return n}var v0=tbt,nbt=v0,rbt=Kc;function ibt(e,t){return e&&nbt(t,rbt(t),e)}var abt=ibt;function obt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var sbt=obt,lbt=eu,ubt=RD,cbt=sbt,dbt=Object.prototype,fbt=dbt.hasOwnProperty;function hbt(e){if(!lbt(e))return cbt(e);var t=ubt(e),n=[];for(var r in e)r=="constructor"&&(t||!fbt.call(e,r))||n.push(r);return n}var pbt=hbt,mbt=yxe,gbt=pbt,ybt=Np;function vbt(e){return ybt(e)?mbt(e,!0):gbt(e)}var sM=vbt,bbt=v0,xbt=sM;function wbt(e,t){return e&&bbt(t,xbt(t),e)}var Cbt=wbt,_A={exports:{}};_A.exports;(function(e,t){var n=tu,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,p=s?s(h):new c.constructor(h);return c.copy(p),p}e.exports=l})(_A,_A.exports);var Sbt=_A.exports;function Ebt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var mU=Ebt,kbt=v0,_bt=KV;function Tbt(e,t){return kbt(e,_bt(e),t)}var Abt=Tbt,jbt=zV,Ibt=fU,Dbt=KV,Mbt=gxe,Rbt=Object.getOwnPropertySymbols,Obt=Rbt?function(e){for(var t=[];e;)jbt(t,Dbt(e)),e=Ibt(e);return t}:Mbt,sEe=Obt,$bt=v0,Pbt=sEe;function Fbt(e,t){return $bt(e,Pbt(e),t)}var Nbt=Fbt,Lbt=pxe,Bbt=sEe,Vbt=sM;function zbt(e){return Lbt(e,Vbt,Bbt)}var gU=zbt,Ubt=Object.prototype,Hbt=Ubt.hasOwnProperty;function Wbt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Hbt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Gbt=Wbt,ree=fxe;function Ybt(e){var t=new e.constructor(e.byteLength);return new ree(t).set(new ree(e)),t}var yU=Ybt,qbt=yU;function Kbt(e,t){var n=t?qbt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Zbt=Kbt,Xbt=/\w*$/;function Jbt(e){var t=new e.constructor(e.source,Xbt.exec(e));return t.lastIndex=e.lastIndex,t}var Qbt=Jbt,iee=Tv,aee=iee?iee.prototype:void 0,oee=aee?aee.valueOf:void 0;function ext(e){return oee?Object(oee.call(e)):{}}var txt=ext,nxt=yU;function rxt(e,t){var n=t?nxt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ixt=rxt,axt=yU,oxt=Zbt,sxt=Qbt,lxt=txt,uxt=ixt,cxt="[object Boolean]",dxt="[object Date]",fxt="[object Map]",hxt="[object Number]",pxt="[object RegExp]",mxt="[object Set]",gxt="[object String]",yxt="[object Symbol]",vxt="[object ArrayBuffer]",bxt="[object DataView]",xxt="[object Float32Array]",wxt="[object Float64Array]",Cxt="[object Int8Array]",Sxt="[object Int16Array]",Ext="[object Int32Array]",kxt="[object Uint8Array]",_xt="[object Uint8ClampedArray]",Txt="[object Uint16Array]",Axt="[object Uint32Array]";function jxt(e,t,n){var r=e.constructor;switch(t){case vxt:return axt(e);case cxt:case dxt:return new r(+e);case bxt:return oxt(e,n);case xxt:case wxt:case Cxt:case Sxt:case Ext:case kxt:case _xt:case Txt:case Axt:return uxt(e,n);case fxt:return new r;case hxt:case gxt:return new r(e);case pxt:return sxt(e);case mxt:return new r;case yxt:return lxt(e)}}var Ixt=jxt,Dxt=eu,see=Object.create,Mxt=function(){function e(){}return function(t){if(!Dxt(t))return{};if(see)return see(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),vU=Mxt,Rxt=vU,Oxt=fU,$xt=RD;function Pxt(e){return typeof e.constructor=="function"&&!$xt(e)?Rxt(Oxt(e)):{}}var Fxt=Pxt,Nxt=ib,Lxt=il,Bxt="[object Map]";function Vxt(e){return Lxt(e)&&Nxt(e)==Bxt}var zxt=Vxt,Uxt=zxt,Hxt=nb,lee=XV,uee=lee&&lee.isMap,Wxt=uee?Hxt(uee):Uxt,Gxt=Wxt,Yxt=ib,qxt=il,Kxt="[object Set]";function Zxt(e){return qxt(e)&&Yxt(e)==Kxt}var Xxt=Zxt,Jxt=Xxt,Qxt=nb,cee=XV,dee=cee&&cee.isSet,ewt=dee?Qxt(dee):Jxt,twt=ewt,nwt=YV,rwt=Yvt,iwt=pU,awt=abt,owt=Cbt,swt=Sbt,lwt=mU,uwt=Abt,cwt=Nbt,dwt=xxe,fwt=gU,hwt=ib,pwt=Gbt,mwt=Ixt,gwt=Fxt,ywt=Yi,vwt=DD,bwt=Gxt,xwt=eu,wwt=twt,Cwt=Kc,Swt=sM,Ewt=1,kwt=2,_wt=4,lEe="[object Arguments]",Twt="[object Array]",Awt="[object Boolean]",jwt="[object Date]",Iwt="[object Error]",uEe="[object Function]",Dwt="[object GeneratorFunction]",Mwt="[object Map]",Rwt="[object Number]",cEe="[object Object]",Owt="[object RegExp]",$wt="[object Set]",Pwt="[object String]",Fwt="[object Symbol]",Nwt="[object WeakMap]",Lwt="[object ArrayBuffer]",Bwt="[object DataView]",Vwt="[object Float32Array]",zwt="[object Float64Array]",Uwt="[object Int8Array]",Hwt="[object Int16Array]",Wwt="[object Int32Array]",Gwt="[object Uint8Array]",Ywt="[object Uint8ClampedArray]",qwt="[object Uint16Array]",Kwt="[object Uint32Array]",Dr={};Dr[lEe]=Dr[Twt]=Dr[Lwt]=Dr[Bwt]=Dr[Awt]=Dr[jwt]=Dr[Vwt]=Dr[zwt]=Dr[Uwt]=Dr[Hwt]=Dr[Wwt]=Dr[Mwt]=Dr[Rwt]=Dr[cEe]=Dr[Owt]=Dr[$wt]=Dr[Pwt]=Dr[Fwt]=Dr[Gwt]=Dr[Ywt]=Dr[qwt]=Dr[Kwt]=!0;Dr[Iwt]=Dr[uEe]=Dr[Nwt]=!1;function j_(e,t,n,r,i,a){var o,s=t&Ewt,l=t&kwt,c=t&_wt;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!xwt(e))return e;var d=ywt(e);if(d){if(o=pwt(e),!s)return lwt(e,o)}else{var h=hwt(e),p=h==uEe||h==Dwt;if(vwt(e))return swt(e,s);if(h==cEe||h==lEe||p&&!i){if(o=l||p?{}:gwt(e),!s)return l?cwt(e,owt(o,e)):uwt(e,awt(o,e))}else{if(!Dr[h])return i?e:{};o=mwt(e,h,s)}}a||(a=new nwt);var m=a.get(e);if(m)return m;a.set(e,o),wwt(e)?e.forEach(function(v){o.add(j_(v,t,n,v,e,a))}):bwt(e)&&e.forEach(function(v,b){o.set(b,j_(v,t,n,b,e,a))});var g=c?l?fwt:dwt:l?Swt:Cwt,y=d?void 0:g(e);return rwt(y||e,function(v,b){y&&(b=v,v=e[b]),iwt(o,b,j_(v,t,n,b,e,a))}),o}var bU=j_;function Zwt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dEe=Zwt;const xU=Fe(dEe);function Xwt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var fEe=Xwt,Jwt=xE,Qwt=fEe;function eCt(e,t){return t.length<2?e:Jwt(e,Qwt(t,0,-1))}var tCt=eCt,nCt=eb,rCt=dEe,iCt=tCt,aCt=d0;function oCt(e,t){return t=nCt(t,e),e=iCt(e,t),e==null||delete e[aCt(rCt(t))]}var sCt=oCt,lCt=hU;function uCt(e){return lCt(e)?void 0:e}var cCt=uCt,dCt=LSe,fCt=Oxe,hCt=Pxe;function pCt(e){return hCt(fCt(e,void 0,dCt),e+"")}var wU=pCt,mCt=Gu,gCt=bU,yCt=sCt,vCt=eb,bCt=v0,xCt=cCt,wCt=wU,CCt=gU,SCt=1,ECt=2,kCt=4,_Ct=wCt(function(e,t){var n={};if(e==null)return n;var r=!1;t=mCt(t,function(a){return a=vCt(a,e),r||(r=a.length>1),a}),bCt(e,CCt(e),n),r&&(n=gCt(n,SCt|ECt|kCt,xCt));for(var i=t.length;i--;)yCt(n,t[i]);return n}),TCt=_Ct;const Qa=Fe(TCt);var CU={exports:{}};const t3=[],fee=[],hEe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let a=0;for(;a<r&&e.charCodeAt(a)===t.charCodeAt(a);)a++;if(r-=a,i-=a,r===0)return i;let o,s,l,c,d=0,h=0;for(;d<r;)fee[d]=e.charCodeAt(a+d),t3[d]=++d;for(;h<i;)for(o=t.charCodeAt(a+h),l=h++,s=h,d=0;d<r;d++)c=o===fee[d]?l:l+1,l=t3[d],s=t3[d]=l>s?c>s?s+1:c:c>l?l+1:c;return s};CU.exports=hEe;CU.exports.default=hEe;var ACt=CU.exports;const jCt=Fe(ACt),ICt={},DCt=Object.freeze(Object.defineProperty({__proto__:null,default:ICt},Symbol.toStringTag,{value:"Module"})),MCt=FPe(DCt);var SU=typeof Map=="function"&&Map.prototype,n3=Object.getOwnPropertyDescriptor&&SU?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,TA=SU&&n3&&typeof n3.get=="function"?n3.get:null,hee=SU&&Map.prototype.forEach,EU=typeof Set=="function"&&Set.prototype,r3=Object.getOwnPropertyDescriptor&&EU?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,AA=EU&&r3&&typeof r3.get=="function"?r3.get:null,pee=EU&&Set.prototype.forEach,RCt=typeof WeakMap=="function"&&WeakMap.prototype,Ww=RCt?WeakMap.prototype.has:null,OCt=typeof WeakSet=="function"&&WeakSet.prototype,Gw=OCt?WeakSet.prototype.has:null,$Ct=typeof WeakRef=="function"&&WeakRef.prototype,mee=$Ct?WeakRef.prototype.deref:null,PCt=Boolean.prototype.valueOf,FCt=Object.prototype.toString,NCt=Function.prototype.toString,LCt=String.prototype.match,kU=String.prototype.slice,Ph=String.prototype.replace,BCt=String.prototype.toUpperCase,gee=String.prototype.toLowerCase,pEe=RegExp.prototype.test,yee=Array.prototype.concat,pc=Array.prototype.join,VCt=Array.prototype.slice,vee=Math.floor,iL=typeof BigInt=="function"?BigInt.prototype.valueOf:null,i3=Object.getOwnPropertySymbols,aL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ao=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qy||"symbol")?Symbol.toStringTag:null,mEe=Object.prototype.propertyIsEnumerable,bee=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function xee(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||pEe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-vee(-e):vee(e);if(r!==e){var i=String(r),a=kU.call(t,i.length+1);return Ph.call(i,n,"$&_")+"."+Ph.call(Ph.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ph.call(t,n,"$&_")}var oL=MCt,wee=oL.custom,Cee=yEe(wee)?wee:null,zCt=function e(t,n,r,i){var a=n||{};if(hh(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hh(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=hh(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hh(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hh(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return bEe(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?xee(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return s?xee(t,c):c}var d=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return sL(t)?"[Array]":"[Object]";var h=oSt(a,r);if(typeof i>"u")i=[];else if(vEe(i,t)>=0)return"[Circular]";function p(M,D,O){if(D&&(i=VCt.call(i),i.push(D)),O){var R={depth:a.depth};return hh(a,"quoteStyle")&&(R.quoteStyle=a.quoteStyle),e(M,R,r+1,i)}return e(M,a,r+1,i)}if(typeof t=="function"&&!See(t)){var m=XCt(t),g=M2(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+pc.call(g,", ")+" }":"")}if(yEe(t)){var y=Qy?Ph.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):aL.call(t);return typeof t=="object"&&!Qy?vx(y):y}if(rSt(t)){for(var v="<"+gee.call(String(t.nodeName)),b=t.attributes||[],x=0;x<b.length;x++)v+=" "+b[x].name+"="+gEe(UCt(b[x].value),"double",a);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+gee.call(String(t.nodeName))+">",v}if(sL(t)){if(t.length===0)return"[]";var w=M2(t,p);return h&&!aSt(w)?"["+lL(w,h)+"]":"[ "+pc.call(w,", ")+" ]"}if(WCt(t)){var C=M2(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!mEe.call(t,"cause")?"{ ["+String(t)+"] "+pc.call(yee.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+pc.call(C,", ")+" }"}if(typeof t=="object"&&o){if(Cee&&typeof t[Cee]=="function"&&oL)return oL(t,{depth:d-r});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(JCt(t)){var S=[];return hee&&hee.call(t,function(M,D){S.push(p(D,t,!0)+" => "+p(M,t))}),Eee("Map",TA.call(t),S,h)}if(tSt(t)){var E=[];return pee&&pee.call(t,function(M){E.push(p(M,t))}),Eee("Set",AA.call(t),E,h)}if(QCt(t))return a3("WeakMap");if(nSt(t))return a3("WeakSet");if(eSt(t))return a3("WeakRef");if(YCt(t))return vx(p(Number(t)));if(KCt(t))return vx(p(iL.call(t)));if(qCt(t))return vx(PCt.call(t));if(GCt(t))return vx(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof va<"u"&&t===va)return"{ [object globalThis] }";if(!HCt(t)&&!See(t)){var k=M2(t,p),_=bee?bee(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",j=!_&&Ao&&Object(t)===t&&Ao in t?kU.call(Up(t),8,-1):T?"Object":"",A=_||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",I=A+(j||T?"["+pc.call(yee.call([],j||[],T||[]),": ")+"] ":"");return k.length===0?I+"{}":h?I+"{"+lL(k,h)+"}":I+"{ "+pc.call(k,", ")+" }"}return String(t)};function gEe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function UCt(e){return Ph.call(String(e),/"/g,"&quot;")}function sL(e){return Up(e)==="[object Array]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function HCt(e){return Up(e)==="[object Date]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function See(e){return Up(e)==="[object RegExp]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function WCt(e){return Up(e)==="[object Error]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function GCt(e){return Up(e)==="[object String]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function YCt(e){return Up(e)==="[object Number]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function qCt(e){return Up(e)==="[object Boolean]"&&(!Ao||!(typeof e=="object"&&Ao in e))}function yEe(e){if(Qy)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!aL)return!1;try{return aL.call(e),!0}catch{}return!1}function KCt(e){if(!e||typeof e!="object"||!iL)return!1;try{return iL.call(e),!0}catch{}return!1}var ZCt=Object.prototype.hasOwnProperty||function(e){return e in this};function hh(e,t){return ZCt.call(e,t)}function Up(e){return FCt.call(e)}function XCt(e){if(e.name)return e.name;var t=LCt.call(NCt.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function vEe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function JCt(e){if(!TA||!e||typeof e!="object")return!1;try{TA.call(e);try{AA.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function QCt(e){if(!Ww||!e||typeof e!="object")return!1;try{Ww.call(e,Ww);try{Gw.call(e,Gw)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function eSt(e){if(!mee||!e||typeof e!="object")return!1;try{return mee.call(e),!0}catch{}return!1}function tSt(e){if(!AA||!e||typeof e!="object")return!1;try{AA.call(e);try{TA.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function nSt(e){if(!Gw||!e||typeof e!="object")return!1;try{Gw.call(e,Gw);try{Ww.call(e,Ww)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function rSt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function bEe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return bEe(kU.call(e,0,t.maxStringLength),t)+r}var i=Ph.call(Ph.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,iSt);return gEe(i,"single",t)}function iSt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+BCt.call(t.toString(16))}function vx(e){return"Object("+e+")"}function a3(e){return e+" { ? }"}function Eee(e,t,n,r){var i=r?lL(n,r):pc.call(n,", ");return e+" ("+t+") {"+i+"}"}function aSt(e){for(var t=0;t<e.length;t++)if(vEe(e[t],`
`)>=0)return!1;return!0}function oSt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=pc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:pc.call(Array(t+1),n)}}function lL(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+pc.call(e,","+n)+`
`+t.prev}function M2(e,t){var n=sL(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=hh(e,i)?t(e[i],e):""}var a=typeof i3=="function"?i3(e):[],o;if(Qy){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)hh(e,l)&&(n&&String(Number(l))===l&&l<e.length||Qy&&o["$"+l]instanceof Symbol||(pEe.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof i3=="function")for(var c=0;c<a.length;c++)mEe.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}const V1=Fe(zCt),uL="__experimental_actions",xEe=["create","update","delete","publish"],o3=xEe,sSt=e=>uL in e?e[uL]:xEe,lSt=(e,t)=>{if(!Array.isArray(t))throw new Error(`The value of <type>.${uL} should be an array with any of the actions ${o3.join(", ")}`);const n=Dg(t,o3);if(n.length>0)throw new Error(`Invalid action${n.length>1?"s":""} configured for schema type "${e}": ${n.join(", ")}. Valid actions are: ${o3.join(", ")}`);return t},uSt=e=>lSt(e.name,sSt(e)),kee=(e,t)=>uSt(e).includes(t),Et={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function wEe(e,t,n){if(n&&!Object.keys(Et).some(r=>Et[r]===n))throw new Error(`Used the unknown helpId "${n}", please add it to the array in createValidationResult.js`);return{severity:e,message:t,helpId:n}}const ze=(e,t)=>wEe("error",e,t),Ti=(e,t)=>wEe("warning",e,t);function cSt(e){return pr(e.map(t=>CEe(t))).filter(t=>t.problems.length>0)}function b0(e,t=n=>ir(n,e)){return function(n,r){const i=[...r,{kind:"type",type:n.type,name:n.name}],a=t(n)||[],o=Array.isArray(a)?a.map(s=>{const l={kind:"property",name:e},c=[...i,l];return CEe(s,c)}):[[{path:i,problems:[ze(`Member declaration (${e}) is not an array`)]}]];return[{path:i,problems:n._problems||[]},...pr(o)]}}const dSt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],_ee=b0("fields"),fSt=b0("fields"),hSt=b0("fields"),pSt=b0("of"),mSt=b0("to",e=>"to"in e?dSt(e.to):[]),gSt=b0("marks.annotations"),ySt=b0("of"),vSt=(e,t)=>[...gSt(e,t),...ySt(e,t)];function bSt(e,t=[]){return[{path:[...t,{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function CEe(e,t=[]){switch(e.type){case"object":return _ee(e,t);case"document":return _ee(e,t);case"array":return pSt(e,t);case"reference":return mSt(e,t);case"block":return vSt(e,t);case"image":return fSt(e,t);case"file":return hSt(e,t);default:return bSt(e,t)}}function lM(e,t=n=>n){const n=e.reduce((r,i)=>{const a=t(i);return r[a]||(r[a]=[]),r[a].push(i),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const xSt=e=>e,wSt={name:"type",type:null},CSt=["any","time","date"];function SSt(e=[],t=[],n=xSt){const r=Object.create(null),i=Object.create(null),a=t.map(g=>g.name),o=CSt.concat(a),s=e.map(g=>g&&g.name).filter(Boolean);t.forEach(g=>{r[g.name]=g}),e.forEach((g,y)=>{i[g&&g.name||`__unnamed_${y}`]={}});function l(g){return g==="type"?wSt:r[g]||i[g]||null}const c=Sa(pr(lM(s)));function d(g){return c.includes(g)}function h(){return s.concat(a)}function p(g){return g==="type"||o.includes(g)}const m=g=>(y,v)=>n(y,{visit:m(!1),isRoot:g,getType:l,getTypeNames:h,isReserved:p,isDuplicate:d,index:v});return t.forEach(g=>{Object.assign(r[g.name],m(g))}),e.forEach((g,y)=>{Object.assign(i[g&&g.name||`__unnamed_${y}`],m(!0)(g,y))}),{get(g){const y=i[g]||r[g];if(y)return y;throw new Error(`No such type: ${g}`)},has(g){return g in i||g in r},getTypeNames(){return Object.keys(i)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const SEe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],EEe=SEe.map(e=>e.name);function ESt(e,t){return SSt(e,SEe,t)}function Tee(e){return e==="string"||e==="number"||e==="boolean"}function kSt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function Yw(e){return`"${e}"`}function Aee(e,t="s"){return e.length===1?"":t}function jee(e){return Array.isArray(e)?`array with ${e.length} entries`:typeof e=="object"&&e!==null?`object with keys ${Tu(Object.keys(e).map(Yw))}`:Yw(e)}var _St=(e,t)=>{var d,h,p;const n=Array.isArray(e.of);if(n){const m=e.of.reduce((g,y,v)=>{if(typeof y.name=="string"&&y.name!==y.type&&EEe.includes(y.name))return g.concat(ze(`Found array member declaration with the same type name as a built-in type ("${y.name}"). Array members can not be given the same name as a built-in type.`,Et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Ti(`Found array member declaration with the same name as the global schema type "${y.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,Et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(ze('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',Et.ARRAY_OF_ARRAY));if(y)return g;const b=`Found ${y===null?"null":typeof y}, expected member declaration`;return g.concat(ze(`Found invalid type member declaration in array at index ${v}: ${b}`,Et.ARRAY_OF_INVALID))},[]);if(m.length>0)return{...e,of:[],_problems:m}}const r=pr([n?lM(e.of,m=>`${m.name};${m.type}`).map(m=>ze(`Found ${m.length} members with same type, but not unique names "${m[0].type}" in array. This makes it impossible to tell their values apart and you should consider naming them`,Et.ARRAY_OF_NOT_UNIQUE)):ze('The array type is missing or having an invalid value for the required "of" property',Et.ARRAY_OF_INVALID)]),i=n?e.of:[],a=i.some(m=>m.type==="object"&&typeof m.name>"u");i.some(m=>m.type==="block")&&a&&r.push(ze("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",Et.ARRAY_OF_INVALID));const[o,s]=oM(i,m=>{var g;return Tee(m.type)||Tee((g=t.getType(m.type))==null?void 0:g.jsonType)}),l=o.length>0&&s.length>0;if(l){const m=o.map(y=>y.type),g=s.map(y=>y.type);r.push(ze(`The array type's 'of' property can't have both object types and primitive types (found primitive type ${Aee(m)} ${Tu(m.map(Yw))} and object type${Aee(g)} ${Tu(g.map(Yw))})`,Et.ARRAY_OF_INVALID))}const c=(d=e==null?void 0:e.options)==null?void 0:d.list;return!l&&Array.isArray(c)&&(o.length>0?c.forEach(m=>{const g=(m==null?void 0:m.value)??m;if(!o.some(y=>typeof g===t.getType(y.type).jsonType)){const y=Tu(o.map(v=>v.name||v.type),{conjunction:"or"});r.push(ze(`An invalid entry found in options.list: ${jee(g)}. Must be either a value of type ${y}, or an object with {title: string, value: ${y}}`,Et.ARRAY_PREDEFINED_CHOICES_INVALID))}}):c.forEach(m=>{const g=m._type||"object";s.some(y=>kSt(g,y))||r.push(ze(`An invalid entry found in options.list: ${jee(m)}. Must be an object with "_type" set to ${Tu(s.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":Yw(y)),{conjunction:"or"})}`,Et.ARRAY_PREDEFINED_CHOICES_INVALID))})),(h=e==null?void 0:e.options)!=null&&h.list&&((p=e==null?void 0:e.options)==null?void 0:p.layout)==="tags"&&r.push(Ti("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:i.map(t.visit),_problems:r}};function kEe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error(`Could not resolve jsonType of ${e.name}. No parent type found`);return kEe(r,t,n)}const Ks=e=>Array.isArray(e)?"array":typeof e,RE=e=>`"${e}"`,TSt=["components","lists","marks","name","of","options","styles","title","type","validation"],ASt=["decorators","annotations"],jSt=["blockEditor","title","value","icon","component"],ISt=["blockEditor","title","value","icon","component"],DSt=["title","value","icon","component"],Iee=["file","image","object","reference"];function MSt(e,t){const n=[];let r=e.styles,i=e.lists,a=e.marks,o=e.of;const s=Object.keys(e).filter(l=>!TSt.includes(l)&&!l.startsWith("_"));return s.length>0&&n.push(ze(`Found unknown properties for block declaration: ${Tu(s.map(RE))}`)),a&&(a=RSt(e.marks,t,n)),r&&(r=$St(r,t,n)),i&&(i=OSt(i,t,n)),o&&(o=NSt(o,t,n)),{...Qa(e,s),marks:a,styles:r,name:e.name||e.type,of:o,_problems:n}}function RSt(e,t,n){let r=e.decorators,i=e.annotations;if(!mr(e))return n.push(ze(`"marks" declaration should be an object, got ${Ks(e)}`)),n;const a=Object.keys(e).filter(o=>!ASt.includes(o)&&!o.startsWith("_"));return a.length>0&&n.push(ze(`Found unknown properties for block declaration: ${Tu(a.map(RE))}`)),r&&!Array.isArray(r)?n.push(ze(`"marks.decorators" declaration should be an array, got ${Ks(r)}`)):r&&(r.filter(o=>!!o.blockEditor).forEach(o=>{o.icon=o.blockEditor.icon,o.component=o.blockEditor.render}),r=PSt(r,t,n)),i&&!Array.isArray(i)?n.push(ze(`"marks.annotations" declaration should be an array, got ${Ks(i)}`)):i&&(i=FSt(i,t,n)),{...e,decorators:r,annotations:i}}function OSt(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!mr(r)){n.push(ze(`List must be an object, got ${Ks(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!DSt.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(ze(`Found unknown properties for list ${a}: ${Tu(o.map(RE))}`)),r.value?typeof r.value!="string"?n.push(ze(`List type #${i} has an invalid "value" property, expected string, got ${Ks(r.value)}`)):r.title||n.push(Ti(`List type ${a} is missing recommended "title" property`)):n.push(ze(`List #${i} is missing required "value" property`))}),e):(n.push(ze(`"lists" declaration should be an array, got ${Ks(e)}`)),n)}function $St(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!mr(r)){n.push(ze(`Style must be an object, got ${Ks(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!jSt.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(ze(`Found unknown properties for style ${a}: ${Tu(o.map(RE))}`)),r.value?typeof r.value!="string"?n.push(ze(`Style #${i} has an invalid "value" property, expected string, got ${Ks(r.value)}`)):r.title||n.push(Ti(`Style ${a} is missing recommended "title" property`)):n.push(ze(`Style #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Ti('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',Et.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(ze(`"styles" declaration should be an array, got ${Ks(e)}`)),n)}function PSt(e,t,n){return e.forEach((r,i)=>{if(!mr(r)){n.push(ze(`Annotation must be an object, got ${Ks(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!ISt.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(ze(`Found unknown properties for decorator ${a}: ${Tu(o.map(RE))}`)),r.value?typeof r.value!="string"?n.push(ze(`Decorator #${i} has an invalid "value" property, expected string, got ${Ks(r.value)}`)):r.title||n.push(Ti(`Decorator ${a} is missing recommended "title" property`)):n.push(ze(`Decorator #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Ti(`Decorator "${a}" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.`,Et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function FSt(e,t,n){return e.map(r=>{var o,s;if(!mr(r))return{...r,_problems:[ze(`Annotation must be an object, got ${Ks(r)}`)]};const{_problems:i}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!kEe(a,"object",t)&&i.push(ze(`Annotation cannot have type "${r.type}" - annotation types must inherit from object`)),typeof r.blockEditor<"u"&&(n.push(Ti('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',Et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((s=r.components)!=null&&s.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:i}})}function NSt(e,t,n){if(!Array.isArray(e)){n.push(ze(`"of" declaration should be an array, got ${Ks(e)}`));return}return e.map(r=>{const{_problems:i}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Ti(`Found array member declaration with the same name as the global schema type "${r.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,Et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let a=r;for(;a&&!a.jsonType;)a=t.getType(a.type);const o=EEe.filter(s=>!Iee.includes(s));return a&&a.jsonType!=="object"||o.some(s=>s===r.type)?{...r,_problems:[ze(`Block member types must be a supported object-like type. The following built-in types are supported: '${Iee.join("', '")}'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}`,Et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:i}})}function LSt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[ze('Type has propery "fields", but is not an object/document type.')]:[]}const BSt=e=>`"${e}"`;function VSt(e,t){const n=t.getTypeNames();if(!e)return[ze("Type is missing a type.",Et.TYPE_MISSING_TYPE)];if(typeof e!="string")return[ze('Type has an invalid "type"-property - should be a string.',Et.TYPE_MISSING_TYPE)];if(!n.includes(e)){const r=n.map(a=>[jCt(e,a),a]).filter(([a])=>a<3).map(([a,o])=>o),i=r.length>0?` Did you mean ${Tu(r.map(BSt),{conjunction:"or"})}?`:"";return[ze(`Unknown type: ${e}.${i}`)]}return[]}function zSt(e){var n,r,i;const t=[];return e!=null&&e.inputComponent&&t.push(Ti('The "inputComponent" property is deprecated. Use "components.input" instead.')),(n=e==null?void 0:e.preview)!=null&&n.component&&t.push(Ti('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&t.push(Ti('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(r=e==null?void 0:e.options)!=null&&r.editModal&&t.push(Ti('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(i=e==null?void 0:e.options)!=null&&i.isHighlighted&&t.push(Ti('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),t}var Dee=(e,t)=>({...e,_problems:[...VSt(e.type,t),...LSt(e,t),...zSt(e)].filter(Boolean)});function USt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const HSt=/^[a-z0-9~][-_a-z0-9]+$/;function WSt(e){return e.length>=2&&e.toLowerCase()===e&&HSt.test(e)||`The provided dataset "${e}" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`}var GSt=(e,t)=>{const n=Array.isArray(e.to)||mr(e.to),r=USt(e),i=pr([n?lM(r,a=>`${a.name};${a.type}`).map(a=>ze(`Found ${a.length} members with same type, but not unique names "${a[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,Et.CROSS_DATASET_REFERENCE_INVALID)):ze('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',Et.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&i.push(ze('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',Et.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((a,o)=>{a.type||i.push(ze(`The referenced type at index ${o} must be named. Specify the name of the type you want to create references to.`,Et.CROSS_DATASET_REFERENCE_INVALID)),mr(a.preview)||i.push(ze(`Missing required preview config for the referenced type "${a.type||"<unknown type>"}"`,Et.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const a=WSt(e.dataset);a!==!0&&i.push(ze(a,Et.CROSS_DATASET_REFERENCE_INVALID))}else i.push(ze("A cross dataset reference must specify a `dataset`",Et.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&i.push(ze('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',Et.CROSS_DATASET_REFERENCE_INVALID)),i.push(...YSt(e)),{...e,_problems:i}};function YSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>ze(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,Et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?mr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(ze("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",Et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(ze(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!mr(t.filterParams)?n.concat(ze("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>ze(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(ze("The reference type expects `options` to be an object",Et.REFERENCE_INVALID_OPTIONS)):n}const qSt=/^Symbol\(react\..+\)$/;function R2(e){return typeof e=="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&qSt.test(String(e==null?void 0:e.$$typeof))}function _Ee(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!R2(t.input)&&n.push(Ti(`The \`components.input\` property is set but does not appear to be a valid React component (expected a function, but saw ${V1(t.input)}). If you have imported a custom input component, please verify that you have imported the correct named/default export.`)),t.field&&!R2(t.field)&&n.push(Ti(`The \`components.field\` property is set but does not appear to be a valid React component (expected a function, but saw ${V1(t.field)}). If you have imported a custom field component, please verify that you have imported the correct named/default export.`)),t.item&&!R2(t.item)&&n.push(Ti(`The \`components.item\` property is set but does not appear to be a valid React component (expected a function, but saw ${V1(t.item)}). If you have imported a custom item component, please verify that you have imported the correct named/default export.`)),t.preview&&!R2(t.preview)&&n.push(Ti(`The \`components.preview\` property is set but does not appear to be a valid React component (expected a function, but saw ${V1(t.preview)}). If you have imported a custom preview component, please verify that you have imported the correct named/default export.`)),n}const Mee=/^[A-Za-z]+[0-9A-Za-z_]*$/,KSt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function ZSt(e){return typeof e!="string"?[ze(`Field names must be strings. Saw "${V1(e)}"`,Et.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[ze(`Invalid field name "${e}". Field names cannot start with underscores "_" as it's reserved for system fields.`,Et.OBJECT_FIELD_NAME_INVALID)]:Mee.test(e)?KSt.test(e)?[]:[Ti("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),Et.OBJECT_FIELD_NAME_INVALID]:[ze(`Invalid field name: "${e}". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ${String(Mee)}).`,Et.OBJECT_FIELD_NAME_INVALID)]}function _U(e,t){if(!mr(e))return[ze(`Incorrect type for field definition - should be an object, saw ${V1(e)}`,Et.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?ZSt(e.name):[ze("Missing field name",Et.OBJECT_FIELD_NAME_INVALID)]),n.push(..._Ee(e)),n}function XSt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function TU(e,t={allowEmpty:!1}){const n=[];if(!Array.isArray(e))return[ze(`The "fields" property must be an array of fields. Instead saw "${typeof e}"`,Et.OBJECT_FIELDS_INVALID)];const r=e.filter(a=>typeof a.name=="string");XSt(r).forEach(a=>{n.push(ze(`Found ${a.length} fields with name "${a[0].name}" in object`,Et.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(ze("Object should have at least one field",Et.OBJECT_FIELDS_INVALID));const i=e.filter(a=>a.type==="block").map(a=>`"${a.name}"`);if(i.length>0){const a=i.join(", ");n.push(ze(`Invalid standalone block field(s) ${a}. Block content must be defined as an array of blocks`,Et.STANDALONE_BLOCK_TYPE))}return n}function JSt(e){return mr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[ze(`The "preview.prepare" property must be a function, instead saw "${typeof e.prepare}"`)]:e.select?mr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(ze(`The key "${n}" of "preview.select" must be a string, instead saw "${typeof e.select[n]}"`)),[]):[ze(`The "preview.select" property must be an object, instead saw "${typeof e.prepare}"`)]:[]:[ze(`The "preview" property must be an object, instead saw "${typeof e}"`)]}var TEe=(e,t)=>{let n=TU(e.fields),r=e.preview;if(r){const i=JSt(e.preview);n=n.concat(i),r=i.some(a=>a.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(ze('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((i,a)=>{const{name:o,...s}=i,{_problems:l,...c}=t.visit(s,a);return{name:o,...c,_problems:_U(i).concat(l||[])}}),_problems:n}},QSt=(e,t)=>{const n=TEe(e,t),{initialValue:r,initialValues:i}=n;return typeof r<"u"&&!mr(r)&&typeof r!="function"&&n._problems.push(ze('The "initialValue" property must be either a plain object or a function')),typeof i<"u"&&n._problems.push(ze('Found property "initialValues" - did you mean "initialValue"?')),n},eEt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...TU(r,{allowEmpty:!0}));const i=Array.isArray(r)?r==null?void 0:r.filter(a=>a.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(ze("Invalid type for file `metadata` field - must be an array of strings",Et.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(ze("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((a,o)=>{const{name:s,...l}=a,{_problems:c,...d}=t.visit(l,o);return{name:s,...d,_problems:_U(a).concat(c||[])}}),_problems:n}};const Ree=["dimensions","hasAlpha","isOpaque"];var tEt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...TU(r,{allowEmpty:!0}));let i=e.options;const a=i==null?void 0:i.metadata,o=Array.isArray(a)?a.filter(c=>Ree.includes(c)):[],s=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(c=>s.includes(c.name)):[];return typeof a<"u"&&!Array.isArray(a)?n.push(ze("Invalid type for image `metadata` field - must be an array of strings",Et.ASSET_METADATA_FIELD_INVALID)):o.length>0?(n.push(Ti(`Image \`metadata\` field contains superfluous properties (they are always included): ${o.join(", ")}`)),i={...i,metadata:a.filter(c=>!Ree.includes(c))}):l.length>0&&n.push(ze(`The names \`${s.join("`, `")}\` are invalid field names for type \`image\`.`)),{...e,options:i,fields:(Array.isArray(r)?r:[]).map((c,d)=>{const{name:h,...p}=c,{_problems:m,...g}=t.visit(p,d);return{name:h,...g,_problems:_U(c).concat(m||[])}}),_problems:n}};function nEt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var rEt=(e,t)=>{const n=Array.isArray(e.to)||mr(e.to),r=nEt(e),i=pr([n?lM(r,a=>`${a.name};${a.type}`).map(a=>ze(`Found ${a.length} members with same type, but not unique names "${a[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,Et.REFERENCE_TO_INVALID)):ze('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',Et.REFERENCE_TO_INVALID)]);return n&&r.length===0&&i.push(ze('The reference type should define at least one accepted type. Please check the "to" property.',Et.REFERENCE_TO_INVALID)),i.push(...iEt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:i}};function iEt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>ze(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,Et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?mr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(ze("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",Et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(ze(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!mr(t.filterParams)?n.concat(ze("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>ze(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(ze("The reference type expects `options` to be an object",Et.REFERENCE_INVALID_OPTIONS)):n}var aEt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[ze("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",Et.TYPE_INVALID)]};const r=[];return oEt(e)?r.push(ze("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",Et.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(ze(`Invalid type name: "${e.name}" is a reserved name.`,Et.TYPE_NAME_RESERVED)):r.push(ze("Missing type name",Et.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(ze(`Invalid type name: A type with name "${e.name}" is already defined in the schema.`)),r.push(..._Ee(e)),"title"in e&&typeof e.title!="string"&&r.push(Ti("Type title is not a string.",Et.TYPE_TITLE_INVALID)),{...e,_problems:r}};function oEt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}var sEt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Ti('Heads up! The "slugifyFn" option has been renamed to "slugify".',Et.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}};const lEt={array:_St,object:TEe,slug:sEt,file:eEt,image:tEt,block:MSt,document:QSt,reference:rEt,crossDatasetReference:GSt},uEt=e=>t=>({name:`<unnamed_type_@_index_${e.index}>`,...t,_problems:[]});function Oee(...e){return(t,n)=>e.reduce((r,i)=>{const a=i(r,n);return{...a,_problems:r._problems.concat(a._problems)}},{_problems:[],...t})}function cEt(e){return ESt(e,(t,n)=>{const r=t&&t.type&&lEt[t.type]||uEt(n);return n.isRoot?Oee(aEt,Dee,r)(t,n):Oee(Dee,r)(t,n)})}function dEt(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}var fEt=dEt;const uM=Fe(fEt);function hEt(){}var AU=hEt,pEt=vU,mEt=AU;function jA(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}jA.prototype=pEt(mEt.prototype);jA.prototype.constructor=jA;var jU=jA,$ee=Cxe,gEt=$ee&&new $ee,yEt=gEt,Pee=yEt,vEt=nU,bEt=Pee?function(e){return Pee.get(e)}:vEt,AEe=bEt,xEt={},wEt=xEt,Fee=wEt,CEt=Object.prototype,SEt=CEt.hasOwnProperty;function EEt(e){for(var t=e.name+"",n=Fee[t],r=SEt.call(Fee,t)?n.length:0;r--;){var i=n[r],a=i.func;if(a==null||a==e)return i.name}return t}var jEe=EEt,kEt=vU,_Et=AU,TEt=4294967295;function IA(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=TEt,this.__views__=[]}IA.prototype=kEt(_Et.prototype);IA.prototype.constructor=IA;var IU=IA,AEt=IU,jEt=jU,IEt=mU;function DEt(e){if(e instanceof AEt)return e.clone();var t=new jEt(e.__wrapped__,e.__chain__);return t.__actions__=IEt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var MEt=DEt,REt=IU,Nee=jU,OEt=AU,$Et=Yi,PEt=il,FEt=MEt,NEt=Object.prototype,LEt=NEt.hasOwnProperty;function DA(e){if(PEt(e)&&!$Et(e)&&!(e instanceof REt)){if(e instanceof Nee)return e;if(LEt.call(e,"__wrapped__"))return FEt(e)}return new Nee(e)}DA.prototype=OEt.prototype;DA.prototype.constructor=DA;var BEt=DA,VEt=IU,zEt=AEe,UEt=jEe,HEt=BEt;function WEt(e){var t=UEt(e),n=HEt[t];if(typeof n!="function"||!(t in VEt.prototype))return!1;if(e===n)return!0;var r=zEt(n);return!!r&&e===r[0]}var GEt=WEt,Lee=jU,YEt=wU,qEt=AEe,s3=jEe,KEt=Yi,Bee=GEt,ZEt="Expected a function",XEt=8,JEt=32,QEt=128,ekt=256;function tkt(e){return YEt(function(t){var n=t.length,r=n,i=Lee.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if(typeof a!="function")throw new TypeError(ZEt);if(i&&!o&&s3(a)=="wrapper")var o=new Lee([],!0)}for(r=o?r:n;++r<n;){a=t[r];var s=s3(a),l=s=="wrapper"?qEt(a):void 0;l&&Bee(l[0])&&l[1]==(QEt|XEt|JEt|ekt)&&!l[4].length&&l[9]==1?o=o[s3(l[0])].apply(o,l[3]):o=a.length==1&&Bee(a)?o[s]():o.thru(a)}return function(){var c=arguments,d=c[0];if(o&&c.length==1&&KEt(d))return o.plant(d).value();for(var h=0,p=n?t[h].apply(this,c):d;++h<n;)p=t[h].call(this,p);return p}})}var nkt=tkt,rkt=nkt,ikt=rkt(),akt=ikt;const okt=Fe(akt);var skt=iu;function lkt(e){return skt(e).toLowerCase()}var ukt=lkt;const fy=Fe(ukt);var ckt=fEe;function dkt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:ckt(e,t,n)}var IEe=dkt,fkt=Qz;function hkt(e,t){for(var n=e.length;n--&&fkt(t,e[n],0)>-1;);return n}var pkt=hkt,mkt=Qz;function gkt(e,t){for(var n=-1,r=e.length;++n<r&&mkt(t,e[n],0)>-1;);return n}var ykt=gkt;function vkt(e){return e.split("")}var bkt=vkt,xkt="\\ud800-\\udfff",wkt="\\u0300-\\u036f",Ckt="\\ufe20-\\ufe2f",Skt="\\u20d0-\\u20ff",Ekt=wkt+Ckt+Skt,kkt="\\ufe0e\\ufe0f",_kt="\\u200d",Tkt=RegExp("["+_kt+xkt+Ekt+kkt+"]");function Akt(e){return Tkt.test(e)}var DEe=Akt,MEe="\\ud800-\\udfff",jkt="\\u0300-\\u036f",Ikt="\\ufe20-\\ufe2f",Dkt="\\u20d0-\\u20ff",Mkt=jkt+Ikt+Dkt,Rkt="\\ufe0e\\ufe0f",Okt="["+MEe+"]",cL="["+Mkt+"]",dL="\\ud83c[\\udffb-\\udfff]",$kt="(?:"+cL+"|"+dL+")",REe="[^"+MEe+"]",OEe="(?:\\ud83c[\\udde6-\\uddff]){2}",$Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Pkt="\\u200d",PEe=$kt+"?",FEe="["+Rkt+"]?",Fkt="(?:"+Pkt+"(?:"+[REe,OEe,$Ee].join("|")+")"+FEe+PEe+")*",Nkt=FEe+PEe+Fkt,Lkt="(?:"+[REe+cL+"?",cL,OEe,$Ee,Okt].join("|")+")",Bkt=RegExp(dL+"(?="+dL+")|"+Lkt+Nkt,"g");function Vkt(e){return e.match(Bkt)||[]}var zkt=Vkt,Ukt=bkt,Hkt=DEe,Wkt=zkt;function Gkt(e){return Hkt(e)?Wkt(e):Ukt(e)}var NEe=Gkt,Ykt=cxe,qkt=Khe,Kkt=IEe,Zkt=pkt,Xkt=ykt,Vee=NEe,Jkt=iu;function Qkt(e,t,n){if(e=Jkt(e),e&&(n||t===void 0))return qkt(e);if(!e||!(t=Ykt(t)))return e;var r=Vee(e),i=Vee(t),a=Xkt(r,i),o=Zkt(r,i)+1;return Kkt(r,a,o).join("")}var e2t=Qkt;const t2t=Fe(e2t);var n2t=Zv,r2t=h0,i2t=nM,a2t=iM,o2t=r2t(function(e){return i2t(n2t(e,1,a2t,!0))}),s2t=o2t;const LEe=Fe(s2t);var l2t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function u2t(e){return e.match(l2t)||[]}var c2t=u2t,d2t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function f2t(e){return d2t.test(e)}var h2t=f2t,BEe="\\ud800-\\udfff",p2t="\\u0300-\\u036f",m2t="\\ufe20-\\ufe2f",g2t="\\u20d0-\\u20ff",y2t=p2t+m2t+g2t,VEe="\\u2700-\\u27bf",zEe="a-z\\xdf-\\xf6\\xf8-\\xff",v2t="\\xac\\xb1\\xd7\\xf7",b2t="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",x2t="\\u2000-\\u206f",w2t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",UEe="A-Z\\xc0-\\xd6\\xd8-\\xde",C2t="\\ufe0e\\ufe0f",HEe=v2t+b2t+x2t+w2t,WEe="[']",zee="["+HEe+"]",S2t="["+y2t+"]",GEe="\\d+",E2t="["+VEe+"]",YEe="["+zEe+"]",qEe="[^"+BEe+HEe+GEe+VEe+zEe+UEe+"]",k2t="\\ud83c[\\udffb-\\udfff]",_2t="(?:"+S2t+"|"+k2t+")",T2t="[^"+BEe+"]",KEe="(?:\\ud83c[\\udde6-\\uddff]){2}",ZEe="[\\ud800-\\udbff][\\udc00-\\udfff]",c1="["+UEe+"]",A2t="\\u200d",Uee="(?:"+YEe+"|"+qEe+")",j2t="(?:"+c1+"|"+qEe+")",Hee="(?:"+WEe+"(?:d|ll|m|re|s|t|ve))?",Wee="(?:"+WEe+"(?:D|LL|M|RE|S|T|VE))?",XEe=_2t+"?",JEe="["+C2t+"]?",I2t="(?:"+A2t+"(?:"+[T2t,KEe,ZEe].join("|")+")"+JEe+XEe+")*",D2t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",M2t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",R2t=JEe+XEe+I2t,O2t="(?:"+[E2t,KEe,ZEe].join("|")+")"+R2t,$2t=RegExp([c1+"?"+YEe+"+"+Hee+"(?="+[zee,c1,"$"].join("|")+")",j2t+"+"+Wee+"(?="+[zee,c1+Uee,"$"].join("|")+")",c1+"?"+Uee+"+"+Hee,c1+"+"+Wee,M2t,D2t,GEe,O2t].join("|"),"g");function P2t(e){return e.match($2t)||[]}var F2t=P2t,N2t=c2t,L2t=h2t,B2t=iu,V2t=F2t;function z2t(e,t,n){return e=B2t(e),t=n?void 0:t,t===void 0?L2t(e)?V2t(e):N2t(e):e.match(t)||[]}var QEe=z2t;const eke=Fe(QEe);function DU(e){const t=typeof window<"u"&&"crypto"in window?window.crypto:globalThis.crypto;if(!t||!t.getRandomValues)throw new Error("WebCrypto not available in this environment");return t.getRandomValues(e)}var tke=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function U2t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&tke(e,t)&&!MU(e[t]))return!1;return!0}function H2t(e){for(let t=0;t<e.length;t++)if(!MU(e[t]))return!1;return!0}function MU(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?H2t(e):t==="object"?U2t(e):!1}function W2t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&tke(e,t)&&e[t]!==void 0)return!1;return!0}const G2t=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function Y2t(e=16){const t=new Uint8Array(e);return DU(t),t}function OE(e){const t=G2t();return Y2t(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const q2t=Object.prototype.toString;function K2t(e){switch(q2t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Cs(e){const t=K2t(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var Z2t=jD,X2t=eU,J2t=tU,Q2t=Gu,e5t=nb,Gee=ID,t5t=Math.min;function n5t(e,t,n){for(var r=n?J2t:X2t,i=e[0].length,a=e.length,o=a,s=Array(a),l=1/0,c=[];o--;){var d=e[o];o&&t&&(d=Q2t(d,e5t(t))),l=t5t(d.length,l),s[o]=!n&&(t||i>=120&&d.length>=120)?new Z2t(o&&d):void 0}d=e[0];var h=-1,p=s[0];e:for(;++h<i&&c.length<l;){var m=d[h],g=t?t(m):m;if(m=n||m!==0?m:0,!(p?Gee(p,g):r(c,g,n))){for(o=a;--o;){var y=s[o];if(!(y?Gee(y,g):r(e[o],g,n)))continue e}p&&p.push(g),c.push(m)}}return c}var r5t=n5t,i5t=iM;function a5t(e){return i5t(e)?e:[]}var o5t=a5t,s5t=Gu,l5t=r5t,u5t=h0,c5t=o5t,d5t=u5t(function(e){var t=s5t(e,c5t);return t.length&&t[0]===e[0]?l5t(t):[]}),f5t=d5t;const MA=Fe(f5t);var h5t=bxe,p5t=ib,m5t=SD,g5t=Yi,y5t=Np,v5t=DD,b5t=RD,x5t=JV,w5t="[object Map]",C5t="[object Set]",S5t=Object.prototype,E5t=S5t.hasOwnProperty;function k5t(e){if(e==null)return!0;if(y5t(e)&&(g5t(e)||typeof e=="string"||typeof e.splice=="function"||v5t(e)||x5t(e)||m5t(e)))return!e.length;var t=p5t(e);if(t==w5t||t==C5t)return!e.size;if(b5t(e))return!h5t(e).length;for(var n in e)if(E5t.call(e,n))return!1;return!0}var _5t=k5t;const T5t=Fe(_5t);function A5t(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}var j5t=A5t;function I5t(e){return function(t){return e==null?void 0:e[t]}}var nke=I5t,D5t=nke,M5t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},R5t=D5t(M5t),O5t=R5t,$5t=O5t,P5t=iu,F5t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,N5t="\\u0300-\\u036f",L5t="\\ufe20-\\ufe2f",B5t="\\u20d0-\\u20ff",V5t=N5t+L5t+B5t,z5t="["+V5t+"]",U5t=RegExp(z5t,"g");function H5t(e){return e=P5t(e),e&&e.replace(F5t,$5t).replace(U5t,"")}var rke=H5t;const ev=Fe(rke);var W5t=j5t,G5t=rke,Y5t=QEe,q5t="[']",K5t=RegExp(q5t,"g");function Z5t(e){return function(t){return W5t(Y5t(G5t(t).replace(K5t,"")),e,"")}}var RU=Z5t,X5t=IEe,J5t=DEe,Q5t=NEe,e_t=iu;function t_t(e){return function(t){t=e_t(t);var n=J5t(t)?Q5t(t):void 0,r=n?n[0]:t.charAt(0),i=n?X5t(n,1).join(""):t.slice(1);return r[e]()+i}}var n_t=t_t,r_t=n_t,i_t=r_t("toUpperCase"),OU=i_t;const ike=Fe(OU);var a_t=RU,o_t=OU,s_t=a_t(function(e,t,n){return e+(n?" ":"")+o_t(t)}),l_t=s_t;const Vn=Fe(l_t);var u_t=iu,c_t=OU;function d_t(e){return c_t(u_t(e).toLowerCase())}var ake=d_t;const x0=Fe(ake);function f_t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const cM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $U(e){return"nodeType"in e}function As(e){var t,n;return e?hb(e)?e:$U(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function PU(e){const{Document:t}=As(e);return e instanceof t}function $E(e){return hb(e)?!1:e instanceof As(e).HTMLElement}function oke(e){return e instanceof As(e).SVGElement}function pb(e){return e?hb(e)?e.document:$U(e)?PU(e)?e:$E(e)||oke(e)?e.ownerDocument:document:document:document}const Hu=cM?f.useLayoutEffect:f.useEffect;function FU(e){const t=f.useRef(e);return Hu(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function h_t(){const e=f.useRef(null),t=f.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ZC(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return Hu(()=>{n.current!==e&&(n.current=e)},t),n}function PE(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function RA(e){const t=FU(e),n=f.useRef(null),r=f.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function fL(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let l3={};function FE(e,t){return f.useMemo(()=>{if(t)return t;const n=l3[e]==null?0:l3[e]+1;return l3[e]=n,e+"-"+n},[e,t])}function ske(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const d=a[l];d!=null&&(a[l]=d+e*c)}return a},{...t})}}const hy=ske(1),XC=ske(-1);function p_t(e){return"clientX"in e&&"clientY"in e}function NU(e){if(!e)return!1;const{KeyboardEvent:t}=As(e.target);return t&&e instanceof t}function m_t(e){if(!e)return!1;const{TouchEvent:t}=As(e.target);return t&&e instanceof t}function hL(e){if(m_t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return p_t(e)?{x:e.clientX,y:e.clientY}:null}const JC=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[JC.Translate.toString(e),JC.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Yee="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function g_t(e){return e.matches(Yee)?e:e.querySelector(Yee)}const y_t={display:"none"};function v_t(e){let{id:t,value:n}=e;return Xe.createElement("div",{id:t,style:y_t},n)}function b_t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xe.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function x_t(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const lke=f.createContext(null);function w_t(e){const t=f.useContext(lke);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function C_t(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const S_t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E_t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function k_t(e){let{announcements:t=E_t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=S_t}=e;const{announce:a,announcement:o}=x_t(),s=FE("DndLiveRegion"),[l,c]=f.useState(!1);if(f.useEffect(()=>{c(!0)},[]),w_t(f.useMemo(()=>({onDragStart(h){let{active:p}=h;a(t.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;a(t.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;a(t.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!l)return null;const d=Xe.createElement(Xe.Fragment,null,Xe.createElement(v_t,{id:r,value:i.draggable}),Xe.createElement(b_t,{id:s,announcement:o}));return n?xc.createPortal(d,n):d}var ma;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ma||(ma={}));function OA(){}function qee(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function __t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Wu=Object.freeze({x:0,y:0});function uke(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cke(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function T_t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Kee(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function dke(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Zee(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const A_t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Zee(t,t.left,t.top),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=uke(Zee(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(cke)},j_t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Kee(t),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=Kee(l),d=i.reduce((p,m,g)=>p+uke(c[g],m),0),h=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:h}})}}return a.sort(cke)};function I_t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const l=t.width*t.height,c=e.width*e.height,d=o*s,h=d/(l+c-d);return Number(h.toFixed(4))}return 0}const D_t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,s=n.get(o);if(s){const l=I_t(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(T_t)};function M_t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function fke(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wu}function R_t(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...n})}}const O_t=R_t(1);function $_t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function P_t(e,t,n){const r=$_t(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),c=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}const F_t={ignoreTransform:!1};function mb(e,t){t===void 0&&(t=F_t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=As(e).getComputedStyle(e);c&&(n=P_t(n,c,d))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function Xee(e){return mb(e,{ignoreTransform:!0})}function N_t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function L_t(e,t){return t===void 0&&(t=As(e).getComputedStyle(e)),t.position==="fixed"}function B_t(e,t){t===void 0&&(t=As(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function dM(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(PU(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!$E(i)||oke(i)||n.includes(i))return n;const a=As(e).getComputedStyle(i);return i!==e&&B_t(i,a)&&n.push(i),L_t(i,a)?n:r(i.parentNode)}return e?r(e):n}function hke(e){const[t]=dM(e,1);return t??null}function u3(e){return!cM||!e?null:hb(e)?e:$U(e)?PU(e)||e===pb(e).scrollingElement?window:$E(e)?e:null:null}function pke(e){return hb(e)?e.scrollX:e.scrollLeft}function mke(e){return hb(e)?e.scrollY:e.scrollTop}function pL(e){return{x:pke(e),y:mke(e)}}var Ra;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ra||(Ra={}));function gke(e){return!cM||!e?!1:e===document.scrollingElement}function yke(e){const t={x:0,y:0},n=gke(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:r,minScroll:t}}const V_t={x:.2,y:.2};function z_t(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=V_t);const{isTop:c,isBottom:d,isLeft:h,isRight:p}=yke(e),m={x:0,y:0},g={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+y.height?(m.y=Ra.Backward,g.y=r*Math.abs((t.top+y.height-a)/y.height)):!d&&l>=t.bottom-y.height&&(m.y=Ra.Forward,g.y=r*Math.abs((t.bottom-y.height-l)/y.height)),!p&&s>=t.right-y.width?(m.x=Ra.Forward,g.x=r*Math.abs((t.right-y.width-s)/y.width)):!h&&o<=t.left+y.width&&(m.x=Ra.Backward,g.x=r*Math.abs((t.left+y.width-o)/y.width)),{direction:m,speed:g}}function U_t(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function vke(e){return e.reduce((t,n)=>hy(t,pL(n)),Wu)}function H_t(e){return e.reduce((t,n)=>t+pke(n),0)}function W_t(e){return e.reduce((t,n)=>t+mke(n),0)}function G_t(e,t){if(t===void 0&&(t=mb),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);hke(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Y_t=[["x",["left","right"],H_t],["y",["top","bottom"],W_t]];let LU=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=dM(n),i=vke(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of Y_t)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(r),d=i[a]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class qw{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function q_t(e){const{EventTarget:t}=As(e);return e instanceof t?e:pb(e)}function c3(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Cl;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Cl||(Cl={}));function Jee(e){e.preventDefault()}function K_t(e){e.stopPropagation()}var Dn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Dn||(Dn={}));const bke={start:[Dn.Space,Dn.Enter],cancel:[Dn.Esc],end:[Dn.Space,Dn.Enter]},Z_t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Dn.Right:return{...n,x:n.x+25};case Dn.Left:return{...n,x:n.x-25};case Dn.Down:return{...n,y:n.y+25};case Dn.Up:return{...n,y:n.y-25}}};class BU{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new qw(pb(n)),this.windowListeners=new qw(As(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Cl.Resize,this.handleCancel),this.windowListeners.add(Cl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Cl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&G_t(r),n(Wu)}handleKeyDown(t){if(NU(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=bke,coordinateGetter:o=Z_t,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:Wu;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const p=XC(h,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const y of g){const v=t.code,{isTop:b,isRight:x,isLeft:w,isBottom:C,maxScroll:S,minScroll:E}=yke(y),k=U_t(y),_={x:Math.min(v===Dn.Right?k.right-k.width/2:k.right,Math.max(v===Dn.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(v===Dn.Down?k.bottom-k.height/2:k.bottom,Math.max(v===Dn.Down?k.top:k.top+k.height/2,h.y))},T=v===Dn.Right&&!x||v===Dn.Left&&!w,j=v===Dn.Down&&!C||v===Dn.Up&&!b;if(T&&_.x!==h.x){const A=y.scrollLeft+p.x,I=v===Dn.Right&&A<=S.x||v===Dn.Left&&A>=E.x;if(I&&!p.y){y.scrollTo({left:A,behavior:s});return}I?m.x=y.scrollLeft-A:m.x=v===Dn.Right?y.scrollLeft-S.x:y.scrollLeft-E.x,m.x&&y.scrollBy({left:-m.x,behavior:s});break}else if(j&&_.y!==h.y){const A=y.scrollTop+p.y,I=v===Dn.Down&&A<=S.y||v===Dn.Up&&A>=E.y;if(I&&!p.x){y.scrollTo({top:A,behavior:s});return}I?m.y=y.scrollTop-A:m.y=v===Dn.Down?y.scrollTop-S.y:y.scrollTop-E.y,m.y&&y.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,hy(XC(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}BU.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=bke,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Qee(e){return!!(e&&"distance"in e)}function ete(e){return!!(e&&"delay"in e)}class VU{constructor(t,n,r){var i;r===void 0&&(r=q_t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=pb(o),this.documentListeners=new qw(this.document),this.listeners=new qw(r),this.windowListeners=new qw(As(o)),this.initialCoordinates=(i=hL(a))!=null?i:Wu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Cl.Resize,this.handleCancel),this.windowListeners.add(Cl.DragStart,Jee),this.windowListeners.add(Cl.VisibilityChange,this.handleCancel),this.windowListeners.add(Cl.ContextMenu,Jee),this.documentListeners.add(Cl.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ete(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Qee(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Cl.Click,K_t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Cl.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(n=hL(t))!=null?n:Wu,c=XC(i,l);if(!r&&s){if(Qee(s)){if(s.tolerance!=null&&c3(c,s.tolerance))return this.handleCancel();if(c3(c,s.distance))return this.handleStart()}return ete(s)&&c3(c,s.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Dn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X_t={move:{name:"pointermove"},end:{name:"pointerup"}};class zU extends VU{constructor(t){const{event:n}=t,r=pb(n.target);super(t,X_t,r)}}zU.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const J_t={move:{name:"mousemove"},end:{name:"mouseup"}};var mL;(function(e){e[e.RightClick=2]="RightClick"})(mL||(mL={}));class Q_t extends VU{constructor(t){super(t,J_t,pb(t.event.target))}}Q_t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===mL.RightClick?!1:(r==null||r({event:n}),!0)}}];const d3={move:{name:"touchmove"},end:{name:"touchend"}};class eTt extends VU{constructor(t){super(t,d3)}static setup(){return window.addEventListener(d3.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(d3.move.name,t)};function t(){}}}eTt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Kw;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Kw||(Kw={}));var $A;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})($A||($A={}));function tTt(e){let{acceleration:t,activator:n=Kw.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=$A.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:p}=e;const m=rTt({delta:h,disabled:!a}),[g,y]=h_t(),v=f.useRef({x:0,y:0}),b=f.useRef({x:0,y:0}),x=f.useMemo(()=>{switch(n){case Kw.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Kw.DraggableRect:return i}},[n,i,l]),w=f.useRef(null),C=f.useCallback(()=>{const E=w.current;if(!E)return;const k=v.current.x*b.current.x,_=v.current.y*b.current.y;E.scrollBy(k,_)},[]),S=f.useMemo(()=>s===$A.TreeOrder?[...c].reverse():c,[s,c]);f.useEffect(()=>{if(!a||!c.length||!x){y();return}for(const E of S){if((r==null?void 0:r(E))===!1)continue;const k=c.indexOf(E),_=d[k];if(!_)continue;const{direction:T,speed:j}=z_t(E,_,x,t,p);for(const A of["x","y"])m[A][T[A]]||(j[A]=0,T[A]=0);if(j.x>0||j.y>0){y(),w.current=E,g(C,o),v.current=j,b.current=T;return}}v.current={x:0,y:0},b.current={x:0,y:0},y()},[t,C,r,y,a,o,JSON.stringify(x),JSON.stringify(m),g,c,S,d,JSON.stringify(p)])}const nTt={x:{[Ra.Backward]:!1,[Ra.Forward]:!1},y:{[Ra.Backward]:!1,[Ra.Forward]:!1}};function rTt(e){let{delta:t,disabled:n}=e;const r=fL(t);return PE(i=>{if(n||!r||!i)return nTt;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ra.Backward]:i.x[Ra.Backward]||a.x===-1,[Ra.Forward]:i.x[Ra.Forward]||a.x===1},y:{[Ra.Backward]:i.y[Ra.Backward]||a.y===-1,[Ra.Forward]:i.y[Ra.Forward]||a.y===1}}},[n,t,r])}function iTt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return PE(i=>{var a;return t===null?null:(a=r??i)!=null?a:null},[r,t])}function aTt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var QC;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(QC||(QC={}));var gL;(function(e){e.Optimized="optimized"})(gL||(gL={}));const tte=new Map;function oTt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=f.useState(null),{frequency:s,measure:l,strategy:c}=i,d=f.useRef(e),h=v(),p=ZC(h),m=f.useCallback(function(b){b===void 0&&(b=[]),!p.current&&o(x=>x===null?b:x.concat(b.filter(w=>!x.includes(w))))},[p]),g=f.useRef(null),y=PE(b=>{if(h&&!n)return tte;if(!b||b===tte||d.current!==e||a!=null){const x=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){x.set(w.id,w.rect.current);continue}const C=w.node.current,S=C?new LU(l(C),C):null;w.rect.current=S,S&&x.set(w.id,S)}return x}return b},[e,a,n,h,l]);return f.useEffect(()=>{d.current=e},[e]),f.useEffect(()=>{h||m()},[n,h]),f.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),f.useEffect(()=>{h||typeof s!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},s))},[s,h,m,...r]),{droppableRects:y,measureDroppableContainers:m,measuringScheduled:a!=null};function v(){switch(c){case QC.Always:return!1;case QC.BeforeDragging:return n;default:return!n}}}function xke(e,t){return PE(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function sTt(e,t){return xke(e,t)}function lTt(e){let{callback:t,disabled:n}=e;const r=FU(t),i=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fM(e){let{callback:t,disabled:n}=e;const r=FU(t),i=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function uTt(e){return new LU(mb(e),e)}function nte(e,t,n){t===void 0&&(t=uTt);const[r,i]=f.useReducer(s,null),a=lTt({callback(l){if(e)for(const c of l){const{type:d,target:h}=c;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),o=fM({callback:i});return Hu(()=>{i(),e?(o==null||o.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[e]),r;function s(l){if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function cTt(e){const t=xke(e);return fke(e,t)}const rte=[];function dTt(e){const t=f.useRef(e),n=PE(r=>e?r&&r!==rte&&e&&t.current&&e.parentNode===t.current.parentNode?r:dM(e):rte,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function fTt(e){const[t,n]=f.useState(null),r=f.useRef(e),i=f.useCallback(a=>{const o=u3(a.target);o&&n(s=>s?(s.set(o,pL(o)),new Map(s)):null)},[]);return f.useEffect(()=>{const a=r.current;if(e!==a){o(a);const s=e.map(l=>{const c=u3(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,pL(c)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=u3(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>hy(a,o),Wu):vke(e):Wu,[e,t])}function ite(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==Wu;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?XC(e,n.current):Wu}function hTt(e){f.useEffect(()=>{if(!cM)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function pTt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function wke(e){return f.useMemo(()=>e?N_t(e):null,[e])}const f3=[];function mTt(e,t){t===void 0&&(t=mb);const[n]=e,r=wke(n?As(n):null),[i,a]=f.useReducer(s,f3),o=fM({callback:a});return e.length>0&&i===f3&&a(),Hu(()=>{e.length?e.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),a())},[e]),i;function s(){return e.length?e.map(l=>gke(l)?r:new LU(t(l),l)):f3}}function gTt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return $E(t)?t:e}function yTt(e){let{measure:t}=e;const[n,r]=f.useState(null),i=f.useCallback(c=>{for(const{target:d}of c)if($E(d)){r(h=>{const p=t(d);return h?{...h,width:p.width,height:p.height}:p});break}},[t]),a=fM({callback:i}),o=f.useCallback(c=>{const d=gTt(c);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[s,l]=RA(o);return f.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const vTt=[{sensor:zU,options:{}},{sensor:BU,options:{}}],bTt={current:{}},I_={draggable:{measure:Xee},droppable:{measure:Xee,strategy:QC.WhileDragging,frequency:gL.Optimized},dragOverlay:{measure:mb}};class Zw extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const xTt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zw,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:OA},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:I_,measureDroppableContainers:OA,windowRect:null,measuringScheduled:!1},wTt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:OA,draggableNodes:new Map,over:null,measureDroppableContainers:OA},hM=f.createContext(wTt),Cke=f.createContext(xTt);function CTt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zw}}}function STt(e,t){switch(t.type){case ma.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ma.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case ma.DragEnd:case ma.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ma.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Zw(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ma.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Zw(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case ma.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Zw(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function ETt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=f.useContext(hM),a=fL(r),o=fL(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!NU(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const h=g_t(d);if(h){h.focus();break}}})}},[r,t,i,o,a]),null}function kTt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function _Tt(e){return f.useMemo(()=>({draggable:{...I_.draggable,...e==null?void 0:e.draggable},droppable:{...I_.droppable,...e==null?void 0:e.droppable},dragOverlay:{...I_.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function TTt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=f.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Hu(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),h=fke(d,r);if(o||(h.x=0),s||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=hke(c);p&&p.scrollBy({top:h.y,left:h.x})}},[t,o,s,r,n])}const Ske=f.createContext({...Wu,scaleX:1,scaleY:1});var ph;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ph||(ph={}));const ATt=f.memo(function(t){var n,r,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:d=vTt,collisionDetection:h=D_t,measuring:p,modifiers:m,...g}=t;const y=f.useReducer(STt,void 0,CTt),[v,b]=y,[x,w]=C_t(),[C,S]=f.useState(ph.Uninitialized),E=C===ph.Initialized,{draggable:{active:k,nodes:_,translate:T},droppable:{containers:j}}=v,A=k?_.get(k):null,I=f.useRef({initial:null,translated:null}),M=f.useMemo(()=>{var on;return k!=null?{id:k,data:(on=A==null?void 0:A.data)!=null?on:bTt,rect:I}:null},[k,A]),D=f.useRef(null),[O,R]=f.useState(null),[F,P]=f.useState(null),V=ZC(g,Object.values(g)),U=FE("DndDescribedBy",o),H=f.useMemo(()=>j.getEnabled(),[j]),W=_Tt(p),{droppableRects:Z,measureDroppableContainers:J,measuringScheduled:re}=oTt(H,{dragging:E,dependencies:[T.x,T.y],config:W.droppable}),G=iTt(_,k),te=f.useMemo(()=>F?hL(F):null,[F]),X=Ei(),K=sTt(G,W.draggable.measure);TTt({activeNode:k?_.get(k):null,config:X.layoutShiftCompensation,initialRect:K,measure:W.draggable.measure});const Q=nte(G,W.draggable.measure,K),ee=nte(G?G.parentElement:null),se=f.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=j.getNodeFor((n=se.current.over)==null?void 0:n.id),oe=yTt({measure:W.dragOverlay.measure}),ue=(r=oe.nodeRef.current)!=null?r:G,ye=E?(i=oe.rect)!=null?i:Q:null,Ee=!!(oe.nodeRef.current&&oe.rect),ke=cTt(Ee?null:Q),ge=wke(ue?As(ue):null),je=dTt(E?le??G:null),Ve=mTt(je),xe=kTt(m,{transform:{x:T.x-ke.x,y:T.y-ke.y,scaleX:1,scaleY:1},activatorEvent:F,active:M,activeNodeRect:Q,containerNodeRect:ee,draggingNodeRect:ye,over:se.current.over,overlayNodeRect:oe.rect,scrollableAncestors:je,scrollableAncestorRects:Ve,windowRect:ge}),me=te?hy(te,T):null,Se=fTt(je),ve=ite(Se),_e=ite(Se,[Q]),Ze=hy(xe,ve),Je=ye?O_t(ye,xe):null,ot=M&&Je?h({active:M,collisionRect:Je,droppableRects:Z,droppableContainers:H,pointerCoordinates:me}):null,$e=dke(ot,"id"),[Le,Oe]=f.useState(null),qe=Ee?xe:hy(xe,_e),nt=M_t(qe,(a=Le==null?void 0:Le.rect)!=null?a:null,Q),_t=f.useCallback((on,br)=>{let{sensor:Ke,options:Bt}=br;if(D.current==null)return;const jn=_.get(D.current);if(!jn)return;const Cn=on.nativeEvent,Ki=new Ke({active:D.current,activeNode:jn,event:Cn,options:Bt,context:se,onStart(ha){const so=D.current;if(so==null)return;const hl=_.get(so);if(!hl)return;const{onDragStart:Qp}=V.current,cd={active:{id:so,data:hl.data,rect:I}};xc.unstable_batchedUpdates(()=>{Qp==null||Qp(cd),S(ph.Initializing),b({type:ma.DragStart,initialCoordinates:ha,active:so}),x({type:"onDragStart",event:cd})})},onMove(ha){b({type:ma.DragMove,coordinates:ha})},onEnd:fa(ma.DragEnd),onCancel:fa(ma.DragCancel)});xc.unstable_batchedUpdates(()=>{R(Ki),P(on.nativeEvent)});function fa(ha){return async function(){const{active:hl,collisions:Qp,over:cd,scrollAdjustedTranslate:Yb}=se.current;let qf=null;if(hl&&Yb){const{cancelDrop:Kf}=V.current;qf={activatorEvent:Cn,active:hl,collisions:Qp,delta:Yb,over:cd},ha===ma.DragEnd&&typeof Kf=="function"&&await Promise.resolve(Kf(qf))&&(ha=ma.DragCancel)}D.current=null,xc.unstable_batchedUpdates(()=>{b({type:ha}),S(ph.Uninitialized),Oe(null),R(null),P(null);const Kf=ha===ma.DragEnd?"onDragEnd":"onDragCancel";if(qf){const em=V.current[Kf];em==null||em(qf),x({type:Kf,event:qf})}})}}},[_]),wn=f.useCallback((on,br)=>(Ke,Bt)=>{const jn=Ke.nativeEvent,Cn=_.get(Bt);if(D.current!==null||!Cn||jn.dndKit||jn.defaultPrevented)return;const Ki={active:Cn};on(Ke,br.options,Ki)===!0&&(jn.dndKit={capturedBy:br.sensor},D.current=Bt,_t(Ke,br))},[_,_t]),We=aTt(d,wn);hTt(d),Hu(()=>{Q&&C===ph.Initializing&&S(ph.Initialized)},[Q,C]),f.useEffect(()=>{const{onDragMove:on}=V.current,{active:br,activatorEvent:Ke,collisions:Bt,over:jn}=se.current;if(!br||!Ke)return;const Cn={active:br,activatorEvent:Ke,collisions:Bt,delta:{x:Ze.x,y:Ze.y},over:jn};xc.unstable_batchedUpdates(()=>{on==null||on(Cn),x({type:"onDragMove",event:Cn})})},[Ze.x,Ze.y]),f.useEffect(()=>{const{active:on,activatorEvent:br,collisions:Ke,droppableContainers:Bt,scrollAdjustedTranslate:jn}=se.current;if(!on||D.current==null||!br||!jn)return;const{onDragOver:Cn}=V.current,Ki=Bt.get($e),fa=Ki&&Ki.rect.current?{id:Ki.id,rect:Ki.rect.current,data:Ki.data,disabled:Ki.disabled}:null,ha={active:on,activatorEvent:br,collisions:Ke,delta:{x:jn.x,y:jn.y},over:fa};xc.unstable_batchedUpdates(()=>{Oe(fa),Cn==null||Cn(ha),x({type:"onDragOver",event:ha})})},[$e]),Hu(()=>{se.current={activatorEvent:F,active:M,activeNode:G,collisionRect:Je,collisions:ot,droppableRects:Z,draggableNodes:_,draggingNode:ue,draggingNodeRect:ye,droppableContainers:j,over:Le,scrollableAncestors:je,scrollAdjustedTranslate:Ze},I.current={initial:ye,translated:Je}},[M,G,ot,Je,_,ue,ye,Z,j,Le,je,Ze]),tTt({...X,delta:T,draggingRect:Je,pointerCoordinates:me,scrollableAncestors:je,scrollableAncestorRects:Ve});const yt=f.useMemo(()=>({active:M,activeNode:G,activeNodeRect:Q,activatorEvent:F,collisions:ot,containerNodeRect:ee,dragOverlay:oe,draggableNodes:_,droppableContainers:j,droppableRects:Z,over:Le,measureDroppableContainers:J,scrollableAncestors:je,scrollableAncestorRects:Ve,measuringConfiguration:W,measuringScheduled:re,windowRect:ge}),[M,G,Q,F,ot,ee,oe,_,j,Z,Le,J,je,Ve,W,re,ge]),Pn=f.useMemo(()=>({activatorEvent:F,activators:We,active:M,activeNodeRect:Q,ariaDescribedById:{draggable:U},dispatch:b,draggableNodes:_,over:Le,measureDroppableContainers:J}),[F,We,M,Q,b,U,_,Le,J]);return Xe.createElement(lke.Provider,{value:w},Xe.createElement(hM.Provider,{value:Pn},Xe.createElement(Cke.Provider,{value:yt},Xe.createElement(Ske.Provider,{value:nt},c)),Xe.createElement(ETt,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Xe.createElement(k_t,{...s,hiddenTextDescribedById:U}));function Ei(){const on=(O==null?void 0:O.autoScrollEnabled)===!1,br=typeof l=="object"?l.enabled===!1:l===!1,Ke=E&&!on&&!br;return typeof l=="object"?{...l,enabled:Ke}:{enabled:Ke}}}),jTt=f.createContext(null),ate="button",ITt="Droppable";function DTt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=FE(ITt),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:p}=f.useContext(hM),{role:m=ate,roleDescription:g="draggable",tabIndex:y=0}=i??{},v=(l==null?void 0:l.id)===t,b=f.useContext(v?Ske:jTt),[x,w]=RA(),[C,S]=RA(),E=pTt(o,t),k=ZC(n);Hu(()=>(h.set(t,{id:t,key:a,node:x,activatorNode:C,data:k}),()=>{const T=h.get(t);T&&T.key===a&&h.delete(t)}),[h,t]);const _=f.useMemo(()=>({role:m,tabIndex:y,"aria-disabled":r,"aria-pressed":v&&m===ate?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,y,v,g,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:_,isDragging:v,listeners:r?void 0:E,node:x,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:b}}function MTt(){return f.useContext(Cke)}const RTt="Droppable",OTt={timeout:25};function $Tt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=FE(RTt),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=f.useContext(hM),d=f.useRef({disabled:n}),h=f.useRef(!1),p=f.useRef(null),m=f.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...OTt,...i},b=ZC(y??r),x=f.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),m.current=null},v)},[v]),w=fM({callback:x,disabled:g||!o}),C=f.useCallback((_,T)=>{w&&(T&&(w.unobserve(T),h.current=!1),_&&w.observe(_))},[w]),[S,E]=RA(C),k=ZC(t);return f.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),Hu(()=>(s({type:ma.RegisterDroppable,element:{id:r,key:a,disabled:n,node:S,rect:p,data:k}}),()=>s({type:ma.UnregisterDroppable,key:a,id:r})),[r]),f.useEffect(()=>{n!==d.current.disabled&&(s({type:ma.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,s]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:E}}const PTt=e=>{let{transform:t}=e;return{...t,y:0}},FTt=e=>{let{transform:t}=e;return{...t,x:0}};function Eke(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function NTt(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function O2(e){return e!==null&&e>=0}function LTt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function BTt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const $2={scaleX:1,scaleY:1},VTt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:a,index:o}=e;const s=(t=n[i])!=null?t:r;if(!s)return null;const l=zTt(n,o,i);if(o===i){const c=n[a];return c?{x:i<a?c.left+c.width-(s.left+s.width):c.left-s.left,y:0,...$2}:null}return o>i&&o<=a?{x:-s.width-l,y:0,...$2}:o<i&&o>=a?{x:s.width+l,y:0,...$2}:{x:0,y:0,...$2}};function zTt(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return!r||!i&&!a?0:n<t?i?r.left-(i.left+i.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(i.left+i.width)}const kke=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=Eke(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},P2={scaleX:1,scaleY:1},UTt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=(t=a[n])!=null?t:r;if(!s)return null;if(i===n){const c=a[o];return c?{x:0,y:n<o?c.top+c.height-(s.top+s.height):c.top-s.top,...P2}:null}const l=HTt(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...P2}:i<n&&i>=o?{x:0,y:s.height+l,...P2}:{x:0,y:0,...P2}};function HTt(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const _ke="Sortable",Tke=Xe.createContext({activeIndex:-1,containerId:_ke,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kke,disabled:{draggable:!1,droppable:!1}});function WTt(e){let{children:t,id:n,items:r,strategy:i=kke,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:d}=MTt(),h=FE(_ke,n),p=s.rect!==null,m=f.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),g=o!=null,y=o?m.indexOf(o.id):-1,v=c?m.indexOf(c.id):-1,b=f.useRef(m),x=!LTt(m,b.current),w=v!==-1&&y===-1||x,C=BTt(a);Hu(()=>{x&&g&&d(m)},[x,m,g,d]),f.useEffect(()=>{b.current=m},[m]);const S=f.useMemo(()=>({activeIndex:y,containerId:h,disabled:C,disableTransforms:w,items:m,overIndex:v,useDragOverlay:p,sortedRects:NTt(m,l),strategy:i}),[y,h,C.draggable,C.droppable,w,m,v,l,p,i]);return Xe.createElement(Tke.Provider,{value:S},t)}const GTt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Eke(n,r,i).indexOf(t)},YTt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===l},qTt={duration:200,easing:"ease"},Ake="transform",KTt=JC.Transition.toString({property:Ake,duration:0,easing:"linear"}),ZTt={roleDescription:"sortable"};function XTt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=f.useState(null),s=f.useRef(n);return Hu(()=>{if(!t&&n!==s.current&&r.current){const l=i.current;if(l){const c=mb(r.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&o(d)}}n!==s.current&&(s.current=n)},[t,n,r,i]),f.useEffect(()=>{a&&o(null)},[a]),a}function jke(e){let{animateLayoutChanges:t=YTt,attributes:n,disabled:r,data:i,getNewIndex:a=GTt,id:o,strategy:s,resizeObserverConfig:l,transition:c=qTt}=e;const{items:d,containerId:h,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:y,overIndex:v,useDragOverlay:b,strategy:x}=f.useContext(Tke),w=JTt(r,m),C=d.indexOf(o),S=f.useMemo(()=>({sortable:{containerId:h,index:C,items:d},...i}),[h,i,C,d]),E=f.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:_,isOver:T,setNodeRef:j}=$Tt({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:A,activatorEvent:I,activeNodeRect:M,attributes:D,setNodeRef:O,listeners:R,isDragging:F,over:P,setActivatorNodeRef:V,transform:U}=DTt({id:o,data:S,attributes:{...ZTt,...n},disabled:w.draggable}),H=f_t(j,O),W=!!A,Z=W&&!g&&O2(p)&&O2(v),J=!b&&F,re=J&&Z?U:null,te=Z?re??(s??x)({rects:y,activeNodeRect:M,activeIndex:p,overIndex:v,index:C}):null,X=O2(p)&&O2(v)?a({id:o,items:d,activeIndex:p,overIndex:v}):C,K=A==null?void 0:A.id,Q=f.useRef({activeId:K,items:d,newIndex:X,containerId:h}),ee=d!==Q.current.items,se=t({active:A,containerId:h,isDragging:F,isSorting:W,id:o,index:C,items:d,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:c,wasDragging:Q.current.activeId!=null}),le=XTt({disabled:!se,index:C,node:_,rect:k});return f.useEffect(()=>{W&&Q.current.newIndex!==X&&(Q.current.newIndex=X),h!==Q.current.containerId&&(Q.current.containerId=h),d!==Q.current.items&&(Q.current.items=d)},[W,X,h,d]),f.useEffect(()=>{if(K===Q.current.activeId)return;if(K&&!Q.current.activeId){Q.current.activeId=K;return}const ue=setTimeout(()=>{Q.current.activeId=K},50);return()=>clearTimeout(ue)},[K]),{active:A,activeIndex:p,attributes:D,data:S,rect:k,index:C,newIndex:X,items:d,isOver:T,isSorting:W,isDragging:F,listeners:R,node:_,overIndex:v,over:P,setNodeRef:H,setActivatorNodeRef:V,setDroppableNodeRef:j,setDraggableNodeRef:O,transform:le??te,transition:oe()};function oe(){if(le||ee&&Q.current.newIndex===C)return KTt;if(!(J&&!NU(I)||!c)&&(W||se))return JC.Transition.toString({...c,property:Ake})}}function JTt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function PA(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const QTt=[Dn.Down,Dn.Right,Dn.Up,Dn.Left],eAt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(QTt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=i.get(h.id);if(p)switch(e.code){case Dn.Down:r.top<p.top&&l.push(h);break;case Dn.Up:r.top>p.top&&l.push(h);break;case Dn.Left:r.left>p.left&&l.push(h);break;case Dn.Right:r.left<p.left&&l.push(h);break}});const c=j_t({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let d=dke(c,"id");if(d===(o==null?void 0:o.id)&&c.length>1&&(d=c[1].id),d!=null){const h=a.get(n.id),p=a.get(d),m=p?i.get(p.id):null,g=p==null?void 0:p.node.current;if(g&&m&&h&&p){const v=dM(g).some((E,k)=>s[k]!==E),b=Ike(h,p),x=tAt(h,p),w=v||!b?{x:0,y:0}:{x:x?r.width-m.width:0,y:x?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:XC(C,w)}}}};function Ike(e,t){return!PA(e)||!PA(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function tAt(e,t){return!PA(e)||!PA(t)||!Ike(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var nAt=rAt;function rAt(e,t,n){var r=e===null,i=t===null;if(r!==i)return!1;var a=Array.isArray(e),o=Array.isArray(t);if(a!==o)return!1;var s=typeof e,l=typeof t;return s!==l?!1:oAt(s)?n?n(e,t):e===t:a?iAt(e,t,n):aAt(e,t,n)}function iAt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function aAt(e,t,n){var r=0,i=0;if(n)for(var a in e){if(e.hasOwnProperty(a)&&!n(e[a],t[a]))return!1;r++}else for(var a in e){if(e.hasOwnProperty(a)&&e[a]!==t[a])return!1;r++}for(var a in t)t.hasOwnProperty(a)&&i++;return r===i}function oAt(e){return e!=="function"&&e!=="object"}const yp=Fe(nAt),ote=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ste=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",h3=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ste(n.overflowY,t)||ste(n.overflowX,t)||(r=>{const i=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},F2=(e,t,n,r,i,a,o,s)=>a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0,sAt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},lte=(e,t)=>{var n,r,i,a;if(typeof document>"u")return[];const{scrollMode:o,block:s,inline:l,boundary:c,skipOverflowHiddenElements:d}=t,h=typeof c=="function"?c:R=>R!==c;if(!ote(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let g=e;for(;ote(g)&&h(g);){if(g=sAt(g),g===p){m.push(g);break}g!=null&&g===document.body&&h3(g)&&!h3(document.documentElement)||g!=null&&h3(g,d)&&m.push(g)}const y=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,v=(a=(i=window.visualViewport)==null?void 0:i.height)!=null?a:innerHeight,{scrollX:b,scrollY:x}=window,{height:w,width:C,top:S,right:E,bottom:k,left:_}=e.getBoundingClientRect(),{top:T,right:j,bottom:A,left:I}=(R=>{const F=window.getComputedStyle(R);return{top:parseFloat(F.scrollMarginTop)||0,right:parseFloat(F.scrollMarginRight)||0,bottom:parseFloat(F.scrollMarginBottom)||0,left:parseFloat(F.scrollMarginLeft)||0}})(e);let M=s==="start"||s==="nearest"?S-T:s==="end"?k+A:S+w/2-T+A,D=l==="center"?_+C/2-I+j:l==="end"?E+j:_-I;const O=[];for(let R=0;R<m.length;R++){const F=m[R],{height:P,width:V,top:U,right:H,bottom:W,left:Z}=F.getBoundingClientRect();if(o==="if-needed"&&S>=0&&_>=0&&k<=v&&E<=y&&S>=U&&k<=W&&_>=Z&&E<=H)return O;const J=getComputedStyle(F),re=parseInt(J.borderLeftWidth,10),G=parseInt(J.borderTopWidth,10),te=parseInt(J.borderRightWidth,10),X=parseInt(J.borderBottomWidth,10);let K=0,Q=0;const ee="offsetWidth"in F?F.offsetWidth-F.clientWidth-re-te:0,se="offsetHeight"in F?F.offsetHeight-F.clientHeight-G-X:0,le="offsetWidth"in F?F.offsetWidth===0?0:V/F.offsetWidth:0,oe="offsetHeight"in F?F.offsetHeight===0?0:P/F.offsetHeight:0;if(p===F)K=s==="start"?M:s==="end"?M-v:s==="nearest"?F2(x,x+v,v,G,X,x+M,x+M+w,w):M-v/2,Q=l==="start"?D:l==="center"?D-y/2:l==="end"?D-y:F2(b,b+y,y,re,te,b+D,b+D+C,C),K=Math.max(0,K+x),Q=Math.max(0,Q+b);else{K=s==="start"?M-U-G:s==="end"?M-W+X+se:s==="nearest"?F2(U,W,P,G,X+se,M,M+w,w):M-(U+P/2)+se/2,Q=l==="start"?D-Z-re:l==="center"?D-(Z+V/2)+ee/2:l==="end"?D-H+te+ee:F2(Z,H,V,re,te+ee,D,D+C,C);const{scrollLeft:ue,scrollTop:ye}=F;K=oe===0?0:Math.max(0,Math.min(ye+K/oe,F.scrollHeight-P/oe+se)),Q=le===0?0:Math.max(0,Math.min(ue+Q/le,F.scrollWidth-V/le+ee)),M+=ye-K,D+=ue-Q}O.push({el:F,top:K,left:Q})}return O},lAt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Rg(e,t){if(!e.isConnected||!(i=>{let a=i;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(e))return;const n=(i=>{const a=window.getComputedStyle(i);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(lte(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:a,left:o}of lte(e,lAt(t))){const s=a-n.top+n.bottom,l=o-n.left+n.right;i.scroll({top:s,left:l,behavior:r})}}function Qt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function at(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ct(e){at(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Bu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Yr(e,t){at(2,arguments);var n=ct(e),r=Qt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function NE(e,t){at(2,arguments);var n=ct(e),r=Qt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function uAt(e){at(1,arguments);var t=ct(e),n=t.getDay();return n===0||n===6}function cAt(e,t){at(2,arguments);var n=ct(e).getTime(),r=Qt(t);return new Date(n+r)}var dAt={};function ed(){return dAt}function vp(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ed(),h=Qt((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(e),m=p.getDay(),g=(m<h?7:0)+m-h;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function tv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bp(e){at(1,arguments);var t=ct(e);return t.setHours(0,0,0,0),t}var fAt=864e5;function hAt(e,t){at(2,arguments);var n=bp(e),r=bp(t),i=n.getTime()-tv(n),a=r.getTime()-tv(r);return Math.round((i-a)/fAt)}function yL(e,t){at(2,arguments);var n=Qt(t),r=n*7;return Yr(e,r)}function py(e,t){at(2,arguments);var n=ct(e),r=ct(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var pM=6e4,mM=36e5,pAt=1e3;function Co(e,t){at(2,arguments);var n=bp(e),r=bp(t);return n.getTime()===r.getTime()}function mAt(e){return at(1,arguments),e instanceof Date||Bu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gf(e){if(at(1,arguments),!mAt(e)&&typeof e!="number")return!1;var t=ct(e);return!isNaN(Number(t))}function gAt(e,t){at(2,arguments);var n=ct(e),r=ct(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function yAt(e,t){at(2,arguments);var n=ct(e),r=ct(t);return n.getFullYear()-r.getFullYear()}function ute(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Dke(e,t){at(2,arguments);var n=ct(e),r=ct(t),i=ute(n,r),a=Math.abs(hAt(n,r));n.setDate(n.getDate()-i*a);var o=+(ute(n,r)===-i),s=i*(a-o);return s===0?0:s}function UU(e,t){return at(2,arguments),ct(e).getTime()-ct(t).getTime()}var cte={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},vAt="trunc";function gM(e){return e?cte[e]:cte[vAt]}function bAt(e,t,n){at(2,arguments);var r=UU(e,t)/mM;return gM(n==null?void 0:n.roundingMethod)(r)}function xAt(e,t,n){at(2,arguments);var r=UU(e,t)/pM;return gM(n==null?void 0:n.roundingMethod)(r)}function eS(e){at(1,arguments);var t=ct(e);return t.setHours(23,59,59,999),t}function wAt(e){at(1,arguments);var t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function CAt(e){at(1,arguments);var t=ct(e);return eS(t).getTime()===wAt(t).getTime()}function Mke(e,t){at(2,arguments);var n=ct(e),r=ct(t),i=py(n,r),a=Math.abs(gAt(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var s=py(n,r)===-i;CAt(ct(e))&&a===1&&py(e,r)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function Rke(e,t,n){at(2,arguments);var r=UU(e,t)/1e3;return gM(n==null?void 0:n.roundingMethod)(r)}function SAt(e,t,n){at(2,arguments);var r=Dke(e,t)/7;return gM(n==null?void 0:n.roundingMethod)(r)}function EAt(e,t){at(2,arguments);var n=ct(e),r=ct(t),i=py(n,r),a=Math.abs(yAt(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=py(n,r)===-i,s=i*(a-Number(o));return s===0?0:s}function dte(e){at(1,arguments);var t=ct(e);return t.setSeconds(0,0),t}function yM(e,t){at(1,arguments);var n=e||{},r=ct(n.start),i=ct(n.end),a=i.getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var o=vp(r,t),s=vp(i,t);o.setHours(15),s.setHours(15),a=s.getTime();for(var l=[],c=o;c.getTime()<=a;)c.setHours(0),l.push(ct(c)),c=yL(c,1),c.setHours(15);return l}function vM(e){at(1,arguments);var t=ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function fte(e){at(1,arguments);var t=ct(e);return t.setSeconds(59,999),t}function Oke(e,t){at(2,arguments);var n=Qt(t);return cAt(e,-n)}var kAt=864e5;function _At(e){at(1,arguments);var t=ct(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/kAt)+1}function nv(e){at(1,arguments);var t=1,n=ct(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function $ke(e){at(1,arguments);var t=ct(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=nv(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=nv(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function TAt(e){at(1,arguments);var t=$ke(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=nv(n);return r}var AAt=6048e5;function Pke(e){at(1,arguments);var t=ct(e),n=nv(t).getTime()-TAt(t).getTime();return Math.round(n/AAt)+1}function Og(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ed(),h=Qt((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(e),m=p.getUTCDay(),g=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function HU(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ct(e),h=d.getUTCFullYear(),p=ed(),m=Qt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var y=Og(g,t),v=new Date(0);v.setUTCFullYear(h,0,m),v.setUTCHours(0,0,0,0);var b=Og(v,t);return d.getTime()>=y.getTime()?h+1:d.getTime()>=b.getTime()?h:h-1}function jAt(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ed(),h=Qt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=HU(e,t),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=Og(m,t);return g}var IAt=6048e5;function Fke(e,t){at(1,arguments);var n=ct(e),r=Og(n,t).getTime()-jAt(n,t).getTime();return Math.round(r/IAt)+1}function nr(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var DAt={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return nr(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):nr(r+1,2)},d:function(t,n){return nr(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return nr(t.getUTCHours()%12||12,n.length)},H:function(t,n){return nr(t.getUTCHours(),n.length)},m:function(t,n){return nr(t.getUTCMinutes(),n.length)},s:function(t,n){return nr(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return nr(a,n.length)}};const Jf=DAt;var Z0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MAt={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Jf.y(t,n)},Y:function(t,n,r,i){var a=HU(t,i),o=a>0?a:1-a;if(n==="YY"){var s=o%100;return nr(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):nr(o,n.length)},R:function(t,n){var r=$ke(t);return nr(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return nr(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return nr(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return nr(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Jf.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return nr(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=Fke(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):nr(a,n.length)},I:function(t,n,r){var i=Pke(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):nr(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Jf.d(t,n)},D:function(t,n,r){var i=_At(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):nr(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return nr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return nr(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return nr(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=Z0.noon:i===0?a=Z0.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=Z0.evening:i>=12?a=Z0.afternoon:i>=4?a=Z0.morning:a=Z0.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Jf.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Jf.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):nr(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):nr(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Jf.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Jf.s(t,n)},S:function(t,n){return Jf.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return pte(o);case"XXXX":case"XX":return gm(o);case"XXXXX":case"XXX":default:return gm(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return pte(o);case"xxxx":case"xx":return gm(o);case"xxxxx":case"xxx":default:return gm(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+hte(o,":");case"OOOO":default:return"GMT"+gm(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+hte(o,":");case"zzzz":default:return"GMT"+gm(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return nr(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return nr(o,n.length)}};function hte(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t||"";return n+String(i)+o+nr(a,2)}function pte(e,t){if(e%60===0){var n=e>0?"-":"+";return n+nr(Math.abs(e)/60,2)}return gm(e,t)}function gm(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=nr(Math.floor(i/60),2),o=nr(i%60,2);return r+a+n+o}const RAt=MAt;var mte=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Nke=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OAt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return mte(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",mte(i,n)).replace("{{time}}",Nke(a,n))},$At={p:Nke,P:OAt};const vL=$At;var PAt=["D","DD"],FAt=["YY","YYYY"];function Lke(e){return PAt.indexOf(e)!==-1}function Bke(e){return FAt.indexOf(e)!==-1}function FA(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var NAt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LAt=function(t,n,r){var i,a=NAt[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const BAt=LAt;function p3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var VAt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zAt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UAt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HAt={date:p3({formats:VAt,defaultWidth:"full"}),time:p3({formats:zAt,defaultWidth:"full"}),dateTime:p3({formats:UAt,defaultWidth:"full"})};const WAt=HAt;var GAt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YAt=function(t,n,r,i){return GAt[t]};const qAt=YAt;function bx(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var KAt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZAt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XAt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JAt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QAt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ejt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tjt=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},njt={ordinalNumber:tjt,era:bx({values:KAt,defaultWidth:"wide"}),quarter:bx({values:ZAt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:bx({values:XAt,defaultWidth:"wide"}),day:bx({values:JAt,defaultWidth:"wide"}),dayPeriod:bx({values:QAt,defaultWidth:"wide",formattingValues:ejt,defaultFormattingWidth:"wide"})};const rjt=njt;function xx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?ajt(s,function(h){return h.test(o)}):ijt(s,function(h){return h.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function ijt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ajt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function ojt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=t.slice(i.length);return{value:o,rest:s}}}var sjt=/^(\d+)(th|st|nd|rd)?/i,ljt=/\d+/i,ujt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cjt={any:[/^b/i,/^(a|c)/i]},djt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fjt={any:[/1/i,/2/i,/3/i,/4/i]},hjt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pjt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mjt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gjt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yjt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vjt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bjt={ordinalNumber:ojt({matchPattern:sjt,parsePattern:ljt,valueCallback:function(t){return parseInt(t,10)}}),era:xx({matchPatterns:ujt,defaultMatchWidth:"wide",parsePatterns:cjt,defaultParseWidth:"any"}),quarter:xx({matchPatterns:djt,defaultMatchWidth:"wide",parsePatterns:fjt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:xx({matchPatterns:hjt,defaultMatchWidth:"wide",parsePatterns:pjt,defaultParseWidth:"any"}),day:xx({matchPatterns:mjt,defaultMatchWidth:"wide",parsePatterns:gjt,defaultParseWidth:"any"}),dayPeriod:xx({matchPatterns:yjt,defaultMatchWidth:"any",parsePatterns:vjt,defaultParseWidth:"any"})};const xjt=bjt;var wjt={code:"en-US",formatDistance:BAt,formatLong:WAt,formatRelative:qAt,localize:rjt,match:xjt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const WU=wjt;var Cjt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sjt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ejt=/^'([^]*?)'?$/,kjt=/''/g,_jt=/[a-zA-Z]/;function _c(e,t,n){var r,i,a,o,s,l,c,d,h,p,m,g,y,v,b,x,w,C;at(2,arguments);var S=String(t),E=ed(),k=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:E.locale)!==null&&r!==void 0?r:WU,_=Qt((a=(o=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&o!==void 0?o:(h=E.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Qt((m=(g=(y=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(b=n.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&g!==void 0?g:(w=E.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var j=ct(e);if(!gf(j))throw new RangeError("Invalid time value");var A=tv(j),I=Oke(j,A),M={firstWeekContainsDate:_,weekStartsOn:T,locale:k,_originalDate:j},D=S.match(Sjt).map(function(O){var R=O[0];if(R==="p"||R==="P"){var F=vL[R];return F(O,k.formatLong)}return O}).join("").match(Cjt).map(function(O){if(O==="''")return"'";var R=O[0];if(R==="'")return Tjt(O);var F=RAt[R];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Bke(O)&&FA(O,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Lke(O)&&FA(O,t,String(e)),F(I,O,k.localize,M);if(R.match(_jt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return O}).join("");return D}function Tjt(e){var t=e.match(Ejt);return t?t[1].replace(kjt,"'"):e}function GU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ajt(e){return GU({},e)}var gte=1440,jjt=2520,m3=43200,Ijt=86400;function Djt(e,t,n){var r,i;at(2,arguments);var a=ed(),o=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:WU;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=py(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l=GU(Ajt(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:s}),c,d;s>0?(c=ct(t),d=ct(e)):(c=ct(e),d=ct(t));var h=Rke(d,c),p=(tv(d)-tv(c))/1e3,m=Math.round((h-p)/60),g;if(m<2)return n!=null&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,l):h<10?o.formatDistance("lessThanXSeconds",10,l):h<20?o.formatDistance("lessThanXSeconds",20,l):h<40?o.formatDistance("halfAMinute",0,l):h<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):m===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",m,l);if(m<45)return o.formatDistance("xMinutes",m,l);if(m<90)return o.formatDistance("aboutXHours",1,l);if(m<gte){var y=Math.round(m/60);return o.formatDistance("aboutXHours",y,l)}else{if(m<jjt)return o.formatDistance("xDays",1,l);if(m<m3){var v=Math.round(m/gte);return o.formatDistance("xDays",v,l)}else if(m<Ijt)return g=Math.round(m/m3),o.formatDistance("aboutXMonths",g,l)}if(g=Mke(d,c),g<12){var b=Math.round(m/m3);return o.formatDistance("xMonths",b,l)}else{var x=g%12,w=Math.floor(g/12);return x<3?o.formatDistance("aboutXYears",w,l):x<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function Mjt(e){at(1,arguments);var t=ct(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Vke(e){at(1,arguments);var t=ct(e),n=t.getMinutes();return n}function Rjt(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ct(e),h=d.getFullYear(),p=ed(),m=Qt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,m),g.setHours(0,0,0,0);var y=vp(g,t),v=new Date(0);v.setFullYear(h,0,m),v.setHours(0,0,0,0);var b=vp(v,t);return d.getTime()>=y.getTime()?h+1:d.getTime()>=b.getTime()?h:h-1}function Ojt(e,t){var n,r,i,a,o,s,l,c;at(1,arguments);var d=ed(),h=Qt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Rjt(e,t),m=new Date(0);m.setFullYear(p,0,h),m.setHours(0,0,0,0);var g=vp(m,t);return g}var $jt=6048e5;function bM(e,t){at(1,arguments);var n=ct(e),r=vp(n,t).getTime()-Ojt(n,t).getTime();return Math.round(r/$jt)+1}function xM(e){at(1,arguments);var t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function NA(e,t){at(2,arguments);var n=ct(e),r=ct(t);return n.getTime()>r.getTime()}function YU(e,t){at(2,arguments);var n=ct(e),r=ct(t);return n.getTime()<r.getTime()}function yte(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pjt(e,t){if(e){if(typeof e=="string")return yte(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yte(e,t):void 0}}function vte(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pjt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw a}}}}function st(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}function LA(e){return LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},LA(e)}function zke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zke=function(){return!!e})()}function Fjt(e,t){if(t&&(Bu(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function Un(e){var t=zke();return function(){var n,r=LA(e);if(t){var i=LA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fjt(this,n)}}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qxe(r.key),r)}}function An(e,t,n){return t&&bte(e.prototype,t),n&&bte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Njt=10,Uke=function(){function e(){Tn(this,e),tt(this,"priority",void 0),tt(this,"subPriority",0)}return An(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Ljt=function(e){zn(n,e);var t=Un(n);function n(r,i,a,o,s){var l;return Tn(this,n),l=t.call(this),l.value=r,l.validateValue=i,l.setValue=a,l.priority=o,s&&(l.subPriority=s),l}return An(n,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),n}(Uke),Bjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",Njt),tt(st(r),"subPriority",-1),r}return An(n,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(Uke),Xn=function(){function e(){Tn(this,e),tt(this,"incompatibleTokens",void 0),tt(this,"priority",void 0),tt(this,"subPriority",void 0)}return An(e,[{key:"run",value:function(n,r,i,a){var o=this.parse(n,r,i,a);return o?{setter:new Ljt(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),Vjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",140),tt(st(r),"incompatibleTokens",["R","u","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),Vi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zi(e,t){return e&&{value:t(e.value),rest:e.rest}}function pi(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Sc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*mM+a*pM+o*pAt),rest:t.slice(n[0].length)}}function Hke(e){return pi(Vi.anyDigitsSigned,e)}function Ii(e,t){switch(e){case 1:return pi(Vi.singleDigit,t);case 2:return pi(Vi.twoDigits,t);case 3:return pi(Vi.threeDigits,t);case 4:return pi(Vi.fourDigits,t);default:return pi(new RegExp("^\\d{1,"+e+"}"),t)}}function BA(e,t){switch(e){case 1:return pi(Vi.singleDigitSigned,t);case 2:return pi(Vi.twoDigitsSigned,t);case 3:return pi(Vi.threeDigitsSigned,t);case 4:return pi(Vi.fourDigitsSigned,t);default:return pi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function qU(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Wke(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var a=r+50,o=Math.floor(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return n?i:1-i}function Gke(e){return e%400===0||e%4===0&&e%100!==0}var zjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",130),tt(st(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){var s=function(c){return{year:c,isTwoDigitYear:a==="yy"}};switch(a){case"y":return zi(Ii(4,i),s);case"yo":return zi(o.ordinalNumber(i,{unit:"year"}),s);default:return zi(Ii(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var s=i.getUTCFullYear();if(o.isTwoDigitYear){var l=Wke(o.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),Ujt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",130),tt(st(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){var s=function(c){return{year:c,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return zi(Ii(4,i),s);case"Yo":return zi(o.ordinalNumber(i,{unit:"year"}),s);default:return zi(Ii(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,s){var l=HU(i,s);if(o.isTwoDigitYear){var c=Wke(o.year,l);return i.setUTCFullYear(c,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Og(i,s)}var d=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Og(i,s)}}]),n}(Xn),Hjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",130),tt(st(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a){return BA(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),nv(s)}}]),n}(Xn),Wjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",130),tt(st(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a){return BA(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),Gjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",120),tt(st(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return Ii(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),Yjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",120),tt(st(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return Ii(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),qjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),tt(st(r),"priority",110),r}return An(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c-1};switch(a){case"M":return zi(pi(Vi.month,i),s);case"MM":return zi(Ii(2,i),s);case"Mo":return zi(o.ordinalNumber(i,{unit:"month"}),s);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),Kjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",110),tt(st(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c-1};switch(a){case"L":return zi(pi(Vi.month,i),s);case"LL":return zi(Ii(2,i),s);case"Lo":return zi(o.ordinalNumber(i,{unit:"month"}),s);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xn);function Zjt(e,t,n){at(2,arguments);var r=ct(e),i=Qt(t),a=Fke(r,n)-i;return r.setUTCDate(r.getUTCDate()-a*7),r}var Xjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",100),tt(st(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"w":return pi(Vi.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,s){return Og(Zjt(i,o,s),s)}}]),n}(Xn);function Jjt(e,t){at(2,arguments);var n=ct(e),r=Qt(t),i=Pke(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Qjt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",100),tt(st(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"I":return pi(Vi.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return nv(Jjt(i,o))}}]),n}(Xn),eIt=[31,28,31,30,31,30,31,31,30,31,30,31],tIt=[31,29,31,30,31,30,31,31,30,31,30,31],nIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"subPriority",1),tt(st(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"d":return pi(Vi.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=Gke(o),l=i.getUTCMonth();return s?a>=1&&a<=tIt[l]:a>=1&&a<=eIt[l]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),rIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"subpriority",1),tt(st(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return pi(Vi.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=Gke(o);return s?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xn);function KU(e,t,n){var r,i,a,o,s,l,c,d;at(2,arguments);var h=ed(),p=Qt((r=(i=(a=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&i!==void 0?i:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ct(e),g=Qt(t),y=m.getUTCDay(),v=g%7,b=(v+7)%7,x=(b<p?7:0)+g-y;return m.setUTCDate(m.getUTCDate()+x),m}var iIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=KU(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),aIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o,s){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+h};switch(a){case"e":case"ee":return zi(Ii(a.length,i),l);case"eo":return zi(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=KU(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),oIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o,s){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+h};switch(a){case"c":case"cc":return zi(Ii(a.length,i),l);case"co":return zi(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=KU(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Xn);function sIt(e,t){at(2,arguments);var n=Qt(t);n%7===0&&(n=n-7);var r=1,i=ct(e),a=i.getUTCDay(),o=n%7,s=(o+7)%7,l=(s<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+l),i}var lIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",90),tt(st(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c===0?7:c};switch(a){case"i":case"ii":return Ii(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return zi(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return zi(o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return zi(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return zi(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=sIt(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xn),uIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",80),tt(st(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qU(o),0,0,0),i}}]),n}(Xn),cIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",80),tt(st(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qU(o),0,0,0),i}}]),n}(Xn),dIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",80),tt(st(r),"incompatibleTokens",["a","b","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qU(o),0,0,0),i}}]),n}(Xn),fIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",70),tt(st(r),"incompatibleTokens",["H","K","k","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"h":return pi(Vi.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):!s&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xn),hIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",70),tt(st(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"H":return pi(Vi.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Xn),pIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",70),tt(st(r),"incompatibleTokens",["h","H","k","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"K":return pi(Vi.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xn),mIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",70),tt(st(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"k":return pi(Vi.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var s=o<=24?o%24:o;return i.setUTCHours(s,0,0,0),i}}]),n}(Xn),gIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",60),tt(st(r),"incompatibleTokens",["t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"m":return pi(Vi.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Xn),yIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",50),tt(st(r),"incompatibleTokens",["t","T"]),r}return An(n,[{key:"parse",value:function(i,a,o){switch(a){case"s":return pi(Vi.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Ii(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),n}(Xn),vIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",30),tt(st(r),"incompatibleTokens",["t","T"]),r}return An(n,[{key:"parse",value:function(i,a){var o=function(l){return Math.floor(l*Math.pow(10,-a.length+3))};return zi(Ii(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),n}(Xn),bIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",10),tt(st(r),"incompatibleTokens",["t","T","x"]),r}return An(n,[{key:"parse",value:function(i,a){switch(a){case"X":return Sc(Cc.basicOptionalMinutes,i);case"XX":return Sc(Cc.basic,i);case"XXXX":return Sc(Cc.basicOptionalSeconds,i);case"XXXXX":return Sc(Cc.extendedOptionalSeconds,i);case"XXX":default:return Sc(Cc.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xn),xIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",10),tt(st(r),"incompatibleTokens",["t","T","X"]),r}return An(n,[{key:"parse",value:function(i,a){switch(a){case"x":return Sc(Cc.basicOptionalMinutes,i);case"xx":return Sc(Cc.basic,i);case"xxxx":return Sc(Cc.basicOptionalSeconds,i);case"xxxxx":return Sc(Cc.extendedOptionalSeconds,i);case"xxx":default:return Sc(Cc.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xn),wIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",40),tt(st(r),"incompatibleTokens","*"),r}return An(n,[{key:"parse",value:function(i){return Hke(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Xn),CIt=function(e){zn(n,e);var t=Un(n);function n(){var r;Tn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),tt(st(r),"priority",20),tt(st(r),"incompatibleTokens","*"),r}return An(n,[{key:"parse",value:function(i){return Hke(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Xn),SIt={G:new Vjt,y:new zjt,Y:new Ujt,R:new Hjt,u:new Wjt,Q:new Gjt,q:new Yjt,M:new qjt,L:new Kjt,w:new Xjt,I:new Qjt,d:new nIt,D:new rIt,E:new iIt,e:new aIt,c:new oIt,i:new lIt,a:new uIt,b:new cIt,B:new dIt,h:new fIt,H:new hIt,K:new pIt,k:new mIt,m:new gIt,s:new yIt,S:new vIt,X:new bIt,x:new xIt,t:new wIt,T:new CIt},EIt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kIt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_It=/^'([^]*?)'?$/,TIt=/''/g,AIt=/\S/,jIt=/[a-zA-Z]/;function ZU(e,t,n,r){var i,a,o,s,l,c,d,h,p,m,g,y,v,b,x,w,C,S;at(3,arguments);var E=String(e),k=String(t),_=ed(),T=(i=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:_.locale)!==null&&i!==void 0?i:WU;if(!T.match)throw new RangeError("locale must contain match property");var j=Qt((o=(s=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:_.firstWeekContainsDate)!==null&&s!==void 0?s:(p=_.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Qt((g=(y=(v=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(x=r.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&y!==void 0?y:(C=_.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(k==="")return E===""?ct(n):new Date(NaN);var I={firstWeekContainsDate:j,weekStartsOn:A,locale:T},M=[new Bjt],D=k.match(kIt).map(function(X){var K=X[0];if(K in vL){var Q=vL[K];return Q(X,T.formatLong)}return X}).join("").match(EIt),O=[],R=vte(D),F;try{var P=function(){var K=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Bke(K)&&FA(K,k,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Lke(K)&&FA(K,k,e);var Q=K[0],ee=SIt[Q];if(ee){var se=ee.incompatibleTokens;if(Array.isArray(se)){var le=O.find(function(ue){return se.includes(ue.token)||ue.token===Q});if(le)throw new RangeError("The format string mustn't contain `".concat(le.fullToken,"` and `").concat(K,"` at the same time"))}else if(ee.incompatibleTokens==="*"&&O.length>0)throw new RangeError("The format string mustn't contain `".concat(K,"` and any other token at the same time"));O.push({token:Q,fullToken:K});var oe=ee.run(E,K,T.match,I);if(!oe)return{v:new Date(NaN)};M.push(oe.setter),E=oe.rest}else{if(Q.match(jIt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(K==="''"?K="'":Q==="'"&&(K=IIt(K)),E.indexOf(K)===0)E=E.slice(K.length);else return{v:new Date(NaN)}}};for(R.s();!(F=R.n()).done;){var V=P();if(Bu(V)==="object")return V.v}}catch(X){R.e(X)}finally{R.f()}if(E.length>0&&AIt.test(E))return new Date(NaN);var U=M.map(function(X){return X.priority}).sort(function(X,K){return K-X}).filter(function(X,K,Q){return Q.indexOf(X)===K}).map(function(X){return M.filter(function(K){return K.priority===X}).sort(function(K,Q){return Q.subPriority-K.subPriority})}).map(function(X){return X[0]}),H=ct(n);if(isNaN(H.getTime()))return new Date(NaN);var W=Oke(H,tv(H)),Z={},J=vte(U),re;try{for(J.s();!(re=J.n()).done;){var G=re.value;if(!G.validate(W,I))return new Date(NaN);var te=G.set(W,Z,I);Array.isArray(te)?(W=te[0],GU(Z,te[1])):W=te}}catch(X){J.e(X)}finally{J.f()}return W}function IIt(e){return e.match(_It)[1].replace(TIt,"'")}function DIt(e,t,n){at(2,arguments);var r=vp(e,n),i=vp(t,n);return r.getTime()===i.getTime()}function MIt(e,t){return at(2,arguments),DIt(e,t,{weekStartsOn:1})}function wM(e,t){at(2,arguments);var n=ct(e),r=ct(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function RIt(e){return at(1,arguments),MIt(e,Date.now())}function OIt(e){return at(1,arguments),Co(e,Date.now())}function $It(e,t){at(2,arguments);var n=Qt(t);return Yr(e,-n)}function Yke(e,t){var n;at(1,arguments);var r=Qt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=LIt(e),a;if(i.date){var o=BIt(i.date,r);a=VIt(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,c;if(i.time&&(l=zIt(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=UIt(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(s+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(s+l+c)}var N2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PIt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FIt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,NIt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LIt(e){var t={},n=e.split(N2.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],N2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(N2.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=N2.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function BIt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function VIt(e,t){if(t===null)return new Date(NaN);var n=e.match(PIt);if(!n)return new Date(NaN);var r=!!n[4],i=wx(n[1]),a=wx(n[2])-1,o=wx(n[3]),s=wx(n[4]),l=wx(n[5])-1;if(r)return qIt(t,s,l)?HIt(t,s,l):new Date(NaN);var c=new Date(0);return!GIt(t,a,o)||!YIt(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}function wx(e){return e?parseInt(e):1}function zIt(e){var t=e.match(FIt);if(!t)return NaN;var n=g3(t[1]),r=g3(t[2]),i=g3(t[3]);return KIt(n,r,i)?n*mM+r*pM+i*1e3:NaN}function g3(e){return e&&parseFloat(e.replace(",","."))||0}function UIt(e){if(e==="Z")return 0;var t=e.match(NIt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return ZIt(r,i)?n*(r*mM+i*pM):NaN}function HIt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var WIt=[31,null,31,30,31,30,31,31,30,31,30,31];function qke(e){return e%400===0||e%4===0&&e%100!==0}function GIt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(WIt[t]||(qke(e)?29:28))}function YIt(e,t){return t>=1&&t<=(qke(e)?366:365)}function qIt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function KIt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ZIt(e,t){return t>=0&&t<=59}function XU(e,t){at(2,arguments);var n=ct(e),r=Qt(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var s=Mjt(o);return n.setMonth(r,Math.min(a,s)),n}function XIt(e,t){if(at(2,arguments),Bu(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=ct(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=XU(n,t.month)),t.date!=null&&n.setDate(Qt(t.date)),t.hours!=null&&n.setHours(Qt(t.hours)),t.minutes!=null&&n.setMinutes(Qt(t.minutes)),t.seconds!=null&&n.setSeconds(Qt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Qt(t.milliseconds)),n)}function Kke(e,t){at(2,arguments);var n=ct(e),r=Qt(t);return n.setDate(r),n}function ag(e,t){at(2,arguments);var n=ct(e),r=Qt(t);return n.setHours(r),n}function Qd(e,t){at(2,arguments);var n=ct(e),r=Qt(t);return n.setMinutes(r),n}function Zke(e,t){at(2,arguments);var n=ct(e),r=Qt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function xte(){return bp(Date.now())}function JIt(e,t){at(2,arguments);var n=Qt(t);return NE(e,-n)}function wte(e,t){if(at(2,arguments),!t||Bu(t)!=="object")return new Date(NaN);var n=t.years?Qt(t.years):0,r=t.months?Qt(t.months):0,i=t.weeks?Qt(t.weeks):0,a=t.days?Qt(t.days):0,o=t.hours?Qt(t.hours):0,s=t.minutes?Qt(t.minutes):0,l=t.seconds?Qt(t.seconds):0,c=JIt(e,r+n*12),d=$It(c,a+i*7),h=s+o*60,p=l+h*60,m=p*1e3,g=new Date(d.getTime()-m);return g}var QIt=Math.ceil,eDt=Math.max;function tDt(e,t,n,r){for(var i=-1,a=eDt(QIt((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var nDt=tDt,rDt=Xhe,Cte=1/0,iDt=17976931348623157e292;function aDt(e){if(!e)return e===0?e:0;if(e=rDt(e),e===Cte||e===-Cte){var t=e<0?-1:1;return t*iDt}return e===e?e:0}var Xke=aDt,oDt=nDt,sDt=OD,y3=Xke;function lDt(e){return function(t,n,r){return r&&typeof r!="number"&&sDt(t,n,r)&&(n=r=void 0),t=y3(t),n===void 0?(n=t,t=0):n=y3(n),r=r===void 0?t<n?1:-1:y3(r),oDt(t,n,r,e)}}var uDt=lDt,cDt=uDt,dDt=cDt(),fDt=dDt;const LE=Fe(fDt);function Ste(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ete(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ste(Object(n),!0).forEach(function(r){hDt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ste(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hDt(e,t,n){return t=pDt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pDt(e){var t=mDt(e,"string");return typeof t=="symbol"?t:t+""}function mDt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tS(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function JU(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function Jke(e){return JU(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function Qke(e){return e._type==="@list"}function e2e(e){return e._type==="@span"}function t2e(e){return e._type==="@text"}const kte=["strong","em","code","underline","strike-through"];function gDt(e,t,n){if(!tS(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),i={};return r.forEach(a=>{i[a]=1;for(let o=t+1;o<n.length;o++){const s=n[o];if(s&&tS(s)&&Array.isArray(s.marks)&&s.marks.indexOf(a)!==-1)i[a]++;else break}}),r.sort((a,o)=>yDt(i,a,o))}function yDt(e,t,n){const r=e[t],i=e[n];if(r!==i)return i-r;const a=kte.indexOf(t),o=kte.indexOf(n);return a!==o?a-o:t.localeCompare(n)}function vDt(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const i=n.map(gDt),a={_type:"@span",children:[],markType:"<unknown>"};let o=[a];for(let s=0;s<n.length;s++){const l=n[s];if(!l)continue;const c=i[s]||[];let d=1;if(o.length>1)for(d;d<o.length;d++){const p=((t=o[d])==null?void 0:t.markKey)||"",m=c.indexOf(p);if(m===-1)break;c.splice(m,1)}o=o.slice(0,d);let h=o[o.length-1];if(h){for(const p of c){const m=r.find(v=>v._key===p),g=m?m._type:p,y={_type:"@span",_key:l._key,children:[],markDef:m,markType:g,markKey:p};h.children.push(y),o.push(y),h=y}if(tS(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);h.children=h.children.concat(p.map(m=>({_type:"@text",text:m})))}else h.children=h.children.concat(l)}}return a.children}function bDt(e,t){const n=[];let r;for(let i=0;i<e.length;i++){const a=e[i];if(a){if(!Jke(a)){n.push(a),r=void 0;continue}if(!r){r=L2(a,i,t),n.push(r);continue}if(xDt(a,r)){r.children.push(a);continue}if((a.level||1)>r.level){const o=L2(a,i,t);if(t==="html"){const s=r.children[r.children.length-1],l=Ete(Ete({},s),{},{children:[...s.children,o]});r.children[r.children.length-1]=l}else r.children.push(o);r=o;continue}if((a.level||1)<r.level){const o=n[n.length-1],s=o&&bL(o,a);if(s){r=s,r.children.push(a);continue}r=L2(a,i,t),n.push(r);continue}if(a.listItem!==r.listItem){const o=n[n.length-1],s=o&&bL(o,{level:a.level||1});if(s&&s.listItem===a.listItem){r=s,r.children.push(a);continue}else{r=L2(a,i,t),n.push(r);continue}}console.warn("Unknown state encountered for block",a),n.push(a)}}return n}function xDt(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function L2(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function bL(e,t){const n=t.level||1,r=t.listItem||"normal",i=typeof t.listItem=="string";if(Qke(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const a=e.children[e.children.length-1];return a&&!tS(a)?bL(a,t):void 0}function n2e(e){let t="";return e.children.forEach(n=>{t2e(n)?t+=n.text:e2e(n)&&(t+=n2e(n))}),t}const wDt=/^\s/,CDt=/^\s/;function r2e(e){const t=Array.isArray(e)?e:[e];let n="";return t.forEach((r,i)=>{if(!JU(r))return;let a=!1;r.children.forEach(o=>{tS(o)?(n+=a&&n&&!CDt.test(n)&&!wDt.test(o.text)?" ":"",n+=o.text,a=!1):a=!0}),i!==t.length-1&&(n+=`

`)}),n}const SDt="html",EDt=["block","list","listItem","marks","types"],kDt=["listItem"],_Dt=["_key"];function _te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_te(Object(n),!0).forEach(function(r){TDt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_te(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TDt(e,t,n){return(t=ADt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ADt(e){var t=jDt(e,"string");return typeof t=="symbol"?t:t+""}function jDt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xL(e,t){if(e==null)return{};var n,r,i=IDt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IDt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const DDt={number:({children:e})=>u.jsx("ol",{children:e}),bullet:({children:e})=>u.jsx("ul",{children:e})},MDt=({children:e})=>u.jsx("li",{children:e}),RDt=({children:e,value:t})=>u.jsx("a",{href:t==null?void 0:t.href,children:e}),ODt={textDecoration:"underline"},$Dt={em:({children:e})=>u.jsx("em",{children:e}),strong:({children:e})=>u.jsx("strong",{children:e}),code:({children:e})=>u.jsx("code",{children:e}),underline:({children:e})=>u.jsx("span",{style:ODt,children:e}),"strike-through":({children:e})=>u.jsx("del",{children:e}),link:RDt},BE=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,i2e=e=>BE(`block type "${e}"`,"types"),PDt=e=>BE(`mark type "${e}"`,"marks"),FDt=e=>BE(`block style "${e}"`,"block"),NDt=e=>BE(`list style "${e}"`,"list"),LDt=e=>BE(`list item style "${e}"`,"listItem");function BDt(e){console.warn(e)}const Tte={display:"none"},VDt=({value:e,isInline:t})=>{const n=i2e(e._type);return t?u.jsx("span",{style:Tte,children:n}):u.jsx("div",{style:Tte,children:n})},zDt=({markType:e,children:t})=>u.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),UDt=({children:e})=>u.jsx("p",{children:e}),HDt=({children:e})=>u.jsx("ul",{children:e}),WDt=({children:e})=>u.jsx("li",{children:e}),GDt=()=>u.jsx("br",{}),YDt={normal:({children:e})=>u.jsx("p",{children:e}),blockquote:({children:e})=>u.jsx("blockquote",{children:e}),h1:({children:e})=>u.jsx("h1",{children:e}),h2:({children:e})=>u.jsx("h2",{children:e}),h3:({children:e})=>u.jsx("h3",{children:e}),h4:({children:e})=>u.jsx("h4",{children:e}),h5:({children:e})=>u.jsx("h5",{children:e}),h6:({children:e})=>u.jsx("h6",{children:e})},Ate={types:{},block:YDt,marks:$Dt,list:DDt,listItem:MDt,hardBreak:GDt,unknownType:VDt,unknownMark:zDt,unknownList:HDt,unknownListItem:WDt,unknownBlockStyle:UDt};function qDt(e,t){const n=xL(t,EDt);return mc(mc({},e),{},{block:Cx(e,t,"block"),list:Cx(e,t,"list"),listItem:Cx(e,t,"listItem"),marks:Cx(e,t,"marks"),types:Cx(e,t,"types")},n)}function Cx(e,t,n){const r=t[n],i=e[n];return typeof r=="function"||r&&typeof i=="function"?r:r?mc(mc({},i),r):i}function a2e({value:e,components:t,listNestingMode:n,onMissingComponent:r=BDt}){const i=r||ZDt,a=Array.isArray(e)?e:[e],o=bDt(a,n||SDt),s=f.useMemo(()=>t?qDt(Ate,t):Ate,[t]),l=f.useMemo(()=>KDt(s,i),[s,i]),c=o.map((d,h)=>l({node:d,index:h,isInline:!1,renderNode:l}));return u.jsx(u.Fragment,{children:c})}const KDt=(e,t)=>{function n(h){const{node:p,index:m,isInline:g}=h,y=p._key||`node-${m}`;return Qke(p)?a(p,m,y):Jke(p)?i(p,m,y):e2e(p)?o(p,m,y):r(p)?d(p,m,y,g):JU(p)?s(p,m,y,g):t2e(p)?l(p,y):c(p,m,y,g)}function r(h){return h._type in e.types}function i(h,p,m){const g=jte({node:h,index:p,isInline:!1,renderNode:n}),y=e.listItem,v=(typeof y=="function"?y:y[h.listItem])||e.unknownListItem;if(v===e.unknownListItem){const x=h.listItem||"bullet";t(LDt(x),{type:x,nodeType:"listItemStyle"})}let b=g.children;if(h.style&&h.style!=="normal"){const x=xL(h,kDt);b=n({node:x,index:p,isInline:!1,renderNode:n})}return u.jsx(v,{value:h,index:p,isInline:!1,renderNode:n,children:b},m)}function a(h,p,m){const g=h.children.map((b,x)=>n({node:b._key?b:mc(mc({},b),{},{_key:`li-${p}-${x}`}),index:x,isInline:!1,renderNode:n})),y=e.list,v=(typeof y=="function"?y:y[h.listItem])||e.unknownList;if(v===e.unknownList){const b=h.listItem||"bullet";t(NDt(b),{nodeType:"listStyle",type:b})}return u.jsx(v,{value:h,index:p,isInline:!1,renderNode:n,children:g},m)}function o(h,p,m){const{markDef:g,markType:y,markKey:v}=h,b=e.marks[y]||e.unknownMark,x=h.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return b===e.unknownMark&&t(PDt(y),{nodeType:"mark",type:y}),u.jsx(b,{text:n2e(h),value:g,markType:y,markKey:v,renderNode:n,children:x},m)}function s(h,p,m,g){const y=jte({node:h,index:p,isInline:g,renderNode:n}),v=xL(y,_Dt),b=v.node.style||"normal",x=(typeof e.block=="function"?e.block:e.block[b])||e.unknownBlockStyle;return x===e.unknownBlockStyle&&t(FDt(b),{nodeType:"blockStyle",type:b}),u.jsx(x,mc(mc({},v),{},{value:v.node,renderNode:n}),m)}function l(h,p){if(h.text===`
`){const m=e.hardBreak;return m?u.jsx(m,{},p):`
`}return h.text}function c(h,p,m,g){const y={value:h,isInline:g,index:p,renderNode:n};t(i2e(h._type),{nodeType:"block",type:h._type});const v=e.unknownType;return u.jsx(v,mc({},y),m)}function d(h,p,m,g){const y={value:h,isInline:g,index:p,renderNode:n},v=e.types[h._type];return v?u.jsx(v,mc({},y),m):null}return n};function jte(e){const{node:t,index:n,isInline:r,renderNode:i}=e,a=vDt(t).map((o,s)=>i({node:o,isInline:!0,index:s,renderNode:i}));return{_key:t._key||`block-${n}`,children:a,index:n,isInline:r,node:t}}function ZDt(){}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ite(e){return Object.prototype.toString.call(e)==="[object Object]"}function bo(e){var t,n;return Ite(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(Ite(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var o2e=Symbol.for("immer-nothing"),Dte=Symbol.for("immer-draftable"),el=Symbol.for("immer-state");function wu(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rv=Object.getPrototypeOf;function $g(e){return!!e&&!!e[el]}function Pg(e){var t;return e?s2e(e)||Array.isArray(e)||!!e[Dte]||!!((t=e.constructor)!=null&&t[Dte])||SM(e)||EM(e):!1}var XDt=Object.prototype.constructor.toString();function s2e(e){if(!e||typeof e!="object")return!1;const t=rv(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===XDt}function VA(e,t){CM(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function CM(e){const t=e[el];return t?t.type_:Array.isArray(e)?1:SM(e)?2:EM(e)?3:0}function wL(e,t){return CM(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l2e(e,t,n){const r=CM(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function JDt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function SM(e){return e instanceof Map}function EM(e){return e instanceof Set}function ym(e){return e.copy_||e.base_}function CL(e,t){if(SM(e))return new Map(e);if(EM(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=s2e(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[el];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(rv(e),r)}else{const r=rv(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function QU(e,t=!1){return kM(e)||$g(e)||!Pg(e)||(CM(e)>1&&(e.set=e.add=e.clear=e.delete=QDt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>QU(r,!0))),e}function QDt(){wu(2)}function kM(e){return Object.isFrozen(e)}var eMt={};function Fg(e){const t=eMt[e];return t||wu(0,e),t}var nS;function u2e(){return nS}function tMt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mte(e,t){t&&(Fg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SL(e){EL(e),e.drafts_.forEach(nMt),e.drafts_=null}function EL(e){e===nS&&(nS=e.parent_)}function Rte(e){return nS=tMt(nS,e)}function nMt(e){const t=e[el];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ote(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[el].modified_&&(SL(t),wu(4)),Pg(e)&&(e=zA(t,e),t.parent_||UA(t,e)),t.patches_&&Fg("Patches").generateReplacementPatches_(n[el].base_,e,t.patches_,t.inversePatches_)):e=zA(t,n,[]),SL(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o2e?e:void 0}function zA(e,t,n){if(kM(t))return t;const r=t[el];if(!r)return VA(t,(i,a)=>$te(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return UA(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),VA(a,(s,l)=>$te(e,r,i,s,l,n,o)),UA(e,i,!1),n&&e.patches_&&Fg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $te(e,t,n,r,i,a,o){if($g(i)){const s=a&&t&&t.type_!==3&&!wL(t.assigned_,r)?a.concat(r):void 0,l=zA(e,i,s);if(l2e(n,r,l),$g(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Pg(i)&&!kM(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zA(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&UA(e,i)}}function UA(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&QU(t,n)}function rMt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:u2e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=eH;n&&(i=[r],a=rS);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var eH={get(e,t){if(t===el)return e;const n=ym(e);if(!wL(n,t))return iMt(e,n,t);const r=n[t];return e.finalized_||!Pg(r)?r:r===v3(e.base_,t)?(b3(e),e.copy_[t]=_L(r,e)):r},has(e,t){return t in ym(e)},ownKeys(e){return Reflect.ownKeys(ym(e))},set(e,t,n){const r=c2e(ym(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=v3(ym(e),t),a=i==null?void 0:i[el];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(JDt(n,i)&&(n!==void 0||wL(e.base_,t)))return!0;b3(e),kL(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return v3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,b3(e),kL(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ym(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){wu(11)},getPrototypeOf(e){return rv(e.base_)},setPrototypeOf(){wu(12)}},rS={};VA(eH,(e,t)=>{rS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rS.deleteProperty=function(e,t){return rS.set.call(this,e,t,void 0)};rS.set=function(e,t,n){return eH.set.call(this,e[0],t,n,e[0])};function v3(e,t){const n=e[el];return(n?ym(n):e)[t]}function iMt(e,t,n){var i;const r=c2e(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function c2e(e,t){if(!(t in e))return;let n=rv(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rv(n)}}function kL(e){e.modified_||(e.modified_=!0,e.parent_&&kL(e.parent_))}function b3(e){e.copy_||(e.copy_=CL(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var aMt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&wu(6),r!==void 0&&typeof r!="function"&&wu(7);let i;if(Pg(t)){const a=Rte(this),o=_L(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?SL(a):EL(a)}return Mte(a,r),Ote(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===o2e&&(i=void 0),this.autoFreeze_&&QU(i,!0),r){const a=[],o=[];Fg("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else wu(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pg(e)||wu(8),$g(e)&&(e=oMt(e));const t=Rte(this),n=_L(e,void 0);return n[el].isManual_=!0,EL(t),n}finishDraft(e,t){const n=e&&e[el];(!n||!n.isManual_)&&wu(9);const{scope_:r}=n;return Mte(r,t),Ote(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Fg("Patches").applyPatches_;return $g(e)?r(e,t):this.produce(e,i=>r(i,t))}};function _L(e,t){const n=SM(e)?Fg("MapSet").proxyMap_(e,t):EM(e)?Fg("MapSet").proxySet_(e,t):rMt(e,t);return(t?t.scope_:u2e()).drafts_.push(n),n}function oMt(e){return $g(e)||wu(10,e),d2e(e)}function d2e(e){if(!Pg(e)||kM(e))return e;const t=e[el];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=CL(e,t.scope_.immer_.useStrictShallowCopy_)}else n=CL(e,!0);return VA(n,(r,i)=>{l2e(n,r,d2e(i))}),t&&(t.finalized_=!1),n}var tl=new aMt,tH=tl.produce;tl.produceWithPatches.bind(tl);tl.setAutoFreeze.bind(tl);tl.setUseStrictShallowCopy.bind(tl);tl.applyPatches.bind(tl);var Pte=tl.createDraft.bind(tl),Fte=tl.finishDraft.bind(tl),sMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=ae.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},lMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=Ut.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},uMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=pe.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},HA=new WeakMap,WA=new WeakMap,Xw=new WeakMap,f2e=new WeakMap,Nte=new WeakMap,Lte=new WeakMap,Bte=new WeakMap,ae={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ae.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r],a=t[r];if(i!==a)break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return ae.equals(r,i)&&a>o},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return ae.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return ae.equals(r,i)&&a<o},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ae.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ae.compare(e,t)===0},isBefore(e,t){return ae.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ae.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ae.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ae.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ae.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),i=e[e.length-1],a=t[t.length-1];return i!==a&&ae.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ae.isAncestor(t,e)&&!ae.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:a}=t;(ae.equals(a,r)||ae.endsBefore(a,r)||ae.isAncestor(a,r))&&(r[a.length-1]+=1);break}case"remove_node":{var{path:o}=t;if(ae.equals(o,r)||ae.isAncestor(o,r))return null;ae.endsBefore(o,r)&&(r[o.length-1]-=1);break}case"merge_node":{var{path:s,position:l}=t;ae.equals(s,r)||ae.endsBefore(s,r)?r[s.length-1]-=1:ae.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break}case"split_node":{var{path:c,position:d}=t;if(ae.equals(c,r)){if(i==="forward")r[r.length-1]+=1;else if(i!=="backward")return null}else ae.endsBefore(c,r)?r[c.length-1]+=1:ae.isAncestor(c,r)&&e[c.length]>=d&&(r[c.length-1]+=1,r[c.length]-=d);break}case"move_node":{var{path:h,newPath:p}=t;if(ae.equals(h,p))return r;if(ae.isAncestor(h,r)||ae.equals(h,r)){var m=p.slice();return ae.endsBefore(h,p)&&h.length<p.length&&(m[h.length-1]-=1),m.concat(r.slice(h.length))}else ae.isSibling(h,p)&&(ae.isAncestor(p,r)||ae.equals(p,r))?ae.endsBefore(h,r)?r[h.length-1]-=1:r[h.length-1]+=1:ae.endsBefore(p,r)||ae.equals(p,r)||ae.isAncestor(p,r)?(ae.endsBefore(h,r)&&(r[h.length-1]-=1),r[p.length-1]+=1):ae.endsBefore(h,r)&&(ae.equals(p,r)&&(r[p.length-1]+=1),r[h.length-1]-=1);break}}return r}};function iS(e){"@babel/helpers - typeof";return iS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(e)}function cMt(e,t){if(iS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(iS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dMt(e){var t=cMt(e,"string");return iS(t)==="symbol"?t:String(t)}function Ko(e,t,n){return t=dMt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fMt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:i}=n,a=Ie.parent(e,r),o=r[r.length-1];if(o>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(a.children.splice(o,0,i),t)for(var[s,l]of pe.points(t))t[l]=Ut.transform(s,n);break}case"insert_text":{var{path:c,offset:d,text:h}=n;if(h.length===0)break;var p=Ie.leaf(e,c),m=p.text.slice(0,d),g=p.text.slice(d);if(p.text=m+h+g,t)for(var[y,v]of pe.points(t))t[v]=Ut.transform(y,n);break}case"merge_node":{var{path:b}=n,x=Ie.get(e,b),w=ae.previous(b),C=Ie.get(e,w),S=Ie.parent(e,b),E=b[b.length-1];if(Be.isText(x)&&Be.isText(C))C.text+=x.text;else if(!Be.isText(x)&&!Be.isText(C))C.children.push(...x.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(b,"] to nodes of different interfaces: ").concat(Oa.stringify(x)," ").concat(Oa.stringify(C)));if(S.children.splice(E,1),t)for(var[k,_]of pe.points(t))t[_]=Ut.transform(k,n);break}case"move_node":{var{path:T,newPath:j}=n;if(ae.isAncestor(T,j))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(j,"] because the destination is inside itself."));var A=Ie.get(e,T),I=Ie.parent(e,T),M=T[T.length-1];I.children.splice(M,1);var D=ae.transform(T,n),O=Ie.get(e,ae.parent(D)),R=D[D.length-1];if(O.children.splice(R,0,A),t)for(var[F,P]of pe.points(t))t[P]=Ut.transform(F,n);break}case"remove_node":{var{path:V}=n,U=V[V.length-1],H=Ie.parent(e,V);if(H.children.splice(U,1),t)for(var[W,Z]of pe.points(t)){var J=Ut.transform(W,n);if(t!=null&&J!=null)t[Z]=J;else{var re=void 0,G=void 0;for(var[te,X]of Ie.texts(e))if(ae.compare(X,V)===-1)re=[te,X];else{G=[te,X];break}var K=!1;re&&G&&(ae.equals(G[1],V)?K=!ae.hasPrevious(G[1]):K=ae.common(re[1],V).length<ae.common(G[1],V).length),re&&!K?(W.path=re[1],W.offset=re[0].text.length):G?(W.path=G[1],W.offset=0):t=null}}break}case"remove_text":{var{path:Q,offset:ee,text:se}=n;if(se.length===0)break;var le=Ie.leaf(e,Q),oe=le.text.slice(0,ee),ue=le.text.slice(ee+se.length);if(le.text=oe+ue,t)for(var[ye,Ee]of pe.points(t))t[Ee]=Ut.transform(ye,n);break}case"set_node":{var{path:ke,properties:ge,newProperties:je}=n;if(ke.length===0)throw new Error("Cannot set properties on the root node!");var Ve=Ie.get(e,ke);for(var xe in je){if(xe==="children"||xe==="text")throw new Error('Cannot set the "'.concat(xe,'" property of nodes!'));var me=je[xe];me==null?delete Ve[xe]:Ve[xe]=me}for(var Se in ge)je.hasOwnProperty(Se)||delete Ve[Se];break}case"set_selection":{var{newProperties:ve}=n;if(ve==null)t=ve;else{if(t==null){if(!pe.isRange(ve))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Oa.stringify(ve)," when there is no current selection."));t=Sx({},ve)}for(var _e in ve){var Ze=ve[_e];if(Ze==null){if(_e==="anchor"||_e==="focus")throw new Error('Cannot remove the "'.concat(_e,'" selection property'));delete t[_e]}else t[_e]=Ze}}break}case"split_node":{var{path:Je,position:ot,properties:$e}=n;if(Je.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Je,"] because the root node cannot be split."));var Le=Ie.get(e,Je),Oe=Ie.parent(e,Je),qe=Je[Je.length-1],nt;if(Be.isText(Le)){var _t=Le.text.slice(0,ot),wn=Le.text.slice(ot);Le.text=_t,nt=Sx(Sx({},$e),{},{text:wn})}else{var We=Le.children.slice(0,ot),yt=Le.children.slice(ot);Le.children=We,nt=Sx(Sx({},$e),{},{children:yt})}if(Oe.children.splice(qe+1,0,nt),t)for(var[Pn,Ei]of pe.points(t))t[Ei]=Ut.transform(Pn,n);break}}return t},hMt={transform(e,t){e.children=Pte(e.children);var n=e.selection&&Pte(e.selection);try{n=fMt(e,n,t)}finally{e.children=Fte(e.children),n?e.selection=$g(n)?Fte(n):n:e.selection=null}}},pMt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},mMt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},h2e=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if(bo(r)&&bo(i)){if(!h2e(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(r!==i)return!1}for(var o in t)if(e[o]===void 0&&t[o]!==void 0)return!1;return!0};function gMt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yf(e,t){if(e==null)return{};var n=gMt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var yMt=["anchor","focus"];function zte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pe={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return pe.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=pe.edges(e);return t},equals(e,t){return Ut.equals(e.anchor,t.anchor)&&Ut.equals(e.focus,t.focus)},includes(e,t){if(pe.isRange(t)){if(pe.includes(e,t.anchor)||pe.includes(e,t.focus))return!0;var[n,r]=pe.edges(e),[i,a]=pe.edges(t);return Ut.isBefore(n,i)&&Ut.isAfter(r,a)}var[o,s]=pe.edges(e),l=!1,c=!1;return Ut.isPoint(t)?(l=Ut.compare(t,o)>=0,c=Ut.compare(t,s)<=0):(l=ae.compare(t,o.path)>=0,c=ae.compare(t,s.path)<=0),l&&c},intersection(e,t){var n=yf(e,yMt),[r,i]=pe.edges(e),[a,o]=pe.edges(t),s=Ut.isBefore(r,a)?a:r,l=Ut.isBefore(i,o)?i:o;return Ut.isBefore(l,s)?null:vMt({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return Ut.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Ut.equals(t,n)},isExpanded(e){return!pe.isCollapsed(e)},isForward(e){return!pe.isBackward(e)},isRange(e){return bo(e)&&Ut.isPoint(e.anchor)&&Ut.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=pe.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tH(e,r=>{if(r===null)return null;var{affinity:i="inward"}=n,a,o;if(i==="inward"){var s=pe.isCollapsed(r);pe.isForward(r)?(a="forward",o=s?a:"backward"):(a="backward",o=s?a:"forward")}else i==="outward"?pe.isForward(r)?(a="backward",o="forward"):(a="forward",o="backward"):(a=i,o=i);var l=Ut.transform(r.anchor,t,{affinity:a}),c=Ut.transform(r.focus,t,{affinity:o});if(!l||!c)return null;r.anchor=l,r.focus=c})}},Ute=e=>bo(e)&&Ie.isNodeList(e.children)&&!B.isEditor(e),Ye={isAncestor(e){return bo(e)&&Ie.isNodeList(e.children)},isElement:Ute,isElementList(e){return Array.isArray(e)&&e.every(t=>Ye.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Ute(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},bMt=["children"],xMt=["text"],Hte=new WeakMap,Ie={ancestor(e,t){var n=Ie.get(e,t);if(Be.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Oa.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ae.ancestors(t,n)){var i=Ie.ancestor(e,r),a=[i,r];yield a}}()},child(e,t){if(Be.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Oa.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Oa.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,i=Ie.ancestor(e,t),{children:a}=i,o=r?a.length-1:0;r?o>=0:o<a.length;){var s=Ie.child(i,o),l=t.concat(o);yield[s,l],o=r?o-1:o+1}}()},common(e,t,n){var r=ae.common(t,n),i=Ie.get(e,r);return[i,r]},descendant(e,t){var n=Ie.get(e,t);if(B.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Oa.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ie.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ie.nodes(e,t))Ye.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Ye.isAncestor(e)){var t=yf(e,bMt);return t}else{var t=yf(e,xMt);return t}},first(e,t){for(var n=t.slice(),r=Ie.get(e,n);r&&!(Be.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Be.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Oa.stringify(e)));var n=tH({children:e.children},r=>{var[i,a]=pe.edges(t),o=Ie.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!pe.includes(t,m)}});for(var[,s]of o){if(!pe.includes(t,s)){var l=Ie.parent(r,s),c=s[s.length-1];l.children.splice(c,1)}if(ae.equals(s,a.path)){var d=Ie.leaf(r,s);d.text=d.text.slice(0,a.offset)}if(ae.equals(s,i.path)){var h=Ie.leaf(r,s);h.text=h.text.slice(i.offset)}}B.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Be.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Oa.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Be.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){return Be.isText(e)||Ye.isElement(e)||B.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Hte.get(e);if(t!==void 0)return t;var n=e.every(r=>Ie.isNode(r));return Hte.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ie.get(e,n);r&&!(Be.isText(r)||r.children.length===0);){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=Ie.get(e,t);if(!Be.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Oa.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ae.levels(t,n)){var i=Ie.get(e,r);yield[i,r]}}()},matches(e,t){return Ye.isElement(e)&&Ye.isElementProps(t)&&Ye.matches(e,t)||Be.isText(e)&&Be.isTextProps(t)&&Be.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:i=[],to:a}=t,o=new Set,s=[],l=e;!(a&&(r?ae.isBefore(s,a):ae.isAfter(s,a)));){if(o.has(l)||(yield[l,s]),!o.has(l)&&!Be.isText(l)&&l.children.length!==0&&(n==null||n([l,s])===!1)){o.add(l);var c=r?l.children.length-1:0;ae.isAncestor(s,i)&&(c=i[s.length]),s=s.concat(c),l=Ie.get(e,s);continue}if(s.length===0)break;if(!r){var d=ae.next(s);if(Ie.has(e,d)){s=d,l=Ie.get(e,s);continue}}if(r&&s[s.length-1]!==0){var h=ae.previous(s);s=h,l=Ie.get(e,s);continue}s=ae.parent(s),l=Ie.get(e,s),o.add(l)}}()},parent(e,t){var n=ae.parent(t),r=Ie.get(e,n);if(Be.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return Be.isText(e)?e.text:e.children.map(Ie.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ie.nodes(e,t))Be.isText(n)&&(yield[n,r])}()}};function Wte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var z1={isNodeOperation(e){return z1.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!bo(e))return!1;switch(e.type){case"insert_node":return ae.isPath(e.path)&&Ie.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ae.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ae.isPath(e.path)&&bo(e.properties);case"move_node":return ae.isPath(e.path)&&ae.isPath(e.newPath);case"remove_node":return ae.isPath(e.path)&&Ie.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ae.isPath(e.path);case"set_node":return ae.isPath(e.path)&&bo(e.properties)&&bo(e.newProperties);case"set_selection":return e.properties===null&&pe.isRange(e.newProperties)||e.newProperties===null&&pe.isRange(e.properties)||bo(e.properties)&&bo(e.newProperties);case"split_node":return ae.isPath(e.path)&&typeof e.position=="number"&&bo(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>z1.isOperation(t))},isSelectionOperation(e){return z1.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return z1.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ii(ii({},e),{},{type:"remove_node"});case"insert_text":return ii(ii({},e),{},{type:"remove_text"});case"merge_node":return ii(ii({},e),{},{type:"split_node",path:ae.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ae.equals(t,n))return e;if(ae.isSibling(n,t))return ii(ii({},e),{},{path:t,newPath:n});var r=ae.transform(n,e),i=ae.transform(ae.next(n),e);return ii(ii({},e),{},{path:r,newPath:i})}case"remove_node":return ii(ii({},e),{},{type:"insert_node"});case"remove_text":return ii(ii({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:o}=e;return ii(ii({},e),{},{properties:o,newProperties:a})}case"set_selection":{var{properties:s,newProperties:l}=e;return s==null?ii(ii({},e),{},{properties:l,newProperties:null}):l==null?ii(ii({},e),{},{properties:null,newProperties:s}):ii(ii({},e),{},{properties:l,newProperties:s})}case"split_node":return ii(ii({},e),{},{type:"merge_node",path:ae.next(e.path)})}}},Gte=new WeakMap,wMt=e=>{var t=Gte.get(e);if(t!==void 0)return t;if(!bo(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||bo(e.marks))&&(e.selection===null||pe.isRange(e.selection))&&Ie.isNodeList(e.children)&&z1.isOperationList(e.operations);return Gte.set(e,n),n},B={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return wMt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,n)=>e.shouldMergeNodesRemovePrevNode(t,n)},CMt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ae.isPath)}};function Yte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ut={compare(e,t){var n=ae.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Ut.compare(e,t)===1},isBefore(e,t){return Ut.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ae.equals(e.path,t.path)},isPoint(e){return bo(e)&&typeof e.offset=="number"&&ae.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tH(e,r=>{if(r===null)return null;var{affinity:i="forward"}=n,{path:a,offset:o}=r;switch(t.type){case"insert_node":case"move_node":{r.path=ae.transform(a,t,n);break}case"insert_text":{ae.equals(t.path,a)&&(t.offset<o||t.offset===o&&i==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{ae.equals(t.path,a)&&(r.offset+=t.position),r.path=ae.transform(a,t,n);break}case"remove_text":{ae.equals(t.path,a)&&t.offset<=o&&(r.offset-=Math.min(o-t.offset,t.text.length));break}case"remove_node":{if(ae.equals(t.path,a)||ae.isAncestor(t.path,a))return null;r.path=ae.transform(a,t,n);break}case"split_node":{if(ae.equals(t.path,a)){if(t.position===o&&i==null)return null;(t.position<o||t.position===o&&i==="forward")&&(r.offset-=t.position,r.path=ae.transform(a,t,qte(qte({},n),{},{affinity:"forward"})))}else r.path=ae.transform(a,t,n);break}}})}},Kte=void 0,Oa={setScrubber(e){Kte=e},stringify(e){return JSON.stringify(e,Kte)}},SMt=["text"],EMt=["anchor","focus"];function Zte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Be={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function i(a){var o=yf(a,SMt);return o}return h2e(r?i(e):e,r?i(t):t)},isText(e){return bo(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Be.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[md({},e)];for(var r of t){var i=yf(r,EMt),[a,o]=pe.edges(r),s=[],l=0,c=a.offset,d=o.offset;for(var h of n){var{length:p}=h.text,m=l;if(l+=p,c<=m&&l<=d){Object.assign(h,i),s.push(h);continue}if(c!==d&&(c===l||d===m)||c>l||d<m||d===m&&m!==0){s.push(h);continue}var g=h,y=void 0,v=void 0;if(d<l){var b=d-m;v=md(md({},g),{},{text:g.text.slice(b)}),g=md(md({},g),{},{text:g.text.slice(0,b)})}if(c>m){var x=c-m;y=md(md({},g),{},{text:g.text.slice(0,x)}),g=md(md({},g),{},{text:g.text.slice(x)})}Object.assign(g,i),y&&s.push(y),s.push(g),v&&s.push(v)}n=s}return n}},nH=e=>e.selection?e.selection:e.children.length>0?B.end(e,[]):[0],gb=(e,t)=>{var[n]=B.node(e,t);return r=>r===n},rH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,i=n?IMt(t):t,a=Vt.None,o=Vt.None,s=0,l=null,c=null;for(var d of i){var h=d.codePointAt(0);if(!h)break;var p=zMt(d,h);if([a,o]=r?[o,p]:[p,a],U1(a,Vt.ZWJ)&&U1(o,Vt.ExtPict)&&(r?l=Xte(t.substring(0,s)):l=Xte(t.substring(0,t.length-s)),!l)||U1(a,Vt.RI)&&U1(o,Vt.RI)&&(c!==null?c=!c:r?c=!0:c=YMt(t.substring(0,t.length-s)),!c)||a!==Vt.None&&o!==Vt.None&&HMt(a,o))break;s+=d.length}return s||1},kMt=/\s/,_Mt=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,TMt=/['\u2018\u2019]/,AMt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,i=!1;t.length>0;){var a=rH(t,n),[o,s]=iH(t,a,n);if(jMt(o,s,n))i=!0,r+=a;else if(!i)r+=a;else break;t=s}return r},iH=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},jMt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(kMt.test(t))return!1;if(TMt.test(t)){var i=rH(n,r),[a,o]=iH(n,i,r);if(e(a,o,r))return!0}return!_Mt.test(t)},IMt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var i=t.charAt(n-r);if(MMt(i.charCodeAt(0))){var a=t.charAt(n-r-1);if(DMt(a.charCodeAt(0))){yield a+i,r++;continue}}yield i}},DMt=e=>e>=55296&&e<=56319,MMt=e=>e>=56320&&e<=57343,Vt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Vt||(Vt={}));var RMt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,OMt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,$Mt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,PMt=/^[\u1100-\u115F\uA960-\uA97C]$/,FMt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,NMt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,LMt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,BMt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,VMt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,zMt=(e,t)=>{var n=Vt.Any;return e.search(RMt)!==-1&&(n|=Vt.Extend),t===8205&&(n|=Vt.ZWJ),t>=127462&&t<=127487&&(n|=Vt.RI),e.search(OMt)!==-1&&(n|=Vt.Prepend),e.search($Mt)!==-1&&(n|=Vt.SpacingMark),e.search(PMt)!==-1&&(n|=Vt.L),e.search(FMt)!==-1&&(n|=Vt.V),e.search(NMt)!==-1&&(n|=Vt.T),e.search(LMt)!==-1&&(n|=Vt.LV),e.search(BMt)!==-1&&(n|=Vt.LVT),e.search(VMt)!==-1&&(n|=Vt.ExtPict),n};function U1(e,t){return(e&t)!==0}var UMt=[[Vt.L,Vt.L|Vt.V|Vt.LV|Vt.LVT],[Vt.LV|Vt.V,Vt.V|Vt.T],[Vt.LVT|Vt.T,Vt.T],[Vt.Any,Vt.Extend|Vt.ZWJ],[Vt.Any,Vt.SpacingMark],[Vt.Prepend,Vt.Any],[Vt.ZWJ,Vt.ExtPict],[Vt.RI,Vt.RI]];function HMt(e,t){return UMt.findIndex(n=>U1(e,n[0])&&U1(t,n[1]))===-1}var WMt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Xte=e=>e.search(WMt)!==-1,GMt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,YMt=e=>{var t=e.match(GMt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},qMt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=nH(e)}=n;if(ae.isPath(i)&&(i=B.range(e,i)),pe.isRange(i))if(pe.isCollapsed(i))i=i.anchor;else{var a=pe.end(i);if(!r&&B.void(e,{at:a}))return;var o=pe.start(i),s=B.pointRef(e,o),l=B.pointRef(e,a);ce.delete(e,{at:i,voids:r});var c=s.unref(),d=l.unref();i=c||d,ce.setSelection(e,{anchor:i,focus:i})}if(!(!r&&B.void(e,{at:i})||B.elementReadOnly(e,{at:i}))){var{path:h,offset:p}=i;t.length>0&&e.apply({type:"insert_text",path:h,offset:p,text:t})}})}};function Jte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ce=B2(B2(B2(B2({},hMt),pMt),mMt),qMt),D_=new WeakMap,KMt=e=>D_.get(e)||!1,ZMt=(e,t,n)=>{var r=D_.get(e)||!1;D_.set(e,!0);try{t(),n()}finally{D_.set(e,r)}};function p2e(e,t,n){var r=HA.get(e)||[],i=WA.get(e)||new Set,a,o,s=h=>{if(h){var p=h.join(",");o.has(p)||(o.add(p),a.push(h))}};if(n){a=[],o=new Set;for(var l of r){var c=n(l);s(c)}}else a=r,o=i;for(var d of t)s(d);HA.set(e,a),WA.set(e,o)}var XMt=(e,t)=>{for(var n of B.pathRefs(e))sMt.transform(n,t);for(var r of B.pointRefs(e))lMt.transform(r,t);for(var i of B.rangeRefs(e))uMt.transform(i,t);if(!KMt(e)){var a=ae.operationCanTransformPath(t)?o=>ae.transform(o,t):void 0;p2e(e,e.getDirtyPaths(t),a)}ce.transform(e,t),e.operations.push(t),B.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Xw.get(e)||(Xw.set(e,!0),Promise.resolve().then(()=>{Xw.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},JMt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ae.levels(n)}case"insert_node":{var{node:r,path:i}=t,a=ae.levels(i),o=Be.isText(r)?[]:Array.from(Ie.nodes(r),j=>{var[,A]=j;return i.concat(A)});return[...a,...o]}case"merge_node":{var{path:s}=t,l=ae.ancestors(s),c=ae.previous(s);return[...l,c]}case"move_node":{var{path:d,newPath:h}=t;if(ae.equals(d,h))return[];var p=[],m=[];for(var g of ae.ancestors(d)){var y=ae.transform(g,t);p.push(y)}for(var v of ae.ancestors(h)){var b=ae.transform(v,t);m.push(b)}var x=m[m.length-1],w=h[h.length-1],C=x.concat(w);return[...p,...m,C]}case"remove_node":{var{path:S}=t,E=ae.ancestors(S);return[...E]}case"split_node":{var{path:k}=t,_=ae.levels(k),T=ae.next(k);return[..._,T]}default:return[]}},QMt=e=>{var{selection:t}=e;return t?Ie.fragment(e,t):[]},eRt=(e,t)=>{var[n,r]=t;if(!Be.isText(n)){if(Ye.isElement(n)&&n.children.length===0){var i={text:""};ce.insertNodes(e,i,{at:r.concat(0),voids:!0});return}for(var a=B.isEditor(n)?!1:Ye.isElement(n)&&(e.isInline(n)||n.children.length===0||Be.isText(n.children[0])||e.isInline(n.children[0])),o=0,s=0;s<n.children.length;s++,o++){var l=Ie.get(e,r);if(!Be.isText(l)){var c=l.children[o],d=l.children[o-1],h=s===n.children.length-1,p=Be.isText(c)||Ye.isElement(c)&&e.isInline(c);if(p!==a)ce.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(Ye.isElement(c)){if(e.isInline(c)){if(d==null||!Be.isText(d)){var m={text:""};ce.insertNodes(e,m,{at:r.concat(o),voids:!0}),o++}else if(h){var g={text:""};ce.insertNodes(e,g,{at:r.concat(o+1),voids:!0}),o++}}}else{if(!Be.isText(c)&&!("children"in c)){var y=c;y.children=[]}d!=null&&Be.isText(d)&&(Be.equals(c,d,{loose:!0})?(ce.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):d.text===""?(ce.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):c.text===""&&(ce.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}}}},tRt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,i=r*42;if(n>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},nRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:i="lowest",at:a=t.selection,match:o}=n;if(a){var s=B.path(t,a),l=i==="lowest";for(var[c,d]of B.levels(t,{at:s,voids:r,match:o,reverse:l}))if(!Be.isText(c)){if(pe.isRange(a)){if(ae.isAncestor(d,a.anchor.path)&&ae.isAncestor(d,a.focus.path))return[c,d]}else if(!ae.equals(s,d))return[c,d]}}};function Qte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ene(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qte(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rRt=(e,t,n)=>{var{selection:r}=e;if(r){var i=(h,p)=>{if(!Be.isText(h))return!1;var[m,g]=B.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},a=pe.isExpanded(r),o=!1;if(!a){var[s,l]=B.node(e,r);if(s&&i(s,l)){var[c]=B.parent(e,l);o=c&&e.markableVoid(c)}}if(a||o)ce.setNodes(e,{[t]:n},{match:i,split:!0,voids:!0});else{var d=ene(ene({},B.marks(e)||{}),{},{[t]:n});e.marks=d,Xw.get(e)||e.onChange()}}};function tne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var iRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.point(t,n,{edge:"end"}),a=B.end(t,[]),o={anchor:i,focus:a},{distance:s=1}=r,l=0,c;for(var d of B.positions(t,nne(nne({},r),{},{at:o}))){if(l>s)break;l!==0&&(c=d),l++}return c};function rne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.start(t,[]),a=B.point(t,n,{edge:"start"}),o={anchor:i,focus:a},{distance:s=1}=r,l=0,c;for(var d of B.positions(t,ine(ine({},r),{},{at:o,reverse:!0}))){if(l>s)break;l!==0&&(c=d),l++}return c},oRt=(e,t)=>{var{selection:n}=e;n&&pe.isCollapsed(n)&&ce.delete(e,{unit:t,reverse:!0})},sRt=(e,t)=>{var{selection:n}=e;n&&pe.isCollapsed(n)&&ce.delete(e,{unit:t})},lRt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&pe.isExpanded(r)&&ce.delete(t,{reverse:n==="backward"})},uRt=(e,t)=>[B.start(e,t),B.end(e,t)];function ane(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function one(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ane(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ane(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,one(one({},n),{},{match:r=>Ye.isElement(r)&&B.isElementReadOnly(t,r)}))},dRt=(e,t)=>B.point(e,t,{edge:"end"}),fRt=(e,t)=>{var n=B.path(e,t,{edge:"start"});return B.node(e,n)},hRt=(e,t)=>{var n=B.range(e,t);return Ie.fragment(e,n)};function sne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,lne(lne({},n),{},{match:r=>Ye.isElement(r)&&B.isVoid(t,r)}))},mRt=(e,t)=>t.children.some(n=>Ye.isElement(n)&&B.isBlock(e,n)),gRt=(e,t)=>t.children.some(n=>Be.isText(n)||B.isInline(e,n)),yRt=(e,t)=>Ie.has(e,t),vRt=(e,t)=>t.children.every(n=>Be.isText(n)),bRt=e=>{ce.splitNodes(e,{always:!0})},xRt=(e,t,n)=>{ce.insertNodes(e,t,n)},wRt=e=>{ce.splitNodes(e,{always:!0})};function une(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?une(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):une(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i,marks:a}=t;if(i){if(a){var o=CRt({text:n},a);ce.insertNodes(t,o,{at:r.at,voids:r.voids})}else ce.insertText(t,n,r);t.marks=null}},ERt=(e,t)=>!e.isInline(t),kRt=(e,t,n)=>B.isStart(e,t,n)||B.isEnd(e,t,n),_Rt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&Be.isText(r)&&r.text===""&&!e.isVoid(t)},TRt=(e,t,n)=>{var r=B.end(e,n);return Ut.equals(t,r)},ARt=e=>{var t=f2e.get(e);return t===void 0?!0:t},jRt=(e,t,n)=>{if(t.offset!==0)return!1;var r=B.start(e,n);return Ut.equals(t,r)},IRt=(e,t)=>{var n=B.path(e,t,{edge:"end"});return B.node(e,n)},DRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=Ie.leaf(t,i);return[a,i]};function MRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!n){var o=[],s=B.path(e,n);for(var[l,c]of Ie.levels(e,s))if(a(l,c)&&(o.push([l,c]),!i&&Ye.isElement(l)&&B.isVoid(e,l)))break;r&&o.reverse(),yield*o}}()}var RRt=["text"],ORt=["text"],$Rt=function(t){var{marks:n,selection:r}=t;if(!r)return null;var{anchor:i,focus:a}=r;if(n)return n;if(pe.isExpanded(r)){var o=B.isEnd(t,i,i.path);if(o){var s=B.after(t,i);s&&(i=s)}var[l]=B.nodes(t,{match:Be.isText,at:{anchor:i,focus:a}});if(l){var[c]=l,d=yf(c,RRt);return d}else return{}}var{path:h}=i,[p]=B.leaf(t,h);if(i.offset===0){var m=B.previous(t,{at:h,match:Be.isText}),g=B.above(t,{match:C=>Ye.isElement(C)&&B.isVoid(t,C)&&t.markableVoid(C)});if(!g){var y=B.above(t,{match:C=>Ye.isElement(C)&&B.isBlock(t,C)});if(m&&y){var[v,b]=m,[,x]=y;ae.isAncestor(x,b)&&(p=v)}}}var w=yf(p,ORt);return w},PRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection}=n;if(o){var s=B.after(t,o,{voids:i});if(s){var[,l]=B.last(t,[]),c=[s.path,l];if(ae.isPath(o)&&o.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(ae.isPath(o)){var[d]=B.parent(t,o);a=p=>d.children.includes(p)}else a=()=>!0;var[h]=B.nodes(t,{at:c,match:a,mode:r,voids:i});return h}}},FRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=Ie.get(t,i);return[a,i]};function NRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:i=!1,reverse:a=!1,voids:o=!1,ignoreNonSelectable:s=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var c,d;if(CMt.isSpan(n))c=n[0],d=n[1];else{var h=B.path(e,n,{edge:"start"}),p=B.path(e,n,{edge:"end"});c=a?p:h,d=a?h:p}var m=Ie.nodes(e,{reverse:a,from:c,to:d,pass:C=>{var[S]=C;return Ye.isElement(S)?!!(!o&&(B.isVoid(e,S)||B.isElementReadOnly(e,S))||s&&!B.isSelectable(e,S)):!1}}),g=[],y;for(var[v,b]of m)if(!(s&&Ye.isElement(v)&&!B.isSelectable(e,v))){var x=y&&ae.compare(b,y[1])===0;if(!(r==="highest"&&x)){if(!l(v,b)){if(i&&!x&&Be.isText(v))return;continue}if(r==="lowest"&&x){y=[v,b];continue}var w=r==="lowest"?y:[v,b];w&&(i?g.push(w):yield w),y=[v,b]}}r==="lowest"&&y&&(i?g.push(y):yield y),i&&(yield*g)}}()}var LRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:i}=n,a=d=>HA.get(d)||[],o=d=>WA.get(d)||new Set,s=d=>{var h=a(d).pop(),p=h.join(",");return o(d).delete(p),h};if(B.isNormalizing(t)){if(r){var l=Array.from(Ie.nodes(t),d=>{var[,h]=d;return h}),c=new Set(l.map(d=>d.join(",")));HA.set(t,l),WA.set(t,c)}a(t).length!==0&&B.withoutNormalizing(t,()=>{for(var d of a(t))if(Ie.has(t,d)){var h=B.node(t,d),[p,m]=h;Ye.isElement(p)&&p.children.length===0&&t.normalizeNode(h,{operation:i})}for(var g=a(t),y=g.length,v=0;g.length!==0;){if(!t.shouldNormalize({dirtyPaths:g,iteration:v,initialDirtyPathsLength:y,operation:i}))return;var b=s(t);if(Ie.has(t,b)){var x=B.node(t,b);t.normalizeNode(x,{operation:i})}v++,g=a(t)}})}},BRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=ae.parent(i),o=B.node(t,a);return o},VRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.pathRefs(t);return l.delete(a),a.current=null,s}},o=B.pathRefs(t);return o.add(a),a},zRt=e=>{var t=Nte.get(e);return t||(t=new Set,Nte.set(e,t)),t},URt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:i,edge:a}=r;if(ae.isPath(n)){if(a==="start"){var[,o]=Ie.first(t,n);n=o}else if(a==="end"){var[,s]=Ie.last(t,n);n=s}}return pe.isRange(n)&&(a==="start"?n=pe.start(n):a==="end"?n=pe.end(n):n=ae.common(n.anchor.path,n.focus.path)),Ut.isPoint(n)&&(n=n.path),i!=null&&(n=n.slice(0,i)),n},HRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.pointRefs(t);return l.delete(a),a.current=null,s}},o=B.pointRefs(t);return o.add(a),a},WRt=e=>{var t=Lte.get(e);return t||(t=new Set,Lte.set(e,t)),t},GRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:i="start"}=r;if(ae.isPath(n)){var a;if(i==="end"){var[,o]=Ie.last(t,n);a=o}else{var[,s]=Ie.first(t,n);a=s}var l=Ie.get(t,a);if(!Be.isText(l))throw new Error("Cannot get the ".concat(i," point in the node at path [").concat(n,"] because it has no ").concat(i," text node."));return{path:a,offset:i==="end"?l.text.length:0}}if(pe.isRange(n)){var[c,d]=pe.edges(n);return i==="start"?c:d}return n};function YRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:a=!1,ignoreNonSelectable:o=!1}=t;if(!n)return;var s=B.range(e,n),[l,c]=pe.edges(s),d=i?c:l,h=!1,p="",m=0,g=0,y=0;for(var[v,b]of B.nodes(e,{at:n,reverse:i,voids:a,ignoreNonSelectable:o})){if(Ye.isElement(v)){if(!a&&(e.isVoid(v)||e.isElementReadOnly(v))){yield B.start(e,b);continue}if(e.isInline(v))continue;if(B.hasInlines(e,v)){var x=ae.isAncestor(b,c.path)?c:B.end(e,b),w=ae.isAncestor(b,l.path)?l:B.start(e,b);p=B.string(e,{anchor:w,focus:x},{voids:a}),h=!0}}if(Be.isText(v)){var C=ae.equals(b,d.path);for(C?(g=i?d.offset:v.text.length-d.offset,y=d.offset):(g=v.text.length,y=i?g:0),(C||h||r==="offset")&&(yield{path:b,offset:y},h=!1);;){if(m===0){if(p==="")break;m=S(p,r,i),p=iH(p,m,i)[1]}if(y=i?y-m:y+m,g=g-m,g<0){m=-g;break}m=0,yield{path:b,offset:y}}}}function S(E,k,_){return k==="character"?rH(E,_):k==="word"?AMt(E,_):k==="line"||k==="block"?E.length:1}}()}var qRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection}=n;if(o){var s=B.before(t,o,{voids:i});if(s){var[,l]=B.first(t,[]),c=[s.path,l];if(ae.isPath(o)&&o.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(ae.isPath(o)){var[d]=B.parent(t,o);a=p=>d.children.includes(p)}else a=()=>!0;var[h]=B.nodes(t,{reverse:!0,at:c,match:a,mode:r,voids:i});return h}}},KRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.rangeRefs(t);return l.delete(a),a.current=null,s}},o=B.rangeRefs(t);return o.add(a),a},ZRt=e=>{var t=Bte.get(e);return t||(t=new Set,Bte.set(e,t)),t},XRt=(e,t,n)=>{if(pe.isRange(t)&&!n)return t;var r=B.start(e,t),i=B.end(e,n||t);return{anchor:r,focus:i}};function cne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QRt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,h)=>{if(!Be.isText(d))return!1;var[p,m]=B.parent(e,h);return!e.isVoid(p)||e.markableVoid(p)},i=pe.isExpanded(n),a=!1;if(!i){var[o,s]=B.node(e,n);if(o&&r(o,s)){var[l]=B.parent(e,s);a=l&&e.markableVoid(l)}}if(i||a)ce.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var c=JRt({},B.marks(e)||{});delete c[t],e.marks=c,Xw.get(e)||e.onChange()}}},eOt=(e,t)=>{f2e.set(e,t)},tOt=(e,t)=>B.point(e,t,{edge:"start"}),nOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,a=B.range(t,n),[o,s]=pe.edges(a),l="";for(var[c,d]of B.nodes(t,{at:a,match:Be.isText,voids:i})){var h=c.text;ae.equals(d,s.path)&&(h=h.slice(0,s.offset)),ae.equals(d,o.path)&&(h=h.slice(o.offset)),l+=h}return l},rOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,[a,o]=pe.edges(n);if(a.offset!==0||o.offset!==0||pe.isCollapsed(n)||ae.hasPrevious(o.path))return n;var s=B.above(t,{at:o,match:g=>Ye.isElement(g)&&B.isBlock(t,g),voids:i}),l=s?s[1]:[],c=B.start(t,a),d={anchor:c,focus:o},h=!0;for(var[p,m]of B.nodes(t,{at:d,match:Be.isText,reverse:!0,voids:i})){if(h){h=!1;continue}if(p.text!==""||ae.isBefore(m,l)){o={path:m,offset:p.text.length};break}}return{anchor:a,focus:o}},iOt=(e,t)=>{var n=B.isNormalizing(e);B.setNormalizing(e,!1);try{t()}finally{B.setNormalizing(e,n)}B.normalize(e)},aOt=(e,t,n)=>{var[r,i]=t;return Ye.isElement(r)&&B.isEmpty(e,r)||Be.isText(r)&&r.text===""&&i[i.length-1]!==0},oOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var r,i,{reverse:a=!1,unit:o="character",distance:s=1,voids:l=!1}=n,{at:c=t.selection,hanging:d=!1}=n;if(c){var h=!1;if(pe.isRange(c)&&pe.isCollapsed(c)&&(h=!0,c=c.anchor),Ut.isPoint(c)){var p=B.void(t,{at:c,mode:"highest"});if(!l&&p){var[,m]=p;c=m}else{var g={unit:o,distance:s},y=a?B.before(t,c,g)||B.start(t,[]):B.after(t,c,g)||B.end(t,[]);c={anchor:c,focus:y},d=!0}}if(ae.isPath(c)){ce.removeNodes(t,{at:c,voids:l});return}if(!pe.isCollapsed(c)){if(!d){var[,v]=pe.edges(c),b=B.end(t,[]);Ut.equals(v,b)||(c=B.unhangRange(t,c,{voids:l}))}var[x,w]=pe.edges(c),C=B.above(t,{match:oe=>Ye.isElement(oe)&&B.isBlock(t,oe),at:x,voids:l}),S=B.above(t,{match:oe=>Ye.isElement(oe)&&B.isBlock(t,oe),at:w,voids:l}),E=C&&S&&!ae.equals(C[1],S[1]),k=ae.equals(x.path,w.path),_=l?null:(r=B.void(t,{at:x,mode:"highest"}))!==null&&r!==void 0?r:B.elementReadOnly(t,{at:x,mode:"highest"}),T=l?null:(i=B.void(t,{at:w,mode:"highest"}))!==null&&i!==void 0?i:B.elementReadOnly(t,{at:w,mode:"highest"});if(_){var j=B.before(t,x);j&&C&&ae.isAncestor(C[1],j.path)&&(x=j)}if(T){var A=B.after(t,w);A&&S&&ae.isAncestor(S[1],A.path)&&(w=A)}var I=[],M;for(var D of B.nodes(t,{at:c,voids:l})){var[O,R]=D;M&&ae.compare(R,M)===0||(!l&&Ye.isElement(O)&&(B.isVoid(t,O)||B.isElementReadOnly(t,O))||!ae.isCommon(R,x.path)&&!ae.isCommon(R,w.path))&&(I.push(D),M=R)}var F=Array.from(I,oe=>{var[,ue]=oe;return B.pathRef(t,ue)}),P=B.pointRef(t,x),V=B.pointRef(t,w),U="";if(!k&&!_){var H=P.current,[W]=B.leaf(t,H),{path:Z}=H,{offset:J}=x,re=W.text.slice(J);re.length>0&&(t.apply({type:"remove_text",path:Z,offset:J,text:re}),U=re)}if(F.reverse().map(oe=>oe.unref()).filter(oe=>oe!==null).forEach(oe=>ce.removeNodes(t,{at:oe,voids:l})),!T){var G=V.current,[te]=B.leaf(t,G),{path:X}=G,K=k?x.offset:0,Q=te.text.slice(K,w.offset);Q.length>0&&(t.apply({type:"remove_text",path:X,offset:K,text:Q}),U=Q)}!k&&E&&V.current&&P.current&&ce.mergeNodes(t,{at:V.current,hanging:!0,voids:l}),h&&a&&o==="character"&&U.length>1&&U.match(/[\u0E00-\u0E7F]+/)&&ce.insertText(t,U.slice(0,U.length-s));var ee=P.unref(),se=V.unref(),le=a?ee||se:se||ee;n.at==null&&le&&ce.select(t,le)}}})},sOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:a=!1}=r,{at:o=nH(t),batchDirty:s=!0}=r;if(n.length){if(pe.isRange(o))if(i||(o=B.unhangRange(t,o,{voids:a})),pe.isCollapsed(o))o=o.anchor;else{var[,l]=pe.edges(o);if(!a&&B.void(t,{at:l}))return;var c=B.pointRef(t,l);ce.delete(t,{at:o}),o=c.unref()}else ae.isPath(o)&&(o=B.start(t,o));if(!(!a&&B.void(t,{at:o}))){var d=B.above(t,{at:o,match:re=>Ye.isElement(re)&&B.isInline(t,re),mode:"highest",voids:a});if(d){var[,h]=d;if(B.isEnd(t,o,h)){var p=B.after(t,h);o=p}else if(B.isStart(t,o,h)){var m=B.before(t,h);o=m}}var g=B.above(t,{match:re=>Ye.isElement(re)&&B.isBlock(t,re),at:o,voids:a}),[,y]=g,v=B.isStart(t,o,y),b=B.isEnd(t,o,y),x=v&&b,w=!v||v&&b,C=!b,[,S]=Ie.first({children:n},[]),[,E]=Ie.last({children:n},[]),k=[],_=re=>{var[G,te]=re,X=te.length===0;return X?!1:x?!0:!(w&&ae.isAncestor(te,S)&&Ye.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||C&&ae.isAncestor(te,E)&&Ye.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var T of Ie.nodes({children:n},{pass:_}))_(T)&&k.push(T);var j=[],A=[],I=[],M=!0,D=!1;for(var[O]of k)Ye.isElement(O)&&!t.isInline(O)?(M=!1,D=!0,A.push(O)):M?j.push(O):I.push(O);var[R]=B.nodes(t,{at:o,match:re=>Be.isText(re)||B.isInline(t,re),mode:"highest",voids:a}),[,F]=R,P=B.isStart(t,o,F),V=B.isEnd(t,o,F),U=B.pathRef(t,b&&!I.length?ae.next(y):y),H=B.pathRef(t,V?ae.next(F):F);ce.splitNodes(t,{at:o,match:re=>D?Ye.isElement(re)&&B.isBlock(t,re):Be.isText(re)||B.isInline(t,re),mode:D?"lowest":"highest",always:D&&(!v||j.length>0)&&(!b||I.length>0),voids:a});var W=B.pathRef(t,!P||P&&V?ae.next(F):F);if(ce.insertNodes(t,j,{at:W.current,match:re=>Be.isText(re)||B.isInline(t,re),mode:"highest",voids:a,batchDirty:s}),x&&!j.length&&A.length&&!I.length&&ce.delete(t,{at:y,voids:a}),ce.insertNodes(t,A,{at:U.current,match:re=>Ye.isElement(re)&&B.isBlock(t,re),mode:"lowest",voids:a,batchDirty:s}),ce.insertNodes(t,I,{at:H.current,match:re=>Be.isText(re)||B.isInline(t,re),mode:"highest",voids:a,batchDirty:s}),!r.at){var Z;if(I.length>0&&H.current?Z=ae.previous(H.current):A.length>0&&U.current?Z=ae.previous(U.current):W.current&&(Z=ae.previous(W.current)),Z){var J=B.end(t,Z);ce.select(t,J)}}W.unref(),U.unref(),H.unref()}}})},lOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:i}=t;if(i){if(r==="anchor")ce.select(t,i.anchor);else if(r==="focus")ce.select(t,i.focus);else if(r==="start"){var[a]=pe.edges(i);ce.select(t,a)}else if(r==="end"){var[,o]=pe.edges(i);ce.select(t,o)}}else return},uOt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},cOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:i=1,unit:a="character",reverse:o=!1}=n,{edge:s=null}=n;if(r){s==="start"&&(s=pe.isBackward(r)?"focus":"anchor"),s==="end"&&(s=pe.isBackward(r)?"anchor":"focus");var{anchor:l,focus:c}=r,d={distance:i,unit:a,ignoreNonSelectable:!0},h={};if(s==null||s==="anchor"){var p=o?B.before(t,l,d):B.after(t,l,d);p&&(h.anchor=p)}if(s==null||s==="focus"){var m=o?B.before(t,c,d):B.after(t,c,d);m&&(h.focus=m)}ce.setSelection(t,h)}},dOt=(e,t)=>{var{selection:n}=e;if(t=B.range(e,t),n){ce.setSelection(e,t);return}if(!pe.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Oa.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function dne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i}=t,{edge:a="both"}=r;if(i){a==="start"&&(a=pe.isBackward(i)?"focus":"anchor"),a==="end"&&(a=pe.isBackward(i)?"anchor":"focus");var{anchor:o,focus:s}=i,l=a==="anchor"?o:s;ce.setSelection(t,{[a==="anchor"?"anchor":"focus"]:fne(fne({},l),n)})}},hOt=(e,t)=>{var{selection:n}=e,r={},i={};if(n){for(var a in t)(a==="anchor"&&t.anchor!=null&&!Ut.equals(t.anchor,n.anchor)||a==="focus"&&t.focus!=null&&!Ut.equals(t.focus,n.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==n[a])&&(r[a]=n[a],i[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},pOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:a=!1,mode:o="lowest",batchDirty:s=!0}=r,{at:l,match:c,select:d}=r;if(Ie.isNode(n)&&(n=[n]),n.length!==0){var[h]=n;if(l||(l=nH(t),d!==!1&&(d=!0)),d==null&&(d=!1),pe.isRange(l))if(i||(l=B.unhangRange(t,l,{voids:a})),pe.isCollapsed(l))l=l.anchor;else{var[,p]=pe.edges(l),m=B.pointRef(t,p);ce.delete(t,{at:l}),l=m.unref()}if(Ut.isPoint(l)){c==null&&(Be.isText(h)?c=j=>Be.isText(j):t.isInline(h)?c=j=>Be.isText(j)||B.isInline(t,j):c=j=>Ye.isElement(j)&&B.isBlock(t,j));var[g]=B.nodes(t,{at:l.path,match:c,mode:o,voids:a});if(g){var[,y]=g,v=B.pathRef(t,y),b=B.isEnd(t,l,y);ce.splitNodes(t,{at:l,match:c,mode:o,voids:a});var x=v.unref();l=b?ae.next(x):x}else return}var w=ae.parent(l),C=l[l.length-1];if(!(!a&&B.void(t,{at:w}))){if(s){var S=[],E=ae.levels(w);ZMt(t,()=>{var j=function(){var M=w.concat(C);C++;var D={type:"insert_node",path:M,node:A};t.apply(D),l=ae.next(l),S.push(D),Be.isText?E.push(...Array.from(Ie.nodes(A),O=>{var[,R]=O;return M.concat(R)})):E.push(M)};for(var A of n)j()},()=>{p2e(t,E,j=>{var A=j;for(var I of S)if(ae.operationCanTransformPath(I)&&(A=ae.transform(A,I),!A))return null;return A})})}else for(var k of n){var _=w.concat(C);C++,t.apply({type:"insert_node",path:_,node:k}),l=ae.next(l)}if(l=ae.previous(l),d){var T=B.end(t,l);T&&ce.select(t,T)}}}})},mOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:i="lowest",voids:a=!1}=n,{match:o}=n;if(o==null&&(o=ae.isPath(r)?gb(t,r):C=>Ye.isElement(C)&&B.isBlock(t,C)),!!r){var s=B.nodes(t,{at:r,match:o,mode:i,voids:a}),l=Array.from(s,C=>{var[,S]=C;return B.pathRef(t,S)});for(var c of l){var d=c.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var h=B.node(t,ae.parent(d)),[p,m]=h,g=d[d.length-1],{length:y}=p.children;if(y===1){var v=ae.next(m);ce.moveNodes(t,{at:d,to:v,voids:a}),ce.removeNodes(t,{at:m,voids:a})}else if(g===0)ce.moveNodes(t,{at:d,to:m,voids:a});else if(g===y-1){var b=ae.next(m);ce.moveNodes(t,{at:d,to:b,voids:a})}else{var x=ae.next(d),w=ae.next(m);ce.splitNodes(t,{at:x,voids:a}),ce.moveNodes(t,{at:d,to:w,voids:a})}}}})},gOt=["text"],yOt=["children"],m2e=(e,t)=>{if(Ye.isElement(t)){var n=t;return B.isVoid(e,t)?!0:n.children.length===1?m2e(e,n.children[0]):!1}else return!B.isEditor(t)},vOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{match:r,at:i=t.selection}=n,{hanging:a=!1,voids:o=!1,mode:s="lowest"}=n;if(i){if(r==null)if(ae.isPath(i)){var[l]=B.parent(t,i);r=j=>l.children.includes(j)}else r=j=>Ye.isElement(j)&&B.isBlock(t,j);if(!a&&pe.isRange(i)&&(i=B.unhangRange(t,i,{voids:o})),pe.isRange(i))if(pe.isCollapsed(i))i=i.anchor;else{var[,c]=pe.edges(i),d=B.pointRef(t,c);ce.delete(t,{at:i}),i=d.unref(),n.at==null&&ce.select(t,i)}var[h]=B.nodes(t,{at:i,match:r,voids:o,mode:s}),p=B.previous(t,{at:i,match:r,voids:o,mode:s});if(!(!h||!p)){var[m,g]=h,[y,v]=p;if(!(g.length===0||v.length===0)){var b=ae.next(v),x=ae.common(g,v),w=ae.isSibling(g,v),C=Array.from(B.levels(t,{at:g}),j=>{var[A]=j;return A}).slice(x.length).slice(0,-1),S=B.above(t,{at:g,mode:"highest",match:j=>C.includes(j)&&m2e(t,j)}),E=S&&B.pathRef(t,S[1]),k,_;if(Be.isText(m)&&Be.isText(y)){var T=yf(m,gOt);_=y.text.length,k=T}else if(Ye.isElement(m)&&Ye.isElement(y)){var T=yf(m,yOt);_=y.children.length,k=T}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(Oa.stringify(m)," ").concat(Oa.stringify(y)));w||ce.moveNodes(t,{at:g,to:b,voids:o}),E&&ce.removeNodes(t,{at:E.current,voids:o}),B.shouldMergeNodesRemovePrevNode(t,p,h)?ce.removeNodes(t,{at:v,voids:o}):t.apply({type:"merge_node",path:b,position:_,properties:k}),E&&E.unref()}}}})},bOt=(e,t)=>{B.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:a=!1}=t,{match:o}=t;if(r){o==null&&(o=ae.isPath(r)?gb(e,r):m=>Ye.isElement(m)&&B.isBlock(e,m));var s=B.pathRef(e,n),l=B.nodes(e,{at:r,match:o,mode:i,voids:a}),c=Array.from(l,m=>{var[,g]=m;return B.pathRef(e,g)});for(var d of c){var h=d.unref(),p=s.current;h.length!==0&&e.apply({type:"move_node",path:h,newPath:p}),s.current&&ae.isSibling(p,h)&&ae.isAfter(p,h)&&(s.current=ae.next(s.current))}s.unref()}})},xOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest"}=n,{at:o=t.selection,match:s}=n;if(o){s==null&&(s=ae.isPath(o)?gb(t,o):m=>Ye.isElement(m)&&B.isBlock(t,m)),!r&&pe.isRange(o)&&(o=B.unhangRange(t,o,{voids:i}));var l=B.nodes(t,{at:o,match:s,mode:a,voids:i}),c=Array.from(l,m=>{var[,g]=m;return B.pathRef(t,g)});for(var d of c){var h=d.unref();if(h){var[p]=B.node(t,h);t.apply({type:"remove_node",path:h,node:p})}}}})},wOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{match:i,at:a=t.selection,compare:o,merge:s}=r,{hanging:l=!1,mode:c="lowest",split:d=!1,voids:h=!1}=r;if(a){if(i==null&&(i=ae.isPath(a)?gb(t,a):_=>Ye.isElement(_)&&B.isBlock(t,_)),!l&&pe.isRange(a)&&(a=B.unhangRange(t,a,{voids:h})),d&&pe.isRange(a)){if(pe.isCollapsed(a)&&B.leaf(t,a.anchor)[0].text.length>0)return;var p=B.rangeRef(t,a,{affinity:"inward"}),[m,g]=pe.edges(a),y=c==="lowest"?"lowest":"highest",v=B.isEnd(t,g,g.path);ce.splitNodes(t,{at:g,match:i,mode:y,voids:h,always:!v});var b=B.isStart(t,m,m.path);ce.splitNodes(t,{at:m,match:i,mode:y,voids:h,always:!b}),a=p.unref(),r.at==null&&ce.select(t,a)}o||(o=(_,T)=>_!==T);for(var[x,w]of B.nodes(t,{at:a,match:i,mode:c,voids:h})){var C={},S={};if(w.length!==0){var E=!1;for(var k in n)k==="children"||k==="text"||o(n[k],x[k])&&(E=!0,x.hasOwnProperty(k)&&(C[k]=x[k]),s?n[k]!=null&&(S[k]=s(x[k],n[k])):n[k]!=null&&(S[k]=n[k]));E&&t.apply({type:"set_node",path:w,properties:C,newProperties:S})}}}})},COt=(e,t)=>{if(pe.isCollapsed(t))return t.anchor;var[,n]=pe.edges(t),r=B.pointRef(e,n);return ce.delete(e,{at:t}),r.unref()},SOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection,height:s=0,always:l=!1}=n;if(a==null&&(a=V=>Ye.isElement(V)&&B.isBlock(t,V)),pe.isRange(o)&&(o=COt(t,o)),ae.isPath(o)){var c=o,d=B.point(t,c),[h]=B.parent(t,c);a=V=>V===h,s=d.path.length-c.length+1,o=d,l=!0}if(o){var p=B.pointRef(t,o,{affinity:"backward"}),m;try{var[g]=B.nodes(t,{at:o,match:a,mode:r,voids:i});if(!g)return;var y=B.void(t,{at:o,mode:"highest"}),v=0;if(!i&&y){var[b,x]=y;if(Ye.isElement(b)&&t.isInline(b)){var w=B.after(t,x);if(!w){var C={text:""},S=ae.next(x);ce.insertNodes(t,C,{at:S,voids:i}),w=B.point(t,S)}o=w,l=!0}var E=o.path.length-x.length;s=E+1,l=!0}m=B.pointRef(t,o);var k=o.path.length-s,[,_]=g,T=o.path.slice(0,k),j=s===0?o.offset:o.path[k]+v;for(var[A,I]of B.levels(t,{at:T,reverse:!0,voids:i})){var M=!1;if(I.length<_.length||I.length===0||!i&&Ye.isElement(A)&&B.isVoid(t,A))break;var D=p.current,O=B.isEnd(t,D,I);if(l||!p||!B.isEdge(t,D,I)){M=!0;var R=Ie.extractProps(A);t.apply({type:"split_node",path:I,position:j,properties:R})}j=I[I.length-1]+(M||O?1:0)}if(n.at==null){var F=m.current||B.end(t,[]);ce.select(t,F)}}finally{var P;p.unref(),(P=m)===null||P===void 0||P.unref()}}})},EOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var i={};for(var a of n)i[a]=null;ce.setNodes(t,i,r)},kOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=n,{at:o=t.selection,match:s}=n;if(o){s==null&&(s=ae.isPath(o)?gb(t,o):m=>Ye.isElement(m)&&B.isBlock(t,m)),ae.isPath(o)&&(o=B.range(t,o));var l=pe.isRange(o)?B.rangeRef(t,o):null,c=B.nodes(t,{at:o,match:s,mode:r,voids:a}),d=Array.from(c,m=>{var[,g]=m;return B.pathRef(t,g)}).reverse(),h=function(){var g=p.unref(),[y]=B.node(t,g),v=B.range(t,g);i&&l&&(v=pe.intersection(l.current,v)),ce.liftNodes(t,{at:v,match:b=>Ye.isAncestor(y)&&y.children.includes(b),voids:a})};for(var p of d)h();l&&l.unref()}})};function hne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hne(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _Ot=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{mode:i="lowest",split:a=!1,voids:o=!1}=r,{match:s,at:l=t.selection}=r;if(l){if(s==null&&(ae.isPath(l)?s=gb(t,l):t.isInline(n)?s=v=>Ye.isElement(v)&&B.isInline(t,v)||Be.isText(v):s=v=>Ye.isElement(v)&&B.isBlock(t,v)),a&&pe.isRange(l)){var[c,d]=pe.edges(l),h=B.rangeRef(t,l,{affinity:"inward"});ce.splitNodes(t,{at:d,match:s,voids:o}),ce.splitNodes(t,{at:c,match:s,voids:o}),l=h.unref(),r.at==null&&ce.select(t,l)}var p=Array.from(B.nodes(t,{at:l,match:t.isInline(n)?v=>Ye.isElement(v)&&B.isBlock(t,v):v=>B.isEditor(v),mode:"lowest",voids:o})),m=function(){var b=pe.isRange(l)?pe.intersection(l,B.range(t,y)):l;if(!b)return 0;var x=Array.from(B.nodes(t,{at:b,match:s,mode:i,voids:o}));if(x.length>0){var[w]=x,C=x[x.length-1],[,S]=w,[,E]=C;if(S.length===0&&E.length===0)return 0;var k=ae.equals(S,E)?ae.parent(S):ae.common(S,E),_=B.range(t,S,E),T=B.node(t,k),[j]=T,A=k.length+1,I=ae.next(E.slice(0,A)),M=pne(pne({},n),{},{children:[]});ce.insertNodes(t,M,{at:I,voids:o}),ce.moveNodes(t,{at:_,match:D=>Ye.isAncestor(j)&&j.children.includes(D),to:I.concat(0),voids:o})}},g;for(var[,y]of p)g=m()}})},TOt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return XMt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rRt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oRt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sRt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lRt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QMt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bRt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wRt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sOt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xRt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SRt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eRt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QRt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return JMt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tRt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nRt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iRt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aRt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lOt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oOt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uOt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uRt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cRt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dRt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fRt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hRt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $Rt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mRt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gRt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yRt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vRt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pOt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ERt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kRt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _Rt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return TRt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ARt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jRt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return IRt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return DRt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return MRt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mOt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vOt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cOt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bOt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return PRt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return FRt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return NRt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LRt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return BRt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return URt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return VRt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zRt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return GRt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HRt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return WRt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return YRt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qRt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return XRt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KRt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZRt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xOt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dOt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wOt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eOt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fOt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hOt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SOt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tOt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nOt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rOt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return EOt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kOt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pRt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iOt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _Ot(e,...r)},shouldMergeNodesRemovePrevNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aOt(e,...r)}};return e},AOt=DOt,g2e="---",y2e="A-Za-z--------",jOt=new RegExp("^[^"+y2e+"]*["+g2e+"]"),IOt=new RegExp("^[^"+g2e+"]*["+y2e+"]");function DOt(e){return e=String(e||""),jOt.test(e)?"rtl":IOt.test(e)?"ltr":"neutral"}const v2e=Fe(AOt);var zf={};Object.defineProperty(zf,"__esModule",{value:!0});var MOt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),x3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},b2e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:MOt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},aH={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var V2=1;V2<20;V2++)aH["f"+V2]=111+V2;function _M(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(o){return x2e(o,t)}),i=function(s){return r.some(function(l){return w2e(l,s)})},a=n==null?i:i(n);return a}function ROt(e,t){return _M(e,t)}function OOt(e,t){return _M(e,{byKey:!0},t)}function x2e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var i=e.split("+"),a=i.length;for(var o in x3)r[x3[o]]=!1;var s=!0,l=!1,c=void 0;try{for(var d=i[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var p=h.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var g=oH(p),y=x3[g];if(p.length>1&&!y&&!b2e[p]&&!aH[g])throw new TypeError('Unknown modifier: "'+p+'"');(a===1||!y)&&(n?r.key=g:r.which=C2e(p)),y&&(r[y]=m?null:!0)}}catch(v){l=!0,c=v}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}return r}function w2e(e,t){for(var n in e){var r=e[n],i=void 0;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function C2e(e){e=oH(e);var t=aH[e]||e.toUpperCase().charCodeAt(0);return t}function oH(e){return e=e.toLowerCase(),e=b2e[e]||e,e}zf.default=_M;var w3=zf.isHotkey=_M;zf.isCodeHotkey=ROt;zf.isKeyHotkey=OOt;zf.parseHotkey=x2e;zf.compareHotkey=w2e;zf.toKeyCode=C2e;zf.toKeyName=oH;function $Ot(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iv(e,t){if(e==null)return{};var n=$Ot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aS(e){"@babel/helpers - typeof";return aS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aS(e)}function POt(e,t){if(aS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(aS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FOt(e){var t=POt(e,"string");return aS(t)==="symbol"?t:String(t)}function zl(e,t,n){return t=FOt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sH=f.createContext(null),td=()=>{var e=f.useContext(sH);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},C3,S3,S2e=parseInt(Xe.version.split(".")[0],10),E2e=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,mne=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Po=typeof navigator<"u"&&/Android/.test(navigator.userAgent),H1=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),vm=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),NOt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),k2e=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),LOt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),BOt=Po&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),VOt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),zOt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),UOt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((C3=navigator.userAgent.match(/Version\/(\d+)/))!==null&&C3!==void 0&&C3[1]&&parseInt((S3=navigator.userAgent.match(/Version\/(\d+)/))===null||S3===void 0?void 0:S3[1],10)<17);var Qf=(!LOt||!BOt)&&!NOt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",lH=new WeakMap,uH=new WeakMap,_2e=new WeakMap,R_=new WeakMap,TL=new WeakMap,oS=new WeakMap,og=new WeakMap,GA=new WeakMap,TM=new WeakMap,AL=new WeakMap,Fh=new WeakMap,$m=new WeakMap,Jw=new WeakMap,jL=new WeakMap,cH=new WeakMap,Au=new WeakMap,Ud=new WeakMap,ds=new WeakMap,mh=new WeakMap,gh=new WeakMap,T2e=new WeakMap,av=Symbol("placeholder"),A2e=Symbol("mark-placeholder"),HOt=globalThis.Text,dH=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,WOt=e=>xp(e)&&e.nodeType===8,Il=e=>xp(e)&&e.nodeType===1,xp=e=>{var t=dH(e);return!!t&&e instanceof t.Node},IL=e=>{var t=e&&e.anchorNode&&dH(e.anchorNode);return!!t&&e instanceof t.Selection},j2e=e=>xp(e)&&e.nodeType===3,GOt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,YOt=e=>{var[t,n]=e;if(Il(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=I2e(t,i,r?"backward":"forward"),r=i<n;Il(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=KOt(t,a,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},qOt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},I2e=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],a=t,o=!1,s=!1;(WOt(i)||Il(i)&&i.childNodes.length===0||Il(i)&&i.getAttribute("contenteditable")==="false")&&!(o&&s);){if(a>=r.length){o=!0,a=t-1,n="backward";continue}if(a<0){s=!0,a=t+1,n="forward";continue}i=r[a],t=a,a+=n==="forward"?1:-1}return[i,t]},KOt=(e,t,n)=>{var[r]=I2e(e,t,n);return r},D2e=e=>{var t="";if(j2e(e)&&e.nodeValue)return e.nodeValue;if(Il(e)){for(var n of Array.from(e.childNodes))t+=D2e(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},ZOt=/data-slate-fragment="(.+?)"/m,XOt=e=>{var t=e.getData("text/html"),[,n]=t.match(ZOt)||[];return n},Qw=e=>e.getSelection!=null?e.getSelection():document.getSelection(),fH=(e,t,n)=>{var{target:r}=t;if(Il(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=be.getWindow(e);if(i.contains(r))return be.hasDOMNode(e,r,{editable:!0});var a=n.find(o=>{var{addedNodes:s,removedNodes:l}=o;for(var c of s)if(c===r||c.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!a||a===t?!1:fH(e,a,n)},JOt=()=>{for(var e=document.activeElement;(t=e)!==null&&t!==void 0&&t.shadowRoot&&(n=e.shadowRoot)!==null&&n!==void 0&&n.activeElement;){var t,n,r;e=(r=e)===null||r===void 0||(r=r.shadowRoot)===null||r===void 0?void 0:r.activeElement}return e},QOt=0;class e$t{constructor(){zl(this,"id",void 0),this.id="".concat(QOt++)}}var be={androidPendingDiffs:e=>ds.get(e),androidScheduleFlush:e=>{var t;(t=cH.get(e))===null||t===void 0||t()},blur:e=>{var t=be.toDOMNode(e,e),n=be.findDocumentOrShadowRoot(e);Fh.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=be.findDocumentOrShadowRoot(e),r=Qw(n);r&&r.rangeCount>0&&r.removeAllRanges(),t&&ce.deselect(e)},findDocumentOrShadowRoot:e=>{var t=be.toDOMNode(e,e),n=t.getRootNode();return n instanceof Document||n instanceof ShadowRoot?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=be.toSlateNode(e,t.target),o=be.findPath(e,a);if(Ye.isElement(a)&&B.isVoid(e,a)){var s=i.getBoundingClientRect(),l=e.isInline(a)?n-s.left<s.left+s.width-n:r-s.top<s.top+s.height-r,c=B.point(e,o,{edge:l?"start":"end"}),d=l?B.before(e,c):B.after(e,c);if(d){var h=B.range(e,d);return h}}var p,{document:m}=be.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var g=m.caretPositionFromPoint(n,r);g&&(p=m.createRange(),p.setStart(g.offsetNode,g.offset),p.setEnd(g.offsetNode,g.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var y=be.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return y},findKey:(e,t)=>{var n=GA.get(t);return n||(n=new e$t,GA.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var i=uH.get(r);if(i==null){if(B.isEditor(r))return n;break}var a=lH.get(r);if(a==null)break;n.unshift(a),r=i}throw new Error("Unable to find the path for Slate node: ".concat(Oa.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Fh.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{be.focus(t,{retries:n.retries-1})},10);return}var r=be.toDOMNode(t,t),i=be.findDocumentOrShadowRoot(t);if(i.activeElement!==r){if(t.selection&&i instanceof Document){var a=Qw(i),o=be.toDOMRange(t,t.selection);a==null||a.removeAllRanges(),a==null||a.addRange(o)}t.selection||ce.select(t,B.start(t,[])),Fh.set(t,!0),r.focus({preventScroll:!0})}}},getWindow:e=>{var t=_2e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:i=!1}=r,a=be.toDOMNode(t,t),o;try{o=Il(n)?n:n.parentElement}catch(s){if(s instanceof Error&&!s.message.includes('Permission denied to access property "nodeType"'))throw s}return o?o.closest("[data-slate-editor]")===a&&(!i||o.isContentEditable?!0:typeof o.isContentEditable=="boolean"&&o.closest('[contenteditable="false"]')===a||!!o.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>xp(t)&&be.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return B.hasPath(e,n.path)&&B.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>be.hasEditableTarget(e,t)||be.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>xp(t)&&be.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!$m.get(e),isFocused:e=>!!Fh.get(e),isReadOnly:e=>!!AL.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(AL.get(e))return!1;var n=be.hasTarget(e,t)&&be.toSlateNode(e,t);return Ye.isElement(n)&&B.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=TM.get(e),r=B.isEditor(t)?R_.get(e):n==null?void 0:n.get(be.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Oa.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=B.node(e,t.path),r=be.toDOMNode(e,n),i;B.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",o=Array.from(r.querySelectorAll(a)),s=0,l=0;l<o.length;l++){var c=o[l],d=c.childNodes[0];if(!(d==null||d.textContent==null)){var{length:h}=d.textContent,p=c.getAttribute("data-slate-length"),m=p==null?h:parseInt(p,10),g=s+m,y=o[l+1];if(t.offset===g&&y!==null&&y!==void 0&&y.hasAttribute("data-slate-mark-placeholder")){var v,b=y.childNodes[0];i=[b instanceof HOt?b:y,(v=y.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")?1:0];break}if(t.offset<=g){var x=Math.min(h,Math.max(0,t.offset-s));i=[d,x];break}s=g}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Oa.stringify(t)));return i},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,i=pe.isBackward(t),a=be.toDOMPoint(e,n),o=pe.isCollapsed(t)?a:be.toDOMPoint(e,r),s=be.getWindow(e),l=s.document.createRange(),[c,d]=i?o:a,[h,p]=i?a:o,m=Il(c)?c:c.parentElement,g=!!m.getAttribute("data-slate-zero-width"),y=Il(h)?h:h.parentElement,v=!!y.getAttribute("data-slate-zero-width");return l.setStart(c,g?1:d),l.setEnd(h,v?1:p),l},toSlateNode:(e,t)=>{var n=Il(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?oS.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:i}=n,[a,o]=r?t:YOt(t),s=a.parentNode,l=null,c=0;if(s){var d,h,p=be.toDOMNode(e,e),m=s.closest('[data-slate-void="true"]'),g=m&&p.contains(m)?m:null,y=s.closest("[data-slate-leaf]"),v=null;if(y){if(l=y.closest('[data-slate-node="text"]'),l){var b=be.getWindow(e),x=b.document.createRange();x.setStart(l,0),x.setEnd(a,o);var w=x.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(D=>{if(Po&&!r&&D.hasAttribute("data-slate-zero-width")&&D.textContent.length>0&&D.textContext!=="\uFEFF"){D.textContent.startsWith("\uFEFF")&&(D.textContent=D.textContent.slice(1));return}D.parentNode.removeChild(D)}),c=w.textContent.length,v=l}}else if(g){for(var S=g.querySelectorAll("[data-slate-leaf]"),E=0;E<S.length;E++){var k=S[E];if(be.hasDOMNode(e,k)){y=k;break}}y?(l=y.closest('[data-slate-node="text"]'),v=y,c=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(D=>{c-=D.textContent.length})):c=1}v&&c===v.textContent.length&&Po&&v.getAttribute("data-slate-zero-width")==="z"&&(d=v.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||H1&&(h=v.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&c--}if(Po&&!l&&!r){var _=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(_&&be.hasDOMNode(e,_,{editable:!0})){var T=be.toSlateNode(e,_),{path:j,offset:A}=B.start(e,be.findPath(e,T));return _.querySelector("[data-slate-leaf]")||(A=o),{path:j,offset:A}}}if(!l){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var I=be.toSlateNode(e,l),M=be.findPath(e,I);return{path:M,offset:c}},toSlateRange:(e,t,n)=>{var r,{exactMatch:i,suppressThrow:a}=n,o=IL(t)?t.anchorNode:t.startContainer,s,l,c,d,h;if(o)if(IL(t)){if(H1&&t.rangeCount>1){c=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let E=function(k){return k.childElementCount>0?E(k.children[0]):k};var g=p.startContainer,y=m.startContainer,v=E(g.children[p.startOffset]),b=E(y.children[m.startOffset]);d=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,v.childNodes.length>0?c=v.childNodes[0]:c=v,b instanceof HTMLElement?l=b.innerHTML.length:l=0}else p.startContainer===c?(s=m.endContainer,l=m.endOffset,d=p.startOffset):(s=p.startContainer,l=p.endOffset,d=m.startOffset)}else s=t.anchorNode,l=t.anchorOffset,c=t.focusNode,d=t.focusOffset;k2e&&qOt(s)||H1?h=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:h=t.isCollapsed}else s=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,h=t.collapsed;if(s==null||c==null||l==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(H1&&(r=c.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===c.textContent.length&&d--,"getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var x;c=s,d=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var w=be.toSlatePoint(e,[s,l],{exactMatch:i,suppressThrow:a});if(!w)return null;var C=h?w:be.toSlatePoint(e,[c,d],{exactMatch:i,suppressThrow:a});if(!C)return null;var S={anchor:w,focus:C};return pe.isExpanded(S)&&pe.isForward(S)&&Il(c)&&B.void(e,{at:S.focus,mode:"highest"})&&(S=B.unhangRange(e,S,{voids:!0})),S}};function t$t(e,t){var{path:n,diff:r}=t;if(!B.hasPath(e,n))return!1;var i=Ie.get(e,n);if(!Be.isText(i))return!1;if(r.start!==i.text.length||r.text.length===0)return i.text.slice(r.start,r.start+r.text.length)===r.text;var a=ae.next(n);if(!B.hasPath(e,a))return!1;var o=Ie.get(e,a);return Be.isText(o)&&o.text.startsWith(r.text)}function M2e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((i,a)=>i.slice(0,a.start)+a.text+i.slice(a.end),e)}function n$t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function r$t(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}function R2e(e,t){var{start:n,end:r,text:i}=t,a=e.slice(n,r),o=n$t(a,i),s=Math.min(a.length-o,i.length-o),l=r$t(a,i,s),c={start:n+o,end:r-l,text:i.slice(o,i.length-l)};return c.start===c.end&&c.text.length===0?null:c}function i$t(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),a=M2e(e,t,n),o=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),s=a.slice(r,o),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return R2e(e,{start:r,end:l,text:s})}function a$t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function DL(e,t){var{path:n,offset:r}=t;if(!B.hasPath(e,n))return null;var i=Ie.get(e,n);if(!Be.isText(i))return null;var a=B.above(e,{match:s=>Ye.isElement(s)&&B.isBlock(e,s),at:n});if(!a)return null;for(;r>i.text.length;){var o=B.next(e,{at:n,match:Be.isText});if(!o||!ae.isDescendant(o[1],a[1]))return null;r-=i.text.length,i=o[0],n=o[1]}return{path:n,offset:r}}function gne(e,t){var n=DL(e,t.anchor);if(!n)return null;if(pe.isCollapsed(t))return{anchor:n,focus:n};var r=DL(e,t.focus);return r?{anchor:n,focus:r}:null}function ML(e,t,n){var r=ds.get(e),i=r==null?void 0:r.find(d=>{var{path:h}=d;return ae.equals(h,t.path)});if(!i||t.offset<=i.diff.start)return Ut.transform(t,n,{affinity:"backward"});var{diff:a}=i;if(t.offset<=a.start+a.text.length){var o={path:t.path,offset:a.start},s=Ut.transform(o,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-a.start}:null}var l={path:t.path,offset:t.offset-a.text.length+a.end-a.start},c=Ut.transform(l,n,{affinity:"backward"});return c?n.type==="split_node"&&ae.equals(n.path,t.path)&&l.offset<n.position&&a.start<n.position?c:{path:c.path,offset:c.offset+a.text.length-a.end+a.start}:null}function yne(e,t,n){var r=ML(e,t.anchor,n);if(!r)return null;if(pe.isCollapsed(t))return{anchor:r,focus:r};var i=ML(e,t.focus,n);return i?{anchor:r,focus:i}:null}function o$t(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":return!ae.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!ae.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!ae.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:ae.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:ae.transform(n,t,{affinity:"forward"})};case"merge_node":return ae.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:ae.transform(n,t)}:{diff:r,id:i,path:ae.transform(n,t)}}var a=ae.transform(n,t);return a?{diff:r,path:a,id:i}:null}function vne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s$t=25,l$t=200,u$t=function(){},c$t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function d$t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,a=null,o=null,s=null,l=0,c=!1,d=()=>{var I=gh.get(t);if(gh.delete(t),I){var{selection:M}=t,D=gne(t,I);D&&(!M||!pe.equals(D,M))&&ce.select(t,D)}},h=()=>{var I=mh.get(t);if(mh.delete(t),!!I){if(I.at){var M=Ut.isPoint(I.at)?DL(t,I.at):gne(t,I.at);if(!M)return;var D=B.range(t,M);(!t.selection||!pe.equals(t.selection,D))&&ce.select(t,M)}I.run()}},p=()=>{if(o&&(clearTimeout(o),o=null),s&&(clearTimeout(s),s=null),!C()&&!w()){d();return}i||(i=!0,setTimeout(()=>i=!1)),w()&&(i="action");var I=t.selection&&B.rangeRef(t,t.selection,{affinity:"forward"});Ud.set(t,t.marks),u$t("flush",mh.get(t),ds.get(t));for(var M=C(),D;D=(O=ds.get(t))===null||O===void 0?void 0:O[0];){var O,R,F=Au.get(t);F!==void 0&&(Au.delete(t),t.marks=F),F&&c===!1&&(c=null);var P=a$t(D);(!t.selection||!pe.equals(t.selection,P))&&ce.select(t,P),D.diff.text?B.insertText(t,D.diff.text):B.deleteFragment(t),ds.set(t,(R=ds.get(t))===null||R===void 0?void 0:R.filter(H=>{var{id:W}=H;return W!==D.id})),t$t(t,D)||(M=!1,mh.delete(t),Ud.delete(t),i="action",gh.delete(t),n.cancel(),r.cancel(),I==null||I.unref())}var V=I==null?void 0:I.unref();if(V&&!gh.get(t)&&(!t.selection||!pe.equals(V,t.selection))&&ce.select(t,V),w()){h();return}M&&n(),n.flush(),r.flush(),d();var U=Ud.get(t);Ud.delete(t),U!==void 0&&(t.marks=U,t.onChange())},m=I=>{a&&clearTimeout(a),a=setTimeout(()=>{$m.set(t,!1),p()},s$t)},g=I=>{$m.set(t,!0),a&&(clearTimeout(a),a=null)},y=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=TL.get(t);if(D){if(C()||M){D.style.display="none";return}D.style.removeProperty("display")}},v=(I,M)=>{var D,O=(D=ds.get(t))!==null&&D!==void 0?D:[];ds.set(t,O);var R=Ie.leaf(t,I),F=O.findIndex(U=>ae.equals(U.path,I));if(F<0){var P=R2e(R.text,M);P&&O.push({path:I,diff:M,id:l++}),y();return}var V=i$t(R.text,O[F].diff,M);if(!V){O.splice(F,1),y();return}O[F]=z2(z2({},O[F]),{},{diff:V})},b=function(M){var{at:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c=!1,gh.delete(t),n.cancel(),r.cancel(),w()&&p(),mh.set(t,{at:D,run:M}),s=setTimeout(p)},x=I=>{var M;o&&(clearTimeout(o),o=null);var{inputType:D}=I,O=null,R=I.dataTransfer||I.data||void 0;c!==!1&&D!=="insertText"&&D!=="insertCompositionText"&&(c=!1);var[F]=I.getTargetRanges();F&&(O=be.toSlateRange(t,F,{exactMatch:!1,suppressThrow:!0}));var P=be.getWindow(t),V=P.getSelection();if(!O&&V&&(F=V,O=be.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0})),O=(M=O)!==null&&M!==void 0?M:t.selection,!!O){var U=!0;if(D.startsWith("delete")){if(pe.isExpanded(O)){var[H,W]=pe.edges(O),Z=Ie.leaf(t,H.path);if(Z.text.length===H.offset&&W.offset===0){var J=B.next(t,{at:H.path,match:Be.isText});J&&ae.equals(J[1],W.path)&&(O={anchor:W,focus:W})}}var re=D.endsWith("Backward")?"backward":"forward",[G,te]=pe.edges(O),[X,K]=B.leaf(t,G.path),Q={text:"",start:G.offset,end:te.offset},ee=ds.get(t),se=ee==null?void 0:ee.find(Je=>ae.equals(Je.path,K)),le=se?[se.diff,Q]:[Q],oe=M2e(X.text,...le);if(oe.length===0&&(U=!1),pe.isExpanded(O)){if(U&&ae.equals(O.anchor.path,O.focus.path)){var ue={path:O.anchor.path,offset:G.offset},ye=B.range(t,ue,ue);return k(ye),v(O.anchor.path,{text:"",end:te.offset,start:G.offset})}return b(()=>B.deleteFragment(t,{direction:re}),{at:O})}}switch(D){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return b(()=>B.deleteFragment(t),{at:O});case"deleteContent":case"deleteContentForward":{var{anchor:Ee}=O;if(U&&pe.isCollapsed(O)){var ke=Ie.leaf(t,Ee.path);if(Ee.offset<ke.text.length)return v(Ee.path,{text:"",start:Ee.offset,end:Ee.offset+1})}return b(()=>B.deleteForward(t),{at:O})}case"deleteContentBackward":{var ge,{anchor:je}=O,Ve=IL(F)?F.isCollapsed:!!((ge=F)!==null&&ge!==void 0&&ge.collapsed);return U&&Ve&&pe.isCollapsed(O)&&je.offset>0?v(je.path,{text:"",start:je.offset-1,end:je.offset}):b(()=>B.deleteBackward(t),{at:O})}case"deleteEntireSoftLine":return b(()=>{B.deleteBackward(t,{unit:"line"}),B.deleteForward(t,{unit:"line"})},{at:O});case"deleteHardLineBackward":return b(()=>B.deleteBackward(t,{unit:"block"}),{at:O});case"deleteSoftLineBackward":return b(()=>B.deleteBackward(t,{unit:"line"}),{at:O});case"deleteHardLineForward":return b(()=>B.deleteForward(t,{unit:"block"}),{at:O});case"deleteSoftLineForward":return b(()=>B.deleteForward(t,{unit:"line"}),{at:O});case"deleteWordBackward":return b(()=>B.deleteBackward(t,{unit:"word"}),{at:O});case"deleteWordForward":return b(()=>B.deleteForward(t,{unit:"word"}),{at:O});case"insertLineBreak":return b(()=>B.insertSoftBreak(t),{at:O});case"insertParagraph":return b(()=>B.insertBreak(t),{at:O});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(c$t(R))return b(()=>be.insertData(t,R),{at:O});var xe=R??"";if(Au.get(t)&&(xe=xe.replace("\uFEFF","")),D==="insertText"&&/.*\n.*\n$/.test(xe)&&(xe=xe.slice(0,-1)),xe.includes(`
`))return b(()=>{var Je=xe.split(`
`);Je.forEach((ot,$e)=>{ot&&B.insertText(t,ot),$e!==Je.length-1&&B.insertSoftBreak(t)})},{at:O});if(ae.equals(O.anchor.path,O.focus.path)){var[me,Se]=pe.edges(O),ve={start:me.offset,end:Se.offset,text:xe};if(xe&&c&&D==="insertCompositionText"){var _e=c.start+c.text.search(/\S|$/),Ze=ve.start+ve.text.search(/\S|$/);Ze===_e+1&&ve.end===c.start+c.text.length?(ve.start-=1,c=null,j()):c=!1}else D==="insertText"?c===null?c=ve:c&&pe.isCollapsed(O)&&c.end+c.text.length===me.offset?c=z2(z2({},c),{},{text:c.text+xe}):c=!1:c=!1;if(U){v(me.path,ve);return}}return b(()=>B.insertText(t,xe),{at:O})}}}},w=()=>!!mh.get(t),C=()=>{var I;return!!((I=ds.get(t))!==null&&I!==void 0&&I.length)},S=()=>w()||C(),E=()=>i,k=I=>{gh.set(t,I),o&&(clearTimeout(o),o=null);var{selection:M}=t;if(I){var D=!M||!ae.equals(M.anchor.path,I.anchor.path),O=!M||!ae.equals(M.anchor.path.slice(0,-1),I.anchor.path.slice(0,-1));(D&&c||O)&&(c=!1),(D||C())&&(o=setTimeout(p,l$t))}},_=()=>{(w()||!C())&&p()},T=I=>{C()||(y(!0),setTimeout(y))},j=()=>{w()||(s=setTimeout(p))},A=I=>{if(!(C()||w())&&I.some(D=>fH(t,D,I))){var M;(M=T2e.get(t))===null||M===void 0||M()}};return{flush:p,scheduleFlush:j,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:S,isFlushing:E,handleUserSelect:k,handleCompositionEnd:m,handleCompositionStart:g,handleDOMBeforeInput:x,handleKeyDown:T,handleDomMutations:A,handleInput:_}}function f$t(){var e=f.useRef(!1);return f.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var sS=M_?f.useLayoutEffect:f.useEffect;function h$t(e,t,n){var[r]=f.useState(()=>new MutationObserver(t));sS(()=>{r.takeRecords()}),f.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var p$t=["node"];function bne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g$t={subtree:!0,childList:!0,characterData:!0},y$t=Po?e=>{var{node:t}=e,n=iv(e,p$t);if(!Po)return null;var r=td(),i=f$t(),[a]=f.useState(()=>d$t(m$t({editor:r},n)));return h$t(t,a.handleDomMutations,g$t),cH.set(r,a.scheduleFlush),i&&a.flush(),a}:()=>null,v$t=["anchor","focus"],b$t=["anchor","focus"],x$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),O2e=(e,t)=>{var n=iv(e,v$t),r=iv(t,b$t);return e[av]===t[av]&&x$t(n,r)},w$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!pe.equals(r,i)||!O2e(r,i))return!1}return!0},C$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!O2e(r,i))return!1}return!0};function xne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E$t=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,a=td(),o=be.findPath(a,i),s=ae.parent(o),l=!!n[A2e];return a.isVoid(r)?Xe.createElement(E3,{length:Ie.string(r).length}):n.text===""&&r.children[r.children.length-1]===i&&!a.isInline(r)&&B.string(a,s)===""?Xe.createElement(E3,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?Xe.createElement(E3,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?Xe.createElement(wne,{isTrailing:!0,text:n.text}):Xe.createElement(wne,{text:n.text})},wne=e=>{var{text:t,isTrailing:n=!1}=e,r=f.useRef(null),i=()=>"".concat(t??"").concat(n?`
`:""),[a]=f.useState(i);return sS(()=>{var o=i();r.current&&r.current.textContent!==o&&(r.current.textContent=o)}),Xe.createElement(k$t,{ref:r},a)},k$t=f.memo(f.forwardRef((e,t)=>Xe.createElement("span",{"data-slate-string":!0,ref:t},e.children))),E3=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),Xe.createElement("span",S$t({},i),!(Po||E2e)||!n?"\uFEFF":null,n?Xe.createElement("br",null):null)};function Cne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _$t=Po?300:0;function T$t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Sne(e){e.current&&(clearTimeout(e.current),e.current=null)}var A$t=e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:a,renderLeaf:o=x=>Xe.createElement(I$t,$2e({},x))}=e,s=td(),l=f.useRef(null),c=f.useRef(null),[d,h]=f.useState(!1),p=f.useRef(null),m=f.useCallback(x=>{if(T$t(l,x==null),x==null){var w;TL.delete(s),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(TL.set(s,x),!l.current){var C=window.ResizeObserver||qbe;l.current=new C(()=>{var S;(S=t.onPlaceholderResize)===null||S===void 0||S.call(t,x)})}l.current.observe(x),c.current=x}},[c,t,s]),g=Xe.createElement(E$t,{isLast:n,leaf:t,parent:i,text:r}),y=!!t[av];if(f.useEffect(()=>(y?p.current||(p.current=setTimeout(()=>{h(!0),p.current=null},_$t)):(Sne(p),h(!1)),()=>Sne(p)),[y,h]),y&&d){var v={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:vm?"inherit":void 0},contentEditable:!1,ref:m}};g=Xe.createElement(Xe.Fragment,null,a(v),g)}var b={"data-slate-leaf":!0};return o({attributes:b,children:g,leaf:t,text:r})},j$t=Xe.memo(A$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Be.equals(t.leaf,e.leaf)&&t.leaf[av]===e.leaf[av]),I$t=e=>{var{attributes:t,children:n}=e;return Xe.createElement("span",$2e({},t),n)},D$t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:a,text:o}=e,s=td(),l=f.useRef(null),c=Be.decorations(o,t),d=be.findKey(s,o),h=[],p=0;p<c.length;p++){var m=c[p];h.push(Xe.createElement(j$t,{isLast:n&&p===c.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:i,leaf:m,text:o,parent:r,renderLeaf:a}))}var g=f.useCallback(y=>{var v=TM.get(s);y?(v==null||v.set(d,y),og.set(o,y),oS.set(y,o)):(v==null||v.delete(d),og.delete(o),l.current&&oS.delete(l.current)),l.current=y},[l,s,d,o]);return Xe.createElement("span",{"data-slate-node":"text",ref:g},h)},P2e=Xe.memo(D$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&C$t(t.decorations,e.decorations));function Ene(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ene(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ene(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var M$t=e=>{var{decorations:t,element:n,renderElement:r=x=>Xe.createElement(O$t,RL({},x)),renderPlaceholder:i,renderLeaf:a,selection:o}=e,s=td(),l=P$t(),c=s.isInline(n),d=be.findKey(s,n),h=f.useCallback(x=>{var w=TM.get(s);x?(w==null||w.set(d,x),og.set(n,x),oS.set(x,n)):(w==null||w.delete(d),og.delete(n))},[s,d,n]),p=B2e({decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:o}),m={"data-slate-node":"element",ref:h};if(c&&(m["data-slate-inline"]=!0),!c&&B.hasInlines(s,n)){var g=Ie.string(n),y=v2e(g);y==="rtl"&&(m.dir=y)}if(B.isVoid(s,n)){m["data-slate-void"]=!0,!l&&c&&(m.contentEditable=!1);var v=c?"span":"div",[[b]]=Ie.texts(n);p=Xe.createElement(v,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Xe.createElement(P2e,{renderPlaceholder:i,decorations:[],isLast:!1,parent:n,text:b})),lH.set(b,0),uH.set(b,n)}return r({attributes:m,children:p,element:n})},R$t=Xe.memo(M$t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&w$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&pe.equals(e.selection,t.selection))),O$t=e=>{var{attributes:t,children:n,element:r}=e,i=td(),a=i.isInline(r)?"span":"div";return Xe.createElement(a,RL(RL({},t),{},{style:{position:"relative"}}),n)},F2e=f.createContext(()=>[]),$$t=()=>f.useContext(F2e),N2e=f.createContext(!1),L2e=()=>f.useContext(N2e),B2e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:o}=e,s=$$t(),l=td(),c=be.findPath(l,n),d=[],h=Ye.isElement(n)&&!l.isInline(n)&&B.hasInlines(l,n),p=0;p<n.children.length;p++){var m=c.concat(p),g=n.children[p],y=be.findKey(l,g),v=B.range(l,m),b=o&&pe.intersection(v,o),x=s([g,m]);for(var w of t){var C=pe.intersection(w,v);C&&x.push(C)}Ye.isElement(g)?d.push(Xe.createElement(N2e.Provider,{key:"provider-".concat(y.id),value:!!b},Xe.createElement(R$t,{decorations:x,element:g,key:y.id,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:b}))):d.push(Xe.createElement(P2e,{decorations:x,key:y.id,isLast:h&&p===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:a,text:g})),lH.set(g,p),uH.set(g,n)}return d},V2e=f.createContext(!1),P$t=()=>f.useContext(V2e),z2e=f.createContext(null),AM=()=>{var e=f.useContext(z2e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function F$t(){var e=td(),t=f.useRef(!1),n=f.useRef(0),r=f.useCallback(()=>{if(!t.current){t.current=!0;var i=be.getWindow(e);i.cancelAnimationFrame(n.current),n.current=i.requestAnimationFrame(()=>{t.current=!1})}},[e]);return f.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var N$t=3,L$t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},B$t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},V$t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ai=e=>{var t=L$t[e],n=B$t[e],r=V$t[e],i=t&&w3(t),a=n&&w3(n),o=r&&w3(r);return s=>!!(i&&i(s)||mne&&a&&a(s)||!mne&&o&&o(s))},di={isBold:ai("bold"),isCompose:ai("compose"),isMoveBackward:ai("moveBackward"),isMoveForward:ai("moveForward"),isDeleteBackward:ai("deleteBackward"),isDeleteForward:ai("deleteForward"),isDeleteLineBackward:ai("deleteLineBackward"),isDeleteLineForward:ai("deleteLineForward"),isDeleteWordBackward:ai("deleteWordBackward"),isDeleteWordForward:ai("deleteWordForward"),isExtendBackward:ai("extendBackward"),isExtendForward:ai("extendForward"),isExtendLineBackward:ai("extendLineBackward"),isExtendLineForward:ai("extendLineForward"),isItalic:ai("italic"),isMoveLineBackward:ai("moveLineBackward"),isMoveLineForward:ai("moveLineForward"),isMoveWordBackward:ai("moveWordBackward"),isMoveWordForward:ai("moveWordForward"),isRedo:ai("redo"),isSoftBreak:ai("insertSoftBreak"),isSplitBlock:ai("splitBlock"),isTransposeCharacter:ai("transposeCharacter"),isUndo:ai("undo")},z$t=(e,t)=>{var n=[],r=()=>{n=[]},i=o=>{if(t.current){var s=o.filter(l=>fH(e,l,o));n.push(...s)}};function a(){n.length>0&&(n.reverse().forEach(o=>{o.type!=="characterData"&&(o.removedNodes.forEach(s=>{o.target.insertBefore(s,o.nextSibling)}),o.addedNodes.forEach(s=>{o.target.removeChild(s)}))}),r())}return{registerMutations:i,restoreDOM:a,clear:r}},U$t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class U2e extends f.Component{constructor(){super(...arguments),zl(this,"context",null),zl(this,"manager",null),zl(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,U$t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=z$t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,i=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(i!=null&&i.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(i)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}zl(U2e,"contextType",sH);var H$t=Po?U2e:e=>{var{children:t}=e;return Xe.createElement(Xe.Fragment,null,t)},W$t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],G$t=["text"];function kne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y$t=e=>Xe.createElement(Xe.Fragment,null,B2e(e)),q$t=f.forwardRef((e,t)=>{var n=f.useCallback(G=>Xe.createElement(K$t,ac({},G)),[]),{autoFocus:r,decorate:i=Z$t,onDOMBeforeInput:a,placeholder:o,readOnly:s=!1,renderElement:l,renderLeaf:c,renderPlaceholder:d=n,scrollSelectionIntoView:h=X$t,style:p={},as:m="div",disableDefaultStyles:g=!1}=e,y=iv(e,W$t),v=AM(),[b,x]=f.useState(!1),w=f.useRef(null),C=f.useRef([]),[S,E]=f.useState(),k=f.useRef(!1),{onUserInput:_,receivedUserInput:T}=F$t(),[,j]=f.useReducer(G=>G+1,0);T2e.set(v,j),AL.set(v,s);var A=f.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);f.useEffect(()=>{w.current&&r&&w.current.focus()},[r]);var I=f.useRef(),M=f.useMemo(()=>ab(()=>{var G=be.toDOMNode(v,v),te=G.getRootNode();if(!k.current&&vm&&te instanceof ShadowRoot){k.current=!0;var X=JOt();X?document.execCommand("indent"):ce.deselect(v),k.current=!1;return}var K=I.current;if((Po||!be.isComposing(v))&&(!A.isUpdatingSelection||K!=null&&K.isFlushing())&&!A.isDraggingInternally){var Q=be.findDocumentOrShadowRoot(v),{activeElement:ee}=Q,se=be.toDOMNode(v,v),le=Qw(Q);if(ee===se?(A.latestElement=ee,Fh.set(v,!0)):Fh.delete(v),!le)return ce.deselect(v);var{anchorNode:oe,focusNode:ue}=le,ye=be.hasEditableTarget(v,oe)||be.isTargetInsideNonReadonlyVoid(v,oe),Ee=be.hasEditableTarget(v,ue)||be.isTargetInsideNonReadonlyVoid(v,ue);if(ye&&Ee){var ke=be.toSlateRange(v,le,{exactMatch:!1,suppressThrow:!0});ke&&(!be.isComposing(v)&&!(K!=null&&K.hasPendingChanges())&&!(K!=null&&K.isFlushing())?ce.select(v,ke):K==null||K.handleUserSelect(ke))}s&&(!ye||!Ee)&&ce.deselect(v)}},100),[v,s,A]),D=f.useMemo(()=>t0(M,0),[M]);I.current=y$t({node:w,onDOMSelectionChange:M,scheduleOnDOMSelectionChange:D}),sS(()=>{var G,te,X;w.current&&(X=dH(w.current))?(_2e.set(v,X),R_.set(v,w.current),og.set(v,w.current),oS.set(w.current,v)):og.delete(v);var{selection:K}=v,Q=be.findDocumentOrShadowRoot(v),ee=Qw(Q);if(!(!ee||!be.isFocused(v)||(G=I.current)!==null&&G!==void 0&&G.hasPendingAction())){var se=ye=>{var Ee=ee.type!=="None";if(!(!K&&!Ee)){var ke=ee.focusNode,ge;if(H1&&ee.rangeCount>1){var je=ee.getRangeAt(0),Ve=ee.getRangeAt(ee.rangeCount-1);je.startContainer===ke?ge=Ve.endContainer:ge=je.startContainer}else ge=ee.anchorNode;var xe=R_.get(v),me=!1;if(xe.contains(ge)&&xe.contains(ke)&&(me=!0),Ee&&me&&K&&!ye){var Se=be.toSlateRange(v,ee,{exactMatch:!0,suppressThrow:!0});if(Se&&pe.equals(Se,K)){var ve;if(!A.hasMarkPlaceholder||(ve=ge)!==null&&ve!==void 0&&(ve=ve.parentElement)!==null&&ve!==void 0&&ve.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!be.hasRange(v,K)){v.selection=be.toSlateRange(v,ee,{exactMatch:!1,suppressThrow:!0});return}A.isUpdatingSelection=!0;var _e=K&&be.toDOMRange(v,K);return _e?(be.isComposing(v)&&!Po?ee.collapseToEnd():pe.isBackward(K)?ee.setBaseAndExtent(_e.endContainer,_e.endOffset,_e.startContainer,_e.startOffset):ee.setBaseAndExtent(_e.startContainer,_e.startOffset,_e.endContainer,_e.endOffset),h(v,_e)):ee.removeAllRanges(),_e}};ee.rangeCount<=1&&se();var le=((te=I.current)===null||te===void 0?void 0:te.isFlushing())==="action";if(!Po||!le){setTimeout(()=>{A.isUpdatingSelection=!1});return}var oe=null,ue=requestAnimationFrame(()=>{if(le){var ye=Ee=>{try{var ke=be.toDOMNode(v,v);ke.focus(),se(Ee)}catch{}};ye(),oe=setTimeout(()=>{ye(!0),A.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(ue),oe&&clearTimeout(oe)}}});var O=f.useCallback(G=>{var te=be.toDOMNode(v,v),X=te.getRootNode();if(k!=null&&k.current&&vm&&X instanceof ShadowRoot){var K=G.getTargetRanges(),Q=K[0],ee=new window.Range;ee.setStart(Q.startContainer,Q.startOffset),ee.setEnd(Q.endContainer,Q.endOffset);var se=be.toSlateRange(v,ee,{exactMatch:!1,suppressThrow:!1});ce.select(v,se),G.preventDefault(),G.stopImmediatePropagation();return}if(_(),!s&&be.hasEditableTarget(v,G.target)&&!J$t(G,a)){var le;if(I.current)return I.current.handleDOMBeforeInput(G);D.flush(),M.flush();var{selection:oe}=v,{inputType:ue}=G,ye=G.dataTransfer||G.data||void 0,Ee=ue==="insertCompositionText"||ue==="deleteCompositionText";if(Ee&&be.isComposing(v))return;var ke=!1;if(ue==="insertText"&&oe&&pe.isCollapsed(oe)&&G.data&&G.data.length===1&&/[a-z ]/i.test(G.data)&&oe.anchor.offset!==0){var ge,je;ke=!0,v.marks&&(ke=!1);var{anchor:Ve}=oe,[xe,me]=be.toDOMPoint(v,Ve),Se=(ge=xe.parentElement)===null||ge===void 0?void 0:ge.closest("a"),ve=be.getWindow(v);if(ke&&Se&&be.hasDOMNode(v,Se)){var _e,Ze=ve==null?void 0:ve.document.createTreeWalker(Se,NodeFilter.SHOW_TEXT).lastChild();Ze===xe&&((_e=Ze.textContent)===null||_e===void 0?void 0:_e.length)===me&&(ke=!1)}if(ke&&xe.parentElement&&(ve==null||(je=ve.getComputedStyle(xe.parentElement))===null||je===void 0?void 0:je.whiteSpace)==="pre"){var Je=B.above(v,{at:Ve.path,match:nt=>Ye.isElement(nt)&&B.isBlock(v,nt)});Je&&Ie.string(Je[0]).includes("	")&&(ke=!1)}}if(!ue.startsWith("delete")||ue.startsWith("deleteBy")){var[ot]=G.getTargetRanges();if(ot){var $e=be.toSlateRange(v,ot,{exactMatch:!1,suppressThrow:!1});if(!oe||!pe.equals(oe,$e)){ke=!1;var Le=!Ee&&v.selection&&B.rangeRef(v,v.selection);ce.select(v,$e),Le&&Jw.set(v,Le)}}}if(Ee)return;if(ke||G.preventDefault(),oe&&pe.isExpanded(oe)&&ue.startsWith("delete")){var Oe=ue.endsWith("Backward")?"backward":"forward";B.deleteFragment(v,{direction:Oe});return}switch(ue){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{B.deleteFragment(v);break}case"deleteContent":case"deleteContentForward":{B.deleteForward(v);break}case"deleteContentBackward":{B.deleteBackward(v);break}case"deleteEntireSoftLine":{B.deleteBackward(v,{unit:"line"}),B.deleteForward(v,{unit:"line"});break}case"deleteHardLineBackward":{B.deleteBackward(v,{unit:"block"});break}case"deleteSoftLineBackward":{B.deleteBackward(v,{unit:"line"});break}case"deleteHardLineForward":{B.deleteForward(v,{unit:"block"});break}case"deleteSoftLineForward":{B.deleteForward(v,{unit:"line"});break}case"deleteWordBackward":{B.deleteBackward(v,{unit:"word"});break}case"deleteWordForward":{B.deleteForward(v,{unit:"word"});break}case"insertLineBreak":B.insertSoftBreak(v);break;case"insertParagraph":{B.insertBreak(v);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{ue==="insertFromComposition"&&be.isComposing(v)&&(x(!1),$m.set(v,!1)),(ye==null?void 0:ye.constructor.name)==="DataTransfer"?be.insertData(v,ye):typeof ye=="string"&&(ke?C.current.push(()=>B.insertText(v,ye)):B.insertText(v,ye));break}}var qe=(le=Jw.get(v))===null||le===void 0?void 0:le.unref();Jw.delete(v),qe&&(!v.selection||!pe.equals(v.selection,qe))&&ce.select(v,qe)}},[v,M,_,a,s,D]),R=f.useCallback(G=>{G==null?(M.cancel(),D.cancel(),R_.delete(v),og.delete(v),w.current&&Qf&&w.current.removeEventListener("beforeinput",O)):Qf&&G.addEventListener("beforeinput",O),w.current=G,typeof t=="function"?t(G):t&&(t.current=G)},[M,D,v,O,t]);sS(()=>{var G=be.getWindow(v);G.document.addEventListener("selectionchange",D);var te=()=>{A.isDraggingInternally=!1};return G.document.addEventListener("dragend",te),G.document.addEventListener("drop",te),()=>{G.document.removeEventListener("selectionchange",D),G.document.removeEventListener("dragend",te),G.document.removeEventListener("drop",te)}},[D,A]);var F=i([v,[]]),P=o&&v.children.length===1&&Array.from(Ie.texts(v)).length===1&&Ie.string(v)===""&&!b,V=f.useCallback(G=>{if(G&&P){var te;E((te=G.getBoundingClientRect())===null||te===void 0?void 0:te.height)}else E(void 0)},[P]);if(P){var U=B.start(v,[]);F.push({[av]:!0,placeholder:o,onPlaceholderResize:V,anchor:U,focus:U})}var{marks:H}=v;if(A.hasMarkPlaceholder=!1,v.selection&&pe.isCollapsed(v.selection)&&H){var{anchor:W}=v.selection,Z=Ie.leaf(v,W.path),J=iv(Z,G$t);if(!Be.equals(Z,H,{loose:!0})){A.hasMarkPlaceholder=!0;var re=Object.fromEntries(Object.keys(J).map(G=>[G,null]));F.push(ac(ac(ac({[A2e]:!0},re),H),{},{anchor:W,focus:W}))}}return f.useEffect(()=>{setTimeout(()=>{var{selection:G}=v;if(G){var{anchor:te}=G,X=Ie.leaf(v,te.path);if(H&&!Be.equals(X,H,{loose:!0})){Au.set(v,H);return}}Au.delete(v)})}),Xe.createElement(V2e.Provider,{value:s},Xe.createElement(F2e.Provider,{value:i},Xe.createElement(H$t,{node:w,receivedUserInput:T},Xe.createElement(m,ac(ac({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},y),{},{spellCheck:Qf||!M_?y.spellCheck:!1,autoCorrect:Qf||!M_?y.autoCorrect:"false",autoCapitalize:Qf||!M_?y.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:R,style:ac(ac({},g?{}:ac({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},S?{minHeight:S}:{})),p),onBeforeInput:f.useCallback(G=>{if(!Qf&&!s&&!Mo(G,y.onBeforeInput)&&be.hasSelectableTarget(v,G.target)&&(G.preventDefault(),!be.isComposing(v))){var te=G.data;B.insertText(v,te)}},[y.onBeforeInput,v,s]),onInput:f.useCallback(G=>{if(!Mo(G,y.onInput)){if(I.current){I.current.handleInput();return}for(var te of C.current)te();C.current=[]}},[y.onInput]),onBlur:f.useCallback(G=>{if(!(s||A.isUpdatingSelection||!be.hasSelectableTarget(v,G.target)||Mo(G,y.onBlur))){var te=be.findDocumentOrShadowRoot(v);if(A.latestElement!==te.activeElement){var{relatedTarget:X}=G,K=be.toDOMNode(v,v);if(X!==K&&!(Il(X)&&X.hasAttribute("data-slate-spacer"))){if(X!=null&&xp(X)&&be.hasDOMNode(v,X)){var Q=be.toSlateNode(v,X);if(Ye.isElement(Q)&&!v.isVoid(Q))return}if(vm){var ee=Qw(te);ee==null||ee.removeAllRanges()}Fh.delete(v)}}}},[s,A.isUpdatingSelection,A.latestElement,v,y.onBlur]),onClick:f.useCallback(G=>{if(be.hasTarget(v,G.target)&&!Mo(G,y.onClick)&&xp(G.target)){var te=be.toSlateNode(v,G.target),X=be.findPath(v,te);if(!B.hasPath(v,X)||Ie.get(v,X)!==te)return;if(G.detail===N$t&&X.length>=1){var K=X;if(!(Ye.isElement(te)&&B.isBlock(v,te))){var Q,ee=B.above(v,{match:ke=>Ye.isElement(ke)&&B.isBlock(v,ke),at:X});K=(Q=ee==null?void 0:ee[1])!==null&&Q!==void 0?Q:X.slice(0,1)}var se=B.range(v,K);ce.select(v,se);return}if(s)return;var le=B.start(v,X),oe=B.end(v,X),ue=B.void(v,{at:le}),ye=B.void(v,{at:oe});if(ue&&ye&&ae.equals(ue[1],ye[1])){var Ee=B.range(v,le);ce.select(v,Ee)}}},[v,y.onClick,s]),onCompositionEnd:f.useCallback(G=>{if(be.hasSelectableTarget(v,G.target)){var te;if(be.isComposing(v)&&Promise.resolve().then(()=>{x(!1),$m.set(v,!1)}),(te=I.current)===null||te===void 0||te.handleCompositionEnd(G),Mo(G,y.onCompositionEnd)||Po)return;if(!vm&&!VOt&&!E2e&&!UOt&&!zOt&&G.data){var X=Au.get(v);Au.delete(v),X!==void 0&&(Ud.set(v,v.marks),v.marks=X),B.insertText(v,G.data);var K=Ud.get(v);Ud.delete(v),K!==void 0&&(v.marks=K)}}},[y.onCompositionEnd,v]),onCompositionUpdate:f.useCallback(G=>{be.hasSelectableTarget(v,G.target)&&!Mo(G,y.onCompositionUpdate)&&(be.isComposing(v)||(x(!0),$m.set(v,!0)))},[y.onCompositionUpdate,v]),onCompositionStart:f.useCallback(G=>{if(be.hasSelectableTarget(v,G.target)){var te;if((te=I.current)===null||te===void 0||te.handleCompositionStart(G),Mo(G,y.onCompositionStart)||Po)return;x(!0);var{selection:X}=v;if(X&&pe.isExpanded(X)){B.deleteFragment(v);return}}},[y.onCompositionStart,v]),onCopy:f.useCallback(G=>{be.hasSelectableTarget(v,G.target)&&!Mo(G,y.onCopy)&&!_ne(G)&&(G.preventDefault(),be.setFragmentData(v,G.clipboardData,"copy"))},[y.onCopy,v]),onCut:f.useCallback(G=>{if(!s&&be.hasSelectableTarget(v,G.target)&&!Mo(G,y.onCut)&&!_ne(G)){G.preventDefault(),be.setFragmentData(v,G.clipboardData,"cut");var{selection:te}=v;if(te)if(pe.isExpanded(te))B.deleteFragment(v);else{var X=Ie.parent(v,te.anchor.path);B.isVoid(v,X)&&ce.delete(v)}}},[s,v,y.onCut]),onDragOver:f.useCallback(G=>{if(be.hasTarget(v,G.target)&&!Mo(G,y.onDragOver)){var te=be.toSlateNode(v,G.target);Ye.isElement(te)&&B.isVoid(v,te)&&G.preventDefault()}},[y.onDragOver,v]),onDragStart:f.useCallback(G=>{if(!s&&be.hasTarget(v,G.target)&&!Mo(G,y.onDragStart)){var te=be.toSlateNode(v,G.target),X=be.findPath(v,te),K=Ye.isElement(te)&&B.isVoid(v,te)||B.void(v,{at:X,voids:!0});if(K){var Q=B.range(v,X);ce.select(v,Q)}A.isDraggingInternally=!0,be.setFragmentData(v,G.dataTransfer,"drag")}},[s,v,y.onDragStart,A]),onDrop:f.useCallback(G=>{if(!s&&be.hasTarget(v,G.target)&&!Mo(G,y.onDrop)){G.preventDefault();var te=v.selection,X=be.findEventRange(v,G),K=G.dataTransfer;ce.select(v,X),A.isDraggingInternally&&te&&!pe.equals(te,X)&&!B.void(v,{at:X,voids:!0})&&ce.delete(v,{at:te}),be.insertData(v,K),be.isFocused(v)||be.focus(v)}},[s,v,y.onDrop,A]),onDragEnd:f.useCallback(G=>{!s&&A.isDraggingInternally&&y.onDragEnd&&be.hasTarget(v,G.target)&&y.onDragEnd(G)},[s,A,y,v]),onFocus:f.useCallback(G=>{if(!s&&!A.isUpdatingSelection&&be.hasEditableTarget(v,G.target)&&!Mo(G,y.onFocus)){var te=be.toDOMNode(v,v),X=be.findDocumentOrShadowRoot(v);if(A.latestElement=X.activeElement,H1&&G.target!==te){te.focus();return}Fh.set(v,!0)}},[s,A,v,y.onFocus]),onKeyDown:f.useCallback(G=>{if(!s&&be.hasEditableTarget(v,G.target)){var te;(te=I.current)===null||te===void 0||te.handleKeyDown(G);var{nativeEvent:X}=G;if(be.isComposing(v)&&X.isComposing===!1&&($m.set(v,!1),x(!1)),Mo(G,y.onKeyDown)||be.isComposing(v))return;var{selection:K}=v,Q=v.children[K!==null?K.focus.path[0]:0],ee=v2e(Ie.string(Q))==="rtl";if(di.isRedo(X)){G.preventDefault();var se=v;typeof se.redo=="function"&&se.redo();return}if(di.isUndo(X)){G.preventDefault();var le=v;typeof le.undo=="function"&&le.undo();return}if(di.isMoveLineBackward(X)){G.preventDefault(),ce.move(v,{unit:"line",reverse:!0});return}if(di.isMoveLineForward(X)){G.preventDefault(),ce.move(v,{unit:"line"});return}if(di.isExtendLineBackward(X)){G.preventDefault(),ce.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(di.isExtendLineForward(X)){G.preventDefault(),ce.move(v,{unit:"line",edge:"focus"});return}if(di.isMoveBackward(X)){G.preventDefault(),K&&pe.isCollapsed(K)?ce.move(v,{reverse:!ee}):ce.collapse(v,{edge:ee?"end":"start"});return}if(di.isMoveForward(X)){G.preventDefault(),K&&pe.isCollapsed(K)?ce.move(v,{reverse:ee}):ce.collapse(v,{edge:ee?"start":"end"});return}if(di.isMoveWordBackward(X)){G.preventDefault(),K&&pe.isExpanded(K)&&ce.collapse(v,{edge:"focus"}),ce.move(v,{unit:"word",reverse:!ee});return}if(di.isMoveWordForward(X)){G.preventDefault(),K&&pe.isExpanded(K)&&ce.collapse(v,{edge:"focus"}),ce.move(v,{unit:"word",reverse:ee});return}if(Qf){if((k2e||vm)&&K&&(di.isDeleteBackward(X)||di.isDeleteForward(X))&&pe.isCollapsed(K)){var oe=Ie.parent(v,K.anchor.path);if(Ye.isElement(oe)&&B.isVoid(v,oe)&&(B.isInline(v,oe)||B.isBlock(v,oe))){G.preventDefault(),B.deleteBackward(v,{unit:"block"});return}}}else{if(di.isBold(X)||di.isItalic(X)||di.isTransposeCharacter(X)){G.preventDefault();return}if(di.isSoftBreak(X)){G.preventDefault(),B.insertSoftBreak(v);return}if(di.isSplitBlock(X)){G.preventDefault(),B.insertBreak(v);return}if(di.isDeleteBackward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v);return}if(di.isDeleteForward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v);return}if(di.isDeleteLineBackward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"line"});return}if(di.isDeleteLineForward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"line"});return}if(di.isDeleteWordBackward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"word"});return}if(di.isDeleteWordForward(X)){G.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"word"});return}}}},[s,v,y.onKeyDown]),onPaste:f.useCallback(G=>{!s&&be.hasEditableTarget(v,G.target)&&!Mo(G,y.onPaste)&&(!Qf||GOt(G.nativeEvent)||vm)&&(G.preventDefault(),be.insertData(v,G.clipboardData))},[s,v,y.onPaste])}),Xe.createElement(Y$t,{decorations:F,node:v,renderElement:l,renderPlaceholder:d,renderLeaf:c,selection:v.selection})))))}),K$t=e=>{var{attributes:t,children:n}=e;return Xe.createElement("span",ac({},t),n,Po&&Xe.createElement("br",null))},Z$t=()=>[],X$t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&pe.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Rg(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Mo=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},_ne=e=>xp(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),J$t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},Q$t=f.createContext(!1),e3t=f.createContext({});function t3t(e){var t=f.useRef([]).current,n=f.useRef({editor:e}).current,r=f.useCallback(a=>{n.editor=a,t.forEach(o=>o(a))},[t,n]),i=f.useMemo(()=>({getSlate:()=>n.editor,addEventListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1)})}),[t,n]);return{selectorContext:i,onChange:r}}var n3t=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],r3t=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:i,onValueChange:a,initialValue:o}=e,s=iv(e,n3t),[l,c]=Xe.useState(()=>{if(!Ie.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Oa.stringify(o)));if(!B.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Oa.stringify(t)));return t.children=o,Object.assign(t,s),{v:0,editor:t}}),{selectorContext:d,onChange:h}=t3t(t),p=f.useCallback(y=>{var v;switch(r&&r(t.children),y==null||(v=y.operation)===null||v===void 0?void 0:v.type){case"set_selection":i==null||i(t.selection);break;default:a==null||a(t.children)}c(b=>({v:b.v+1,editor:t})),h(t)},[t,h,r,i,a]);f.useEffect(()=>(jL.set(t,p),()=>{jL.set(t,()=>{})}),[t,p]);var[m,g]=f.useState(be.isFocused(t));return f.useEffect(()=>{g(be.isFocused(t))},[t]),sS(()=>{var y=()=>g(be.isFocused(t));return S2e>=17?(document.addEventListener("focusin",y),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",y)}):(document.addEventListener("focus",y,!0),document.addEventListener("blur",y,!0),()=>{document.removeEventListener("focus",y,!0),document.removeEventListener("blur",y,!0)})},[]),Xe.createElement(e3t.Provider,{value:d},Xe.createElement(z2e.Provider,{value:l},Xe.createElement(sH.Provider,{value:l.editor},Xe.createElement(Q$t.Provider,{value:m},n))))},Tne=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Ane=(e,t,n)=>{var r=be.toDOMRange(e,t).getBoundingClientRect(),i=be.toDOMRange(e,n).getBoundingClientRect();return Tne(r,i)&&Tne(i,r)},i3t=(e,t)=>{var n=B.range(e,pe.end(t)),r=Array.from(B.positions(e,{at:t})),i=0,a=r.length,o=Math.floor(a/2);if(Ane(e,B.range(e,r[i]),n))return B.range(e,r[i],n);if(r.length<2)return B.range(e,r[r.length-1],n);for(;o!==r.length&&o!==i;)Ane(e,B.range(e,r[o]),n)?a=o:i=o,o=Math.floor((i+a)/2);return B.range(e,r[a],n)};function jne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jne(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var a3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:i,onChange:a,deleteBackward:o,addMark:s,removeMark:l}=r;return TM.set(r,new WeakMap),r.addMark=(c,d)=>{var h,p;(h=cH.get(r))===null||h===void 0||h(),!Au.get(r)&&(p=ds.get(r))!==null&&p!==void 0&&p.length&&Au.set(r,null),Ud.delete(r),s(c,d)},r.removeMark=c=>{var d;!Au.get(r)&&(d=ds.get(r))!==null&&d!==void 0&&d.length&&Au.set(r,null),Ud.delete(r),l(c)},r.deleteBackward=c=>{if(c!=="line")return o(c);if(r.selection&&pe.isCollapsed(r.selection)){var d=B.above(r,{match:g=>Ye.isElement(g)&&B.isBlock(r,g),at:r.selection});if(d){var[,h]=d,p=B.range(r,h,r.selection.anchor),m=i3t(r,p);pe.isCollapsed(m)||ce.delete(r,{at:m})}}},r.apply=c=>{var d=[],h=[],p=ds.get(r);if(p!=null&&p.length){var m=p.map(D=>o$t(D,c)).filter(Boolean);ds.set(r,m)}var g=gh.get(r);g&&gh.set(r,yne(r,g,c));var y=mh.get(r);if(y!=null&&y.at){var v=Ut.isPoint(y==null?void 0:y.at)?ML(r,y.at,c):yne(r,y.at,c);mh.set(r,v?Ine(Ine({},y),{},{at:v}):null)}switch(c.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...X0(r,c.path));break}case"set_selection":{var b;(b=Jw.get(r))===null||b===void 0||b.unref(),Jw.delete(r);break}case"insert_node":case"remove_node":{d.push(...X0(r,ae.parent(c.path)));break}case"merge_node":{var x=ae.previous(c.path);d.push(...X0(r,x));break}case"move_node":{var w=ae.common(ae.parent(c.path),ae.parent(c.newPath));d.push(...X0(r,w));var C;ae.isBefore(c.path,c.newPath)?(d.push(...X0(r,ae.parent(c.path))),C=c.newPath):(d.push(...X0(r,ae.parent(c.newPath))),C=c.path);var S=Ie.get(t,ae.parent(C)),E=be.findKey(r,S),k=B.pathRef(r,ae.parent(C));h.push([k,E]);break}}i(c);for(var[_,T]of d){var[j]=B.node(r,_);GA.set(j,T)}for(var[A,I]of h)if(A.current){var[M]=B.node(r,A.current);GA.set(M,I)}},r.setFragmentData=c=>{var{selection:d}=r;if(d){var[h,p]=pe.edges(d),m=B.void(r,{at:h.path}),g=B.void(r,{at:p.path});if(!(pe.isCollapsed(d)&&!m)){var y=be.toDOMRange(r,d),v=y.cloneContents(),b=v.childNodes[0];if(v.childNodes.forEach(j=>{j.textContent&&j.textContent.trim()!==""&&(b=j)}),g){var[x]=g,w=y.cloneRange(),C=be.toDOMNode(r,x);w.setEndAfter(C),v=w.cloneContents()}if(m&&(b=v.querySelector("[data-slate-spacer]")),Array.from(v.querySelectorAll("[data-slate-zero-width]")).forEach(j=>{var A=j.getAttribute("data-slate-zero-width")==="n";j.textContent=A?`
`:""}),j2e(b)){var S=b.ownerDocument.createElement("span");S.style.whiteSpace="pre",S.appendChild(b),v.appendChild(S),b=S}var E=r.getFragment(),k=JSON.stringify(E),_=window.btoa(encodeURIComponent(k));b.setAttribute("data-slate-fragment",_),c.setData("application/".concat(n),_);var T=v.ownerDocument.createElement("div");return T.appendChild(v),T.setAttribute("hidden","true"),v.ownerDocument.body.appendChild(T),c.setData("text/html",T.innerHTML),c.setData("text/plain",D2e(T)),v.ownerDocument.body.removeChild(T),c}}},r.insertData=c=>{r.insertFragmentData(c)||r.insertTextData(c)},r.insertFragmentData=c=>{var d=c.getData("application/".concat(n))||XOt(c);if(d){var h=decodeURIComponent(window.atob(d)),p=JSON.parse(h);return r.insertFragment(p),!0}return!1},r.insertTextData=c=>{var d=c.getData("text/plain");if(d){var h=d.split(/\r\n|\r|\n/),p=!1;for(var m of h)p&&ce.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=c=>{var d=S2e<18?CUe.unstable_batchedUpdates:h=>h();d(()=>{var h=jL.get(r);h&&h(c),a(c)})},r},X0=(e,t)=>{var n=[];for(var[r,i]of B.levels(e,{at:t})){var a=be.findKey(e,r);n.push([i,a])}return n},o3t=pU,s3t=eb,l3t=MD,Dne=eu,u3t=d0;function c3t(e,t,n,r){if(!Dne(e))return e;t=s3t(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var l=u3t(t[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var d=s[l];c=r?r(d,l,s):void 0,c===void 0&&(c=Dne(d)?d:l3t(t[i+1])?[]:{})}o3t(s,l,c),s=s[l]}return e}var d3t=c3t,f3t=xE,h3t=d3t,p3t=eb;function m3t(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=f3t(e,o);n(s,o)&&h3t(a,p3t(o,e),s)}return a}var H2e=m3t,g3t=H2e,y3t=Axe;function v3t(e,t){return g3t(e,t,function(n,r){return y3t(e,r)})}var b3t=v3t,x3t=b3t,w3t=wU,C3t=w3t(function(e,t){return e==null?{}:x3t(e,t)}),S3t=C3t;const Wt=Fe(S3t);var E3t=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const VE=Fe(E3t);function k3t(e){return e===void 0}var _3t=k3t;const W2e=Fe(_3t);var T3t="Expected a function";function A3t(e){if(typeof e!="function")throw new TypeError(T3t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var G2e=A3t;const j3t=Fe(G2e);var I3t=Gu,D3t=Lp,M3t=H2e,R3t=gU;function O3t(e,t){if(e==null)return{};var n=I3t(R3t(e),function(r){return[r]});return t=D3t(t),M3t(e,n,function(r,i){return t(r,i[0])})}var $3t=O3t,P3t=Lp,F3t=G2e,N3t=$3t;function L3t(e,t){return N3t(e,F3t(P3t(t)))}var B3t=L3t;const Y2e=Fe(B3t);var V3t=Yi;function z3t(){if(!arguments.length)return[];var e=arguments[0];return V3t(e)?e:[e]}var U3t=z3t;const zE=Fe(U3t);var H3t=Gu,W3t=Lp,G3t=Dxe,Y3t=Yi;function q3t(e,t){var n=Y3t(e)?H3t:G3t;return n(e,W3t(t))}var K3t=q3t,Z3t=Zv,X3t=K3t;function J3t(e,t){return Z3t(X3t(e,t),1)}var Q3t=J3t;const ePt=Fe(Q3t);var tPt=Gu,nPt=mU,rPt=Yi,iPt=e0,aPt=lxe,oPt=d0,sPt=iu;function lPt(e){return rPt(e)?tPt(e,oPt):iPt(e)?[e]:nPt(aPt(sPt(e)))}var uPt=lPt;const cPt=Fe(uPt),Zo=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],Mne=[...Zo],k3={name:"any",type:null,jsonType:"any"},dPt={get(){return k3},extend(e,t){const n=Object.assign(Wt(k3,Mne),e,{type:k3,of:e.of.map(i=>({name:i.name,type:t(Qa(i,"name"))}))});return r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,Wt(a,Mne),{type:i});return r(o)}}}}};function $r(e,t,n,r={}){return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}const Rne=[...Zo],_3={name:"array",type:null,jsonType:"array",of:[]},fPt={get(){return _3},extend(e,t){const n=Object.assign(Wt(_3,Rne),e,{type:_3});return $r(n,"of",()=>e.of.map(i=>t(i))),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,Wt(a,Rne),{type:i});return r(o)}}}}};function hPt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "${e.name}".
`)}function pPt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn(`Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "${e.name}".
`)}function mPt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function OL(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const i=Math.max(e.length-t.maxBreadth),a=e.slice(0,t.maxBreadth).map((o,s)=>OL(o,t,n+1)).concat(i>0?`+${i}`:[]).join(", ");return n===0?a:`[${a}]`}if(typeof e=="object"&&e!==null){const i=Object.keys(e).filter(o=>!t.ignoreKeys.includes(o)&&typeof e[o]<"u");if(mPt(Wt(e,i)))return"{empty}";const a=i.slice(0,t.maxBreadth).map(o=>`${o}: ${OL(e[o],t,n+1)}`).join(", ");return n===0?a:`{${a}}`}const r=String(e);return r===""?'""':r}function gPt(e,t={}){const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return OL(e,n,0)}const yPt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function vPt(e){return t=>({title:gPt(Wt(t,e),yPt)})}function bPt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")||!1}const q2e=["title","name","label","heading","header","caption"],xPt=["description",...q2e];function K2e(e,t){return VE(e.to||[]).some(n=>n.type===t)}function One(e){return K2e(e,"sanity.imageAsset")}function wPt(e){const t=e.fields||[],n=t.find(One);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(One));return r?`${r.name}.asset`:void 0}function $ne(e){return K2e(e,"sanity.fileAsset")}function CPt(e){const t=e.fields||[],n=t.find($ne);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some($ne));return r?`${r.name}.asset`:void 0}function SPt(e){const t={fields:[],...e},n=t.fields.filter(l=>l.type==="string").map(l=>l.name),r=t.fields.filter(bPt).map(l=>l.name);let i=q2e.find(l=>n.includes(l)||r.includes(l)),a=xPt.find(l=>l!==i&&(n.includes(l)||r.includes(l)));i||(i=n[0]||r[0],a=n[1]||r[1]);const o=t.fields.find(l=>l.type==="image"),s=wPt(t);if(!i){const l=CPt(t);l&&(i=`${l}.originalFilename`),s&&(i=`${s}.originalFilename`)}if(!i&&!s){const l=t.fields.map(c=>c.name);return{select:l.reduce((c,d)=>(c[d]=d,c),{}),prepare:vPt(l)}}return{select:Y2e({title:i,description:a,media:o?o.name:s},W2e)}}function EPt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function kPt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Wt(e,["prepare","component"]),select:EPt(t)}:{...Wt(e,["prepare","component"]),select:t}}function UE(e){return function(){return hPt(e),pPt(e),kPt(e.preview||(e.options||{}).preview)||SPt(e)}}const _Pt={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},TPt={type:"text",name:"text",title:"Text"},APt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},Pne={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},jPt=[Pne.bullet,Pne.numbered],bd={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},IPt=[bd.normal,bd.h1,bd.h2,bd.h3,bd.h4,bd.h5,bd.h6,bd.blockquote],DPt={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},MPt={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},RPt={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},OPt={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},$Pt={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},Ex={strong:DPt,em:MPt,code:RPt,underline:OPt,strikeThrough:$Pt},PPt=[Ex.strong,Ex.em,Ex.code,Ex.underline,Ex.strikeThrough],Fne=["type","name","title","jsonType","description","options","fieldsets","icon"],T3={name:"block",title:"Block",type:null,jsonType:"object"},FPt={},NPt={get(){return T3},extend(e,t){const n={...e.options||FPt},{marks:r,styles:i,lists:a,of:o,...s}=e,l=zPt(r,o),c=BPt(i),d=VPt(a),h={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||Z2e},p=[l,c,d,h,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),m=Object.assign(Wt(T3,Fne),s,{type:T3,options:n});return $r(m,"fields",()=>p.map(y=>{const{name:v,...b}=y;return{name:v,type:t(b)}})),$r(m,"preview",UE(e)),g(m);function g(y){return{get(){return y},extend:v=>{if(v.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,Wt(v,Fne),{type:y});return g(b)}}}}};function LPt(e){return e.some(t=>t.value==="normal")?e:[bd.normal,...e]}function BPt(e){return{name:"style",title:"Style",type:"string",options:{list:LPt(e||IPt)}}}function VPt(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||jPt}}}const Z2e=[_Pt];function zPt(e,t=[]){return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[TPt,APt],annotations:e&&e.annotations?e.annotations:Z2e,decorators:e&&e.decorators?e.decorators:PPt},...t.filter(n=>n.type!=="span")]}}const Nne=["type","name","title","jsonType","description","options","fieldsets","icon"],A3={name:"span",title:"Span",type:null,jsonType:"object"},UPt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},HPt={name:"text",title:"Text",type:"string"},WPt={},GPt={get(){return A3},extend(e,t){const n={...e.options||WPt},{annotations:r=[],marks:i=[]}=e,a=[UPt,HPt],o=Object.assign(Wt(A3,Nne),e,{type:A3,options:n});return $r(o,"fields",()=>a.map(l=>{const{name:c,...d}=l;return{name:c,type:t(d)}})),$r(o,"annotations",()=>r.map(t)),$r(o,"marks",()=>i.map(t)),$r(o,"preview",UE(e)),s(o);function s(l){return{get(){return l},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,Wt(c,Nne),{type:l});return s(d)}}}}};var Hp={prepare:e=>({title:String(e)})};const Lne=[...Zo],j3={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},YPt={get(){return j3},extend(e){const t=Object.assign(Wt(j3,Lne),e,{type:j3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Lne),{type:r});return n(a)}}}}},qPt={name:"_ref",title:"Referenced document ID",type:"string"},KPt={name:"_weak",title:"Weak reference marker",type:"boolean"},ZPt={name:"_dataset",title:"Target dataset",type:"string"},XPt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},JPt=[qPt,KPt,ZPt,XPt],Bne=[...Zo],I3={name:"crossDatasetReference",type:null,jsonType:"object"};function QPt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function eFt(e){return!e.to||e.to.length===0?"Cross dataset Reference":`Cross dataset reference to ${QPt(VE(e.to).map(t=>t.title||x0(t.type)),"or").toLowerCase()}`}const tFt={get(){return I3},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in cross dataset reference definition. Check the type ${e.name}`);const n=Object.assign(Wt(I3,Bne),e,{type:I3});return $r(n,"fields",()=>JPt.map(i=>{const{name:a,...o}=i;return{name:a,type:t(o)}})),$r(n,"to",()=>VE(e.to).map(i=>({...i,__experimental_search:jyt(i)}))),$r(n,"title",()=>e.title||eFt(n)),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,Wt(a,Bne),{type:i});return r(o)}}}}},Vne=[...Zo],D3={name:"date",title:"Datetime",type:null,jsonType:"string"},nFt={get(){return D3},extend(e){const t=Object.assign(Wt(D3,Vne),e,{type:D3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Vne),{type:r});return n(a)}}}}},zne=[...Zo],M3={name:"datetime",title:"Datetime",type:null,jsonType:"string"},rFt={get(){return M3},extend(e){const t=Object.assign(Wt(M3,zne),e,{type:M3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,zne),{type:r});return n(a)}}}}},iFt=["title","name","label","heading","header","caption","description"],aFt=["string","boolean","number"],Une=e=>aFt.includes(e.type);function oFt(e){let t=iFt.filter(n=>e.fields.some(r=>Une(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(Une).map(n=>n.name)),t.map(n=>({name:n,i18n:{title:{key:`default-orderings.${n}`,ns:"studio"}},title:x0(Vn(n)),by:[{field:n,direction:"asc"}]}))}function Hne(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!mr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:cPt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const Wne=[...Zo,"orderings","__experimental_search","blockEditor","icon"],X2e={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},i=Object.assign(Wt(this.get(),Wne),n,{type:this.get(),title:n.title||(n.name?Vn(n.name):"Object"),options:r,orderings:n.orderings||oFt(n),fields:n.fields.map(o=>{const{name:s,fieldset:l,group:c,...d}=o;return $r({name:s,group:c,fieldset:l},"type",()=>t({...d,title:o.title||Vn(s)}))})});return $r(i,"fieldsets",()=>jM(n,i.fields)),$r(i,"groups",()=>sFt(n,i.fields)),$r(i,"preview",UE(n)),$r(i,"__experimental_search",()=>{const o=n.__experimental_search?Hne(n.__experimental_search):null;return o?o.map(s=>s==="defaults"?Hne(n):s):Iyt(i)},{enumerable:!1}),a(i);function a(o){return{get(){return o},extend:s=>{if(s.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},o,Wt(s,Wne),{title:s.title||n.title||(n.name?Vn(n.name):"Object"),type:o});return $r(l,"__experimental_search",()=>o.__experimental_search),a(l)}}}}};function jM(e,t){const n={};for(const i of e.fieldsets||[]){if(n[i.name])throw new Error(`Duplicate fieldset name "${i.name}" found for type '${e.title?e.title:Vn(e.name)}'`);n[i.name]={title:Vn(i.name),...i,fields:[]}}const r=new Set;for(const i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}const a=n[i.fieldset];if(!a)throw new Error(`Fieldset '${i.fieldset}' is not defined in schema for type '${e.name}'`);a.fields.push(i),r.add(a)}return Array.from(r)}function sFt(e,t){const n={};let r=0;for(const i of e.groups||[]){if(n[i.name])throw new Error(`Duplicate group name "${i.name}" found for type '${e.title?e.title:Vn(e.name)}'`);if(n[i.name]={title:Vn(i.name),...i,fields:[]},i.default&&++r>1)throw new Error(`More than one field group defined as default for type '${e.title?e.title:Vn(e.name)}' - only 1 is supported`)}return t.forEach(i=>{const a=zE(i.group||[]);a.length!==0&&a.forEach(o=>{const s=n[o];if(!s)throw new Error(`Field group '${o}' is not defined in schema for type '${e.title?e.name:Vn(e.name)}'`);s.fields.push(i)})}),ePt(n).filter(i=>i.fields.length>0)}const lFt={name:"document",title:"Document",type:null,jsonType:"object"},uFt={get(){return lFt},extend:X2e.extend},Gne=[...Zo],R3={name:"email",title:"Email",type:null,jsonType:"string"},cFt={get(){return R3},extend(e){const t=Object.assign(Wt(R3,Gne),e,{type:R3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Gne),{type:r});return n(a)}}}}},dFt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},Yne=[...Zo],U2={name:"file",title:"File",type:null,jsonType:"object"},fFt={accept:""},hFt={get(){return U2},extend(e,t){const n={...e.options||fFt},r=[dFt,...e.fields||[]],i={...e,fields:r},a=Object.assign(Wt(U2,Yne),i,{type:U2,title:i.title||(i.name?Vn(i.name):U2.title),options:n,fields:i.fields.map(s=>{const{name:l,fieldset:c,...d}=s,h={name:l,fieldset:c,isCustomized:!!e.fields};return $r(h,"type",()=>t({...d,title:s.title||Vn(l)}))})});return $r(a,"fieldsets",()=>jM(i,a.fields)),$r(a,"preview",UE(Object.assign({},i,{fields:r}))),o(a);function o(s){return{get(){return s},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const c=Object.assign({},s,Wt(l,Yne),{type:s});return o(c)}}}}},pFt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},mFt={name:"hotspot",type:"sanity.imageHotspot"},gFt={name:"crop",type:"sanity.imageCrop"},qne=[...Zo],O3={name:"image",title:"Image",type:null,jsonType:"object"},yFt={},vFt={get(){return O3},extend(e,t){const n={...e.options||yFt};let r=[mFt,gFt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const i=[pFt,...r,...e.fields||[]],a={...e,fields:i},o=Object.assign(Wt(this.get(),qne),a,{type:O3,title:a.title||(a.name?Vn(a.name):O3.title),options:n,fields:a.fields.map(l=>{const{name:c,fieldset:d,...h}=l,p={name:c,fieldset:d,isCustomized:!!e.fields};return $r(p,"type",()=>t({...h,title:l.title||Vn(c)}))})});return $r(o,"fieldsets",()=>jM(a,o.fields)),$r(o,"preview",UE(Object.assign({},a,{fields:i}))),s(o);function s(l){return{get(){return l},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,Wt(c,qne),{type:l});return s(d)}}}}},Kne=[...Zo],$3={name:"number",title:"Number",type:null,jsonType:"number"},bFt={get(){return $3},extend(e){const t=Object.assign(Wt($3,Kne),e,{type:$3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Kne),{type:r});return n(a)}}}}},xFt={name:"_ref",title:"Referenced document ID",type:"string"},wFt={name:"_weak",title:"Weak reference",type:"boolean"},CFt=[xFt,wFt],Zne=[...Zo],P3={name:"reference",title:"Reference",type:null,jsonType:"object"};function SFt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function EFt(e){return!e.to||e.to.length===0?"Reference":`Reference to ${SFt(VE(e.to).map(t=>t.title),"or").toLowerCase()}`}const kFt={get(){return P3},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in reference definition. Check the type ${e.name}`);const n=Object.assign(Wt(P3,Zne),e,{type:P3});return $r(n,"fields",()=>CFt.map(i=>{const{name:a,...o}=i;return{name:a,type:t(o)}})),$r(n,"fieldsets",()=>jM(e,n.fields)),$r(n,"to",()=>VE(e.to).map(i=>t(i))),$r(n,"title",()=>e.title||EFt(n)),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,Wt(a,Zne),{type:i});return r(o)}}}}},Xne=[...Zo],F3={name:"string",title:"String",type:null,jsonType:"string"},_Ft={get(){return F3},extend(e){const t=Object.assign(Wt(F3,Xne),e,{type:F3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Xne),{type:r});return n(a)}}}}},Jne=[...Zo,"rows"],N3={name:"text",title:"Text",type:null,jsonType:"string"},TFt={get(){return N3},extend(e){const t=Object.assign(Wt(N3,Jne),e,{type:N3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Jne),{type:r});return n(a)}}}}},Qne=[...Zo],L3={name:"url",title:"Url",type:null,jsonType:"string"},AFt={get(){return L3},extend(e){const t=Object.assign(Wt(L3,Qne),e,{type:L3,preview:Hp});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Wt(i,Qne),{type:r});return n(a)}}}}};var jFt=Object.freeze({__proto__:null,any:dPt,array:fPt,block:NPt,boolean:YPt,crossDatasetReference:tFt,date:nFt,datetime:rFt,document:uFt,email:cFt,file:hFt,image:vFt,number:bFt,object:X2e,reference:kFt,span:GPt,string:_Ft,text:TFt,url:AFt});function IFt(e){const t=Object.assign(Object.create(null),jFt),n=e.types.reduce((o,s)=>{if(o[s.name])throw new Error(`Duplicate type name added to schema: ${s.name}`);return o[s.name]=s,o},{});return e.types.forEach(a),t;function r(o){if(!t[o]){if(!n[o])throw new Error(`Unknown type: ${o}`);a(n[o])}}function i(o){return r(o.type),t[o.type].extend(o,i).get()}function a(o){r(o.type),!t[o.name]&&(t[o.name]=t[o.type].extend(o,i))}}let DFt=class J2e{constructor(t){Y(this,"_original");Y(this,"_registry");this._original=t,this._registry=IFt(t)}static compile(t){return new J2e(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const hH=DFt;var MFt=jf,RFt=Yi,OFt=il,$Ft="[object String]";function PFt(e){return typeof e=="string"||!RFt(e)&&OFt(e)&&MFt(e)==$Ft}var FFt=PFt;const IM=Fe(FFt);var NFt=Xke;function LFt(e){var t=NFt(e),n=t%1;return t===t?n?t-n:t:0}var BFt=LFt,VFt=MSe,zFt=Lp,UFt=BFt,HFt=Math.max;function WFt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:UFt(n);return i<0&&(i=HFt(r+i,0)),VFt(e,zFt(t),i)}var Q2e=WFt;const pH=Fe(Q2e);var GFt=bU,YFt=4;function qFt(e){return GFt(e,YFt)}var KFt=qFt;const e5e=Fe(KFt);function ZFt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function $L(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function HE(e){const[t,n]=e;return[t,n]}function ere(e,t){let n=e,r=t;const i=n.length,a=r.length;if(i===0||a===0)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));const o=Math.min(i,a);if(n===r)return o;let s=0,l=1;for(let c=0;c!==-1;){const d=n.substring(o-l);if(c=r.indexOf(d),c===-1)return s;l+=c,(c===0||n.substring(o-l)===r.substring(0,l))&&(s=l,l++)}return s}function mH(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function DM(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function gH(e){let t=e.map(h=>HE(h)),n=!1;const r=[];let i=0,a=null,o=0,s=0,l=0,c=0,d=0;for(;o<t.length;)t[o][0]===Ht?(r[i++]=o,s=c,l=d,c=0,d=0,a=t[o][1]):(t[o][0]===kr?c+=t[o][1].length:d+=t[o][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(c,d)&&(t.splice(r[i-1],0,[ar,a]),t[r[i-1]+1][0]=kr,i--,i--,o=i>0?r[i-1]:-1,s=0,l=0,c=0,d=0,a=null,n=!0)),o++;for(n&&(t=MM(t)),t=t5e(t),o=1;o<t.length;){if(t[o-1][0]===ar&&t[o][0]===kr){const h=t[o-1][1],p=t[o][1],m=ere(h,p),g=ere(p,h);m>=g?(m>=h.length/2||m>=p.length/2)&&(t.splice(o,0,[Ht,p.substring(0,m)]),t[o-1][1]=h.substring(0,h.length-m),t[o+1][1]=p.substring(m),o++):(g>=h.length/2||g>=p.length/2)&&(t.splice(o,0,[Ht,h.substring(0,g)]),t[o-1][0]=kr,t[o-1][1]=p.substring(0,p.length-g),t[o+1][0]=ar,t[o+1][1]=h.substring(g),o++),o++}o++}return t}const tre=/[^a-zA-Z0-9]/,nre=/\s/,rre=/[\r\n]/,XFt=/\n\r?\n$/,JFt=/^\r?\n\r?\n/;function t5e(e){const t=e.map(i=>HE(i));function n(i,a){if(!i||!a)return 6;const o=i.charAt(i.length-1),s=a.charAt(0),l=o.match(tre),c=s.match(tre),d=l&&o.match(nre),h=c&&s.match(nre),p=d&&o.match(rre),m=h&&s.match(rre),g=p&&i.match(XFt),y=m&&a.match(JFt);return g||y?5:p||m?4:l&&!d&&h?3:d||h?2:l||c?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ht&&t[r+1][0]===Ht){let i=t[r-1][1],a=t[r][1],o=t[r+1][1];const s=DM(i,a);if(s){const p=a.substring(a.length-s);i=i.substring(0,i.length-s),a=p+a.substring(0,a.length-s),o=p+o}let l=i,c=a,d=o,h=n(i,a)+n(a,o);for(;a.charAt(0)===o.charAt(0);){i+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);const p=n(i,a)+n(a,o);p>=h&&(h=p,l=i,c=a,d=o)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function MM(e){let t=e.map(c=>HE(c));t.push([Ht,""]);let n=0,r=0,i=0,a="",o="",s;for(;n<t.length;)switch(t[n][0]){case kr:i++,o+=t[n][1],n++;break;case ar:r++,a+=t[n][1],n++;break;case Ht:r+i>1?(r!==0&&i!==0&&(s=mH(o,a),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===Ht?t[n-r-i-1][1]+=o.substring(0,s):(t.splice(0,0,[Ht,o.substring(0,s)]),n++),o=o.substring(s),a=a.substring(s)),s=DM(o,a),s!==0&&(t[n][1]=o.substring(o.length-s)+t[n][1],o=o.substring(0,o.length-s),a=a.substring(0,a.length-s))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[ar,a]),n++),o.length&&(t.splice(n,0,[kr,o]),n++),n++):n!==0&&t[n-1][0]===Ht?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ht&&t[n+1][0]===Ht&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=MM(t)),t}function QFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>r+(i?1:0),0)}function RM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>HE(p)),r=!1;const i=[];let a=0,o=null,s=0,l=!1,c=!1,d=!1,h=!1;for(;s<n.length;)n[s][0]===Ht?(n[s][1].length<t&&(d||h)?(i[a++]=s,l=d,c=h,o=n[s][1]):(a=0,o=null),d=!1,h=!1):(n[s][0]===ar?h=!0:d=!0,o&&(l&&c&&d&&h||o.length<t/2&&QFt(l,c,d,h)===3)&&(n.splice(i[a-1],0,[ar,o]),n[i[a-1]+1][0]=kr,a--,o=null,l&&c?(d=!0,h=!0,a=0):(a--,s=a>0?i[a-1]:-1,d=!1,h=!1),r=!0)),s++;return r&&(n=MM(n)),n}function e4t(e,t,n){const r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=a,s=2*a,l=new Array(s),c=new Array(s);for(let v=0;v<s;v++)l[v]=-1,c[v]=-1;l[o+1]=0,c[o+1]=0;const d=r-i,h=d%2!==0;let p=0,m=0,g=0,y=0;for(let v=0;v<a&&!(Date.now()>n);v++){for(let b=-v+p;b<=v-m;b+=2){const x=o+b;let w;b===-v||b!==v&&l[x-1]<l[x+1]?w=l[x+1]:w=l[x-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[x]=w,w>r)m+=2;else if(C>i)p+=2;else if(h){const S=o+d-b;if(S>=0&&S<s&&c[S]!==-1){const E=r-c[S];if(w>=E)return ire(e,t,w,C,n)}}}for(let b=-v+g;b<=v-y;b+=2){const x=o+b;let w;b===-v||b!==v&&c[x-1]<c[x+1]?w=c[x+1]:w=c[x-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(c[x]=w,w>r)y+=2;else if(C>i)g+=2;else if(!h){const S=o+d-b;if(S>=0&&S<s&&l[S]!==-1){const E=l[S],k=o+E-S;if(w=r-w,E>=w)return ire(e,t,E,k,n)}}}}return[[ar,e],[kr,t]]}function ire(e,t,n,r,i){const a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=Ng(a,o,{checkLines:!1,deadline:i}),d=Ng(s,l,{checkLines:!1,deadline:i});return c.concat(d)}function t4t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;const a=are(r,i,Math.ceil(r.length/4)),o=are(r,i,Math.ceil(r.length/2));let s;if(a&&o)s=a[4].length>o[4].length?a:o;else{if(!a&&!o)return null;o?a||(s=o):s=a}if(!s)throw new Error("Unable to find a half match.");let l,c,d,h;e.length>t.length?(l=s[0],c=s[1],d=s[2],h=s[3]):(d=s[0],h=s[1],l=s[2],c=s[3]);const p=s[4];return[l,c,d,h,p]}function are(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,a="",o,s,l,c;for(;(i=t.indexOf(r,i+1))!==-1;){const d=mH(e.slice(n),t.slice(i)),h=DM(e.slice(0,n),t.slice(0,i));a.length<h+d&&(a=t.slice(i-h,i)+t.slice(i,i+d),o=e.slice(0,n-h),s=e.slice(n+d),l=t.slice(0,i-h),c=t.slice(i+d))}return a.length*2>=e.length?[o||"",s||"",l||"",c||"",a||""]:null}function n4t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let a=0;a<r.length;a++)i[a]=t[r.charCodeAt(a)];e[n][1]=i.join("")}}function r4t(e,t){const n=[],r={};n[0]="";function i(l){let c="",d=0,h=-1,p=n.length;for(;h<l.length-1;){h=l.indexOf(`
`,d),h===-1&&(h=l.length-1);let m=l.slice(d,h+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?c+=String.fromCharCode(r[m]):(p===a&&(m=l.slice(d),h=l.length),c+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=h+1}return c}let a=4e4;const o=i(e);a=65535;const s=i(t);return{chars1:o,chars2:s,lineArray:n}}function i4t(e,t,n){let r=e,i=t;const a=r4t(r,i);r=a.chars1,i=a.chars2;const o=a.lineArray;let s=Ng(r,i,{checkLines:!1,deadline:n.deadline});n4t(s,o),s=gH(s),s.push([Ht,""]);let l=0,c=0,d=0,h="",p="";for(;l<s.length;){switch(s[l][0]){case kr:d++,p+=s[l][1];break;case ar:c++,h+=s[l][1];break;case Ht:if(c>=1&&d>=1){s.splice(l-c-d,c+d),l=l-c-d;const m=Ng(h,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,c=0,h="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function a4t(e,t,n){let r;if(!e)return[[kr,t]];if(!t)return[[ar,e]];const i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(o!==-1)return r=[[kr,i.substring(0,o)],[Ht,a],[kr,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=ar,r[2][0]=ar),r;if(a.length===1)return[[ar,e],[kr,t]];const s=t4t(e,t);if(s){const l=s[0],c=s[1],d=s[2],h=s[3],p=s[4],m=Ng(l,d,n),g=Ng(c,h,n);return m.concat([[Ht,p]],g)}return n.checkLines&&e.length>100&&t.length>100?i4t(e,t,n):e4t(e,t,n.deadline)}const ar=-1,kr=1,Ht=0;function yb(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Ng(e,t,s4t(n||{}));return u4t(r),r}function Ng(e,t,n){let r=e,i=t;if(r===i)return r?[[Ht,r]]:[];let a=mH(r,i);const o=r.substring(0,a);r=r.substring(a),i=i.substring(a),a=DM(r,i);const s=r.substring(r.length-a);r=r.substring(0,r.length-a),i=i.substring(0,i.length-a);let l=a4t(r,i,n);return o&&l.unshift([Ht,o]),s&&l.push([Ht,s]),l=MM(l),l}function o4t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function s4t(e){return{checkLines:!0,deadline:o4t(e.timeout||1),...e}}function H2(e,t,n){return n===1?e+t:t+e}function W2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function l4t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function ore(e,t,n){const r=n===1?-1:1;let i=null,a=null,o=t+n;for(;o>=0&&o<e.length&&(i===null||a===null);o+=n){const[c,d]=e[o];if(d.length!==0){if(c===kr){i===null&&(i=o);continue}else if(c===ar){a===null&&(a=o);continue}else if(c===Ht){if(i===null&&a===null){const[h,p]=W2(e[t][1],n);e[t][1]=h,e[o][1]=H2(e[o][1],p,r);return}break}}}if(i!==null&&a!==null&&l4t(e,i,a,n)){const[c,d]=W2(e[i][1],r),[h]=W2(e[a][1],r);e[i][1]=c,e[a][1]=h,e[t][1]=H2(e[t][1],d,n);return}const[s,l]=W2(e[t][1],n);e[t][1]=s,i===null?(e.splice(o,0,[kr,l]),a!==null&&a>=o&&a++):e[i][1]=H2(e[i][1],l,r),a===null?e.splice(o,0,[ar,l]):e[a][1]=H2(e[a][1],l,r)}function u4t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],a=r[r.length-1];ZFt(a)&&n===Ht&&ore(e,t,1),$L(i)&&n===Ht&&ore(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const c4t={threshold:.5,distance:1e3};function d4t(e){return{...c4t,...e}}const f4t=32;function h4t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>f4t)throw new Error("Pattern too long for this browser.");const i=d4t(r),a=p4t(t);function o(g,y){const v=g/t.length,b=Math.abs(n-y);return i.distance?v+b/i.distance:b?1:v}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(o(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(o(0,l),s)));const c=1<<t.length-1;l=-1;let d,h,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,h=p;d<h;)o(g,n+h)<=s?d=h:p=h,h=Math.floor((p-d)/2+d);p=h;let y=Math.max(1,n-h+1);const v=Math.min(n+h,e.length)+t.length,b=new Array(v+2);b[v+1]=(1<<g)-1;for(let x=v;x>=y;x--){const w=a[e.charAt(x-1)];if(g===0?b[x]=(b[x+1]<<1|1)&w:b[x]=(b[x+1]<<1|1)&w|((m[x+1]|m[x])<<1|1)|m[x+1],b[x]&c){const C=o(g,x-1);if(C<=s)if(s=C,l=x-1,l>n)y=Math.max(1,2*n-l);else break}}if(o(g+1,n)>s)break;m=b}return l}function p4t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function B3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return h4t(e,t,r)}function YA(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function yH(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==kr&&(t[n]=e[n][1]);return t.join("")}function n5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==ar&&(t[n]=e[n][1]);return t.join("")}function Nh(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=r5e(r)}return t}function m4t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;function a(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=r5e(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const o=[];for(const s of e)o.push({diffs:s.diffs.map(l=>HE(l)),start1:a(s.start1),start2:a(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return o}function r5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const yh=32,vH=4,g4t={margin:4};function V3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...g4t,...e}}function OM(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=yb(e,t,{checkLines:!0});return r.length>2&&(r=gH(r),r=RM(r)),z3(e,r,V3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return z3(yH(e),e,V3(n));if(typeof e=="string"&&t&&Array.isArray(t))return z3(e,t,V3(n));throw new Error("Unknown call format to make()")}function z3(e,t,n){if(t.length===0)return[];const r=[];let i=YA(0,0),a=0,o=0,s=0,l=0,c=0,d=e,h=e;for(let p=0;p<t.length;p++){const m=t[p],[g,y]=m,v=y.length,b=Nh(y);switch(!a&&g!==Ht&&(i.start1=o,i.start2=s,i.utf8Start1=l,i.utf8Start2=c),g){case kr:i.diffs[a++]=m,i.length2+=v,i.utf8Length2+=b,h=h.substring(0,s)+y+h.substring(s);break;case ar:i.length1+=v,i.utf8Length1+=b,i.diffs[a++]=m,h=h.substring(0,s)+h.substring(s+v);break;case Ht:v<=2*n.margin&&a&&t.length!==p+1?(i.diffs[a++]=m,i.length1+=v,i.length2+=v,i.utf8Length1+=b,i.utf8Length2+=b):v>=2*n.margin&&a&&(sre(i,d,n),r.push(i),i=YA(-1,-1),a=0,d=h,o=s,l=c);break;default:throw new Error("Unknown diff type")}g!==kr&&(o+=v,l+=b),g!==ar&&(s+=v,c+=b)}return a&&(sre(i,d,n),r.push(i)),r}function sre(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<yh-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let a=e.start2-i;a>=1&&$L(t[a])&&a--;const o=t.substring(a,e.start2);o&&e.diffs.unshift([Ht,o]);const s=o.length,l=Nh(o);let c=e.start2+e.length1+i;c<t.length&&$L(t[c])&&c++;const d=t.substring(e.start2+e.length1,c);d&&e.diffs.push([Ht,d]);const h=d.length,p=Nh(d);e.start1-=s,e.start2-=s,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=s+h,e.length2+=s+h,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function y4t(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case kr:n+=o.length;break;case ar:r+=o.length;break;case Ht:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function lre(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(e[o][0]!==kr&&(n+=e[o][1].length),e[o][0]!==ar&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&e[o][0]===ar?a:a+(t-i)}function v4t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vH;let r="";for(let o=1;o<=n;o++)r+=String.fromCharCode(o);for(const o of e)o.start1+=n,o.start2+=n,o.utf8Start1+=n,o.utf8Start2+=n;let i=e[0],a=i.diffs;if(a.length===0||a[0][0]!==Ht)a.unshift([Ht,r]),i.start1-=n,i.start2-=n,i.utf8Start1-=n,i.utf8Start2-=n,i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>a[0][1].length){const o=a[0][1].length,s=n-o;a[0][1]=r.substring(o)+a[0][1],i.start1-=s,i.start2-=s,i.utf8Start1-=s,i.utf8Start2-=s,i.length1+=s,i.length2+=s,i.utf8Length1+=s,i.utf8Length2+=s}if(i=e[e.length-1],a=i.diffs,a.length===0||a[a.length-1][0]!==Ht)a.push([Ht,r]),i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>a[a.length-1][1].length){const o=n-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,o),i.length1+=o,i.length2+=o,i.utf8Length1+=o,i.utf8Length2+=o}return r}function b4t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vH;const n=yh;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let a=i.start1,o=i.start2,s="";for(;i.diffs.length!==0;){const l=YA(a-s.length,o-s.length);let c=!0;if(s!==""){const p=Nh(s);l.length1=s.length,l.utf8Length1=p,l.length2=s.length,l.utf8Length2=p,l.diffs.push([Ht,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const p=i.diffs[0][0];let m=i.diffs[0][1],g=Nh(m);if(p===kr){l.length2+=m.length,l.utf8Length2+=g,o+=m.length;const y=i.diffs.shift();y&&l.diffs.push(y),c=!1}else p===ar&&l.diffs.length===1&&l.diffs[0][0]===Ht&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,a+=m.length,c=!1,l.diffs.push([p,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=Nh(m),l.length1+=m.length,l.utf8Length1+=g,a+=m.length,p===Ht?(l.length2+=m.length,l.utf8Length2+=g,o+=m.length):c=!1,l.diffs.push([p,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=n5e(l.diffs),s=s.substring(s.length-t);const d=yH(i.diffs).substring(0,t),h=Nh(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=h,l.utf8Length2+=h,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===Ht?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([Ht,d])),c||e.splice(++r,0,l)}}}function $M(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=m4t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||vH,o=n.deleteThreshold||.4,s=v4t(i,a);r=s+r+s,b4t(i,a);let l=0;const c=[];for(let d=0;d<i.length;d++){const h=i[d].start2+l,p=yH(i[d].diffs);let m,g=-1;if(p.length>yh?(m=B3(r,p.substring(0,yh),h),m!==-1&&(g=B3(r,p.substring(p.length-yh),h+p.length-yh),(g===-1||m>=g)&&(m=-1))):m=B3(r,p,h),m===-1)c[d]=!1,l-=i[d].length2-i[d].length1;else{c[d]=!0,l=m-h;let y;if(g===-1?y=r.substring(m,m+p.length):y=r.substring(m,g+yh),p===y)r=r.substring(0,m)+n5e(i[d].diffs)+r.substring(m+p.length);else{let v=yb(p,y,{checkLines:!1});if(p.length>yh&&y4t(v)/p.length>o)c[d]=!1;else{v=t5e(v);let b=0,x=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==Ht&&(x=lre(v,b)),C[0]===kr?r=r.substring(0,m+x)+C[1]+r.substring(m+x):C[0]===ar&&(r=r.substring(0,m+x)+r.substring(m+lre(v,b+C[1].length))),C[0]!==ar&&(b+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,c]}function bH(e){return e.map(x4t).join("")}function x4t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:i,diffs:a}=e;let o;t===0?o="".concat(r,",0"):t===1?o="".concat(r+1):o="".concat(r+1,",").concat(t);let s;n===0?s="".concat(i,",0"):n===1?s="".concat(i+1):s="".concat(i+1,",").concat(n);const l=["@@ -".concat(o," +").concat(s,` @@
`)];let c;for(let d=0;d<a.length;d++){switch(a[d][0]){case kr:c="+";break;case ar:c="-";break;case Ht:c=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(c+encodeURI(a[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const w4t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function xH(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(w4t);if(!i)throw new Error("Invalid patch string: ".concat(n[r]));const a=YA(G2(i[1]),G2(i[3]));for(t.push(a),i[2]===""?(a.start1--,a.utf8Start1--,a.length1=1,a.utf8Length1=1):i[2]==="0"?(a.length1=0,a.utf8Length1=0):(a.start1--,a.utf8Start1--,a.utf8Length1=G2(i[2]),a.length1=a.utf8Length1),i[4]===""?(a.start2--,a.utf8Start2--,a.length2=1,a.utf8Length2=1):i[4]==="0"?(a.length2=0,a.utf8Length2=0):(a.start2--,a.utf8Start2--,a.utf8Length2=G2(i[4]),a.length2=a.utf8Length2),r++;r<n.length;){const o=n[r],s=o.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(o.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(o))}const c=Nh(l)-l.length;if(s==="-")a.diffs.push([ar,l]),a.length1-=c;else if(s==="+")a.diffs.push([kr,l]),a.length2-=c;else if(s===" ")a.diffs.push([Ht,l]),a.length1-=c,a.length2-=c;else throw new Error('Invalid patch mode "'.concat(s,'" in: ').concat(l));r++}}return t}function G2(e){return parseInt(e,10)}const ure="before",cre="after";function C4t(e,t,n,...r){if(t!==ure&&t!==cre)throw new Error(`Invalid position "${t}", must be either ${ure} or ${cre}`);const i=dre(...r);if(e.length===0)return i;const a=e.length,o=Math.abs((a+n)%a)%a,s=t==="after"?o+1:o,l=e.slice();return l.splice(s,0,...dre(i)),l}function dre(...e){return e.reduce((t,n)=>t.concat(n),[])}const fre=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function S4t(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function E4t(e,t){if(typeof t=="number")return t;const n=pH(e,t);return n===-1?!1:n}function k4t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!fre(t.value,"from")||!fre(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return S4t(n,t.value.from,t.value.to)}}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,a=E4t(e,r);if(a===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:o,items:s}=t;return C4t(e,o,a,s)}else if(t.type==="unset"){if(typeof a!="number")throw new Error(`Expected array index to be a number, instead got "${a}"`);return n.splice(a,1),n}}return n[a]=wH(n[a],{...t,path:i}),n}function _4t(e,t){const n=e5e(e);if(t.path.length===0){if(t.type==="set"){if(!dI(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instad got: ${r}`);return i.length===0&&t.type==="unset"?Qa(n,r):(n[r]=wH(n[r],{...t,path:i}),n)}const i5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},T4t=Object.keys(i5e);function A4t(e,t){if(!T4t.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);return i5e[t.type](e,t.value)}const a5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=$M(xH(t),e,{allowExceedingIndices:!0});return n}},j4t=Object.keys(a5e);function I4t(e,t){if(!j4t.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);const n=a5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function D4t(e,t){return t.reduce(wH,e)}function M4t(e,t){return Array.isArray(e)?k4t(e,t):IM(e)?I4t(e,t):dI(e)?_4t(e,t):A4t(e,t)}function wH(e,t){return M4t(e,t)}function CH(e,t=[]){return{type:"setIfMissing",path:t,value:e}}function hre(e,t,n=[]){const r=OM(e,t),i=bH(r);return{type:"diffMatchPatch",path:n,value:i}}function kd(e,t,n=[]){return{type:"insert",path:n,position:t,items:e}}function fs(e,t=[]){return{type:"set",path:t,value:e}}function vo(e=[]){return{type:"unset",path:e}}function SH(e){return e.type?SH(e.type):e.name==="block"}const R4t=Object.prototype.toString;function o5e(e){switch(R4t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}var s5e={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},l5e={0:8203,1:8204,2:8205,3:65279};new Array(4).fill(String.fromCodePoint(l5e[0])).join("");Object.fromEntries(Object.entries(l5e).map(e=>e.reverse()));Object.fromEntries(Object.entries(s5e).map(e=>e.reverse()));var O4t=`${Object.values(s5e).map(e=>`\\u{${e.toString(16)}}`).join("")}`,pre=new RegExp(`[${O4t}]{4,}`,"gu");function $4t(e){var t;return{cleaned:e.replace(pre,""),encoded:((t=e.match(pre))==null?void 0:t[0])||""}}function P4t(e){return e&&JSON.parse($4t(JSON.stringify(e)).cleaned)}const F4t=["pre","textarea","code"],WE="normal",ms=Object.freeze({_type:"block",markDefs:[],style:WE}),Lh=Object.freeze({_type:"span",marks:[]}),qA={p:ms,blockquote:{...ms,style:"blockquote"}},u5e={span:{object:"text"}},KA={ol:{object:null},ul:{object:null}},ZA={h1:{...ms,style:"h1"},h2:{...ms,style:"h2"},h3:{...ms,style:"h3"},h4:{...ms,style:"h4"},h5:{...ms,style:"h5"},h6:{...ms,style:"h6"}},N4t={br:{...ms,style:WE}},c5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},d5e={li:{...ms,style:WE,level:1,listItem:"bullet"}},L4t={...qA,...u5e,...KA,...d5e,...ZA,...N4t};Sa(Object.values(L4t).filter(e=>"style"in e).map(e=>e.style));Sa(Object.values(c5e));function B4t(e){var o,s;if(!e)throw new Error("Parameter 'blockContentType' required");const t=e.of.find(SH);if(!L7(t))throw new Error("'block' type is not defined in this schema (required).");const n=(s=(o=t.fields.find(BF))==null?void 0:o.type)==null?void 0:s.of;if(!n)throw new Error("No `of` declaration found for blocks `children` field");const r=n.find(l=>l.name==="span");if(!r)throw new Error("No `span` type found in `block` schema type `children` definition");const i=n.filter(l=>l.name!=="span"&&Ui(l)),a=e.of.filter(l=>l.name!==t.name&&Ui(l));return{styles:V4t(t),decorators:U4t(r),annotations:z4t(r),lists:H4t(t),types:{block:e,span:r,inlineObjects:i,blockObjects:a}}}function V4t(e){const t=e.fields.find(NF);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=f5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function z4t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function U4t(e){return e.decorators}function H4t(e){const t=e.fields.find(LF);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=f5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function f5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>oI(n)?n:{title:n,value:n}):[]}const wp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var W4t=(e,t,n)=>{var a;const r=(n==null?void 0:n.unstable_whitespaceOnPasteMode)||"preserve";let i=t.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',t,null,wp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(i){const o=cn(i)==="b";switch(o||(i=t.body),r){case"normalize":PL(i);break;case"remove":hNt(i);break}const s=t.evaluate("//*",t,null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=s.snapshotLength-1;l>=0;l--){const c=s.snapshotItem(l);c==null||c.setAttribute("data-is-google-docs","true"),((c==null?void 0:c.parentElement)===i||!o&&c.parentElement===t.body)&&(c==null||c.setAttribute("data-is-root-node","true"),cn(c)),cn(c)==="li"&&c.firstChild&&cn(c==null?void 0:c.firstChild)==="img"&&c.removeChild(c.firstChild)}return o&&((a=t.body.firstElementChild)==null||a.replaceWith(...Array.from(i.childNodes))),t}return t};const G4t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var Y4t=(e,t)=>{var i,a,o;const n=t.evaluate("/html/body/text()",t,null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=n.snapshotLength-1;s>=0;s--){const l=n.snapshotItem(s),c=l.textContent||"";if(c.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(c)),(i=l.parentNode)==null||i.replaceChild(d,l)}else(a=l.parentNode)==null||a.removeChild(l)}const r=t.evaluate(G4t.join("|"),t,null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=r.snapshotLength-1;s>=0;s--){const l=r.snapshotItem(s);l&&((o=l.parentNode)==null||o.removeChild(l))}return t},q4t=(e,t)=>{var r;const n=/<!-- notionvc:.*?-->/g;if(e.match(n)){const i=t.evaluate("//*",t,null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--)(r=i.snapshotItem(a))==null||r.setAttribute("data-is-notion","true");return t}return t},K4t=(e,t)=>{function n(r){var i,a;if(r.nodeType===wp.BOOLEAN_TYPE&&!F4t.includes(((i=r.parentElement)==null?void 0:i.tagName.toLowerCase())||""))r.textContent=((a=r.textContent)==null?void 0:a.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let o=0;o<r.childNodes.length;o++)n(r.childNodes[o])}return n(t.body),t};const Z4t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,X4t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],J4t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],Q4t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function eNt(e){return Z4t.test(e)}var tNt=(e,t)=>{var i;if(!eNt(e))return t;const n=t.evaluate(X4t.join("|"),t,a=>a==="o"?"urn:schemas-microsoft-com:office:office":null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=n.snapshotLength-1;a>=0;a--){const o=n.snapshotItem(a);o!=null&&o.parentNode&&o.parentNode.removeChild(o)}const r=t.evaluate(J4t.join("|"),t,null,wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=r.snapshotLength-1;a>=0;a--){const o=r.snapshotItem(a),s=Q4t[o.className],l=new Text(o.textContent||"");if(!s)continue;const c=document.createElement(s[0]);let d=c,h=c;s.slice(1).forEach(p=>{h=document.createElement(p),d.appendChild(h),d=h}),h.appendChild(l),(i=o==null?void 0:o.parentNode)==null||i.replaceChild(c,o)}return t},nNt=[K4t,q4t,tNt,W4t,Y4t];function rNt(e){const t=B4t(e),n=t.styles.map(o=>o.value||o.title),r=t.decorators.map(o=>o.value||o.title),i=t.annotations.map(o=>o.value||o.title||""),a=t.lists.map(o=>o.value||o.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:i,enabledListTypes:a}}function cn(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function iNt(e,t,n){const r=P4t(e),i=t(aNt(r));return nNt.forEach(a=>{a(r,i,n)}),i}function aNt(e){return e.trim()}function oNt(){if(o5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function sNt(e){let t=0;const n=[],r=i=>{const a=[];i.forEach(o=>{t===0&&n.push(o),Er(o)&&(t>0&&(a.push(o),n.push(o)),t++,r(o.children)),o._type==="__block"&&(a.push(o),n.push(o.block))}),a.forEach(o=>{i.splice(i.indexOf(o),1)}),t--};return r(e),n}function lNt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function uNt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function mre(e){return[""," "].includes(e)}function cNt(e){return e.forEach(t=>{Er(t)&&t.children.forEach((n,r)=>{if(!my(n))return;const i=lNt(t,r),a=uNt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(Math.max(0,n.text.length-1)))&&i&&my(i)&&/\s/.test(i.text.slice(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(0,1))&&a&&my(a)&&/\s/.test(a.text.slice(Math.max(0,a.text.length-1)))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),a&&kt(a.marks,n.marks)&&mre(n.text)?(a.text+=" ",t.children.splice(r,1)):i&&kt(i.marks,n.marks)&&mre(n.text)&&(i.text=` ${i.text}`,t.children.splice(r,1))})}),e}function dNt(e){return e.reduce((t,n,r,i)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const a=t[t.length-1];if(r>0&&!Er(i[r-1])&&Er(a))return a.children.push(n),t;const o={...ms,children:[n]};return t.push(o),t},[])}function fNt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function my(e){return e._type==="span"}function gre(e){return e._type==="block"}function yre(e){return e._type==="__decorator"}function vre(e){return e._type==="__annotation"}function Ai(e){return e.nodeType===1}function PL(e){let t=0,n=null;const r=[];for(let i=e.firstChild;i;i=i.nextSibling){if(!Ai(i)){PL(i),t=0;continue}const a=i;pNt(a)?(n&&a.parentElement===n?(t++,t>1&&r.push(a)):t=1,n=a.parentElement):(PL(i),t=0)}r.forEach(i=>{var a;return(a=i.parentElement)==null?void 0:a.removeChild(i)})}function hNt(e){const t=[];function n(r){var i,a;if(Ai(r)){const o=r;if(cn(o)==="br"&&(cn(o.nextElementSibling)==="p"||cn(o.previousElementSibling)==="p")){t.push(o);return}if((cn(o)==="p"||cn(o)==="br")&&((a=(i=o==null?void 0:o.firstChild)==null?void 0:i.textContent)==null?void 0:a.trim())===""){t.push(o);return}for(let s=o.firstChild;s;s=s.nextSibling)n(s)}}n(e),t.forEach(r=>{var i;return(i=r.parentElement)==null?void 0:i.removeChild(r)})}function pNt(e){var t;return["p","br"].includes(cn(e)||"")&&!((t=e.textContent)!=null&&t.trim())}const h5e=Object.keys(KA);function mNt(e){const t=Ai(e)&&e.getAttribute("style");return/font-style\s*:\s*italic/.test(t||"")}function gNt(e){const t=Ai(e)&&e.getAttribute("style");return/font-weight\s*:\s*700/.test(t||"")}function yNt(e){if(!Ai(e)||cn(e.parentNode)==="a")return!1;const t=Ai(e)&&e.getAttribute("style");return/text-decoration\s*:\s*underline/.test(t||"")}function vNt(e){const t=Ai(e)&&e.getAttribute("style");return/text-decoration\s*:\s*(?:.*line-through.*;)/.test(t||"")}function kx(e){return Ai(e)&&!!e.getAttribute("data-is-google-docs")}function bNt(e){return Ai(e)&&!!e.getAttribute("data-is-root-node")}function xNt(e){const t=cn(e.parentNode);if(!(t&&!h5e.includes(t)))return cn(e.parentNode)==="ul"?"bullet":"number"}function wNt(e){let t=0;if(cn(e)==="li"){let n=e.parentNode;for(;n;){const r=cn(n);r&&h5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const CNt={...qA,...ZA};function SNt(e,t){const n=cn(e.firstChild),r=n&&CNt[n];return r&&t.includes(r.style)?r.style:WE}function ENt(e,t){return[{deserialize(n){if(Ai(n)&&cn(n)==="span"&&kx(n)){const r={...Lh,marks:[],text:n.textContent};return gNt(n)&&r.marks.push("strong"),yNt(n)&&r.marks.push("underline"),vNt(n)&&r.marks.push("strike-through"),mNt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var i;if(cn(n)==="li"&&kx(n))return{...ms,listItem:xNt(n),level:wNt(n),style:SNt(n,t.enabledBlockStyles),children:r(((i=n.firstChild)==null?void 0:i.childNodes)||[])}}},{deserialize(n){var r;if(cn(n)==="br"&&kx(n)&&Ai(n)&&n.classList.contains("apple-interchange-newline"))return{...Lh,text:""};if(cn(n)==="br"&&kx(n)&&Ai(n)&&((r=n==null?void 0:n.parentNode)==null?void 0:r.textContent)==="")return{...Lh,text:""};if(cn(n)==="br"&&kx(n)&&Ai(n)&&bNt(n))return{...Lh,text:""}}}]}function kNt(e=16){const t=new Uint8Array(e);return DU(t),t}const p5e=[];for(let e=0;e<256;++e)p5e[e]=(e+256).toString(16).slice(1);function FL(e){return kNt(e).reduce((t,n)=>t+p5e[n],"").slice(0,e)}function _Nt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function TNt(e,t){return[{deserialize(n){if(cn(n)==="pre")return;const r=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&cn(n.parentNode)!=="body";if(n.nodeName==="#text"&&r)return{...Lh,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(cn(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...Lh,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(cn(n)!=="blockquote")return;const i={...qA,...ZA};delete i.blockquote;const a=[];return n.childNodes.forEach((o,s)=>{if(o.nodeType===1&&Object.keys(i).includes(o.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),o.childNodes.forEach(c=>{l.appendChild(c.cloneNode(!0))}),s!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),a.push(l)}else a.push(o)}),{_type:"block",style:"blockquote",markDefs:[],children:r(a)}}},{deserialize(n,r){const i={...qA,...ZA},a=cn(n);let o=a?i[a]:void 0;if(o)return n.parentNode&&cn(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(o.style)||(o=ms),{...o,children:r(n.childNodes)})}},{deserialize(n,r){const i=cn(n);if(!(!i||!(i in u5e)))return r(n.childNodes)}},{deserialize(n,r){if(cn(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const i=cn(n);if(!(!i||!(i in KA)))return r(n.childNodes)}},{deserialize(n){if(cn(n)==="br")return{...Lh,text:`
`}}},{deserialize(n,r,i){const a=cn(n),o=a?d5e[a]:void 0,s=cn(n.parentNode)||"";if(!o||!n.parentNode||!KA[s])return;const l=_Nt(s,t.enabledListTypes);return l?(o.listItem=l,{...o,children:r(n.childNodes)}):i({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const i=c5e[cn(n)||""];if(!(!i||!t.enabledSpanDecorators.includes(i)))return{_type:"__decorator",name:i,children:r(n.childNodes)}}},{deserialize(n,r){if(cn(n)!="a")return;const i=t.enabledBlockAnnotations.includes("link"),a=Ai(n)&&n.getAttribute("href");if(!a)return r(n.childNodes);let o;return i?(o={_key:FL(12),_type:"link",href:a},{_type:"__annotation",markDef:o,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(` (${a})`))&&r(n.childNodes)}}]}function ANt(e){const t=Ai(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function jNt(e){const t=Ai(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")||/font-weight:600/.test(t||"")}function INt(e){const t=Ai(e)&&e.getAttribute("style");return/text-decoration:underline/.test(t||"")}function DNt(e){return Ai(e)&&!!e.getAttribute("data-is-notion")}function MNt(e){return[{deserialize(t){if(Ai(t)&&cn(t)==="span"&&DNt(t)){const n={...Lh,marks:[],text:t.textContent};return jNt(t)&&n.marks.push("strong"),INt(t)&&n.marks.push("underline"),ANt(t)&&n.marks.push("em"),n}}}]}function RNt(e){const t=Ai(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function ONt(e){const t=Ai(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function $Nt(e){return Ai(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function PNt(){return[{deserialize(e,t){if(cn(e)==="p"&&$Nt(e))return{...ms,listItem:RNt(e),level:ONt(e),style:WE,children:t(e.childNodes)}}}]}function FNt(e,t){return[...PNt(),...MNt(),...ENt(e,t),...TNt(e,t)]}class NNt{constructor(t,n={}){Y(this,"blockContentType");Y(this,"rules");Y(this,"parseHtml");Y(this,"_markDefs",[]);Y(this,"deserialize",t=>{this._markDefs=[];const{parseHtml:n}=this,r=n(t),i=Array.from(r.childNodes),a=cNt(sNt(dNt(this.deserializeElements(i))));this._markDefs.length>0&&a.filter(s=>s._type==="block").forEach(s=>{s.markDefs=s.markDefs||[],s.markDefs=s.markDefs.concat(this._markDefs.filter(l=>pr(s.children.map(c=>c.marks||[])).includes(l._key)))});const o=this.blockContentType.of.find(SH);return o?a.map(s=>(s._type==="block"&&(s._type=o.name),s)):a});Y(this,"deserializeElements",(t=[])=>{let n=[];return t.forEach(r=>{n=n.concat(this.deserializeElement(r))}),n});Y(this,"deserializeElement",t=>{var a,o;const n=s=>{if(fNt(s))return this.deserializeElements(Array.from(s));if(Array.isArray(s))return this.deserializeElements(s);if(s)return this.deserializeElement(s)},r=s=>({_type:"__block",block:s});let i;for(let s=0;s<this.rules.length;s++){const l=this.rules[s];if(!l.deserialize)continue;const c=l.deserialize(t,n,r),d=o5e(c);if(d!=="array"&&d!=="object"&&d!=="null"&&d!=="undefined")throw new Error(`A rule returned an invalid deserialized representation: "${i}".`);if(c!==void 0){{if(c===null)throw new Error("Deserializer rule returned `null`");Array.isArray(c)?i=c:yre(c)?i=this.deserializeDecorator(c):vre(c)?i=this.deserializeAnnotation(c):i=c}if(c&&!Array.isArray(c)&&gre(c)&&"listItem"in c){let h=(a=t.parentNode)==null?void 0:a.parentNode;for(;h&&cn(h)==="li";)h=(o=h.parentNode)==null?void 0:o.parentNode,c.level=c.level?c.level+1:1}c&&!Array.isArray(c)&&gre(c)&&c.style==="blockquote"&&c.children.forEach((h,p)=>{my(h)&&h.text==="\r"&&(h.text=`

`,(p===0||p===c.children.length-1)&&c.children.splice(p,1))});break}}return i||n(t.childNodes)||[]});Y(this,"deserializeDecorator",t=>{const{name:n}=t,r=i=>{if(yre(i))return this.deserializeDecorator(i);if(my(i))i.marks=i.marks||[],i.text.trim()&&i.marks.unshift(n);else if("children"in i&&Array.isArray(i.children)){const a=i;a.children=a.children.map(r)}return i};return t.children.reduce((i,a)=>{const o=r(a);return Array.isArray(o)?i.concat(o):(i.push(o),i)},[])});Y(this,"deserializeAnnotation",t=>{const{markDef:n}=t;this._markDefs.push(n);const r=i=>{if(vre(i))return this.deserializeAnnotation(i);if(my(i))i.marks=i.marks||[],i.text.trim()&&i.marks.unshift(n._key);else if("children"in i&&Array.isArray(i.children)){const a=i;a.children=a.children.map(r)}return i};return t.children.reduce((i,a)=>{const o=r(a);return Array.isArray(o)?i.concat(o):(i.push(o),i)},[])});const{rules:r=[],unstable_whitespaceOnPasteMode:i="preserve"}=n;if(!t)throw new Error("Parameter 'blockContentType' is required");const a=FNt(t,rNt(t));this.rules=[...r,...a];const o=n.parseHtml||oNt();this.blockContentType=t,this.parseHtml=s=>iNt(s,o,{unstable_whitespaceOnPasteMode:i}).body}}function lS(e,t={}){if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:FL(12)};const n={_key:FL(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:`${n._key}0`,text:"",marks:[]}],n;const i=[],a=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((o,s)=>{const l=o[o.length-1];return l&&vi(s)&&vi(l)&&kt(l.marks,s.marks)?(r&&r===s&&s.text===""&&n.children.length>1||(l.text+=s.text),o):(o.push(s),o)},[]).map((o,s)=>{if(!o)throw new Error("missing child");return o._key=`${n._key}${s}`,vi(o)&&(o.marks?a&&(o.marks=o.marks.filter(l=>{var h;const c=a.includes(l),d=(h=n.markDefs)==null?void 0:h.some(p=>p._key===l);return c||d})):o.marks=[],i.push(...o.marks)),o}),n.markDefs=(n.markDefs||[]).filter(o=>i.includes(o._key)),n}function bre(e,t,n={}){return new NNt(t,n).deserialize(e).map(r=>lS(r))}const NL="sanity-pte:";gi(NL);function wi(e){const t=`${NL}${e}`;return gi&&gi.enabled(t)?gi(t):gi(NL)}function xre(e,t,n){const r=[e.path[0]];if(!t)return null;const i=t[r[0]];if(!i)return null;const a=[{_key:i._key}];if(i._type!==n.block.name)return a;let o;const s=e.path.slice(0,2),l=Array.isArray(i.children)&&i.children[s[1]];return l&&(o=["children",{_key:l._key}]),o?[...a,...o]:a}function wre(e,t){if(!t)return[];const[n,r]=Array.from(B.nodes(t,{at:[],match:o=>En(e.path[0])&&o._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ye.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const i=[e.path[2]],a=n.children.findIndex(o=>kt([{_key:o._key}],i));if(a>=0&&n.children[a]){const o=n.children[a];return Ye.isElement(o)&&t.isVoid(o)?r.concat(a).concat(0):r.concat(a)}return r}function Od(e,t,n){if(!t)return null;let r=null,i=null;const a=t.anchor&&xre(t.anchor,e,n);a&&t.anchor&&(r={path:a,offset:t.anchor.offset});const o=t.focus&&xre(t.focus,e,n);o&&t.focus&&(i={path:o,offset:t.focus.offset});const s=!!(pe.isRange(t)&&pe.isBackward(t));return r&&i?{anchor:r,focus:i,backward:s}:null}function wm(e,t){if(!e||!t)return null;const n={path:wre(e.anchor,t),offset:e.anchor.offset},r={path:wre(e.focus,t),offset:e.focus.offset};return r.path.length===0||n.path.length===0?null:n&&r?{anchor:n,focus:r}:null}function LNt(e,t){const n=Ut.transform(e.anchor,t),r=Ut.transform(e.focus,t);return n===null||r===null?null:Ut.equals(n,e.anchor)&&Ut.equals(r,e.focus)?e:{anchor:n,focus:r}}function Cre(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const i=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,a=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,o=t.find(s=>s._key===i);if(o)n.push({_key:o._key});else return null;if(o&&e.path[1]==="children"){if(!o.children||Array.isArray(o.children)&&o.children.length===0)return null;const s=Array.isArray(o.children)&&o.children.find(l=>l._key===a);if(s)n.push("children"),n.push({_key:s._key}),r=s.text&&s.text.length>=e.offset?e.offset:s.text&&s.text.length||0;else return null}return{path:n,offset:r}}function BNt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:i,focus:a}=e;return i&&t.find(o=>kt({_key:o._key},i.path[0]))&&(n=Cre(i,t)),a&&t.find(o=>kt({_key:o._key},a.path[0]))&&(r=Cre(a,t)),n&&r?{anchor:n,focus:r,backward:e.backward}:null}const VNt=[],m5e="void-child";function gy(e,t){const n=t[e._key];return n&&kt(e,n)?n:(t[e._key]=e,e)}function Pc(e,{schemaTypes:t},n={}){return e&&Array.isArray(e)?e.map(r=>{const{_type:i,_key:a,...o}=r,s=[{_key:m5e,_type:"span",text:"",marks:[]}];if(r&&r._type===t.block.name){const l=r;let c=!1;const d=typeof l.style>"u",h=typeof l.markDefs>"u",p=typeof l.children>"u",m=(l.children||[]).map(g=>{const{_type:y,_key:v,...b}=g;return y!=="span"?(c=!0,gy({_type:y,_key:v,children:s,value:b,__inline:!0},n)):g});return!d&&!h&&!p&&!c&&Ye.isElement(r)?r:(d&&(o.style=t.styles[0].value),gy({_type:i,_key:a,...o,children:m},n))}return gy({_type:i,_key:a,children:s,value:o},n)}):[]}function Mr(e,t,n={}){return e.map(r=>{const{_key:i,_type:a}=r;if(!i||!a)throw new Error("Not a valid block");if(a===t&&"children"in r&&Array.isArray(r.children)&&i){let s=!1;const l=r.children.map(c=>{const{_type:d}=c;if("value"in c&&d!=="span"){s=!0;const{value:h,_key:p,_type:m,__inline:g,children:y,...v}=c;return gy({...v,...h,_key:p,_type:m},n)}return c});return s?gy({...r,children:l,_key:i,_type:a},n):r}const o="value"in r&&r.value;return gy({_key:i,_type:a,...typeof o=="object"?o:{}},n)})}function Lg(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ye.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&Be.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const XA=new WeakMap,O_=new WeakMap,Y2=new WeakMap,_x=new WeakMap,Tx=new WeakMap,Ax=new WeakMap,LL=new WeakMap,Ps=new WeakMap,JA=new WeakMap,q2=e=>u.jsx("div",{children:u.jsx("pre",{children:JSON.stringify(e.value,null,2)})}),zNt=$.div`
  user-select: none;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;$.span`
  background: #999;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;const UNt=$.div`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: ${e=>WNt(e.listLevel)};
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '${e=>YNt(e.listLevel,e.listStyle)}';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: ${e=>qNt(e.listLevel)};
    counter-reset: ${e=>KNt(e.listLevel)};
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: ${e=>ZNt(e.listLevel)};
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`,HNt=$.div``;function WNt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const GNt=["","",""];function YNt(e,t){const n=(e-1)%3;return t==="bullet"?GNt[n]:"*"}function qNt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function KNt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function ZNt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const nc=wi("components:DraggableBlock"),Sre=({children:e,element:t,readOnly:n,blockRef:r})=>{const i=td(),a=f.useRef(),[o,s]=f.useState(!1),l=f.useMemo(()=>B.isVoid(i,t),[i,t]),c=f.useMemo(()=>B.isInline(i,t),[i,t]),[d,h]=f.useState(null);f.useEffect(()=>h(r?r.current:be.toDOMNode(i,t)),[i,t,r]);const p=f.useCallback(_=>{const T=_x.get(i);if(!T||!d)return;_.preventDefault(),_.dataTransfer.dropEffect="move",Tx.set(i,t);const j=d.getBoundingClientRect(),A=j.top,I=j.height,M=_.pageY,D=Math.abs(A-M);let O="bottom";if(t===i.children[0]?O="top":D<I/2?(O="top",Ax.set(i,O)):(O="bottom",Ax.set(i,O)),T===t){_.dataTransfer.dropEffect="none";return}s(!0)},[d,i,t]),m=f.useCallback(()=>{s(!1)},[]),g=f.useCallback(_=>{const T=Tx.get(i);if(T){Y2.set(i,!1),_.preventDefault(),_.stopPropagation(),Tx.delete(i),a.current&&(nc("Removing drag ghost"),document.body.removeChild(a.current));const j=Ax.get(i);Ax.delete(i);let A=be.findPath(i,T);const I=be.findPath(i,t),M=ae.isBefore(I,A);if(j==="bottom"&&!M){if(A[0]>=i.children.length-1){nc("target is already at the bottom, not moving");return}const D=A;A=ae.next(A),nc(`Adjusting targetPath from ${JSON.stringify(D)} to ${JSON.stringify(A)}`)}if(j==="top"&&M&&A[0]!==i.children.length-1){const D=A;A=ae.previous(A),nc(`Adjusting targetPath from ${JSON.stringify(D)} to ${JSON.stringify(A)}`)}if(ae.equals(A,I)){_.preventDefault(),nc("targetPath and myPath is the same, not moving");return}nc(`Moving element ${t._key} from path ${JSON.stringify(I)} to ${JSON.stringify(A)} (${j})`),ce.moveNodes(i,{at:I,to:A}),i.onChange();return}nc("No target element, not doing anything")},[i,t]),y=f.useCallback(_=>{_x.get(i)&&(nc("On drop (prevented)",t),_.preventDefault(),_.stopPropagation(),s(!1))},[i,t]),v=f.useCallback(_=>{if(!l){_x.delete(i);return}Y2.set(i,!0),_x.set(i,t),_.stopPropagation();const T=_.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,t,l]),b=f.useCallback(_=>{if(!l||c){nc("Not dragging block"),_x.delete(i),Y2.set(i,!1);return}if(nc("Drag start"),Y2.set(i,!0),_.dataTransfer&&(_.dataTransfer.setData("application/portable-text","something"),_.dataTransfer.effectAllowed="move"),d&&d instanceof HTMLElement){let T=d.cloneNode(!0);const j=T.querySelector("[data-pt-drag-ghost-element]");if(j&&(T=j),T.setAttribute("data-dragged",""),document.body){a.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const A=d.getBoundingClientRect(),I=_.clientX-A.left,M=_.clientY-A.top;T.style.width=`${A.width}px`,T.style.height=`${A.height}px`,_.dataTransfer.setDragImage(T,I,M)}}v(_)},[d,i,v,c,l]),x=o&&i.children[0]===Tx.get(i),w=o&&i.children[i.children.length-1]===Tx.get(i),C=Ax.get(i),S=x||o&&!x&&!w&&C==="top",E=w||o&&!x&&!w&&C==="bottom",k=f.useMemo(()=>u.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return n?u.jsx(u.Fragment,{children:e}):u.jsxs("div",{draggable:l,onDragStart:b,onDrag:v,onDragOver:p,onDragLeave:m,onDragEnd:g,onDrop:y,children:[S&&k,e,E&&k]})};wi("components:Element");const XNt=[],JNt={display:"inline-block"},QNt=({attributes:e,children:t,element:n,schemaTypes:r,readOnly:i,renderBlock:a,renderChild:o,renderListItem:s,renderStyle:l,spellCheck:c})=>{const d=td(),h=L2e(),p=f.useRef(null),m=f.useRef(null),g=h&&d.selection&&pe.isCollapsed(d.selection)||!1,y=f.useMemo(()=>Mr([n],r.block.name,Ps.get(d))[0],[d,n,r.block.name]);let v=t,b;const x=f.useMemo(()=>[{_key:n._key}],[n]);if(typeof n._type!="string")throw new Error("Expected element to have a _type property");if(typeof n._key!="string")throw new Error("Expected element to have a _key property");if(d.isInline(n)){const E=be.findPath(d,n),[k]=B.node(d,E,{depth:1}),_=r.inlineObjects.find(T=>T.name===n._type);if(!_)throw new Error("Could not find type for inline block element");if(Ye.isElement(k)){const T=[{_key:k._key},"children",{_key:n._key}];return u.jsxs("span",{...e,children:[t,u.jsxs("span",{draggable:!i,className:"pt-inline-object","data-testid":"pt-inline-object",ref:m,style:JNt,contentEditable:!1,children:[o&&o({annotations:XNt,children:u.jsx(q2,{value:y}),editorElementRef:m,focused:g,path:T,schemaType:_,selected:h,type:_,value:y}),!o&&u.jsx(q2,{value:y})]},n._key)]})}throw new Error("Block not found!")}if(n._type===r.block.name){b="pt-block pt-text-block";const E="listItem"in n,k="style"in n&&n.style||"normal";b=`pt-block pt-text-block pt-text-block-style-${k}`;const _=r.styles.find(I=>I.value===k);l&&_&&(v=l({block:n,children:t,focused:g,selected:h,value:k,path:x,schemaType:_,editorElementRef:p}));let T;if(E&&(typeof n.level=="number"&&(T=n.level),b+=` pt-list-item pt-list-item-${n.listItem} pt-list-item-level-${T||1}`),d.isListBlock(y)&&E&&n.listItem){const I=r.lists.find(M=>M.value===n.listItem);s&&I?v=s({block:y,children:v,focused:g,selected:h,value:n.listItem,path:x,schemaType:I,level:y.level||1,editorElementRef:p}):v=u.jsx(UNt,{listStyle:y.listItem||r.lists[0].value,listLevel:y.level||1,children:u.jsx(HNt,{children:v})})}const j=Object.defineProperty({children:v,editorElementRef:p,focused:g,level:T,listItem:E?n.listItem:void 0,path:x,selected:h,style:k,schemaType:r.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),r.block}}),A=a?a(j):t;return u.jsx("div",{...e,className:b,spellCheck:c,children:u.jsx(Sre,{element:n,readOnly:i,blockRef:p,children:u.jsx("div",{ref:p,children:A})})},n._key)}const w=r.blockObjects.find(E=>E.name===n._type);if(!w)throw new Error(`Could not find schema type for block element of _type ${n._type}`);b="pt-block pt-object-block";const C=Mr([n],r.block.name,Ps.get(d))[0];let S;if(a){const E=Object.defineProperty({children:u.jsx(q2,{value:y}),editorElementRef:p,focused:g,path:x,schemaType:w,selected:h,value:C},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),w}});S=a(E)}return u.jsxs("div",{...e,className:b,children:[t,u.jsxs(Sre,{element:n,readOnly:i,blockRef:p,children:[S&&u.jsx("div",{ref:p,contentEditable:!1,children:S}),!S&&u.jsx(zNt,{selected:h,children:u.jsx(q2,{value:y})})]})]},n._key)},g5e=f.createContext(null),qi=()=>{const e=f.useContext(g5e);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e};function eLt(e){const t=f.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return u.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}function Ere(e){var s,l,c;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const t=(s=e.of)==null?void 0:s.find(y5e);if(!t)throw new Error("Block type is not defined in this schema (required)");const n=(l=t.fields)==null?void 0:l.find(d=>d.name==="children");if(!n)throw new Error("Children field for block type found in schema (required)");const r=n.type.of;if(!r)throw new Error("Valid types for block children not found in schema (required)");const i=r.find(d=>d.name==="span");if(!i)throw new Error("Span type not found in schema (required)");const a=r.filter(d=>d.name!=="span")||[],o=((c=e.of)==null?void 0:c.filter(d=>d.name!==t.name))||[];return{styles:tLt(t),decorators:nLt(i),lists:rLt(t),block:t,span:i,portableText:e,inlineObjects:a,blockObjects:o,annotations:i.annotations}}function tLt(e){var r,i,a;const t=(r=e.fields)==null?void 0:r.find(o=>o.name==="style");if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=((i=t.type.options)==null?void 0:i.list)&&((a=t.type.options.list)==null?void 0:a.filter(o=>o.value));if(!n||n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function nLt(e){return e.decorators}function rLt(e){var r,i;const t=(r=e.fields)==null?void 0:r.find(a=>a.name==="listItem");if(!t)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const n=((i=t.type.options)==null?void 0:i.list)&&t.type.options.list.filter(a=>a.value);if(!n)throw new Error("The list field need at least to be an empty array");return n}function y5e(e){return e.type?y5e(e.type):e.name==="block"?e:null}function kre(e){return hH.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}const J0=wi("operationToPatches");function iLt(e){const t=e.block.name;function n(d,h,p){J0.enabled&&J0("Operation",JSON.stringify(h,null,2));const m=d.isTextBlock(d.children[h.path[0]])&&d.children[h.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&d.isTextSpan(m.children[h.path[1]])&&m.children[h.path[1]];if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],v=p[h.path[0]],b=d.isTextBlock(v)&&v.children[h.path[1]],x=d.isTextSpan(b)?b.text:"",w=hre(x,g.text,y);return w.value.length?[w]:[]}function r(d,h,p){const m=d&&d.children[h.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&m.children[h.path[1]]||void 0,y=d.isTextSpan(g)?g:void 0;if(g&&!y)throw new Error("Expected span");if(!y)throw new Error("Could not find child");const v=[{_key:m._key},"children",{_key:y._key},"text"],b=p[h.path[0]],x=d.isTextBlock(b)&&b.children[h.path[1]],w=d.isTextSpan(x)&&x.text,C=hre(w||"",y.text,v);return C.value?[C]:[]}function i(d,h){if(h.path.length===1){const p=d.children[h.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=Y2e({...d.children[h.path[0]],...h.newProperties},W2e);return[fs(Mr([m],t)[0],[{_key:p._key}])]}else if(h.path.length===2){const p=d.children[h.path[0]];if(d.isTextBlock(p)){const m=p.children[h.path[1]];if(m){const g=p._key,y=m._key,v=[],b=Object.keys(h.newProperties);return b.forEach(x=>{if(b.length===1&&x==="_key"){const w=ir(h.newProperties,x);v.push(fs(w,[{_key:g},"children",p.children.indexOf(m),x]))}else{const w=ir(h.newProperties,x);v.push(fs(w,[{_key:g},"children",{_key:y},x]))}}),v}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error(`Unexpected path encountered: ${JSON.stringify(h.path)}`)}function a(d,h,p){const m=p[h.path[0]],g=d.isTextBlock(m);if(h.path.length===1){const y=h.path[0]===0?"before":"after",v=p[h.path[0]-1],b=h.path[0]===0?m==null?void 0:m._key:v==null?void 0:v._key;return b?[kd([Mr([h.node],t)[0]],y,[{_key:b}])]:[CH(p,[]),kd([Mr([h.node],t)[0]],"before",[h.path[0]])]}else if(g&&h.path.length===2&&d.children[h.path[0]]){const y=m.children.length===0||!m.children[h.path[1]-1]?"before":"after",v={...h.node};!v._type&&Be.isText(v)&&(v._type="span",v.marks=[]);const b=Mr([{_key:"bogus",_type:t,children:[v]}],t)[0].children[0];return[kd([b],y,[{_key:m._key},"children",m.children.length<=1||!m.children[h.path[1]-1]?0:{_key:m.children[h.path[1]-1]._key}])]}return J0("Something was inserted into a void block. Not producing editor patches."),[]}function o(d,h,p){const m=[],g=d.children[h.path[0]];if(!d.isTextBlock(g))throw new Error(`Block with path ${JSON.stringify(h.path[0])} is not a text block and can't be split`);if(h.path.length===1){const y=p[h.path[0]];if(d.isTextBlock(y)){const v=Mr([d.children[h.path[0]+1]],t)[0];v&&(m.push(kd([v],"after",[{_key:g._key}])),y.children.slice(h.position).forEach(b=>{const x=[{_key:y._key},"children",{_key:b._key}];m.push(vo(x))}))}return m}if(h.path.length===2){const y=g.children[h.path[1]];if(d.isTextSpan(y)){const v=Mr([{...g,children:g.children.slice(h.path[1]+1,h.path[1]+2)}],t)[0].children;m.push(kd(v,"after",[{_key:g._key},"children",{_key:y._key}])),m.push(fs(y.text,[{_key:g._key},"children",{_key:y._key},"text"]))}return m}return m}function s(d,h,p){const m=p[h.path[0]];if(h.path.length===1){if(m&&m._key)return[vo([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&h.path.length===2){const g=m.children[h.path[1]];return g?m.children.filter(y=>y._key===h.node._key).length>1?(console.warn(`Multiple spans have \`_key\` ${h.node._key}. It's ambiguous which one to remove.`,JSON.stringify(m,null,2)),[]):[vo([{_key:m._key},"children",{_key:g._key}])]:(J0("Span not found in editor trying to remove node"),[])}else return J0("Not creating patch inside object block"),[]}function l(d,h,p){const m=[],g=p[h.path[0]],y=d.children[h.path[0]];if(h.path.length===1)if(g!=null&&g._key){const v=Mr([d.children[h.path[0]-1]],t)[0];m.push(fs(v,[{_key:v._key}])),m.push(vo([{_key:g._key}]))}else throw new Error("Target key not found!");else if(d.isTextBlock(g)&&d.isTextBlock(y)&&h.path.length===2){const v=y.children[h.path[1]-1]&&d.isTextSpan(y.children[h.path[1]-1])?y.children[h.path[1]-1]:void 0,b=g.children[h.path[1]]&&d.isTextSpan(g.children[h.path[1]])?g.children[h.path[1]]:void 0;v&&(g.children.filter(x=>x._key===v._key).length===1?m.push(fs(v.text,[{_key:g._key},"children",{_key:v._key},"text"])):console.warn(`Multiple spans have \`_key\` ${v._key}. It's ambiguous which one to update.`,JSON.stringify(g,null,2))),b&&(g.children.filter(x=>x._key===b._key).length===1?m.push(vo([{_key:g._key},"children",{_key:b._key}])):console.warn(`Multiple spans have \`_key\` ${b._key}. It's ambiguous which one to remove.`,JSON.stringify(g,null,2)))}else J0("Void nodes can't be merged, not creating any patches");return m}function c(d,h,p){const m=[],g=p[h.path[0]],y=p[h.newPath[0]];if(h.path.length===1){const v=h.path[0]>h.newPath[0]?"before":"after";m.push(vo([{_key:g._key}])),m.push(kd([Mr([g],t)[0]],v,[{_key:y._key}]))}else if(h.path.length===2&&d.isTextBlock(g)&&d.isTextBlock(y)){const v=g.children[h.path[1]],b=y.children[h.newPath[1]],x=h.newPath[1]===y.children.length?"after":"before",w=Mr([g],t)[0].children[h.path[1]];m.push(vo([{_key:g._key},"children",{_key:v._key}])),m.push(kd([w],x,[{_key:y._key},"children",{_key:b._key}]))}return m}return{insertNodePatch:a,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:c,removeNodePatch:s,removeTextPatch:r,setNodePatch:i,splitNodePatch:o}}const jx=wi("API:editable");function aLt(e,t,n){return function(r){return e.setEditable({focus:()=>{be.focus(r)},blur:()=>{be.blur(r)},toggleMark:i=>{r.pteToggleMark(i)},toggleList:i=>{r.pteToggleListItem(i)},toggleBlockStyle:i=>{r.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return r.pteIsMarkActive(i)}catch(a){return console.warn(a),!1}},marks:()=>({...B.marks(r)||{}}).marks||[],undo:()=>r.undo(),redo:()=>r.redo(),select:i=>{const a=wm(i,r);a?ce.select(r,a):ce.deselect(r),r.onChange()},focusBlock:()=>{if(r.selection){const i=Ie.descendant(r,r.selection.focus.path.slice(0,1));if(i)return Mr([i],t.block.name,Ps.get(r))[0]}},focusChild:()=>{if(r.selection){const i=Ie.descendant(r,r.selection.focus.path.slice(0,1));if(i&&r.isTextBlock(i))return Mr([i],t.block.name,Ps.get(r))[0].children[r.selection.focus.path[1]]}},insertChild:(i,a)=>{var h;if(!r.selection)throw new Error("The editor has no selection");const[o]=Array.from(B.nodes(r,{at:r.selection.focus.path.slice(0,1),match:p=>p._type===t.block.name}))[0]||[void 0];if(!o)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(p=>p.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const s=Pc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...a||{}}]}],e)[0].children[0],l=r.selection.focus.path.slice(0,2),c=s._type===t.span.name,d=Ie.get(r,l);return c&&d._type!==t.span.name&&(jx("Inserting span child next to inline object child, moving selection + 1"),r.move({distance:1,unit:"character"})),ce.insertNodes(r,s,{select:!0,at:r.selection}),r.onChange(),((h=Od(Mr(r.children,t.block.name,Ps.get(r)),r.selection,t))==null?void 0:h.focus.path)||[]},insertBlock:(i,a)=>{var l,c;const o=Pc([{_key:n(),_type:i.name,...a||{}}],e)[0];if(!r.selection){const d=Array.from(B.nodes(r,{match:h=>!B.isEditor(h),at:[],reverse:!0}))[0];return B.insertNode(r,o),d&&Lg([d[0]],t)&&ce.removeNodes(r,{at:d[1]}),r.onChange(),((l=Od(Mr(r.children,t.block.name,Ps.get(r)),r.selection,t))==null?void 0:l.focus.path)??[]}const s=Array.from(B.nodes(r,{at:r.selection.focus.path.slice(0,1),match:d=>d._type===t.block.name}))[0];return B.insertNode(r,o),s&&Lg([s[0]],t)&&ce.removeNodes(r,{at:s[1]}),r.onChange(),((c=Od(Mr(r.children,t.block.name,Ps.get(r)),r.selection,t))==null?void 0:c.focus.path)||[]},hasBlockStyle:i=>{try{return r.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return r.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const a=wm({focus:{path:i,offset:0},anchor:{path:i,offset:0}},r);if(a){const[o,s]=B.node(r,a.focus.path.slice(0,1));if(o&&s&&typeof o._key=="string"){if(i.length===1&&a.focus.path.length===1)return[Mr([o],t.block.name)[0],[{_key:o._key}]];const l=Mr([o],t.block.name,Ps.get(r))[0];if(r.isTextBlock(l)){const c=l.children[a.focus.path[1]];if(c)return[c,[{_key:o._key},"children",{_key:c._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let a;try{const[o]=Array.from(B.nodes(r,{at:[],match:s=>s._key===i._key})||[])[0]||[void 0];a=be.toDOMNode(r,o)}catch{}return a},activeAnnotations:()=>{var i;if(!r.selection||r.selection.focus.path.length<2)return[];try{const a=[],o=B.nodes(r,{at:r.selection,match:s=>Be.isText(s)&&s.marks!==void 0&&Array.isArray(s.marks)&&s.marks.length>0});for(const[s,l]of o){const[c]=B.node(r,l,{depth:1});r.isTextBlock(c)&&((i=c.markDefs)==null||i.forEach(d=>{Be.isText(s)&&s.marks&&Array.isArray(s.marks)&&s.marks.includes(d._key)&&a.push(d)}))}return a}catch{return[]}},isAnnotationActive:i=>{if(!r.selection||r.selection.focus.path.length<2)return!1;try{const a=[...B.nodes(r,{at:r.selection,match:s=>Be.isText(s)})];if(a.length===0||a.some(([s])=>{var l;return!vi(s)||!s.marks||((l=s.marks)==null?void 0:l.length)===0}))return!1;const o=a.reduce((s,[,l])=>{const[c]=B.node(r,l,{depth:1});return r.isTextBlock(c)&&c.markDefs?[...s,...c.markDefs]:s},[]);return a.every(([s])=>{var l,c;return vi(s)?(c=(l=s.marks)==null?void 0:l.map(d=>{var h;return(h=o.find(p=>(p==null?void 0:p._key)===d))==null?void 0:h._type}))==null?void 0:c.includes(i):!1})}catch{return!1}},addAnnotation:(i,a)=>{const{selection:o}=r;let s;if(o){const[l]=B.node(r,o.focus,{depth:1});if(!r.isTextBlock(l))return;const[c]=B.node(r,o.focus,{depth:2});if(!vi(c)||c.text==="")return;pe.isCollapsed(o)&&(r.pteExpandToWord(),r.onChange()),r.selection&&(B.withoutNormalizing(r,()=>{const d=n();ce.setNodes(r,{markDefs:[...l.markDefs||[],{_type:i.name,_key:d,...a}]},{at:o.focus}),r.onChange(),ce.setNodes(r,{},{match:Be.isText,split:!0}),r.onChange(),r.selection&&Be.isText(c)&&ce.setNodes(r,{marks:[...c.marks||[],d]},{at:r.selection,match:p=>p._type===t.span.name}),r.onChange();const h=Od(Mr(r.children,t.block.name,Ps.get(r)),r.selection,t);h&&(s={spanPath:h.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:d}]})}),B.normalize(r),r.onChange())}return s},delete:(i,a)=>{if(i){const o=wm(i,r);if(!(o&&o.anchor.path.length>0&&o.focus.path.length>0))throw new Error("Invalid range");if(o){if(!(a!=null&&a.mode)||(a==null?void 0:a.mode)==="selected"){jx("Deleting content in selection"),ce.delete(r,{at:o,hanging:!0,voids:!0}),r.onChange();return}(a==null?void 0:a.mode)==="blocks"&&(jx("Deleting blocks touched by selection"),ce.removeNodes(r,{at:o,voids:!0,match:s=>r.isTextBlock(s)||!r.isTextBlock(s)&&Ye.isElement(s)})),(a==null?void 0:a.mode)==="children"&&(jx("Deleting children touched by selection"),ce.removeNodes(r,{at:o,voids:!0,match:s=>s._type===t.span.name||!r.isTextBlock(s)&&Ye.isElement(s)})),r.children.length===0&&(r.children=[r.pteCreateEmptyBlock()]),r.onChange()}}},removeAnnotation:i=>{let{selection:a}=r;if(jx("Removing annotation",i),a){if(pe.isCollapsed(a)){const[o,s]=B.node(r,a,{depth:2});Be.isText(o)&&o.marks&&typeof o.text=="string"&&(ce.select(r,s),a=r.selection)}B.withoutNormalizing(r,()=>{if(a&&pe.isExpanded(a)){if(a=r.selection,!a)return;[...B.nodes(r,{at:a,match:o=>r.isTextBlock(o)&&Array.isArray(o.markDefs)&&o.markDefs.some(s=>s._type===i.name)})].forEach(([o])=>{r.isTextBlock(o)&&Array.isArray(o.markDefs)&&o.markDefs.filter(s=>s._type===i.name).forEach(s=>{B.removeMark(r,s._key)})})}}),B.normalize(r),r.onChange()}},getSelection:()=>{let i=null;if(r.selection){const a=JA.get(r.selection);if(a)return a;i=Od(Mr(r.children,t.block.name,Ps.get(r)),r.selection,t),JA.set(r.selection,i)}return i},getValue:()=>Mr(r.children,t.block.name,Ps.get(r)),isCollapsedSelection:()=>!!r.selection&&pe.isCollapsed(r.selection),isExpandedSelection:()=>!!r.selection&&pe.isExpanded(r.selection),insertBreak:()=>{r.insertBreak(),r.onChange()},getFragment:()=>Mr(r.getFragment(),t.block.name),isSelectionsOverlapping:(i,a)=>{const o=wm(i,r),s=wm(a,r);return pe.isRange(o)&&pe.isRange(s)&&pe.includes(o,s)}}),r}}function oLt(e){return function(t){const{insertBreak:n}=t;return t.insertBreak=()=>{if(t.selection){const r=t.selection.focus.path.slice(0,1),i=Ie.descendant(t,r);if(t.isTextBlock(i)){const[,a]=pe.edges(t.selection),o=B.isStart(t,a,a.path),s=i&&Lg([i],e);if(o&&!s){B.insertNode(t,t.pteCreateEmptyBlock());const[l]=ae.next(r);ce.select(t,{anchor:{path:[l,0],offset:0},focus:{path:[l,0],offset:0}}),t.onChange();return}}}n()},t}}function v5e(e,t){const n=vb(e)||!1;XA.set(e,!0),t(),XA.set(e,n)}function vb(e){return XA.get(e)}function sLt(e){return O_.get(e)}const QA=new WeakMap,ej=new WeakMap;function lLt(e,t){const n=GE(e);QA.set(e,!0),t(),QA.set(e,n)}function GE(e){return QA.get(e)??!1}function uLt(e,t){QA.set(e,t)}function cLt(e,t){const n=YE(e);ej.set(e,!0),t(),ej.set(e,n)}function YE(e){return ej.get(e)??!1}function dLt(e,t){ej.set(e,t)}function fLt(e){return function(t){const{apply:n}=t;return t.apply=r=>{if(vb(t)){n(r);return}if(GE(t)||YE(t)){n(r);return}const i=e;i>0&&t.children.length>=i&&(r.type==="insert_node"||r.type==="split_node")&&r.path.length===1||n(r)},t}}function hLt(e,t){return function(n){const{apply:r,normalizeNode:i}=n;return n.apply=a=>{if(vb(n)){r(a);return}if(GE(n)||YE(n)){r(a);return}if(a.type==="split_node"){r({...a,properties:{...a.properties,_key:t()}});return}if(a.type==="insert_node"&&!B.isEditor(a.node)){r({...a,node:{...a.node,_key:t()}});return}r(a)},n.normalizeNode=a=>{const[o,s]=a;if(Ye.isElement(o)&&o._type===e.block.name){o._key||ce.setNodes(n,{_key:t()},{at:s});for(const[l,c]of Ie.children(n,s))if(!l._key){ce.setNodes(n,{_key:t()},{at:c});return}}i(a)},n}}function pLt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function mLt(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function qE(e){const[t,n]=e;return[t,n]}function _re(e,t){let n=e,r=t;const i=n.length,a=r.length;if(i===0||a===0)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));const o=Math.min(i,a);if(n===r)return o;let s=0,l=1;for(let c=0;c!==-1;){const d=n.substring(o-l);if(c=r.indexOf(d),c===-1)return s;l+=c,(c===0||n.substring(o-l)===r.substring(0,l))&&(s=l,l++)}return s}function EH(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function PM(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function gLt(e){let t=e.map(h=>qE(h)),n=!1;const r=[];let i=0,a=null,o=0,s=0,l=0,c=0,d=0;for(;o<t.length;)t[o][0]===dn?(r[i++]=o,s=c,l=d,c=0,d=0,a=t[o][1]):(t[o][0]===yi?c+=t[o][1].length:d+=t[o][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(c,d)&&(t.splice(r[i-1],0,[Zr,a]),t[r[i-1]+1][0]=yi,i--,i--,o=i>0?r[i-1]:-1,s=0,l=0,c=0,d=0,a=null,n=!0)),o++;for(n&&(t=FM(t)),t=b5e(t),o=1;o<t.length;){if(t[o-1][0]===Zr&&t[o][0]===yi){const h=t[o-1][1],p=t[o][1],m=_re(h,p),g=_re(p,h);m>=g?(m>=h.length/2||m>=p.length/2)&&(t.splice(o,0,[dn,p.substring(0,m)]),t[o-1][1]=h.substring(0,h.length-m),t[o+1][1]=p.substring(m),o++):(g>=h.length/2||g>=p.length/2)&&(t.splice(o,0,[dn,h.substring(0,g)]),t[o-1][0]=yi,t[o-1][1]=p.substring(0,p.length-g),t[o+1][0]=Zr,t[o+1][1]=h.substring(g),o++),o++}o++}return t}const Tre=/[^a-zA-Z0-9]/,Are=/\s/,jre=/[\r\n]/,yLt=/\n\r?\n$/,vLt=/^\r?\n\r?\n/;function b5e(e){const t=e.map(i=>qE(i));function n(i,a){if(!i||!a)return 6;const o=i.charAt(i.length-1),s=a.charAt(0),l=o.match(Tre),c=s.match(Tre),d=l&&o.match(Are),h=c&&s.match(Are),p=d&&o.match(jre),m=h&&s.match(jre),g=p&&i.match(yLt),y=m&&a.match(vLt);return g||y?5:p||m?4:l&&!d&&h?3:d||h?2:l||c?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===dn&&t[r+1][0]===dn){let i=t[r-1][1],a=t[r][1],o=t[r+1][1];const s=PM(i,a);if(s){const p=a.substring(a.length-s);i=i.substring(0,i.length-s),a=p+a.substring(0,a.length-s),o=p+o}let l=i,c=a,d=o,h=n(i,a)+n(a,o);for(;a.charAt(0)===o.charAt(0);){i+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);const p=n(i,a)+n(a,o);p>=h&&(h=p,l=i,c=a,d=o)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function FM(e){let t=e.map(c=>qE(c));t.push([dn,""]);let n=0,r=0,i=0,a="",o="",s;for(;n<t.length;)switch(t[n][0]){case yi:i++,o+=t[n][1],n++;break;case Zr:r++,a+=t[n][1],n++;break;case dn:r+i>1?(r!==0&&i!==0&&(s=EH(o,a),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===dn?t[n-r-i-1][1]+=o.substring(0,s):(t.splice(0,0,[dn,o.substring(0,s)]),n++),o=o.substring(s),a=a.substring(s)),s=PM(o,a),s!==0&&(t[n][1]=o.substring(o.length-s)+t[n][1],o=o.substring(0,o.length-s),a=a.substring(0,a.length-s))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[Zr,a]),n++),o.length&&(t.splice(n,0,[yi,o]),n++),n++):n!==0&&t[n-1][0]===dn?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===dn&&t[n+1][0]===dn&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=FM(t)),t}function bLt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>r+(i?1:0),0)}function xLt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>qE(p)),r=!1;const i=[];let a=0,o=null,s=0,l=!1,c=!1,d=!1,h=!1;for(;s<n.length;)n[s][0]===dn?(n[s][1].length<t&&(d||h)?(i[a++]=s,l=d,c=h,o=n[s][1]):(a=0,o=null),d=!1,h=!1):(n[s][0]===Zr?h=!0:d=!0,o&&(l&&c&&d&&h||o.length<t/2&&bLt(l,c,d,h)===3)&&(n.splice(i[a-1],0,[Zr,o]),n[i[a-1]+1][0]=yi,a--,o=null,l&&c?(d=!0,h=!0,a=0):(a--,s=a>0?i[a-1]:-1,d=!1,h=!1),r=!0)),s++;return r&&(n=FM(n)),n}function wLt(e,t,n){const r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=a,s=2*a,l=new Array(s),c=new Array(s);for(let v=0;v<s;v++)l[v]=-1,c[v]=-1;l[o+1]=0,c[o+1]=0;const d=r-i,h=d%2!==0;let p=0,m=0,g=0,y=0;for(let v=0;v<a&&!(Date.now()>n);v++){for(let b=-v+p;b<=v-m;b+=2){const x=o+b;let w;b===-v||b!==v&&l[x-1]<l[x+1]?w=l[x+1]:w=l[x-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[x]=w,w>r)m+=2;else if(C>i)p+=2;else if(h){const S=o+d-b;if(S>=0&&S<s&&c[S]!==-1){const E=r-c[S];if(w>=E)return Ire(e,t,w,C,n)}}}for(let b=-v+g;b<=v-y;b+=2){const x=o+b;let w;b===-v||b!==v&&c[x-1]<c[x+1]?w=c[x+1]:w=c[x-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(c[x]=w,w>r)y+=2;else if(C>i)g+=2;else if(!h){const S=o+d-b;if(S>=0&&S<s&&l[S]!==-1){const E=l[S],k=o+E-S;if(w=r-w,E>=w)return Ire(e,t,E,k,n)}}}}return[[Zr,e],[yi,t]]}function Ire(e,t,n,r,i){const a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=Bg(a,o,{checkLines:!1,deadline:i}),d=Bg(s,l,{checkLines:!1,deadline:i});return c.concat(d)}function CLt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;const i=Dre(n,r,Math.ceil(n.length/4)),a=Dre(n,r,Math.ceil(n.length/2));let o;if(i&&a)o=i[4].length>a[4].length?i:a;else{if(!i&&!a)return null;a?i||(o=a):o=i}if(!o)throw new Error("Unable to find a half match.");let s,l,c,d;e.length>t.length?(s=o[0],l=o[1],c=o[2],d=o[3]):(c=o[0],d=o[1],s=o[2],l=o[3]);const h=o[4];return[s,l,c,d,h]}function Dre(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,a="",o,s,l,c;for(;(i=t.indexOf(r,i+1))!==-1;){const d=EH(e.slice(n),t.slice(i)),h=PM(e.slice(0,n),t.slice(0,i));a.length<h+d&&(a=t.slice(i-h,i)+t.slice(i,i+d),o=e.slice(0,n-h),s=e.slice(n+d),l=t.slice(0,i-h),c=t.slice(i+d))}return a.length*2>=e.length?[o||"",s||"",l||"",c||"",a||""]:null}function SLt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let a=0;a<r.length;a++)i[a]=t[r.charCodeAt(a)];e[n][1]=i.join("")}}function ELt(e,t){const n=[],r={};n[0]="";function i(l){let c="",d=0,h=-1,p=n.length;for(;h<l.length-1;){h=l.indexOf(`
`,d),h===-1&&(h=l.length-1);let m=l.slice(d,h+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?c+=String.fromCharCode(r[m]):(p===a&&(m=l.slice(d),h=l.length),c+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=h+1}return c}let a=4e4;const o=i(e);a=65535;const s=i(t);return{chars1:o,chars2:s,lineArray:n}}function kLt(e,t,n){let r=e,i=t;const a=ELt(r,i);r=a.chars1,i=a.chars2;const o=a.lineArray;let s=Bg(r,i,{checkLines:!1,deadline:n.deadline});SLt(s,o),s=gLt(s),s.push([dn,""]);let l=0,c=0,d=0,h="",p="";for(;l<s.length;){switch(s[l][0]){case yi:d++,p+=s[l][1];break;case Zr:c++,h+=s[l][1];break;case dn:if(c>=1&&d>=1){s.splice(l-c-d,c+d),l=l-c-d;const m=Bg(h,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,c=0,h="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function _Lt(e,t,n){let r;if(!e)return[[yi,t]];if(!t)return[[Zr,e]];const i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(o!==-1)return r=[[yi,i.substring(0,o)],[dn,a],[yi,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=Zr,r[2][0]=Zr),r;if(a.length===1)return[[Zr,e],[yi,t]];const s=CLt(e,t);if(s){const l=s[0],c=s[1],d=s[2],h=s[3],p=s[4],m=Bg(l,d,n),g=Bg(c,h,n);return m.concat([[dn,p]],g)}return n.checkLines&&e.length>100&&t.length>100?kLt(e,t,n):wLt(e,t,n.deadline)}const Zr=-1,yi=1,dn=0;function x5e(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Bg(e,t,ALt(n||{}));return ILt(r),r}function Bg(e,t,n){let r=e,i=t;if(r===i)return r?[[dn,r]]:[];let a=EH(r,i);const o=r.substring(0,a);r=r.substring(a),i=i.substring(a),a=PM(r,i);const s=r.substring(r.length-a);r=r.substring(0,r.length-a),i=i.substring(0,i.length-a);let l=_Lt(r,i,n);return o&&l.unshift([dn,o]),s&&l.push([dn,s]),l=FM(l),l}function TLt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function ALt(e){return{checkLines:!0,deadline:TLt(e.timeout||1),...e}}function K2(e,t,n){return n===1?e+t:t+e}function Z2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function jLt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function Mre(e,t,n){const r=n===1?-1:1;let i=null,a=null,o=t+n;for(;o>=0&&o<e.length&&(i===null||a===null);o+=n){const[c,d]=e[o];if(d.length!==0){if(c===yi){i===null&&(i=o);continue}else if(c===Zr){a===null&&(a=o);continue}else if(c===dn){if(i===null&&a===null){const[h,p]=Z2(e[t][1],n);e[t][1]=h,e[o][1]=K2(e[o][1],p,r);return}break}}}if(i!==null&&a!==null&&jLt(e,i,a,n)){const[c,d]=Z2(e[i][1],r),[h]=Z2(e[a][1],r);e[i][1]=c,e[a][1]=h,e[t][1]=K2(e[t][1],d,n);return}const[s,l]=Z2(e[t][1],n);e[t][1]=s,i===null?(e.splice(o,0,[yi,l]),a!==null&&a>=o&&a++):e[i][1]=K2(e[i][1],l,r),a===null?e.splice(o,0,[Zr,l]):e[a][1]=K2(e[a][1],l,r)}function ILt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],a=r[r.length-1];pLt(a)&&n===dn&&Mre(e,t,1),mLt(i)&&n===dn&&Mre(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const DLt={threshold:.5,distance:1e3};function MLt(e){return{...DLt,...e}}const RLt=32;function OLt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>RLt)throw new Error("Pattern too long for this browser.");const i=MLt(r),a=$Lt(t);function o(g,y){const v=g/t.length,b=Math.abs(n-y);return i.distance?v+b/i.distance:b?1:v}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(o(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(o(0,l),s)));const c=1<<t.length-1;l=-1;let d,h,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,h=p;d<h;)o(g,n+h)<=s?d=h:p=h,h=Math.floor((p-d)/2+d);p=h;let y=Math.max(1,n-h+1);const v=Math.min(n+h,e.length)+t.length,b=new Array(v+2);b[v+1]=(1<<g)-1;for(let x=v;x>=y;x--){const w=a[e.charAt(x-1)];if(g===0?b[x]=(b[x+1]<<1|1)&w:b[x]=(b[x+1]<<1|1)&w|((m[x+1]|m[x])<<1|1)|m[x+1],b[x]&c){const C=o(g,x-1);if(C<=s)if(s=C,l=x-1,l>n)y=Math.max(1,2*n-l);else break}}if(o(g+1,n)>s)break;m=b}return l}function $Lt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function U3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return OLt(e,t,r)}function w5e(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function C5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==yi&&(t[n]=e[n][1]);return t.join("")}function S5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Zr&&(t[n]=e[n][1]);return t.join("")}function cw(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=E5e(r)}return t}function PLt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;function a(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=E5e(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const o=[];for(const s of e)o.push({diffs:s.diffs.map(l=>qE(l)),start1:a(s.start1),start2:a(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return o}function E5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const bm=32,kH=4;function FLt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case yi:n+=o.length;break;case Zr:r+=o.length;break;case dn:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function Rre(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(e[o][0]!==yi&&(n+=e[o][1].length),e[o][0]!==Zr&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&e[o][0]===Zr?a:a+(t-i)}function NLt(e){const t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kH;let n="";for(let a=1;a<=t;a++)n+=String.fromCharCode(a);for(const a of e)a.start1+=t,a.start2+=t,a.utf8Start1+=t,a.utf8Start2+=t;let r=e[0],i=r.diffs;if(i.length===0||i[0][0]!==dn)i.unshift([dn,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){const a=i[0][1].length,o=t-a;i[0][1]=n.substring(a)+i[0][1],r.start1-=o,r.start2-=o,r.utf8Start1-=o,r.utf8Start2-=o,r.length1+=o,r.length2+=o,r.utf8Length1+=o,r.utf8Length2+=o}if(r=e[e.length-1],i=r.diffs,i.length===0||i[i.length-1][0]!==dn)i.push([dn,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){const a=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,a),r.length1+=a,r.length2+=a,r.utf8Length1+=a,r.utf8Length2+=a}return n}function LLt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kH;const n=bm;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let a=i.start1,o=i.start2,s="";for(;i.diffs.length!==0;){const l=w5e(a-s.length,o-s.length);let c=!0;if(s!==""){const p=cw(s);l.length1=s.length,l.utf8Length1=p,l.length2=s.length,l.utf8Length2=p,l.diffs.push([dn,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const p=i.diffs[0][0];let m=i.diffs[0][1],g=cw(m);if(p===yi){l.length2+=m.length,l.utf8Length2+=g,o+=m.length;const y=i.diffs.shift();y&&l.diffs.push(y),c=!1}else p===Zr&&l.diffs.length===1&&l.diffs[0][0]===dn&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,a+=m.length,c=!1,l.diffs.push([p,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=cw(m),l.length1+=m.length,l.utf8Length1+=g,a+=m.length,p===dn?(l.length2+=m.length,l.utf8Length2+=g,o+=m.length):c=!1,l.diffs.push([p,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=S5e(l.diffs),s=s.substring(s.length-t);const d=C5e(i.diffs).substring(0,t),h=cw(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=h,l.utf8Length2+=h,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===dn?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([dn,d])),c||e.splice(++r,0,l)}}}function BLt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=PLt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||kH,o=n.deleteThreshold||.4,s=NLt(i,a);r=s+r+s,LLt(i,a);let l=0;const c=[];for(let d=0;d<i.length;d++){const h=i[d].start2+l,p=C5e(i[d].diffs);let m,g=-1;if(p.length>bm?(m=U3(r,p.substring(0,bm),h),m!==-1&&(g=U3(r,p.substring(p.length-bm),h+p.length-bm),(g===-1||m>=g)&&(m=-1))):m=U3(r,p,h),m===-1)c[d]=!1,l-=i[d].length2-i[d].length1;else{c[d]=!0,l=m-h;let y;if(g===-1?y=r.substring(m,m+p.length):y=r.substring(m,g+bm),p===y)r=r.substring(0,m)+S5e(i[d].diffs)+r.substring(m+p.length);else{let v=x5e(p,y,{checkLines:!1});if(p.length>bm&&FLt(v)/p.length>o)c[d]=!1;else{v=b5e(v);let b=0,x=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==dn&&(x=Rre(v,b)),C[0]===yi?r=r.substring(0,m+x)+C[1]+r.substring(m+x):C[0]===Zr&&(r=r.substring(0,m+x)+r.substring(m+Rre(v,b+C[1].length))),C[0]!==Zr&&(b+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,c]}const VLt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function k5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(VLt);if(!i)throw new Error("Invalid patch string: ".concat(n[r]));const a=w5e(X2(i[1]),X2(i[3]));for(t.push(a),i[2]===""?(a.start1--,a.utf8Start1--,a.length1=1,a.utf8Length1=1):i[2]==="0"?(a.length1=0,a.utf8Length1=0):(a.start1--,a.utf8Start1--,a.utf8Length1=X2(i[2]),a.length1=a.utf8Length1),i[4]===""?(a.start2--,a.utf8Start2--,a.length2=1,a.utf8Length2=1):i[4]==="0"?(a.length2=0,a.utf8Length2=0):(a.start2--,a.utf8Start2--,a.utf8Length2=X2(i[4]),a.length2=a.utf8Length2),r++;r<n.length;){const o=n[r],s=o.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(o.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(o))}const c=cw(l)-l.length;if(s==="-")a.diffs.push([Zr,l]),a.length1-=c;else if(s==="+")a.diffs.push([yi,l]),a.length2-=c;else if(s===" ")a.diffs.push([dn,l]),a.length1-=c,a.length2-=c;else throw new Error('Invalid patch mode "'.concat(s,'" in: ').concat(l));r++}}return t}function X2(e){return parseInt(e,10)}const qr=wi("applyPatches"),_H=qr.enabled&&!0;function zLt(e){let t;return function(n,r){let i=!1;_H&&(qr(`

NEW PATCH =============================================================`),qr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":i=HLt(n,r,e);break;case"unset":i=GLt(n,r,t);break;case"set":i=WLt(n,r);break;case"diffMatchPatch":i=ULt(n,r);break;default:qr("Unhandled patch",r.type)}}catch(a){console.error(a)}return t=r,i}}function ULt(e,t){const{block:n,child:r,childPath:i}=NM(e,t.path);if(!n)return qr("Block not found"),!1;if(!r||!i)return qr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!Be.isText(r))return!1;const a=k5e(t.value),[o]=BLt(a,r.text,{allowExceedingIndices:!0}),s=xLt(x5e(r.text,o),5);gs(e,"before");let l=0;for(const[c,d]of s)c===yi?(e.apply({type:"insert_text",path:i,offset:l,text:d}),l+=d.length):c===Zr?e.apply({type:"remove_text",path:i,offset:l,text:d}):c===dn&&(l+=d.length);return gs(e,"after"),!0}function HLt(e,t,n){const{block:r,child:i,blockPath:a,childPath:o}=NM(e,t.path);if(!r||!a)return qr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return qr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:g}=t,y=Pc(m,{schemaTypes:n},LL.get(e)),v=a[0],b=g==="after"?v+1:v;return qr(`Inserting blocks at path [${b}]`),gs(e,"before"),ce.insertNodes(e,y,{at:[b]}),gs(e,"after"),!0}const{items:s,position:l}=t;if(!i||!o)return qr("Child not found"),!1;const c=r&&Pc([{...r,children:s}],{schemaTypes:n},LL.get(e)),d=o[1],h=l==="after"?d+1:d,p=[o[0],h];return qr(`Inserting children at path ${p}`),gs(e,"before"),c&&Ye.isElement(c[0])&&ce.insertNodes(e,c[0].children,{at:p}),gs(e,"after"),!0}function WLt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:i,child:a,childPath:o}=NM(e,t.path);if(!r)return qr("Block not found"),!1;const s=e.isTextBlock(r);if(s&&t.path.length>1&&t.path[1]!=="children")return qr("Ignoring setting void value"),!1;if(gs(e,"before"),s&&a&&o){if(Be.isText(n)&&Be.isText(a)){const l=a.text;n.text!==l&&(qr("Setting text property"),e.apply({type:"remove_text",path:o,offset:0,text:l}),e.apply({type:"insert_text",path:o,offset:0,text:n.text}),e.onChange())}else qr("Setting non-text property"),e.apply({type:"set_node",path:o,properties:{},newProperties:n});return!0}else if(Ye.isElement(r)&&t.path.length===1&&i){qr("Setting block property");const{children:l,...c}=n,{children:d,...h}=r||{children:void 0};e.apply({type:"set_node",path:i,properties:{...h},newProperties:c}),qr("Setting children"),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:i.concat(r.children.length-1-m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:i.concat(m),node:p})})}else if(r&&"value"in r){const l=D4t([r.value],[t])[0];return ce.setNodes(e,{...r,value:l},{at:i}),!0}return gs(e,"after"),!0}function GLt(e,t,n){if(t.path.length===0){qr("Removing everything"),gs(e,"before");const s=e.selection;return ce.deselect(e),e.children.forEach((l,c)=>{ce.removeNodes(e,{at:[c]})}),ce.insertNodes(e,e.pteCreateEmptyBlock()),s&&ce.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),gs(e,"after"),!0}const{block:r,blockPath:i,child:a,childPath:o}=NM(e,t.path);if(t.path.length===1){if(!r||!i)return qr("Block not found"),!1;const s=i[0];return qr(`Removing block at path [${s}]`),gs(e,"before"),ce.removeNodes(e,{at:[s]}),gs(e,"after"),!0}return e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3?!a||!o?(qr("Child not found"),!1):(qr(`Unsetting child at path ${JSON.stringify(o)}`),gs(e,"before"),_H&&qr(`Removing child at path ${JSON.stringify(o)}`),ce.removeNodes(e,{at:o}),gs(e,"after"),!0):!1}function _5e(e){return typeof e=="object"&&"_key"in e}function gs(e,t){_H&&(qr(`Children ${t}:`,JSON.stringify(e.children,null,2)),qr(`Selection ${t}: `,JSON.stringify(e.selection,null,2)))}function YLt(e,t){let n=-1;const r=e.children.find((i,a)=>{const o=_5e(t[0])?i._key===t[0]._key:a===t[0];return o&&(n=a),o});return r?{block:r,path:[n]}:{}}function NM(e,t){const{block:n,path:r}=YLt(e,t);if(!(Ye.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let i=-1;const a=n.children.find((o,s)=>{const l=_5e(t[2])?o._key===t[2]._key:s===t[2];return l&&(i=s),l});return a?{block:n,child:a,blockPath:r,childPath:r==null?void 0:r.concat(i)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}const tj=new WeakMap;function BL(e,t){const n=T5e(e);tj.set(e,!1),t(),tj.set(e,n)}function T5e(e){return tj.get(e)}const Ua=wi("plugin:withUndoRedo"),Ore=Ua.enabled&&!1,yy=new WeakMap,H3=new WeakMap,qLt=1e3,A5e=e=>{const t=yy.get(e);return t===void 0?!0:t},KLt=e=>(H3.get(e)||H3.set(e,[]),H3.get(e)||[]);function ZLt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return i=>{let a=Mr(i.children,r.name);const o=KLt(i);n&&i.subscriptions.push(()=>{Ua("Subscribing to patches");const l=n.subscribe(({patches:c,snapshot:d})=>{let h=!1;c.forEach(p=>{if(!h&&p.origin!=="local"&&o){if(p.type==="unset"&&p.path.length===0){Ua("Someone else cleared the content, resetting undo/redo history"),i.history={undos:[],redos:[]},o.splice(0,o.length),yy.set(i,!0),h=!0;return}o.push({patch:p,time:new Date,snapshot:d,previousSnapshot:a})}}),a=d});return()=>{Ua("Unsubscribing to patches"),l.unsubscribe()}}),i.history={undos:[],redos:[]};const{apply:s}=i;return i.apply=l=>{if(t){s(l);return}const{operations:c,history:d}=i,{undos:h}=d,p=h[h.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],g=JLt(l,m),y=A5e(i);let v=!0;if(y){if(p?c.length===0&&(v=XLt(l,m)||g):v=!1,p&&v)p.operations.push(l);else{const b={operations:[...i.selection===null?[]:[e8t(i)],l],timestamp:new Date};h.push(b),Ua("Created new undo step",p)}for(;h.length>qLt;)h.shift();QLt(l)&&(d.redos=[])}s(l)},i.undo=()=>{if(t)return;const{undos:l}=i.history;if(l.length>0){const c=l[l.length-1];if(Ua("Undoing",c),c.operations.length>0){const d=o.filter(m=>m.time>=c.timestamp);let h=c.operations;d.forEach(m=>{h=pr(h.map(g=>$re(i,m.patch,g,m.snapshot,m.previousSnapshot)))});const p=h.map(z1.inverse).reverse();try{B.withoutNormalizing(i,()=>{lLt(i,()=>{uS(i,()=>{p.forEach(m=>{i.apply(m)})})})}),i.normalize(),i.onChange()}catch(m){Ua("Could not perform undo step",m),o.splice(0,o.length),ce.deselect(i),i.history={undos:[],redos:[]},yy.set(i,!0),uLt(i,!1),i.onChange();return}i.history.redos.push(c),i.history.undos.pop()}}},i.redo=()=>{if(t)return;const{redos:l}=i.history;if(l.length>0){const c=l[l.length-1];if(Ua("Redoing",c),c.operations.length>0){const d=o.filter(p=>p.time>=c.timestamp);let h=c.operations;d.forEach(p=>{h=pr(h.map(m=>$re(i,p.patch,m,p.snapshot,p.previousSnapshot)))});try{B.withoutNormalizing(i,()=>{cLt(i,()=>{uS(i,()=>{h.forEach(p=>{i.apply(p)})})})}),i.normalize(),i.onChange()}catch(p){Ua("Could not perform redo step",p),o.splice(0,o.length),ce.deselect(i),i.history={undos:[],redos:[]},yy.set(i,!0),dLt(i,!1),i.onChange();return}i.history.undos.push(c),i.history.redos.pop()}}},i}}function $re(e,t,n,r,i){Ore&&(Ua(`Adjusting '${n.type}' operation paths for '${t.type}' patch`),Ua(`Operation ${JSON.stringify(n)}`),Ua(`Patch ${JSON.stringify(t)}`));const a={...n};if(t.type==="insert"&&t.path.length===1){const o=(r||[]).findIndex(s=>kt({_key:s._key},t.path[0]));return Ua(`Adjusting block path (+${t.items.length}) for '${a.type}' operation and patch '${t.type}'`),[Pre(a,t.items.length,o)]}if(t.type==="unset"&&t.path.length===1){const o=(i||[]).findIndex(s=>kt({_key:s._key},t.path[0]));return"path"in a&&Array.isArray(a.path)&&a.path[0]===o?(Ua("Skipping transformation that targeted removed block"),[]):(Ore&&(Ua(`Selection ${JSON.stringify(e.selection)}`),Ua(`Adjusting block path (-1) for '${a.type}' operation and patch '${t.type}'`)),[Pre(a,-1,o)])}if(t.type==="unset"&&t.path.length===0)return Ua(`Adjusting selection for unset everything patch and ${n.type} operation`),[];if(t.type==="diffMatchPatch"){const o=t8t(e,a);return!o||!kt({_key:o._key},t.path[0])?[a]:(k5e(t.value).forEach(s=>{var h,p,m,g;let l=0,c=s.utf8Start1;const{diffs:d}=s;if(d.forEach((y,v)=>{const[b,x]=y;b===yi?(l+=x.length,c+=x.length):b===Zr?(l-=x.length,c-=x.length):b===dn&&(d.slice(v).every(([w])=>w===dn)||(c+=x.length))}),a.type==="insert_text"&&c<a.offset&&(a.offset+=l),a.type==="remove_text"&&c<=a.offset-a.text.length&&(a.offset+=l),a.type==="set_selection"){const y=(h=a.properties)!=null&&h.focus?{...a.properties.focus}:void 0,v=(p=a==null?void 0:a.properties)!=null&&p.anchor?{...a.properties.anchor}:void 0,b=(m=a==null?void 0:a.newProperties)!=null&&m.focus?{...a.newProperties.focus}:void 0,x=(g=a==null?void 0:a.newProperties)!=null&&g.anchor?{...a.newProperties.anchor}:void 0;(y&&v||b&&x)&&([y,v,b,x].forEach(w=>{w&&c<w.offset&&(w.offset+=l)}),y&&v&&(a.properties={focus:y,anchor:v}),b&&x&&(a.newProperties={focus:b,anchor:x}))}}),[a])}return[a]}function Pre(e,t,n){var i,a,o,s;const r={...e};if(n>=0&&r.type!=="set_selection"&&Array.isArray(r.path)&&r.path[0]>=n+t&&r.path[0]+t>-1){const l=[r.path[0]+t,...r.path.slice(1)];r.path=l}if(r.type==="set_selection"){const l=(i=r.properties)!=null&&i.focus?{...r.properties.focus}:void 0,c=(a=r==null?void 0:r.properties)!=null&&a.anchor?{...r.properties.anchor}:void 0,d=(o=r==null?void 0:r.newProperties)!=null&&o.focus?{...r.newProperties.focus}:void 0,h=(s=r==null?void 0:r.newProperties)!=null&&s.anchor?{...r.newProperties.anchor}:void 0;(l&&c||d&&h)&&([l,c,d,h].forEach(p=>{p&&p.path[0]>=n+t&&p.path[0]+t>-1&&(p.path=[p.path[0]+t,...p.path.slice(1)])}),l&&c&&(r.properties={focus:l,anchor:c}),d&&h&&(r.newProperties={focus:d,anchor:h}))}return r}const XLt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ae.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ae.equals(e.path,t.path)),JLt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),QLt=e=>e.type!=="set_selection";function uS(e,t){const n=A5e(e);yy.set(e,!1),t(),yy.set(e,n)}function e8t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function t8t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const J2=wi("plugin:withPatches");function n8t({change$:e,patches$:t,patchFunctions:n,readOnly:r,schemaTypes:i}){let a;const o=zLt(i);return function(s){XA.set(s,!1),tj.set(s,!0),a=[...s.children];const{apply:l}=s;let c=[];const d=()=>{if(c.length===0)return;const p=c;c=[];let m=!1;v5e(s,()=>{B.withoutNormalizing(s,()=>{BL(s,()=>{uS(s,()=>{p.forEach(g=>{J2.enabled&&J2(`Handling remote patch ${JSON.stringify(g)}`),m=o(s,g)})})})}),m&&(s.normalize(),s.onChange())})},h=({patches:p})=>{const m=p.filter(g=>g.origin!=="local");m.length!==0&&(c=c.concat(m),d())};return t&&s.subscriptions.push(()=>{J2("Subscribing to patches$");const p=t.subscribe(h);return()=>{J2("Unsubscribing to patches$"),p.unsubscribe()}}),s.apply=p=>{if(r)return l(p),s;let m=[];a=s.children;const g=Lg(a,i);l(p);const y=Lg(s.children,i);if(!T5e(s))return s;switch(g&&!y&&p.type!=="set_selection"&&m.push(kd(a,"before",[0])),p.type){case"insert_text":m=[...m,...n.insertTextPatch(s,p,a)];break;case"remove_text":m=[...m,...n.removeTextPatch(s,p,a)];break;case"remove_node":m=[...m,...n.removeNodePatch(s,p,a)];break;case"split_node":m=[...m,...n.splitNodePatch(s,p,a)];break;case"insert_node":m=[...m,...n.insertNodePatch(s,p,a)];break;case"set_node":m=[...m,...n.setNodePatch(s,p,a)];break;case"merge_node":m=[...m,...n.mergeNodePatch(s,p,a)];break;case"move_node":m=[...m,...n.moveNodePatch(s,p,a)];break}return!g&&y&&["merge_node","set_node","remove_text","remove_node"].includes(p.type)&&(m=[...m,vo([])],e.next({type:"unset",previousValue:Mr(a,i.block.name,Ps.get(s))})),g&&m.length>0&&(m=[CH([],[]),...m]),m.length>0&&m.forEach(v=>{e.next({type:"patch",patch:{...v,origin:"local"}})}),s},s}}const r8t=wi("plugin:withPlaceholderBlock");function i8t(){return function(e){const{apply:t}=e;return e.apply=n=>{if(vb(e)){t(n);return}if(GE(e)||YE(e)){t(n);return}if(n.type==="remove_node"){const r=n.node;if(n.path[0]===0&&B.isVoid(e,r)){const i=ae.next(n.path);e.children[i[0]]||(r8t("Adding placeholder block"),B.insertNode(e,e.pteCreateEmptyBlock()))}}t(n)},e}}const Q2=wi("plugin:withPortableTextBlockStyle");function a8t(e){const t=e.styles[0].value;return function(n){const{normalizeNode:r}=n;return n.normalizeNode=i=>{r(i);const[,a]=i;for(const o of n.operations)if(o.type==="split_node"&&o.path.length===1&&n.isTextBlock(o.properties)&&o.properties.style!==t&&o.path[0]===a[0]&&!ae.equals(a,o.path)){const[s]=B.node(n,[o.path[0]+1,0]);if(Be.isText(s)&&s.text===""){Q2(`Normalizing split node to ${t} style`,o),ce.setNodes(n,{style:t},{at:[o.path[0]+1],voids:!1});break}}},n.pteHasBlockStyle=i=>n.selection?[...B.nodes(n,{at:n.selection,match:a=>n.isTextBlock(a)&&a.style===i})].length>0:!1,n.pteToggleBlockStyle=i=>{n.selection&&([...B.nodes(n,{at:n.selection,match:a=>n.isTextBlock(a)})].forEach(([a,o])=>{n.isTextBlock(a)&&a.style===i?(Q2(`Unsetting block style '${i}'`),ce.setNodes(n,{...a,style:t},{at:o})):(i?Q2(`Setting style '${i}'`):Q2("Setting default style",t),ce.setNodes(n,{...a,style:i||t},{at:o}))}),n.onChange())},n}}const am=wi("plugin:withPortableTextLists"),W3=10;function o8t(e){return function(t){return t.pteToggleListItem=n=>{t.pteHasListStyle(n)?(am(`Remove list item '${n}'`),t.pteUnsetListItem(n)):(am(`Add list item '${n}'`),t.pteSetListItem(n))},t.pteUnsetListItem=n=>{t.selection&&[...B.nodes(t,{at:t.selection,match:r=>Ye.isElement(r)&&r._type===e.block.name})].forEach(([r,i])=>{if(t.isListBlock(r)){const{listItem:a,level:o,...s}=r,l={...s,listItem:void 0,level:void 0};am(`Unsetting list '${n}'`),ce.setNodes(t,l,{at:i})}})},t.pteSetListItem=n=>{t.selection&&[...B.nodes(t,{at:t.selection,match:r=>t.isTextBlock(r)})].forEach(([r,i])=>{am(`Setting list '${n}'`),ce.setNodes(t,{...r,level:1,listItem:n||e.lists[0]&&e.lists[0].value},{at:i})})},t.pteEndList=()=>{if(!t.selection)return!1;const n=[...B.nodes(t,{at:t.selection,match:r=>Ye.isElement(r)&&t.isListBlock(r)&&r.children.length===1&&Be.isText(r.children[0])&&r.children[0].text===""})];return n.length===0?!1:(n.forEach(([r,i])=>{Ye.isElement(r)&&(am("Unset list"),ce.setNodes(t,{...r,level:void 0,listItem:void 0},{at:i}))}),!0)},t.pteIncrementBlockLevels=n=>{if(!t.selection)return!1;const r=[...B.nodes(t,{at:t.selection,match:i=>!!t.isListBlock(i)})];return r.length===0?!1:(r.forEach(([i,a])=>{if(t.isListBlock(i)){let o=i.level||1;n?(o--,am("Decrementing list level",Math.min(W3,Math.max(1,o)))):(o++,am("Incrementing list level",Math.min(W3,Math.max(1,o)))),ce.setNodes(t,{level:Math.min(W3,Math.max(1,o))},{at:a})}}),!0)},t.pteHasListStyle=n=>{if(!t.selection)return!1;const r=[...B.nodes(t,{at:t.selection,match:i=>t.isTextBlock(i)})];return r.length>0?r.every(([i])=>t.isListBlock(i)&&i.listItem===n):!1},t}}function s8t(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function l8t(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}const rc=wi("plugin:withPortableTextMarkModel");function u8t(e,t,n){return function(r){const{apply:i,normalizeNode:a}=r,o=e.decorators.map(l=>l.value),s=()=>{r.selection&&(ce.select(r,{...r.selection}),r.selection={...r.selection});const l=Od(r.children,r.selection,e);t.next({type:"selection",selection:l})};return r.normalizeNode=l=>{var h,p;const[c,d]=l;if(r.isTextBlock(c)){const m=Ie.children(r,d);for(const[g,y]of m){const v=c.children[y[1]+1];if(r.isTextSpan(g)&&r.isTextSpan(v)&&kt(g.marks,v.marks)){rc("Merging spans",JSON.stringify(g,null,2),JSON.stringify(v,null,2)),ce.mergeNodes(r,{at:[y[0],y[1]+1],voids:!0});return}}}if(r.isTextSpan(c)&&!Array.isArray(c.marks)){rc("Adding .marks to span node"),ce.setNodes(r,{marks:[]},{at:d});return}if(r.isTextSpan(c)){const m=ae.parent(d),[g]=B.node(r,m),y=e.decorators.map(b=>b.value),v=(h=c.marks)==null?void 0:h.filter(b=>!y.includes(b));if(r.isTextBlock(g)&&c.text===""&&v&&v.length>0){rc("Removing annotations from empty span node"),ce.setNodes(r,{marks:(p=c.marks)==null?void 0:p.filter(b=>y.includes(b))},{at:d});return}}if(r.isTextBlock(c)){const m=e.decorators.map(g=>g.value);for(const[g,y]of Ie.children(r,d))if(r.isTextSpan(g)){const v=g.marks??[],b=v.filter(x=>{var w;return!m.includes(x)&&!((w=c.markDefs)!=null&&w.find(C=>C._key===x))});if(b.length>0){rc("Removing orphaned annotations from span node"),ce.setNodes(r,{marks:v.filter(x=>!b.includes(x))},{at:y});return}}}if(r.isTextSpan(c)){const m=ae.parent(d),[g]=B.node(r,m);if(r.isTextBlock(g)){const y=e.decorators.map(x=>x.value),v=c.marks??[],b=v.filter(x=>{var w;return!y.includes(x)&&!((w=g.markDefs)!=null&&w.find(C=>C._key===x))});if(b.length>0){rc("Removing orphaned annotations from span node"),ce.setNodes(r,{marks:v.filter(x=>!b.includes(x))},{at:d});return}}}if(r.isTextBlock(c)&&!r.operations.some(m=>m.type==="merge_node"&&"markDefs"in m.properties&&m.path.length===1)){const m=(c.markDefs||[]).filter(g=>c.children.find(y=>Be.isText(y)&&Array.isArray(y.marks)&&y.marks.includes(g._key)));if(c.markDefs&&!kt(m,c.markDefs)){rc("Removing markDef not in use"),ce.setNodes(r,{markDefs:m},{at:d});return}}a(l)},r.apply=l=>{var c,d;if(vb(r)){i(l);return}if(GE(r)||YE(r)){i(l);return}if(l.type==="insert_text"){const{selection:h}=r;if(h&&pe.isCollapsed(h)&&((d=(c=B.marks(r))==null?void 0:c.marks)!=null&&d.some(p=>!o.includes(p)))){const[p]=Array.from(B.nodes(r,{mode:"lowest",at:h.focus,match:m=>m._type===e.span.name,voids:!1}))[0]||[void 0];if(Be.isText(p)&&p.text.length===h.focus.offset&&Array.isArray(p.marks)&&p.marks.length>0){const m=({...B.marks(r)||{}}.marks||[]).filter(g=>o.includes(g));ce.insertNodes(r,{_type:"span",_key:n(),text:l.text,marks:m}),rc("Inserting text at end of annotation");return}}}if(l.type==="remove_text"){const h=Array.from(B.nodes(r,{mode:"lowest",at:{path:l.path,offset:l.offset},match:m=>m._type===e.span.name,voids:!1}))[0][0],p=B.node(r,ae.parent(l.path))[0];if(h&&s8t(h)&&p&&l8t(p)){const m=p.markDefs??[],g=(h.marks??[]).some(x=>m.find(w=>w._key===x)),y=l.offset!==0,v=l.offset+l.text.length===h.text.length;if(g&&y&&v){B.withoutNormalizing(r,()=>{ce.splitNodes(r,{match:Be.isText,at:{path:l.path,offset:l.offset}}),ce.removeNodes(r,{at:ae.next(l.path)})}),r.onChange();return}const b=l.offset===0&&v;if(g&&b){const x=({...B.marks(r)||{}}.marks||[]).filter(w=>o.includes(w));B.withoutNormalizing(r,()=>{i(l),ce.setNodes(r,{marks:x},{at:l.path})}),r.onChange();return}if(h.marks!==void 0&&h.marks.length>0&&b){B.withoutNormalizing(r,()=>{i(l),ce.setNodes(r,{marks:[]},{at:l.path})}),r.onChange();return}}}if(l.type==="merge_node"&&l.path.length===1&&"markDefs"in l.properties&&l.properties._type===e.block.name&&Array.isArray(l.properties.markDefs)&&l.properties.markDefs.length>0&&l.path[0]-1>=0){const[h,p]=B.node(r,[l.path[0]-1]);if(r.isTextBlock(h)){const m=Array.isArray(h.markDefs)&&h.markDefs||[],g=Sa([...m,...l.properties.markDefs]);rc("Copying markDefs over to merged block",l),ce.setNodes(r,{markDefs:g},{at:p,voids:!1}),i(l);return}}i(l)},r.addMark=l=>{if(r.selection){if(pe.isExpanded(r.selection))B.withoutNormalizing(r,()=>{ce.setNodes(r,{},{match:Be.isText,split:!0});const c=pe.isRange(r.selection)?[...B.nodes(r,{at:r.selection,match:Be.isText})]:[];c.length>1&&c.every(d=>{var h;return(h=d[0].marks)==null?void 0:h.includes(l)})?r.removeMark(l):c.forEach(([d,h])=>{const p=[...(Array.isArray(d.marks)?d.marks:[]).filter(m=>m!==l),l];ce.setNodes(r,{marks:p},{at:h,match:Be.isText,split:!0,hanging:!0})})});else{const c={...B.marks(r)||{}}.marks||[],d={...B.marks(r)||{},marks:[...c,l]};return r.marks=d,s(),r}r.onChange(),s()}return r},r.removeMark=l=>{const{selection:c}=r;if(c){if(pe.isExpanded(c))B.withoutNormalizing(r,()=>{ce.setNodes(r,{},{match:Be.isText,split:!0}),r.selection&&[...B.nodes(r,{at:r.selection,match:Be.isText})].forEach(([d,h])=>{const p=r.children[h[0]];Ye.isElement(p)&&p.children.includes(d)&&ce.setNodes(r,{marks:(Array.isArray(d.marks)?d.marks:[]).filter(m=>m!==l),_type:"span"},{at:h})})}),B.normalize(r);else{const d={...B.marks(r)||{}}.marks||[],h={...B.marks(r)||{},marks:d.filter(p=>p!==l)};return r.marks={marks:h.marks,_type:"span"},s(),r}r.onChange(),s()}return r},r.pteIsMarkActive=l=>{if(!r.selection)return!1;const c=Array.from(B.nodes(r,{match:Be.isText,at:r.selection}));return pe.isExpanded(r.selection)?c.every(d=>{var p;const[h]=d;return(p=h.marks)==null?void 0:p.includes(l)}):({...B.marks(r)||{}}.marks||[]).includes(l)},r.pteToggleMark=l=>{r.pteIsMarkActive(l)?(rc(`Remove mark '${l}'`),B.removeMark(r,l)):(rc(`Add mark '${l}'`),B.addMark(r,l,!0))},r}}const j5e=wi("plugin:withPortableTextSelections"),c8t=j5e.enabled&&!1;function d8t(e,t){let n=null;return function(r){const i=()=>{if(n!==r.selection){let o=null;if(r.selection){const s=JA.get(r.selection);if(s)o=s;else{const l=r.children;o=Od(l,r.selection,t),JA.set(r.selection,o)}}c8t&&j5e(`Emitting selection ${JSON.stringify(o||null)} (${JSON.stringify(r.selection)})`),o?e.next({type:"selection",selection:o}):e.next({type:"selection",selection:null})}n=r.selection},{onChange:a}=r;return r.onChange=()=>{const o=r.operations.length>0;a(),o&&i()},r}}const Fre=wi("plugin:withSchemaTypes");function f8t({schemaTypes:e,keyGenerator:t}){return function(n){n.isTextBlock=i=>Er(i)&&i._type===e.block.name,n.isTextSpan=i=>vi(i)&&i._type==e.span.name,n.isListBlock=i=>cFe(i)&&i._type===e.block.name,n.isVoid=i=>e.block.name!==i._type&&(e.blockObjects.map(a=>a.name).includes(i._type)||e.inlineObjects.map(a=>a.name).includes(i._type)),n.isInline=i=>e.inlineObjects.map(a=>a.name).includes(i._type)&&"__inline"in i&&i.__inline===!0;const{normalizeNode:r}=n;return n.normalizeNode=i=>{const[a,o]=i;if(a._type===void 0&&o.length===2){Fre("Setting span type on text node without a type");const s=a,l=s._key||t();ce.setNodes(n,{...s,_type:e.span.name,_key:l},{at:o})}if(a._key===void 0&&(o.length===1||o.length===2)){Fre("Setting missing key on child node without a key");const s=t();ce.setNodes(n,{_key:s},{at:o})}r(i)},n}}const G3=wi("plugin:withUtils");function h8t({schemaTypes:e,keyGenerator:t,portableTextEditor:n}){return function(r){return r.pteExpandToWord=()=>{const{selection:i}=r;if(i&&!pe.isExpanded(i)){const[a]=B.node(r,i.focus,{depth:2});if(!a||!Be.isText(a)||a.text.length===0){G3("pteExpandToWord: Can't expand to word here");return}const{focus:o}=i,s=o.offset,l=a.text.slice(0,s),c=a.text.slice(s,-1),d=y=>y.match(/\s/g),h=l.split("").reverse().findIndex(y=>d(y)),p=h>-1?l.length-h:0,m=c.split("").findIndex(y=>d(y)),g=l.length+(m>-1?m:c.length+1);if(!(p===g||isNaN(p)||isNaN(g))){G3("pteExpandToWord: Expanding to focused word"),ce.setSelection(r,{anchor:{...i.anchor,offset:p},focus:{...i.focus,offset:g}});return}G3("pteExpandToWord: Can't expand to word here")}},r.pteCreateEmptyBlock=()=>Pc([{_type:e.block.name,_key:t(),style:e.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0],r}}const Y3=wi("plugin:withHotKeys"),p8t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function m8t(e,t,n){const r=["enter","tab","shift","delete","end"],i=n||p8t;return function(a){return a.pteWithHotKeys=o=>{var y,v,b,x,w,C;Object.keys(i).forEach(S=>{if(S==="marks")for(const E in i[S]){if(r.includes(E))throw new Error(`The hotkey ${E} is reserved!`);if(Qi(E,o.nativeEvent)){o.preventDefault();const k=i[S];if(k){const _=k[E];Y3(`HotKey ${E} to toggle ${_}`),a.pteToggleMark(_)}}}if(S==="custom")for(const E in i[S]){if(r.includes(E))throw new Error(`The hotkey ${E} is reserved!`);if(Qi(E,o.nativeEvent)){const k=i[S];if(k){const _=k[E];_(o,t)}}}});const s=Qi("enter",o.nativeEvent),l=Qi("tab",o.nativeEvent),c=Qi("shift+enter",o.nativeEvent),d=Qi("shift+tab",o.nativeEvent),h=Qi("backspace",o.nativeEvent),p=Qi("delete",o.nativeEvent),m=Qi("down",o.nativeEvent),g=Qi("up",o.nativeEvent);if(m&&a.selection){const S=Ie.descendant(a,a.selection.focus.path.slice(0,1));if(S&&B.isVoid(a,S)){const E=ae.next(a.selection.focus.path.slice(0,1));if(!Ie.has(a,E)){ce.insertNodes(a,a.pteCreateEmptyBlock(),{at:E}),a.onChange();return}}}if(g&&a.selection){const S=a.selection.focus.path[0]===0,E=Ie.descendant(a,a.selection.focus.path.slice(0,1));if(S&&E&&B.isVoid(a,E)){ce.insertNodes(a,a.pteCreateEmptyBlock(),{at:[0]}),ce.select(a,{path:[0,0],offset:0}),a.onChange();return}}if(h&&a.selection&&a.selection.focus.path[0]===0&&pe.isCollapsed(a.selection)){const S=Ie.descendant(a,a.selection.focus.path.slice(0,1)),E=ae.next(a.selection.focus.path.slice(0,1)),k=Ie.has(a,E),_=Er(S),T=_&&S.children.length===1&&((v=(y=S.children)==null?void 0:y[0])==null?void 0:v.text)==="";if(k&&_&&T){o.preventDefault(),o.stopPropagation(),ce.removeNodes(a,{match:j=>j===S}),a.onChange();return}}if(h&&a.selection&&a.selection.focus.path[0]>0&&pe.isCollapsed(a.selection)){const S=ae.previous(a.selection.focus.path.slice(0,1)),E=Ie.descendant(a,S),k=Ie.descendant(a,a.selection.focus.path.slice(0,1));if(E&&k&&B.isVoid(a,E)&&a.selection.focus.offset===0){Y3("Preventing deleting void block above"),o.preventDefault(),o.stopPropagation();const _=Er(k),T=_&&k.children.length===1&&((x=(b=k.children)==null?void 0:b[0])==null?void 0:x.text)==="";if(!_||T){ce.removeNodes(a,{match:j=>j===k}),ce.select(a,S),a.onChange();return}if(_&&!T){ce.select(a,S),a.onChange();return}return}}if(p&&a.selection&&a.selection.focus.offset===0&&pe.isCollapsed(a.selection)&&a.children[a.selection.focus.path[0]+1]){const S=Ie.descendant(a,ae.next(a.selection.focus.path.slice(0,1))),E=a.selection.focus.path.slice(0,1),k=Ie.descendant(a,E),_=Er(k)&&k.children.length===1&&((C=(w=k.children)==null?void 0:w[0])==null?void 0:C.text)==="";if(S&&k&&!B.isVoid(a,k)&&B.isVoid(a,S)&&_){Y3("Preventing deleting void block below"),o.preventDefault(),o.stopPropagation(),ce.removeNodes(a,{match:T=>T===k}),ce.select(a,E),a.onChange();return}}if((l||d)&&a.selection){const[S]=B.node(a,a.selection.focus,{depth:2}),[E]=vi(S)?B.node(a,a.selection.focus,{depth:1}):[],k=S&&Er(E)&&vi(S)&&(S.marks||[]).filter(j=>(E.markDefs||[]).map(A=>A._key).includes(j)).length>0,[_]=pe.edges(a.selection),T=B.isStart(a,_,_.path);S&&vi(S)&&(!k||T)&&a.pteIncrementBlockLevels(d)&&o.preventDefault()}if(s&&!c&&a.selection){const S=a.selection.focus.path.slice(0,1),E=Ie.descendant(a,S);if(a.isListBlock(E)){a.pteEndList()&&o.preventDefault();return}if(a.isTextBlock(E)&&E.style&&E.style!==e.styles[0].value){const[,k]=pe.edges(a.selection);if(B.isEnd(a,k,k.path)){B.insertNode(a,a.pteCreateEmptyBlock()),o.preventDefault(),a.onChange();return}}if(E&&B.isVoid(a,E)){B.insertNode(a,a.pteCreateEmptyBlock()),o.preventDefault(),a.onChange();return}o.preventDefault(),a.insertBreak(),a.onChange()}if(c){o.preventDefault(),a.insertText(`
`);return}if(Qi("mod+z",o.nativeEvent)){o.preventDefault(),a.undo();return}(Qi("mod+y",o.nativeEvent)||Qi("mod+shift+z",o.nativeEvent))&&(o.preventDefault(),a.redo())},a}}function nj(e,t,n){let r=null,i=!0;const a=[t.span.name,...t.inlineObjects.map(s=>s.name)],o=[t.block.name,...t.blockObjects.map(s=>s.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[vo([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:e}:(e.some((s,l)=>{if(!mr(s))return r={patches:[vo([l])],description:`Block must be an object, got ${String(s)}`,action:"Unset invalid item",item:s,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:l}}},!0;if(!s._key||typeof s._key!="string")return r={patches:[fs({...s,_key:n()},[l])],description:`Block at index ${l} is missing required _key.`,action:"Set the block with a random _key value",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:l}}},!0;if(!s._type||!o.includes(s._type)){if(s._type==="block"){const c=t.block.name;return r={patches:[fs({...s,_type:c},[{_key:s._key}])],description:`Block with _key '${s._key}' has invalid type name '${s._type}'. According to the schema, the block type name is '${c}'`,action:`Use type '${c}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:s._key,expectedTypeName:c}}},!0}return!s._type&&Er({...s,_type:t.block.name})?(r={patches:[fs({...s,_type:t.block.name},[{_key:s._key}])],description:`Block with _key '${s._key}' is missing a type name. According to the schema, the block type name is '${t.block.name}'`,action:`Use type '${t.block.name}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:s._key,expectedTypeName:t.block.name}}},!0):s._type?(r={patches:[vo([{_key:s._key}])],description:`Block with _key '${s._key}' has invalid _type '${s._type}'`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:s._key,typeName:s._type}}},!0):(r={patches:[vo([{_key:s._key}])],description:`Block with _key '${s._key}' is missing an _type property`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:s._key}}},!0)}if(s._type===t.block.name){const c=s;if(c.children&&!Array.isArray(c.children))return r={patches:[fs({children:[]},[{_key:c._key}])],description:`Text block with _key '${c._key}' has a invalid required property 'children'.`,action:"Reset the children property",item:c,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:c._key}}},!0;if(c.children===void 0||Array.isArray(c.children)&&c.children.length===0){const p={_type:t.span.name,_key:n(),text:"",marks:[]};return r={autoResolve:!0,patches:[CH([],[{_key:s._key},"children"]),kd([p],"after",[{_key:s._key},"children",0])],description:`Children for text block with _key '${s._key}' is empty.`,action:"Insert an empty text",item:s,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:s._key}}},!0}if(s.markDefs&&!Array.isArray(s.markDefs))return r={patches:[fs({...c,markDefs:VNt},[{_key:c._key}])],description:"Block has invalid required property 'markDefs'.",action:"Add empty markDefs array",item:c,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action",values:{key:c._key}}},!0;const d=Sa(pr(c.children.filter(p=>p._type===t.span.name).map(p=>p.marks||[])));if(Array.isArray(s.markDefs)&&s.markDefs.length>0){const p=Sa(s.markDefs.map(m=>m._key).filter(m=>!d.includes(m)));if(p.length>0)return r={autoResolve:!0,patches:p.map(m=>vo([{_key:s._key},"markDefs",{_key:m}])),description:`Block contains orphaned data (unused mark definitions): ${p.join(", ")}.`,action:"Remove unused mark definition item",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-mark-defs.description",action:"inputs.portable-text.invalid-value.orphaned-mark-defs.action",values:{key:s._key,unusedMarkDefs:p.map(m=>m.toString())}}},!0}const h=d.filter(p=>!t.decorators.map(m=>m.value).includes(p)).filter(p=>c.markDefs===void 0||!c.markDefs.find(m=>m._key===p));if(h.length>0){const p=c.children.filter(m=>m._type===t.span.name&&Array.isArray(m.marks)&&m.marks.some(g=>h.includes(g)));if(p){const m=h.join(", ");return r={autoResolve:!0,patches:p.map(g=>fs((g.marks||[]).filter(y=>!h.includes(y)),[{_key:s._key},"children",{_key:g._key},"marks"])),description:`Block with _key '${s._key}' contains marks (${m}) not supported by the current content model.`,action:"Remove invalid marks",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:s._key,orphanedMarks:h.map(g=>g.toString())}}},!0}}c.children.some((p,m)=>{if(!mr(p))return r={patches:[vo([{_key:s._key},"children",m])],description:`Child at index '${m}' in block with key '${s._key}' is not an object.`,action:"Remove the item",item:s,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:s._key,index:m}}},!0;if(!p._key||typeof p._key!="string"){const g={...p,_key:n()};return r={autoResolve:!0,patches:[fs(g,[{_key:s._key},"children",m])],description:`Child at index ${m} is missing required _key in block with _key ${s._key}.`,action:"Set a new random _key on the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:s._key,index:m}}},!0}return p._type?a.includes(p._type)?p._type===t.span.name&&typeof p.text!="string"?(r={patches:[fs({...p,text:""},[{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' has missing or invalid text property!`,action:"Write an empty text property to the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:s._key,childKey:p._key}}},!0):!1:(r={patches:[vo([{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' has invalid '_type' property (${p._type}).`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:s._key,childKey:p._key,childType:p._type}}},!0):(r={patches:[vo([{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' is missing '_type' property.`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:s._key,childKey:p._key}}},!0)})&&(i=!1)}return!1})&&(i=!1),{valid:i,resolution:r,value:e})}const xd=wi("plugin:withInsertData");function g8t(e,t,n){return function(r){const i=t.block.name,a=t.span.name,o=t.block.options.unstable_whitespaceOnPasteMode,s=l=>l.map(c=>{var d;return r.isTextBlock(c)?c.children.map(h=>{var p;return h._type===a?h.text:`[${((p=t.inlineObjects.find(m=>m.name===h._type))==null?void 0:p.title)||"Object"}]`}).join(""):`[${((d=t.blockObjects.find(h=>h.name===c._type))==null?void 0:d.title)||"Object"}]`}).join(`

`);return r.setFragmentData=(l,c)=>{const{selection:d}=r;if(!d)return;const[h,p]=pe.edges(d),m=B.void(r,{at:h.path}),g=B.void(r,{at:p.path});if(pe.isCollapsed(d)&&!m)return;const y=be.toDOMRange(r,d);let v=y.cloneContents();if(g){const[k]=g,_=y.cloneRange(),T=be.toDOMNode(r,k);_.setEndAfter(T),v=_.cloneContents()}Array.from(v.querySelectorAll("[data-slate-zero-width]")).forEach(k=>{const _=k.getAttribute("data-slate-zero-width")==="n";k.textContent=_?`
`:""}),Array.from(v.querySelectorAll("*")).forEach(k=>{k.removeAttribute("contentEditable"),k.removeAttribute("data-slate-inline"),k.removeAttribute("data-slate-leaf"),k.removeAttribute("data-slate-node"),k.removeAttribute("data-slate-spacer"),k.removeAttribute("data-slate-string"),k.removeAttribute("data-slate-zero-width"),k.removeAttribute("draggable");for(const _ in k.attributes)k.hasAttribute(_)&&k.removeAttribute(_)});const b=v.ownerDocument.createElement("div");b.appendChild(v),b.setAttribute("hidden","true"),v.ownerDocument.body.appendChild(b);const x=b.innerHTML;v.ownerDocument.body.removeChild(b);const w=r.getFragment(),C=Mr(w,i),S=JSON.stringify(C),E=s(C);l.clearData(),l.setData("text/plain",E),l.setData("text/html",x),l.setData("application/json",S),l.setData("application/x-portable-text",S),xd("text",E),l.setData("application/x-portable-text-event-origin",c||"external"),xd("Set fragment data",S,x)},r.insertPortableTextData=l=>{var h,p;if(!r.selection)return!1;const c=l.getData("application/x-portable-text"),d=l.getData("application/x-portable-text-event-origin");if(xd(`Inserting portable text from ${d} event`,c),c){const m=JSON.parse(c);if(Array.isArray(m)&&m.length>0){const g=b8t(r,Pc(m,{schemaTypes:t}),n,a,t),y=nj(m,t,n);if(!y.valid&&!((h=y.resolution)!=null&&h.autoResolve)){const v=`${(p=y.resolution)==null?void 0:p.description}`;return e.next({type:"error",level:"warning",name:"pasteError",description:v,data:y}),xd("Invalid insert result",y),!1}return Nre(r,g,t),!0}}return!1},r.insertTextOrHTMLData=l=>{var h;if(!r.selection)return xd("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const c=l.getData("text/html"),d=l.getData("text/plain");if(c||d){xd("Inserting data",l);let p,m,g;if(c){if(p=bre(c,t.portableText,{unstable_whitespaceOnPasteMode:o}).map(v=>lS(v,{blockTypeName:i})),m=Pc(p,{schemaTypes:t}),g="HTML",p.length===0)return!1}else{const v=`<html><body>${v8t(d).split(/\n{2,}/).map(b=>b?`<p>${b.replace(/(?:\r\n|\r|\n)/g,"<br/>")}</p>`:"<p></p>").join("")}</body></html>`;p=bre(v,t.portableText).map(b=>lS(b,{blockTypeName:i})),m=Pc(p,{schemaTypes:t}),g="text"}const y=nj(p,t,n);if(!y.valid){const v=`Could not validate the resulting portable text to insert.
${(h=y.resolution)==null?void 0:h.description}
Try to insert as plain text (shift-paste) instead.`;return e.next({type:"error",level:"warning",name:"pasteError",description:v,data:y}),xd("Invalid insert result",y),!1}return xd(`Inserting ${g} fragment at ${JSON.stringify(r.selection)}`),Nre(r,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},r.insertData=l=>{r.insertPortableTextData(l)||r.insertTextOrHTMLData(l)},r.insertFragmentData=l=>{const c=l.getData("application/x-portable-text");if(c){const d=JSON.parse(c);return r.insertFragment(d),!0}return!1},r}}const y8t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function v8t(e){return String(e).replace(/[&<>"'`=/]/g,t=>y8t[t])}function b8t(e,t,n,r,i){return t.map(a=>{const o={...a};if(e.isTextBlock(o)){const l=i.annotations.map(c=>c.name);if(l.length===0){const{markDefs:c,...d}=o;return{...d,_key:n()}}if((o.markDefs||[]).some(c=>!l.includes(c._type))){const c=(o.markDefs||[]).filter(d=>l.includes(d._type));return{...o,markDefs:c,_key:n()}}o.markDefs=(o.markDefs||[]).map(c=>{const d=c._key,h=n();return o.children=o.children.map(p=>p._type===r&&e.isTextSpan(p)?{...p,marks:p.marks&&p.marks.includes(d)?[...p.marks].filter(m=>m!==d).concat(h):p.marks}:p),{...c,_key:h}})}const s={...o,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(l=>({...l,_key:n()}))),s})}function Nre(e,t,n){e.withoutNormalizing(()=>{if(!e.selection)return;const[r,i]=B.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:a}=r;xd("Mixing markDefs of focusBlock and fragments[0] block",a,t[0].markDefs),kt(a,t[0].markDefs)||ce.setNodes(e,{markDefs:Sa([...t[0].markDefs||[],...a||[]])},{at:i,mode:"lowest",voids:!1})}Lg(e.children,n)?(ce.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ce.removeNodes(e,{at:[0]})):e.insertFragment(t)}),e.onChange()}const Lre=new WeakMap,Bre=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:i,patches$:a,readOnly:o,maxBlocks:s}=t,{schemaTypes:l,change$:c}=i;n.subscriptions=[],n.destroy?n.destroy():Lre.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=iLt(l),h=hLt(l,r),p=f8t({schemaTypes:l,keyGenerator:r}),m=aLt(i,l,r),g=n8t({change$:c,keyGenerator:r,patches$:a,patchFunctions:d,readOnly:o,schemaTypes:l}),y=fLt(s||-1),v=o8t(l),b=ZLt({readOnly:o,patches$:a,blockSchemaType:l.block}),x=u8t(l,c,r),w=a8t(l),C=i8t(),S=oLt(l),E=h8t({keyGenerator:r,schemaTypes:l,portableTextEditor:i}),k=d8t(c,l);return n.destroy=()=>{const _=Lre.get(n);if(!_)throw new Error("Could not find pristine versions of editor functions");n.apply=_.apply,n.history={undos:[],redos:[]},n.normalizeNode=_.normalizeNode,n.onChange=_.onChange},o?{editor:p(h(x(w(E(C(v(k(m(S(n)))))))))),subscribe:()=>RSe}:{editor:p(h(x(w(v(C(E(y(b(g(k(m(S(n))))))))))))),subscribe:()=>{const _=[];return e.subscriptions.forEach(T=>{_.push(T())}),()=>{_.forEach(T=>{T()})}}}},q3=wi("component:PortableTextEditor:SlateContainer");function x8t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:i,keyGenerator:a}=e,[[o,s]]=f.useState(()=>{q3("Creating new Slate editor instance");const{editor:c,subscribe:d}=Bre(a3t(TOt()),{keyGenerator:a,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r});return Ps.set(c,{}),LL.set(c,{}),[c,d]});f.useEffect(()=>{const c=s();return()=>{c()}},[s]),f.useEffect(()=>{q3("Re-initializing plugin chain"),Bre(o,{keyGenerator:a,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r})},[a,n,i,r,t,o]);const l=f.useMemo(()=>[o.pteCreateEmptyBlock()],[o]);return f.useEffect(()=>()=>{q3("Destroying Slate editor"),o.destroy()},[o]),u.jsx(r3t,{editor:o,initialValue:l,children:e.children})}const rj=()=>OE(12),I5e=f.createContext(rj),D5e=()=>{const e=f.useContext(I5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},M5e=f.createContext(!1),R5e=()=>{const e=f.useContext(M5e);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},Ji=wi("hook:useSyncValue"),Vre=new WeakMap;function w8t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:i,schemaTypes:a}=t,o=f.useRef(),s=AM(),l=f.useRef(),c=f.useCallback(()=>{const h=Vre.get(t);if(o.current===h){Ji("Value is the same object as previous, not need to sync");return}l.current&&h&&(Ji("Updating the value debounced"),l.current(h))},[t]),d=f.useMemo(()=>t0(c,1e3,{trailing:!0,leading:!1}),[c]);return f.useMemo(()=>{const h=p=>{Vre.set(t,p);const m=sLt(s),g=vb(s);if(!n){if(m){Ji("Has local changes, not syncing value right now"),d();return}if(g){Ji("Has remote changes, not syncing value right now"),d();return}}let y=!1,v=!0;const b=!!s.selection;if((!p||p.length===0)&&(Ji("Value is empty"),B.withoutNormalizing(s,()=>{uS(s,()=>{BL(s,()=>{b&&ce.deselect(s);const x=s.children.length;s.children.forEach((w,C)=>{ce.removeNodes(s,{at:[x-1-C]})}),ce.insertNodes(s,s.pteCreateEmptyBlock(),{at:[0]}),b&&ce.select(s,[0,0])})})}),y=!0),p&&p.length>0){const x=Pc(p,{schemaTypes:a});B.withoutNormalizing(s,()=>{v5e(s,()=>{uS(s,()=>{BL(s,()=>{const w=s.children.length;if(x.length<w){for(let C=w-1;C>x.length-1;C--)ce.removeNodes(s,{at:[C]});y=!0}x.forEach((C,S)=>{var k,_,T,j,A;const E=s.children[S];if(E&&!kt(C,E)&&v){const I=[p[S]],M=nj(I,a,r);!M.valid&&((k=M.resolution)!=null&&k.autoResolve)&&((_=M.resolution)==null?void 0:_.patches.length)>0&&!n&&o.current&&o.current!==p&&(console.warn(`${M.resolution.action} for block with _key '${I[0]._key}'. ${(T=M.resolution)==null?void 0:T.description}`),M.resolution.patches.forEach(D=>{i.next({type:"patch",patch:D})})),M.valid||(j=M.resolution)!=null&&j.autoResolve?(E._key===C._key?(Ji.enabled&&Ji("Updating block",E,C),S8t(s,C,E,S)):(Ji.enabled&&Ji("Replacing block",E,C),C8t(s,C,S)),y=!0):(i.next({type:"invalidValue",resolution:M.resolution,value:p}),v=!1)}if(!E&&v){const I=[p[S]],M=nj(I,a,r);Ji.enabled&&Ji("Validating and inserting new block in the end of the value",C),M.valid||(A=M.resolution)!=null&&A.autoResolve?ce.insertNodes(s,C,{at:[S]}):(Ji("Invalid",M),i.next({type:"invalidValue",resolution:M.resolution,value:p}),v=!1)}})})})})})}if(!v){Ji("Invalid value, returning");return}if(y){Ji("Server value changed, syncing editor");try{s.onChange()}catch(x){console.error(x),i.next({type:"invalidValue",resolution:null,value:p});return}b&&!s.selection&&(ce.select(s,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),s.onChange()),i.next({type:"value",value:p})}else Ji("Server value and editor value is equal, no need to sync.");o.current=p};return l.current=h,h},[i,r,t,n,a,s,d])}function C8t(e,t,n){const r=e.selection,i=r&&r.focus.path[0]===n;i&&ce.deselect(e),ce.removeNodes(e,{at:[n]}),ce.insertNodes(e,t,{at:[n]}),e.onChange(),i&&ce.select(e,r)}function S8t(e,t,n,r){if(ce.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const i=n.children.length;t.children.length<i&&Array.from(Array(i-t.children.length)).forEach((a,o)=>{const s=i-1-o;s>0&&(Ji("Removing child"),ce.removeNodes(e,{at:[r,s]}))}),t.children.forEach((a,o)=>{const s=n.children[o],l=!kt(a,s),c=!kt(a.text,s==null?void 0:s.text),d=[r,o];if(l)if(a._key===(s==null?void 0:s._key)){Ji("Updating changed child",a,s),ce.setNodes(e,a,{at:d});const h=Be.isText(a)&&a._type==="span"&&Be.isText(s)&&s._type==="span";h&&c?(ce.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:s.text.length}}}),ce.insertText(e,a.text,{at:d}),e.onChange()):h||(Ji("Updating changed inline object child",a),ce.setNodes(e,{_key:m5e},{at:[...d,0],voids:!0}))}else s?(Ji("Replacing child",a),ce.removeNodes(e,{at:[r,o]}),ce.insertNodes(e,a,{at:[r,o]}),e.onChange()):s||(Ji("Inserting new child",a),ce.insertNodes(e,a,{at:[r,o]}),e.onChange())})}}const oh=wi("component:PortableTextEditor:Synchronizer"),E8t=oh.enabled&&!1,k8t=1e3;function _8t(e){const t=qi(),n=D5e(),r=R5e(),{change$:i,getValue:a,onChange:o,value:s}=e,l=f.useRef([]),c=w8t({keyGenerator:n,onChange:o,portableTextEditor:t,readOnly:r}),d=AM();f.useEffect(()=>{O_.set(d,!1)},[d]);const h=f.useCallback(()=>{if(l.current.length>0){oh("Flushing pending patches"),E8t&&oh(`Patches:
${JSON.stringify(l.current,null,2)}`);const v=a();i.next({type:"mutation",patches:l.current,snapshot:v}),l.current=[]}O_.set(d,!1)},[d,a,i]),p=f.useMemo(()=>ab(()=>{if(B.isNormalizing(d)){h();return}p()},k8t,{leading:!1,trailing:!0}),[h,d]);f.useEffect(()=>()=>{h()},[h]),f.useEffect(()=>{oh("Subscribing to editor changes$");const v=i.subscribe(b=>{switch(b.type){case"patch":O_.set(d,!0),l.current.push(b.patch),p(),o(b);break;default:o(b)}});return()=>{oh("Unsubscribing to changes$"),v.unsubscribe()}},[i,o,p,d]);const m=f.useCallback(()=>{oh("Editor is online, syncing from props.value"),i.next({type:"connection",value:"online"}),c(s)},[i,c,s]),g=f.useCallback(()=>{oh("Editor is offline"),i.next({type:"connection",value:"offline"})},[i]);f.useEffect(()=>(t.props.patches$&&(window.addEventListener("online",m),window.addEventListener("offline",g)),()=>{t.props.patches$&&(window.removeEventListener("online",m),window.removeEventListener("offline",g))}));const y=f.useRef(!0);return f.useEffect(()=>{oh("Value from props changed, syncing new value"),c(s),y.current&&(i.next({type:"loading",isLoading:!1}),i.next({type:"ready"}),y.current=!1)},[i,c,s]),null}const O5e=f.createContext(null),w0=()=>{const e=f.useContext(O5e);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},$_=wi("component:PortableTextEditor:SelectionProvider"),T8t=$_.enabled&&!1;function A8t(e){const{change$:t}=e,[n,r]=f.useState(null);return f.useEffect(()=>{$_("Subscribing to selection changes$");const i=t.subscribe(a=>{a.type==="selection"&&f.startTransition(()=>{T8t&&$_("Setting selection"),r(a.selection)})});return()=>{$_("Unsubscribing to selection changes$"),i.unsubscribe()}},[t]),u.jsx(O5e.Provider,{value:n,children:e.children})}const gd=wi("component:PortableTextEditor");class Me extends f.Component{constructor(n){super(n);Y(this,"change$",new Fr);Y(this,"schemaTypes");Y(this,"editable");Y(this,"setEditable",n=>{this.editable={...this.editable,...n}});Y(this,"getValue",()=>{if(this.editable)return this.editable.getValue()});if(!n.schemaType)throw new Error('PortableTextEditor: missing "schemaType" property');n.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=Ere(n.schemaType.hasOwnProperty("jsonType")?n.schemaType:kre(n.schemaType))}componentDidUpdate(n){this.props.schemaType!==n.schemaType&&(this.schemaTypes=Ere(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:kre(this.props.schemaType))),this.props.editorRef!==n.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this)}render(){const{onChange:n,value:r,children:i,patches$:a,incomingPatches$:o}=this.props,{change$:s}=this,l=o||a,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,d=!!this.props.readOnly,h=this.props.keyGenerator||rj;return u.jsx(x8t,{keyGenerator:h,maxBlocks:c,patches$:l,portableTextEditor:this,readOnly:d,children:u.jsx(I5e.Provider,{value:h,children:u.jsx(g5e.Provider,{value:this,children:u.jsx(M5e.Provider,{value:d,children:u.jsxs(A8t,{change$:s,children:[u.jsx(_8t,{change$:s,getValue:this.getValue,onChange:n,value:r}),i]})})})})})}}Y(Me,"activeAnnotations",n=>n&&n.editable?n.editable.activeAnnotations():[]),Y(Me,"isAnnotationActive",(n,r)=>n&&n.editable?n.editable.isAnnotationActive(r):!1),Y(Me,"addAnnotation",(n,r,i)=>{var a;return(a=n.editable)==null?void 0:a.addAnnotation(r,i)}),Y(Me,"blur",n=>{var r;gd("Host blurred"),(r=n.editable)==null||r.blur()}),Y(Me,"delete",(n,r,i)=>{var a;return(a=n.editable)==null?void 0:a.delete(r,i)}),Y(Me,"findDOMNode",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.findDOMNode(r)}),Y(Me,"findByPath",(n,r)=>{var i;return((i=n.editable)==null?void 0:i.findByPath(r))||[]}),Y(Me,"focus",n=>{var r;gd("Host requesting focus"),(r=n.editable)==null||r.focus()}),Y(Me,"focusBlock",n=>{var r;return(r=n.editable)==null?void 0:r.focusBlock()}),Y(Me,"focusChild",n=>{var r;return(r=n.editable)==null?void 0:r.focusChild()}),Y(Me,"getSelection",n=>n.editable?n.editable.getSelection():null),Y(Me,"getValue",n=>{var r;return(r=n.editable)==null?void 0:r.getValue()}),Y(Me,"hasBlockStyle",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.hasBlockStyle(r)}),Y(Me,"hasListStyle",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.hasListStyle(r)}),Y(Me,"isCollapsedSelection",n=>{var r;return(r=n.editable)==null?void 0:r.isCollapsedSelection()}),Y(Me,"isExpandedSelection",n=>{var r;return(r=n.editable)==null?void 0:r.isExpandedSelection()}),Y(Me,"isMarkActive",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.isMarkActive(r)}),Y(Me,"insertChild",(n,r,i)=>{var a;return gd("Host inserting child"),(a=n.editable)==null?void 0:a.insertChild(r,i)}),Y(Me,"insertBlock",(n,r,i)=>{var a;return(a=n.editable)==null?void 0:a.insertBlock(r,i)}),Y(Me,"insertBreak",n=>{var r;return(r=n.editable)==null?void 0:r.insertBreak()}),Y(Me,"isVoid",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.isVoid(r)}),Y(Me,"isObjectPath",(n,r)=>{if(!r||!Array.isArray(r))return!1;const i=r.length>3&&r[1]==="children";return r.length>1&&r[1]!=="children"||i}),Y(Me,"marks",n=>{var r;return(r=n.editable)==null?void 0:r.marks()}),Y(Me,"select",(n,r)=>{var i;gd("Host setting selection",r),(i=n.editable)==null||i.select(r)}),Y(Me,"removeAnnotation",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.removeAnnotation(r)}),Y(Me,"toggleBlockStyle",(n,r)=>{var i;return gd("Host is toggling block style"),(i=n.editable)==null?void 0:i.toggleBlockStyle(r)}),Y(Me,"toggleList",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.toggleList(r)}),Y(Me,"toggleMark",(n,r)=>{var i;gd("Host toggling mark",r),(i=n.editable)==null||i.toggleMark(r)}),Y(Me,"getFragment",n=>{var r;return gd("Host getting fragment"),(r=n.editable)==null?void 0:r.getFragment()}),Y(Me,"undo",n=>{var r;gd("Host undoing"),(r=n.editable)==null||r.undo()}),Y(Me,"redo",n=>{var r;gd("Host redoing"),(r=n.editable)==null||r.redo()}),Y(Me,"isSelectionsOverlapping",(n,r,i)=>{var a;return(a=n.editable)==null?void 0:a.isSelectionsOverlapping(r,i)});const j8t=wi("components:Leaf"),zre=[],I8t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:i,renderChild:a,renderDecorator:o,renderAnnotation:s}=e,l=f.useRef(null),c=qi(),d=L2e(),[h,p]=f.useState(!1),[m,g]=f.useState(!1),y=n.props.parent,v=f.useMemo(()=>y?[{_key:y==null?void 0:y._key},"children",{_key:r._key}]:[],[y,r._key]),b=f.useMemo(()=>i.decorators.map(_=>_.value),[i.decorators]),x=f.useMemo(()=>Sa((r.marks||zre).filter(_=>b.includes(_))),[b,r.marks]),w=Array.isArray(r.marks)?r.marks:zre,C=f.useMemo(()=>w.map(_=>{var T;return!b.includes(_)&&((T=y==null?void 0:y.markDefs)==null?void 0:T.find(j=>j._key===_))}).filter(Boolean),[w,y,b]),S=C.length>0&&d;f.useEffect(()=>{if(!S){p(!1);return}const _=Me.getSelection(c);_&&kt(_.focus.path,v)&&Me.isCollapsedSelection(c)&&f.startTransition(()=>{p(!0)})},[S,v,c]);const E=f.useCallback(()=>{if(!S)return;j8t("Setting selection and focus from range");const _=window.getSelection();if(!_){g(!1);return}if(_&&_.rangeCount>0){const T=_.getRangeAt(0);l.current&&T.intersectsNode(l.current)?g(!0):g(!1)}else g(!1)},[S]);f.useEffect(()=>{if(!S)return;const _=c.change$.subscribe(T=>{if(T.type==="blur"){p(!1),g(!1);return}if(T.type==="focus"){const j=Me.getSelection(c);j&&kt(j.focus.path,v)&&Me.isCollapsedSelection(c)&&p(!0),E();return}T.type==="selection"&&(T.selection&&kt(T.selection.focus.path,v)&&Me.isCollapsedSelection(c)?p(!0):p(!1),E())});return()=>{_.unsubscribe()}},[v,c,E,S]),f.useEffect(()=>E(),[E]);const k=f.useMemo(()=>{let _=n;if(Be.isText(r)&&r._type===i.span.name&&(x.forEach(T=>{const j=i.decorators.find(A=>A.value===T);if(j&&o){const A=Object.defineProperty({children:_,editorElementRef:l,focused:h,path:v,selected:m,schemaType:j,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),j}});_=o(A)}}),y&&C.length>0&&C.forEach(T=>{const j=i.annotations.find(A=>A.name===T._type);if(j)if(s){const A=Object.defineProperty({block:y,children:_,editorElementRef:l,focused:h,path:v,selected:m,schemaType:j,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),j}});_=u.jsx("span",{ref:l,children:s(A)})}else _=u.jsx(eLt,{annotation:T,children:u.jsx("span",{ref:l,children:_})})}),y&&a)){const T=y.children.find(j=>j._key===r._key);if(T){const j=Object.defineProperty({annotations:C,children:u.jsx(u.Fragment,{children:_}),editorElementRef:l,focused:h,path:v,schemaType:i.span,selected:m,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),i.span}});_=a(j)}}return _},[C,y,n,h,r,x,v,s,a,o,i.annotations,i.decorators,i.span,m]);return f.useMemo(()=>u.jsx("span",{...t,ref:l,children:k},r._key),[r,t,k])},ic=wi("component:Editable"),D8t={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},$5e=f.forwardRef(function(e,t){const{hotkeys:n,onBlur:r,onFocus:i,onBeforeInput:a,onPaste:o,onCopy:s,onClick:l,rangeDecorations:c,renderAnnotation:d,renderBlock:h,renderChild:p,renderDecorator:m,renderListItem:g,renderPlaceholder:y,renderStyle:v,selection:b,scrollSelectionIntoView:x,spellCheck:w,...C}=e,S=qi(),E=R5e(),k=D5e(),_=f.useRef(null),[T,j]=f.useState(null),[A,I]=f.useState(!1),[M,D]=f.useState([]);f.useImperativeHandle(t,()=>_.current);const O=f.useRef(c),{change$:R,schemaTypes:F}=S,P=AM(),V=F.block.name,U=f.useMemo(()=>g8t(R,F,k),[R,k,F]),H=f.useMemo(()=>m8t(F,S,n),[n,S,F]);f.useMemo(()=>E?(ic("Editable is in read only mode"),U(P)):(ic("Editable is in edit mode"),U(H(P))),[E,P,H,U]);const W=f.useCallback(ge=>u.jsx(QNt,{...ge,readOnly:E,renderBlock:h,renderChild:p,renderListItem:g,renderStyle:v,schemaTypes:F,spellCheck:w}),[F,w,E,h,p,g,v]),Z=f.useCallback(ge=>{if(ge.leaf._type==="span"){let je=u.jsx(I8t,{...ge,schemaTypes:F,renderAnnotation:d,renderChild:p,renderDecorator:m,readOnly:E});if(y&&ge.leaf.placeholder&&ge.text.text==="")return u.jsxs(u.Fragment,{children:[u.jsx("span",{style:D8t,contentEditable:!1,children:y()}),je]});const Ve=ge.leaf.rangeDecoration;return Ve&&(je=Ve.component({children:je})),je}return ge.children},[E,d,p,m,y,F]),J=f.useCallback(()=>{if(b){ic(`Selection from props ${JSON.stringify(b)}`);const ge=BNt(b,Mr(P.children,V));if(ge!==null){ic(`Normalized selection from props ${JSON.stringify(ge)}`);const je=wm(ge,P);je&&(ce.select(P,je),P.operations.some(Ve=>Ve.type==="set_selection")||R.next({type:"selection",selection:ge}),P.onChange())}}},[b,P,V,R]),re=f.useCallback(ge=>{if(c&&c.length>0){const je=[];if(c.forEach(Ve=>{const xe=wm(Ve.selection,P);if(!pe.isRange(xe)){Ve.onMoved&&Ve.onMoved({newSelection:null,rangeDecoration:Ve,origin:"local"});return}let me;if(ge&&(me=LNt(xe,ge),me&&me!==xe||me===null&&xe)){const Se=Me.getValue(S),ve=Od(Se,me,F);Ve.onMoved&&Ve.onMoved({newSelection:ve,rangeDecoration:Ve,origin:"local"})}me!==null&&je.push({...me||xe,rangeDecoration:Ve})}),je.length>0){D(je);return}}D([])},[S,c,F,P]);f.useEffect(()=>{const ge=R.subscribe(je=>{switch(je.type){case"ready":J();break;case"invalidValue":I(!0);break;case"value":I(!1);break}});return()=>{ge.unsubscribe()}},[R,J]),f.useEffect(()=>{b&&!A&&J()},[A,b,J]);const G=f.useMemo(()=>P.apply,[P]),[te,X]=f.useState(!1);f.useEffect(()=>{te||(X(!0),re())},[re,te]),f.useEffect(()=>{kt(c,O.current)||re(),O.current=c},[c,re]),f.useEffect(()=>(P.apply=ge=>{G(ge),ge.type!=="set_selection"&&re(ge)},()=>{P.apply=G}),[G,P,re]);const K=f.useCallback(ge=>{s&&s(ge)!==void 0&&ge.preventDefault()},[s]),Q=f.useCallback(ge=>{var me;if(ge.preventDefault(),!P.selection)return;if(!o){ic("Pasting normally"),P.insertData(ge.clipboardData);return}const je=Me.getValue(S),Ve=((me=Od(je,P.selection,F))==null?void 0:me.focus.path)||[],xe=o({event:ge,value:je,path:Ve,schemaTypes:F});xe===void 0?(ic("No result from custom paste handler, pasting normally"),P.insertData(ge.clipboardData)):(R.next({type:"loading",isLoading:!0}),Promise.resolve(xe).then(Se=>{ic("Custom paste function from client resolved",Se),!Se||!Se.insert?(ic("No result from custom paste handler, pasting normally"),P.insertData(ge.clipboardData)):Se.insert?P.insertFragment(Pc(Se.insert,{schemaTypes:F})):console.warn("Your onPaste function returned something unexpected:",Se)}).catch(Se=>(console.error(Se),Se)).finally(()=>{R.next({type:"loading",isLoading:!1})}))},[R,o,S,F,P]),ee=f.useCallback(ge=>{if(i&&i(ge),!ge.isDefaultPrevented()){const je=Me.getSelection(S);je===null&&(ce.select(P,B.start(P,[])),P.onChange()),R.next({type:"focus",event:ge});const Ve=Me.getSelection(S);je===Ve&&R.next({type:"selection",selection:je})}},[i,S,R,P]),se=f.useCallback(ge=>{if(l&&l(ge),P.selection&&ge.target===ge.currentTarget){const[je,Ve]=Ie.last(P,[]),xe=P.selection.focus.path.slice(0,1),me=Ve.slice(0,1);if(ae.equals(xe,me)){const Se=Ie.descendant(P,Ve.slice(0,1));je&&B.isVoid(P,Se)&&(ce.insertNodes(P,P.pteCreateEmptyBlock()),P.onChange())}}},[l,P]),le=f.useCallback(ge=>{r&&r(ge),ge.isPropagationStopped()||R.next({type:"blur",event:ge})},[R,r]),oe=f.useCallback(ge=>{a&&a(ge)},[a]),ue=f.useCallback(()=>{if(!P.selection)return;const ge=be.findDocumentOrShadowRoot(P),{activeElement:je}=ge;if(_.current!==je)return;const Ve=be.getWindow(P).getSelection();if(!Ve||Ve.rangeCount===0)return;const xe=Ve.getRangeAt(0);try{const me=be.toDOMRange(P,P.selection);(me.startOffset!==xe.startOffset||me.endOffset!==xe.endOffset)&&(ic("DOM range out of sync, validating selection"),Ve==null||Ve.removeAllRanges(),Ve.addRange(me))}catch{ic("Could not resolve selection, selecting top document"),ce.deselect(P),P.children.length>0&&ce.select(P,[0,0]),P.onChange()}},[_,P]);f.useEffect(()=>{if(T){const ge=new MutationObserver(ue);return ge.observe(T,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{ge.disconnect()}}},[ue,T]);const ye=f.useCallback(ge=>{e.onKeyDown&&e.onKeyDown(ge),ge.isDefaultPrevented()||P.pteWithHotKeys(ge)},[e,P]),Ee=f.useMemo(()=>{if(x!==void 0)return x===null?RSe:(ge,je)=>{x(S,je)}},[S,x]),ke=f.useCallback(([,ge])=>{if(Lg(P.children,F))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];if(ge.length===0)return[];const je=M.filter(Ve=>pe.isCollapsed(Ve)?ge.length!==2?!1:ae.equals(Ve.focus.path,ge)&&ae.equals(Ve.anchor.path,ge):pe.intersection(Ve,{anchor:{path:ge,offset:0},focus:{path:ge,offset:0}})||pe.includes(Ve,ge));return je.length>0?je:[]},[P,F,M]);return f.useEffect(()=>{_.current=be.toDOMNode(P,P),j(_.current)},[P,_]),S?A?null:u.jsx(q$t,{...C,autoFocus:!1,className:C.className||"pt-editable",decorate:ke,onBlur:le,onCopy:K,onClick:se,onDOMBeforeInput:oe,onFocus:ee,onKeyDown:ye,onPaste:Q,readOnly:E,renderPlaceholder:void 0,renderElement:W,renderLeaf:Z,scrollSelectionIntoView:Ee}):null});var jr="0123456789abcdefghjkmnpqrstvwxyz",ht=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function K3(e){const t=new Array(26).fill("");if(e.length!==16)throw new Error("Invalid length");return t[0]=jr[(e[0]&224)>>5],t[1]=jr[e[0]&31],t[2]=jr[(e[1]&248)>>3],t[3]=jr[(e[1]&7)<<2|(e[2]&192)>>6],t[4]=jr[(e[2]&62)>>1],t[5]=jr[(e[2]&1)<<4|(e[3]&240)>>4],t[6]=jr[(e[3]&15)<<1|(e[4]&128)>>7],t[7]=jr[(e[4]&124)>>2],t[8]=jr[(e[4]&3)<<3|(e[5]&224)>>5],t[9]=jr[e[5]&31],t[10]=jr[(e[6]&248)>>3],t[11]=jr[(e[6]&7)<<2|(e[7]&192)>>6],t[12]=jr[(e[7]&62)>>1],t[13]=jr[(e[7]&1)<<4|(e[8]&240)>>4],t[14]=jr[(e[8]&15)<<1|(e[9]&128)>>7],t[15]=jr[(e[9]&124)>>2],t[16]=jr[(e[9]&3)<<3|(e[10]&224)>>5],t[17]=jr[e[10]&31],t[18]=jr[(e[11]&248)>>3],t[19]=jr[(e[11]&7)<<2|(e[12]&192)>>6],t[20]=jr[(e[12]&62)>>1],t[21]=jr[(e[12]&1)<<4|(e[13]&240)>>4],t[22]=jr[(e[13]&15)<<1|(e[14]&128)>>7],t[23]=jr[(e[14]&124)>>2],t[24]=jr[(e[14]&3)<<3|(e[15]&224)>>5],t[25]=jr[e[15]&31],t.join("")}function Ure(e){if(e.length!==26)throw new Error("Invalid length");const n=new TextEncoder().encode(e);if(ht[n[0]]===255||ht[n[1]]===255||ht[n[2]]===255||ht[n[3]]===255||ht[n[4]]===255||ht[n[5]]===255||ht[n[6]]===255||ht[n[7]]===255||ht[n[8]]===255||ht[n[9]]===255||ht[n[10]]===255||ht[n[11]]===255||ht[n[12]]===255||ht[n[13]]===255||ht[n[14]]===255||ht[n[15]]===255||ht[n[16]]===255||ht[n[17]]===255||ht[n[18]]===255||ht[n[19]]===255||ht[n[20]]===255||ht[n[21]]===255||ht[n[22]]===255||ht[n[23]]===255||ht[n[24]]===255||ht[n[25]]===255)throw new Error("Invalid base32 character");const r=new Uint8Array(16);return r[0]=ht[n[0]]<<5|ht[n[1]],r[1]=ht[n[2]]<<3|ht[n[3]]>>2,r[2]=(ht[n[3]]&3)<<6|ht[n[4]]<<1|ht[n[5]]>>4,r[3]=(ht[n[5]]&15)<<4|ht[n[6]]>>1,r[4]=(ht[n[6]]&1)<<7|ht[n[7]]<<2|ht[n[8]]>>3,r[5]=(ht[n[8]]&7)<<5|ht[n[9]],r[6]=ht[n[10]]<<3|ht[n[11]]>>2,r[7]=(ht[n[11]]&3)<<6|ht[n[12]]<<1|ht[n[13]]>>4,r[8]=(ht[n[13]]&15)<<4|ht[n[14]]>>1,r[9]=(ht[n[14]]&1)<<7|ht[n[15]]<<2|ht[n[16]]>>3,r[10]=(ht[n[16]]&7)<<5|ht[n[17]],r[11]=ht[n[18]]<<3|ht[n[19]]>>2,r[12]=(ht[n[19]]&3)<<6|ht[n[20]]<<1|ht[n[21]]>>4,r[13]=(ht[n[21]]&15)<<4|ht[n[22]]>>1,r[14]=(ht[n[22]]&1)<<7|ht[n[23]]<<2|ht[n[24]]>>3,r[15]=(ht[n[24]]&7)<<5|ht[n[25]],r}function M8t(e){let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Cm=Math.pow,Hre="0123456789abcdef",ij=class{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");const i=new Uint8Array(16);return i[0]=e/Cm(2,40),i[1]=e/Cm(2,32),i[2]=e/Cm(2,24),i[3]=e/Cm(2,16),i[4]=e/Cm(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new ij(i)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=Hre.charAt(this.bytes[t]>>>4),e+=Hre.charAt(this.bytes[t]&15),(t===3||t===5||t===7||t===9)&&(e+="-");return e}clone(){return new ij(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){const n=this.bytes[t]-e.bytes[t];if(n!==0)return Math.sign(n)}return 0}},R8t=class{constructor(){this.timestamp=0,this.counter=0,this.random=new O8t}generate(){const e=this.generateOrAbort();return e!==void 0?e:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const n=Date.now();if(n>this.timestamp)this.timestamp=n,this.resetCounter();else if(n+1e4>this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return ij.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Cm(2,30)),this.counter&Cm(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}},P5e=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536);return e};typeof crypto<"u"&&crypto.getRandomValues&&(P5e=e=>crypto.getRandomValues(e));var O8t=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(P5e(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},Wre,$8t=()=>(Wre||(Wre=new R8t)).generate();function P8t(e){if(e.length>63)return!1;let t,n,r;for(n=0,r=e.length;n<r;n+=1)if(t=e.charCodeAt(n),!(t>96&&t<123))return!1;return!0}var dw=class{constructor(e,t=""){if(this.prefix=e,this.suffix=t,!P8t(e))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=e,t)this.suffix=t;else{const n=$8t();this.suffix=K3(n.bytes)}if(this.suffix.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${t.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");Ure(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){const t=this;if(t.prefix!==e)throw new Error(`Cannot convert TypeID of type ${t.prefix} to type ${e}`);return t}toUUIDBytes(){return Ure(this.suffix)}toUUID(){return new ij(this.toUUIDBytes()).toString()}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e){const t=e.split("_");if(t.length===1)return new dw("",t[0]);if(t.length===2){if(t[0]==="")throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${e}`);return new dw(t[0],t[1])}throw new Error(`Invalid TypeID string: ${e}`)}static fromUUIDBytes(e,t){const n=K3(t);return new dw(e,n)}static fromUUID(e,t){const n=K3(M8t(t));return new dw(e,n)}};function F5e(e="",t=""){return new dw(e,t)}/*! Bundled license information:

uuidv7/dist/index.js:
  (**
   * uuidv7: An experimental implementation of the proposed UUID Version 7
   *
   * @license Apache-2.0
   * @copyright 2021-2023 LiosK
   * @packageDocumentation
   *)
*/const Gre={capture:!0};function P_(e,t,n){return e.addEventListener(t,n,Gre),()=>e.removeEventListener(t,n,Gre)}function F8t(e){if("onpagehide"in window)return P_(window,"pagehide",e);const t=P_(window,"unload",e),n=P_(window,"unload",e);return()=>{t(),n()}}function N8t(e){return P_(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function L8t(){const e={updateUserProperties(){},trace:t,log:n};function t(r){return{start(){},log(i){},complete(){},newContext(i){return e},error(i){},await:i=>i}}function n(r,i){}return e}const B8t=L8t();function V8t(){return F5e("session").toString()}function z8t(){return F5e("trace").toString()}function U8t(e,t){return t<1?[e,""]:[e.substring(0,t),e.substring(t)]}const Yre=1024;function H8t(e){const t=e.indexOf(`
`),n=t===-1?Yre:Math.min(t,Yre),[r,i]=U8t(e,n);return r+(i?" (+".concat(i.length,")"):"")}function W8t(e){const t=new Fr;function n(l,c,d,h){t.next({sessionId:e,type:"trace.error",traceId:l,name:c.name,version:c.version,data:{message:H8t(d.message)},context:h,createdAt:new Date().toISOString()})}function r(l,c,d,h,p){t.next({sessionId:e,type:l,traceId:c,name:d.name,version:d.version,data:h,context:p,createdAt:new Date().toISOString()})}function i(l,c,d){t.next({sessionId:e,type:l,version:c.version,name:c.name,data:d,createdAt:new Date().toISOString()})}function a(l){t.next({sessionId:e,type:"userProperties",properties:l,createdAt:new Date().toISOString()})}function o(l,c,d){return{start(){r("trace.start",l,c,void 0,d)},newContext(h){return{trace(p){return o("".concat(l,".").concat(h),p,d)},updateUserProperties(){},log:s}},log(h){r("trace.log",l,c,h,d)},complete(){r("trace.complete",l,c,void 0,d)},error(h){n(l,c,h,d)},await(h,p){return this.start(),h.then(m=>(this.log(p||m),this.complete(),m),m=>{throw this.error(m),m}),h}}}function s(l,c){i("log",l,c)}return{events$:t.asObservable(),logger:{updateUserProperties(l){a(l)},trace:(l,c)=>{const d=z8t();return o(d,l,c)},log:s}}}const G8t=e=>new Rt(t=>{const n=setTimeout(()=>{t.next(),t.complete()},e);return typeof n.unref=="function"&&n.unref(),()=>clearTimeout(n)});function Y8t(e,t){var n;const r=W8t(e);function i(){return t.resolveConsent().catch(g=>({status:"undetermined"}))}const a=[];function o(){const g=a.slice();return a.length=0,g}function s(){const g=o();return g.length===0?sr:Hi([we(g),i()]).pipe(Mt(y=>{let[v,b]=y;return v.length===0||b.status!=="granted"?sr:Br(t.sendEvents(v)).pipe(kn(x=>(a.unshift(...v),sr)))}))}const l=(n=t.flushInterval)!=null?n:3e4,c=r.events$.pipe(Qn(g=>a.push(g)),fe(()=>{}),Ez(()=>G8t(l),{leading:!1,trailing:!0}),tg(()=>s()));function d(){return Fi(s(),{defaultValue:void 0}).then(()=>{})}const h=c.subscribe();function p(){if(!t.sendBeacon)return m(),!0;const g=o();return h.unsubscribe(),g.length>0?t.sendBeacon(g):!0}function m(){return d().then(()=>{},()=>{}).finally(()=>{h.unsubscribe()})}return{end:m,endWithBeacon:p,flush:d,logger:r.logger}}function ci(e){return{type:"log",name:e.name,version:e.version,description:e.description,schema:void 0}}var q8t=e0;function K8t(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!q8t(o):n(o,s)))var s=o,l=a}return l}var N5e=K8t;function Z8t(e,t){return e>t}var X8t=Z8t,J8t=N5e,Q8t=X8t,e6t=f0;function t6t(e){return e&&e.length?J8t(e,e6t,Q8t):void 0}var n6t=t6t;const r6t=Fe(n6t);function i6t(e,t){return e<t}var a6t=i6t,o6t=N5e,s6t=a6t,l6t=f0;function u6t(e){return e&&e.length?o6t(e,l6t,s6t):void 0}var c6t=u6t;const d6t=Fe(c6t);var e5,f6t=new Uint8Array(16);function h6t(){if(!e5&&(e5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!e5))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e5(f6t)}const p6t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function m6t(e){return typeof e=="string"&&p6t.test(e)}var La=[];for(var Z3=0;Z3<256;++Z3)La.push((Z3+256).toString(16).substr(1));function g6t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(La[e[t+0]]+La[e[t+1]]+La[e[t+2]]+La[e[t+3]]+"-"+La[e[t+4]]+La[e[t+5]]+"-"+La[e[t+6]]+La[e[t+7]]+"-"+La[e[t+8]]+La[e[t+9]]+"-"+La[e[t+10]]+La[e[t+11]]+La[e[t+12]]+La[e[t+13]]+La[e[t+14]]+La[e[t+15]]).toLowerCase();if(!m6t(n))throw TypeError("Stringified UUID is invalid");return n}function Ka(e,t,n){e=e||{};var r=e.random||(e.rng||h6t)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return g6t(r)}const Sn=gi("mutator-document");class dc{constructor(t,n){Y(this,"_value");Y(this,"path");this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new dc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return Ix(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return Ix(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!Ix(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new dc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new dc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new dc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let i=0;i<n;i++)t.indexOf(i)===-1&&r.push(this._value[i]);return new dc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new dc(r,this.path)}setAttribute(t,n){if(!Ix(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new dc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!Ix(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new dc(n,this.path)}}function Ix(e){return e!==null&&typeof e=="object"}function F_(e){return e!==null&&typeof e=="object"}const y6t=/^[a-z_$]+/;function L5e(e){let t="";return e.forEach((n,r)=>{t+=v6t(n,r===0)}),t}function v6t(e,t){if(typeof e=="number")return`[${e}]`;if(F_(e)){const n=e;return Object.keys(e).map(r=>b6t(n[r])?`[${r}=="${n[r]}"]`:"").join("")}return typeof e=="string"&&y6t.test(e)?t?e:`.${e}`:`['${e}']`}function b6t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}function x6t(e){const[t,n]=B5e(e);if(!t)throw new Error("Head cannot be null");return C6t(t,n)}function B5e(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function w6t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function C6t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,i]=B5e(n);return[r,w6t(i,t)]}return[n,t]})}const S6t=/[0-9]/,X3=/^[a-zA-Z0-9_]$/,E6t=/^[a-zA-Z_]$/,V5e={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},k6t=Object.keys(V5e);class _6t{constructor(t){Y(this,"source");Y(this,"i");Y(this,"length");Y(this,"tokenizers");this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(r=>(n=r(),!!n))||!n)throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`);t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const i=t(this.source[this.i]);if(i===null)break;r+=i,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error(`Expected ${t} at end of jsonpath`);if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error(`Expected "${t}", but source contained "${this.source.slice()}`)}tryConsume(t){if(this.i+t.length>this.length)return null;if(t===this.source.slice(this.i,this.i+t.length)){if(t[0].match(X3)&&this.length>this.i+t.length){const n=this.source[this.i+t.length];if(n&&n.match(X3))return null}return this.i+=t.length,t}return null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(i=>n?(n=!1,i):i==="\\"?(n=!0,""):i!=t?i:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(E6t)?r:null):r.match(X3)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,i=!1;this.peek()==="-"&&(i=!0,this.consume("-"));const a=this.takeWhile(o=>o==="."&&!n&&r?(n=!0,o):(r=!0,o.match(S6t)?o:null));return a!==null?{type:"number",value:i?-a:+a,raw:i?`-${a}`:a}:(this.i=t,null)}tokenizeSymbol(){for(const t of k6t){const n=V5e[t].find(r=>this.tryConsume(r));if(n)return{type:t,symbol:n}}return null}}function T6t(e){return new _6t(e).tokenize()}class A6t{constructor(t){Y(this,"tokens");Y(this,"length");Y(this,"i");this.tokens=T6t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const r={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(r.step=this.parseNumberValue()),r.start===null&&r.end===null?(this.i=t,null):r}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const i=n,a=this.parseLiteralValue();if(!a)throw new Error(`Operator ${r.symbol} needs a literal value at the right hand side`);return{type:"constraint",operator:r.symbol,lhs:i,rhs:a}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function z5e(e){const t=new A6t(e).parse();if(!t)throw new Error(`Failed to parse JSON path "${e}"`);return t}function U5e(e){return d1(e,!1)}function d1(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return`${e.value}`;case"range":{const n=[];return t||n.push("["),e.start&&n.push(`${e.start}`),n.push(":"),e.end&&n.push(`${e.end}`),e.step&&n.push(`:${e.step}`),t||n.push("]"),n.join("")}case"index":return t?`${e.value}`:`[${e.value}]`;case"constraint":{const n=e.rhs?` ${d1(e.rhs,!1)}`:"",r=`${d1(e.lhs,!1)} ${e.operator}${n}`;return t?r:`[${r}]`}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const i=r.shift();i&&n.push(U5e(i));const a=r[0];a&&d1(a,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return`[${e.nodes.map(n=>d1(n,!0)).join(",")}]`;default:throw new Error(`Unknown node type ${e.type}`);case"recursive":return`..${d1(e.term,!1)}`}}class zs{constructor(t){Y(this,"expr");if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=J3(r,t);let i="end"in this.expr&&this.expr.end||n();i=J3(i,t);const a="step"in this.expr&&this.expr.step||1;return{start:r,end:i,step:a}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const o=t.get(),s=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return qre(o,n.operator,s)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error(`Constraint target ${r.type} not supported`);if(t.containerType()!=="object")return!1;const i=t.getAttribute(r.name);if(i==null||i.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return qre(i.get(),n.operator,a)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new zs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return x6t(this.expr).map(t=>{const[n,r]=t;return{head:n?new zs(n):null,tail:r?new zs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`);return new zs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[J3(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:i,end:a}=r;r.step<0&&([i,a]=[a,i]);for(let o=i;o<a;o++)n.push(o);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error(`Can't convert ${this.expr.type} to field references`)}toString(){return U5e(this.expr)}static fromPath(t){const n=z5e(t);if(!n)throw new Error(`Failed to parse path "${t}"`);return new zs(n)}static attributeReference(t){return new zs({type:"attribute",name:t})}static indexReference(t){return new zs({type:"index",value:t})}}function qre(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error(`Unsupported binary operator ${t}`)}}function J3(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class W1{constructor(t,n){Y(this,"head");Y(this,"tail");this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=pr(n.map(i=>i.iterateConstraints(t))),r=n.some(i=>i.head&&i.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new W1(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const i=t.length();for(let a=0;a<i;a++){const o=t.getIndex(a);o&&n.testConstraint(o)&&r.push(new W1(new zs({type:"index",value:a}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new W1(t.head,t.tail)):[new W1(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class Pm{constructor(t,n){Y(this,"active");Y(this,"recursives");Y(this,"payload");this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new Pm(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(i=>{if(i.hasArrived()){r.push(new zs({type:"alias",target:"self"}));return}const a=i.head;if(a&&!(t.containerType()==="array"&&!a.isIndexReference())&&!(t.containerType()==="object"&&!a.isAttributeReference()))if(i.tail){const o=new Pm(i.descend(),this);a.toFieldReferences().forEach(()=>{n.push({target:a,matcher:o})})}else r.push(a)}),this.hasRecursives()){const i=new Pm([],this);if(t.containerType()==="array"){const a=t.length();for(let o=0;o<a;o++)n.push({target:zs.indexReference(o),matcher:i})}else t.containerType()==="object"&&t.attributeKeys().forEach(a=>{n.push({target:zs.attributeReference(a),matcher:i})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=z5e(t);if(!n)throw new Error(`Failed to parse path from "${t}"`);const r=new W1(null,new zs(n));return new Pm(r.descend())}}class aj{constructor(t,n){Y(this,"_value");Y(this,"path");this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new aj(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return F_(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return F_(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!F_(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new aj(this._value[t],this.path.concat(t)):null}get(){return this._value}}function j6t(e,t){const n=[],r=Pm.fromPath(e).setPayload(function(a){n.push(...a)}),i=new aj(t);return H5e(r,i),n}function H5e(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(i=>{Kre(i.target,t).forEach(a=>{H5e(i.matcher,a)})}),r&&r.targets.forEach(i=>{typeof r.payload=="function"&&r.payload(Kre(i,t))})}function Kre(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error(`Unable to derive accessor for target ${e.toString()}`);return uM(n)}function I6t(e,t){return j6t(e,t).map(n=>({path:n.path,value:n.get()}))}function Zre(e,t){if(typeof t!="string")return t;const[n]=$M(e,t,{allowExceedingIndices:!0});return n}class D6t{constructor(t,n,r){Y(this,"path");Y(this,"dmpPatch");Y(this,"id");this.id=t,this.path=n,this.dmpPatch=xH(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const a of i.toIndicies(n)){const o=r.getIndex(a);if(!o)continue;const s=o.get(),l=Zre(this.dmpPatch,s);r=r.setIndex(a,l)}continue}if(i.isAttributeReference()&&r.hasAttribute(i.name())){const a=r.getAttribute(i.name());if(!a)continue;const o=a.get(),s=Zre(this.dmpPatch,o);r=r.setAttribute(i.name(),s);continue}throw new Error(`Unable to apply diffMatchPatch to target ${i.toString()}`)}return r}}function Xre(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class Jre{constructor(t,n,r){Y(this,"path");Y(this,"value");Y(this,"id");this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const a of i.toIndicies(n)){const o=r.getIndex(a);if(!o)continue;const s=o.get();r=r.setIndex(a,Xre(s,this.value))}continue}if(i.isAttributeReference()){const a=r.getAttribute(i.name());if(!a)continue;const o=a.get();r=r.setAttribute(i.name(),Xre(o,this.value));continue}throw new Error(`Unable to apply to target ${i.toString()}`)}return r}}function LM(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class M6t{constructor(t,n,r,i){Y(this,"location");Y(this,"path");Y(this,"items");Y(this,"id");this.id=t,this.location=n,this.path=r,this.items=i}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const i=R6t(t,n);r=r.insertItemsAt(i,this.items);break}case"after":{const i=O6t(t,n);r=r.insertItemsAt(i+1,this.items);break}case"replace":{const i=LM(t,n);r=r.unsetIndices(i),r=r.insertItemsAt(i[0],this.items);break}default:throw new Error(`Unsupported location atm: ${this.location}`)}return r}}function R6t(e,t){let n=d6t(LM(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:i}=r.expandRange();i<n&&(n=i)}}),n}function O6t(e,t){let n=r6t(LM(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:i}=r.expandRange();i>n&&(n=i)}}),n}class W5e{constructor(t,n,r){Y(this,"id");Y(this,"path");Y(this,"value");this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(!i.isIndexReference())if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r.hasAttribute(i.name())||(r=n.setAttribute(i.name(),this.value));else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}class G5e{constructor(t,n,r){Y(this,"id");Y(this,"path");Y(this,"value");this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(i.isSelfReference())r=r.set(this.value);else if(i.isIndexReference())i.toIndicies(n).forEach(a=>{r=r.setIndex(a,this.value)});else if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r=r.setAttribute(i.name(),this.value);else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}class $6t{constructor(t,n){Y(this,"id");Y(this,"path");Y(this,"value");this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(LM(t,n));break;case"object":t.forEach(i=>{r=r.unsetAttribute(i.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function Y5e(e){const t=[];if(Array.isArray(e))return e.reduce((c,d)=>c.concat(Y5e(d)),t);const{set:n,setIfMissing:r,unset:i,diffMatchPatch:a,inc:o,dec:s,insert:l}=e;if(r&&Object.keys(r).forEach(c=>{t.push(new W5e(e.id,c,r[c]))}),n&&Object.keys(n).forEach(c=>{t.push(new G5e(e.id,c,n[c]))}),i&&i.forEach(c=>{t.push(new $6t(e.id,c))}),a&&Object.keys(a).forEach(c=>{t.push(new D6t(e.id,c,a[c]))}),o&&Object.keys(o).forEach(c=>{t.push(new Jre(e.id,c,o[c]))}),s&&Object.keys(s).forEach(c=>{t.push(new Jre(e.id,c,-s[c]))}),l){let c,d;const h=l;if("before"in h)c="before",d=h.before;else if("after"in h)c="after",d=h.after;else if("replace"in h)c="replace",d=h.replace;else throw new Error("Invalid insert patch");t.push(new M6t(e.id,c,d,h.items))}return t}let P6t=class{constructor(t){Y(this,"patches");this.patches=Y5e(t)}apply(t){const n=new dc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const i=r.get();for(const a of this.patches){if(a.id!==i)continue;const o=Pm.fromPath(a.path).setPayload(a);n=VL(o,n)}return n}};function VL(e,t){const n=e.payload instanceof G5e||e.payload instanceof W5e;let r=t;const{leads:i,delivery:a}=e.match(t);return i.forEach(o=>{if(o.target.isIndexReference())o.target.toIndicies().forEach(s=>{const l=r.getIndex(s);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(s,VL(o.matcher,l))});else if(o.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let s=r.getAttribute(o.target.name());if(!s&&n&&(r=r.setAttribute(o.target.name(),{}),s=r.getAttribute(o.target.name())),!s)return;const l=VL(o.matcher,s);s!==l&&(r=r.setAttributeAccessor(o.target.name(),l))}else throw new Error(`Unable to handle target ${o.target.toString()}`)}),a&&F6t(a.payload)&&(r=a.payload.apply(a.targets,r)),r}function F6t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const N6t=Ka;class Fc{constructor(t){Y(this,"params");Y(this,"compiled");Y(this,"_appliesToMissingDocument");this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=N6t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(i=>{if(i.create){const a=i.create||{};t.push(o=>o||Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}));return}if(i.createIfNotExists){const a=i.createIfNotExists||{};t.push(o=>o===null?Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}):o);return}if(i.createOrReplace){const a=i.createOrReplace||{};t.push(()=>Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}));return}if(i.delete){t.push(()=>null);return}if(i.patch){if("query"in i.patch)return;const a=new P6t(i.patch);t.push(o=>a.apply(o));return}throw new Error(`Unsupported mutation ${JSON.stringify(i,null,2)}`)}),typeof this.params.timestamp=="string"&&t.push(i=>i?Object.assign(i,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=i=>{if(n&&i&&n!==i._rev)throw new Error(`Previous revision for this mutation was ${n}, but the document revision is ${i._rev}`);let a=i;for(const o of t)a=o(a);return a&&r&&(a===i&&(a=Object.assign({},i)),a._rev=r),a}}apply(t){Sn("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Sn("  => %O",n),n}static applyAll(t,n){return n.reduce((r,i)=>i.apply(r),t)}static squash(t,n){const r=n.reduce((i,a)=>i.concat(...a.mutations),[]);return new Fc({mutations:r})}}let L6t=class{constructor(t){Y(this,"incoming",[]);Y(this,"submitted",[]);Y(this,"pending",[]);Y(this,"HEAD");Y(this,"EDGE");Y(this,"onRebase");Y(this,"onMutation");Y(this,"onConsistencyChanged");Y(this,"onRemoteMutation");Y(this,"inconsistentAt",null);Y(this,"lastStagedAt",null);this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Sn("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const a=new Date(this.HEAD._updatedAt);this.incoming.find(o=>o.timestamp&&o.timestamp<a)&&(this.incoming=this.incoming.filter(o=>o.timestamp&&o.timestamp<a))}let i=0;do{if(this.HEAD){const a=this.HEAD;n=a._rev?this.incoming.find(o=>o.previousRev===a._rev):void 0}else n=this.incoming.find(a=>a.appliesToMissingDocument());if(n){const a=this.applyIncoming(n);if(t=t||a,t&&r.push(n),i++>10)throw new Error(`Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(n)}`)}}while(n);this.incoming.length>0&&Sn.enabled&&Sn("Unable to apply mutations %s",this.incoming.map(a=>a.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Sn(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Sn("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Sn.enabled&&(Sn(`Incoming mutation ${t.transactionId} appeared while there were pending or submitted local mutations`),Sn(`Submitted txnIds: ${this.submitted.map(r=>r.transactionId).join(", ")}`),Sn(`Pending txnIds: ${this.pending.map(r=>r.transactionId).join(", ")}`),Sn("needRebase === %s",n)),n}return Sn("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Sn("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Sn("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Sn("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Sn("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const i=[];this.pending.forEach(a=>{if(a.transactionId===t){r=a;return}i.push(a)}),r&&this.submitted.push(r),this.pending=i,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Fc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!kt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class t5{constructor(t){Y(this,"BASIS");Y(this,"PRESTAGE");Y(this,"setOperations");Y(this,"documentPresent");Y(this,"out",[]);Y(this,"staged");t?Sn("Reset mutation buffer to rev %s",t._rev):Sn("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Sn("Purged mutation buffer"),n=new Fc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,i={};for(const a of Object.keys(r))r.hasOwnProperty(a)&&(this.optimiseSetOperation(a,r[a])||(i[a]=r[a]));Object.keys(i).length>0&&(Sn("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:i}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Sn("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=I6t(t,this.PRESTAGE);if(r.length!==1)return!1;const i=r[0];if(typeof i.value=="object"||!this.PRESTAGE)return!1;let a=null;if(i.value===n)a=null;else if(typeof i.value=="string"&&typeof n=="string")try{const s=bH(OM(i.value,n));a={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:s}}}}catch{return!1}else a={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const o=L5e(i.path);return a?this.setOperations[o]=a:delete this.setOperations[o],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Fc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Fc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const B6t=1e3*60;class V6t{constructor(t,{resolve:n,reject:r}){Y(this,"mutations");Y(this,"tries");Y(this,"resolve");Y(this,"reject");this.mutations=t,this.tries=0,this.resolve=n,this.reject=r}apply(t){return Fc.applyAll(t,this.mutations)}squash(t){const n=Fc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const Qre=(e,t)=>e.concat(t.mutations);class z6t{constructor(t){Y(this,"mutations");Y(this,"document");Y(this,"LOCAL");Y(this,"commits");Y(this,"buffer");Y(this,"onMutation");Y(this,"onRemoteMutation");Y(this,"onRebase");Y(this,"onDelete");Y(this,"onConsistencyChanged");Y(this,"commitHandler");Y(this,"committerRunning",!1);this.buffer=new t5(t),this.document=new L6t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,i)=>this.handleDocRebase(n,r,i),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Sn("Document state reset to revision %s",t._rev):Sn("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Sn("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Sn("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Sn("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error(`Mutation ${t.transactionId} has previousRev === resultRev (${t.previousRev})`);return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Sn("Committing local changes");const r=this.buffer.purge();this.commits.push(new V6t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new t5(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),i={success:()=>{Sn("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Sn("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,B6t))},cancel:a=>{this.commits.forEach(o=>o.reject(a)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new t5(this.LOCAL),this.committerRunning=!1}};Sn("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:i.success,failure:i.failure,cancel:i.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Sn("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Sn("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new t5(this.LOCAL),this.onMutation&&this.onMutation(t);return}Sn("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Sn("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,a)=>a.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!kt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(Qre,[]),n.reduce(Qre,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}const U6t={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class oj{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||U6t,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new oj(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new oj(this.logger,t)}}var Tc=new oj;class BM{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[s,l]=o;for(let c=0;c<l;c++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let c=0;c<l;c++)s.apply(s,[t,...r])})}}const Dx=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},eie=e=>e==null?"":""+e,H6t=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},W6t=/###/g,tie=e=>e&&e.indexOf("###")>-1?e.replace(W6t,"."):e,nie=e=>!e||typeof e=="string",eC=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let i=0;for(;i<r.length-1;){if(nie(e))return{};const a=tie(r[i]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return nie(e)?{}:{obj:e,k:tie(r[i])}},rie=(e,t,n)=>{const{obj:r,k:i}=eC(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),s=eC(e,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=eC(e,o,Object),s&&s.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},G6t=(e,t,n,r)=>{const{obj:i,k:a}=eC(e,t,Object);i[a]=i[a]||[],i[a].push(n)},sj=(e,t)=>{const{obj:n,k:r}=eC(e,t);if(n)return n[r]},Y6t=(e,t,n)=>{const r=sj(e,n);return r!==void 0?r:sj(t,n)},q5e=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):q5e(e[r],t[r],n):e[r]=t[r]);return e},Q0=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var q6t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const K6t=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>q6t[t]):e;class Z6t{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const X6t=[" ",",","?","!",";"],J6t=new Z6t(20),Q6t=(e,t,n)=>{t=t||"",n=n||"";const r=X6t.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=J6t.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(e);if(!a){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a},zL=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=n),s+=r[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=o}return i},lj=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class iie extends BM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):typeof r=="string"&&a?s.push(...r.split(a)):s.push(r)));const l=sj(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!o||typeof r!="string"?l:zL(this.data&&this.data[t]&&this.data[t][n],r,a)}addResource(t,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),rie(this.data,s,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(typeof r[a]=="string"||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=sj(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?q5e(l,r,a):l={...l,...r},rie(this.data,s,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var K5e={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,n,r,i))}),t}};const aie={};class uj extends BM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),H6t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tc.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Q6t(t,r,i);if(o&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:a};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),t=c.join(i)}return typeof a=="string"&&(a=[a]),{key:t,namespaces:a}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(t[t.length-1],n),l=s[s.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${C}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let p=h&&h.res;const m=h&&h.usedKey||o,g=h&&h.exactUsedKey||o,y=Object.prototype.toString.apply(p),v=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&v.indexOf(y)<0&&!(typeof b=="string"&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(a){const C=Array.isArray(p),S=C?[]:{},E=C?g:m;for(const k in p)if(Object.prototype.hasOwnProperty.call(p,k)){const _=`${E}${a}${k}`;S[k]=this.translate(_,{...n,joinArrays:!1,ns:s}),S[k]===_&&(S[k]=p[k])}p=S}}else if(x&&typeof b=="string"&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,t,n,r));else{let C=!1,S=!1;const E=n.count!==void 0&&typeof n.count!="string",k=uj.hasDefaultValue(n),_=E?this.pluralResolver.getSuffix(c,n.count,n):"",T=n.ordinal&&E?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",j=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),A=j&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${T}`]||n.defaultValue;!this.isValidLookup(p)&&k&&(C=!0,p=A),this.isValidLookup(p)||(S=!0,p=o);const M=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:p,D=k&&A!==p&&this.options.updateMissing;if(S||C||D){if(this.logger.log(D?"updateKey":"missingKey",c,l,o,D?A:p),a){const P=this.resolve(o,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let P=0;P<R.length;P++)O.push(R[P]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(n.lng||this.language):O.push(n.lng||this.language);const F=(P,V,U)=>{const H=k&&U!==p?U:M;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,V,H,D,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,V,H,D,n),this.emit("missingKey",P,l,V,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?O.forEach(P=>{const V=this.pluralResolver.getSuffixes(P,n);j&&n[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(U=>{F([P],o+U,n[`defaultValue${U}`]||A)})}):F(O,o,A))}p=this.extendTranslation(p,t,n,h,r),S&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(S||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(t,n,r,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||i.usedLng,r),c){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return a&&a[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=K5e.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,a,o,s;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(v=>{this.isValidLookup(r)||(s=v,!aie[`${y[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(aie[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{if(this.isValidLookup(r))return;o=b;const x=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,d,b,v,n);else{let C;p&&(C=this.pluralResolver.getSuffix(b,n.count,n));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(x.push(d+C),n.ordinal&&C.indexOf(E)===0&&x.push(d+C.replace(E,this.options.pluralSeparator)),m&&x.push(d+S)),g){const k=`${d}${this.options.contextSeparator}${n.context}`;x.push(k),p&&(x.push(k+C),n.ordinal&&C.indexOf(E)===0&&x.push(k+C.replace(E,this.options.pluralSeparator)),m&&x.push(k+S))}}let w;for(;w=x.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(b,v,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const Q3=e=>e.charAt(0).toUpperCase()+e.slice(1);class oie{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tc.create("languageUtils")}getScriptPartFromCode(t){if(t=lj(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=lj(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Q3(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Q3(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Q3(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):typeof t=="string"&&a(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let e7t=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],t7t={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const n7t=["v1","v2","v3"],r7t=["v4"],sie={zero:0,one:1,two:2,few:3,many:4,other:5},i7t=()=>{const e={};return e7t.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:t7t[t.fc]}})}),e};class a7t{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Tc.create("pluralResolver"),(!this.options.compatibilityJSON||r7t.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=i7t(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=lj(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[a]=o,o}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,a)=>sie[i]-sie[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!n7t.includes(this.options.compatibilityJSON)}}const lie=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Y6t(e,t,n);return!a&&i&&typeof n=="string"&&(a=zL(e,n,r),a===void 0&&(a=zL(t,n,r))),a},eP=e=>e.replace(/\$/g,"$$$$");class o7t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tc.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:b,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:K6t,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Q0(a):o||"{{",this.suffix=s?Q0(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Q0(p):m||Q0("$t("),this.nestingSuffix=g?Q0(g):y||Q0(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=b||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const b=lie(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:m}):b}const g=m.split(this.formatSeparator),y=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(lie(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>eP(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?eP(this.escape(m)):eP(m)}].forEach(m=>{for(s=0;a=m.regex.exec(t);){const g=a[1].trim();if(o=c(g),o===void 0)if(typeof d=="function"){const v=d(t,a,i);o=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=eie(o));const y=m.safeValue(o);if(t=t.replace(a[0],y),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=a[0].length):m.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const s=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;l=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),g=p.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=d.shift(),l=d,c=!0}if(a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===t&&typeof a!="string")return a;typeof a!="string"&&(a=eie(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),c&&(a=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const s7t=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},e1=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=r+JSON.stringify(a);let s=t[o];return s||(s=e(lj(r),i),t[o]=s),s(n)}};class l7t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tc.create("formatter"),this.options=t,this.formats={number:e1((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return a=>i.format(a)}),currency:e1((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>i.format(a)}),datetime:e1((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return a=>i.format(a)}),relativetime:e1((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return a=>i.format(a,r.range||"day")}),list:e1((n,r)=>{const i=new Intl.ListFormat(n,{...r});return a=>i.format(a)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=e1(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{const{formatName:c,formatOptions:d}=s7t(l);if(this.formats[c]){let h=s;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](s,m,{...d,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return s},t)}}const u7t=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};let c7t=class extends BM{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Tc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const a={},o={},s={},l={};return t.forEach(c=>{let d=!0;n.forEach(h=>{const p=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),a[p]===void 0&&(a[p]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(s[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(l=>{G6t(l.loaded,[a],o),u7t(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,o)},a);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>s(null,d)).catch(s):s(null,c)}catch(c){s(c)}return}return l(t,n,s)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(t,o,s)})}saveMissing(t,n,r,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,r,i,l):d=c(t,n,r,i),d&&typeof d.then=="function"?d.then(h=>s(null,h)).catch(s):s(null,d)}catch(d){s(d)}else c(t,n,r,i,s,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}};const uie=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),cie=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),n5=()=>{},d7t=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class cS extends BM{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=cie(t),this.services={},this.logger=Tc,this.modules={external:[]},d7t(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=uie();this.options={...i,...this.options,...cie(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const a=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Tc.init(a(this.modules.logger),this.options):Tc.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=l7t);const h=new oie(this.options);this.store=new iie(this.options.resources,this.options);const p=this.services;p.logger=Tc,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new a7t(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=a(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new o7t(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new c7t(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];t.emit(m,...y)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new uj(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];t.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=n5),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=Dx(),c=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n5;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(t,n,r){const i=Dx();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=n5),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&K5e.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Dx();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),i}getFixedT(t,n,r){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),h=2;h<c;h++)d[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,s].concat(d))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const p=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${l.keyPrefix}${p}${g}`):m=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,i.t(m,l)};return typeof t=="string"?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(a,t)))}loadNamespaces(t,n){const r=Dx();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Dx();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],a=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new oie(uie());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new cS(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n5;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new cS(i);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new iie(this.store.data,i),a.services.resourceStore=a.store),a.translator=new uj(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];a.emit(s,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xo=cS.createInstance();Xo.createInstance=cS.createInstance;const Z5e=Xo.createInstance;Xo.dir;Xo.init;Xo.loadResources;Xo.reloadResources;Xo.use;Xo.changeLanguage;Xo.getFixedT;Xo.t;Xo.exists;Xo.setDefaultNamespace;Xo.hasLoadedNamespace;Xo.loadNamespaces;Xo.loadLanguages;var UL={exports:{}};const f7t="2.0.0",X5e=256,h7t=Number.MAX_SAFE_INTEGER||9007199254740991,p7t=16,m7t=X5e-6,g7t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var VM={MAX_LENGTH:X5e,MAX_SAFE_COMPONENT_LENGTH:p7t,MAX_SAFE_BUILD_LENGTH:m7t,MAX_SAFE_INTEGER:h7t,RELEASE_TYPES:g7t,SEMVER_SPEC_VERSION:f7t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const y7t=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var zM=y7t;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=VM,a=zM;t=e.exports={};const o=t.re=[],s=t.safeRe=[],l=t.src=[],c=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[h,r]],m=y=>{for(const[v,b]of p)y=y.split(`${v}*`).join(`${v}{0,${b}}`).split(`${v}+`).join(`${v}{1,${b}}`);return y},g=(y,v,b)=>{const x=m(v),w=d++;a(y,w,v),c[y]=w,l[w]=v,o[w]=new RegExp(v,b?"g":void 0),s[w]=new RegExp(x,b?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(UL,UL.exports);var KE=UL.exports;const v7t=Object.freeze({loose:!0}),b7t=Object.freeze({}),x7t=e=>e?typeof e!="object"?v7t:e:b7t;var TH=x7t;const die=/^[0-9]+$/,J5e=(e,t)=>{const n=die.test(e),r=die.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},w7t=(e,t)=>J5e(t,e);var Q5e={compareIdentifiers:J5e,rcompareIdentifiers:w7t};const r5=zM,{MAX_LENGTH:fie,MAX_SAFE_INTEGER:i5}=VM,{safeRe:hie,t:pie}=KE,C7t=TH,{compareIdentifiers:t1}=Q5e;let S7t=class oc{constructor(t,n){if(n=C7t(n),t instanceof oc){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>fie)throw new TypeError(`version is longer than ${fie} characters`);r5("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?hie[pie.LOOSE]:hie[pie.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i5||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i5||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i5||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<i5)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r5("SemVer.compare",this.version,this.options,t),!(t instanceof oc)){if(typeof t=="string"&&t===this.version)return 0;t=new oc(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof oc||(t=new oc(t,this.options)),t1(this.major,t.major)||t1(this.minor,t.minor)||t1(this.patch,t.patch)}comparePre(t){if(t instanceof oc||(t=new oc(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(r5("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return t1(r,i)}while(++n)}compareBuild(t){t instanceof oc||(t=new oc(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(r5("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return t1(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),t1(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Jo=S7t;const mie=Jo,E7t=(e,t,n=!1)=>{if(e instanceof mie)return e;try{return new mie(e,t)}catch(r){if(!n)return null;throw r}};var bb=E7t;const k7t=bb,_7t=(e,t)=>{const n=k7t(e,t);return n?n.version:null};var T7t=_7t;const A7t=bb,j7t=(e,t)=>{const n=A7t(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var I7t=j7t;const gie=Jo,D7t=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new gie(e instanceof gie?e.version:e,n).inc(t,r,i).version}catch{return null}};var M7t=D7t;const yie=bb,R7t=(e,t)=>{const n=yie(e,null,!0),r=yie(t,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,o=a?n:r,s=a?r:n,l=!!o.prerelease.length;if(!!s.prerelease.length&&!l)return!s.patch&&!s.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var O7t=R7t;const $7t=Jo,P7t=(e,t)=>new $7t(e,t).major;var F7t=P7t;const N7t=Jo,L7t=(e,t)=>new N7t(e,t).minor;var B7t=L7t;const V7t=Jo,z7t=(e,t)=>new V7t(e,t).patch;var U7t=z7t;const H7t=bb,W7t=(e,t)=>{const n=H7t(e,t);return n&&n.prerelease.length?n.prerelease:null};var G7t=W7t;const vie=Jo,Y7t=(e,t,n)=>new vie(e,n).compare(new vie(t,n));var Zu=Y7t;const q7t=Zu,K7t=(e,t,n)=>q7t(t,e,n);var Z7t=K7t;const X7t=Zu,J7t=(e,t)=>X7t(e,t,!0);var Q7t=J7t;const bie=Jo,e9t=(e,t,n)=>{const r=new bie(e,n),i=new bie(t,n);return r.compare(i)||r.compareBuild(i)};var AH=e9t;const t9t=AH,n9t=(e,t)=>e.sort((n,r)=>t9t(n,r,t));var r9t=n9t;const i9t=AH,a9t=(e,t)=>e.sort((n,r)=>i9t(r,n,t));var o9t=a9t;const s9t=Zu,l9t=(e,t,n)=>s9t(e,t,n)>0;var UM=l9t;const u9t=Zu,c9t=(e,t,n)=>u9t(e,t,n)<0;var jH=c9t;const d9t=Zu,f9t=(e,t,n)=>d9t(e,t,n)===0;var e_e=f9t;const h9t=Zu,p9t=(e,t,n)=>h9t(e,t,n)!==0;var t_e=p9t;const m9t=Zu,g9t=(e,t,n)=>m9t(e,t,n)>=0;var IH=g9t;const y9t=Zu,v9t=(e,t,n)=>y9t(e,t,n)<=0;var DH=v9t;const b9t=e_e,x9t=t_e,w9t=UM,C9t=IH,S9t=jH,E9t=DH,k9t=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return b9t(e,n,r);case"!=":return x9t(e,n,r);case">":return w9t(e,n,r);case">=":return C9t(e,n,r);case"<":return S9t(e,n,r);case"<=":return E9t(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var n_e=k9t;const _9t=Jo,T9t=bb,{safeRe:a5,t:o5}=KE,A9t=(e,t)=>{if(e instanceof _9t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?a5[o5.COERCEFULL]:a5[o5.COERCE]);else{const l=t.includePrerelease?a5[o5.COERCERTLFULL]:a5[o5.COERCERTL];let c;for(;(c=l.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",o=t.includePrerelease&&n[5]?`-${n[5]}`:"",s=t.includePrerelease&&n[6]?`+${n[6]}`:"";return T9t(`${r}.${i}.${a}${o}${s}`,t)};var j9t=A9t;class I9t{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var D9t=I9t,tP,xie;function Xu(){if(xie)return tP;xie=1;const e=/\s+/g;class t{constructor(O,R){if(R=i(R),O instanceof t)return O.loose===!!R.loose&&O.includePrerelease===!!R.includePrerelease?O:new t(O.raw,R);if(O instanceof a)return this.raw=O.value,this.set=[[O]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=O.trim().replace(e," "),this.set=this.raw.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(P=>!y(P[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&v(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let O=0;O<this.set.length;O++){O>0&&(this.formatted+="||");const R=this.set[O];for(let F=0;F<R.length;F++)F>0&&(this.formatted+=" "),this.formatted+=R[F].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(O){const F=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+O,P=r.get(F);if(P)return P;const V=this.options.loose,U=V?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];O=O.replace(U,I(this.options.includePrerelease)),o("hyphen replace",O),O=O.replace(l[c.COMPARATORTRIM],d),o("comparator trim",O),O=O.replace(l[c.TILDETRIM],h),o("tilde trim",O),O=O.replace(l[c.CARETTRIM],p),o("caret trim",O);let H=O.split(" ").map(re=>x(re,this.options)).join(" ").split(/\s+/).map(re=>A(re,this.options));V&&(H=H.filter(re=>(o("loose invalid filter",re,this.options),!!re.match(l[c.COMPARATORLOOSE])))),o("range list",H);const W=new Map,Z=H.map(re=>new a(re,this.options));for(const re of Z){if(y(re))return[re];W.set(re.value,re)}W.size>1&&W.has("")&&W.delete("");const J=[...W.values()];return r.set(F,J),J}intersects(O,R){if(!(O instanceof t))throw new TypeError("a Range is required");return this.set.some(F=>b(F,R)&&O.set.some(P=>b(P,R)&&F.every(V=>P.every(U=>V.intersects(U,R)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new s(O,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(M(this.set[R],O,this.options))return!0;return!1}}tP=t;const n=D9t,r=new n,i=TH,a=HM(),o=zM,s=Jo,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=KE,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=VM,y=D=>D.value==="<0.0.0-0",v=D=>D.value==="",b=(D,O)=>{let R=!0;const F=D.slice();let P=F.pop();for(;R&&F.length;)R=F.every(V=>P.intersects(V,O)),P=F.pop();return R},x=(D,O)=>(o("comp",D,O),D=E(D,O),o("caret",D),D=C(D,O),o("tildes",D),D=_(D,O),o("xrange",D),D=j(D,O),o("stars",D),D),w=D=>!D||D.toLowerCase()==="x"||D==="*",C=(D,O)=>D.trim().split(/\s+/).map(R=>S(R,O)).join(" "),S=(D,O)=>{const R=O.loose?l[c.TILDELOOSE]:l[c.TILDE];return D.replace(R,(F,P,V,U,H)=>{o("tilde",D,F,P,V,U,H);let W;return w(P)?W="":w(V)?W=`>=${P}.0.0 <${+P+1}.0.0-0`:w(U)?W=`>=${P}.${V}.0 <${P}.${+V+1}.0-0`:H?(o("replaceTilde pr",H),W=`>=${P}.${V}.${U}-${H} <${P}.${+V+1}.0-0`):W=`>=${P}.${V}.${U} <${P}.${+V+1}.0-0`,o("tilde return",W),W})},E=(D,O)=>D.trim().split(/\s+/).map(R=>k(R,O)).join(" "),k=(D,O)=>{o("caret",D,O);const R=O.loose?l[c.CARETLOOSE]:l[c.CARET],F=O.includePrerelease?"-0":"";return D.replace(R,(P,V,U,H,W)=>{o("caret",D,P,V,U,H,W);let Z;return w(V)?Z="":w(U)?Z=`>=${V}.0.0${F} <${+V+1}.0.0-0`:w(H)?V==="0"?Z=`>=${V}.${U}.0${F} <${V}.${+U+1}.0-0`:Z=`>=${V}.${U}.0${F} <${+V+1}.0.0-0`:W?(o("replaceCaret pr",W),V==="0"?U==="0"?Z=`>=${V}.${U}.${H}-${W} <${V}.${U}.${+H+1}-0`:Z=`>=${V}.${U}.${H}-${W} <${V}.${+U+1}.0-0`:Z=`>=${V}.${U}.${H}-${W} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?U==="0"?Z=`>=${V}.${U}.${H}${F} <${V}.${U}.${+H+1}-0`:Z=`>=${V}.${U}.${H}${F} <${V}.${+U+1}.0-0`:Z=`>=${V}.${U}.${H} <${+V+1}.0.0-0`),o("caret return",Z),Z})},_=(D,O)=>(o("replaceXRanges",D,O),D.split(/\s+/).map(R=>T(R,O)).join(" ")),T=(D,O)=>{D=D.trim();const R=O.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return D.replace(R,(F,P,V,U,H,W)=>{o("xRange",D,F,P,V,U,H,W);const Z=w(V),J=Z||w(U),re=J||w(H),G=re;return P==="="&&G&&(P=""),W=O.includePrerelease?"-0":"",Z?P===">"||P==="<"?F="<0.0.0-0":F="*":P&&G?(J&&(U=0),H=0,P===">"?(P=">=",J?(V=+V+1,U=0,H=0):(U=+U+1,H=0)):P==="<="&&(P="<",J?V=+V+1:U=+U+1),P==="<"&&(W="-0"),F=`${P+V}.${U}.${H}${W}`):J?F=`>=${V}.0.0${W} <${+V+1}.0.0-0`:re&&(F=`>=${V}.${U}.0${W} <${V}.${+U+1}.0-0`),o("xRange return",F),F})},j=(D,O)=>(o("replaceStars",D,O),D.trim().replace(l[c.STAR],"")),A=(D,O)=>(o("replaceGTE0",D,O),D.trim().replace(l[O.includePrerelease?c.GTE0PRE:c.GTE0],"")),I=D=>(O,R,F,P,V,U,H,W,Z,J,re,G)=>(w(F)?R="":w(P)?R=`>=${F}.0.0${D?"-0":""}`:w(V)?R=`>=${F}.${P}.0${D?"-0":""}`:U?R=`>=${R}`:R=`>=${R}${D?"-0":""}`,w(Z)?W="":w(J)?W=`<${+Z+1}.0.0-0`:w(re)?W=`<${Z}.${+J+1}.0-0`:G?W=`<=${Z}.${J}.${re}-${G}`:D?W=`<${Z}.${J}.${+re+1}-0`:W=`<=${W}`,`${R} ${W}`.trim()),M=(D,O,R)=>{for(let F=0;F<D.length;F++)if(!D[F].test(O))return!1;if(O.prerelease.length&&!R.includePrerelease){for(let F=0;F<D.length;F++)if(o(D[F].semver),D[F].semver!==a.ANY&&D[F].semver.prerelease.length>0){const P=D[F].semver;if(P.major===O.major&&P.minor===O.minor&&P.patch===O.patch)return!0}return!1}return!0};return tP}var nP,wie;function HM(){if(wie)return nP;wie=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,h){if(h=n(h),d instanceof t){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=d.match(h);if(!p)throw new TypeError(`Invalid comparator: ${d}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new s(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new s(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,h).test(d.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}nP=t;const n=TH,{safeRe:r,t:i}=KE,a=n_e,o=zM,s=Jo,l=Xu();return nP}const M9t=Xu(),R9t=(e,t,n)=>{try{t=new M9t(t,n)}catch{return!1}return t.test(e)};var WM=R9t;const O9t=Xu(),$9t=(e,t)=>new O9t(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var P9t=$9t;const F9t=Jo,N9t=Xu(),L9t=(e,t,n)=>{let r=null,i=null,a=null;try{a=new N9t(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new F9t(r,n))}),r};var B9t=L9t;const V9t=Jo,z9t=Xu(),U9t=(e,t,n)=>{let r=null,i=null,a=null;try{a=new z9t(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new V9t(r,n))}),r};var H9t=U9t;const rP=Jo,W9t=Xu(),Cie=UM,G9t=(e,t)=>{e=new W9t(e,t);let n=new rP("0.0.0");if(e.test(n)||(n=new rP("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let a=null;i.forEach(o=>{const s=new rP(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!a||Cie(s,a))&&(a=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!n||Cie(n,a))&&(n=a)}return n&&e.test(n)?n:null};var Y9t=G9t;const q9t=Xu(),K9t=(e,t)=>{try{return new q9t(e,t).range||"*"}catch{return null}};var Z9t=K9t;const X9t=Jo,r_e=HM(),{ANY:J9t}=r_e,Q9t=Xu(),eBt=WM,Sie=UM,Eie=jH,tBt=DH,nBt=IH,rBt=(e,t,n,r)=>{e=new X9t(e,r),t=new Q9t(t,r);let i,a,o,s,l;switch(n){case">":i=Sie,a=tBt,o=Eie,s=">",l=">=";break;case"<":i=Eie,a=nBt,o=Sie,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(eBt(e,t,r))return!1;for(let c=0;c<t.set.length;++c){const d=t.set[c];let h=null,p=null;if(d.forEach(m=>{m.semver===J9t&&(m=new r_e(">=0.0.0")),h=h||m,p=p||m,i(m.semver,h.semver,r)?h=m:o(m.semver,p.semver,r)&&(p=m)}),h.operator===s||h.operator===l||(!p.operator||p.operator===s)&&a(e,p.semver))return!1;if(p.operator===l&&o(e,p.semver))return!1}return!0};var MH=rBt;const iBt=MH,aBt=(e,t,n)=>iBt(e,t,">",n);var oBt=aBt;const sBt=MH,lBt=(e,t,n)=>sBt(e,t,"<",n);var uBt=lBt;const kie=Xu(),cBt=(e,t,n)=>(e=new kie(e,n),t=new kie(t,n),e.intersects(t,n));var dBt=cBt;const fBt=WM,hBt=Zu;var pBt=(e,t,n)=>{const r=[];let i=null,a=null;const o=e.sort((d,h)=>hBt(d,h,n));for(const d of o)fBt(d,t,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const s=[];for(const[d,h]of r)d===h?s.push(d):!h&&d===o[0]?s.push("*"):h?d===o[0]?s.push(`<=${h}`):s.push(`${d} - ${h}`):s.push(`>=${d}`);const l=s.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const _ie=Xu(),RH=HM(),{ANY:iP}=RH,Mx=WM,OH=Zu,mBt=(e,t,n={})=>{if(e===t)return!0;e=new _ie(e,n),t=new _ie(t,n);let r=!1;e:for(const i of e.set){for(const a of t.set){const o=yBt(i,a,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},gBt=[new RH(">=0.0.0-0")],Tie=[new RH(">=0.0.0")],yBt=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===iP){if(t.length===1&&t[0].semver===iP)return!0;n.includePrerelease?e=gBt:e=Tie}if(t.length===1&&t[0].semver===iP){if(n.includePrerelease)return!0;t=Tie}const r=new Set;let i,a;for(const m of e)m.operator===">"||m.operator===">="?i=Aie(i,m,n):m.operator==="<"||m.operator==="<="?a=jie(a,m,n):r.add(m.semver);if(r.size>1)return null;let o;if(i&&a){if(o=OH(i.semver,a.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const m of r){if(i&&!Mx(m,String(i),n)||a&&!Mx(m,String(a),n))return null;for(const g of t)if(!Mx(m,String(g),n))return!1;return!0}let s,l,c,d,h=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const m of t){if(d=d||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(s=Aie(i,m,n),s===m&&s!==i)return!1}else if(i.operator===">="&&!Mx(i.semver,String(m),n))return!1}if(a){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator==="<"||m.operator==="<="){if(l=jie(a,m,n),l===m&&l!==a)return!1}else if(a.operator==="<="&&!Mx(a.semver,String(m),n))return!1}if(!m.operator&&(a||i)&&o!==0)return!1}return!(i&&c&&!a&&o!==0||a&&d&&!i&&o!==0||p||h)},Aie=(e,t,n)=>{if(!e)return t;const r=OH(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},jie=(e,t,n)=>{if(!e)return t;const r=OH(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var vBt=mBt;const aP=KE,Iie=VM,bBt=Jo,Die=Q5e,xBt=bb,wBt=T7t,CBt=I7t,SBt=M7t,EBt=O7t,kBt=F7t,_Bt=B7t,TBt=U7t,ABt=G7t,jBt=Zu,IBt=Z7t,DBt=Q7t,MBt=AH,RBt=r9t,OBt=o9t,$Bt=UM,PBt=jH,FBt=e_e,NBt=t_e,LBt=IH,BBt=DH,VBt=n_e,zBt=j9t,UBt=HM(),HBt=Xu(),WBt=WM,GBt=P9t,YBt=B9t,qBt=H9t,KBt=Y9t,ZBt=Z9t,XBt=MH,JBt=oBt,QBt=uBt,eVt=dBt,tVt=pBt,nVt=vBt;var i_e={parse:xBt,valid:wBt,clean:CBt,inc:SBt,diff:EBt,major:kBt,minor:_Bt,patch:TBt,prerelease:ABt,compare:jBt,rcompare:IBt,compareLoose:DBt,compareBuild:MBt,sort:RBt,rsort:OBt,gt:$Bt,lt:PBt,eq:FBt,neq:NBt,gte:LBt,lte:BBt,cmp:VBt,coerce:zBt,Comparator:UBt,Range:HBt,satisfies:WBt,toComparators:GBt,maxSatisfying:YBt,minSatisfying:qBt,minVersion:KBt,validRange:ZBt,outside:XBt,gtr:JBt,ltr:QBt,intersects:eVt,simplifyRange:tVt,subset:nVt,SemVer:bBt,re:aP.re,src:aP.src,tokens:aP.t,SEMVER_SPEC_VERSION:Iie.SEMVER_SPEC_VERSION,RELEASE_TYPES:Iie.RELEASE_TYPES,compareIdentifiers:Die.compareIdentifiers,rcompareIdentifiers:Die.rcompareIdentifiers};const rVt=Fe(i_e);function iVt(e){f.useEffect(()=>N8t(e.flush),[e.flush]),f.useEffect(()=>F8t(e.endWithBeacon),[e.endWithBeacon])}const a_e=f.createContext(B8t);function aVt(e){let{children:t,store:n}=e;return iVt(n),u.jsx(a_e.Provider,{value:n.logger,children:t})}function Qo(){return f.useContext(a_e)}var HL={exports:{}},o_e={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(o_e);var Ci=o_e.exports,WL={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r}e.exports=t.default})(WL,WL.exports);var oVt=WL.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(oVt);function i(a){return(0,r.default)({},a)}e.exports=t.default})(HL,HL.exports);var sVt=HL.exports;const s_e=Fe(sVt);var GL={exports:{}},YL={exports:{}},qL={exports:{}},l_e={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(l_e);var u_e=l_e.exports,KL={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(i.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+i.length+" present")}e.exports=t.default})(KL,KL.exports);var es=KL.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(u_e),i=n(es);function a(o){return(0,i.default)(1,arguments),o instanceof Date||(0,r.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}e.exports=t.default})(qL,qL.exports);var lVt=qL.exports,ZL={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(u_e),i=n(es);function a(o){(0,i.default)(1,arguments);var s=Object.prototype.toString.call(o);return o instanceof Date||(0,r.default)(o)==="object"&&s==="[object Date]"?new Date(o.getTime()):typeof o=="number"||s==="[object Number]"?new Date(o):((typeof o=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(ZL,ZL.exports);var nd=ZL.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(lVt),i=n(nd),a=n(es);function o(s){if((0,a.default)(1,arguments),!(0,r.default)(s)&&typeof s!="number")return!1;var l=(0,i.default)(s);return!isNaN(Number(l))}e.exports=t.default})(YL,YL.exports);var uVt=YL.exports,XL={exports:{}},JL={exports:{}},QL={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(QL,QL.exports);var C0=QL.exports;const cVt=Fe(C0);(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(C0),i=n(nd),a=n(es);function o(s,l){(0,a.default)(2,arguments);var c=(0,i.default)(s).getTime(),d=(0,r.default)(l);return new Date(c+d)}e.exports=t.default})(JL,JL.exports);var dVt=JL.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(dVt),i=n(es),a=n(C0);function o(s,l){(0,i.default)(2,arguments);var c=(0,a.default)(l);return(0,r.default)(s,-c)}e.exports=t.default})(XL,XL.exports);var fVt=XL.exports,e8={exports:{}},t8={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(nd),i=n(es),a=864e5;function o(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),c=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=c-d;return Math.floor(h/a)+1}e.exports=t.default})(t8,t8.exports);var hVt=t8.exports,n8={exports:{}},r8={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(nd),i=n(es);function a(o){(0,i.default)(1,arguments);var s=1,l=(0,r.default)(o),c=l.getUTCDay(),d=(c<s?7:0)+c-s;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}e.exports=t.default})(r8,r8.exports);var $H=r8.exports,i8={exports:{}},a8={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(nd),i=n(es),a=n($H);function o(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),c=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(c+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,a.default)(d),p=new Date(0);p.setUTCFullYear(c,0,4),p.setUTCHours(0,0,0,0);var m=(0,a.default)(p);return l.getTime()>=h.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}e.exports=t.default})(a8,a8.exports);var c_e=a8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(c_e),i=n($H),a=n(es);function o(s){(0,a.default)(1,arguments);var l=(0,r.default)(s),c=new Date(0);c.setUTCFullYear(l,0,4),c.setUTCHours(0,0,0,0);var d=(0,i.default)(c);return d}e.exports=t.default})(i8,i8.exports);var pVt=i8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(nd),i=n($H),a=n(pVt),o=n(es),s=6048e5;function l(c){(0,o.default)(1,arguments);var d=(0,r.default)(c),h=(0,i.default)(d).getTime()-(0,a.default)(d).getTime();return Math.round(h/s)+1}e.exports=t.default})(n8,n8.exports);var mVt=n8.exports,o8={exports:{}},s8={exports:{}},S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.getDefaultOptions=gVt;S0.setDefaultOptions=yVt;var d_e={};function gVt(){return d_e}function yVt(e){d_e=e}(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(nd),i=n(es),a=n(C0),o=S0;function s(l,c){var d,h,p,m,g,y,v,b;(0,i.default)(1,arguments);var x=(0,o.getDefaultOptions)(),w=(0,a.default)((d=(h=(p=(m=c==null?void 0:c.weekStartsOn)!==null&&m!==void 0?m:c==null||(g=c.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:x.weekStartsOn)!==null&&h!==void 0?h:(v=x.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=(0,r.default)(l),S=C.getUTCDay(),E=(S<w?7:0)+S-w;return C.setUTCDate(C.getUTCDate()-E),C.setUTCHours(0,0,0,0),C}e.exports=t.default})(s8,s8.exports);var PH=s8.exports,l8={exports:{}},u8={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(nd),i=n(es),a=n(PH),o=n(C0),s=S0;function l(c,d){var h,p,m,g,y,v,b,x;(0,i.default)(1,arguments);var w=(0,r.default)(c),C=w.getUTCFullYear(),S=(0,s.getDefaultOptions)(),E=(0,o.default)((h=(p=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(y=d.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&m!==void 0?m:S.firstWeekContainsDate)!==null&&p!==void 0?p:(b=S.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(C+1,0,E),k.setUTCHours(0,0,0,0);var _=(0,a.default)(k,d),T=new Date(0);T.setUTCFullYear(C,0,E),T.setUTCHours(0,0,0,0);var j=(0,a.default)(T,d);return w.getTime()>=_.getTime()?C+1:w.getTime()>=j.getTime()?C:C-1}e.exports=t.default})(u8,u8.exports);var f_e=u8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(f_e),i=n(es),a=n(PH),o=n(C0),s=S0;function l(c,d){var h,p,m,g,y,v,b,x;(0,i.default)(1,arguments);var w=(0,s.getDefaultOptions)(),C=(0,o.default)((h=(p=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(y=d.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&m!==void 0?m:w.firstWeekContainsDate)!==null&&p!==void 0?p:(b=w.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&h!==void 0?h:1),S=(0,r.default)(c,d),E=new Date(0);E.setUTCFullYear(S,0,C),E.setUTCHours(0,0,0,0);var k=(0,a.default)(E,d);return k}e.exports=t.default})(l8,l8.exports);var vVt=l8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(nd),i=n(PH),a=n(vVt),o=n(es),s=6048e5;function l(c,d){(0,o.default)(1,arguments);var h=(0,r.default)(c),p=(0,i.default)(h,d).getTime()-(0,a.default)(h,d).getTime();return Math.round(p/s)+1}e.exports=t.default})(o8,o8.exports);var bVt=o8.exports,c8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){for(var a=r<0?"-":"",o=Math.abs(r).toString();o.length<i;)o="0"+o;return a+o}e.exports=t.default})(c8,c8.exports);var h_e=c8.exports,d8={exports:{}};(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(h_e),i={y:function(s,l){var c=s.getUTCFullYear(),d=c>0?c:1-c;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(s,l){var c=s.getUTCMonth();return l==="M"?String(c+1):(0,r.default)(c+1,2)},d:function(s,l){return(0,r.default)(s.getUTCDate(),l.length)},a:function(s,l){var c=s.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];case"aaaa":default:return c==="am"?"a.m.":"p.m."}},h:function(s,l){return(0,r.default)(s.getUTCHours()%12||12,l.length)},H:function(s,l){return(0,r.default)(s.getUTCHours(),l.length)},m:function(s,l){return(0,r.default)(s.getUTCMinutes(),l.length)},s:function(s,l){return(0,r.default)(s.getUTCSeconds(),l.length)},S:function(s,l){var c=l.length,d=s.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,c-3));return(0,r.default)(h,l.length)}},a=i;t.default=a,e.exports=t.default})(d8,d8.exports);var xVt=d8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(hVt),i=n(mVt),a=n(c_e),o=n(bVt),s=n(f_e),l=n(h_e),c=n(xVt),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(b,x,w){var C=b.getUTCFullYear()>0?1:0;switch(x){case"G":case"GG":case"GGG":return w.era(C,{width:"abbreviated"});case"GGGGG":return w.era(C,{width:"narrow"});case"GGGG":default:return w.era(C,{width:"wide"})}},y:function(b,x,w){if(x==="yo"){var C=b.getUTCFullYear(),S=C>0?C:1-C;return w.ordinalNumber(S,{unit:"year"})}return c.default.y(b,x)},Y:function(b,x,w,C){var S=(0,s.default)(b,C),E=S>0?S:1-S;if(x==="YY"){var k=E%100;return(0,l.default)(k,2)}return x==="Yo"?w.ordinalNumber(E,{unit:"year"}):(0,l.default)(E,x.length)},R:function(b,x){var w=(0,a.default)(b);return(0,l.default)(w,x.length)},u:function(b,x){var w=b.getUTCFullYear();return(0,l.default)(w,x.length)},Q:function(b,x,w){var C=Math.ceil((b.getUTCMonth()+1)/3);switch(x){case"Q":return String(C);case"QQ":return(0,l.default)(C,2);case"Qo":return w.ordinalNumber(C,{unit:"quarter"});case"QQQ":return w.quarter(C,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(C,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(C,{width:"wide",context:"formatting"})}},q:function(b,x,w){var C=Math.ceil((b.getUTCMonth()+1)/3);switch(x){case"q":return String(C);case"qq":return(0,l.default)(C,2);case"qo":return w.ordinalNumber(C,{unit:"quarter"});case"qqq":return w.quarter(C,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(C,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(C,{width:"wide",context:"standalone"})}},M:function(b,x,w){var C=b.getUTCMonth();switch(x){case"M":case"MM":return c.default.M(b,x);case"Mo":return w.ordinalNumber(C+1,{unit:"month"});case"MMM":return w.month(C,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(C,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(C,{width:"wide",context:"formatting"})}},L:function(b,x,w){var C=b.getUTCMonth();switch(x){case"L":return String(C+1);case"LL":return(0,l.default)(C+1,2);case"Lo":return w.ordinalNumber(C+1,{unit:"month"});case"LLL":return w.month(C,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(C,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(C,{width:"wide",context:"standalone"})}},w:function(b,x,w,C){var S=(0,o.default)(b,C);return x==="wo"?w.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,x.length)},I:function(b,x,w){var C=(0,i.default)(b);return x==="Io"?w.ordinalNumber(C,{unit:"week"}):(0,l.default)(C,x.length)},d:function(b,x,w){return x==="do"?w.ordinalNumber(b.getUTCDate(),{unit:"date"}):c.default.d(b,x)},D:function(b,x,w){var C=(0,r.default)(b);return x==="Do"?w.ordinalNumber(C,{unit:"dayOfYear"}):(0,l.default)(C,x.length)},E:function(b,x,w){var C=b.getUTCDay();switch(x){case"E":case"EE":case"EEE":return w.day(C,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(C,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(C,{width:"short",context:"formatting"});case"EEEE":default:return w.day(C,{width:"wide",context:"formatting"})}},e:function(b,x,w,C){var S=b.getUTCDay(),E=(S-C.weekStartsOn+8)%7||7;switch(x){case"e":return String(E);case"ee":return(0,l.default)(E,2);case"eo":return w.ordinalNumber(E,{unit:"day"});case"eee":return w.day(S,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(S,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(S,{width:"short",context:"formatting"});case"eeee":default:return w.day(S,{width:"wide",context:"formatting"})}},c:function(b,x,w,C){var S=b.getUTCDay(),E=(S-C.weekStartsOn+8)%7||7;switch(x){case"c":return String(E);case"cc":return(0,l.default)(E,x.length);case"co":return w.ordinalNumber(E,{unit:"day"});case"ccc":return w.day(S,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(S,{width:"narrow",context:"standalone"});case"cccccc":return w.day(S,{width:"short",context:"standalone"});case"cccc":default:return w.day(S,{width:"wide",context:"standalone"})}},i:function(b,x,w){var C=b.getUTCDay(),S=C===0?7:C;switch(x){case"i":return String(S);case"ii":return(0,l.default)(S,x.length);case"io":return w.ordinalNumber(S,{unit:"day"});case"iii":return w.day(C,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(C,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(C,{width:"short",context:"formatting"});case"iiii":default:return w.day(C,{width:"wide",context:"formatting"})}},a:function(b,x,w){var C=b.getUTCHours(),S=C/12>=1?"pm":"am";switch(x){case"a":case"aa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},b:function(b,x,w){var C=b.getUTCHours(),S;switch(C===12?S=d.noon:C===0?S=d.midnight:S=C/12>=1?"pm":"am",x){case"b":case"bb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},B:function(b,x,w){var C=b.getUTCHours(),S;switch(C>=17?S=d.evening:C>=12?S=d.afternoon:C>=4?S=d.morning:S=d.night,x){case"B":case"BB":case"BBB":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},h:function(b,x,w){if(x==="ho"){var C=b.getUTCHours()%12;return C===0&&(C=12),w.ordinalNumber(C,{unit:"hour"})}return c.default.h(b,x)},H:function(b,x,w){return x==="Ho"?w.ordinalNumber(b.getUTCHours(),{unit:"hour"}):c.default.H(b,x)},K:function(b,x,w){var C=b.getUTCHours()%12;return x==="Ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,x.length)},k:function(b,x,w){var C=b.getUTCHours();return C===0&&(C=24),x==="ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,x.length)},m:function(b,x,w){return x==="mo"?w.ordinalNumber(b.getUTCMinutes(),{unit:"minute"}):c.default.m(b,x)},s:function(b,x,w){return x==="so"?w.ordinalNumber(b.getUTCSeconds(),{unit:"second"}):c.default.s(b,x)},S:function(b,x){return c.default.S(b,x)},X:function(b,x,w,C){var S=C._originalDate||b,E=S.getTimezoneOffset();if(E===0)return"Z";switch(x){case"X":return m(E);case"XXXX":case"XX":return g(E);case"XXXXX":case"XXX":default:return g(E,":")}},x:function(b,x,w,C){var S=C._originalDate||b,E=S.getTimezoneOffset();switch(x){case"x":return m(E);case"xxxx":case"xx":return g(E);case"xxxxx":case"xxx":default:return g(E,":")}},O:function(b,x,w,C){var S=C._originalDate||b,E=S.getTimezoneOffset();switch(x){case"O":case"OO":case"OOO":return"GMT"+p(E,":");case"OOOO":default:return"GMT"+g(E,":")}},z:function(b,x,w,C){var S=C._originalDate||b,E=S.getTimezoneOffset();switch(x){case"z":case"zz":case"zzz":return"GMT"+p(E,":");case"zzzz":default:return"GMT"+g(E,":")}},t:function(b,x,w,C){var S=C._originalDate||b,E=Math.floor(S.getTime()/1e3);return(0,l.default)(E,x.length)},T:function(b,x,w,C){var S=C._originalDate||b,E=S.getTime();return(0,l.default)(E,x.length)}};function p(v,b){var x=v>0?"-":"+",w=Math.abs(v),C=Math.floor(w/60),S=w%60;if(S===0)return x+String(C);var E=b||"";return x+String(C)+E+(0,l.default)(S,2)}function m(v,b){if(v%60===0){var x=v>0?"-":"+";return x+(0,l.default)(Math.abs(v)/60,2)}return g(v,b)}function g(v,b){var x=b||"",w=v>0?"-":"+",C=Math.abs(v),S=(0,l.default)(Math.floor(C/60),2),E=(0,l.default)(C%60,2);return w+S+x+E}var y=h;t.default=y,e.exports=t.default})(e8,e8.exports);var wVt=e8.exports,f8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},i=function(l,c){var d=l.match(/(P+)(p+)?/)||[],h=d[1],p=d[2];if(!p)return n(l,c);var m;switch(h){case"P":m=c.dateTime({width:"short"});break;case"PP":m=c.dateTime({width:"medium"});break;case"PPP":m=c.dateTime({width:"long"});break;case"PPPP":default:m=c.dateTime({width:"full"});break}return m.replace("{{date}}",n(h,c)).replace("{{time}}",r(p,c))},a={p:r,P:i},o=a;t.default=o,e.exports=t.default})(f8,f8.exports);var CVt=f8.exports,h8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}e.exports=t.default})(h8,h8.exports);var p_e=h8.exports;const Mie=Fe(p_e);var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.isProtectedDayOfYearToken=kVt;ZE.isProtectedWeekYearToken=_Vt;ZE.throwProtectedError=TVt;var SVt=["D","DD"],EVt=["YY","YYYY"];function kVt(e){return SVt.indexOf(e)!==-1}function _Vt(e){return EVt.indexOf(e)!==-1}function TVt(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var p8={exports:{}},m8={exports:{}},g8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(o,s,l){var c,d=n[o];return typeof d=="string"?c=d:s===1?c=d.one:c=d.other.replace("{{count}}",s.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+c:c+" ago":c},i=r;t.default=i,e.exports=t.default})(g8,g8.exports);var AVt=g8.exports,y8={exports:{}},v8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.width?String(i.width):r.defaultWidth,o=r.formats[a]||r.formats[r.defaultWidth];return o}}e.exports=t.default})(v8,v8.exports);var jVt=v8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(jVt),i={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,r.default)({formats:i,defaultWidth:"full"}),time:(0,r.default)({formats:a,defaultWidth:"full"}),dateTime:(0,r.default)({formats:o,defaultWidth:"full"})},l=s;t.default=l,e.exports=t.default})(y8,y8.exports);var IVt=y8.exports,b8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(o,s,l,c){return n[o]},i=r;t.default=i,e.exports=t.default})(b8,b8.exports);var DVt=b8.exports,x8={exports:{}},w8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i,a){var o=a!=null&&a.context?String(a.context):"standalone",s;if(o==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,c=a!=null&&a.width?String(a.width):l;s=r.formattingValues[c]||r.formattingValues[l]}else{var d=r.defaultWidth,h=a!=null&&a.width?String(a.width):r.defaultWidth;s=r.values[h]||r.values[d]}var p=r.argumentCallback?r.argumentCallback(i):i;return s[p]}}e.exports=t.default})(w8,w8.exports);var MVt=w8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(MVt),i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(g,y){var v=Number(g),b=v%100;if(b>20||b<10)switch(b%10){case 1:return v+"st";case 2:return v+"nd";case 3:return v+"rd"}return v+"th"},h={ordinalNumber:d,era:(0,r.default)({values:i,defaultWidth:"wide"}),quarter:(0,r.default)({values:a,defaultWidth:"wide",argumentCallback:function(g){return g-1}}),month:(0,r.default)({values:o,defaultWidth:"wide"}),day:(0,r.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:c,defaultFormattingWidth:"wide"})},p=h;t.default=p,e.exports=t.default})(x8,x8.exports);var RVt=x8.exports,C8={exports:{}},S8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.width,c=l&&a.matchPatterns[l]||a.matchPatterns[a.defaultMatchWidth],d=o.match(c);if(!d)return null;var h=d[0],p=l&&a.parsePatterns[l]||a.parsePatterns[a.defaultParseWidth],m=Array.isArray(p)?i(p,function(v){return v.test(h)}):r(p,function(v){return v.test(h)}),g;g=a.valueCallback?a.valueCallback(m):m,g=s.valueCallback?s.valueCallback(g):g;var y=o.slice(h.length);return{value:g,rest:y}}}function r(a,o){for(var s in a)if(a.hasOwnProperty(s)&&o(a[s]))return s}function i(a,o){for(var s=0;s<a.length;s++)if(o(a[s]))return s}e.exports=t.default})(S8,S8.exports);var OVt=S8.exports,E8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.match(r.matchPattern);if(!o)return null;var s=o[0],l=i.match(r.parsePattern);if(!l)return null;var c=r.valueCallback?r.valueCallback(l[0]):l[0];c=a.valueCallback?a.valueCallback(c):c;var d=i.slice(s.length);return{value:c,rest:d}}}e.exports=t.default})(E8,E8.exports);var $Vt=E8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(OVt),i=n($Vt),a=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},c={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b={ordinalNumber:(0,i.default)({matchPattern:a,parsePattern:o,valueCallback:function(C){return parseInt(C,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:c,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(C){return C+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:g,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},x=b;t.default=x,e.exports=t.default})(C8,C8.exports);var PVt=C8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(AVt),i=n(IVt),a=n(DVt),o=n(RVt),s=n(PVt),l={code:"en-US",formatDistance:r.default,formatLong:i.default,formatRelative:a.default,localize:o.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},c=l;t.default=c,e.exports=t.default})(m8,m8.exports);var FVt=m8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(FVt),i=r.default;t.default=i,e.exports=t.default})(p8,p8.exports);var NVt=p8.exports;(function(e,t){var n=Ci.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=n(uVt),i=n(fVt),a=n(nd),o=n(wVt),s=n(CVt),l=n(p_e),c=ZE,d=n(C0),h=n(es),p=S0,m=n(NVt),g=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,b=/''/g,x=/[a-zA-Z]/;function w(S,E,k){var _,T,j,A,I,M,D,O,R,F,P,V,U,H,W,Z,J,re;(0,h.default)(2,arguments);var G=String(E),te=(0,p.getDefaultOptions)(),X=(_=(T=k==null?void 0:k.locale)!==null&&T!==void 0?T:te.locale)!==null&&_!==void 0?_:m.default,K=(0,d.default)((j=(A=(I=(M=k==null?void 0:k.firstWeekContainsDate)!==null&&M!==void 0?M:k==null||(D=k.locale)===null||D===void 0||(O=D.options)===null||O===void 0?void 0:O.firstWeekContainsDate)!==null&&I!==void 0?I:te.firstWeekContainsDate)!==null&&A!==void 0?A:(R=te.locale)===null||R===void 0||(F=R.options)===null||F===void 0?void 0:F.firstWeekContainsDate)!==null&&j!==void 0?j:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=(0,d.default)((P=(V=(U=(H=k==null?void 0:k.weekStartsOn)!==null&&H!==void 0?H:k==null||(W=k.locale)===null||W===void 0||(Z=W.options)===null||Z===void 0?void 0:Z.weekStartsOn)!==null&&U!==void 0?U:te.weekStartsOn)!==null&&V!==void 0?V:(J=te.locale)===null||J===void 0||(re=J.options)===null||re===void 0?void 0:re.weekStartsOn)!==null&&P!==void 0?P:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!X.localize)throw new RangeError("locale must contain localize property");if(!X.formatLong)throw new RangeError("locale must contain formatLong property");var ee=(0,a.default)(S);if(!(0,r.default)(ee))throw new RangeError("Invalid time value");var se=(0,l.default)(ee),le=(0,i.default)(ee,se),oe={firstWeekContainsDate:K,weekStartsOn:Q,locale:X,_originalDate:ee},ue=G.match(y).map(function(ye){var Ee=ye[0];if(Ee==="p"||Ee==="P"){var ke=s.default[Ee];return ke(ye,X.formatLong)}return ye}).join("").match(g).map(function(ye){if(ye==="''")return"'";var Ee=ye[0];if(Ee==="'")return C(ye);var ke=o.default[Ee];if(ke)return!(k!=null&&k.useAdditionalWeekYearTokens)&&(0,c.isProtectedWeekYearToken)(ye)&&(0,c.throwProtectedError)(ye,E,String(S)),!(k!=null&&k.useAdditionalDayOfYearTokens)&&(0,c.isProtectedDayOfYearToken)(ye)&&(0,c.throwProtectedError)(ye,E,String(S)),ke(le,ye,X.localize,oe);if(Ee.match(x))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ee+"`");return ye}).join("");return ue}function C(S){var E=S.match(v);return E?E[1].replace(b,"'"):S}e.exports=t.default})(GL,GL.exports);var LVt=GL.exports;const BVt=Fe(LVt);var m_e={exports:{}},g_e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=f;function VVt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zVt=typeof Object.is=="function"?Object.is:VVt,UVt=ov.useState,HVt=ov.useEffect,WVt=ov.useLayoutEffect,GVt=ov.useDebugValue;function YVt(e,t){var n=t(),r=UVt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return WVt(function(){i.value=n,i.getSnapshot=t,oP(i)&&a({inst:i})},[e,n,t]),HVt(function(){return oP(i)&&a({inst:i}),e(function(){oP(i)&&a({inst:i})})},[e]),GVt(n),n}function oP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zVt(e,n)}catch{return!0}}function qVt(e,t){return t()}var KVt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qVt:YVt;g_e.useSyncExternalStore=ov.useSyncExternalStore!==void 0?ov.useSyncExternalStore:KVt;m_e.exports=g_e;var ZVt=m_e.exports;let XVt=e=>crypto.getRandomValues(new Uint8Array(e)),JVt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(a=t)=>{let o="";for(;;){let s=n(i),l=i;for(;l--;)if(o+=e[s[l]&r]||"",o.length===a)return o}}},QVt=(e,t=21)=>JVt(e,t,XVt),ezt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var tzt=Math.floor,nzt=Math.random;function rzt(e,t){return e+tzt(nzt()*(t-e+1))}var izt=rzt,azt=izt;function ozt(e){var t=e.length;return t?e[azt(0,t-1)]:void 0}var y_e=ozt,szt=Gu;function lzt(e,t){return szt(t,function(n){return e[n]})}var v_e=lzt,uzt=v_e,czt=Kc;function dzt(e){return e==null?[]:uzt(e,czt(e))}var b_e=dzt;const fzt=Fe(b_e);var hzt=y_e,pzt=b_e;function mzt(e){return hzt(pzt(e))}var gzt=mzt,yzt=y_e,vzt=gzt,bzt=Yi;function xzt(e){var t=bzt(e)?yzt:vzt;return t(e)}var wzt=xzt;const Czt=Fe(wzt);var Szt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=Tzt(r),this._batchScheduleFn=Azt(r),this._cacheKeyFn=jzt(r),this._cacheMap=Izt(r),this._batch=null,this.name=Dzt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var i=kzt(this),a=this._cacheMap,o=this._cacheKeyFn(r);if(a){var s=a.get(o);if(s){var l=i.cacheHits||(i.cacheHits=[]);return new Promise(function(d){l.push(function(){d(s)})})}}i.keys.push(r);var c=new Promise(function(d,h){i.callbacks.push({resolve:d,reject:h})});return a&&a.set(o,c),c},t.loadMany=function(r){if(!x_e(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var i=[],a=0;a<r.length;a++)i.push(this.load(r[a]).catch(function(o){return o}));return Promise.all(i)},t.clear=function(r){var i=this._cacheMap;if(i){var a=this._cacheKeyFn(r);i.delete(a)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,i){var a=this._cacheMap;if(a){var o=this._cacheKeyFn(r);if(a.get(o)===void 0){var s;i instanceof Error?(s=Promise.reject(i),s.catch(function(){})):s=Promise.resolve(i),a.set(o,s)}}return this},e}(),Ezt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){sP||(sP=Promise.resolve()),sP.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},sP;function kzt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){_zt(e,n)}),n}function _zt(e,t){if(t.hasDispatched=!0,t.keys.length===0){k8(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return lP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return lP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!x_e(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));k8(t);for(var i=0;i<t.callbacks.length;i++){var a=r[i];a instanceof Error?t.callbacks[i].reject(a):t.callbacks[i].resolve(a)}}).catch(function(r){lP(e,t,r)})}function lP(e,t,n){k8(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function k8(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function Tzt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function Azt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return Ezt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function jzt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function Izt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],i=r.filter(function(a){return n&&typeof n[a]!="function"});if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return n}function Dzt(e){return e&&e.name?e.name:null}function x_e(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var Mzt=Szt;const w_e=Fe(Mzt);function Rzt(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}var Ozt=Rzt;const Rie=Fe(Ozt);var $zt=Gu;function Pzt(e,t){return $zt(t,function(n){return[n,e[n]]})}var Fzt=Pzt;function Nzt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var Lzt=Nzt,Bzt=Fzt,Vzt=ib,zzt=hxe,Uzt=Lzt,Hzt="[object Map]",Wzt="[object Set]";function Gzt(e){return function(t){var n=Vzt(t);return n==Hzt?zzt(t):n==Wzt?Uzt(t):Bzt(t,e(t))}}var Yzt=Gzt,qzt=Yzt,Kzt=Kc,Zzt=qzt(Kzt),Xzt=Zzt;const Jzt=Fe(Xzt);function ts(){const e=f.useContext(W7);if(!e)throw new Error("Router: missing context value");return e}function Qzt(e){return e.button===0}function eUt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FH(e){const{onClick:t,href:n,target:r,replace:i=!1}=e,{navigateUrl:a}=ts();return{onClick:f.useCallback(o=>{o.isDefaultPrevented()||n&&(t&&t(o),!(eUt(o)||!Qzt(o))&&(r||(o.preventDefault(),a({path:n,replace:i}))))},[n,a,t,i,r])}}function XE(e){const{intent:t,onClick:n,params:r,replace:i,target:a,searchParams:o}=e,{resolveIntentLink:s}=ts(),l=f.useMemo(()=>s(t,r,o),[t,r,o,s]),{onClick:c}=FH({href:l,onClick:n,replace:i,target:a});return{onClick:c,href:l}}const su=f.forwardRef(function(e,t){const{intent:n,params:r,target:i,searchParams:a,...o}=e,{onClick:s,href:l}=XE({intent:n,params:r,target:i,onClick:e.onClick,searchParams:a});return u.jsx("a",{...o,href:l,onClick:s,ref:t,target:i})});f.forwardRef(function(e,t){const{onClick:n,href:r,target:i,replace:a,...o}=e,{onClick:s}=FH({onClick:n,href:r,target:i,replace:a});return u.jsx("a",{...o,onClick:s,href:r,target:i,ref:t})});const tUt=/^[a-zA-Z0-9_-]+$/;function nUt(e){if(!e)return null;if(e.startsWith(":")){const t=e.slice(1);if(!tUt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error(`Warning: Param segments "${e}" includes invalid characters.${n}`))}return{type:"param",name:t}}return{type:"dir",name:e}}function rUt(e){const[t]=e.split("?"),n=t.split("/").map(nUt).filter(Boolean);return{raw:e,segments:n}}function C_e(e){return Array.isArray(e)?e:e?[e]:[]}function Oie(e){return mr(e)}function uP(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function cP(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function S_e(e,t){if(!t)return cP(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...i}=n||{},a=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),o=Oie(i)?Object.keys(i):[],s=MA(o,a),l=Dg(a,s),c=Dg(o,s);if(l.length>0)return uP(e,l,[]);const d=r.map(([y,v])=>[[y],v]),h=Wt(i,s);if(c.length===0)return cP(e,h,d);const p=C_e((typeof e.children=="function"?e.children(Oie(i)?i:{}):e.children)||[]);if(c.length>0&&p.length===0)return uP(e,[],c);const m=Wt(i,c),g=p.map(y=>S_e(y,m)).find(y=>y.type==="ok");return g?cP(e,h,d,g):uP(e,[],c)}function E_e(e,t){const n=[...String(e)];let r="";for(let i=0;i<n.length;i++){const a=n[i];t.includes(a)?r+=a:r+=encodeURIComponent(a)}return r}const _8=gi("state-router");function iUt(e,t){_8("Resolving path from state %o",t);const n=S_e(e,t);if(n.type==="error"){const o=n.unmappableStateKeys;if(o.length>0)throw new Error(`Unable to find matching route for state. Could not map the following state key${o.length==1?"":"s"} to a valid url: ${o.map($ie).join(", ")}`);const s=n.missingKeys;throw new Error(`Unable to find matching route for state. State object is missing the following key${s.length==1?"":"s"} defined in route: ${s.map($ie).join(", ")}`)}const{path:r,searchParams:i}=k_e(n),a=i.length>0?oUt(i):"";return`/${r.join("/")}${a?`?${a}`:""}`}function aUt(e){return`[${e}]`}function oUt(e){return e.flatMap(([t,n])=>n===void 0?[]:[uUt(sUt(t)),lUt(n)].join("=")).join("&")}function sUt(e){const[t,...n]=e;return n.length>0?[t,...n.map(aUt)].join(""):t}function lUt(e){return E_e(e,"/")}function uUt(e){return E_e(e,"[]")}function k_e(e){const t=e.matchedState,n=e.node.route.segments.map(a=>{if(a.type==="dir")return a.name;const o=e.node.transform&&e.node.transform[a.name];return o?o.toPath(t[a.name]):t[a.name]}),r=e.child?k_e(e.child):void 0,i=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:cUt(e.node,i),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function cUt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(([r,i])=>[[n,...r],i]):t}function $ie(e){return`"${e}"`}function dUt(e){return e.map(([t,n])=>[fUt(t),n])}const dP=1,Pie=0;function fUt(e){const t=[];let n=0,r=Pie;for(;n<e.length;){const i=e.indexOf("[",n);if(i===-1){t.push(e.slice(n,e.length));break}if(r===dP)throw new Error("Nested brackets not supported");r=dP,i>n&&(t.push(e.slice(n,i)),n=i);const a=e.indexOf("]",i);if(a===-1){if(r===dP)throw new Error("Unclosed bracket");break}r=Pie,t.push(e.slice(n+1,a)),n=a+1}return t}function __e(e,t,n){const r=t.split("/").filter(Boolean),i=e.route.segments.length;if(r.length<i)return null;const a={};if(!e.route.segments.every((p,m)=>{if(p.type==="dir")return p.name===r[m];const g=e.transform&&e.transform[p.name];return a[p.name]=g?g.toState(r[m]):r[m],!0}))return null;const o=r.slice(i);let s=null;const l=typeof e.children=="function"?C_e(e.children(a)):e.children,c=pUt(e.scope,n);if(l.some(p=>{if(p){const m=p.scope?c.filter(([g])=>p.scope===g[0]):c;return s=__e(p,o.join("/"),m),s}}),o.length>0&&!s)return null;const d=c.flatMap(([p,m])=>p.length===1?[[p[0],m]]:[]),h={...a,...s||{},...d.length>0?{_searchParams:d}:{}};return e.scope?{[e.scope]:h}:h}function hUt(e,t){_8("resolving state from path %s",t);const[n,r]=t.split("?"),i=Array.from(new URLSearchParams(r).entries()),a=__e(e,n,dUt(i));return _8("resolved: %o",a||null),a||null}function pUt(e,t){return e?t.map(([n,r])=>[n[0]===e?n.slice(1):n,r]):t}function mUt(e){return vUt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function gUt(e){return xUt(e.replace(/-/g,"+").replace(/_/g,"/"))}function yUt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function vUt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,yUt))}function bUt(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function xUt(e){return decodeURIComponent(Array.from(atob(e),bUt).join(""))}function T_e(e=""){const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(gUt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function A_e(e){return e?mUt(JSON.stringify(e)):""}function wUt(e){return e.split(";").reduce((t,n)=>{const[r,i]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(i),t},{})}function CUt(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${encodeURIComponent(t)}=${encodeURIComponent(n)}`).join(";")}const ga={create:(e,t,n)=>Bie(Nie(e,t,n)),intents:e=>{const t=EUt(e).join("/");return ga.create(`${t}/:intent`,[ga.create(":params",{transform:{params:{toState:wUt,toPath:CUt}}},[ga.create(":payload",{transform:{payload:{toState:T_e,toPath:A_e}}})])])},scope(e,t,n,r){const i=Nie(t,n,r);return Bie({...i,scope:e})}};function Fie(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function SUt(e){return e&&"_isRoute"in e}function Nie(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||SUt(t)?{path:e,children:Fie(t)}:n?{path:e,...t,children:Fie(n)}:{path:e,...t}}function EUt(...e){return e.reduce((t,n)=>t.concat(n.split("/")),[]).filter(Boolean)}const kUt={};function Lie(e){return e.split("/").every(t=>!t)}function Bie(e){const{path:t,scope:n,transform:r,children:i,__unsafe_disableScopedSearchParams:a}=e;if(!t)throw new TypeError("Missing path");const o=rUt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:a,route:o,children:i||[],transform:r,encode(s){return iUt(this,s)},decode(s){return hUt(this,s)},isRoot:Lie,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(kUt)},getRedirectBase(s){if(Lie(s)){const l=this.getBasePath();if(s!==l)return l}return null}}}const s5=[];function _Ut(e){const{onNavigate:t,router:n,state:r}=e,i=f.useCallback((p,m,g)=>{const[y,v]=Array.isArray(m)?m:[m];return n.encode({intent:p,params:y,payload:v,_searchParams:Jzt({...Rie((r._searchParams??[]).filter(([b])=>s5.includes(b))),...Rie(g??[])})})},[n,r._searchParams]),a=f.useCallback(p=>{const m=r._searchParams||[],g=p._searchParams||[],y=s5.reduce((v,b)=>TUt(v,b,Vie(g,b)??Vie(m,b)),g||[]);return n.encode({...p,_searchParams:y})},[n,r]),o=f.useCallback((p,m,g={})=>{if(!s5.includes(p))throw new Error("Parameter is not sticky");t({path:a({...r,_searchParams:[[p,m||""]]}),replace:g.replace})},[t,a,r]),s=f.useCallback((p,m={})=>{t({path:a(p),replace:m.replace})},[t,a]),l=f.useCallback((p,m,g={})=>{t({path:i(p,m),replace:g.replace})},[t,i]),[c,d]=f.useMemo(()=>{if(!r._searchParams)return[r,null];const{_searchParams:p,...m}=r,[g,y]=oM(p,([v])=>s5.includes(v));return g.length===0?[r,null]:[{...m,_searchParams:y},g]},[r]),h=f.useMemo(()=>({navigate:s,navigateIntent:l,navigateStickyParam:o,navigateUrl:t,resolveIntentLink:i,resolvePathFromState:a,state:c,stickyParams:Object.fromEntries(d||[])}),[o,s,l,t,i,a,c,d]);return u.jsx(W7.Provider,{value:h,children:e.children})}function TUt(e,t,n){const r=e.filter(([i])=>i!==t);return n===void 0||n==""?r:[...r,[t,n]]}function Vie(e,t){const n=e.find(([r])=>r===t);return n?n[1]:void 0}function AUt(e,t,n){return n&&{...e,[t]:n}}function jUt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,i=ts(),{resolvePathFromState:a,navigate:o}=i,s=f.useRef(i.state);s.current=i.state;const l=f.useCallback(p=>{const{_searchParams:m,...g}=p,y=AUt(s.current,n,g);return r?y._searchParams=m:y[n]._searchParams=m,y},[n,r]),c=f.useCallback(p=>a(l(p)),[a,l]),d=f.useCallback((p,m)=>o(l(p),m),[o,l]),h=f.useMemo(()=>{const p=i.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...i,navigate:d,resolvePathFromState:c,state:m}},[n,i,d,c,r]);return u.jsx(W7.Provider,{value:h,children:t})}const zie={};function NH(e){const{onClick:t,replace:n,state:r,target:i,toIndex:a=!1}=e;if(r&&a)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!a&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:o}=ts(),s=f.useMemo(()=>o(a?zie:r||zie),[o,r,a]),{onClick:l}=FH({href:s,onClick:t,replace:n,target:i});return{onClick:l,href:s}}const GM=f.forwardRef(function(e,t){const{onClick:n,replace:r,state:i,target:a,toIndex:o=!1,...s}=e,{onClick:l,href:c}=NH({onClick:n,replace:r,state:i,target:a,toIndex:o});return u.jsx("a",{...s,href:c,onClick:l,ref:t})});function JE(e=jxe){const{state:t}=ts();return f.useMemo(()=>e(t),[e,t])}function IUt(e){function t(n){const r=ts();return u.jsx(e,{...n,router:r})}return t.displayName=`withRouter(${e.displayName||e.name})`,t}IUt(e=>e.children(e.router));function tC(e,t,n){return Math.min(Math.max(e,n),t)}class DUt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var fw=DUt;function j_e(e){if(typeof e!="string")throw new fw(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=LUt.test(e)?OUt(e):e;const n=$Ut.exec(t);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(s=>parseInt(dS(s,2),16)),parseInt(dS(o[3]||"f",2),16)/255]}const r=PUt.exec(t);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(s=>parseInt(s,16)),parseInt(o[3]||"ff",16)/255]}const i=FUt.exec(t);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(s=>parseInt(s,10)),parseFloat(o[3]||"1")]}const a=NUt.exec(t);if(a){const[o,s,l,c]=Array.from(a).slice(1).map(parseFloat);if(tC(0,100,s)!==s)throw new fw(e);if(tC(0,100,l)!==l)throw new fw(e);return[...BUt(o,s,l),Number.isNaN(c)?1:c]}throw new fw(e)}function MUt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const Uie=e=>parseInt(e.replace(/_/g,""),36),RUt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=Uie(t.substring(0,3)),r=Uie(t.substring(3)).toString(16);let i="";for(let a=0;a<6-r.length;a++)i+="0";return e[n]=`${i}${r}`,e},{});function OUt(e){const t=e.toLowerCase().trim(),n=RUt[MUt(t)];if(!n)throw new fw(e);return`#${n}`}const dS=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),$Ut=new RegExp(`^#${dS("([a-f0-9])",3)}([a-f0-9])?$`,"i"),PUt=new RegExp(`^#${dS("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),FUt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${dS(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),NUt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,LUt=/^[a-z]+$/i,Hie=e=>Math.round(e*255),BUt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(Hie);const i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*(t/100),o=a*(1-Math.abs(i%2-1));let s=0,l=0,c=0;i>=0&&i<1?(s=a,l=o):i>=1&&i<2?(s=o,l=a):i>=2&&i<3?(l=a,c=o):i>=3&&i<4?(l=o,c=a):i>=4&&i<5?(s=o,c=a):i>=5&&i<6&&(s=a,c=o);const d=r-a/2,h=s+d,p=l+d,m=c+d;return[h,p,m].map(Hie)};function VUt(e){const[t,n,r,i]=j_e(e).map((h,p)=>p===3?h:h/255),a=Math.max(t,n,r),o=Math.min(t,n,r),s=(a+o)/2;if(a===o)return[0,0,s,i];const l=a-o,c=s>.5?l/(2-a-o):l/(a+o);return[60*(t===a?(n-r)/l+(n<r?6:0):n===a?(r-t)/l+2:(t-n)/l+4),c,s,i]}function zUt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${tC(0,100,t*100).toFixed()}%, ${tC(0,100,n*100).toFixed()}%, ${parseFloat(tC(0,1,r).toFixed(3))})`}function I_e(e,t){const[n,r,i,a]=VUt(e);return zUt(n,r,i-t,a)}function T8(e){if(e==="transparent")return 0;function t(a){const o=a/255;return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}const[n,r,i]=j_e(e);return .2126*t(n)+.7152*t(r)+.0722*t(i)}function UUt(e,t){const n=T8(e),r=T8(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const HUt={decorative:1.5,readable:3,aa:4.5,aaa:7};function Wie(e,t="aa",n="#fff"){return UUt(e,n)<HUt[t]}function WUt(e,t){return I_e(e,-t)}function GUt(e){return T8(e)>.179}function YUt(e){return GUt(e)?"#000":"#fff"}var qUt=LH;LH.displayName="bash";LH.aliases=["shell"];function LH(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var a=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,s=0;s<a.length;s++)o[a[s]]=t.languages.bash[a[s]];t.languages.shell=t.languages.bash})(e)}const KUt=Fe(qUt);var ZUt=BH;BH.displayName="json";BH.aliases=["webmanifest"];function BH(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const XUt=Fe(ZUt);var JUt=VH;VH.displayName="jsx";VH.aliases=[];function VH(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,a=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(c,d){return c=c.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return a}),RegExp(c,d)}a=o(a).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var s=function(c){return c?typeof c=="string"?c:typeof c.content=="string"?c.content:c.content.map(s).join(""):""},l=function(c){for(var d=[],h=0;h<c.length;h++){var p=c[h],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===s(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:s(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var g=s(p);h<c.length-1&&(typeof c[h+1]=="string"||c[h+1].type==="plain-text")&&(g+=s(c[h+1]),c.splice(h+1,1)),h>0&&(typeof c[h-1]=="string"||c[h-1].type==="plain-text")&&(g=s(c[h-1])+g,c.splice(h-1,1),h--),c[h]=new t.Token("plain-text",g,null,g)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(c){c.language!=="jsx"&&c.language!=="tsx"||l(c.tokens)})})(e)}const QUt=Fe(JUt);var eHt=zH;zH.displayName="typescript";zH.aliases=["ts"];function zH(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const tHt=Fe(eHt),D_e=Object.prototype.toString;function UH(e){switch(D_e.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Vg(e,Error)}}function xb(e,t){return D_e.call(e)===`[object ${t}]`}function M_e(e){return xb(e,"ErrorEvent")}function Gie(e){return xb(e,"DOMError")}function nHt(e){return xb(e,"DOMException")}function ef(e){return xb(e,"String")}function HH(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function WH(e){return e===null||HH(e)||typeof e!="object"&&typeof e!="function"}function sv(e){return xb(e,"Object")}function YM(e){return typeof Event<"u"&&Vg(e,Event)}function rHt(e){return typeof Element<"u"&&Vg(e,Element)}function iHt(e){return xb(e,"RegExp")}function qM(e){return!!(e&&e.then&&typeof e.then=="function")}function aHt(e){return sv(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Vg(e,t){try{return e instanceof t}catch{return!1}}function R_e(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function vy(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Yie(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{R_e(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function oHt(e,t,n=!1){return ef(e)?iHt(t)?t.test(e):ef(t)?n?e===t:e.includes(t):!1:!1}function KM(e,t=[],n=!1){return t.some(r=>oHt(e,r,n))}function sHt(e,t,n=250,r,i,a,o){if(!a.exception||!a.exception.values||!o||!Vg(o.originalException,Error))return;const s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=lHt(A8(e,t,i,o.originalException,r,a.exception.values,s,0),n))}function A8(e,t,n,r,i,a,o,s){if(a.length>=n+1)return a;let l=[...a];if(Vg(r[i],Error)){qie(o,s);const c=e(t,r[i]),d=l.length;Kie(c,i,d,s),l=A8(e,t,n,r[i],i,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(Vg(c,Error)){qie(o,s);const h=e(t,c),p=l.length;Kie(h,`errors[${d}]`,p,s),l=A8(e,t,n,c,i,[h,...l],h,p)}}),l}function qie(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Kie(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function lHt(e,t){return e.map(n=>(n.value&&(n.value=vy(n.value,t)),n))}const sg="8.28.0",Kn=globalThis;function GH(e,t,n){const r=n||Kn,i=r.__SENTRY__=r.__SENTRY__||{},a=i[sg]=i[sg]||{};return a[e]||(a[e]=t())}const YH=Kn,uHt=80;function O_e(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let a=0,o=0;const s=" > ",l=s.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||uHt;for(;n&&a++<r&&(c=cHt(n,d),!(c==="html"||a>1&&o+i.length*l+c.length>=h));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function cHt(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(YH.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ef(o)){const s=o.split(/\s+/);for(const l of s)r.push(`.${l}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const s=n.getAttribute(o);s&&r.push(`[${o}="${s}"]`)}return r.join("")}function dHt(){try{return YH.document.location.href}catch{return""}}function fHt(e){if(!YH.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const QE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,hHt="Sentry Logger ",j8=["debug","info","warn","error","log","assert","trace"],cj={};function ek(e){if(!("console"in Kn))return e();const t=Kn.console,n={},r=Object.keys(cj);r.forEach(i=>{const a=cj[i];n[i]=t[i],t[i]=a});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function pHt(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return QE?j8.forEach(n=>{t[n]=(...r)=>{e&&ek(()=>{Kn.console[n](`${hHt}[${n}]:`,...r)})}}):j8.forEach(n=>{t[n]=()=>{}}),t}const zt=pHt(),mHt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gHt(e){return e==="http"||e==="https"}function ZM(e,t=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${o}`}function yHt(e){const t=mHt.exec(e);if(!t){ek(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",a="",o="",s=""]=t.slice(1);let l="",c=s;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const h=c.match(/^\d+/);h&&(c=h[0])}return $_e({host:a,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function $_e(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function vHt(e){if(!QE)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(zt.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?gHt(r)?t&&isNaN(parseInt(t,10))?(zt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(zt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(zt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function bHt(e){const t=typeof e=="string"?yHt(e):$_e(e);if(!(!t||!vHt(t)))return t}class Ec extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Ws(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&P_e(i,r),e[t]=i}function zg(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{QE&&zt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function P_e(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,zg(e,"__sentry_original__",t)}catch{}}function qH(e){return e.__sentry_original__}function xHt(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function F_e(e){if(UH(e))return{message:e.message,name:e.name,stack:e.stack,...Xie(e)};if(YM(e)){const t={type:e.type,target:Zie(e.target),currentTarget:Zie(e.currentTarget),...Xie(e)};return typeof CustomEvent<"u"&&Vg(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Zie(e){try{return rHt(e)?O_e(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Xie(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function wHt(e,t=40){const n=Object.keys(F_e(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return vy(r,t);for(let i=n.length;i>0;i--){const a=n.slice(0,i).join(", ");if(!(a.length>t))return i===n.length?a:vy(a,t)}return""}function Ol(e){return I8(e,new Map)}function I8(e,t){if(CHt(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=I8(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(I8(i,t))}),r}return e}function CHt(e){if(!sv(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const N_e=50,Ug="?",Jie=/\(error: (.*)\)/,Qie=/captureMessage|captureException/;function L_e(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const a=[],o=n.split(`
`);for(let s=r;s<o.length;s++){const l=o[s];if(l.length>1024)continue;const c=Jie.test(l)?l.replace(Jie,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const h=d(c);if(h){a.push(h);break}}if(a.length>=N_e+i)break}}return EHt(a.slice(i))}}function SHt(e){return Array.isArray(e)?L_e(...e):e}function EHt(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(l5(t).function||"")&&t.pop(),t.reverse(),Qie.test(l5(t).function||"")&&(t.pop(),Qie.test(l5(t).function||"")&&t.pop()),t.slice(0,N_e).map(n=>({...n,filename:n.filename||l5(t).filename,function:n.function||Ug}))}function l5(e){return e[e.length-1]||{}}const fP="<anonymous>";function Cp(e){try{return!e||typeof e!="function"?fP:e.name||fP}catch{return fP}}function eae(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const N_={},tae={};function E0(e,t){N_[e]=N_[e]||[],N_[e].push(t)}function k0(e,t){tae[e]||(t(),tae[e]=!0)}function Mu(e,t){const n=e&&N_[e];if(n)for(const r of n)try{r(t)}catch(i){QE&&zt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Cp(r)}
Error:`,i)}}function kHt(e){const t="console";E0(t,e),k0(t,_Ht)}function _Ht(){"console"in Kn&&j8.forEach(function(e){e in Kn.console&&Ws(Kn.console,e,function(t){return cj[e]=t,function(...n){Mu("console",{args:n,level:e});const i=cj[e];i&&i.apply(Kn.console,n)}})})}const D8=Kn;function B_e(){if(!("fetch"in D8))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function M8(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function THt(){if(typeof EdgeRuntime=="string")return!0;if(!B_e())return!1;if(M8(D8.fetch))return!0;let e=!1;const t=D8.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=M8(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){QE&&zt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const V_e=1e3;function tk(){return Date.now()/V_e}function AHt(){const{performance:e}=Kn;if(!e||!e.now)return tk;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/V_e}const tf=AHt();(()=>{const{performance:e}=Kn;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return a||c?i<=l?e.timeOrigin:o:r})();function jHt(e,t){const n="fetch";E0(n,e),k0(n,()=>IHt(void 0,t))}function IHt(e,t=!1){t&&!THt()||Ws(Kn,"fetch",function(n){return function(...r){const{method:i,url:a}=DHt(r),o={args:r,fetchData:{method:i,url:a},startTimestamp:tf()*1e3};e||Mu("fetch",{...o});const s=new Error().stack;return n.apply(Kn,r).then(async l=>(e?e(l):Mu("fetch",{...o,endTimestamp:tf()*1e3,response:l}),l),l=>{throw Mu("fetch",{...o,endTimestamp:tf()*1e3,error:l}),UH(l)&&l.stack===void 0&&(l.stack=s,zg(l,"framesToPop",1)),l})}})}function R8(e,t){return!!e&&typeof e=="object"&&!!e[t]}function nae(e){return typeof e=="string"?e:e?R8(e,"url")?e.url:e.toString?e.toString():"":""}function DHt(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:nae(n),method:R8(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:nae(t),method:R8(t,"method")?String(t.method).toUpperCase():"GET"}}let u5=null;function MHt(e){const t="error";E0(t,e),k0(t,RHt)}function RHt(){u5=Kn.onerror,Kn.onerror=function(e,t,n,r,i){return Mu("error",{column:r,error:i,line:n,msg:e,url:t}),u5&&!u5.__SENTRY_LOADER__?u5.apply(this,arguments):!1},Kn.onerror.__SENTRY_INSTRUMENTED__=!0}let c5=null;function OHt(e){const t="unhandledrejection";E0(t,e),k0(t,$Ht)}function $Ht(){c5=Kn.onunhandledrejection,Kn.onunhandledrejection=function(e){return Mu("unhandledrejection",e),c5&&!c5.__SENTRY_LOADER__?c5.apply(this,arguments):!0},Kn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function PHt(){return"npm"}function FHt(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let a=0;a<t.length;a++)if(t[a]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[n,r]}function Ul(){const e=Kn,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function z_e(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function vh(e){const{message:t,event_id:n}=e;if(t)return t;const r=z_e(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function O8(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function fS(e,t){const n=z_e(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const a={...i&&i.data,...t.data};n.mechanism.data=a}}function rae(e){if(e&&e.__sentry_captured__)return!0;try{zg(e,"__sentry_captured__",!0)}catch{}return!1}function U_e(e){return Array.isArray(e)?e:[e]}function bh(e,t=100,n=1/0){try{return $8("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function H_e(e,t=3,n=100*1024){const r=bh(e,t);return VHt(r)>n?H_e(e,t-1,n):r}function $8(e,t,n=1/0,r=1/0,i=FHt()){const[a,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const s=NHt(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return s.replace("object ","");if(a(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const m=c.toJSON();return $8("",m,l-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=F_e(t);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const g=p[m];d[m]=$8(m,g,l-1,r,i),h++}return o(t),d}function NHt(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(R_e(t))return"[VueViewModel]";if(aHt(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Cp(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=LHt(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function LHt(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function BHt(e){return~-encodeURI(e).split(/%..|./).length}function VHt(e){return BHt(JSON.stringify(e))}var _d;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(_d||(_d={}));function Hg(e){return new _l(t=>{t(e)})}function dj(e){return new _l((t,n)=>{n(e)})}class _l{constructor(t){_l.prototype.__init.call(this),_l.prototype.__init2.call(this),_l.prototype.__init3.call(this),_l.prototype.__init4.call(this),this._state=_d.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new _l((r,i)=>{this._handlers.push([!1,a=>{if(!t)r(a);else try{r(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{r(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new _l((n,r)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(_d.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(_d.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===_d.PENDING){if(qM(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===_d.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===_d.RESOLVED&&n[1](this._value),this._state===_d.REJECTED&&n[2](this._value),n[0]=!0)})}}}function zHt(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return dj(new Ec("Not adding Promise because buffer limit was reached."));const s=o();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s}function a(o){return new _l((s,l)=>{let c=t.length;if(!c)return s(!0);const d=setTimeout(()=>{o&&o>0&&s(!1)},o);t.forEach(h=>{Hg(h).then(()=>{--c||(clearTimeout(d),s(!0))},l)})})}return{$:t,add:i,drain:a}}function hP(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const UHt=["fatal","error","warning","log","info","debug"];function HHt(e){return e==="warn"?"warning":UHt.includes(e)?e:"log"}const WHt="sentry-",GHt=/^sentry-/;function YHt(e){const t=qHt(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,a])=>{if(i.match(GHt)){const o=i.slice(WHt.length);r[o]=a}return r},{});if(Object.keys(n).length>0)return n}function qHt(e){if(!(!e||!ef(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=iae(n);return Object.entries(r).forEach(([i,a])=>{t[i]=a}),t},{}):iae(e)}function iae(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function nk(e,t=[]){return[e,t]}function KHt(e,t){const[n,r]=e;return[n,[...r,t]]}function aae(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function P8(e){return Kn.__SENTRY__&&Kn.__SENTRY__.encodePolyfill?Kn.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function ZHt(e){const[t,n]=e;let r=JSON.stringify(t);function i(a){typeof r=="string"?r=typeof a=="string"?r+a:[P8(r),a]:r.push(typeof a=="string"?P8(a):a)}for(const a of n){const[o,s]=a;if(i(`
${JSON.stringify(o)}
`),typeof s=="string"||s instanceof Uint8Array)i(s);else{let l;try{l=JSON.stringify(s)}catch{l=JSON.stringify(bh(s))}i(l)}}return typeof r=="string"?r:XHt(r)}function XHt(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function JHt(e){const t=typeof e.data=="string"?P8(e.data):e.data;return[Ol({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const QHt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function oae(e){return QHt[e]}function W_e(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function eWt(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ZM(r)},...i&&{trace:Ol({...i})}}}function tWt(e,t,n){const r=[{type:"client_report"},{timestamp:n||tk(),discarded_events:e}];return nk(t?{dsn:t}:{},[r])}const nWt=60*1e3;function rWt(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?nWt:r-t}function iWt(e,t){return e[t]||e.all||0}function aWt(e,t,n=Date.now()){return iWt(e,t)>n}function oWt(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(const s of a.trim().split(",")){const[l,c,,,d]=s.split(":",5),h=parseInt(l,10),p=(isNaN(h)?60:h)*1e3;if(!c)i.all=r+p;else for(const m of c.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[m]=r+p):i[m]=r+p}else o?i.all=r+rWt(o,r):t===429&&(i.all=r+60*1e3);return i}function sae(){return{traceId:Ul(),spanId:Ul().substring(16)}}const d5=Kn;function sWt(){const e=d5.chrome,t=e&&e.app&&e.app.runtime,n="history"in d5&&!!d5.history.pushState&&!!d5.history.replaceState;return!t&&n}const xr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function XM(){return KH(Kn),Kn}function KH(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||sg,t[sg]=t[sg]||{}}function lWt(e){const t=tf(),n={sid:Ul(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>cWt(n)};return e&&lv(n,e),n}function lv(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||tf(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ul()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function uWt(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),lv(e,n)}function cWt(e){return Ol({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const F8="_sentrySpan";function lae(e,t){t?zg(e,F8,t):delete e[F8]}function uae(e){return e[F8]}const dWt=100;class ZH{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=sae()}clone(){const t=new ZH;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,lae(t,uae(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&lv(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof vf?[n.getScopeData(),n.getRequestSession()]:sv(n)?[t,t.requestSession]:[],{tags:a,extra:o,user:s,contexts:l,level:c,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,lae(this,void 0),this._attachments=[],this._propagationContext=sae(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:dWt;if(r<=0)return this;const i={timestamp:tk(),...t},a=this._breadcrumbs;return a.push(i),this._breadcrumbs=a.length>r?a.slice(-r):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:uae(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ul();if(!this._client)return zt.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Ul();if(!this._client)return zt.warn("No client configured on scope - will not capture message!"),i;const a=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ul();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(zt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const vf=ZH;function fWt(){return GH("defaultCurrentScope",()=>new vf)}function hWt(){return GH("defaultIsolationScope",()=>new vf)}class pWt{constructor(t,n){let r;t?r=t:r=new vf;let i;n?i=n:i=new vf,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return qM(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function uv(){const e=XM(),t=KH(e);return t.stack=t.stack||new pWt(fWt(),hWt())}function mWt(e){return uv().withScope(e)}function gWt(e,t){const n=uv();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function cae(e){return uv().withScope(()=>e(uv().getIsolationScope()))}function yWt(){return{withIsolationScope:cae,withScope:mWt,withSetScope:gWt,withSetIsolationScope:(e,t)=>cae(t),getCurrentScope:()=>uv().getScope(),getIsolationScope:()=>uv().getIsolationScope()}}function XH(e){const t=KH(e);return t.acs?t.acs:yWt()}function Hc(){const e=XM();return XH(e).getCurrentScope()}function wb(){const e=XM();return XH(e).getIsolationScope()}function vWt(){return GH("globalScope",()=>new vf)}function G_e(...e){const t=XM(),n=XH(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Ea(){return Hc().getClient()}const bWt="_sentryMetrics";function xWt(e){const t=e[bWt];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Ol(i));return n}const wWt="sentry.source",CWt="sentry.sample_rate",SWt="sentry.op",EWt="sentry.origin",kWt=0,_Wt=1,TWt=1;function AWt(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=fj(e);return Ol({parent_span_id:r,span_id:t,trace_id:n})}function dae(e){return typeof e=="number"?fae(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?fae(e.getTime()):tf()}function fae(e){return e>9999999999?e/1e3:e}function fj(e){if(IWt(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(jWt(e)){const{attributes:r,startTime:i,name:a,endTime:o,parentSpanId:s,status:l}=e;return Ol({span_id:t,trace_id:n,data:r,description:a,parent_span_id:s,start_timestamp:dae(i),timestamp:dae(o)||void 0,status:MWt(l),op:r[SWt],origin:r[EWt],_metrics_summary:xWt(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function jWt(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function IWt(e){return typeof e.getSpanJSON=="function"}function DWt(e){const{traceFlags:t}=e.spanContext();return t===TWt}function MWt(e){if(!(!e||e.code===kWt))return e.code===_Wt?"ok":e.message||"unknown_error"}const RWt="_sentryRootSpan";function Y_e(e){return e[RWt]||e}const JH="production",OWt="_frozenDsc";function q_e(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Ol({environment:n.environment||JH,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function $Wt(e){const t=Ea();if(!t)return{};const n=q_e(fj(e).trace_id||"",t),r=Y_e(e),i=r[OWt];if(i)return i;const a=r.spanContext().traceState,o=a&&a.get("sentry.dsc"),s=o&&YHt(o);if(s)return s;const l=fj(r),c=l.data||{},d=c[CWt];d!=null&&(n.sample_rate=`${d}`);const h=c[wWt],p=l.description;return h!=="url"&&p&&(n.transaction=p),n.sampled=String(DWt(r)),t.emit("createDsc",n,r),n}function PWt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){xr&&zt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function FWt(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function NWt(e,t,n,r){const i=W_e(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:ZM(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return nk(a,[o])}function LWt(e,t,n,r){const i=W_e(n),a=e.type&&e.type!=="replay_event"?e.type:"event";FWt(e,n&&n.sdk);const o=eWt(e,i,r,t);return delete e.sdkProcessingMetadata,nk(o,[[{type:a},e]])}function N8(e,t,n,r=0){return new _l((i,a)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const s=o({...t},n);xr&&o.id&&s===null&&zt.log(`Event processor "${o.id}" dropped event`),qM(s)?s.then(l=>N8(e,l,n,r+1).then(i)).then(null,a):N8(e,s,n,r+1).then(i).then(null,a)}})}function BWt(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:a}=t;VWt(e,t),r&&HWt(e,r),WWt(e,n),zWt(e,i),UWt(e,a)}function hae(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:p,transactionName:m,span:g}=t;Rx(e,"extra",n),Rx(e,"tags",r),Rx(e,"user",i),Rx(e,"contexts",a),Rx(e,"sdkProcessingMetadata",s),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function Rx(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function VWt(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:s}=t,l=Ol(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Ol(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=Ol(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const h=Ol(a);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),o&&(e.level=o),s&&e.type!=="transaction"&&(e.transaction=s)}function zWt(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function UWt(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function HWt(e,t){e.contexts={trace:AWt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:$Wt(t),...e.sdkProcessingMetadata};const n=Y_e(t),r=fj(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function WWt(e,t){e.fingerprint=e.fingerprint?U_e(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function GWt(e,t,n,r,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Ul(),timestamp:t.timestamp||tk()},c=n.integrations||e.integrations.map(v=>v.name);YWt(l,e),ZWt(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&qWt(l,e.stackParser);const d=JWt(r,n.captureContext);n.mechanism&&fS(l,n.mechanism);const h=i?i.getEventProcessors():[],p=vWt().getScopeData();if(a){const v=a.getScopeData();hae(p,v)}if(d){const v=d.getScopeData();hae(p,v)}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),BWt(l,p);const g=[...h,...p.eventProcessors];return N8(g,l,n).then(v=>(v&&KWt(v),typeof o=="number"&&o>0?XWt(v,o,s):v))}function YWt(e,t){const{environment:n,release:r,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:JH),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=vy(e.message,a));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=vy(o.value,a));const s=e.request;s&&s.url&&(s.url=vy(s.url,a))}const pae=new WeakMap;function qWt(e,t){const n=Kn._sentryDebugIds;if(!n)return;let r;const i=pae.get(t);i?r=i:(r=new Map,pae.set(t,r));const a=Object.entries(n).reduce((o,[s,l])=>{let c;const d=r.get(s);d?c=d:(c=t(s),r.set(s,c));for(let h=c.length-1;h>=0;h--){const p=c[h];if(p.filename){o[p.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(s=>{s.filename&&(s.debug_id=a[s.filename])})})}catch{}}function KWt(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function ZWt(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function XWt(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:bh(i.data,t,n)}}))},...e.user&&{user:bh(e.user,t,n)},...e.contexts&&{contexts:bh(e.contexts,t,n)},...e.extra&&{extra:bh(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=bh(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:bh(i.data,t,n)}}))),r}function JWt(e,t){if(!t)return e;const n=e?e.clone():new vf;return n.update(t),n}function QWt(e){if(e)return eGt(e)?{captureContext:e}:nGt(e)?{captureContext:e}:e}function eGt(e){return e instanceof vf||typeof e=="function"}const tGt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function nGt(e){return Object.keys(e).some(t=>tGt.includes(t))}function K_e(e,t){return Hc().captureException(e,QWt(t))}function Z_e(e,t){return Hc().captureEvent(e,t)}function rGt(e,t){wb().setContext(e,t)}function iGt(){return!!Ea()}function mae(e){const t=Ea(),n=wb(),r=Hc(),{release:i,environment:a=JH}=t&&t.getOptions()||{},{userAgent:o}=Kn.navigator||{},s=lWt({release:i,environment:a,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&lv(l,{status:"exited"}),X_e(),n.setSession(s),r.setSession(s),s}function X_e(){const e=wb(),t=Hc(),n=t.getSession()||e.getSession();n&&uWt(n),J_e(),e.setSession(),t.setSession()}function J_e(){const e=wb(),t=Hc(),n=Ea(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function gae(e=!1){if(e){X_e();return}J_e()}const aGt="7";function oGt(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function sGt(e){return`${oGt(e)}${e.projectId}/envelope/`}function lGt(e,t){return xHt({sentry_key:e.publicKey,sentry_version:aGt,...t&&{sentry_client:`${t.name}/${t.version}`}})}function uGt(e,t,n){return t||`${sGt(e)}?${lGt(e,n)}`}const yae=[];function cGt(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function dGt(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=U_e(n(t)):r=t;const i=cGt(r),a=i.findIndex(o=>o.name==="Debug");if(a>-1){const[o]=i.splice(a,1);i.push(o)}return i}function fGt(e,t){const n={};return t.forEach(r=>{r&&Q_e(e,r,n)}),n}function vae(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Q_e(e,t,n){if(n[t.name]){xr&&zt.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,yae.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),yae.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>r(i,a,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((a,o)=>r(a,o,e),{id:t.name});e.addEventProcessor(i)}xr&&zt.log(`Integration installed: ${t.name}`)}const bae="Not capturing exception because it's already been captured.";class hGt{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=bHt(t.dsn):xr&&zt.warn("No DSN provided, client will not send events."),this._dsn){const n=uGt(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=Ul();if(rae(t))return xr&&zt.log(bae),i;const a={event_id:i,...n};return this._process(this.eventFromException(t,a).then(o=>this._captureEvent(o,a,r))),a.event_id}captureMessage(t,n,r,i){const a={event_id:Ul(),...r},o=HH(t)?t:String(t),s=WH(t)?this.eventFromMessage(o,n,a):this.eventFromException(t,a);return this._process(s.then(l=>this._captureEvent(l,a,i))),a.event_id}captureEvent(t,n,r){const i=Ul();if(n&&n.originalException&&rae(n.originalException))return xr&&zt.log(bae),i;const a={event_id:i,...n},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,s||r)),a.event_id}captureSession(t){typeof t.release!="string"?xr&&zt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),lv(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Hg(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Q_e(this,t,this._integrations),n||vae(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=LWt(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=KHt(r,JHt(a));const i=this.sendEnvelope(r);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const n=NWt(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,a=`${t}:${n}`;xr&&zt.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(xr&&zt.error("Error while sending event:",n),n)):(xr&&zt.error("Transport disabled"),Hg({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=fGt(this,t),vae(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const a=n.exception&&n.exception.values;if(a){i=!0;for(const l of a){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(lv(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new _l(n=>{let r=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=i,t&&r>=t&&(clearInterval(a),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=wb()){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),GWt(a,t,n,r,this,i).then(s=>{if(s===null)return s;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(s.contexts&&s.contexts.trace)&&l){const{traceId:d,spanId:h,parentSpanId:p,dsc:m}=l;s.contexts={trace:Ol({trace_id:d,span_id:h,parent_span_id:p}),...s.contexts};const g=m||q_e(d,this);s.sdkProcessingMetadata={dynamicSamplingContext:g,...s.sdkProcessingMetadata}}return s})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(xr){const a=i;a.logLevel==="log"?zt.log(a.message):zt.warn(a)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:a}=i,o=tTe(t),s=eTe(t),l=t.type||"error",c=`before send for type \`${l}\``,d=typeof a>"u"?void 0:PWt(a);if(s&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),dj(new Ec(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const h=l==="replay_event"?"replay":l,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",h,t),new Ec("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const v=mGt(this,i,g,n);return pGt(v,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new Ec(`${c} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!o&&y&&this._updateSessionFromEvent(y,g),o){const b=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,x=g.spans?g.spans.length:0,w=b-x;w>0&&this.recordDroppedEvent("before_send","span",w)}const v=g.transaction_info;if(o&&v&&g.transaction!==t.transaction){const b="custom";g.transaction_info={...v,source:b}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Ec?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Ec(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,a]=n.split(":");return{reason:i,category:a,quantity:r}})}_flushOutcomes(){xr&&zt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){xr&&zt.log("No outcomes to send");return}if(!this._dsn){xr&&zt.log("No dsn provided, will not send outcomes");return}xr&&zt.log("Sending outcomes:",t);const n=tWt(t,this._options.tunnel&&ZM(this._dsn));this.sendEnvelope(n)}}function pGt(e,t){const n=`${t} must return \`null\` or a valid event.`;if(qM(e))return e.then(r=>{if(!sv(r)&&r!==null)throw new Ec(n);return r},r=>{throw new Ec(`${t} rejected with ${r}`)});if(!sv(e)&&e!==null)throw new Ec(n);return e}function mGt(e,t,n,r){const{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o}=t;if(eTe(n)&&i)return i(n,r);if(tTe(n)){if(n.spans&&o){const s=[];for(const l of n.spans){const c=o(l);c?s.push(c):e.recordDroppedEvent("before_send","span")}n.spans=s}if(a){if(n.spans){const s=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:s}}return a(n,r)}}return n}function eTe(e){return e.type===void 0}function tTe(e){return e.type==="transaction"}function gGt(e,t){t.debug===!0&&(xr?zt.enable():ek(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Hc().update(t.initialScope);const r=new e(t);return yGt(r),r.init(),r}function yGt(e){Hc().setClient(e)}const vGt=64;function bGt(e,t,n=zHt(e.bufferSize||vGt)){let r={};const i=o=>n.drain(o);function a(o){const s=[];if(aae(o,(h,p)=>{const m=oae(p);if(aWt(r,m)){const g=xae(h,p);e.recordDroppedEvent("ratelimit_backoff",m,g)}else s.push(h)}),s.length===0)return Hg({});const l=nk(o[0],s),c=h=>{aae(l,(p,m)=>{const g=xae(p,m);e.recordDroppedEvent(h,oae(m),g)})},d=()=>t({body:ZHt(l)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&xr&&zt.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=oWt(r,h),h),h=>{throw c("network_error"),h});return n.add(d).then(h=>h,h=>{if(h instanceof Ec)return xr&&zt.error("Skipped sending event because buffer is full."),c("queue_overflow"),Hg({});throw h})}return{send:a,flush:i}}function xae(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function nTe(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:sg})),version:sg}),e._metadata=i}const xGt=100;function Wg(e,t){const n=Ea(),r=wb();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=xGt}=n.getOptions();if(a<=0)return;const s={timestamp:tk(),...e},l=i?ek(()=>i(s,t)):s;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,a))}let wae;const wGt="FunctionToString",Cae=new WeakMap,CGt=()=>({name:wGt,setupOnce(){wae=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=qH(this),n=Cae.has(Ea())&&t!==void 0?t:this;return wae.apply(n,e)}}catch{}},setup(e){Cae.set(e,!0)}}),rTe=CGt,SGt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],EGt="InboundFilters",kGt=(e={})=>({name:EGt,processEvent(t,n,r){const i=r.getOptions(),a=_Gt(e,i);return TGt(t,a)?null:t}}),iTe=kGt;function _Gt(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:SGt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function TGt(e,t){return t.ignoreInternal&&RGt(e)?(xr&&zt.warn(`Event dropped due to being internal Sentry Error.
Event: ${vh(e)}`),!0):AGt(e,t.ignoreErrors)?(xr&&zt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${vh(e)}`),!0):$Gt(e)?(xr&&zt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${vh(e)}`),!0):jGt(e,t.ignoreTransactions)?(xr&&zt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${vh(e)}`),!0):IGt(e,t.denyUrls)?(xr&&zt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${vh(e)}.
Url: ${hj(e)}`),!0):DGt(e,t.allowUrls)?!1:(xr&&zt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${vh(e)}.
Url: ${hj(e)}`),!0)}function AGt(e,t){return e.type||!t||!t.length?!1:MGt(e).some(n=>KM(n,t))}function jGt(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?KM(n,t):!1}function IGt(e,t){if(!t||!t.length)return!1;const n=hj(e);return n?KM(n,t):!1}function DGt(e,t){if(!t||!t.length)return!0;const n=hj(e);return n?KM(n,t):!0}function MGt(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function RGt(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function OGt(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function hj(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?OGt(t):null}catch{return xr&&zt.error(`Cannot extract url for event ${vh(e)}`),null}}function $Gt(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const PGt="Dedupe",FGt=()=>{let e;return{name:PGt,processEvent(t){if(t.type)return t;try{if(NGt(t,e))return xr&&zt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},aTe=FGt;function NGt(e,t){return t?!!(LGt(e,t)||BGt(e,t)):!1}function LGt(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sTe(e,t)||!oTe(e,t))}function BGt(e,t){const n=Sae(t),r=Sae(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sTe(e,t)||!oTe(e,t))}function oTe(e,t){let n=eae(e),r=eae(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function sTe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Sae(e){return e.exception&&e.exception.values&&e.exception.values[0]}const Cr=Kn;let L8=0;function lTe(){return L8>0}function VGt(){L8++,setTimeout(()=>{L8--})}function cv(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(qH(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const a=i.map(o=>cv(o,t));return e.apply(this,a)}catch(a){throw VGt(),G_e(o=>{o.addEventProcessor(s=>(t.mechanism&&(O8(s,void 0,void 0),fS(s,t.mechanism)),s.extra={...s.extra,arguments:i},s)),K_e(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}P_e(r,e),zg(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const rk=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function QH(e,t){const n=eW(e,t),r={type:t&&t.name,value:GGt(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function zGt(e,t,n,r){const i=Ea(),a=i&&i.getOptions().normalizeDepth,o=XGt(t),s={__serialized__:H_e(t,a)};if(o)return{exception:{values:[QH(e,o)]},extra:s};const l={exception:{values:[{type:YM(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:KGt(t,{isUnhandledRejection:r})}]},extra:s};if(n){const c=eW(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function pP(e,t){return{exception:{values:[QH(e,t)]}}}function eW(e,t){const n=t.stacktrace||t.stack||"",r=HGt(t),i=WGt(t);try{return e(n,r,i)}catch{}return[]}const UGt=/Minified React error #\d+;/i;function HGt(e){return e&&UGt.test(e.message)?1:0}function WGt(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function GGt(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function YGt(e,t,n,r){const i=n&&n.syntheticException||void 0,a=tW(e,t,i,r);return fS(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),Hg(a)}function qGt(e,t,n="info",r,i){const a=r&&r.syntheticException||void 0,o=B8(e,t,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Hg(o)}function tW(e,t,n,r,i){let a;if(M_e(t)&&t.error)return pP(e,t.error);if(Gie(t)||nHt(t)){const o=t;if("stack"in t)a=pP(e,t);else{const s=o.name||(Gie(o)?"DOMError":"DOMException"),l=o.message?`${s}: ${o.message}`:s;a=B8(e,l,n,r),O8(a,l)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return UH(t)?pP(e,t):sv(t)||YM(t)?(a=zGt(e,t,n,i),fS(a,{synthetic:!0}),a):(a=B8(e,t,n,r),O8(a,`${t}`,void 0),fS(a,{synthetic:!0}),a)}function B8(e,t,n,r){const i={};if(r&&n){const a=eW(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}if(HH(t)){const{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function KGt(e,{isUnhandledRejection:t}){const n=wHt(e),r=t?"promise rejection":"exception";return M_e(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:YM(e)?`Event \`${ZGt(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ZGt(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function XGt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function JGt(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:ZM(r)}},a=QGt(e);return nk(i,[a])}function QGt(e){return[{type:"user_report"},e]}class uTe extends hGt{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Cr.SENTRY_SDK_SOURCE||PHt();nTe(n,"browser",["browser"],r),super(n),n.sendClientReports&&Cr.document&&Cr.document.addEventListener("visibilitychange",()=>{Cr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return YGt(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return qGt(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){rk&&zt.warn("SDK not enabled, will not capture user feedback.");return}const n=JGt(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const eYt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,So=Kn,tYt=1e3;let Eae,V8,z8;function nYt(e){const t="dom";E0(t,e),k0(t,rYt)}function rYt(){if(!So.document)return;const e=Mu.bind(null,"dom"),t=kae(e,!0);So.document.addEventListener("click",t,!1),So.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=So[n]&&So[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Ws(r,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=c[a]=c[a]||{refCount:0};if(!d.handler){const h=kae(e);d.handler=h,i.call(this,a,h,s)}d.refCount++}catch{}return i.call(this,a,o,s)}}),Ws(r,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},d=c[a];d&&(d.refCount--,d.refCount<=0&&(i.call(this,a,d.handler,s),d.handler=void 0,delete c[a]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}function iYt(e){if(e.type!==V8)return!1;try{if(!e.target||e.target._sentryId!==z8)return!1}catch{}return!0}function aYt(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function kae(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=oYt(n);if(aYt(n.type,r))return;zg(n,"_sentryCaptured",!0),r&&!r._sentryId&&zg(r,"_sentryId",Ul());const i=n.type==="keypress"?"input":n.type;iYt(n)||(e({event:n,name:i,global:t}),V8=n.type,z8=r?r._sentryId:void 0),clearTimeout(Eae),Eae=So.setTimeout(()=>{z8=void 0,V8=void 0},tYt)}}function oYt(e){try{return e.target}catch{return null}}let f5;function cTe(e){const t="history";E0(t,e),k0(t,sYt)}function sYt(){if(!sWt())return;const e=So.onpopstate;So.onpopstate=function(...n){const r=So.location.href,i=f5;if(f5=r,Mu("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const a=f5,o=String(i);f5=o,Mu("history",{from:a,to:o})}return n.apply(this,r)}}Ws(So.history,"pushState",t),Ws(So.history,"replaceState",t)}const L_={};function lYt(e){const t=L_[e];if(t)return t;let n=So[e];if(M8(n))return L_[e]=n.bind(So);const r=So.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(i){eYt&&zt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(L_[e]=n.bind(So))}function _ae(e){L_[e]=void 0}const hw="__sentry_xhr_v3__";function uYt(e){const t="xhr";E0(t,e),k0(t,cYt)}function cYt(){if(!So.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=tf()*1e3,a=ef(r[0])?r[0].toUpperCase():void 0,o=dYt(r[1]);if(!a||!o)return t.apply(n,r);n[hw]={method:a,url:o,request_headers:{}},a==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const s=()=>{const l=n[hw];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}const c={endTimestamp:tf()*1e3,startTimestamp:i,xhr:n};Mu("xhr",c)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(l,c,d){return s(),l.apply(c,d)}}):n.addEventListener("readystatechange",s),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,c,d){const[h,p]=d,m=c[hw];return m&&ef(h)&&ef(p)&&(m.request_headers[h.toLowerCase()]=p),l.apply(c,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[hw];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const a={startTimestamp:tf()*1e3,xhr:n};return Mu("xhr",a),t.apply(n,r)}})}function dYt(e){if(ef(e))return e;try{return e.toString()}catch{}}function dTe(e,t=lYt("fetch")){let n=0,r=0;function i(a){const o=a.body.length;n+=o,r++;const s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return _ae("fetch"),dj("No fetch implementation available");try{return t(e.url,s).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return _ae("fetch"),n-=o,r--,dj(l)}}return bGt(e,i)}const fYt=30,hYt=50;function U8(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Ug:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const pYt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mYt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gYt=/\((\S*)(?::(\d+))(?::(\d+))\)/,yYt=e=>{const t=pYt.exec(e);if(t){const[,r,i,a]=t;return U8(r,Ug,+i,+a)}const n=mYt.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=gYt.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,a]=hTe(n[1]||Ug,n[2]);return U8(a,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},vYt=[fYt,yYt],bYt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xYt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wYt=e=>{const t=bYt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=xYt.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],i=t[1]||Ug;return[i,r]=hTe(i,r),U8(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},CYt=[hYt,wYt],SYt=[vYt,CYt],fTe=L_e(...SYt),hTe=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ug,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},h5=1024,EYt="Breadcrumbs",kYt=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:EYt,setup(n){t.console&&kHt(AYt(n)),t.dom&&nYt(TYt(n,t.dom)),t.xhr&&uYt(jYt(n)),t.fetch&&jHt(IYt(n)),t.history&&cTe(DYt(n)),t.sentry&&n.on("beforeSendEvent",_Yt(n))}}},pTe=kYt;function _Yt(e){return function(n){Ea()===e&&Wg({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:vh(n)},{event:n})}}function TYt(e,t){return function(r){if(Ea()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>h5&&(rk&&zt.warn(`\`dom.maxStringLength\` cannot exceed ${h5}, but a value of ${s} was configured. Sentry will use ${h5} instead.`),s=h5),typeof o=="string"&&(o=[o]);try{const c=r.event,d=MYt(c)?c.target:c;i=O_e(d,{keyAttrs:o,maxStringLength:s}),a=fHt(d)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};a&&(l.data={"ui.component_name":a}),Wg(l,{event:r.event,name:r.name,global:r.global})}}function AYt(e){return function(n){if(Ea()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:HHt(n.level),message:Yie(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Yie(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Wg(r,{input:n.args,level:n.level})}}function jYt(e){return function(n){if(Ea()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,a=n.xhr[hw];if(!r||!i||!a)return;const{method:o,url:s,status_code:l,body:c}=a,d={method:o,url:s,status_code:l},h={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};Wg({category:"xhr",data:d,type:"http"},h)}}function IYt(e){return function(n){if(Ea()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const a=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Wg({category:"fetch",data:a,level:"error",type:"http"},o)}else{const a=n.response,o={...n.fetchData,status_code:a&&a.status},s={input:n.args,response:a,startTimestamp:r,endTimestamp:i};Wg({category:"fetch",data:o,type:"http"},s)}}}function DYt(e){return function(n){if(Ea()!==e)return;let r=n.from,i=n.to;const a=hP(Cr.location.href);let o=r?hP(r):void 0;const s=hP(i);(!o||!o.path)&&(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(r=o.relative),Wg({category:"navigation",data:{from:r,to:i}})}}function MYt(e){return!!e&&!!e.target}const RYt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],OYt="BrowserApiErrors",$Yt=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:OYt,setupOnce(){t.setTimeout&&Ws(Cr,"setTimeout",Tae),t.setInterval&&Ws(Cr,"setInterval",Tae),t.requestAnimationFrame&&Ws(Cr,"requestAnimationFrame",PYt),t.XMLHttpRequest&&"XMLHttpRequest"in Cr&&Ws(XMLHttpRequest.prototype,"send",FYt);const n=t.eventTarget;n&&(Array.isArray(n)?n:RYt).forEach(NYt)}}},mTe=$Yt;function Tae(e){return function(...t){const n=t[0];return t[0]=cv(n,{mechanism:{data:{function:Cp(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function PYt(e){return function(t){return e.apply(this,[cv(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Cp(e)},handled:!1,type:"instrument"}})])}}function FYt(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Ws(n,i,function(a){const o={mechanism:{data:{function:i,handler:Cp(a)},handled:!1,type:"instrument"}},s=qH(a);return s&&(o.mechanism.data.handler=Cp(s)),cv(a,o)})}),e.apply(this,t)}}function NYt(e){const t=Cr,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ws(n,"addEventListener",function(r){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=cv(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Cp(a),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,cv(a,{mechanism:{data:{function:"addEventListener",handler:Cp(a),target:e},handled:!1,type:"instrument"}}),o])}}),Ws(n,"removeEventListener",function(r){return function(i,a,o){const s=a;try{const l=s&&s.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,s,o)}}))}const LYt="GlobalHandlers",BYt=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:LYt,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(VYt(n),Aae("onerror")),t.onunhandledrejection&&(zYt(n),Aae("onunhandledrejection"))}}},gTe=BYt;function VYt(e){MHt(t=>{const{stackParser:n,attachStacktrace:r}=yTe();if(Ea()!==e||lTe())return;const{msg:i,url:a,line:o,column:s,error:l}=t,c=WYt(tW(n,l||i,void 0,r,!1),a,o,s);c.level="error",Z_e(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function zYt(e){OHt(t=>{const{stackParser:n,attachStacktrace:r}=yTe();if(Ea()!==e||lTe())return;const i=UYt(t),a=WH(i)?HYt(i):tW(n,i,void 0,r,!0);a.level="error",Z_e(a,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function UYt(e){if(WH(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function HYt(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function WYt(e,t,n,r){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,h=ef(t)&&t.length>0?t:dHt();return l.length===0&&l.push({colno:c,filename:h,function:Ug,in_app:!0,lineno:d}),e}function Aae(e){rk&&zt.log(`Global Handler attached: ${e}`)}function yTe(){const e=Ea();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const vTe=()=>({name:"HttpContext",preprocessEvent(e){if(!Cr.navigator&&!Cr.location&&!Cr.document)return;const t=e.request&&e.request.url||Cr.location&&Cr.location.href,{referrer:n}=Cr.document||{},{userAgent:r}=Cr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),GYt="cause",YYt=5,qYt="LinkedErrors",KYt=(e={})=>{const t=e.limit||YYt,n=e.key||GYt;return{name:qYt,preprocessEvent(r,i,a){const o=a.getOptions();sHt(QH,o.stackParser,o.maxValueLength,n,t,r,i)}}},bTe=KYt;function ZYt(e){return[iTe(),rTe(),mTe(),pTe(),gTe(),bTe(),aTe(),vTe()]}function XYt(e={}){const t={defaultIntegrations:ZYt(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Cr.SENTRY_RELEASE&&Cr.SENTRY_RELEASE.id?Cr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function JYt(){const e=typeof Cr.window<"u"&&Cr;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Cr.location&&Cr.location.href||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Cr===Cr.top&&a.some(l=>i.startsWith(`${l}//`)),s=typeof e.nw<"u";return!!r&&!o&&!s}function QYt(e={}){const t=XYt(e);if(JYt()){ek(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}rk&&(B_e()||zt.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:SHt(t.stackParser||fTe),integrations:dGt(t),transport:t.transport||dTe},r=gGt(uTe,n);return t.autoSessionTracking&&eqt(),r}function eqt(){if(typeof Cr.document>"u"){rk&&zt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}mae({ignoreDuration:!0}),gae(),cTe(({from:e,to:t})=>{e!==void 0&&e!==t&&(mae({ignoreDuration:!0}),gae())})}function tqt(e){const t={...e};return nTe(t,"react"),rGt("react",{version:f.version}),QYt(t)}var Ac;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ac||(Ac={}));var pj=function(e){return e},jae="beforeunload",nqt="popstate";function rqt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var k=r.location,_=k.pathname,T=k.search,j=k.hash,A=i.state||{};return[A.idx,pj({pathname:_,search:T,hash:j,state:A.usr||null,key:A.key||"default"})]}var o=null;function s(){if(o)m.call(o),o=null;else{var k=Ac.Pop,_=a(),T=_[0],j=_[1];if(m.length){if(T!=null){var A=d-T;A&&(o={action:k,location:j,retry:function(){S(A*-1)}},S(A))}}else x(k)}}r.addEventListener(nqt,s);var l=Ac.Pop,c=a(),d=c[0],h=c[1],p=mj(),m=mj();d==null&&(d=0,i.replaceState(pf({},i.state,{idx:d}),""));function g(k){return typeof k=="string"?k:xTe(k)}function y(k,_){return _===void 0&&(_=null),pj(pf({pathname:h.pathname,hash:"",search:""},typeof k=="string"?W8(k):k,{state:_,key:H8()}))}function v(k,_){return[{usr:k.state,key:k.key,idx:_},g(k)]}function b(k,_,T){return!m.length||(m.call({action:k,location:_,retry:T}),!1)}function x(k){l=k;var _=a();d=_[0],h=_[1],p.call({action:l,location:h})}function w(k,_){var T=Ac.Push,j=y(k,_);function A(){w(k,_)}if(b(T,j,A)){var I=v(j,d+1),M=I[0],D=I[1];try{i.pushState(M,"",D)}catch{r.location.assign(D)}x(T)}}function C(k,_){var T=Ac.Replace,j=y(k,_);function A(){C(k,_)}if(b(T,j,A)){var I=v(j,d),M=I[0],D=I[1];i.replaceState(M,"",D),x(T)}}function S(k){i.go(k)}var E={get action(){return l},get location(){return h},createHref:g,push:w,replace:C,go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(_){return p.push(_)},block:function(_){var T=m.push(_);return m.length===1&&r.addEventListener(jae,Dae),function(){T(),m.length||r.removeEventListener(jae,Dae)}}};return E}function iqt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,i=t.initialIndex,a=r.map(function(w){var C=pj(pf({pathname:"/",search:"",hash:"",state:null,key:H8()},typeof w=="string"?W8(w):w));return C}),o=Iae(i??a.length-1,0,a.length-1),s=Ac.Pop,l=a[o],c=mj(),d=mj();function h(w){return typeof w=="string"?w:xTe(w)}function p(w,C){return C===void 0&&(C=null),pj(pf({pathname:l.pathname,search:"",hash:""},typeof w=="string"?W8(w):w,{state:C,key:H8()}))}function m(w,C,S){return!d.length||(d.call({action:w,location:C,retry:S}),!1)}function g(w,C){s=w,l=C,c.call({action:s,location:l})}function y(w,C){var S=Ac.Push,E=p(w,C);function k(){y(w,C)}m(S,E,k)&&(o+=1,a.splice(o,a.length,E),g(S,E))}function v(w,C){var S=Ac.Replace,E=p(w,C);function k(){v(w,C)}m(S,E,k)&&(a[o]=E,g(S,E))}function b(w){var C=Iae(o+w,0,a.length-1),S=Ac.Pop,E=a[C];function k(){b(w)}m(S,E,k)&&(o=C,g(S,E))}var x={get index(){return o},get action(){return s},get location(){return l},createHref:h,push:y,replace:v,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(C){return c.push(C)},block:function(C){return d.push(C)}};return x}function Iae(e,t,n){return Math.min(Math.max(e,t),n)}function Dae(e){e.preventDefault(),e.returnValue=""}function mj(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function H8(){return Math.random().toString(36).substr(2,8)}function xTe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,a=e.hash,o=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function W8(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var wTe={exports:{}},CTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=f;function aqt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oqt=typeof Object.is=="function"?Object.is:aqt,sqt=ik.useSyncExternalStore,lqt=ik.useRef,uqt=ik.useEffect,cqt=ik.useMemo,dqt=ik.useDebugValue;CTe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=lqt(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=cqt(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return h=g}return h=m}if(g=h,oqt(d,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(d=m,h=y)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var s=sqt(e,a[0],a[1]);return uqt(function(){o.hasValue=!0,o.value=s},[s]),dqt(s),s};wTe.exports=CTe;var nW=wTe.exports,fqt=iu,STe=/[\\^$.*+?()[\]{}|]/g,hqt=RegExp(STe.source);function pqt(e){return e=fqt(e),e&&hqt.test(e)?e.replace(STe,"\\$&"):e}var mqt=pqt;const rW=Fe(mqt);var gj=globalThis&&globalThis.__assign||function(){return gj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gj.apply(this,arguments)},gqt=QVt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),yqt="";function Mae(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:bqt(t,"v1"),id:n})}function vqt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function bqt(e,t){return gj(gj({},e),{apiVersion:t})}var xqt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,i=r===void 0?gqt:r,a=xz(e.pipe(Ct(function(m){return To(m,"message")})),function(m){return m.data===yqt}),o=a[0],s=a[1],l=s.pipe(Mt(function(m){var g=vqt(m.data),y=g[0],v=g[1];return y?(console.warn("Unable to parse message: %s",y.message),sr):!v||!v.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",v),sr):we(v)}),Ho()),c=n?Hi([n,e]).pipe(hr(function(m,g){var y=m[0],v=m[1],b=g[0],x=g[1];return y===b&&v===x}),Ct(function(m){var g=m[0],y=m[1];return g?d(y,"authorization",{authorization:"Bearer ".concat(g)}).pipe($a(1),BD(y)):we(y)}),la({refCount:!0,bufferSize:1})):e;function d(m,g,y){y===void 0&&(y={});var v=i();return Bn(l.pipe(Nt(function(b){return b.id===v}),fe(function(b){return b.result})),oa(function(){return m.send(Mae(g,y,v)),sr}))}function h(m,g){return c.pipe($a(1),Mt(function(y){return d(y,m,g).pipe($a(1))}))}function p(m,g){return c.pipe($a(1),Mt(function(y){return d(y,"".concat(m,"_subscribe"),g).pipe($a(1),Mt(function(v){return l.pipe(Nt(function(b){return b.method==="".concat(m,"_subscription")&&b.params.subscription===v}),fe(function(b){return b.params.result}),VD(function(){y.readyState!==y.CLOSED&&y.readyState!==y.CLOSING&&y.send(Mae("".concat(m,"_unsubscribe"),{subscriptionId:v},i()))}))}))}))}return{heartbeats:Bn(c,o,s).pipe(fe(function(){return new Date})),listen:function(m,g){return p(m,g)},request:function(m,g){return h(m,g)}}},wqt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rae=function(e){wqt(t,e);function t(n,r,i,a){var o=e.call(this,n)||this;return o.type=r,o.code=i,o.reason=a,o}return t}(Error);function Cqt(e){return function(t){return new Rt(function(n){var r=e(t),i=!1,a=function(){n.next(r)},o=function(){n.error(new Rae("WebSocket connection error","CONNECTION_ERROR"))},s=function(l){i?n.complete():n.error(new Rae("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=a,r.onclose=s,r.onerror=o,function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var Sqt=function(e,t){return function(n){return kdt(n,Qr(e).pipe(Mt(function(){return t})))}},Oae;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(Oae||(Oae={}));var Eqt=function(e){return e};function kqt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,i=Cqt(function(a,o){return new window.WebSocket(a,o)});return xqt(i(e).pipe(n?Sqt(n,pp(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):Eqt,la({refCount:!0}),Sz(To(window,"beforeunload"))),{token$:r})}var _qt=bU,Tqt=1,Aqt=4;function jqt(e){return _qt(e,Tqt|Aqt)}var Iqt=jqt;const Dqt=Fe(Iqt),Mqt=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("path",{d:"M32 0L0 32H32V0Z",fill:rt.magenta[400].hex}),u.jsx("path",{d:"M32 32H0L32 64V32Z",fill:rt.green[300].hex}),u.jsx("path",{d:"M64 32H32V64L64 32Z",fill:rt.purple[300].hex}),u.jsx("path",{d:"M112 0L80 32H112V0Z",fill:rt.green[300].hex}),u.jsx("path",{d:"M112 0H80V32L112 0Z",fill:rt.purple[300].hex}),u.jsx("path",{d:"M112 32H80L112 64V32Z",fill:rt.yellow[200].hex}),u.jsx("path",{d:"M144 64L112 32V64H144Z",fill:rt.blue[300].hex}),u.jsx("path",{d:"M80 32V64H112L80 32Z",fill:rt.orange[400].hex}),u.jsx("path",{d:"M112 0V32H144L112 0Z",fill:rt.magenta[400].hex}),u.jsx("path",{d:"M192 0L160 32H192V0Z",fill:rt.yellow[200].hex}),u.jsx("path",{d:"M192 32H160L192 64V32Z",fill:rt.orange[400].hex}),u.jsx("path",{d:"M224 32H192V64L224 32Z",fill:rt.green[300].hex}),u.jsx("path",{d:"M192 0V32H224L192 0Z",fill:rt.blue[300].hex}),u.jsx("path",{d:"M272 0L240 32H272V0Z",fill:rt.purple[300].hex}),u.jsx("path",{d:"M304 32L272 64H304V32Z",fill:rt.magenta[400].hex}),u.jsx("path",{d:"M272 32H240L272 64V32Z",fill:rt.blue[300].hex}),u.jsx("path",{d:"M304 32H272V64L304 32Z",fill:rt.yellow[200].hex}),u.jsx("path",{d:"M272 0V32H304L272 0Z",fill:rt.green[300].hex})]})});Mqt.displayName="ForwardRef(GroqLogo)";const Rqt=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:rt.green[950].hex}),u.jsx("rect",{y:"32",width:"64",height:"64",fill:rt.green[800].hex}),u.jsx("path",{d:"M64 32L32 64H64V32Z",fill:rt.magenta[400].hex}),u.jsx("path",{d:"M64 64H32L64 96V64Z",fill:rt.green[300].hex}),u.jsx("path",{d:"M96 64H64V96L96 64Z",fill:rt.purple[300].hex})]})});Rqt.displayName="ForwardRef(GroqMonogram)";const Oqt={light:[rt.red[200].hex,rt.red[300].hex,rt.red[500].hex],dark:[rt.gray[500].hex,rt.gray[300].hex,Gd.hex]},ETe=f.forwardRef(function(e,t){const{dark:n,...r}=e,i=Oqt[n?"dark":"light"];return u.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),u.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),u.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),u.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),u.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),u.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),u.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),u.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),u.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),u.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),u.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),u.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),u.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),u.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),u.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),u.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})});ETe.displayName="ForwardRef(SanityLogo)";const $qt={bg1:rt.red[500].hex,bg2:rt.red[200].hex,fg:Gd.hex},kTe=f.forwardRef(function(e,t){const{color:n=$qt,...r}=e;return u.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:n.bg1}),u.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:n.fg}),u.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:n.bg2}),u.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:n.bg2})]})});kTe.displayName="ForwardRef(SanityMonogram)";var Pqt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),Fqt=(()=>{try{return!!(Pqt&&import.meta.webpackHot)}catch{return!1}})();function _Te(e){if(Fqt)return typeof import.meta.webpackHot>"u"?Lqt(e):Nqt(e)}function Nqt(e){f.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Lqt(e){f.useEffect(()=>{},[e])}var Bqt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Vqt=Fe(Bqt);var Cb={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TTe=f;function Yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var us=Object.prototype.hasOwnProperty,zqt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$ae={},Pae={};function ATe(e){return us.call(Pae,e)?!0:us.call($ae,e)?!1:zqt.test(e)?Pae[e]=!0:($ae[e]=!0,!1)}function ns(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var eo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){eo[e]=new ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];eo[t]=new ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){eo[e]=new ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){eo[e]=new ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){eo[e]=new ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){eo[e]=new ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){eo[e]=new ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){eo[e]=new ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){eo[e]=new ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var iW=/[\-:]([a-z])/g;function aW(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iW,aW);eo[t]=new ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iW,aW);eo[t]=new ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iW,aW);eo[t]=new ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){eo[e]=new ns(e,1,!1,e.toLowerCase(),null,!1,!1)});eo.xlinkHref=new ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){eo[e]=new ns(e,1,!1,e.toLowerCase(),null,!0,!0)});var B_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uqt=["Webkit","ms","Moz","O"];Object.keys(B_).forEach(function(e){Uqt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),B_[t]=B_[e]})});var Hqt=/["'&<>]/;function Fo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Hqt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var Wqt=/([A-Z])/g,Gqt=/^ms-/,G8=Array.isArray;function yd(e,t){return{insertionMode:e,selectedValue:t}}function Yqt(e,t,n){switch(t){case"select":return yd(1,n.value!=null?n.value:n.defaultValue);case"svg":return yd(2,null);case"math":return yd(3,null);case"foreignObject":return yd(1,null);case"table":return yd(4,null);case"thead":case"tbody":case"tfoot":return yd(5,null);case"colgroup":return yd(7,null);case"tr":return yd(6,null)}return 4<=e.insertionMode||e.insertionMode===0?yd(1,null):e}var Fae=new Map;function jTe(e,t,n){if(typeof n!="object")throw Error(Yt(62));t=!0;for(var r in n)if(us.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var a=Fo(r);i=Fo((""+i).trim())}else{a=r;var o=Fae.get(a);o!==void 0||(o=Fo(a.replace(Wqt,"-$1").toLowerCase().replace(Gqt,"-ms-")),Fae.set(a,o)),a=o,i=typeof i=="number"?i===0||us.call(B_,r)?""+i:i+"px":Fo((""+i).trim())}t?(t=!1,e.push(' style="',a,":",i)):e.push(";",a,":",i)}}t||e.push('"')}function Ds(e,t,n,r){switch(n){case"style":jTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=eo.hasOwnProperty(n)?eo[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Fo(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Fo(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Fo(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Fo(r),'"')}}else if(ATe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Fo(r),'"')}}}function V_(e,t,n){if(t!=null){if(n!=null)throw Error(Yt(60));if(typeof t!="object"||!("__html"in t))throw Error(Yt(61));t=t.__html,t!=null&&e.push(""+t)}}function qqt(e){var t="";return TTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function mP(e,t,n,r){e.push(sc(n));var i=n=null,a;for(a in t)if(us.call(t,a)){var o=t[a];if(o!=null)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Ds(e,r,a,o)}}return e.push(">"),V_(e,i,n),typeof n=="string"?(e.push(Fo(n)),null):n}var Kqt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Nae=new Map;function sc(e){var t=Nae.get(e);if(t===void 0){if(!Kqt.test(e))throw Error(Yt(65,e));t="<"+e,Nae.set(e,t)}return t}function Zqt(e,t,n,r,i){switch(t){case"select":e.push(sc("select"));var a=null,o=null;for(d in n)if(us.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"defaultValue":case"value":break;default:Ds(e,r,d,s)}}return e.push(">"),V_(e,o,a),a;case"option":o=i.selectedValue,e.push(sc("option"));var l=s=null,c=null,d=null;for(a in n)if(us.call(n,a)){var h=n[a];if(h!=null)switch(a){case"children":s=h;break;case"selected":c=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":l=h;default:Ds(e,r,a,h)}}if(o!=null)if(n=l!==null?""+l:qqt(s),G8(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(' selected=""');break}}else""+o===n&&e.push(' selected=""');else c&&e.push(' selected=""');return e.push(">"),V_(e,d,s),s;case"textarea":e.push(sc("textarea")),d=o=a=null;for(s in n)if(us.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":a=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Yt(91));default:Ds(e,r,s,l)}if(a===null&&o!==null&&(a=o),e.push(">"),d!=null){if(a!=null)throw Error(Yt(92));if(G8(d)&&1<d.length)throw Error(Yt(93));a=""+d}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a!==null&&e.push(Fo(""+a)),null;case"input":e.push(sc("input")),l=d=s=a=null;for(o in n)if(us.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Yt(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":s=c;break;case"checked":d=c;break;case"value":a=c;break;default:Ds(e,r,o,c)}return d!==null?Ds(e,r,"checked",d):l!==null&&Ds(e,r,"checked",l),a!==null?Ds(e,r,"value",a):s!==null&&Ds(e,r,"value",s),e.push("/>"),null;case"menuitem":e.push(sc("menuitem"));for(var p in n)if(us.call(n,p)&&(a=n[p],a!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Yt(400));default:Ds(e,r,p,a)}return e.push(">"),null;case"title":e.push(sc("title")),a=null;for(h in n)if(us.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":a=o;break;case"dangerouslySetInnerHTML":throw Error(Yt(434));default:Ds(e,r,h,o)}return e.push(">"),a;case"listing":case"pre":e.push(sc(t)),o=a=null;for(l in n)if(us.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ds(e,r,l,s)}if(e.push(">"),o!=null){if(a!=null)throw Error(Yt(60));if(typeof o!="object"||!("__html"in o))throw Error(Yt(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(sc(t));for(var m in n)if(us.call(n,m)&&(a=n[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Yt(399,t));default:Ds(e,r,m,a)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return mP(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),mP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return mP(e,n,t,r);e.push(sc(t)),o=a=null;for(c in n)if(us.call(n,c)&&(s=n[c],s!=null))switch(c){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"style":jTe(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ATe(c)&&typeof s!="function"&&typeof s!="symbol"&&e.push(" ",c,'="',Fo(s),'"')}return e.push(">"),V_(e,o,a),a}}function Lae(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Yt(395));return e.push(n),e.push('"></template>')}function Xqt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Yt(397))}}function Jqt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Yt(397))}}var Qqt=/[<\u2028\u2029]/g;function gP(e){return JSON.stringify(e).replace(Qqt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function eKt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Bae(e,t,n,r){return n.generateStaticMarkup?(e.push(Fo(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Fo(t)),e=!0),e)}var nC=Object.assign,tKt=Symbol.for("react.element"),ITe=Symbol.for("react.portal"),DTe=Symbol.for("react.fragment"),MTe=Symbol.for("react.strict_mode"),RTe=Symbol.for("react.profiler"),OTe=Symbol.for("react.provider"),$Te=Symbol.for("react.context"),PTe=Symbol.for("react.forward_ref"),FTe=Symbol.for("react.suspense"),NTe=Symbol.for("react.suspense_list"),LTe=Symbol.for("react.memo"),oW=Symbol.for("react.lazy"),nKt=Symbol.for("react.scope"),rKt=Symbol.for("react.debug_trace_mode"),iKt=Symbol.for("react.legacy_hidden"),aKt=Symbol.for("react.default_value"),Vae=Symbol.iterator;function Y8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case DTe:return"Fragment";case ITe:return"Portal";case RTe:return"Profiler";case MTe:return"StrictMode";case FTe:return"Suspense";case NTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $Te:return(e.displayName||"Context")+".Consumer";case OTe:return(e._context.displayName||"Context")+".Provider";case PTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LTe:return t=e.displayName||null,t!==null?t:Y8(e.type)||"Memo";case oW:t=e._payload,e=e._init;try{return Y8(e(t))}catch{}}return null}var BTe={};function zae(e,t){if(e=e.contextTypes,!e)return BTe;var n={},r;for(r in e)n[r]=t[r];return n}var Fm=null;function JM(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Yt(401))}else{if(n===null)throw Error(Yt(401));JM(e,n)}t.context._currentValue2=t.value}}function VTe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&VTe(e)}function zTe(e){var t=e.parent;t!==null&&zTe(t),e.context._currentValue2=e.value}function UTe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Yt(402));e.depth===t.depth?JM(e,t):UTe(e,t)}function HTe(e,t){var n=t.parent;if(n===null)throw Error(Yt(402));e.depth===n.depth?JM(e,n):HTe(e,n),t.context._currentValue2=t.value}function yj(e){var t=Fm;t!==e&&(t===null?zTe(e):e===null?VTe(t):t.depth===e.depth?JM(t,e):t.depth>e.depth?UTe(t,e):HTe(t,e),Fm=e)}var Uae={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Hae(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=Uae,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:nC({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Uae.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&t.length===1)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];s=typeof s=="function"?s.call(e,a,n,r):s,s!=null&&(i?(i=!1,a=nC({},a,s)):nC(a,s))}e.state=a}else a.queue=null}var oKt={id:1,overflow:""};function q8(e,t,n){var r=e.id;e=e.overflow;var i=32-z_(r)-1;r&=~(1<<i),n+=1;var a=32-z_(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-z_(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var z_=Math.clz32?Math.clz32:uKt,sKt=Math.log,lKt=Math.LN2;function uKt(e){return e>>>=0,e===0?32:31-(sKt(e)/lKt|0)|0}function cKt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dKt=typeof Object.is=="function"?Object.is:cKt,bf=null,sW=null,U_=null,Rr=null,pw=!1,vj=!1,hS=0,Bh=null,QM=0;function Sm(){if(bf===null)throw Error(Yt(321));return bf}function Wae(){if(0<QM)throw Error(Yt(312));return{memoizedState:null,queue:null,next:null}}function lW(){return Rr===null?U_===null?(pw=!1,U_=Rr=Wae()):(pw=!0,Rr=U_):Rr.next===null?(pw=!1,Rr=Rr.next=Wae()):(pw=!0,Rr=Rr.next),Rr}function uW(){sW=bf=null,vj=!1,U_=null,QM=0,Rr=Bh=null}function WTe(e,t){return typeof t=="function"?t(e):t}function Gae(e,t,n){if(bf=Sm(),Rr=lW(),pw){var r=Rr.queue;if(t=r.dispatch,Bh!==null&&(n=Bh.get(r),n!==void 0)){Bh.delete(r),r=Rr.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Rr.memoizedState=r,[r,t]}return[Rr.memoizedState,t]}return e=e===WTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Rr.memoizedState=e,e=Rr.queue={last:null,dispatch:null},e=e.dispatch=fKt.bind(null,bf,e),[Rr.memoizedState,e]}function Yae(e,t){if(bf=Sm(),Rr=lW(),t=t===void 0?null:t,Rr!==null){var n=Rr.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!dKt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Rr.memoizedState=[e,t],e}function fKt(e,t,n){if(25<=QM)throw Error(Yt(301));if(e===bf)if(vj=!0,e={action:n,next:null},Bh===null&&(Bh=new Map),n=Bh.get(t),n===void 0)Bh.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function hKt(){throw Error(Yt(394))}function p5(){}var qae={readContext:function(e){return e._currentValue2},useContext:function(e){return Sm(),e._currentValue2},useMemo:Yae,useReducer:Gae,useRef:function(e){bf=Sm(),Rr=lW();var t=Rr.memoizedState;return t===null?(e={current:e},Rr.memoizedState=e):t},useState:function(e){return Gae(WTe,e)},useInsertionEffect:p5,useLayoutEffect:function(){},useCallback:function(e,t){return Yae(function(){return e},t)},useImperativeHandle:p5,useEffect:p5,useDebugValue:p5,useDeferredValue:function(e){return Sm(),e},useTransition:function(){return Sm(),[!1,hKt]},useId:function(){var e=sW.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-z_(e)-1)).toString(32)+t;var n=H_;if(n===null)throw Error(Yt(404));return t=hS++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Sm(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Yt(407));return n()}},H_=null,yP=TTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function pKt(e){return console.error(e),null}function mw(){}function mKt(e,t,n,r,i,a,o,s,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?pKt:i,onAllReady:a===void 0?mw:a,onShellReady:o===void 0?mw:o,onShellError:s===void 0?mw:s,onFatalError:l===void 0?mw:l},n=bj(t,0,null,n,!1,!1),n.parentFlushed=!0,e=cW(t,e,null,n,d,BTe,null,oKt),c.push(e),t}function cW(e,t,n,r,i,a,o,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&qTe(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function bj(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function pS(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function xj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Kae(e,t,n,r,i){for(bf={},sW=t,hS=0,e=n(r,i);vj;)vj=!1,hS=0,QM+=1,Rr=null,e=n(r,i);return uW(),e}function Zae(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(a!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var s in n)if(!(s in a))throw Error(Yt(108,Y8(r)||"Unknown",s));r=nC({},o,n)}t.legacyContext=r,Ns(e,t,i),t.legacyContext=o}else Ns(e,t,i)}function Xae(e,t){if(e&&e.defaultProps){t=nC({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function K8(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=zae(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue2:i),Hae(a,n,r,i),Zae(e,t,a,n)}else{a=zae(n,t.legacyContext),i=Kae(e,t,n,r,a);var o=hS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Hae(i,n,r,a),Zae(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=q8(r,1,0);try{Ns(e,t,i)}finally{t.treeContext=r}}else Ns(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,a=Zqt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=Yqt(o,n,r),Z8(e,t,a),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case iKt:case rKt:case MTe:case RTe:case DTe:Ns(e,t,r.children);return;case NTe:Ns(e,t,r.children);return;case nKt:throw Error(Yt(343));case FTe:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children,o=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=bj(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=bj(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=c;try{if(Z8(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,wj(s,c),s.pendingTasks===0)break e}catch(d){c.status=4,s.forceClientRender=!0,s.errorDigest=pS(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=cW(e,a,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case PTe:if(r=Kae(e,t,n.render,r,i),hS!==0){n=t.treeContext,t.treeContext=q8(n,1,0);try{Ns(e,t,r)}finally{t.treeContext=n}}else Ns(e,t,r);return;case LTe:n=n.type,r=Xae(n,r),K8(e,t,n,r,i);return;case OTe:if(i=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,o=Fm,Fm=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:a,value:r},t.context=r,Ns(e,t,i),e=Fm,e===null)throw Error(Yt(403));r=e.parentValue,e.context._currentValue2=r===aKt?e.context._defaultValue:r,e=Fm=e.parent,t.context=e;return;case $Te:r=r.children,r=r(n._currentValue2),Ns(e,t,r);return;case oW:i=n._init,n=i(n._payload),r=Xae(n,r),K8(e,t,n,r,void 0);return}throw Error(Yt(130,n==null?n:typeof n,""))}}function Ns(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case tKt:K8(e,t,n.type,n.props,n.ref);return;case ITe:throw Error(Yt(257));case oW:var r=n._init;n=r(n._payload),Ns(e,t,n);return}if(G8(n)){Jae(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Vae&&n[Vae]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Jae(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Yt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Bae(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Bae(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Jae(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=q8(a,r,i);try{Z8(e,t,n[i])}finally{t.treeContext=a}}}function Z8(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Ns(e,t,n)}catch(l){if(uW(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,s=bj(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=cW(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,yj(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,yj(a),l}}function gKt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,YTe(this,t,e)}function GTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Yt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return GTe(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function wj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&wj(e,n)}else e.completedSegments.push(t)}function YTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Yt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=mw,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&wj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(gKt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(wj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function qTe(e){if(e.status!==2){var t=Fm,n=yP.current;yP.current=qae;var r=H_;H_=e.responseState;try{var i=e.pingedTasks,a;for(a=0;a<i.length;a++){var o=i[a],s=e,l=o.blockedSegment;if(l.status===0){yj(o.context);try{Ns(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,YTe(s,o.blockedBoundary,l)}catch(g){if(uW(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var c=o.ping;g.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,h=g,p=pS(s,h);if(d===null?xj(s,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,a),e.destination!==null&&dW(e,e.destination)}catch(g){pS(e,g),xj(e,g)}finally{H_=r,yP.current=n,n===qae&&yj(t)}}}function m5(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];a<i.index;a++)t.push(r[a]);i=eR(e,t,i)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(i=t.push(r[a])),i;default:throw Error(Yt(390))}}function eR(e,t,n){var r=n.boundary;if(r===null)return m5(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Fo(r),t.push(r),t.push('"')),t.push("></template>")),m5(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;return i=i.boundaryPrefix+a.toString(16),r=r.id=i,Lae(t,e.responseState,r),m5(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Lae(t,e.responseState,r.id),m5(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Yt(391));return eR(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Qae(e,t,n){return Xqt(t,e.responseState,n.formatContext,n.id),eR(e,t,n),Jqt(t,n.formatContext)}function eoe(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)KTe(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Yt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function KTe(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Yt(392));return Qae(e,t,r)}return Qae(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function dW(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){eR(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,a;for(a=0;a<i.length;a++){var o=i[a];r=t;var s=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Yt(395));if(r.push(l),r.push('"'),c||d||h){r.push(",");var p=gP(c||"");r.push(p)}if(d||h){r.push(",");var m=gP(d||"");r.push(m)}if(h){r.push(",");var g=gP(h);r.push(g)}if(!r.push(")<\/script>")){e.destination=null,a++,i.splice(0,a);return}}i.splice(0,a);var y=e.completedBoundaries;for(a=0;a<y.length;a++)if(!eoe(e,t,y[a])){e.destination=null,a++,y.splice(0,a);return}y.splice(0,a);var v=e.partialBoundaries;for(a=0;a<v.length;a++){var b=v[a];e:{i=e,o=t;var x=b.completedSegments;for(s=0;s<x.length;s++)if(!KTe(i,o,b,x[s])){s++,x.splice(0,s);var w=!1;break e}x.splice(0,s),w=!0}if(!w){e.destination=null,a++,v.splice(0,a);return}}v.splice(0,a);var C=e.completedBoundaries;for(a=0;a<C.length;a++)if(!eoe(e,t,C[a])){e.destination=null,a++,C.splice(0,a);return}C.splice(0,a)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function yKt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return GTe(r,e,t)}),n.clear(),e.destination!==null&&dW(e,e.destination)}catch(r){pS(e,r),xj(e,r)}}function vKt(){}function ZTe(e,t,n,r){var i=!1,a=null,o="",s={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,a=c}},l=!1;if(e=mKt(e,eKt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,vKt,void 0,function(){l=!0},void 0,void 0),qTe(e),yKt(e,r),e.status===1)e.status=2,s.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=s;try{dW(e,s)}catch(c){pS(e,c),xj(e,c)}}if(i)throw a;if(!l)throw Error(Yt(426));return o}Cb.renderToNodeStream=function(){throw Error(Yt(207))};Cb.renderToStaticMarkup=function(e,t){return ZTe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Cb.renderToStaticNodeStream=function(){throw Error(Yt(208))};Cb.renderToString=function(e,t){return ZTe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Cb.version="18.3.1";var fW={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XTe=f;function nn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ls=null,Bs=0;function pt(e,t){if(t.length!==0)if(512<t.length)0<Bs&&(e.enqueue(new Uint8Array(Ls.buffer,0,Bs)),Ls=new Uint8Array(512),Bs=0),e.enqueue(t);else{var n=Ls.length-Bs;n<t.length&&(n===0?e.enqueue(Ls):(Ls.set(t.subarray(0,n),Bs),e.enqueue(Ls),t=t.subarray(n)),Ls=new Uint8Array(512),Bs=0),Ls.set(t,Bs),Bs+=t.length}}function Gr(e,t){return pt(e,t),!0}function toe(e){Ls&&0<Bs&&(e.enqueue(new Uint8Array(Ls.buffer,0,Bs)),Ls=null,Bs=0)}var JTe=new TextEncoder;function fn(e){return JTe.encode(e)}function et(e){return JTe.encode(e)}function QTe(e,t){typeof e.error=="function"?e.error(t):e.close()}var cs=Object.prototype.hasOwnProperty,bKt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,noe={},roe={};function eAe(e){return cs.call(roe,e)?!0:cs.call(noe,e)?!1:bKt.test(e)?roe[e]=!0:(noe[e]=!0,!1)}function rs(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var to={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){to[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];to[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){to[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){to[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){to[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){to[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){to[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){to[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){to[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var hW=/[\-:]([a-z])/g;function pW(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hW,pW);to[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hW,pW);to[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hW,pW);to[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){to[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});to.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){to[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var W_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xKt=["Webkit","ms","Moz","O"];Object.keys(W_).forEach(function(e){xKt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),W_[t]=W_[e]})});var wKt=/["'&<>]/;function Ga(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=wKt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var CKt=/([A-Z])/g,SKt=/^ms-/,X8=Array.isArray,EKt=et("<script>"),kKt=et("<\/script>"),_Kt=et('<script src="'),TKt=et('<script type="module" src="'),ioe=et('" async=""><\/script>'),AKt=/(<\/|<)(s)(cript)/gi;function jKt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function IKt(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?EKt:et('<script nonce="'+Ga(t)+'">');var a=[];if(n!==void 0&&a.push(t,fn((""+n).replace(AKt,jKt)),kKt),r!==void 0)for(n=0;n<r.length;n++)a.push(_Kt,fn(Ga(r[n])),ioe);if(i!==void 0)for(r=0;r<i.length;r++)a.push(TKt,fn(Ga(i[r])),ioe);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:et(e+"P:"),segmentPrefix:et(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function lc(e,t){return{insertionMode:e,selectedValue:t}}function DKt(e){return lc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function MKt(e,t,n){switch(t){case"select":return lc(1,n.value!=null?n.value:n.defaultValue);case"svg":return lc(2,null);case"math":return lc(3,null);case"foreignObject":return lc(1,null);case"table":return lc(4,null);case"thead":case"tbody":case"tfoot":return lc(5,null);case"colgroup":return lc(7,null);case"tr":return lc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?lc(1,null):e}var mW=et("<!-- -->");function aoe(e,t,n,r){return t===""?r:(r&&e.push(mW),e.push(fn(Ga(t))),!0)}var ooe=new Map,RKt=et(' style="'),soe=et(":"),OKt=et(";");function tAe(e,t,n){if(typeof n!="object")throw Error(nn(62));t=!0;for(var r in n)if(cs.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var a=fn(Ga(r));i=fn(Ga((""+i).trim()))}else{a=r;var o=ooe.get(a);o!==void 0||(o=et(Ga(a.replace(CKt,"-$1").toLowerCase().replace(SKt,"-ms-"))),ooe.set(a,o)),a=o,i=typeof i=="number"?i===0||cs.call(W_,r)?fn(""+i):fn(i+"px"):fn(Ga((""+i).trim()))}t?(t=!1,e.push(RKt,a,soe,i)):e.push(OKt,a,soe,i)}}t||e.push(Em)}var sh=et(" "),f1=et('="'),Em=et('"'),loe=et('=""');function Ms(e,t,n,r){switch(n){case"style":tAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=to.hasOwnProperty(n)?to[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=fn(t.attributeName),t.type){case 3:r&&e.push(sh,n,loe);break;case 4:r===!0?e.push(sh,n,loe):r!==!1&&e.push(sh,n,f1,fn(Ga(r)),Em);break;case 5:isNaN(r)||e.push(sh,n,f1,fn(Ga(r)),Em);break;case 6:!isNaN(r)&&1<=r&&e.push(sh,n,f1,fn(Ga(r)),Em);break;default:t.sanitizeURL&&(r=""+r),e.push(sh,n,f1,fn(Ga(r)),Em)}}else if(eAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(sh,fn(n),f1,fn(Ga(r)),Em)}}}var lh=et(">"),uoe=et("/>");function G_(e,t,n){if(t!=null){if(n!=null)throw Error(nn(60));if(typeof t!="object"||!("__html"in t))throw Error(nn(61));t=t.__html,t!=null&&e.push(fn(""+t))}}function $Kt(e){var t="";return XTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var vP=et(' selected=""');function bP(e,t,n,r){e.push(uc(n));var i=n=null,a;for(a in t)if(cs.call(t,a)){var o=t[a];if(o!=null)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Ms(e,r,a,o)}}return e.push(lh),G_(e,i,n),typeof n=="string"?(e.push(fn(Ga(n))),null):n}var xP=et(`
`),PKt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,coe=new Map;function uc(e){var t=coe.get(e);if(t===void 0){if(!PKt.test(e))throw Error(nn(65,e));t=et("<"+e),coe.set(e,t)}return t}var FKt=et("<!DOCTYPE html>");function NKt(e,t,n,r,i){switch(t){case"select":e.push(uc("select"));var a=null,o=null;for(d in n)if(cs.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"defaultValue":case"value":break;default:Ms(e,r,d,s)}}return e.push(lh),G_(e,o,a),a;case"option":o=i.selectedValue,e.push(uc("option"));var l=s=null,c=null,d=null;for(a in n)if(cs.call(n,a)){var h=n[a];if(h!=null)switch(a){case"children":s=h;break;case"selected":c=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":l=h;default:Ms(e,r,a,h)}}if(o!=null)if(n=l!==null?""+l:$Kt(s),X8(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(vP);break}}else""+o===n&&e.push(vP);else c&&e.push(vP);return e.push(lh),G_(e,d,s),s;case"textarea":e.push(uc("textarea")),d=o=a=null;for(s in n)if(cs.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":a=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(nn(91));default:Ms(e,r,s,l)}if(a===null&&o!==null&&(a=o),e.push(lh),d!=null){if(a!=null)throw Error(nn(92));if(X8(d)&&1<d.length)throw Error(nn(93));a=""+d}return typeof a=="string"&&a[0]===`
`&&e.push(xP),a!==null&&e.push(fn(Ga(""+a))),null;case"input":e.push(uc("input")),l=d=s=a=null;for(o in n)if(cs.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(nn(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":s=c;break;case"checked":d=c;break;case"value":a=c;break;default:Ms(e,r,o,c)}return d!==null?Ms(e,r,"checked",d):l!==null&&Ms(e,r,"checked",l),a!==null?Ms(e,r,"value",a):s!==null&&Ms(e,r,"value",s),e.push(uoe),null;case"menuitem":e.push(uc("menuitem"));for(var p in n)if(cs.call(n,p)&&(a=n[p],a!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(nn(400));default:Ms(e,r,p,a)}return e.push(lh),null;case"title":e.push(uc("title")),a=null;for(h in n)if(cs.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":a=o;break;case"dangerouslySetInnerHTML":throw Error(nn(434));default:Ms(e,r,h,o)}return e.push(lh),a;case"listing":case"pre":e.push(uc(t)),o=a=null;for(l in n)if(cs.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ms(e,r,l,s)}if(e.push(lh),o!=null){if(a!=null)throw Error(nn(60));if(typeof o!="object"||!("__html"in o))throw Error(nn(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(xP,fn(n)):e.push(fn(""+n)))}return typeof a=="string"&&a[0]===`
`&&e.push(xP),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(uc(t));for(var m in n)if(cs.call(n,m)&&(a=n[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(nn(399,t));default:Ms(e,r,m,a)}return e.push(uoe),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return bP(e,n,t,r);case"html":return i.insertionMode===0&&e.push(FKt),bP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return bP(e,n,t,r);e.push(uc(t)),o=a=null;for(c in n)if(cs.call(n,c)&&(s=n[c],s!=null))switch(c){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"style":tAe(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:eAe(c)&&typeof s!="function"&&typeof s!="symbol"&&e.push(sh,fn(c),f1,fn(Ga(s)),Em)}return e.push(lh),G_(e,o,a),a}}var LKt=et("</"),BKt=et(">"),VKt=et('<template id="'),zKt=et('"></template>'),UKt=et("<!--$-->"),HKt=et('<!--$?--><template id="'),WKt=et('"></template>'),GKt=et("<!--$!-->"),YKt=et("<!--/$-->"),qKt=et("<template"),KKt=et('"'),ZKt=et(' data-dgst="');et(' data-msg="');et(' data-stck="');var XKt=et("></template>");function doe(e,t,n){if(pt(e,HKt),n===null)throw Error(nn(395));return pt(e,n),Gr(e,WKt)}var JKt=et('<div hidden id="'),QKt=et('">'),eZt=et("</div>"),tZt=et('<svg aria-hidden="true" style="display:none" id="'),nZt=et('">'),rZt=et("</svg>"),iZt=et('<math aria-hidden="true" style="display:none" id="'),aZt=et('">'),oZt=et("</math>"),sZt=et('<table hidden id="'),lZt=et('">'),uZt=et("</table>"),cZt=et('<table hidden><tbody id="'),dZt=et('">'),fZt=et("</tbody></table>"),hZt=et('<table hidden><tr id="'),pZt=et('">'),mZt=et("</tr></table>"),gZt=et('<table hidden><colgroup id="'),yZt=et('">'),vZt=et("</colgroup></table>");function bZt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return pt(e,JKt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,QKt);case 2:return pt(e,tZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,nZt);case 3:return pt(e,iZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,aZt);case 4:return pt(e,sZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,lZt);case 5:return pt(e,cZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,dZt);case 6:return pt(e,hZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,pZt);case 7:return pt(e,gZt),pt(e,t.segmentPrefix),pt(e,fn(r.toString(16))),Gr(e,yZt);default:throw Error(nn(397))}}function xZt(e,t){switch(t.insertionMode){case 0:case 1:return Gr(e,eZt);case 2:return Gr(e,rZt);case 3:return Gr(e,oZt);case 4:return Gr(e,uZt);case 5:return Gr(e,fZt);case 6:return Gr(e,mZt);case 7:return Gr(e,vZt);default:throw Error(nn(397))}}var wZt=et('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),CZt=et('$RS("'),SZt=et('","'),EZt=et('")<\/script>'),kZt=et('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),_Zt=et('$RC("'),TZt=et('","'),AZt=et('")<\/script>'),jZt=et('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),IZt=et('$RX("'),DZt=et('"'),MZt=et(")<\/script>"),wP=et(","),RZt=/[<\u2028\u2029]/g;function CP(e){return JSON.stringify(e).replace(RZt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var rC=Object.assign,OZt=Symbol.for("react.element"),nAe=Symbol.for("react.portal"),rAe=Symbol.for("react.fragment"),iAe=Symbol.for("react.strict_mode"),aAe=Symbol.for("react.profiler"),oAe=Symbol.for("react.provider"),sAe=Symbol.for("react.context"),lAe=Symbol.for("react.forward_ref"),uAe=Symbol.for("react.suspense"),cAe=Symbol.for("react.suspense_list"),dAe=Symbol.for("react.memo"),gW=Symbol.for("react.lazy"),$Zt=Symbol.for("react.scope"),PZt=Symbol.for("react.debug_trace_mode"),FZt=Symbol.for("react.legacy_hidden"),NZt=Symbol.for("react.default_value"),foe=Symbol.iterator;function J8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rAe:return"Fragment";case nAe:return"Portal";case aAe:return"Profiler";case iAe:return"StrictMode";case uAe:return"Suspense";case cAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sAe:return(e.displayName||"Context")+".Consumer";case oAe:return(e._context.displayName||"Context")+".Provider";case lAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dAe:return t=e.displayName||null,t!==null?t:J8(e.type)||"Memo";case gW:t=e._payload,e=e._init;try{return J8(e(t))}catch{}}return null}var fAe={};function hoe(e,t){if(e=e.contextTypes,!e)return fAe;var n={},r;for(r in e)n[r]=t[r];return n}var Nm=null;function tR(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(nn(401))}else{if(n===null)throw Error(nn(401));tR(e,n)}t.context._currentValue=t.value}}function hAe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&hAe(e)}function pAe(e){var t=e.parent;t!==null&&pAe(t),e.context._currentValue=e.value}function mAe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(nn(402));e.depth===t.depth?tR(e,t):mAe(e,t)}function gAe(e,t){var n=t.parent;if(n===null)throw Error(nn(402));e.depth===n.depth?tR(e,n):gAe(e,n),t.context._currentValue=t.value}function Cj(e){var t=Nm;t!==e&&(t===null?pAe(e):e===null?hAe(t):t.depth===e.depth?tR(t,e):t.depth>e.depth?mAe(t,e):gAe(t,e),Nm=e)}var poe={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function moe(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=poe,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:rC({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&poe.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&t.length===1)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];s=typeof s=="function"?s.call(e,a,n,r):s,s!=null&&(i?(i=!1,a=rC({},a,s)):rC(a,s))}e.state=a}else a.queue=null}var LZt={id:1,overflow:""};function Q8(e,t,n){var r=e.id;e=e.overflow;var i=32-Y_(r)-1;r&=~(1<<i),n+=1;var a=32-Y_(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Y_(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var Y_=Math.clz32?Math.clz32:zZt,BZt=Math.log,VZt=Math.LN2;function zZt(e){return e>>>=0,e===0?32:31-(BZt(e)/VZt|0)|0}function UZt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HZt=typeof Object.is=="function"?Object.is:UZt,xf=null,yW=null,q_=null,Or=null,gw=!1,Sj=!1,mS=0,Vh=null,nR=0;function km(){if(xf===null)throw Error(nn(321));return xf}function goe(){if(0<nR)throw Error(nn(312));return{memoizedState:null,queue:null,next:null}}function vW(){return Or===null?q_===null?(gw=!1,q_=Or=goe()):(gw=!0,Or=q_):Or.next===null?(gw=!1,Or=Or.next=goe()):(gw=!0,Or=Or.next),Or}function bW(){yW=xf=null,Sj=!1,q_=null,nR=0,Or=Vh=null}function yAe(e,t){return typeof t=="function"?t(e):t}function yoe(e,t,n){if(xf=km(),Or=vW(),gw){var r=Or.queue;if(t=r.dispatch,Vh!==null&&(n=Vh.get(r),n!==void 0)){Vh.delete(r),r=Or.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Or.memoizedState=r,[r,t]}return[Or.memoizedState,t]}return e=e===yAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Or.memoizedState=e,e=Or.queue={last:null,dispatch:null},e=e.dispatch=WZt.bind(null,xf,e),[Or.memoizedState,e]}function voe(e,t){if(xf=km(),Or=vW(),t=t===void 0?null:t,Or!==null){var n=Or.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!HZt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Or.memoizedState=[e,t],e}function WZt(e,t,n){if(25<=nR)throw Error(nn(301));if(e===xf)if(Sj=!0,e={action:n,next:null},Vh===null&&(Vh=new Map),n=Vh.get(t),n===void 0)Vh.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function GZt(){throw Error(nn(394))}function g5(){}var boe={readContext:function(e){return e._currentValue},useContext:function(e){return km(),e._currentValue},useMemo:voe,useReducer:yoe,useRef:function(e){xf=km(),Or=vW();var t=Or.memoizedState;return t===null?(e={current:e},Or.memoizedState=e):t},useState:function(e){return yoe(yAe,e)},useInsertionEffect:g5,useLayoutEffect:function(){},useCallback:function(e,t){return voe(function(){return e},t)},useImperativeHandle:g5,useEffect:g5,useDebugValue:g5,useDeferredValue:function(e){return km(),e},useTransition:function(){return km(),[!1,GZt]},useId:function(){var e=yW.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Y_(e)-1)).toString(32)+t;var n=K_;if(n===null)throw Error(nn(404));return t=mS++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return km(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(nn(407));return n()}},K_=null,SP=XTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function YZt(e){return console.error(e),null}function yw(){}function qZt(e,t,n,r,i,a,o,s,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?YZt:i,onAllReady:a===void 0?yw:a,onShellReady:o===void 0?yw:o,onShellError:s===void 0?yw:s,onFatalError:l===void 0?yw:l},n=Ej(t,0,null,n,!1,!1),n.parentFlushed=!0,e=xW(t,e,null,n,d,fAe,null,LZt),c.push(e),t}function xW(e,t,n,r,i,a,o,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&xAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function Ej(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function gS(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function kj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,QTe(e.destination,t)):(e.status=1,e.fatalError=t)}function xoe(e,t,n,r,i){for(xf={},yW=t,mS=0,e=n(r,i);Sj;)Sj=!1,mS=0,nR+=1,Or=null,e=n(r,i);return bW(),e}function woe(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(a!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var s in n)if(!(s in a))throw Error(nn(108,J8(r)||"Unknown",s));r=rC({},o,n)}t.legacyContext=r,Vs(e,t,i),t.legacyContext=o}else Vs(e,t,i)}function Coe(e,t){if(e&&e.defaultProps){t=rC({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function e6(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=hoe(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue:i),moe(a,n,r,i),woe(e,t,a,n)}else{a=hoe(n,t.legacyContext),i=xoe(e,t,n,r,a);var o=mS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)moe(i,n,r,a),woe(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=Q8(r,1,0);try{Vs(e,t,i)}finally{t.treeContext=r}}else Vs(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,a=NKt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=MKt(o,n,r),t6(e,t,a),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(LKt,fn(n),BKt)}i.lastPushedText=!1}else{switch(n){case FZt:case PZt:case iAe:case aAe:case rAe:Vs(e,t,r.children);return;case cAe:Vs(e,t,r.children);return;case $Zt:throw Error(nn(343));case uAe:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children,o=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Ej(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=Ej(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=c;try{if(t6(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(mW),c.status=1,_j(s,c),s.pendingTasks===0)break e}catch(d){c.status=4,s.forceClientRender=!0,s.errorDigest=gS(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=xW(e,a,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case lAe:if(r=xoe(e,t,n.render,r,i),mS!==0){n=t.treeContext,t.treeContext=Q8(n,1,0);try{Vs(e,t,r)}finally{t.treeContext=n}}else Vs(e,t,r);return;case dAe:n=n.type,r=Coe(n,r),e6(e,t,n,r,i);return;case oAe:if(i=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,o=Nm,Nm=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:a,value:r},t.context=r,Vs(e,t,i),e=Nm,e===null)throw Error(nn(403));r=e.parentValue,e.context._currentValue=r===NZt?e.context._defaultValue:r,e=Nm=e.parent,t.context=e;return;case sAe:r=r.children,r=r(n._currentValue),Vs(e,t,r);return;case gW:i=n._init,n=i(n._payload),r=Coe(n,r),e6(e,t,n,r,void 0);return}throw Error(nn(130,n==null?n:typeof n,""))}}function Vs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case OZt:e6(e,t,n.type,n.props,n.ref);return;case nAe:throw Error(nn(257));case gW:var r=n._init;n=r(n._payload),Vs(e,t,n);return}if(X8(n)){Soe(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=foe&&n[foe]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Soe(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(nn(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=aoe(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=aoe(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Soe(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Q8(a,r,i);try{t6(e,t,n[i])}finally{t.treeContext=a}}}function t6(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Vs(e,t,n)}catch(l){if(bW(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,s=Ej(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=xW(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Cj(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Cj(a),l}}function KZt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,bAe(this,t,e)}function vAe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(nn(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return vAe(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function _j(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&_j(e,n)}else e.completedSegments.push(t)}function bAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(nn(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=yw,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&_j(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(KZt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(_j(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function xAe(e){if(e.status!==2){var t=Nm,n=SP.current;SP.current=boe;var r=K_;K_=e.responseState;try{var i=e.pingedTasks,a;for(a=0;a<i.length;a++){var o=i[a],s=e,l=o.blockedSegment;if(l.status===0){Cj(o.context);try{Vs(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(mW),o.abortSet.delete(o),l.status=1,bAe(s,o.blockedBoundary,l)}catch(g){if(bW(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var c=o.ping;g.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,h=g,p=gS(s,h);if(d===null?kj(s,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,a),e.destination!==null&&wW(e,e.destination)}catch(g){gS(e,g),kj(e,g)}finally{K_=r,SP.current=n,n===boe&&Cj(t)}}}function y5(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,pt(t,VKt),pt(t,e.placeholderPrefix),e=fn(r.toString(16)),pt(t,e),Gr(t,zKt);case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];a<i.index;a++)pt(t,r[a]);i=rR(e,t,i)}for(;a<r.length-1;a++)pt(t,r[a]);return a<r.length&&(i=Gr(t,r[a])),i;default:throw Error(nn(390))}}function rR(e,t,n){var r=n.boundary;if(r===null)return y5(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Gr(t,GKt),pt(t,qKt),r&&(pt(t,ZKt),pt(t,fn(Ga(r))),pt(t,KKt)),Gr(t,XKt),y5(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;i=et(i.boundaryPrefix+a.toString(16)),r=r.id=i,doe(t,e.responseState,r),y5(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),doe(t,e.responseState,r.id),y5(e,t,n);else{if(Gr(t,UKt),n=r.completedSegments,n.length!==1)throw Error(nn(391));rR(e,t,n[0])}return Gr(t,YKt)}function Eoe(e,t,n){return bZt(t,e.responseState,n.formatContext,n.id),rR(e,t,n),xZt(t,n.formatContext)}function koe(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)wAe(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,pt(t,e.startInlineScript),e.sentCompleteBoundaryFunction?pt(t,_Zt):(e.sentCompleteBoundaryFunction=!0,pt(t,kZt)),r===null)throw Error(nn(395));return n=fn(n.toString(16)),pt(t,r),pt(t,TZt),pt(t,e.segmentPrefix),pt(t,n),Gr(t,AZt)}function wAe(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(nn(392));return Eoe(e,t,r)}return Eoe(e,t,r),e=e.responseState,pt(t,e.startInlineScript),e.sentCompleteSegmentFunction?pt(t,CZt):(e.sentCompleteSegmentFunction=!0,pt(t,wZt)),pt(t,e.segmentPrefix),i=fn(i.toString(16)),pt(t,i),pt(t,SZt),pt(t,e.placeholderPrefix),pt(t,i),Gr(t,EZt)}function wW(e,t){Ls=new Uint8Array(512),Bs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){rR(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)pt(t,r[n]);n<r.length&&Gr(t,r[n])}var i=e.clientRenderedBoundaries,a;for(a=0;a<i.length;a++){var o=i[a];r=t;var s=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(pt(r,s.startInlineScript),s.sentClientRenderFunction?pt(r,IZt):(s.sentClientRenderFunction=!0,pt(r,jZt)),l===null)throw Error(nn(395));pt(r,l),pt(r,DZt),(c||d||h)&&(pt(r,wP),pt(r,fn(CP(c||"")))),(d||h)&&(pt(r,wP),pt(r,fn(CP(d||"")))),h&&(pt(r,wP),pt(r,fn(CP(h)))),Gr(r,MZt)}i.splice(0,a);var p=e.completedBoundaries;for(a=0;a<p.length;a++)koe(e,t,p[a]);p.splice(0,a),toe(t),Ls=new Uint8Array(512),Bs=0;var m=e.partialBoundaries;for(a=0;a<m.length;a++){var g=m[a];e:{i=e,o=t;var y=g.completedSegments;for(s=0;s<y.length;s++)if(!wAe(i,o,g,y[s])){s++,y.splice(0,s);var v=!1;break e}y.splice(0,s),v=!0}if(!v){e.destination=null,a++,m.splice(0,a);return}}m.splice(0,a);var b=e.completedBoundaries;for(a=0;a<b.length;a++)koe(e,t,b[a]);b.splice(0,a)}finally{toe(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function _oe(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return vAe(r,e,t)}),n.clear(),e.destination!==null&&wW(e,e.destination)}catch(r){gS(e,r),kj(e,r)}}fW.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,a,o=new Promise(function(d,h){a=d,i=h}),s=qZt(e,IKt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),DKt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var d=new ReadableStream({type:"bytes",pull:function(h){if(s.status===1)s.status=2,QTe(h,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=h;try{wW(s,h)}catch(p){gS(s,p),kj(s,p)}}},cancel:function(){_oe(s)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,c=function(){_oe(s,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}xAe(s)})};fW.version="18.3.1";var Sb,CAe;Sb=Cb,CAe=fW;Sb.version;var ZZt=Sb.renderToString;Sb.renderToStaticMarkup;Sb.renderToNodeStream;Sb.renderToStaticNodeStream;CAe.renderToReadableStream;var XZt=rM,JZt=iU,QZt=JZt(function(e,t,n){XZt(e,n,t)}),eXt=QZt;const CW=Fe(eXt);var tXt=h0,nXt=OD;function rXt(e){return tXt(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&nXt(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var SAe=rXt,iXt=v0,aXt=SAe,oXt=sM,sXt=aXt(function(e,t,n,r){iXt(t,oXt(t),e,r)}),lXt=sXt,uXt=jf,cXt=il,dXt=hU,fXt="[object DOMException]",hXt="[object Error]";function pXt(e){if(!cXt(e))return!1;var t=uXt(e);return t==hXt||t==fXt||typeof e.message=="string"&&typeof e.name=="string"&&!dXt(e)}var EAe=pXt,mXt=Rxe,gXt=h0,yXt=EAe,vXt=gXt(function(e,t){try{return mXt(e,void 0,t)}catch(n){return yXt(n)?n:new Error(n)}}),bXt=vXt,xXt=bE,kAe=Object.prototype,wXt=kAe.hasOwnProperty;function CXt(e,t,n,r){return e===void 0||xXt(e,kAe[n])&&!wXt.call(r,n)?t:e}var SXt=CXt,EXt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function kXt(e){return"\\"+EXt[e]}var _Xt=kXt,TXt=/<%=([\s\S]+?)%>/g,_Ae=TXt,AXt=nke,jXt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},IXt=AXt(jXt),DXt=IXt,MXt=DXt,RXt=iu,TAe=/[&<>"']/g,OXt=RegExp(TAe.source);function $Xt(e){return e=RXt(e),e&&OXt.test(e)?e.replace(TAe,MXt):e}var PXt=$Xt,FXt=/<%-([\s\S]+?)%>/g,NXt=FXt,LXt=/<%([\s\S]+?)%>/g,BXt=LXt,VXt=PXt,zXt=NXt,UXt=BXt,HXt=_Ae,WXt={escape:zXt,evaluate:UXt,interpolate:HXt,variable:"",imports:{_:{escape:VXt}}},GXt=WXt,Toe=lXt,YXt=bXt,qXt=v_e,Aoe=SXt,KXt=_Xt,ZXt=EAe,XXt=OD,JXt=Kc,QXt=_Ae,joe=GXt,eJt=iu,tJt="Invalid `variable` option passed into `_.template`",nJt=/\b__p \+= '';/g,rJt=/\b(__p \+=) '' \+/g,iJt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aJt=/[()=,{}\[\]\/\s]/,oJt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v5=/($^)/,sJt=/['\n\r\u2028\u2029\\]/g,lJt=Object.prototype,Ioe=lJt.hasOwnProperty;function uJt(e,t,n){var r=joe.imports._.templateSettings||joe;n&&XXt(e,t,n)&&(t=void 0),e=eJt(e),t=Toe({},t,r,Aoe);var i=Toe({},t.imports,r.imports,Aoe),a=JXt(i),o=qXt(i,a),s,l,c=0,d=t.interpolate||v5,h="__p += '",p=RegExp((t.escape||v5).source+"|"+d.source+"|"+(d===QXt?oJt:v5).source+"|"+(t.evaluate||v5).source+"|$","g"),m=Ioe.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(p,function(v,b,x,w,C,S){return x||(x=w),h+=e.slice(c,S).replace(sJt,KXt),b&&(s=!0,h+=`' +
__e(`+b+`) +
'`),C&&(l=!0,h+=`';
`+C+`;
__p += '`),x&&(h+=`' +
((__t = (`+x+`)) == null ? '' : __t) +
'`),c=S+v.length,v}),h+=`';
`;var g=Ioe.call(t,"variable")&&t.variable;if(!g)h=`with (obj) {
`+h+`
}
`;else if(aJt.test(g))throw new Error(tJt);h=(l?h.replace(nJt,""):h).replace(rJt,"$1").replace(iJt,"$1;"),h="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var y=YXt(function(){return Function(a,m+"return "+h).apply(void 0,o)});if(y.source=h,ZXt(y))throw y;return y}var cJt=uJt;const dv=Fe(cJt);var dJt=v0,fJt=SAe,hJt=Kc,pJt=fJt(function(e,t,n,r){dJt(t,hJt(t),e,r)}),mJt=pJt;const gJt=Fe(mJt);var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.SKIP=jAe;var AAe=Gg.reduce=IAe;Gg.withCustomPathSegment=Gg.SKIP_MARKER=void 0;function SW(e,t){return bJt(e)||vJt(e,t)||yJt()}function yJt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function vJt(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}function bJt(e){if(Array.isArray(e))return e}function Z_(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z_=function(n){return typeof n}:Z_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Z_(e)}function iR(e,t,n){return t}function xJt(e){return Array.isArray(e)?"array":e===null?"null":Z_(e)}var EW={_:"SKIP_MARKER"};Gg.SKIP_MARKER=EW;function jAe(e){return[EW,e]}function kW(e,t,n,r){var i=t(e,n,r);return i===jAe?[!0,e]:Array.isArray(i)&&i[0]===EW?[!0,i[1]]:[!1,i]}function wJt(e,t,n,r){var i=kW(e,t,n,r),a=SW(i,2),o=a[1];return o}function CJt(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:iR,a=kW(e,t,n,r),o=SW(a,2),s=o[0],l=o[1];return s?l:Object.keys(n).reduce(function(c,d){return _W(c,t,n[d],r.concat(i(n[d],d,n)),i)},l)}function SJt(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:iR,a=kW(e,t,n,r),o=SW(a,2),s=o[0],l=o[1];return s?l:n.reduce(function(c,d,h){return _W(c,t,d,r.concat(i(d,h,n)),i)},l)}function _W(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:iR,a=xJt(n);return a==="object"?CJt(e,t,n,r,i):a==="array"?SJt(e,t,n,r,i):wJt(e,t,n,r)}function IAe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:iR;return _W(n,t,e,[],r)}var EJt=function(t){return function(n,r,i){return IAe(n,r,i,t)}};Gg.withCustomPathSegment=EJt;function TW(e){return t=>oa(()=>{const n=new Fr;return t.pipe(Ez(()=>n,{leading:!0,trailing:!0}),rCe((r,i)=>Hwe(e(r,i),Jl).pipe(VD(()=>{n.next()}))))})}class kJt{constructor(t){Y(this,"current",0);Y(this,"resolvers",[]);Y(this,"ready",()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.resolvers.push(t)}));Y(this,"release",()=>{if(this.max===1/0)return;const t=this.resolvers.shift();if(t){t();return}this.current=Math.max(0,this.current-1)});this.max=t}}const _Jt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class DAe{constructor(t,n,r){this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=_Jt[n];if(!r)throw new Error(`Unknown opcode: ${n}`);let i=`process${r}`;this[i].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let i=this.outputObject();this.model.objectSetField(i,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),i=this.outputObject();this.model.objectSetField(i,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.model.objectGetField(n.value,r);this.inputStack.push({value:i,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.outputObject();this.model.objectDeleteField(i,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),i=this.inputEntry().value;this.model.arrayAppendSlice(r,i,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),i=this.inputEntry().value;this.model.stringAppendSlice(r,i,t,n)}}function ak(e){return e>>16?4:e>>11?3:e>>7?2:1}function n6(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),i=ak(r);i==4&&n++,t+=i}return t}function Doe(e,t,n=0){let r=n,i=0;for(i=n;r<t;i++){let a=e.codePointAt(i),o=ak(a);o===4&&i++,r+=o}return i}function TJt(e,t){let n=Math.min(e.length,t.length),r=0;for(let i=0;i<n;){let a=e.codePointAt(i),o=t.codePointAt(i);if(a!==o)return r;let s=ak(a);r+=s,i+=s===4?2:1}return r}function AJt(e,t,n=0){let r=Math.min(e.length,t.length)-n,i=0;for(let a=0;a<r;){let o=e.codePointAt(e.length-1-a),s=t.codePointAt(t.length-1-a);if(o!==s)return i;let l=ak(o);i+=l,a+=l===4?2:1}return i}class r6{constructor(t){this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n,r=this.meta){return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,i]of Object.entries(t.data))n[r]=this.wrapWithMeta(i,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(i=>this.wrapWithMeta(i,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:n6(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap($d(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],i=n?n.metas:[];return{type:"array",elements:r,metas:i}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,i){let a=this.asArray(n),o=a.elements.length===r;if(t.elements.push(...a.elements.slice(r,i)),o)t.metas.push(...a.metas.slice(r,i));else for(let s=r;s<i;s++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let i of r.parts)this.stringAppendPart(t,i)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let i=n;i<t.parts.length;i++){let a=t.parts[i];if(r===a.utf8size)return i+1;if(r<a.utf8size)return this.splitString(a,r),i+1;r-=a.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,i,a=n,o=t.utf8size-a;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<a;n++){let c=t.value.codePointAt(n),d=ak(c);d===4&&n++,l+=d}}r=t.value.slice(0,n),i=t.value.slice(n);let s={value:i,utf8size:o,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=a;for(let l of t.uses){let c=l.parts.indexOf(t);if(c===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(c+1,0,s)}}stringAppendSlice(t,n,r,i){let a=this.asString(n),o=this.resolveStringPart(a,0,r),s=this.resolveStringPart(a,o,i-r);for(let l=o;l<s;l++){let c=a.parts[l];this.stringAppendPart(t,c)}}}function jJt(e,t){return{data:e,startMeta:t,endMeta:t}}function $d(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>$d(r));break;case"object":{t={};for(let[r,i]of Object.entries(n.fields))t[r]=$d(i)}}return e.data=t,t}function i6(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function a6(e,t){let n=i6(e),r=i6(t);if(n!==r)return t;let i=new r6(e.endMeta),a=new r6(t.endMeta);switch(n){case"object":{let o=i.asObject(e),s=a.asObject(t),l=0,c=Object.keys(o.fields).length,d=Object.keys(s.fields).length;for(let[h,p]of Object.entries(s.fields)){let m=o.fields[h];m&&(s.fields[h]=a6(m,p),s.fields[h]===m&&l++)}return c===d&&c===l?e:t}case"array":{let o=i.asArray(e),s=a.asArray(t);if(o.elements.length!==s.elements.length)break;let l=0;for(let c=0;c<s.elements.length;c++)s.elements[c]=a6(o.elements[c],s.elements[c]),s.elements[c]!==o.elements[c]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if($d(e)===$d(t))return e;break}case"string":{let o=$d(e),s=$d(t);if(o===s)return e;let l=a.copyString(null),c=TJt(o,s),d=AJt(o,s,c),h=n6(s),p=n6(o);0<c&&a.stringAppendSlice(l,e,0,c),c<h-d&&a.stringAppendSlice(l,t,c,h-d),p-d<p&&a.stringAppendSlice(l,e,p-d,p);let m=a.finalize(l);if($d(m)!==s)throw new Error("incorrect string rebase");return m}}return t}function IJt(e,t,n){let r=new r6(n);return new DAe(r,e,t).process()}var gu=Object.freeze({__proto__:null,applyPatch:IJt,getType:i6,rebaseValue:a6,unwrap:$d,wrap:jJt});class DJt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,i]of Object.entries(t))n.data[r]=i;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,i){t.push(...n.slice(r,i))}stringAppendSlice(t,n,r,i){const a=n,o=Doe(a,r),s=Doe(a,i,o);t.data+=a.slice(o,s)}stringAppendValue(t,n){t.data+=n}}function Tj(e,t){let n=e;return new DAe(new DJt,n,t).process()}function Wp(e,t,n){return delete e[t],e[t]=n,n}function MJt(e,t){const n=RJt(e,t);return OJt(n,e,t)}function RJt(e,t){const n=e.length,r=t.length;let i=0,a=0;const o=new Array(n+1);for(i=0;i<n+1;i++)for(o[i]=[r+1],a=0;a<r+1;a++)o[i][a]=0;for(i=1;i<n+1;i++)for(a=1;a<r+1;a++)e[i-1]===t[a-1]?o[i][a]=o[i-1][a-1]+1:o[i][a]=Math.max(o[i-1][a],o[i][a-1]);return o}function OJt(e,t,n){let r=t.length,i=n.length;const a={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&i!==0;)if(t[r-1]===n[i-1])a.sequence.unshift(t[r-1]),a.prevIndices.unshift(r-1),a.nextIndices.unshift(i-1),--r,--i;else{const o=e[r][i-1],s=e[r-1][i];o>s?--i:--r}return a}function $Jt(e,t,n){if(e===t){const o=e.value,s=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:s,get items(){const l=Moe(e,t,n);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return Wp(this,"items",l)}}}const r=Ooe(e),i=Ooe(t);if(r&&i)return FJt(e,r,t,i);const a=Moe(e,t,n);return a?AW(e,t,a,!1):PJt(e,t)}function AW(e,t,n,r){const i=e.value,a=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:a,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:a,items:n}}function Moe(e,t,n){if(e.length!==t.length)return;const r=[];for(let i=0;i<e.length;i++){const a=aR(e.at(i),t.at(i),n);if(a.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:a,annotation:t.annotationAt(i)})}return r}function PJt(e,t,n){const r=[];for(let i=0;i<t.length;i++){const a=t.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:T0(a,void 0),annotation:a.annotation})}for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:_0(a,void 0),annotation:a.annotation})}return AW(e,t,r,!0)}function FJt(e,t,n,r,i){const a=[];let o=!1;function s(c,d,h,p){Roe(t.index,c,d),Roe(r.index,c,h);const m=e.at(d),g=n.at(h),y=aR(m,g);a.push({fromIndex:d,toIndex:h,hasMoved:p,diff:y,annotation:n.annotationAt(h)}),(y.isChanged||d!==h)&&(o=!0)}const l=MJt(t.keys,r.keys);for(let c=0;c<t.keys.length;c++){const d=t.keys[c],h=l.prevIndices.indexOf(c);if(h!==-1){s(d,c,l.nextIndices[h],!1);continue}const p=r.index.get(d),m=p&&p.find(y=>!l.nextIndices.includes(y));if(m!==void 0){s(d,c,m,!0);continue}const g=e.at(c);a.push({fromIndex:c,toIndex:void 0,hasMoved:!1,diff:_0(g,void 0),annotation:e.annotationAt(c)}),o=!0}for(const c of r.index.values()){for(const d of c){const h=n.at(d);a.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:T0(h,void 0),annotation:n.annotationAt(d)})}o=!0}return a.sort(NJt),AW(e,n,a,o)}function NJt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function Roe(e,t,n){const r=e.get(t);LJt(r,n),r.length===0&&e.delete(t)}function LJt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function Ooe(e){const t=new Map,n=[],r=e.length;for(let i=0;i<r;i++){const a=e.at(i);let o=null;switch(a.type){case"string":o=`s${a.value}`;break;case"number":o=a.value;break;case"boolean":o=a.value;break;case"null":o="n";break;case"object":{const l=a.get("_key");if(l&&l.type==="string"&&(o=`k${l.value}`,t.has(o)))return}break}if(o===null)return;n.push(o);let s=t.get(o);s||(s=[],t.set(o,s)),s.push(i)}return{keys:n,index:t}}function BJt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:_0(a,void 0),annotation:e.annotationAt(i)})}return Wp(this,"items",r)}}}function VJt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:T0(a,void 0),annotation:e.annotationAt(i)})}return Wp(this,"items",r)}}}const $oe=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function zJt(e,t,n){const r={};let i=!1;for(const s of e.keys){if($oe.has(s))continue;const l=e.get(s),c=t.get(s);if(c){const d=aR(l,c,n);r[s]=d,d.isChanged&&(i=!0)}else r[s]=_0(l,void 0),i=!0}for(const s of t.keys){if($oe.has(s)||e.get(s))continue;const l=t.get(s);r[s]=T0(l,void 0),i=!0}const a=e.value,o=t.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:a,toValue:o,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:a,toValue:o,fields:r}}function UJt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const a=e.get(i);r[i]=_0(a,void 0)}return Wp(this,"fields",r)}}}function HJt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const a=e.get(i);r[i]=T0(a,void 0)}return Wp(this,"fields",r)}}}function WJt(e,t,n){const r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function GJt(e,t,n){const r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function YJt(e,t,n){const r=e.value,i=t.value;return r===i?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:i,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation,get segments(){const a=qJt(e,t);return Wp(this,"segments",a)}}}function qJt(e,t){const n=[],r=gH(yb(e.value,t.value));let i=0,a=0;for(const[o,s]of r)switch(o){case Ht:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,a+=s.length;break;case ar:for(const l of e.sliceAnnotation(i,i+s.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});i+=s.length;break;case kr:for(const l of t.sliceAnnotation(a,a+s.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});a+=s.length;break;default:throw new Error(`Unhandled diff-match-patch operation "${o}"`)}return n}function KJt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"removed",...i}));return Wp(this,"segments",r)}}}function ZJt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"added",...i}));return Wp(this,"segments",r)}}}function XJt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:_0(e,void 0),toType:t.type,toValue:t.value,toDiff:T0(t,void 0),annotation:t.annotation}}function aR(e,t,n={}){return e.type!==t.type?e.type==="null"?T0(t,null):t.type==="null"?_0(e,null):XJt(e,t):JJt(e.type,e,t,n)}function JJt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return GJt(t,n);case"number":return WJt(t,n);case"string":return YJt(t,n);case"array":return $Jt(t,n,r);case"object":return zJt(t,n,r);default:throw new Error(`Unhandled diff type "${e}"`)}}function _0(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return KJt(e,t);case"array":return BJt(e,t);case"object":return UJt(e,t);default:throw new Error("Unhandled diff type")}}function T0(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return ZJt(e,t);case"array":return VJt(e,t);case"object":return HJt(e,t);default:throw new Error("Unhandled diff type")}}class QJt{constructor(t,n){Y(this,"type","array");Y(this,"length");Y(this,"value");Y(this,"annotation");Y(this,"elements",[]);this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=jW(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class EP{constructor(t,n,r){Y(this,"type");Y(this,"value");Y(this,"annotation");this.type=t,this.value=n,this.annotation=r}}class eQt{constructor(t,n){Y(this,"type","object");Y(this,"value");Y(this,"keys");Y(this,"annotation");Y(this,"fields",{});this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=jW(r,this.annotation)}}let tQt=class{constructor(t,n){Y(this,"type","string");Y(this,"value");Y(this,"annotation");this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};function jW(e,t){if(Array.isArray(e))return new QJt(e,t);if(e===null)return new EP("null",e,t);const n=typeof e;switch(n){case"number":return new EP(n,e,t);case"boolean":return new EP(n,e,t);case"object":return new eQt(e,t);case"string":return new tQt(e,t);default:throw new Error(`cannot wrap value of type: ${n}`)}}var oR={exports:{}},vw={exports:{}};(function(){var e,t,n,r,i,a;typeof performance<"u"&&performance!==null&&performance.now?vw.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(vw.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},r=e(),a=process.uptime()*1e9,i=r-a):Date.now?(vw.exports=function(){return Date.now()-n},n=Date.now()):(vw.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(va);var nQt=vw.exports,rQt=nQt,nf=typeof window>"u"?va:window,b5=["moz","webkit"],by="AnimationFrame",fv=nf["request"+by],yS=nf["cancel"+by]||nf["cancelRequest"+by];for(var Ox=0;!fv&&Ox<b5.length;Ox++)fv=nf[b5[Ox]+"Request"+by],yS=nf[b5[Ox]+"Cancel"+by]||nf[b5[Ox]+"CancelRequest"+by];if(!fv||!yS){var kP=0,Poe=0,om=[],iQt=1e3/60;fv=function(e){if(om.length===0){var t=rQt(),n=Math.max(0,iQt-(t-kP));kP=n+t,setTimeout(function(){var r=om.slice(0);om.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(kP)}catch(a){setTimeout(function(){throw a},0)}},Math.round(n))}return om.push({handle:++Poe,callback:e,cancelled:!1}),Poe},yS=function(e){for(var t=0;t<om.length;t++)om[t].handle===e&&(om[t].cancelled=!0)}}oR.exports=function(e){return fv.call(nf,e)};oR.exports.cancel=function(){yS.apply(nf,arguments)};oR.exports.polyfill=function(e){e||(e=nf),e.requestAnimationFrame=fv,e.cancelAnimationFrame=yS};var aQt=oR.exports;const oQt=Fe(aQt);var sQt=1/0,lQt="[object Symbol]",uQt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cQt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sR="\\ud800-\\udfff",MAe="\\u0300-\\u036f\\ufe20-\\ufe23",RAe="\\u20d0-\\u20f0",OAe="\\u2700-\\u27bf",$Ae="a-z\\xdf-\\xf6\\xf8-\\xff",dQt="\\xac\\xb1\\xd7\\xf7",fQt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hQt="\\u2000-\\u206f",pQt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",PAe="A-Z\\xc0-\\xd6\\xd8-\\xde",FAe="\\ufe0e\\ufe0f",NAe=dQt+fQt+hQt+pQt,IW="[']",mQt="["+sR+"]",Foe="["+NAe+"]",Aj="["+MAe+RAe+"]",LAe="\\d+",gQt="["+OAe+"]",BAe="["+$Ae+"]",VAe="[^"+sR+NAe+LAe+OAe+$Ae+PAe+"]",o6="\\ud83c[\\udffb-\\udfff]",yQt="(?:"+Aj+"|"+o6+")",zAe="[^"+sR+"]",DW="(?:\\ud83c[\\udde6-\\uddff]){2}",MW="[\\ud800-\\udbff][\\udc00-\\udfff]",h1="["+PAe+"]",UAe="\\u200d",Noe="(?:"+BAe+"|"+VAe+")",vQt="(?:"+h1+"|"+VAe+")",Loe="(?:"+IW+"(?:d|ll|m|re|s|t|ve))?",Boe="(?:"+IW+"(?:D|LL|M|RE|S|T|VE))?",HAe=yQt+"?",WAe="["+FAe+"]?",bQt="(?:"+UAe+"(?:"+[zAe,DW,MW].join("|")+")"+WAe+HAe+")*",GAe=WAe+HAe+bQt,xQt="(?:"+[gQt,DW,MW].join("|")+")"+GAe,wQt="(?:"+[zAe+Aj+"?",Aj,DW,MW,mQt].join("|")+")",CQt=RegExp(IW,"g"),SQt=RegExp(Aj,"g"),EQt=RegExp(o6+"(?="+o6+")|"+wQt+GAe,"g"),kQt=RegExp([h1+"?"+BAe+"+"+Loe+"(?="+[Foe,h1,"$"].join("|")+")",vQt+"+"+Boe+"(?="+[Foe,h1+Noe,"$"].join("|")+")",h1+"?"+Noe+"+"+Loe,h1+"+"+Boe,LAe,xQt].join("|"),"g"),_Qt=RegExp("["+UAe+sR+MAe+RAe+FAe+"]"),TQt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,AQt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},jQt=typeof va=="object"&&va&&va.Object===Object&&va,IQt=typeof self=="object"&&self&&self.Object===Object&&self,DQt=jQt||IQt||Function("return this")();function MQt(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function RQt(e){return e.split("")}function OQt(e){return e.match(uQt)||[]}function $Qt(e){return function(t){return e==null?void 0:e[t]}}var PQt=$Qt(AQt);function YAe(e){return _Qt.test(e)}function FQt(e){return TQt.test(e)}function NQt(e){return YAe(e)?LQt(e):RQt(e)}function LQt(e){return e.match(EQt)||[]}function BQt(e){return e.match(kQt)||[]}var VQt=Object.prototype,zQt=VQt.toString,Voe=DQt.Symbol,zoe=Voe?Voe.prototype:void 0,Uoe=zoe?zoe.toString:void 0;function UQt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function HQt(e){if(typeof e=="string")return e;if(KQt(e))return Uoe?Uoe.call(e):"";var t=e+"";return t=="0"&&1/e==-sQt?"-0":t}function WQt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:UQt(e,t,n)}function GQt(e){return function(t){t=RW(t);var n=YAe(t)?NQt(t):void 0,r=n?n[0]:t.charAt(0),i=n?WQt(n,1).join(""):t.slice(1);return r[e]()+i}}function YQt(e){return function(t){return MQt(QQt(ZQt(t).replace(CQt,"")),e,"")}}function qQt(e){return!!e&&typeof e=="object"}function KQt(e){return typeof e=="symbol"||qQt(e)&&zQt.call(e)==lQt}function RW(e){return e==null?"":HQt(e)}function ZQt(e){return e=RW(e),e&&e.replace(cQt,PQt).replace(SQt,"")}var XQt=YQt(function(e,t,n){return e+(n?" ":"")+JQt(t)}),JQt=GQt("toUpperCase");function QQt(e,t,n){return e=RW(e),t=n?void 0:t,t===void 0?FQt(e)?BQt(e):OQt(e):e.match(t)||[]}var een=XQt;const Hoe=Fe(een);function Woe(e){var n;const t=qAe(e)&&(e.to??[]).length===1?e.to[0].icon:void 0;return e.icon??((n=e.type)==null?void 0:n.icon)??t}function qAe(e){return ten(e)&&(e.name==="reference"||qAe(e.type))}function ten(e){return!!e&&(typeof e=="object"||typeof e=="function")}function nen(e,t){return{query:t.type==="change query"?t.query:e.query,groups:t.type==="select group"?e.groups.map(n=>({...n,selected:t.name===n.name})):e.groups,views:t.type==="toggle view"?e.views.map(n=>({...n,selected:t.name===n.name})):e.views}}const KAe="all-items",ren={gridTemplateColumns:"repeat(auto-fill, minmax(118px, 1fr))"};function ien(e){const t=e.showIcons===void 0?!0:e.showIcons,n=e.filter===void 0||e.filter==="auto"?e.schemaTypes.length>5:e.filter,[r,i]=f.useReducer(nen,{query:"",groups:e.groups?[{name:KAe,title:e.labels["insert-menu.filter.all-items"],selected:!0},...e.groups.map(c=>({...c,selected:!1}))]:[],views:(e.views??[{name:"list"}]).map((c,d)=>({...c,selected:d===0}))}),a=uen(e.schemaTypes,r.query,r.groups),o=r.views.find(c=>c.selected),s=n||r.views.length>1,l=r.groups&&r.groups.length>0;return u.jsx(Ot,{padding:0,children:u.jsxs(z,{direction:"column",height:"fill",children:[u.jsxs(L,{...s||l?{style:{borderBottom:"1px solid var(--card-border-color)"},paddingBottom:1}:{},children:[s?u.jsxs(z,{flex:"none",align:"center",paddingTop:1,paddingX:1,gap:1,children:[n?u.jsx(L,{flex:1,children:u.jsx(Lr,{autoFocus:!0,border:!1,fontSize:1,icon:Ca,onChange:c=>{i({type:"change query",query:c.target.value})},placeholder:e.labels["insert-menu.search.placeholder"],value:r.query})}):null,r.views.length>1?u.jsx(L,{flex:"none",children:u.jsx(sen,{views:r.views,onToggle:c=>{i({type:"toggle view",name:c})},labels:e.labels})}):null]}):null,l?u.jsx(L,{paddingTop:1,paddingX:1,children:u.jsx(Yv,{space:1,children:r.groups.map(c=>u.jsx(NV,{id:`${c.name}-tab`,"aria-controls":`${c.name}-panel`,label:c.title??Hoe(c.name),selected:c.selected,onClick:()=>{i({type:"select group",name:c.name})}},c.name))})}):null]}),u.jsx(L,{padding:1,children:a.length===0?u.jsx(L,{padding:2,children:u.jsx(N,{muted:!0,size:1,children:e.labels["insert-menu.search.no-results"]})}):o?o.name==="grid"?u.jsx(Gn,{autoRows:"auto",flex:1,gap:1,style:ren,children:a.map(c=>{var d;return u.jsx(len,{icon:t?Woe(c):void 0,onClick:()=>{e.onSelect(c)},previewImageUrl:(d=o.previewImageUrl)==null?void 0:d.call(o,c.name),schemaType:c},c.name)})}):u.jsx(ne,{flex:1,space:1,children:a.map(c=>u.jsx(u0,{icon:t?Woe(c):void 0,onClick:()=>{e.onSelect(c)},text:c.title??Hoe(c.name)},c.name))}):null})]})})}const aen={grid:P9,list:Wm},oen={grid:"insert-menu.toggle-grid-view.tooltip",list:"insert-menu.toggle-list-view.tooltip"};function sen(e){const t=e.views.findIndex(r=>r.selected),n=e.views[t+1]??e.views[0];return u.jsx(nA,{content:u.jsx(N,{size:1,children:e.labels[oen[n.name]]}),placement:"top",portal:!0,children:u.jsx($t,{mode:"bleed",icon:aen[n.name],onClick:()=>{e.onToggle(n.name)}})})}function len(e){const[t,n]=f.useState(!1);return u.jsx(u0,{padding:0,radius:2,onClick:e.onClick,style:{overflow:"hidden"},children:u.jsxs(z,{direction:"column",gap:1,padding:1,children:[u.jsxs(L,{flex:"none",style:{backgroundColor:"var(--card-muted-bg-color)",paddingBottom:"66.6%",position:"relative"},children:[ka.isValidElementType(e.icon)?u.jsx(z,{align:"center",justify:"center",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:u.jsx(N,{size:1,children:f.createElement(e.icon)})}):null,!e.previewImageUrl||t?null:u.jsx("img",{src:e.previewImageUrl,style:{objectFit:"contain",width:"100%",height:"100%",position:"absolute",inset:0},onError:()=>{n(!0)}}),u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0 0 0 0.5px var(--card-fg-color)",opacity:.1}})]}),u.jsx(L,{flex:1,padding:2,children:u.jsx(N,{size:1,weight:"medium",children:e.schemaType.title??e.schemaType.name})})]})})}function uen(e,t,n){return e.filter(r=>den(r,n)&&cen(r,t))}function cen(e,t){var r;const n=t.trim().toLowerCase();return e.title?(r=e.title)==null?void 0:r.toLowerCase().includes(n):e.name.includes(n)}function den(e,t){var r;const n=t.find(i=>i.selected);return n?n.name===KAe?!0:(r=n.of)==null?void 0:r.includes(e.name):!0}var ZAe={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],i={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},a={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},o={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),c=[".","!","~","*","'","(",")"].join(""),d=function(y,v){var b="-",x="",w="",C=!0,S={},E,k,_,T,j,A,I,M,D,O,R,F,P,V,U="";if(typeof y!="string")return"";if(typeof v=="string"&&(b=v),I=o.en,M=a.en,typeof v=="object"){E=v.maintainCase||!1,S=v.custom&&typeof v.custom=="object"?v.custom:S,_=+v.truncate>1&&v.truncate||!1,T=v.uric||!1,j=v.uricNoSlash||!1,A=v.mark||!1,C=!(v.symbols===!1||v.lang===!1),b=v.separator||b,T&&(U+=s),j&&(U+=l),A&&(U+=c),I=v.lang&&o[v.lang]&&C?o[v.lang]:C?o.en:{},M=v.lang&&a[v.lang]?a[v.lang]:v.lang===!1||v.lang===!0?{}:a.en,v.titleCase&&typeof v.titleCase.length=="number"&&Array.prototype.toString.call(v.titleCase)?(v.titleCase.forEach(function(H){S[H+""]=H+""}),k=!0):k=!!v.titleCase,v.custom&&typeof v.custom.length=="number"&&Array.prototype.toString.call(v.custom)&&v.custom.forEach(function(H){S[H+""]=H+""}),Object.keys(S).forEach(function(H){var W;H.length>1?W=new RegExp("\\b"+p(H)+"\\b","gi"):W=new RegExp(p(H),"gi"),y=y.replace(W,S[H])});for(R in S)U+=R}for(U+=b,U=p(U),y=y.replace(/(^\s+|\s+$)/g,""),P=!1,V=!1,O=0,F=y.length;O<F;O++)R=y[O],m(R,S)?P=!1:M[R]?(R=P&&M[R].match(/[A-Za-z0-9]/)?" "+M[R]:M[R],P=!1):R in n?(O+1<F&&r.indexOf(y[O+1])>=0?(w+=R,R=""):V===!0?(R=i[w]+n[R],w=""):R=P&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],P=!1,V=!1):R in i?(w+=R,R="",O===F-1&&(R=i[w]),V=!0):I[R]&&!(T&&s.indexOf(R)!==-1)&&!(j&&l.indexOf(R)!==-1)?(R=P||x.substr(-1).match(/[A-Za-z0-9]/)?b+I[R]:I[R],R+=y[O+1]!==void 0&&y[O+1].match(/[A-Za-z0-9]/)?b:"",P=!0):(V===!0?(R=i[w]+R,w="",V=!1):P&&(/[A-Za-z0-9]/.test(R)||x.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),P=!1),x+=R.replace(new RegExp("[^\\w\\s"+U+"_-]","g"),b);return k&&(x=x.replace(/(\w)(\S*)/g,function(H,W,Z){var J=W.toUpperCase()+(Z!==null?Z:"");return Object.keys(S).indexOf(J.toLowerCase())<0?J:J.toLowerCase()})),x=x.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),_&&x.length>_&&(D=x.charAt(_)===b,x=x.slice(0,_),D||(x=x.slice(0,x.lastIndexOf(b)))),!E&&!k&&(x=x.toLowerCase()),x},h=function(y){return function(b){return d(b,y)}},p=function(y){return y.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(g,y){for(var v in y)if(y[v]===g)return!0};if(e.exports)e.exports=d,e.exports.createSlug=h;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=h}catch{}})(va)})(ZAe);var fen=ZAe.exports,hen=fen;const XAe=Fe(hen);var JAe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,i,a;for(r=this._JPEG_ID_SIZE,a=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;a.push(r+=this._APP_MARKER_SIZE+i)}return a},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var i;return i=n.getUint16(r,!1),i>=this._APP0_MARKER&&i<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var i,a,o,s;for(i=this._getShortAt(r),r+=2,s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a=this._readTag(n,r),this._tags[a.name]={value:a.value,description:a.description},s.push(r+=12);return s},t.prototype._readTag=function(n,r){var i,a,o,s,l,c,d;return i=this._getShortAt(r),l=this._getShortAt(r+2),a=this._getLongAt(r+4),this._typeSizes[l]*a<=4?c=this._getTagValue(r+8,l,a):(d=this._getLongAt(r+8),c=this._getTagValue(this._tiffHeaderOffset+d,l,a)),l===this._tagTypes.ASCII&&(c=this._splitNullSeparatedAsciiString(c)),this._tagNames[n][i]!=null?(this._tagNames[n][i].name!=null&&this._tagNames[n][i].description!=null?(s=this._tagNames[n][i].name,o=this._tagNames[n][i].description(c)):(s=this._tagNames[n][i],c instanceof Array?o=c.join(", "):o=c),{name:s,value:c,description:o}):{name:"undefined-"+i,value:c,description:c}},t.prototype._getTagValue=function(n,r,i){var a,o;return o=(function(){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)a=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(a);return l}).call(this),o.length===1?o=o[0]:r===this._tagTypes.ASCII&&(o=this._getAsciiValue(o)),o},t.prototype._getAsciiValue=function(n){var r;return function(){var i,a,o;for(o=[],i=0,a=n.length;i<a;i++)r=n[i],o.push(String.fromCharCode(r));return o}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,i,a,o,s;for(a=[],i=0,o=0,s=n.length;o<s;o++){if(r=n[o],r==="\0"){i++;continue}a[i]==null&&(a[i]=""),a[i]+=r}return a},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)r=n[a],i+=String.fromCharCode(r);return i}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)switch(r=n[a],r){case 49:i+="Y";break;case 50:i+="Cb";break;case 51:i+="Cr";break;case 52:i+="R";break;case 53:i+="G";break;case 54:i+="B"}return i}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)r=n[a],i+=String.fromCharCode(r);return i}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,i;return n[0]===(r=n[1])&&r===2&&n[2]===(i=n[3])&&i===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(i){return function(){var a,o,s;for(s=[],a=0,o=2-(""+Math.floor(i)).length;0<=o?a<o:a>o;0<=o?++a:--a)s.push("0");return s}()+i},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(va)})(JAe);var pen=JAe.ExifReader,men=function(e){var t=new pen;t.load(e);var n=t.getAllTags(),r={};for(var i in n)r[gen(i)]=n[i].description;return r};function gen(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const yen=Fe(men);var ven=Lp,ben=Np,xen=Kc;function wen(e){return function(t,n,r){var i=Object(t);if(!ben(t)){var a=ven(n);t=xen(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var Cen=wen,Sen=Cen,Een=Q2e,ken=Sen(Een),_en=ken;const QAe=Fe(_en);var Ten=USe,Aen=Zv,Goe=nM;function jen(e,t,n){var r=e.length;if(r<2)return r?Goe(e[0]):[];for(var i=-1,a=Array(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=Ten(a[i]||o,e[s],t,n));return Goe(Aen(a,1),t,n)}var Ien=jen,Den=mxe,Men=h0,Ren=Ien,Oen=iM,$en=Men(function(e){return Ren(Den(e,Oen))}),Pen=$en;const Fen=Fe(Pen);function eje(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(Nen(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function Nen(e){return typeof e=="object"&&typeof e._key=="string"}class bw extends Error{constructor(t,n,r){const i=eje(n);super("".concat(t," (at '").concat(i,"')")),this.path=n,this.serializedPath=i,this.value=r}}const Len=/^[a-z0-9][a-z0-9_.-]+$/i,Ben=/^[a-zA-Z_][a-zA-Z0-9_]*$/,Ven=/^[a-z_]/i;function Yoe(e,t,n){if(!Ven.test(e))throw new bw("Keys must start with a letter (a-z)",n.concat(e),t);if(!Ben.test(e))throw new bw("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new bw("Keys must be strings",n.concat(e),t);if(!Len.test(t))throw new bw("Invalid key - use less exotic characters",n.concat(e),t)}return e}const zen=["_id","_type","_createdAt","_updatedAt","_rev"],s6={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function Uen(e){return{...s6,...e,diffMatchPatch:{...s6.diffMatchPatch,...e.diffMatchPatch||{}}}}function lR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s6,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return i;const a=Array.isArray(e)?"array":typeof e,o=Array.isArray(t)?"array":typeof t,s=a==="undefined",l=o==="undefined";if(s&&!l)return i.push({op:"set",path:r,value:t}),i;if(!s&&l)return i.push({op:"unset",path:r}),i;const c=Uen(n),d=s?o:a;return d==="object"||d==="array"?a!==o?(i.push({op:"set",path:r,value:t}),i):d==="array"?Wen(e,t,c,r,i):Hen(e,t,c,r,i):qen(e,t,c,r,i)}function Hen(e,t,n,r,i){const a=r.length===0,o=Object.keys(e).filter(a?qoe:Zoe).map(d=>Yoe(d,e[d],r)),s=o.length,l=Object.keys(t).filter(a?qoe:Zoe).map(d=>Yoe(d,t[d],r)),c=l.length;for(let d=0;d<s;d++){const h=o[d];h in t||i.push({op:"unset",path:r.concat(h)})}for(let d=0;d<c;d++){const h=l[d];lR(e[h],t[h],n,r.concat([h]),i)}return i}function Wen(e,t,n,r,i){if(t.length>e.length&&i.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,c)=>OW(l,r,c,n))}),t.length<e.length){const l=e.length-t.length===1,c=e.slice(t.length);Xen(n)||!_P(c)?i.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):i.push(...c.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new bw("Multi-dimensional arrays not supported",r.concat(l),t[l]);const a=Math.min(e.length,t.length),o=e.slice(0,a),s=t.slice(0,a);return _P(o)&&_P(s)?Gen(o,s,n,r,i):tje(o,s,n,r,i)}function tje(e,t,n,r,i){for(let a=0;a<e.length;a++)lR(e[a],OW(t[a],r,a,n),n,r.concat(a),i);return i}function Gen(e,t,n,r,i){const a=Koe(e),o=Koe(t);if(!Zen(a.keys,o.keys))return tje(e,t,n,r,i);for(let s=0;s<o.keys.length;s++){const l=o.keys[s],c=a.index[l],d=OW(o.index[l],r,s,n);lR(c,d,n,r.concat({_key:l}),i)}return i}function Yen(e,t,n,r){const{enabled:i,lengthThresholdRelative:a,lengthThresholdAbsolute:o}=n.diffMatchPatch,s=r[r.length-1];if(!i||typeof e!="string"||typeof t!="string"||typeof s=="string"&&s[0]==="_"||t.length<o)return;let l="";try{const c=yb(e,t),d=RM(c);l=bH(OM(d))}catch{return}return l.length>t.length*a?void 0:{op:"diffMatchPatch",path:r,value:l}}function qen(e,t,n,r,i){const a=Yen(e,t,n,r);return i.push(a||{op:"set",path:r,value:t}),i}function qoe(e){return zen.indexOf(e)===-1}function _P(e){const t=[];for(let n=0;n<e.length;n++){const r=Ken(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function Ken(e){return typeof e=="object"&&e!==null&&e._key}function Koe(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function Zen(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function OW(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const i=eje(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(i,"')"))}return null}function Xen(e){return!!e.ifRevisionID}function Zoe(e){return!0}var nje,Xoe=xc;nje=Xoe.createRoot,Xoe.hydrateRoot;function Jen(e,t){function n(a,o){e.has(a),e.set(a,o),t()}function r(a,o){e.has(a),e.set(a,o),t()}function i(a){e.has(a),e.delete(a),t()}return{add:n,remove:i,update:r}}function rje(){const[e]=f.useState(()=>new Map),[t,n]=f.useReducer(()=>Array.from(e.entries()),[]),r=f.useMemo(()=>t0(n,10,{trailing:!0}),[]);return{store:f.useMemo(()=>Jen(e,r),[r,e]),snapshot:t}}function ije(e,t,n,r=Object.is){const i=f.useRef(null),a=f.useRef(null);f.useLayoutEffect(()=>{if(t===null||e===null)return;const o=n();return e.add(t,o),i.current=t,a.current=o,()=>{e.remove(t),i.current=null,a.current=null}},[t,e,n]),f.useLayoutEffect(()=>{if(t===null||i.current===null||e===null||t!==i.current)return;const o=n();r(a.current,o)||(e.update(t,o),a.current=o)})}function Qen(e){const{children:t}=e,{store:n,snapshot:r}=rje();return u.jsx(Zfe.Provider,{value:n,children:u.jsx(Xfe.Provider,{value:r,children:t})})}const etn=f.memo(Qen),ttn=[];function $W(){const e=f.useContext(Xfe);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReportedValues()", is wrapped inside a <ChangeIndicatorsTracker> element')),ttn):e}const aje=(e,t,n)=>{const r=f.useContext(Zfe);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReporter()", is wrapped inside a <ChangeIndicatorsTracker> element')),ije(r,e,t,n)},ntn=e=>{const{path:t,hasHover:n}=e,{onSetFocus:r}=f.useContext(Qg),[i,a]=f.useState(!1),o=f.useCallback(()=>{a(!0)},[]),s=f.useCallback(()=>{a(!1)},[]),[l,c]=f.useState(null),d=f.useMemo(()=>l?`change-${Zt(t)}`:null,[l,t]),h=f.useCallback(()=>({element:l,path:t,isChanged:!0,hasFocus:!1,hasHover:i,hasRevertHover:n}),[l,i,n,t]);aje(d,h,fg);const p=f.useCallback(m=>{rtn(m,r,t)},[r,t]);return u.jsx("div",{ref:c,onClick:p,onMouseLeave:s,onMouseEnter:o,children:e.children})};function rtn(e,t,n){e.stopPropagation(),t(n)}function Wa(e){const t=f.useRef(e);return kt(t.current,e)||(t.current=e),t.current}function Gp(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const a=Wa(i),o=f.useMemo(()=>we(a).pipe(Ct(l=>ji(we({type:"loading"}),e(l).pipe(fe(c=>({type:"value",value:c}))))),Qs(([l],c)=>c.type==="loading"?[l,!0]:[c.value,!1],n),hr(([l,c],[d,h])=>!(l!==d||c!==h)),fe(l=>({type:"tuple",tuple:l})),kn(l=>we({type:"error",error:l}))),[a]),s=ti(o,r);if(s.type==="error")throw s.error;return s.tuple}}function ua(e){return e!=null}const itn="drafts",PW=`${itn}.`;function FW(e){return e.startsWith(PW)}function NW(e){return{draftId:ca(e),publishedId:pn(e)}}function ca(e){return FW(e)?e:PW+e}function pn(e){return FW(e)?e.slice(PW.length):e}function uR(e){const t=e.reduce((n,r)=>{const i=pn(r._id);let a=n.get(i);return a||(a={id:i,type:r._type,published:void 0,draft:void 0},n.set(i,a)),a[i===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function oje(e){return uR(e).map(t=>t.draft||t.published).filter(ua)}const atn=Object.freeze({}),rn=Object.freeze([]);function otn(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const sje=otn();function Joe(e){return Array.isArray(e)}function wt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function lg(e){return typeof e=="string"}const stn=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:qbe,ltn=()=>{const e=Kbe(),t=new stn(n=>e.publish(n));return{observe:(n,r,i)=>{const a=e.subscribe(o=>{const s=o.find(l=>l.target===n);s&&r(s)});return t.observe(n,i),()=>{a(),t.unobserve(n)}},unobserve:n=>t.unobserve(n)}},vS=ltn(),utn=["sanity.imageAsset","sanity.fileAsset"];function ctn(e){return e.type==="document"&&utn.includes(e.name)}function mzn(e){return e.type==="document"&&!ctn(e)}const dtn=["match","in","asc","desc","true","false","null"],ftn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,htn=e=>!ftn.test(e)||dtn.includes(e),ptn=e=>`["${e}"]`,A0=mtn();function mtn(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const Qoe=typeof Intl=="object"&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function gtn(e,t,n){if(n<t)throw new Error("End must be greater than start, use `String.prototype.slice()` for negative values");if(!Qoe)return e.slice(t,n);let r=0,i="";for(const a of Qoe.segment(e)){if(r===n)return i;i+=a.segment,r++}return i}function ese(e,t){const n=gtn(e,0,t);return n===e?n:`${n}`}const ytn={isLoading:!0,value:void 0,error:null};function lje(e,t){const n=typeof t>"u"?ytn:{isLoading:!1,value:t,error:null},r=f.useMemo(()=>e.pipe(vtn()),[e]);return ti(r,n)}function vtn(){return e=>e.pipe(fe(t=>({isLoading:!1,value:t,error:null})),kn(t=>we({isLoading:!1,value:void 0,error:t})))}function uje(e,t){return e!==null&&e.roles.some(n=>n.name===t)}function btn(e,t,n){return f.useMemo(()=>ab(e,t,n),[e,n,t])}var Mfe;const X_=typeof process>"u"?!1:(Mfe=process==null?void 0:process.env)==null?void 0:Mfe.SANITY_STUDIO_DEBUG_I18N,xtn=!!X_,wtn={reverse:e=>`${e}`,triangles:e=>` ${e} `};function cje(e){const t=X_==="reverse"||X_==="triangles"?wtn[X_]:null;return t?(...n)=>t(e(...n)):e}const tse={bindI18n:!1};function q(e,t){const{t:n}=qv(e,t?{keyPrefix:t.keyPrefix,lng:t.lng,...tse}:tse);return{t:cje(n)}}const Ctn=250,Stn=$.div(({$changed:e,$disabled:t,$hasFocus:n,$isReviewChangeOpen:r})=>t?de`
        ${p1}:after {
          display: none;
        }
      `:de`
      --change-bar-offset: 4px;

      display: flex;
      position: relative;

      ${p1}:after {
        opacity: 0.5;
      }

      @media (hover: hover) {
        &:hover {
          z-index: 10;
          ${p1}:after {
            opacity: 1;
          }
        }
      }

      /* hide when field is not changed */
      ${n&&de`
        ${p1}:after {
          opacity: 1;
        }
      `}

      /* hide when field is not changed */
      ${!e&&de`
        ${p1}:after {
          opacity: 0;
          pointer-events: none;
        }
      `}

      /* hide hover effect when review changes is open */
      ${r&&de`
        ${dje} {
          opacity: 0;
        }
      `}
    `),Etn=$.div`
  flex-grow: 1;
  min-width: 0;
`,ktn=$.div`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: ${({$zIndex:e})=>e};
`,p1=$.div(e=>{const{media:t}=Te(e.theme);return de`
    position: absolute;
    top: -1px;
    left: var(--change-bar-offset);
    width: 1px;
    bottom: -1px;
    background-color: var(--card-bg-color);

    @media (min-width: ${t[0]}px) {
      display: unset;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      width: 1px;
      bottom: 1px;
      background-color: var(--card-badge-caution-dot-color);
      border-radius: 0.5px;
    }
  `}),dje=$.button(e=>{const{$withHoverEffect:t}=e;return de`
    appearance: none;
    border: 0;
    outline: 0;
    display: block;
    padding: 0;
    background: transparent;
    opacity: 0;
    position: absolute;
    height: 100%;
    cursor: pointer;
    pointer-events: all;
    left: calc(-0.25rem + var(--change-bar-offset));
    width: calc(1rem - 1px);
    transition: opacity ${Ctn}ms;

    &:focus {
      border: 0;
      outline: 0;
    }

    &:focus {
      border: 0;
      outline: 0;
    }

    ${t&&de`
      @media (hover: hover) {
        &:hover {
          opacity: 0.2;
        }
      }
    `}
  `});function _tn(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,withHoverEffect:a=!0}=e,{onOpenReviewChanges:o,isReviewChangesOpen:s}=f.useContext(Qg),{zIndex:l}=Ts(),{t:c}=q(),d=f.useMemo(()=>n||!i?null:u.jsxs(ktn,{"data-testid":"change-bar",$zIndex:l,children:[u.jsx(p1,{"data-testid":"change-bar__marker"}),u.jsx(bt,{content:c("changes.change-bar.aria-label"),portal:!0,children:u.jsx(dje,{"aria-label":c("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:s?void 0:o,tabIndex:-1,type:"button",$withHoverEffect:a})})]}),[n,i,s,o,c,a,l]);return u.jsxs(Stn,{"data-testid":"change-bar-wrapper",$changed:i,$disabled:n,$hasFocus:r,$isReviewChangeOpen:s,children:[u.jsx(Etn,{"data-testid":"change-bar__field-wrapper",children:t}),d]})}const Ttn=f.memo(function(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,onMouseEnter:a,onMouseLeave:o,path:s=rn,withHoverEffect:l,...c}=e,d=Ts(),[h,p]=f.useState(!1),m=f.useCallback(w=>{a==null||a(w),p(!0)},[a]),g=f.useCallback(w=>{o==null||o(w),p(!1)},[o]),[y,v]=f.useState(null),b=f.useMemo(()=>n||!y?null:`field-${Zt(s)}`,[n,y,s]),x=f.useCallback(()=>({element:y,path:s,isChanged:i,hasFocus:r,hasHover:h,zIndex:d.zIndex}),[y,r,h,i,d.zIndex,s]);return aje(b,x,fg),u.jsx("div",{...c,ref:v,onMouseEnter:m,onMouseLeave:g,children:u.jsx(_tn,{hasFocus:r,isChanged:i,disabled:n,withHoverEffect:l,children:t})})});function no(e){const{children:t,hasFocus:n,isChanged:r,path:i,withHoverEffect:a,...o}=e;return u.jsx(Ttn,{...o,path:i,hasFocus:n,isChanged:r,withHoverEffect:a,children:t})}function Atn(e){const t=f.useContext(zF);f.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const nse=()=>{},cR=f.forwardRef(function(e,t){const{as:n="div",onScroll:r,...i}=e,a=f.useRef(null);f.useImperativeHandle(t,()=>a.current);const o=f.useContext(zF),s=f.useMemo(()=>Kbe(),[]);return f.useEffect(()=>r?s.subscribe(r):nse,[s,r]),f.useEffect(()=>o?s.subscribe(o.publish):nse,[o,s]),f.useEffect(()=>{const l=d=>{s.publish(d)},c=a.current;if(c)return c.addEventListener("scroll",l,{passive:!0,capture:!0}),()=>{c.removeEventListener("scroll",l)}},[s,a]),u.jsx(zF.Provider,{value:s,children:f.createElement(n,{ref:a,"data-testid":"scroll-container",...i})})});function jtn({onScroll:e,children:t}){return Atn(e),u.jsx(u.Fragment,{children:t})}const js=4,Itn=16,rse=8,Ft=8,Tl=2,x5=4,wo=12,n1=1,Dtn=!1,Mtn=!1;function ise(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",i=Zs(r),a=`${e}-${Zt(i)}`;if(n.has(a))return n.get(a);let o;for(const[s,l]of n){if(!("path"in l)||!s.startsWith(e))continue;const c=wFe(i,l.path),d=l.path[l.path.length-1],h=c===l.path.length-1&&$u(d);if(c!==0&&!(c!==l.path.length&&!h)&&(o=l,c===i.length))break}return o}function fje(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function Rtn(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&fje(e)}const ase=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let i=!1,a=e;for(;a&&a!==t&&t.contains(a);)i&&(n.top+=a.offsetTop,n.left+=a.offsetLeft),fje(a)&&(n.top=a.offsetTop,n.height=a.offsetHeight,n.left=a.offsetLeft,n.width=a.offsetWidth,i=!0),r.top+=a.offsetTop-a.scrollTop,r.left+=a.offsetLeft-a.scrollLeft,a=a.offsetParent;return{rect:r,bounds:n}};function Otn(e){return e[0]!=="changePanel"}const $tn=-15;function ose(e){const t=e.element;if(!t)return;let n=t;for(;!Rtn(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+$tn,left:0,behavior:"smooth"})}function Ptn(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),i=Math.max(e.top,t.top),a=Math.max(0,e.height-(i-e.top)),o=Math.max(0,e.width-(r-e.left));return u.jsx("rect",{...n,x:r,y:i,height:a,width:o})}$.rect`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`;const $x=$.path`
  fill: none;
  pointer-events: none;
  stroke-linejoin: round;
  stroke: var(--card-badge-caution-dot-color);
`,Ftn=$.path`
  fill: none;
  pointer-events: stroke;
  stroke: transparent;
  cursor: pointer;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;

  &:hover {
    opacity: 0.2;
  }
`,Ntn=$(Ptn)`
  stroke: none;
  pointer-events: none;
  fill: var(--card-badge-caution-dot-color);
`;function w5(e,t,n){return[`M ${e-x5} ${t-x5*n} `,`L ${e} ${t}`,`L ${e+x5} ${t-x5*n}`].join("")}function TP(e,t){return`M${e} ${t}`}function Zi(e,t){return`L${e} ${t}`}function Ltn(e,t=""){return e.join(t)}function ss(e,t,n,r){return`Q${e} ${t} ${n} ${r}`}function Btn(e){const{from:t,to:n}=e,{left:r,top:i}=t,{left:a,top:o}=n,s=[],l=Math.min(js,Math.abs(i-o)/2);return t.isAbove?s.push(TP(r+Ft,i-wo+Tl),Zi(r+Ft,i-js),ss(r+Ft,i,r+Ft+js,i)):t.isBelow?s.push(TP(r+Ft,i+wo-Tl),Zi(r+Ft,i+js),ss(r+Ft,i,r+Ft+js,i)):s.push(TP(r,i)),n.isAbove?i<n.bounds.top?s.push(Zi(n.bounds.left-8-l,i),ss(n.bounds.left-8,i,n.bounds.left-8,i+l),Zi(n.bounds.left-8,o-l),ss(n.bounds.left-8,o,n.bounds.left-8+l,o),Zi(n.bounds.left+Ft-js,o),ss(n.bounds.left+Ft,o,n.bounds.left+Ft,o-js),Zi(n.bounds.left+Ft,o-wo+Tl)):s.push(Zi(n.bounds.left+Ft-js,i),ss(n.bounds.left+Ft,i,n.bounds.left+Ft,i-js),Zi(n.bounds.left+Ft,o-wo+Tl)):n.isBelow?i>n.bounds.top+n.bounds.height?s.push(Zi(n.bounds.left-Ft-l,i),ss(n.bounds.left-Ft,i,n.bounds.left-Ft,i-l),Zi(n.bounds.left-Ft,o+l),ss(n.bounds.left-Ft,o,n.bounds.left-Ft+l,o),Zi(n.bounds.left+Ft-js,o),ss(n.bounds.left+Ft,o,n.bounds.left+Ft,o+js),Zi(n.bounds.left+Ft,o+wo-Tl)):s.push(Zi(n.bounds.left+Ft-js,i),ss(n.bounds.left+Ft,i,n.bounds.left+Ft,i+js),Zi(n.bounds.left+Ft,o+wo-Tl)):i<o?s.push(Zi(n.bounds.left+Ft-l,i),ss(n.bounds.left+Ft,i,n.bounds.left+Ft,i+l),Zi(n.bounds.left+Ft,o-l),ss(n.bounds.left+Ft,o,n.bounds.left+Ft+l,o),Zi(a,o)):s.push(Zi(n.bounds.left+Ft-l,i),ss(n.bounds.left+Ft,i,n.bounds.left+Ft,i-l),Zi(n.bounds.left+Ft,o+l),ss(n.bounds.left+Ft,o,n.bounds.left+Ft+l,o),Zi(a,o)),Ltn(s)}function sse(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Tl,i=e.top>t.top+t.height-Tl;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+rse,endY:e.top+e.height-rse,isAbove:r,isBelow:i,outOfBounds:r||i}}function Vtn(e){const t={top:e.from.bounds.top+wo,bottom:e.from.bounds.top+e.from.bounds.height-wo,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-wo*2},n=sse(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+wo,bottom:e.to.bounds.top+e.to.bounds.height-wo,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-wo*2},i=sse(e.to.rect,r),a=Math.max(i.startY,n.startY);return n.top=Math.min(a,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(a,i.endY),i.top<t.top?i.top=Math.min(t.top,i.endY):i.top>t.bottom&&(i.top=Math.max(t.bottom,i.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}const ztn=f.memo(function({from:e,to:t}){const n=Vtn({from:e,to:t});if(n.from.outOfBounds&&n.to.outOfBounds)return null;const r=Btn(n);return u.jsxs(u.Fragment,{children:[u.jsx(Ftn,{d:r,strokeWidth:Itn}),u.jsx($x,{d:r,strokeWidth:n1}),u.jsx(Ntn,{top:t.rect.top,left:t.rect.left-.5,height:t.rect.height,width:n1,bounds:t.bounds}),n.from.isAbove&&u.jsx($x,{d:w5(n.from.left+Ft,n.from.bounds.top-wo+Tl,-1),strokeWidth:n1}),n.from.isBelow&&u.jsx($x,{d:w5(n.from.left+Ft,n.from.bounds.top+n.from.bounds.height+wo-Tl,1),strokeWidth:n1}),n.to.isAbove&&u.jsx($x,{d:w5(n.to.bounds.left+Ft,n.to.bounds.top-wo+Tl,-1),strokeWidth:n1}),n.to.isBelow&&u.jsx($x,{d:w5(n.to.bounds.left+Ft,n.to.bounds.top+n.to.bounds.height+wo-Tl,1),strokeWidth:n1}),Dtn]})}),Utn=$.svg`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`;function Htn(e,t){f.useEffect(()=>vS.observe(e,t),[e,t])}function lse(e,t,n,r){const i=[],a=[];for(const s of e){if(!Otn(s)||!s[1].isChanged)continue;const[l,c]=s;if(l===t){i.push(s);continue}if(c.hasHover){i.push(s);continue}if(c.hasFocus){a.push(s);continue}}const o=i.length>0;return{connectors:(o?i:a).map(([s])=>{const l=ise("field",s,n),c=ise("change",s,n);return!l||!c?null:{field:{id:s,...l},change:{id:s,...c}}}).filter(s=>!!(s!=null&&s.field.element)&&!!(s!=null&&s.change.element)).map(({field:s,change:l})=>({hasHover:s.hasHover||l.hasHover,hasFocus:s.hasFocus,hasRevertHover:l.hasRevertHover,field:{...s,...ase(s.element,r)},change:{...l,...ase(l.element,r)}})),isHoverConnector:o}}function Wtn(e){const{rootElement:t,onSetFocus:n}=e,[r,i]=f.useState(null),a=$W(),o=f.useMemo(()=>new Map(a),[a]),[{connectors:s},l]=f.useState(()=>lse(a,r,o,t)),c=f.useMemo(()=>Bp(s,h=>0-h.field.path.length).slice(0,1),[s]),d=f.useCallback(()=>{l(lse(a,r,o,t))},[o,a,r,t]);return Htn(t,d),u.jsx(jtn,{onScroll:d,children:u.jsx(Utn,{style:{zIndex:c[0]&&c[0].field.zIndex},children:c.map(({field:h,change:p})=>p?u.jsx(Gtn,{field:h,change:p,onSetFocus:n,setHovered:i},h.id):null)})})}function Gtn(e){const{change:t,field:n,onSetFocus:r,setHovered:i}=e,a=f.useCallback(()=>{ose(n),ose(t),r(n.path)},[n,t,r]),o=f.useCallback(()=>i(n.id),[n,i]),s=f.useCallback(()=>i(null),[i]),l=f.useMemo(()=>({rect:{...n.rect,left:n.rect.left+3},bounds:n.bounds}),[n.bounds,n.rect]),c=f.useMemo(()=>({rect:{...t.rect,left:t.rect.left+1},bounds:t.bounds}),[t.bounds,t.rect]);return u.jsxs(u.Fragment,{children:[u.jsx("g",{onClick:a,onMouseEnter:o,onMouseLeave:s,children:u.jsx(ztn,{from:l,to:c})}),Mtn]})}function Ytn({children:e,className:t,isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i,...a}){const[o,s]=f.useState(),l=f.useMemo(()=>({isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i}),[n,r,i]);return u.jsx(Qg.Provider,{value:l,children:u.jsx(etn,{children:u.jsxs(cR,{...a,ref:s,className:t,children:[e,o&&u.jsx(Wtn,{rootElement:o,onSetFocus:i})]})})})}const use=u.jsx(N,{muted:!0,children:u.jsx(io,{})}),AP=(e,t)=>u.jsx(L,{as:"li",children:u.jsx(N,{textOverflow:"ellipsis",size:1,weight:"medium",children:e})},`${e}-${t}`);function qtn(e){const{titlePath:t,maxLength:n}=e,r=f.useMemo(()=>{const a=t.length,o=Math.ceil(n/2),s=Math.floor(n/2);return n&&a>n?[...t.slice(0,o-1),t.slice(o-1,a-s),...t.slice(a-s)]:t},[n,t]),i=f.useMemo(()=>r.map((a,o)=>{const s=`${a}-${o}`,l=o<r.length-1;return Array.isArray(a)?u.jsxs(f.Fragment,{children:[u.jsx(bt,{content:u.jsx(ne,{space:2,padding:2,children:a.map(AP)}),children:u.jsx(L,{children:AP("...",o)})}),l&&use]},s):u.jsxs(f.Fragment,{children:[AP(a,o),l&&use]},s)}),[r]);return u.jsx(z,{align:"center",as:"ol",gap:2,children:i})}function Ktn(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const Ztn=$(Gn)`
  align-items: flex-end;
`;function LW(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&Ktn(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const Xtn="data-active",jP="a,button",Jtn=$.div(({theme:e,offset:t})=>de`
    bottom: ${-t}px;
    border-radius: ${Ce(e.sanity.radius[1])};
    left: ${-t}px;
    pointer-events: none;
    position: absolute;
    right: ${-t}px;
    top: ${-t}px;
    z-index: 2;

    ${hje}:focus-visible & {
      box-shadow: ${LW({base:e.sanity.color.base,focusRing:e.sanity.focusRing})};
    }
  `),Qtn=$.div`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`,hje=$(L)`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`,enn=$(L).attrs(({$height:e})=>({style:{height:`${e}px`}}))`
  position: relative;
  width: 100%;
`,rd=f.forwardRef(function({activeItemDataAttr:e=Xtn,ariaLabel:t,ariaMultiselectable:n=!1,autoFocus:r,canReceiveFocus:i,fixedHeight:a,focusRingOffset:o=0,getItemDisabled:s,getItemKey:l,getItemSelected:c,initialIndex:d,initialScrollAlign:h="start",inputElement:p,itemHeight:m,items:g,onEndReached:y,onEndReachedIndexOffset:v=0,onlyShowSelectionWhenActive:b,overscan:x,renderItem:w,wrapAround:C=!0,...S},E){const k=f.useRef(!1),_=f.useRef(f.useId()),T=f.useRef(d??0),[j,A]=f.useState(null),[I,M]=f.useState(!1),[D,O]=f.useState(null),[R,F]=f.useState(null),P=f.useCallback(me=>{if(!y)return;const[Se]=[...me.getVirtualItems()].reverse();Se&&Se.index>=g.length-v-1&&k.current&&y()},[y,g.length,v]),V=ez({count:g.length,getItemKey:l,getScrollElement:()=>R,estimateSize:()=>m,onChange:P,overscan:x}),U=f.useMemo(()=>{let me=-1;return g.reduce((Se,ve,_e)=>{const Ze=(s==null?void 0:s(_e))??!1,Je=(c==null?void 0:c(_e))??!1;return Ze||(me+=1),Se[_e]={activeIndex:Ze?null:me,disabled:Ze,selected:Je},Se},[])},[s,c,g]),H=f.useMemo(()=>U.filter(me=>!me.disabled).length,[U]),W=f.useCallback(me=>D==null?void 0:D.setAttribute("data-enabled",(!me).toString()),[D]),Z=f.useCallback(me=>`${_.current}-item-${me}`,[]),J=f.useCallback(()=>`${_.current}-children`,[]),re=f.useCallback(()=>{var Se;const me=[p,R].some(ve=>document.activeElement===ve);b&&!me&&!I||((Se=Array.from((j==null?void 0:j.children)||[]))==null||Se.forEach(ve=>{var Je,ot,$e;const _e=Number((Je=ve.dataset)==null?void 0:Je.index),Ze=(ot=U[_e])==null?void 0:ot.activeIndex;($e=ve.querySelector(jP))==null||$e.toggleAttribute(e,Ze===T.current)}))},[e,j==null?void 0:j.children,I,p,U,b,R]),G=f.useCallback(()=>{var me;(me=Array.from((j==null?void 0:j.children)||[]))==null||me.forEach(Se=>{var ve;(ve=Se.querySelector(jP))==null||ve.toggleAttribute(e,!1)})},[e,j==null?void 0:j.children]),te=f.useMemo(()=>ab(re,200),[re]),X=f.useCallback(()=>{const me=T==null?void 0:T.current;g.length>0?(p==null||p.setAttribute("aria-activedescendant",Z(me)),R==null||R.setAttribute("aria-activedescendant",Z(me))):(p==null||p.removeAttribute("aria-activedescendant"),R==null||R.removeAttribute("aria-activedescendant"))},[Z,p,g.length,R]),K=f.useCallback(()=>{var Se;const me=j==null?void 0:j.parentElement;if(j&&me){const ve=me.getBoundingClientRect().top-j.getBoundingClientRect().top;return((Se=V.getVirtualItemForOffset(ve))==null?void 0:Se.index)??-1}return-1},[j,V]),Q=f.useCallback(({index:me,scrollAlign:Se,scrollIntoView:ve=!0})=>{if(T.current=me,X(),re(),ve){const _e=U.findIndex(Ze=>Ze.activeIndex===me);_e>-1&&V.scrollToIndex(_e,Se?{align:Se}:{})}},[X,U,re,V]),ee=f.useCallback(me=>{let Se=-1;const ve=H-1;if(me==="next"){const _e=C?0:ve;Se=T.current<H-1?T.current+1:_e}if(me==="previous"){const _e=C?ve:0;Se=T.current>0?T.current-1:_e}Q({index:Se,scrollIntoView:!0}),W(!1)},[H,W,Q,C]),se=f.useCallback(me=>{switch(me){case"input":p==null||p.focus();break;case"list":R==null||R.focus();break}},[p,R]),le=f.useCallback(()=>{p==null||p.focus()},[p]),oe=f.useCallback(()=>{R==null||R.focus()},[R]),ue=f.useCallback(me=>()=>{Q({index:me,scrollIntoView:!1})},[Q]),ye=f.useCallback(()=>{re()},[re]),Ee=f.useCallback(me=>Se=>{var _e;const ve=Array.from((j==null?void 0:j.children)||[]);if(ve.length&&(Se.key==="ArrowDown"&&(Se.preventDefault(),se(me),ee("next")),Se.key==="ArrowUp"&&(Se.preventDefault(),se(me),ee("previous")),Se.key==="Enter")){Se.preventDefault(),se(me);const Ze=ve.find(Je=>Number(Je.dataset.index)===U.findIndex(ot=>ot.activeIndex===T.current));Ze&&((_e=Ze==null?void 0:Ze.querySelector(jP))==null||_e.click())}},[j==null?void 0:j.children,se,U,ee]),ke=f.useCallback(me=>Ee("input")(me),[Ee]),ge=f.useCallback(me=>Ee("list")(me),[Ee]),je=f.useCallback(()=>{b&&(re(),M(!0))},[b,re]),Ve=f.useCallback(()=>{b&&(G(),M(!1))},[G,b]);f.useImperativeHandle(E,()=>({focusInputElement(){le()},focusListElement(){oe()},getTopIndex(){return K()},scrollToIndex(me){Q({index:me}),W(!0)}}),[W,le,oe,K,Q]),f.useEffect(()=>{typeof d<"u"&&!k.current&&Q({index:d,scrollAlign:h,scrollIntoView:!0}),k.current=!0},[d,h,b,Q]),f.useEffect(()=>{function me(){W(!0)}return R==null||R.addEventListener("mousemove",me),R==null||R.addEventListener("wheel",me,{passive:!0}),()=>{R==null||R.removeEventListener("mousemove",me),R==null||R.removeEventListener("wheel",me)}},[W,R]),f.useEffect(()=>(p==null||p.addEventListener("focus",ye),p==null||p.addEventListener("keydown",ke),R==null||R.addEventListener("focus",ye),R==null||R.addEventListener("keydown",ge),()=>{p==null||p.removeEventListener("focus",ye),p==null||p.removeEventListener("keydown",ke),R==null||R.removeEventListener("focus",ye),R==null||R.removeEventListener("keydown",ge)}),[i,ye,Ee,ke,ge,G,p,re,R]),f.useEffect(()=>{X()},[X,g]),f.useEffect(()=>{const me=new MutationObserver(te);return j&&me.observe(j,{childList:!0,subtree:!0}),()=>{me.disconnect()}},[j,te]),f.useEffect(()=>{p==null||p.setAttribute("aria-autocomplete","list"),p==null||p.setAttribute("aria-expanded","true"),p==null||p.setAttribute("aria-controls",J()),p==null||p.setAttribute("role","combobox")},[J,p]),f.useEffect(()=>{r&&se(r)},[r,i,oe,le,se]);const xe=i?0:-1;return u.jsxs(hje,{id:J(),onMouseEnter:je,onMouseLeave:Ve,ref:F,sizing:"border",tabIndex:xe,...S,children:[i&&u.jsx(Jtn,{offset:o}),u.jsx(Qtn,{"aria-hidden":"true","data-enabled":!0,ref:O}),V&&u.jsx(enn,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":t,"aria-multiselectable":n,flex:1,ref:A,role:"listbox",children:V.getVirtualItems().map(me=>{const Se=me.index,{activeIndex:ve,disabled:_e,selected:Ze}=U[Se],Je=w(g[Se],{activeIndex:ve,disabled:_e,selected:Ze,virtualIndex:Se}),ot=f.cloneElement(Je,{tabIndex:-1}),$e=typeof ve=="number"&&!_e?{"aria-posinset":ve+1,...n?{"aria-selected":Ze.toString()}:{},"aria-setsize":H,id:Z(ve),role:"option",onMouseEnter:ue(ve)}:{};return u.jsx(ne,{as:"li","data-index":Se,ref:a?void 0:V.measureElement,style:{flex:1,...a?{height:`${me.size}px`}:{},left:0,position:"absolute",top:0,transform:`translateY(${me.start}px)`,width:"100%"},tabIndex:-1,...$e,children:ot},me.key)})})]})}),Si=f.forwardRef(function(e,t){const{mode:n="bleed",tooltipProps:r,tone:i,...a}=e,{t:o}=q();return u.jsx(he,{...a,icon:Mv,mode:n,ref:t,tone:i,tooltipProps:{...r,content:(r==null?void 0:r.content)||o("common.context-menu-button.tooltip")}})});function xw({name:e,title:t},n){return typeof e=="string"&&e.trim().length>0?e:l6(t,n)}function l6(e,t){const n=typeof e=="string"&&e.trim().length>0?` (titled "${e}")`:"";return`at index ${t}${n}`}function ok(){const e=f.useContext(Yhe);if(!e)throw new Error("Could not find `workspaces` context");return e}class jc extends Error{constructor(n,r){super(n);Y(this,"index");Y(this,"identifier");this.name="WorkspaceValidationError",this.index=r==null?void 0:r.index,this.identifier=(r==null?void 0:r.workspace)&&xw(r.workspace,r.index)}}function tnn({workspaces:e}){if(e.length===0)throw new jc("At least one workspace is required.");nnn(e),rnn(e)}function nnn(e){const t=e.length===1,n=new Map;e.forEach((r,i)=>{const{name:a,title:o}=r,s=l6(o,i);if(!a&&!t)throw new jc(`All workspaces must have a \`name\`, unless only a single workspace is defined. Workspace ${s} did not define a \`name\`.`,{workspace:r,index:i});const l=t&&typeof a>"u"?"default":a;if(typeof l!="string")throw new jc(`Workspace at index ${i} defined an invalid \`name\` - must be a string.`,{workspace:r,index:i});const c=l.toLowerCase(),d=n.get(c);if(d){const h=l6(d.workspace.title,d.index);throw new jc(`\`name\`s must be unique. Workspace ${h} and workspace ${s} both have the \`name\` \`${l}\``,{workspace:r,index:i})}if(n.set(c,{index:i,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new jc(`All workspace \`name\`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. Workspace ${s} has the invalid name \`${l}\``,{workspace:r,index:i})})}function rnn(e){e.length>1&&e.every(inn),e.every(ann);const[t,...n]=e,r=(t.basePath||"/").slice(1).split("/").filter(Boolean).length;n.forEach((a,o)=>{const s=(a.basePath||"/").slice(1).split("/").length;if(r!==s)throw new jc(`All workspace \`basePath\`s must have the same amount of segments. Workspace \`${xw(t,o)}\` had ${r} segment${r===1?"":"s"} \`${t.basePath}\` but workspace \`${xw(a,o)}\` had ${s} segment${s===1?"":"s"} \`${a.basePath}\``,{workspace:a,index:o})});const i=new Map;e.forEach((a,o)=>{const s=(a.basePath||"").toLowerCase(),l=i.get(s);if(l)throw new jc(`\`basePath\`s must be unique. Workspaces \`${l}\` and \`${xw(a,o)}\` both have the \`basePath\` \`${s}\``,{workspace:a,index:o});i.set(s,xw(a,o))})}function inn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new jc(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` is missing a \`basePath\``,{workspace:e,index:t}):new jc(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` has an invalid \`basePath\` (must be a non-empty string)`,{workspace:e,index:t})}function ann(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new jc(`All workspace \`basePath\`s must start with a leading \`/\`, consist of only URL safe characters, and cannot end with a trailing \`/\`. Workspace \`${n}\`'s basePath is \`${r}\``,{workspace:e,index:t})}const onn=()=>f.createElement(f.Fragment);function snn(e,t){return n=>{let r=i=>f.createElement(e,i);for(const i of t){const a=r;r=o=>f.createElement(i,{...o,renderDefault:a})}return r({...n,renderDefault:onn})}}function lu(e){const{options:t}=Hn().__internal,{defaultComponent:n,pick:r}=e;return f.useMemo(()=>{const i=[...Nb(t,[])];i.reverse();const a=i.map(({config:o})=>r(o)).filter(Boolean);return snn(n,a)},[n,t,r])}class cse extends Error{constructor({propertyName:n,path:r,cause:i}){const a=wt(i)&&typeof(i==null?void 0:i.message)=="string"?`: ${i.message}`:"";super(`An error occurred while resolving \`${n}\` from ${r.join(" > ")}${a}`);Y(this,"propertyName");Y(this,"path");Y(this,"cause");this.name="ConfigPropertyError",this.propertyName=n,this.cause=i,this.path=r}}class $l extends Error{constructor({causes:n,name:r,type:i}){const a=n.filter(Boolean).map(o=>wt(o)&&typeof(o==null?void 0:o.message)=="string"?o.message:String(o));super(`Could not resolve ${i}${r?` \`${r}\``:""}:
${a.map(o=>`	- ${o}`).join(`
`)}

`);Y(this,"name");Y(this,"type");Y(this,"causes");this.name=r,this.causes=n,this.type=i}}function dse(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(IM);if(t.length)throw new Error(`Invalid plugin configuration:
${t.map(n=>`	${n}`).join(`
`)}`)}function Eb(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return dse(r),r}}return dse(e),()=>e}const lnn=!1,fse=750,u6=2e3,unn=$(ie)(({$fill:e})=>de`
    align-items: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;

    ${e?de`
          bottom: 0;
          height: 100%;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
          width: 100%;
        `:de`
          min-height: 75px;
          height: stretch;
          height: -webkit-fill-available;
          width: stretch;
          width: -webkit-fill-available;
        `}

    ${lnn}

    > * {
      position: absolute;
    }
  `),cnn=$(Op)(({$animatePosition:e=!0})=>de`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes slideUp {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-15px);
      }
    }
    animation: ${e?`500ms ease-out ${fse}ms 1 normal both running fadeIn, 750ms ease-out ${u6}ms 1 normal both running slideUp`:`500ms ease-out ${fse}ms 1 normal both running fadeIn`};
  `),dnn=$(N)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slideDown {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(15px);
    }
  }
  animation:
    1500ms ease-out ${u6}ms 1 normal both running fadeIn,
    750ms ease-out ${u6}ms 1 normal both running slideDown;
`;function bn({fill:e,showText:t,title:n}){return u.jsxs(unn,{$fill:e,as:e?qo:"div",children:[u.jsx(cnn,{$animatePosition:!!t,muted:!0}),t&&u.jsx(fnn,{title:n})]})}function fnn({title:e}){const{t}=q();return u.jsx(dnn,{muted:!0,size:1,children:e||t("common.loading")})}function hnn(e){return!("then"in e.resources&&typeof e.resources.then=="function")}function BW(e,t){return t}const hv="studio",pnn="validation",mnn="copy-paste",gnn=BW("copy-paste",{"copy-paste.field-action-copy-button.document.title":"Copy document","copy-paste.field-action-copy-button.field.title":"Copy field","copy-paste.field-action-paste-button.document.title":"Paste document","copy-paste.field-action-paste-button.field.title":"Paste field","copy-paste.on-paste.validation.read-only-target.description":"The target is read-only","copy-paste.on-paste.validation.schema-type-incompatible.description":"Source and target schema types are not compatible","copy-paste.on-paste.validation.reference-type-incompatible.description":'References of type "{{sourceReferenceType}}" is not allowed in reference field that accepts types "{{targetReferenceTypes}}"',"copy-paste.on-paste.validation.reference-filter-incompatible.description":"Reference is not allowed in reference field according to filter","copy-paste.on-paste.validation.reference-validation-failed.description":'The referenced document "{{ref}}" does not exist',"copy-paste.on-paste.validation.image-file-incompatible.description":'A "{{sourceSchemaType}}" is not allowed in a "{{targetSchemaType}}"',"copy-paste.on-paste.validation.array-type-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.array-value-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.string-value-incompatible.description":'Value "{{value}}" is not allowed in "{{allowedStrings}}"',"copy-paste.on-paste.validation.primitive-type-incompatible.description":'Value of type "{{type}}" is not allowed in this field',"copy-paste.on-paste.validation.clipboard-empty.title":"Nothing to paste","copy-paste.on-paste.validation.clipboard-invalid.title":"Invalid clipboard item","copy-paste.on-paste.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-paste.validation.partial-warning.title":"Could not paste all values","copy-paste.on-paste.validation.document-paste-success.title":'Document "{{fieldNames}}" updated',"copy-paste.on-paste.validation.field_one-paste-success.title":'Field "{{fieldName}}" updated',"copy-paste.on-paste.validation.mime-type-incompatible.description":'MIME type "{{mimeType}}" is not accepted for this field',"copy-paste.on-paste.validation.mime-type-validation-failed.description":"MIME type validation failed","copy-paste.on-copy.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-copy.validation.no-value.title":"Empty value, nothing to copy","copy-paste.on-copy.validation.clipboard-not-supported.title":"Your browser does not support this action","copy-paste.on-copy.validation.copy-document-success.title":'Document "{{fieldNames}}" copied',"copy-paste.on-copy.validation.copy-field_one-success.title":'Field "{{fieldName}}" copied',"copy-paste.on-copy.validation.copy-item_one-success.title":'Item "{{typeName}}" copied'}),ynn={locale:"en-US",namespace:mnn,resources:gnn},vnn=BW("studio",{"asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-hour":"Select hour","calendar.action.select-minute":"Select minute","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.button.aria-label":"Open calendar","calendar.button.tooltip-text":"Select date","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close review changes","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading","changes.loading-changes":"Loading changes","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.title":"Review changes","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","configuration-issues.button.label":"Configuration issues","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members  verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.error.unhandled-runtime-error.call-stack.title":"Call Stack:","form.error.unhandled-runtime-error.component-stack.title":"Component Stack:","form.error.unhandled-runtime-error.error-message":"Error: {{message}}","form.error.unhandled-runtime-error.title":"Unhandled Runtime Error","form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is {{latestVersion}}","help-resources.studio-version":"Sanity Studio version {{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.copy":"Copy","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.insert-menu.filter.all-items":"All","inputs.array.insert-menu.search.no-results":"No items found","inputs.array.insert-menu.search.placeholder":"Search","inputs.array.insert-menu.toggle-grid-view.tooltip":"Toggle grid view","inputs.array.insert-menu.toggle-list-view.tooltip":"Toggle list view","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value","inputs.boolean.disabled":"Disabled","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Browse","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.all-fields-title":"All fields","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.copy":"Copy","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":`Search returned a type that's not valid for this reference: "{{returnedType}}"`,"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes />.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>{{searchTerm}}</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER","inputs.tags.placeholder_touch":"Enter tag","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_delete-schedules":"You do not have permission to delete schedules.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_edit-schedules":"You do not have permission to edit schedules.","insufficient-permissions-message.not-authorized-explanation_execute-schedules":"You do not have permission to execute schedules.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","new-document.button":"Create","new-document.create-new-document-label":"New document","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","package-version.new-package-available.reload-button":"Push to reload","package-version.new-package-available.title":"Sanity Studio is ready to update!","presence.action.manage-members":"Invite members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}}  {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}}  {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","sheet-list.edit-columns":"Edit columns","sheet-list.hide-field":"Remove from table","sheet-list.reset-columns":"Reset columns","sheet-list.select-fields":"Select up to 5 field types","status-button.aria-label":"Configuration status","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-revision":"Latest revision","timeline.latest-version":"Latest revision","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.since":"Since: {{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","tree-editing-dialog.breadcrumbs.menu":"Breadcrumb menu","tree-editing-dialog.search-placeholder":"Search","tree-editing-dialog.search.menu-label":"Search menu","tree-editing-dialog.search.no-results-title":"No results found","tree-editing-dialog.sidebar.action.close":"Close sidebar","tree-editing-dialog.sidebar.action.collapse":"Collapse","tree-editing-dialog.sidebar.action.done":"Done","tree-editing-dialog.sidebar.action.expand":"Expand","tree-editing-dialog.sidebar.action.open":"Open sidebar","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}),bnn={locale:"en-US",namespace:hv,resources:vnn},xnn=BW("validation",{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}),wnn={locale:"en-US",namespace:pnn,resources:xnn},pje={id:"en-US",title:"English (US)",bundles:[bnn,wnn,ynn],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},Dl=pje,kb=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),Cnn="sanity-locale";function Snn(e,t){return kb?localStorage.getItem(mje(e,t))??void 0:void 0}function Enn(e,t,n){kb&&localStorage.setItem(mje(e,t),n)}function mje(e,t){return[Cnn,e,t].join(":")}function knn(e){const{projectId:t,name:n,i18n:{locales:r},__internal:{i18next:i}}=Hn();return u.jsx(_nn,{...e,projectId:t,sourceId:n,locales:r,i18next:i})}function _nn({projectId:e,sourceId:t,locales:n,i18next:r,children:i}){const a=f.useCallback(l=>(r.on("languageChanged",l),()=>r.off("languageChanged",l)),[r]),o=f.useSyncExternalStore(a,()=>n.find(l=>r.language===l.id)||Dl),s=f.useMemo(()=>({locales:n,currentLocale:o,__internal:{i18next:r},changeLocale:async l=>{Enn(e,t,l),await r.changeLanguage(l)}}),[o,r,n,e,t]);return u.jsx(f.Suspense,{fallback:u.jsx(bn,{}),children:u.jsx(net,{i18n:r,children:u.jsx(U7.Provider,{value:s,children:i},o.id)})})}function dR(e){const t=Array.isArray(e)?e:[e],n=JSON.stringify(t.flatMap(a=>a!=null&&a.i18n?Object.values(a.i18n).map(({ns:o})=>o):[]).filter(ua).sort()),r=f.useMemo(()=>JSON.parse(n),[n]),{t:i}=q(r);return f.useCallback(function(a){const{i18n:o}=a;return o?new Proxy(a,{get:(s,l)=>{const c=s[l];if(typeof l=="string"&&l in o){const{key:d,ns:h}=o[l];return i(d,{ns:h,...typeof c=="string"&&{defaultValue:c}})}return c}}):a},[i])}function id(e){const t=f.useMemo(()=>e.i18n?Array.from(new Set(Object.values(e.i18n).map(({ns:r})=>r))).sort():[],[e.i18n]),{t:n}=q(t);return f.useMemo(()=>{const{i18n:r}=e;return r?new Proxy(e,{get:(i,a)=>{const o=i[a];if(typeof a=="string"&&a in r){const{key:s,ns:l}=r[a];return n(s,{ns:l,...typeof o=="string"&&{defaultValue:o}})}return o}}):e},[e,n])}function Yp(){return VW().currentLocale}function VW(){const e=f.useContext(U7);if(!e)throw new Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return e}const Pd=(()=>{const e={dateTimeFormat:C5(),listFormat:C5(),numberFormat:C5(),relativeTimeFormat:C5()};function t(a,o){const s=S5(a,o);let l=e.dateTimeFormat[s];return l||(l=new Intl.DateTimeFormat(a,o),e.dateTimeFormat[s]=l,l)}function n(a,o){const s=S5(a,o);let l=e.listFormat[s];return l||(l=new Intl.ListFormat(a,o),e.listFormat[s]=l,l)}function r(a,o){const s=S5(a,o);let l=e.numberFormat[s];return l||(l=new Intl.NumberFormat(a,o),e.numberFormat[s]=l,l)}function i(a,o){const s=S5(a,o);let l=e.relativeTimeFormat[s];return l||(l=new Intl.RelativeTimeFormat(a,o),e.relativeTimeFormat[s]=l,l)}return{dateTimeFormat:t,listFormat:n,numberFormat:r,relativeTimeFormat:i}})();function C5(){return Object.create(null)}function S5(e,t){return`${e}-${JSON.stringify(Tnn(t))}`}function Tnn(e){const t=[];for(const[n,r]of Object.entries(e))t.push(`${n}=${JSON.stringify(r)}`);return t.sort().join(`
`)}function j0(e={}){var n;const t=(n=f.useContext(U7))==null?void 0:n.currentLocale.id;return t?Pd.listFormat(t,e):Pd.listFormat("en-US",{...e,style:"narrow"})}const Ann=/^<(?<tag>[^\s\d<][^/?><]+)\/?>/,jnn=/<\/(?<tag>[^>]+)>/,Inn=/<[^>]+\/>/,Dnn=/^[A-Z][A-Za-z0-9]+$/,Mnn=/^[a-z]+$/,Rnn=/{{\s*?([^}]+)\s*?}}/g;function Onn(e){const t=[];let n="",r="",i=e;for(;i.length>0;)if(!r&&i[0]==="<"){const a=Fnn(i);if(a){const o=a.groups.tag;Lnn(o),n&&(t.push(...IP(n)),n=""),Pnn(a[0])?t.push({type:"tagOpen",selfClosing:!0,name:o}):(t.push({type:"tagOpen",name:o}),r=o),i=i.slice(a[0].length)}else n+=i[0],i=i.slice(1)}else if(r&&i[0]==="<"&&i[1]!=="<"){const a=Nnn(i);if(a){const o=a.groups.tag;if(i[1]!=="/")throw new Error(`Expected closing tag for <${r}>, but found new opening tag <${o}>. Nested tags is not supported.`);if(o!==r)throw new Error(`Expected closing tag for <${r}>, but found closing tag </${o}> instead. Make sure each opening tag has a matching closing tag.`);n&&(t.push(...IP(n)),n=""),t.push({type:"tagClose",name:o}),r="",i=i.slice(a[0].length)}else n+=i[0],i=i.slice(1)}else n+=i[0],i=i.slice(1);if(r)throw new Error(`No matching closing tag for <${r}> found. Either make it self closing (e.g. "<${r}/>") or close it (e.g "<${r}>...</${r}>").`);return n&&t.push(...IP(n)),t}function IP(e){const t=[],n=e.matchAll(Rnn);let r=0;for(const i of n){if(typeof i.index>"u")continue;const a=e.slice(r,i.index);a.length>0&&t.push({type:"text",text:a}),t.push($nn(i[0])),r+=a.length+i[0].length}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}function $nn(e){const[t,...n]=e.replace(/^\{\{|\}\}$/g,"").trim().split(/\s*,\s*/);if(n.length===1&&n[0]==="list")return{type:"interpolation",variable:t,formatters:n};if(n.length>0)throw new Error(`Interpolations with formatters are not supported when using <Translate>. Found "${e}". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.`);return{type:"interpolation",variable:t}}function Pnn(e){return Inn.test(e)}function Fnn(e){return e.match(Ann)}function Nnn(e){return e.match(jnn)}function Lnn(e){if(!(Dnn.test(e)||Mnn.test(e)))throw new Error(e.trim()===e?`Invalid tag "<${e}>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.`:`Invalid tag "<${e}>". No whitespace allowed in tags.`)}const Bnn=/^[A-Z]/,Vnn=["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"];function gt(e){const t=e.t(e.i18nKey,{context:e.context,skipInterpolation:!0,count:e.values&&"count"in e.values&&typeof e.values.count=="number"?e.values.count:void 0}),n=f.useMemo(()=>Onn(t),[t]),r=j0(),i={list:a=>r.format(a)};return u.jsx(u.Fragment,{children:uh(n,e.values,e.components||{},i)})}function uh(e,t,n,r){const[i,...a]=e;if(!i)return null;if(i.type==="interpolation"){const o=t?t[i.variable]:void 0;if(typeof o>"u")return`{{${i.variable}}}`;const s=znn(o,i.formatters||[],r);return u.jsxs(u.Fragment,{children:[s,uh(a,t,n,r)]})}if(i.type==="text")return u.jsxs(u.Fragment,{children:[i.text,uh(a,t,n,r)]});if(i.type==="tagOpen"&&i.selfClosing){const o=n[i.name];if(!o)throw new Error(`Component not found: ${i.name}`);return u.jsxs(u.Fragment,{children:[u.jsx(o,{}),uh(a,t,n,r)]})}if(i.type==="tagOpen"&&!i.selfClosing){const o=a.findIndex(h=>h.type==="tagClose"),s=a[o];if(s&&i.name!==s.name)throw new Error("Nested tags is not allowed");const l=n[i.name];if(!l&&Bnn.test(i.name))throw new Error(`Component not defined: ${i.name}`);if(!l&&!Vnn.includes(i.name))throw new Error(`HTML tag "${i.name}" is not allowed`);const c=a.slice(0,o),d=a.slice(o+1);return l?u.jsxs(u.Fragment,{children:[u.jsx(l,{children:uh(c,t,n,r)}),uh(d,t,n,r)]}):u.jsxs(u.Fragment,{children:[f.createElement(i.name,{},uh(c,t,n,r)),uh(d,t,n,r)]})}return null}function znn(e,t,n){let r=e;for(const i of t)if(i==="list")if(Array.isArray(e))r=n.list(e);else throw new Error("List formatter used on non-array value");return`${r}`}const Unn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hnn=/_key\s*==\s*['"](.*)['"]/;function er(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{if(Ya(n))return`${t}[${n}]`;if(En(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(af(n)){const[i,a]=n;return`${t}[${i}:${a}]`}if(typeof n=="string")return`${t}${r===0?"":"."}${n}`;throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function sa(e,t){const n=t[0];if(typeof n>"u")return e;const r=t.slice(1);if(Ya(n))return sa(Array.isArray(e)?e[n]:void 0,r);if(En(n))return sa(Array.isArray(e)?e.find(i=>i._key===n._key):void 0,r);if(typeof n=="string")return sa(wt(e)?e[n]:void 0,r);throw new Error(`Unknown segment type ${JSON.stringify(n)}`)}function Wnn(e,t){return typeof t!="number"&&!En(t)?-1:typeof t=="number"?t:e.findIndex(n=>$u(n)&&n._key===t._key)}function Gnn(e){const t=e.match(Unn);if(!t)throw new Error("Invalid path string");return t.map(Ynn)}function Ynn(e){return Ya(e)?qnn(e):En(e)?Knn(e):af(e)?Znn(e):e}function qnn(e){return Number(e.replace(/[^\d]/g,""))}function Knn(e){const t=e.match(Hnn);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function Znn(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function gje(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const i=t[r];return En(n)&&En(i)?n._key===i._key:Ya(n)?Number(n)===Number(i):af(n)&&af(i)?n[0]===i[0]&&n[1]===i[1]:n===i})}function yje(e){return $u(e)?e._key:void 0}function c6(e){const t=yje(e);return t?{_key:t}:void 0}function Xnn(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function vje(e,t){return e.get((t==null?void 0:t.author)||null)}function sk(e,t){const n=Array.isArray(t)?t:Gnn(t);return Jnn(e,n)}function Jnn(e,t){const n=d6(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function d6(e,t,n=[]){if(t.length===0)return e;const r=t[0],i=t.slice(1);if(af(r))throw new Error("Index tuples are not supported in diff paths");if(Ya(r)||En(r)){const o=Ya(r)?`at index ${r}`:`with key ${r._key}`;if(e.type!=="array"){`${o}${er(n)}`;return}const s=e.items.find(Ya(r)?l=>l.toIndex===r:l=>Qnn(l,r));if(!s){`${o}${er(n)}`;return}return d6(s.diff,i,n.concat(r))}if(e.type!=="object"){`${r}${er(n)}`;return}const a=e.fields[r];if(typeof a>"u"){`${r}${er(n)}`;return}return d6(a,i,n.concat(r))}function Qnn(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function fR(e,t,n=[]){if(t(e,n)){if(e.type==="array"){ern(e,t,n);return}if(e.type==="object"){trn(e,t,n);return}e.type==="string"&&nrn(e,t,n)}}function ern(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),a=i?{_key:i}:rrn(r);fR(r.diff,t,n.concat(a))})}function trn(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const i=e.fields[r];fR(i,t,n.concat(r))})}function nrn(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{fR(r,t,n)})}function rrn(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function zW(){const e=f.useContext(Uhe);if(!e)throw new Error("UserColorManager: missing context value");return e}function bje(e){const t=zW(),n=f.useMemo(()=>e?t.listen(e):sr,[t,e]);return ti(n,t.get(null))}const irn="purple",arn=["green","red","gray"],orn=G7.filter(e=>!arn.includes(e)),xje=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},srn=e=>{const{background:t,border:n,text:r}=xje(e);return orn.reduce((i,a)=>(i[a]={name:a,background:rt[a][t].hex,border:rt[a][n].hex,text:rt[a][r].hex,tints:rt[a]},i),{})},lrn=e=>{const{background:t,border:n,text:r}=xje(e);return{name:"gray",background:rt.gray[t].hex,border:rt.gray[n].hex,text:rt.gray[r].hex,tints:rt.gray}};function urn(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:i}=e,a=n||srn(i),o=t||lrn(i),s=r||irn;if(!a.hasOwnProperty(s))throw new Error(`'colors' must contain 'currentUserColor' (${s})`);const l=Object.keys(a),c=new Map,d=new Map,h=l.reduce((T,j)=>(T[j]=0,T),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(T=>k(T?T.id:null)),{get:g,listen:v};function g(T){return T?a[y(T)]:o}function y(T){if(T===m)return s;const j=p.get(T);if(j)return j;const A=d.get(T);if(A&&(h[A]===0||!C()))return b(T,A);const I=_(T);return h[I]===0?b(T,I):b(T,S(A))}function v(T){let j=c.get(T);if(j)return j;const A=y(T);return j=E(T,A),c.set(T,j),j}function b(T,j){return p.set(T,j),d.set(T,j),h[j]++,j}function x(T,j){p.delete(T),h[j]--}function w(){return l.find(T=>h[T]===0)}function C(){return!!w()}function S(T){let j=1/0,A=[];return l.forEach(I=>{const M=h[I];M===j?A.push(I):M<j&&(j=M,A=[I])}),T&&A.includes(T)?T:A[0]}function E(T,j){return new Rt(A=>{const I=a[j];return A.next(I),()=>{c.delete(T),x(T,j)}}).pipe(la({refCount:!0}))}function k(T){m=T,h[s]+=T?1:-1}function _(T){let j=0;for(let A=0;A<T.length;A++)j=(j<<5)-j+T.charCodeAt(A)|0;return l[Math.abs(j)%l.length]}}function crn({children:e,manager:t}){const n=Gf(),r=f.useMemo(()=>t||urn({scheme:n}),[t,n]);return u.jsx(Uhe.Provider,{value:r,children:e})}function wje(e){const t=zW();return vje(t,e)}function pv(e,t=[]){const n=zW(),r=f.useMemo(()=>sk(e,t),[e,t]);return f.useMemo(()=>vje(n,r),[r,n])}const qt={apiVersion:"2024-05-28"};function drn({client:e}){const t=e.withConfig(qt),n=new w_e(async a=>{const o=(await t.request({uri:`/users/me/keyvalue/${a.join(",")}`,withCredentials:!0}).catch(s=>(console.error("Error fetching data:",s),Array(a.length).fill(null)))).reduce((s,l)=>(l!=null&&l.key&&(s[l.key]=l.value),s),{});return a.map(s=>o[s]||null)}),r=a=>Br(n.loadMany(a)),i=a=>Br(t.request({method:"PUT",uri:"/users/me/keyvalue",body:a,withCredentials:!0})).pipe(fe(o=>o.map(s=>(n.clear(s.key),n.prime(s.key,s.value),s.value))),kn(o=>(console.error("Error setting data:",o),we(Array(a.length).fill(null)))));return{getKey:a=>r([a]).pipe(fe(o=>o[0])),setKey:(a,o)=>i([{key:a,value:o}]).pipe(fe(s=>s[0])),getKeys:r,setKeys:i}}function frn({client:e}){const t=drn({client:e}),n=new Fr,r=n.pipe(Ct(i=>t.setKey(i.key,i.value).pipe(fe(a=>({key:i.key,value:a})))),la(1));return{getKey:i=>Bn(t.getKey(i),r.pipe(Nt(a=>a.key===i),fe(a=>a.value))),setKey:(i,a)=>(n.next({key:i,value:a}),r.pipe(Nt(o=>o.key===i),fe(o=>o.value),$a(1)))}}class hR extends Error{constructor({projectId:n}){super("CorsOriginError");Y(this,"projectId");this.name="CorsOriginError",this.projectId=n}}const UW={};function Cje(e,t){kb?localStorage[e]=t:UW[e]=t}function hrn(e){return kb?localStorage[e]:UW[e]}function Sje(e){kb?localStorage.removeItem(e):delete UW[e]}function prn(e){const t=typeof window>"u"?we():To(window,"storage"),n=`__studio_local_storage_messaging_${e}`,r=new Fr,i=Bn(r,t.pipe(Nt(o=>o.key===n),fe(o=>o.newValue),Nt(ua),fe(o=>JSON.parse(o)))).pipe(la(1));function a(o){try{Cje(n,JSON.stringify(o)),Sje(n),r.next(o)}catch{}}return{messages:i,broadcast:a}}const mrn=$.svg(({theme:e})=>{const{fg:t}=e.sanity.color.base;return de`
    fill: ${t};
  `}),grn=$.img`
  height: 19px;
  width: 19px;
  object-fit: contain;
`,yrn=()=>u.jsx(mrn,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:u.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),vrn=()=>u.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[u.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),u.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),u.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),u.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function brn(e){const{provider:t}=e;return t.logo?u.jsx(grn,{src:t.logo,alt:`Logo for ${t.name}`}):void 0}const xrn={google:vrn,github:yrn};async function wrn({client:e,mode:t,providers:n=[]}){if(t==="replace"&&Array.isArray(n))return n;const{providers:r}=await e.request({uri:"/auth/providers"});return typeof n=="function"?n(r):n.length===0?r:t==="replace"?n:r.filter(i=>n.some(a=>a.url!==i.url)).concat(n)}function hse({loginMethod:e="dual",projectId:t,url:n,redirectPath:r}){const i=new URLSearchParams;return i.set("origin",`${window.location.origin}${r}`),i.set("projectId",t),e==="token"?i.set("withSid","true"):i.set("type",e),`${n}?${i}`}function Crn({getClient:e,loginMethod:t,redirectOnSingle:n,...r}){const i=Gp(e);function a({projectId:o,...s}){const l=s.redirectPath||s.basePath||"/",[c,d]=f.useState(null),[h,p]=f.useState(null);if(h)throw h;const[m]=i();f.useEffect(()=>{m&&wrn({client:m,...r}).then(d).catch(p)},[m]);const g=n&&(c==null?void 0:c.length)===1&&(c==null?void 0:c[0])&&hse({loginMethod:t,projectId:o,url:c[0].url,redirectPath:l}),y=!c||g;return f.useEffect(()=>{g&&(window.location.href=g)},[g]),y?u.jsx(bn,{showText:!0}):u.jsxs(ne,{space:4,children:[u.jsx(Gi,{align:"center",size:1,children:"Choose login provider"}),u.jsx(ne,{space:2,children:c.map((v,b)=>u.jsx(he,{as:"a",icon:xrn[v.name]||u.jsx(brn,{provider:v}),href:hse({loginMethod:t,projectId:o,url:v.url,redirectPath:l}),mode:"ghost",size:"large",text:v.title},`${v.url}_${b}`))})]})}return a}const pse=/sid=([^&]{20,})&?/;function Srn(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(pse)||[];if(!t)return null;const n=e.replace(pse,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let mse=Srn();const Ern=()=>{const e=mse;return e&&(mse=null),e};function krn(e){return wt(e)&&"state"in e&&wt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function _rn(e){return["dual","token"].includes(e)}const HW=e=>{if(!e)throw new Error("Invalid project id");return`__studio_auth_token_${e}`},DP=e=>{try{const t=hrn(HW(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},Eje=e=>{try{Sje(HW(e))}catch(t){console.error(t)}},Trn=({token:e,projectId:t})=>{try{Cje(HW(t),JSON.stringify({token:e,time:new Date().toISOString()}))}catch(n){console.error(n)}},gse=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return Eje(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new hR({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error(`Unknown network error attempting to reach ${i}`)}throw r}};function Arn({clientFactory:e,projectId:t,dataset:n,apiHost:r,loginMethod:i="dual",...a}){const{broadcast:o,messages:s}=prn(`dual_mode_auth_${t}`),l=e??NCe,c=s.pipe(Wi(_rn(i)?DP(t):null)),d={};r&&(d.apiHost=r);const h=c.pipe(fe(v=>l({projectId:t,dataset:n,apiVersion:"2021-06-07",useCdn:!1,...v&&{token:v},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...d})),Ct(v=>oa(async()=>{const b=await gse(v,o);return{currentUser:b,client:v,authenticated:!!b}})),hr((v,b)=>kt(v.currentUser,b.currentUser)),la(1));async function p(){const v=Ern();if(!v){o(i==="cookie"?null:DP(t));return}const b=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});let x;if((i==="dual"||i==="cookie")&&(x=await gse(b,o)),x||i==="cookie"){o(null);return}const w=await m(b,v);o(w??null)}async function m(v,b){const{token:x}=await v.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return Trn({token:x,projectId:t}),x}async function g(){const v=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,token:DP(t)??void 0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});Eje(t),await v.request({uri:"/auth/logout",method:"POST"}),o(null)}const y=Crn({...a,getClient:()=>h.pipe(fe(v=>v.client)),loginMethod:i});return{handleCallbackUrl:p,token:c,state:h,LoginComponent:y,logout:g}}function kje(e){return typeof e!="object"||e===null?`${e}`:JSON.stringify(Object.fromEntries(Object.entries(e).sort(([t],[n])=>t.localeCompare(n,"en")).map(([t,n])=>[t,kje(n)])))}const jrn=AD(Arn,kje);function WW(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function Irn(e){return t=>{let n=[];const r=kn((i,a)=>(n.push(i),e(i,n.length,a).pipe(r)));return t.pipe(Qn(()=>{n=[]}),r)}}const yse=typeof window>"u"?we({}):To(window,"online"),Drn=typeof window>"u"?we({}):To(window,"offline"),Mrn=e=>Math.pow(2,e)*100,Rrn={type:"connecting"},_je=LCe(),Orn=_je[0];_je[1];const $rn=({error:e,isOffline:t,attemptNo:n,retryAt:r})=>({type:"error",error:e,attemptNo:n,isOffline:t,retryAt:r});function Prn({bifur:e}){return{connectionStatus$:Bn(e.heartbeats,Drn.pipe(Xy(pp(new Error("The browser went offline"))))).pipe(fe(t=>({type:"connected",lastHeartbeat:t})),Irn((t,n,r)=>{const i=Math.min(24e4,Mrn(n)),a=new Date(new Date().getTime()+i),o=Qr(a),s=!navigator.onLine,l=$rn({error:t,retryAt:a,isOffline:s,attemptNo:n}),c=bz.pipe(Sz(s?yse:Bn(o,yse,Orn)));return ji(we(l),c.pipe($a(1)),r)}),Wi(Rrn))}}function pR(e){return e.type?pR(e.type):e.name==="block"}function Frn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Nrn=["_key","_type","_weak"];function GW(e){return Object.keys(e).every(t=>Nrn.includes(t))}function mR(e,t){return f6(e,t,new WeakMap)}function f6(e,t,n){if(e===t)return e;if(n.has(t))return n.get(t);if(e==null||t==null||typeof e!=typeof t)return t;if(Array.isArray(t)){let r=e.length===t.length;const i=[];n.set(t,i);for(let a=0;a<t.length;a++){const o=f6(e[a],t[a],n);o!==e[a]&&(r=!1),i[a]=o}return n.set(t,r?e:i),r?e:i}if(typeof t=="object"){const r=Object.getOwnPropertyNames(t);let i=Object.getOwnPropertyNames(e).length===r.length;const a={};n.set(t,a);for(const o of r){const s=f6(e[o],t[o],n);s!==e[o]&&(i=!1),a[o]=s}return n.set(t,i?e:a),i?e:a}return t}function Lrn(e){return u.jsx(khe.Provider,{value:e.presence,children:e.children})}function Tje(){const e=f.useContext(khe);if(!e)throw new Error("Form context not provided");return e}function _b(e,t){const n=Tje(),r=f.useRef(n),i=mR(r.current,n.filter(a=>Ha(e,a.path)&&t));return r.current=i,i}function ad(){const e=f.useContext(phe);if(!e)throw new Error("FormBuilder: missing context value");return e}const Brn=e=>e==="error"?u.jsx(Ta,{}):e==="warning"?u.jsx(gr,{}):u.jsx(Df,{}),Vrn=$(N)(({theme:e})=>de`
    &[data-info] {
      color: ${e.sanity.color.muted.primary.enabled.fg};
    }

    &[data-warning] {
      color: ${e.sanity.color.muted.caution.enabled.fg};
    }

    &[data-error] {
      color: ${e.sanity.color.muted.critical.enabled.fg};
    }
  `);function Aje(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:i}=ad().__internal.components;return t.length===0&&n.length===0?null:u.jsxs(ne,{space:1,children:[n.length>0&&n.map(({message:a,level:o},s)=>u.jsxs(z,{children:[u.jsx(L,{marginRight:2,marginBottom:s+1===n.length?0:2,children:u.jsx(Vrn,{size:1,"data-error":o==="error"?"":void 0,"data-warning":o==="warning"?"":void 0,"data-info":o==="info"?"":void 0,children:Brn(o)})}),u.jsx(L,{children:u.jsx(N,{size:1,children:a||"Error"})})]},`validationItem-${s}`)),t.length>0&&u.jsxs(L,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&u.jsx(i,{markers:t})]})]})}function zrn(e){return u.jsx(Hhe.Provider,{value:e.validation,children:e.children})}function Urn(){const e=f.useContext(Hhe);if(!e)throw new Error("Form context not provided");return e}function YW(e,t=!1){const n=Urn();return f.useMemo(()=>n.filter(r=>Ha(e,r.path)&&(t||!Sr(e,r.path))).map(r=>({message:r.message,level:r.level,path:r.path})),[t,e,n])}const Hrn=["@@_NONEXISTENT_PATH_@@"];function gR(e){const t=f.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:rn,r=YW((e==null?void 0:e.path)||Hrn),i=f.useMemo(()=>e!=null&&e.schemaType&&pR(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[a,o,s]=f.useMemo(()=>[i.filter(c=>c.level==="error").length>0,i.filter(c=>c.level==="warning").length>0,i.filter(c=>c.level==="info").length>0],[i]),l=mR(t.current,i);return t.current=l,f.useMemo(()=>({validation:l,hasError:a,hasWarning:o,hasInfo:s}),[l,a,o,s])}function yR(e){const t=f.useContext(Ehe);if(!t)throw new Error("Form context not provided");return f.useMemo(()=>t.filter(n=>Sr(n.path,e)),[t,e])}const Wrn={placement:"right",fallbackPlacements:["top","bottom"]};function Grn(e){const{group:t}=e,{title:n}=id(t);return t.expanded?u.jsxs(u.Fragment,{children:[u.jsx(L,{padding:2,paddingTop:3,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:n})}),t.children.map((r,i)=>{var a;return u.jsx(h6,{action:r,isFirst:i===0,prevIsGroup:((a=t.children[i-1])==null?void 0:a.type)==="group"},i)})]}):u.jsx(BV,{icon:t.icon,popover:Wrn,text:n,tone:t.tone,children:t.children.map((r,i)=>{var a;return u.jsx(h6,{action:r,isFirst:i===0,prevIsGroup:((a=t.children[i-1])==null?void 0:a.type)==="group"},i)})})}function Yrn(e){const{action:t}=e,{title:n}=id(t),r=f.useCallback(()=>{t.onAction()},[t]),i=typeof t.disabled=="object"&&u.jsx(N,{size:1,children:t.disabled.reason});return u.jsx(PY,{content:i,placement:"left",children:u.jsx(He,{disabled:!!t.disabled,icon:t.icon,iconRight:t.iconRight||(t.selected?_a:void 0),onClick:r,pressed:t.selected,text:n,tone:t.tone})})}function h6(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?u.jsx(fr,{}):t.type==="group"?u.jsxs(u.Fragment,{children:[!n&&u.jsx(fr,{}),u.jsx(Grn,{group:t})]}):u.jsxs(u.Fragment,{children:[r&&u.jsx(fr,{}),u.jsx(Yrn,{action:t})]})}const jje={placement:"top"};function vse(e){return"renderAsButton"in e&&e.renderAsButton}const qrn=f.memo(function(e){const{nodes:t,onMenuOpenChange:n}=e,[r,i]=f.useState(!1),a=f.useCallback(()=>{n(!0),i(!0)},[n]),o=f.useCallback(()=>{n(!1),i(!1)},[n]),s=f.useMemo(()=>t.filter(vse),[t]),l=f.useMemo(()=>t.filter(h=>!vse(h)),[t]),c=f.useMemo(()=>{const h=l.length;if(h===0||h>1)return l;const p=l[0];return p.type==="group"?[{...p,expanded:!0}]:l},[l]),d=f.useMemo(()=>[...c.length?[{type:"group",children:c,icon:Mv,title:"Field actions"}]:[],...s],[s,c]);return u.jsx(u.Fragment,{children:d.map((h,p)=>u.jsx(Krn,{node:h,onOpen:a,onClose:o,open:r},p))})}),Krn=f.memo(function(e){const{node:t,onOpen:n,onClose:r,open:i}=e;return t.type==="divider"?u.jsx(ie,{borderLeft:!0,flex:"none"}):t.type==="action"?u.jsx(he,{icon:t.icon,mode:"bleed",onClick:t.onAction,tooltipProps:{...jje,content:t.title}}):u.jsx(Xrn,{node:t,onOpen:n,onClose:r,open:i})}),Zrn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Xrn(e){const{node:t,onOpen:n,onClose:r,open:i}=e,{title:a}=id(t);return u.jsx(Gt,{button:u.jsx(he,{icon:t.icon,"aria-label":i?void 0:a,"data-testid":"field-actions-trigger",mode:"bleed",tooltipProps:{...jje,content:t.title}}),id:f.useId(),menu:u.jsx(Ot,{children:t.children.map((o,s)=>{var l;return u.jsx(h6,{action:o,isFirst:s===0,prevIsGroup:((l=t.children[s-1])==null?void 0:l.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Zrn})}function bse(){return f.useContext(vhe)}function lk(e){const{actions:t,children:n,path:r,focused:i}=e,{onMouseEnter:a,onMouseLeave:o}=bse(),s=bse().hoveredStack[0],l=A0||(s?er(r)===s:!1),c=f.useCallback(()=>{a(r)},[a,r]),d=f.useCallback(()=>{o(r)},[o,r]),h=f.useMemo(()=>({actions:t,focused:i,hovered:l,onMouseEnter:c,onMouseLeave:d}),[t,i,c,d,l]);return u.jsx(hhe.Provider,{value:h,children:n})}function Ije(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:Ije(t.children)}:t)}const uk=f.memo(function(e){const{actions:t,documentId:n,documentType:r,onActions:i,path:a,schemaType:o}=e,s=t.length,l=f.useRef(s),[c,d]=f.useState(()=>Array.from(new Array(s))),h=f.useRef(c),p=f.useCallback((g,y)=>{d(v=>{const b=[...v];return b[g]=y,b})},[]);f.useEffect(()=>{h.current!==c&&(h.current=c,i(Ije(c)))},[c,i]),f.useEffect(()=>{if(l.current!==s){const g=Array.from(new Array(s));for(let y=0;y<s;y++)g[y]=h.current[y];l.current=s,d(g),h.current=g}},[s]);const m=f.useMemo(()=>t.map((g,y)=>Jrn({action:g,documentId:n,documentType:r,index:y,path:a,schemaType:o,setFieldAction:p})),[t,n,r,a,o,p]);return u.jsx(u.Fragment,{children:m.map((g,y)=>u.jsx(g,{},y))})});function Jrn({action:e,documentId:t,documentType:n,index:r,path:i,schemaType:a,setFieldAction:o}){const{useAction:s}=e;return f.memo(function(){const l=s({documentId:t,documentType:n,path:i,schemaType:a}),c=Wa(l);return f.useEffect(()=>{o(r,c)},[c]),null})}function qW(){return f.useContext(hhe)}const Qrn=f.memo(function(e){const{children:t}=e,[n,r]=f.useState([]),i=f.useCallback(s=>{const l=er(s);r(c=>c.includes(l)?c:[l,...c])},[]),a=f.useCallback(s=>{const l=er(s);r(c=>c.includes(l)?c.filter(d=>d!==l):c)},[]),o=f.useMemo(()=>({hoveredStack:n,onMouseEnter:i,onMouseLeave:a}),[i,a,n]);return u.jsx(vhe.Provider,{value:o,children:t})}),ein={portal:!0},tin=$.div(e=>{const{space:t}=Te(e.theme);return de`
    margin: ${0-t[1]}px;
  `}),xse=e=>{if(e.length===1)return`${e[0].user.displayName} is editing this document`;if(e.length>1)return`${e.length} people are editing this document right now`};function KW(e){const{presence:t}=e,n=f.useMemo(()=>Array.from(new Set(t.map(i=>i.user.id))).map(i=>t.find(a=>a.user.id===i)).filter(ua),[t]),r=f.useMemo(()=>xse(n),[n]);return u.jsx(bt,{content:r,...ein,children:u.jsx(tin,{children:u.jsx(yE,{maxLength:2,"aria-label":xse(n),size:0,children:n.map(i=>u.jsx(nl,{size:0,user:i.user},i.user.id))})})})}const nin=/[^\p{Alpha}\p{White_Space}]/gu,rin=new RegExp("\\p{White_Space}+","u"),iin={small:0,medium:1,large:2};function ain(e){const t=e.replace(nin,"").split(rin);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function nl(e){const{user:t,withTooltip:n,...r}=e;return wt(t)?n?u.jsx(oin,{...r,user:t}):u.jsx(Dje,{...r,user:t}):u.jsx(sin,{...e,user:t})}function oin(e){const{user:{displayName:t}}=e;return u.jsx(bt,{content:t,placement:"top",portal:!0,children:u.jsx("div",{style:{display:"inline-block"},children:u.jsx(Dje,{...e})})})}const Dje=f.forwardRef(function(e,t){const{user:n,animateArrowFrom:r,position:i,size:a,status:o,tone:s,...l}=e,[c,d]=f.useState(null),h=bje(n.id),p=c||n==null?void 0:n.imageUrl;return u.jsx(jV,{__unstable_hideInnerStroke:!0,animateArrowFrom:r,arrowPosition:i,color:h.name,"data-legacy-tone":s,initials:(n==null?void 0:n.displayName)&&ain(n.displayName),src:p,onImageLoadError:d,ref:t,size:typeof a=="string"?iin[a]:a,status:o,title:n==null?void 0:n.displayName,...l})});function sin({user:e,...t}){const[n]=od(e);return n?u.jsx(nl,{...t,user:n}):null}const lin=3,Mje=3,jj=-4,mv=25,wse=4,uin=[0,.25,.75,1],E5=23,cin=8,din=8,Rje=20,Oje=20,MP=!1,$je=$(z)`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`,fin=$(z)`
  height: ${mv}px;
  min-width: 23px;
  vertical-align: top;
`;function hin(e){const{children:t}=e,{store:n,snapshot:r}=rje();return u.jsx(_he.Provider,{value:n,children:u.jsx(The.Provider,{value:r,children:t})})}const pin=f.memo(hin),min=[];function gin(){const e=f.useContext(The);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReportedValues()", is wrapped inside a <PresenceTracker> element')),min):e}const yin=(e,t,n)=>{const r=f.useContext(_he);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReporter()", is wrapped inside a <PresenceTracker> element')),ije(r,e,t,n)};function vin(e){const{children:t,items:n}=e,r=f.useMemo(()=>u.jsx(ne,{sizing:"border",children:n.map(i=>u.jsxs(z,{align:"center",gap:2,children:[u.jsx("div",{children:u.jsx(nl,{user:i.user,status:"online"})}),u.jsx(N,{size:1,children:i.user.displayName})]},i.user.id))}),[n]);return u.jsx(bt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const bin=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function xin(e){return-jj+(mv+jj)*e}const Pje=f.memo(function({presence:e,position:t="inside",animateArrowFrom:n="inside",maxAvatars:r=Mje,stack:i=!0}){const a=mp(e||[],d=>d.user.id),o=Bp(a,d=>d.lastActiveAt),[s,l]=i?bin(o,r):[[],o],c=[...l.reverse().map(d=>({key:d.user.id,element:u.jsx(nl,{animateArrowFrom:n,position:t,status:"online",user:d.user})})),s.length>=2?{key:"counter",element:u.jsx(tA,{count:s.length})}:null].filter(Boolean);return u.jsxs($je,{children:[u.jsx("div",{}),u.jsx(fin,{direction:"row-reverse",children:c.map((d,h)=>d&&u.jsx("div",{style:{position:"absolute",transform:`translate3d(${-h*(mv+jj)}px, 0px, 0px)`,transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-h},children:d.element},d.key))})]})});function ck(e){const t=f.useContext(RFe),{presence:n=t,maxAvatars:r=Mje}=e,[i,a]=f.useState(null),o=f.useId(),s=f.useCallback(()=>({presence:n,element:i,maxAvatars:r}),[i,r,n]);yin(i?o:null,s);const l=f.useMemo(()=>mp(n||[],c=>c.user.id),[n]);return u.jsx(vin,{items:l,children:u.jsx($je,{ref:a,style:{minHeight:mv,minWidth:mv}})})}const win=e=>{const t=new Fr,n=new IntersectionObserver(r=>{r.forEach(i=>{t.next(i)})},e);return{observe:r=>new Rt(i=>{const a=t.pipe(Nt(o=>o.target===r)).subscribe(i);return n.observe(r),()=>{a.unsubscribe(),n.unobserve(r)}})}},ZW=e=>{const{onIntersection:t,io:n,id:r,...i}=e,a=f.useRef(null);return f.useEffect(()=>{const o=a.current;if(!o)return;const s=n.observe(o).pipe(Qn(l=>t(r,l))).subscribe();return()=>s.unsubscribe()},[n,r,t]),u.jsx("div",{...i,ref:a})},Cin=$.div`
  position: relative;
`,Sin=$.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`,XW=de`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`,Ein=$(ZW)(({$debug:e,margins:t})=>de`
    ${XW}

    z-index: 100;
    position: sticky;
    height: 1px;
    top: ${t?`${t[0]-1}px`:void 0};
    background-color: ${e?"red":"none"};
  `),kin=$(ZW)(({$debug:e})=>de`
    ${XW}

    visibility: none;

    ${e&&de`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `}
  `),_in=$(ZW)(({$debug:e})=>de`
    ${XW}

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: ${e?"blue":"transparent"};
  `),Tin=e=>`${e}px`,Ain=e=>0-e,jin=f.forwardRef(function(e,t){const{regions:n,render:r,children:i,margins:[a,o,s,l]}=e,c=f.useRef(null),d=f.useMemo(()=>[a,o,s,l],[a,o,s,l]),h=f.useMemo(()=>win({rootMargin:d.map(Ain).map(Tin).join(" "),threshold:uin}),[d]),[p,m]=f.useState({}),g=f.useCallback((x,w)=>{m(C=>({...C,[x]:w}))},[]),y=p["::top"],v=p["::bottom"],b=f.useMemo(()=>y&&v?n.filter(x=>{var w;return((w=x.presence)==null?void 0:w.length)>0}).map(x=>{const w=p[x.id];if(!w)return null;const{bottom:C,top:S}=w.boundingClientRect,E=w.boundingClientRect.top<y.boundingClientRect.bottom,k=w.boundingClientRect.top<v.boundingClientRect.top,_=w.isIntersecting?S-(w.intersectionRect.top-E5):E?-y.boundingClientRect.bottom:v.boundingClientRect.top,T=w.isIntersecting?-(C-(w.intersectionRect.bottom+E5)):k?v.boundingClientRect.top:-y.boundingClientRect.bottom,j=_<=cin?"top":T<=din?"bottom":"inside";return{distanceTop:_,distanceBottom:T,region:x,position:j}}).filter(Boolean):[],[v,p,n,y]);return u.jsxs(Cin,{ref:t,children:[u.jsx(Ein,{$debug:MP,io:h,id:"::top",onIntersection:g,margins:d}),u.jsx("div",{children:i}),u.jsx(Sin,{ref:c,children:c.current&&r(b,c.current.offsetWidth)}),n.map(x=>{const w=x.rect.width===0;return u.jsx(kin,{$debug:MP,io:h,onIntersection:g,id:x.id,style:{width:w?1:x.rect.width,left:x.rect.left-(w?1:0),top:x.rect.top-E5,height:x.rect.height+E5*2}},x.id)}),u.jsx(_in,{$debug:MP,id:"::bottom",io:h,onIntersection:g})]})}),Fje={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Iin=e=>e.top+e.height;function Din(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,a=i?Iin(i):0;return{...t,spacerHeight:t.region.rect.top-a}})}const k5=e=>fb(e,t=>t.region.rect.top),Min=(e,t)=>e+t,Cse=e=>e.reduce(Min,0);function Rin(e){const t=Din(k5(e)),n={top:[],inside:[],bottom:[],...aU(t,r=>r.position)};return{top:k5(n.top).map((r,i,a)=>({...r,indent:a.slice(i+1).reduce((o,s)=>o+s.region.rect.width,0)})),inside:k5(n.inside).map(r=>({...r,indent:0})),bottom:k5(n.bottom).map((r,i,a)=>({...r,indent:a.slice(0,i).reduce((o,s)=>o+s.region.rect.width,0)}))}}const Sse=({height:e,...t})=>u.jsx("div",{style:{height:Math.max(0,e),...t==null?void 0:t.style}}),Oin=[0,0,0,0],$in=(e,t)=>{let n=e,r=-n.scrollTop,i=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}};function Pin(e,t){return{...$in(e,t),width:e.offsetWidth,height:e.offsetHeight}}function Fin(e,t){return e.map(([n,r])=>r.element?{...r,id:n,rect:Pin(r.element,t)}:null).filter(Boolean)}function Nin(e){const{children:t,margins:n=Oin}=e,r=gin(),[i,a]=f.useState(null),o=f.useMemo(()=>i?Fin(r,i):p6,[i,r]),s=f.useCallback((l,c)=>{const d=Rin(l.filter(g=>g.region.presence.length>0)),h=Cse(d.top.map(g=>g.region.rect.height+g.spacerHeight)),p=Cse([...d.inside,...d.bottom].map(g=>g.region.rect.height+g.spacerHeight)),m=d.inside.reduce((g,y)=>{const{distanceTop:v,distanceBottom:b}=y,x=v<=Rje,w=b<=Oje;return{nearTop:g.nearTop+(x?y.region.presence.length:0),nearBottom:g.nearBottom+(w?y.region.presence.length:0)}},{nearTop:0,nearBottom:0});return u.jsxs(u.Fragment,{children:[u.jsx(Ese,{closeCount:m.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:d.top}),u.jsx(Sse,{height:h}),u.jsx(Lin,{containerWidth:c,regionsWithIntersectionDetails:d.inside}),u.jsx(Sse,{height:p}),u.jsx(Ese,{closeCount:m.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:d.bottom})]})},[n]);return u.jsx(jin,{ref:a,margins:n,regions:o,render:s,children:t})}const p6=[],Ese=f.memo(function(e){const{closeCount:t,margins:n,position:r,regionsWithIntersectionDetails:i}=e,a=r==="top"?1:-1,o=f.useMemo(()=>i.length?pr(Bp(i,g=>g.region.rect.top*a).map(g=>g.region.presence||p6)):p6,[a,i]),[s,l,c,d]=n,h=(d||0)+(o.length>0?-t*(mv+jj):0)-l,p=r==="top"?s:c,m=f.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...Fje,transform:`translate3d(${h}px, 0px, 0px)`,top:wse+1+p,bottom:wse+1+p}),[h,p]);return u.jsx("div",{"data-dock":r,style:m,children:u.jsx(Pje,{position:r,maxAvatars:lin,presence:o})},`sticky-${r}`)});function Lin(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return u.jsx(u.Fragment,{children:t.map(r=>{const i=r.region.rect.left,{distanceTop:a,distanceBottom:o}=r,s=a<=Rje,l=o<=Oje,c=n-i-r.region.rect.width,{presence:d,maxAvatars:h}=r.region;return u.jsx(f.Fragment,{children:u.jsx("div",{style:{zIndex:2,position:"absolute",...Fje,left:i,transform:`translate3d(${s||l?c:0}px, 0px, 0px)`,height:r.region.rect.height,top:r.region.rect.top},children:u.jsx(Vin,{value:()=>`${a} | ${o}`,children:u.jsx(Pje,{stack:!s&&!l,position:s?"top":l?"bottom":"inside",maxAvatars:h,presence:d})})})},r.region.id)})})}const Bin=e=>e.children,Vin=Bin,zin=[0,0,0,0];function Tb({children:e,margins:t}){return u.jsx(pin,{children:u.jsx(Nin,{margins:t||zin,children:e})})}const Uin=$(z)(({theme:e,$floatingCardWidth:t,$slotWidth:n,$floatingCardVisible:r})=>{const{space:i}=e.sanity;return de`
    /* Prevent buttons from taking up extra vertical space */
    line-height: 1;
    width: 100%;
    /* For floating actions menu */
    position: relative;

    [data-ui='PresenceBox'] {
      position: absolute;
      bottom: 0;
      right: ${n+t+i[1]}px;
    }
    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.
      [data-ui='PresenceBox'] {
        position: absolute;
        bottom: 0;
        right: ${n+(r?t:0)+i[1]}px;
      }
    }
  `}),Hin=$(L)(({theme:e,$presenceMaxWidth:t})=>{const{space:n}=e.sanity;return de`
    max-width: calc(100% - ${t+n[1]}px);
    min-width: 75%;
  `}),Win=$(L)(({theme:e,$right:t,$fieldActionsVisible:n})=>{const{space:r}=e.sanity,i=n?t+r[1]:t;return de`
    position: absolute;
    bottom: 0;
    right: ${i}px;
  `}),Gin=$(ie)`
  align-items: center;
  bottom: 0;
  position: absolute;
  right: 0;
  transition: opacity 150ms ease;
  line-height: 1;

  @media (hover: hover) {
    // If hover is supported, we hide the floating card by default
    // and only show it when it has focus within or when the field is hovered or focused.
    opacity: 0;
    pointer-events: none;

    [data-ui='FieldActionsFlex'] {
      opacity: 0;
    }

    &[data-actions-visible='false']:not(:focus-within) {
      // Remove the shadow when the field actions are not visible
      box-shadow: none;

      // Since the field actions always will be present in the DOM (to make them focusable) 
      // they will always affect the width of the floating card, even when they are not visible.
      // Therefore, we remove the background of the floating card when the field actions are not visible.
      background: transparent;
    }

    // Remove the shadow when the field has comments but no actions
    &[data-has-comments='true']:not([data-has-actions='true']) {
      box-shadow: none;
    }

    // Show the floating card when it has focus within (ie when field actions are focused).
    &:focus-within {
      opacity: 1;
      pointer-events: auto;
      width: max-content;

      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  }

  &[data-visible='true'] {
    opacity: 1;
    pointer-events: auto;
    width: max-content;
  }

  &[data-actions-visible='true'] {
    [data-ui='FieldActionsFlex'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }
  }
`,Yin=$(z)`
  gap: inherit;
  transition: opacity 150ms ease;
`,kse=4;function Nje(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:i,fieldFocused:a,fieldHovered:o,presence:s,inputId:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(null),[y,v]=f.useState(0),[b,x]=f.useState(null),[w,C]=f.useState(0),{hasComments:S=!1,button:E=null,isAddingComment:k=!1}=t||{},_=r&&r.length>0,T=a||o||h||k,j=(t==null?void 0:t.button)||_,A=c||T||S,I=f.useCallback(()=>{if(m){const{width:R}=m.getBoundingClientRect();v(R||0)}},[m]),M=f.useCallback(()=>{I(),d(!0)},[I]),D=f.useCallback(()=>{I(),d(!1)},[I]);f.useEffect(()=>{I()},[I,T]),f.useEffect(()=>{if(b){const{width:R}=b.getBoundingClientRect();C(R||0)}},[b]);const O=f.useMemo(()=>n?u.jsx(Win,{$fieldActionsVisible:!!T,$right:y,ref:x,children:n}):null,[y,T,n]);return u.jsxs(Uin,{align:"flex-end",justify:"space-between",$floatingCardVisible:A,$floatingCardWidth:y,$slotWidth:w,children:[u.jsx(Hin,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:xin(kse),children:i}),s&&s.length>0&&u.jsx(L,{"data-ui":"PresenceBox",flex:"none",children:u.jsx(ck,{maxAvatars:kse,presence:s})}),O,(j||S)&&u.jsx(Ja,{children:u.jsxs(Gin,{"data-actions-visible":T?"true":"false","data-has-actions":_?"true":"false","data-has-comments":S?"true":"false","data-visible":A?"true":"false",display:"flex",onBlurCapture:D,onFocusCapture:M,ref:g,sizing:"border",children:[_&&u.jsx(Yin,{align:"center","data-ui":"FieldActionsFlex","data-testid":l?`field-actions-menu-${l}`:"field-actions-menu",children:u.jsx(qrn,{nodes:r,onMenuOpenChange:p})}),E]})})]})}function qp(e,t){if(!(!t||!e))return`desc_${e}`}const qin=[],Lje={error:Jin,warning:Qin,info:ean},Kin=$(ne)`
  max-width: 200px;
`,Bje=$(N)(({$status:e})=>e==="error"?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:e==="warning"?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:e==="info"?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{});function Ab(e){const{validation:t=qin,__unstable_showSummary:n,fontSize:r,placement:i}=e,a=t.some(c=>c.level==="error"),o=t.some(c=>c.level==="warning"),s=a?"error":o?"warning":"info",l=Lje[s];return u.jsx(bt,{content:u.jsxs(Kin,{space:3,children:[n&&u.jsx(Xin,{validation:t}),!n&&u.jsx(u.Fragment,{children:t.map((c,d)=>u.jsx(Zin,{validation:c},d))})]}),portal:!0,placement:i,fallbackPlacements:["bottom","right","left"],children:u.jsx("div",{children:u.jsx(Bje,{$status:s,size:r,weight:"medium",children:l&&u.jsx(l,{})})})})}function Zin(e){const{validation:t}=e,n=Lje[t.level];return u.jsxs(z,{children:[u.jsx(L,{marginRight:2,children:u.jsx(Bje,{$status:t.level,size:1,children:n&&u.jsx(n,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,children:t.message})})]})}function Xin({validation:e}){const{t}=q(),n=j0(),r=e.reduce((c,d)=>d.level==="error"?c+1:c,0),i=e.reduce((c,d)=>d.level==="warning"?c+1:c,0),a=r>0,o=i>0;if(!a&&!o)return null;const s=a&&t("form.validation.summary.errors-count",{count:r}),l=o&&t("form.validation.summary.warnings-count",{count:i});return s&&l?u.jsx(N,{size:1,children:n.format([s,l])}):u.jsx(N,{size:1,children:s||l})}function Jin(){const{t:e}=q();return u.jsx(Ta,{"data-testid":"input-validation-icon-error","aria-label":e("form.validation.has-error-aria-label"),"aria-hidden":!0,role:"presentation"})}function Qin(){const{t:e}=q();return u.jsx(gr,{"data-testid":"input-validation-icon-warning","aria-label":e("form.validation.has-warning-aria-label"),"aria-hidden":!0,role:"presentation"})}function ean(){const{t:e}=q();return u.jsx(Df,{"data-testid":"input-validation-icon-info","aria-label":e("form.validation.has-info-aria-label"),"aria-hidden":!0,role:"presentation"})}const tan=$(z)`
  /*
   * Prevent the block size of appended elements (such as the deprecated field badge) affecting
   * the intrinsic block size of the label.
   */
  contain: size;
`,nan=[],JW=f.memo(function(e){const{description:t,inputId:n,title:r,deprecated:i,validation:a=nan}=e,{t:o}=q(),s=a.length>0,l=i||s;return u.jsxs(ne,{space:3,children:[u.jsxs(z,{align:"center",paddingY:1,children:[u.jsx(N,{as:"label",htmlFor:n,weight:"medium",size:1,children:r||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:o("form.field.untitled-field-label")})}),l&&u.jsxs(tan,{align:"center",flex:1,children:[i&&u.jsx(L,{marginLeft:2,children:u.jsx(ao,{"data-testid":`deprecated-badge-${r}`,tone:"caution",children:o("form.field.deprecated-label")})}),s&&u.jsx(L,{marginLeft:2,children:u.jsx(Ab,{fontSize:1,placement:"top",validation:a})})]})]}),i&&u.jsx(Xr,{"data-testid":`deprecated-message-${r}`,tone:"caution",size:1,children:i.reason}),t&&u.jsx(N,{muted:!0,size:1,id:qp(n,t),children:t})]})}),_se=[],I0=f.memo(function(e){const{__unstable_headerActions:t=_se,__unstable_presence:n=_se,__internal_slot:r=null,__internal_comments:i,children:a,description:o,inputId:s,level:l,title:c,validation:d,deprecated:h,...p}=e,{focused:m,hovered:g,onMouseEnter:y,onMouseLeave:v}=qW();return u.jsxs(ne,{...p,"data-level":l,onMouseEnter:y,onMouseLeave:v,space:2,children:[c&&u.jsx(Nje,{__internal_comments:i,__internal_slot:r,actions:t,fieldFocused:!!m,fieldHovered:g,presence:n,inputId:s,content:u.jsx(JW,{description:o,inputId:s,title:c,validation:d,deprecated:h})}),u.jsx("div",{children:a})]})}),Tse=$.legend`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`,ran=$(z).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:i}=t.sanity.color;return de`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: ${Ce(r[2])};
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: ${LW({base:i,focusRing:n})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `}),ian=$(L)`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`,aan=f.memo(function(e){const{collapsed:t,collapsible:n,onClick:r,title:i}=e,a=u.jsx(N,{weight:"medium",size:1,children:i});return n?u.jsx(Tse,{children:u.jsxs(ran,{type:"button",onClick:r,children:[u.jsx(ian,{children:u.jsx(N,{muted:!0,size:1,children:u.jsx(JS,{style:{transform:`rotate(${t?"0":"90deg"}) translate3d(0, 0, 0)`}})})}),a]})}):u.jsx(Tse,{children:a})});function oan(e){return typeof e=="function"?e():e}const san=$(ne).attrs({forwardedAs:"fieldset"})`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`,lan=$(L)(e=>{const{$borderLeft:t,$focused:n,theme:r}=e,{focusRing:i}=r.sanity,{base:a}=r.sanity.color;return de`
    outline: none;
    border-left: ${t?"1px solid var(--card-border-color)":void 0};
    transition:
      border-color 0.2s ease-in-out,
      box-shadow 0.2s ease-in-out;

    ${t&&n&&`border-left: 1px solid var(--card-focus-ring-color);
    box-shadow: inset 1px 0 0 var(--card-focus-ring-color);`}

    ${t&&!n&&`
      box-shadow: inset 0 0 0 transparent;
    `}

    &:focus {
      box-shadow: ${LW({base:a,focusRing:{...i,offset:2}})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `}),RP=[],vR=f.forwardRef(function(e,t){const{__internal_comments:n,__internal_slot:r=null,__unstable_headerActions:i=RP,__unstable_presence:a=RP,children:o,collapsed:s,collapsible:l,columns:c,description:d,level:h=0,onCollapse:p,onExpand:m,onFocus:g,tabIndex:y,title:v,validation:b=RP,inputId:x,deprecated:w,...C}=e,{focused:S,hovered:E,onMouseEnter:k,onMouseLeave:_}=qW(),T=b.length>0,j=f.useRef(null),{t:A}=q();f.useImperativeHandle(t,()=>j.current);const I=f.useCallback(O=>{j.current===O.target&&g&&g(O)},[g]),M=f.useCallback(()=>s?m==null?void 0:m():p==null?void 0:p(),[s,p,m]),D=f.useMemo(()=>s?null:u.jsx(Ztn,{columns:c,gapX:4,gapY:5,children:oan(o)}),[o,s,c]);return u.jsxs(san,{"data-level":h,...C,onMouseEnter:k,onMouseLeave:_,space:2,children:[u.jsx(Nje,{__internal_comments:n,__internal_slot:r,actions:i,fieldFocused:!!S,fieldHovered:E,presence:a,inputId:x,content:u.jsxs(ne,{space:3,children:[u.jsxs(z,{align:"center",children:[v&&u.jsx(aan,{collapsed:!!s,collapsible:l,onClick:l?M:void 0,title:v}),w&&u.jsx(L,{marginLeft:2,children:u.jsx(ao,{"data-testid":`deprecated-badge-${v}`,tone:"caution",children:A("form.field.deprecated-label")})}),T&&u.jsx(L,{marginLeft:2,children:u.jsx(Ab,{fontSize:1,placement:"top",validation:b})})]}),w&&u.jsx(Xr,{"data-testid":`deprecated-message-${v}`,tone:"caution",size:1,children:w.reason}),d&&u.jsx(N,{muted:!0,size:1,id:qp(x,d),children:d})]})}),u.jsx(lan,{$borderLeft:h>0,$focused:!!S,hidden:s,paddingLeft:h===0?0:3,onFocus:typeof y=="number"&&y>-1?I:void 0,ref:j,tabIndex:y,children:!s&&D})]})}),uan=$.div`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`;function can({children:e,maxAvatars:t,position:n="bottom"}){return u.jsx(uan,{"data-max-avatars":t,"data-position":n,children:e})}function dan(e,t){const n=f.useRef(null);return f.useEffect(()=>{n.current=e},[e]),n.current}function jo(e,t,n=yp){const r=dan(e);f.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}const Yg=Symbol.for("sanity.patch");function Vo(e,t=[]){return{patchType:Yg,type:"setIfMissing",path:t,value:e}}function Hd(e,t,n=[]){return{patchType:Yg,type:"insert",path:n,position:t,items:e}}function ft(e,t=[]){return{patchType:Yg,type:"set",path:t,value:e}}function vt(e=[]){return{patchType:Yg,type:"unset",path:e}}function fan(e,t){return{...e,path:[t,...e.path]}}function Vje(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}class Dt{constructor(t){Y(this,"patches");this.patches=t}static from(t){return t instanceof Dt?t:new Dt(Array.isArray(t)?pr(t):[t])}prepend(...t){return Dt.from([...pr(t),...this.patches])}append(...t){return Dt.from([...this.patches,...pr(t)])}prefixAll(t){return Dt.from(this.patches.map(n=>fan(n,t)))}}const dk=f.memo(function(e){const t=f.useRef(e);t.current=e;const n=f.useCallback(h=>{var p,m;return((m=(p=t.current)==null?void 0:p.transformPatches)==null?void 0:m.call(p,h))??[]},[t]),r=f.useCallback(h=>{t.current.onChange(h)},[]),i=f.useCallback((h,p)=>{t.current.onPathFocus(h,p)},[]),a=f.useCallback(h=>{t.current.onPathBlur(h)},[]),o=f.useCallback(h=>{t.current.onPathOpen(h)},[]),s=f.useCallback((h,p)=>{t.current.onSetPathCollapsed(h,p)},[]),l=f.useCallback((h,p)=>{t.current.onSetFieldSetCollapsed(h,p)},[]),c=f.useCallback((h,p)=>{t.current.onFieldGroupSelect(h,p)},[]),d=f.useMemo(()=>({transformPatches:n,onChange:r,onPathFocus:i,onPathBlur:a,onPathOpen:o,onSetPathCollapsed:s,onSetFieldSetCollapsed:l,onFieldGroupSelect:c}),[r,c,a,i,o,l,s,n]);return u.jsx(z7.Provider,{value:d,children:e.children})});function uu(){const e=f.useContext(z7);if(!e)throw new Error("Form context not provided");return e}function QW(e){if(Ui(e))return e.name==="object"?{}:{_type:e.name};if(_s(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function han(e=16){const t=new Uint8Array(e);return DU(t),t}const pan=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function rf(e){const t=pan();return han(e).reduce((n,r)=>n+t[r],"").slice(0,e)}function man(e){return e._key!==void 0}function J_(e){return man(e)?e:{...e,_key:rf(12)}}const gan=(e,t)=>{const n=Cs(t);return e.of.find(r=>r.name===n)};function yan(e,t){return Object.entries(e).map(([n,r])=>ft(r,[...t,n]))}function zje(e,t,n){return Br(e).pipe(Mt(r=>{const i={_key:r._key};return we(gan(t,r)).pipe(Mt(a=>a?we(a):sr),Mt(a=>!GW(r)||!n?sr:ji(we({type:"patch",patches:[ft(!0,[i,"_resolvingInitialValue"])]}),oa(()=>n(a,r)).pipe(Nt(ua),fe(o=>({type:"patch",patches:yan(o,[i])})),kn(o=>we({type:"error",error:o,item:r,schemaType:a}))),we({type:"patch",patches:[vt([i,"_resolvingInitialValue"])]}))))}))}function eG(e){const t=f.useRef(),{member:n,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c}=e,{t:d}=q(),{onPathBlur:h,onPathFocus:p,onChange:m,onPathOpen:g,onSetPathCollapsed:y,onSetFieldSetCollapsed:v,onFieldGroupSelect:b}=uu(),x=NG(),w=vk(),{onCopy:C}=Ub();jo(n.item.focused,(Q,ee)=>{var se;!Q&&ee&&((se=t.current)==null||se.focus())});const S=f.useCallback(()=>{m(Dt.from([vt([{_key:n.key}])]))},[n.key,m]),E=f.useCallback(Q=>{g(Q),y(Q,!1)},[g,y]),k=_r(),_=f.useCallback(Q=>{if(Q.items.length===0)throw new Error("Insert event should include at least one item");const ee=Q.items.map(ue=>J_(ue));m(Dt.from([Hd(ee,Q.position,[{_key:n.key}])]));const se=ee[0]._key,le=[...n.item.path.slice(0,-1),{_key:se}];p(le);const oe=Q.open!==!1;Q.skipInitialValue?oe&&E(le):zje(ee,n.parentSchemaType,x).pipe(Qn(ue=>{ue.type==="patch"?m(Dt.from(ue.patches)):k.push({title:d("inputs.array.error.cannot-resolve-initial-value-title"),description:d("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:ue.schemaType.title,errorMessage:ue.error.message}),status:"error"})})).subscribe({complete:()=>{oe&&E(le)}})},[E,n.item.path,n.key,n.parentSchemaType,m,p,x,k,d]),T=f.useCallback(Q=>{const ee=w([]);C(n.item.path,ee,{context:{source:"arrayItem"},patchType:"append"})},[w,C,n.item.path]),j=f.useCallback(()=>{h(n.item.path)},[n.item.path,h]),A=f.useCallback(()=>{p(n.item.path)},[n.item.path,p]),I=f.useCallback(Q=>{p(n.item.path.concat(Q))},[n.item.path,p]),M=f.useCallback(Q=>{m(Dt.from(Q).prepend(Vo(QW(n.item.schemaType))).prefixAll({_key:n.key}))},[m,n.item.schemaType,n.key]),D=f.useCallback(()=>{y(n.item.path,!0)},[y,n.item.path]),O=f.useCallback(()=>{y(n.item.path,!1)},[y,n.item.path]),R=f.useCallback(Q=>{y(n.item.path.concat(Q),!0)},[y,n.item.path]),F=f.useCallback(Q=>{y(n.item.path.concat(Q),!1)},[y,n.item.path]),P=f.useCallback(()=>{g(n.item.path)},[g,n.item.path]),V=f.useCallback(Q=>{g(n.item.path.concat(Q))},[g,n.item.path]),U=f.useCallback(Q=>{v(n.item.path.concat(Q),!1)},[v,n.item.path]),H=f.useCallback(Q=>{v(n.item.path.concat(Q),!0)},[v,n.item.path]),W=f.useCallback(()=>{g(n.item.path)},[g,n.item.path]),Z=!n.item.value||GW(n.item.value),J=f.useCallback(()=>{Z&&S();const Q=n.item.path.slice(0,-1);g(Q),p(Q)},[Z,g,n.item.path,p,S]),re=f.useCallback(Q=>{b(n.item.path,Q)},[b,n.item.path]),G=f.useMemo(()=>({onBlur:j,onFocus:A,id:n.item.id,ref:t,"aria-describedby":qp(n.item.id,n.item.schemaType.description)}),[j,A,n.item.id,n.item.schemaType.description]),te=f.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:M,onFieldClose:P,onFieldCollapse:R,onFieldSetCollapse:H,onFieldExpand:F,onFieldSetExpand:U,onFieldGroupSelect:re,onPathFocus:I,onFieldOpen:V,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:G}),[G,M,P,R,H,F,U,I,V,re,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,a,o,s,l,c]),X=f.useMemo(()=>s(te),[te,s]),K=f.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onCopy:T,onRemove:S,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:W,onClose:J,onExpand:O,onCollapse:D,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:A,onBlur:j,inputId:n.item.id,path:n.item.path,children:X,changed:n.item.changed,inputProps:te}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.parentSchemaType,n.open,_,T,S,W,J,O,D,A,j,X,te]);return u.jsx(dk,{onFieldGroupSelect:b,onChange:M,onPathOpen:g,onSetFieldSetCollapsed:v,onSetPathCollapsed:y,onPathBlur:h,onPathFocus:p,children:f.useMemo(()=>l(K),[K,l])})}const van=$(ie)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function Uje(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=q();xn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=Cs(t);return u.jsx(_n,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(van,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(N,{weight:"medium",children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})}),u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")}),u.jsx(N,{size:1,children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(ZS,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(ie,{padding:2,overflow:"auto",border:!0,children:u.jsx(mi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ie,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(z,{align:"center",children:[u.jsx(L,{marginRight:3,children:u.jsx(N,{children:u.jsx(Fl,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}function ban(e){const{member:t}=e,{t:n}=q();return t.error.type==="INVALID_ITEM_TYPE"?u.jsx(Uje,{value:t.error.value}):u.jsx("div",{children:n("inputs.array.error.unexpected-error",{error:t.error.type})})}function tG(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error(`Unable to create value from type "${e.jsonType}"`)}}function Hje(e,t,n){return ap(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function xan(e){const t=f.useRef(),{member:n,renderItem:r,renderInput:i}=e,[a,o]=f.useState(),{onPathBlur:s,onPathFocus:l,onChange:c}=uu(),d=vk(),{onCopy:h}=Ub();jo(n.item.focused,(k,_)=>{var T;!k&&_&&((T=t.current)==null||T.focus())});const p=f.useCallback(k=>{s(n.item.path)},[n.item.path,s]),m=f.useCallback(k=>{l(n.item.path)},[n.item.path,l]),g=f.useCallback(k=>{c(Dt.from(k).prefixAll(n.index))},[c,n.index]),y=f.useCallback(k=>{let _=k.currentTarget.value;if(ap(n.item.schemaType)){if(_=k.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else GS(n.item.schemaType)&&(_=k.currentTarget.checked);const T=_===""||typeof _=="number"&&isNaN(_);ap(n.item.schemaType)&&o(T?void 0:k.currentTarget.value),g(ft(T?tG(n.item.schemaType):_))},[g,n.item.schemaType]),v=f.useMemo(()=>({onBlur:p,onFocus:m,id:n.item.id,ref:t,onChange:y,value:wan(n.item.schemaType,n.item.value,a),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":qp(n.item.id,n.item.schemaType.description)}),[p,m,y,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,a]),b=f.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:g,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,g,v]),x=f.useMemo(()=>i(b),[b,i]),w=f.useCallback(()=>{c(Dt.from([vt([n.index])]))},[n.index,c]),C=f.useCallback(k=>{c(Dt.from([Hd(k.items,k.position,[n.index])]))},[n.index,c]),S=f.useCallback(k=>{const _=d([]);h(n.item.path,_,{context:{source:"arrayItem"},patchType:"append"})},[d,n.item.path,h]),E=f.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:C,onCopy:S,onRemove:w,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:m,onBlur:p,inputId:n.item.id,path:n.item.path,children:x}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,C,S,w,m,p,x]);return u.jsx(u.Fragment,{children:f.useMemo(()=>r(E),[E,r])})}function wan(e,t,n){return Object.is(t,-0)?"":Hje(e,t,n)}function jb(e){if(!Ui(e))throw new Error(`Invalid item type: "${e.type}". Default array input can only contain objects (for now)`);return{...QW(e),_key:OE(12)}}const Ase="before",jse="after";function Can(e,t,n,...r){if(t!==Ase&&t!==jse)throw new Error(`Invalid position "${t}", must be either ${Ase} or ${jse}`);const i=Ise(...r);if(e.length===0)return i;const a=e.length,o=Math.abs((a+n)%a)%a,s=t==="after"?o+1:o,l=e.slice();return l.splice(s,0,...Ise(i)),l}function Ise(...e){return e.reduce((t,n)=>t.concat(n),[])}const Dse=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function San(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function Ean(e,t){if(typeof t=="number")return t;const n=pH(e,t);return n===-1?!1:n}function kan(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Dse(t.value,"from")||!Dse(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return San(n,t.value.from,t.value.to)}}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,a=Ean(e,r);if(a===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:o,items:s}=t;return Can(e,o,a,s)}else if(t.type==="unset"){if(typeof a!="number")throw new Error(`Expected array index to be a number, instead got "${a}"`);return n.splice(a,1),n}}return n[a]=rG(n[a],{...t,path:i}),n}function _an(e,t){const n=e5e(e);if(t.path.length===0){if(t.type==="set"){if(!dI(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instad got: ${r}`);return i.length===0&&t.type==="unset"?Qa(n,r):(n[r]=rG(n[r],{...t,path:i}),n)}const Wje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Tan=Object.keys(Wje);function Aan(e,t){if(!Tan.includes(t.type))throw new Error(`Received patch of unsupported type "${t.type}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);return Wje[t.type](e,t.value)}const Gje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=$M(xH(t),e,{allowExceedingIndices:!0});return n}},jan=Object.keys(Gje);function Ian(e,t){if(!jan.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);return Gje[t.type](e,t.value)}function nG(e,t){return t.reduce(rG,e)}function Dan(e,t){return Array.isArray(e)?kan(e,t):IM(e)?Ian(e,t):dI(e)?_an(e,t):Aan(e,t)}function rG(e,t){return Dan(e,t)}function Man(e){const t=f.useMemo(()=>({actions:e.actions||rn}),[e.actions]);return u.jsx(uhe.Provider,{value:t,children:e.children})}function bR(){const e=f.useContext(uhe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function Ic(e,t){return t.name===e||!!(t.type&&Ic(e,t.type))}function Ij(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(o=>{const s=o.trim().toLowerCase();return s.charAt(0)==="."?r?r.toLowerCase().endsWith(s):!0:s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}const Yje=4;function Mse(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Ran(e,t=Yje){const n=Oan(t);return(...r)=>Br(n(e(...r)))}function Oan(e=Yje){const t=[],n=[],r=new Fr;return i;function i(s){return new Rt(l=>{if(t.length>=e)return a(s).pipe(Mt(i)).subscribe(l);const c=s.subscribe(l);return t.push(c),()=>{Mse(t,c),Mse(n,s),c.unsubscribe(),o()}})}function a(s){return n.push(s),r.asObservable().pipe(iCe(l=>l===s))}function o(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const $an=4;function Pan(e,t,n,r={}){const i=r.metadata,a=r.storeOriginalFilename,{label:o,title:s,description:l,creditLine:c,source:d}=r;return Van(n).pipe(kn(()=>we(null)),Mt(h=>h?Lan(e,`sanity.${t}Asset`,h):we(null)),Mt(h=>h?we({type:"complete",id:h._id,asset:h}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:i,preserveFilename:a,label:o,title:s,description:l,creditLine:c,source:d}).pipe(fe(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const qje=Ran(Pan,$an),Fan=(e,t,n)=>qje(e,"image",t,n),Nan=(e,t,n)=>qje(e,"file",t,n);function Kje(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"]).pipe(Ct(n=>{if(n===null)throw new Error(`No asset found in documentPreviewStore with id: ${t}`);return we(n)}),Udt({count:5,delay:1e3}),kn(n=>(console.error("Final error after retries, asset not found in documentPreviewStore:",n),we(null))))}function Zje(e,t){return Kje(e,t)}function Xje(e,t){return Kje(e,t)}function Lan(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Ban(e){return new Rt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Van(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?we(null):Ban(e).pipe(Mt(t=>crypto.subtle.digest("SHA-1",t)),fe(zan))}function zan(e){return Array.prototype.map.call(new Uint8Array(e),t=>`00${t.toString(16)}`.slice(-2)).join("")}const Cu="_upload",Uan=vt([Cu]);function ug(e=[]){return{type:"uploadProgress",patches:e}}const Jje=ug([Uan]);function Qje(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return ug([ft(n,[Cu])])}function eIe(e,t,n){const r=Nan(e,t,n).pipe(fe(i=>i.type==="complete"?ug([ft({_type:"reference",_ref:i.asset._id},["asset"]),ft(100,[Cu,"progress"]),ft(new Date().toISOString(),[Cu,"updated"])]):ug([ft(i.percent,[Cu,"progress"]),ft(new Date().toISOString(),[Cu,"updated"])])));return ji(we(Qje(t)),r,we(Jje))}function Rse(e){return[5,6,7,8].indexOf(e)>-1}function Han(e,t){const n=t.x,r=t.y,i=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(i),e==null||e.translate(-n,-r)}function Ose(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Wan=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Gan=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Yan="top-left",qan=120;function Kan(e,t){const n=Wan[t-1],r=e.height/e.width;e.width=qan/r,e.height=e.width*r;const i=document.createElement("canvas"),a=i.getContext("2d");if(Rse(t)?(i.height=e.width,i.width=e.height):(i.width=e.width,i.height=e.height),n.op==="flip-x"&&Ose(i,!0,!1),n.op==="flip-y"&&Ose(i,!1,!0),n.degrees&&(Han(a,{degrees:n.degrees,x:i.width/2,y:i.height/2}),Rse(t))){const o=i.width-i.height;a==null||a.translate(o/2,-o/2)}return a==null||a.drawImage(e,0,0,e.width,e.height),i}function Zan(e,t){return new Rt(n=>{const r=Gan.indexOf(t)+1,i=Kan(e,r);n.next(i.toDataURL("image/jpeg",.1)),n.complete()})}function Xan(e,t){return new Rt(n=>{const r=new window.FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(e.slice(0,t)),()=>r.abort()})}const Jan=/(invalid image format)|(No exif data)/i,Qan=128e3;function eon(e){return Br(Xan(e,Qan)).pipe(fe(t=>yen(t)),kn(t=>(Jan.test(t.message)||console.warn(`Exif read failed, continuing anyway: ${t.message}`),we({}))))}function ton(e){return new Rt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error(`Could not load image from url "${e}". Image may be of an unsupported format`))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function non(e,t){return ton(window.URL.createObjectURL(e)).pipe(Mt(n=>Zan(n,t)))}function ron(e,t,n){const r=Fan(e,t,n).pipe(Nt(a=>a.stage!=="download"),fe(a=>({...a,progress:2+a.percent/100*98})),fe(a=>a.type==="complete"?ug([ft({_type:"reference",_ref:a.asset._id},["asset"]),ft(100,[Cu,"progress"]),ft(new Date().toISOString(),[Cu,"updatedAt"])]):ug([ft(a.percent,[Cu,"progress"]),ft(new Date().toISOString(),[Cu,"updatedAt"])]))),i=eon(t).pipe(Mt(a=>non(t,a.orientation||Yan)),kn(a=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,a.message),we(null))),Nt(Boolean),fe(a=>ug([ft(a,[Cu,"previewImage"])])));return ji(we(Qje(t)),Bn(r,i),we(Jje))}const ion={type:"image",accepts:"image/*",upload:(e,t,n,r)=>ron(e,t,r)},aon={type:"file",accepts:"",upload:(e,t,n,r)=>eIe(e,t,r)},oon={type:"string",accepts:"text/*",upload:(e,t,n,r)=>eIe(e,t,r).pipe(fe(i=>({type:"uploadProgress",patches:[ft(i)]})))},son=[ion,oon,aon].map((e,t)=>({...e,priority:t}));function iG(e,t){return son.find(n=>{var r;return Ic(n.type,e)&&Ij(t,n.accepts)&&Ij(t,((r=e.options)==null?void 0:r.accept)||"")})||null}function lon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:a,onPathOpen:o,onFieldGroupSelect:s}=uu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:y}=e,v=bR(),b=f.useRef(),x=f.useRef({});jo(l.field.focused,(ee,se)=>{var le;!ee&&se&&((le=b.current)==null||le.focus())});const w=f.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),C=f.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),S=f.useRef(l.field.value);f.useEffect(()=>{S.current=l.field.value},[l.field.value]);const E=f.useCallback(ee=>{const se=Dt.from(ee).patches;if(se.some(le=>le.type==="unset"&&le.path.length===1)&&(S.current=nG(S.current||[],se),Array.isArray(S.current)&&!S.current.length)){r(Dt.from(vt([l.name])));return}r(Dt.from(ee).prepend(Vo([])).prefixAll(l.name))},[r,l.name,S]),k=NG(),_=_r(),T=f.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),j=f.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),A=f.useCallback(ee=>{i(l.field.path.concat({_key:ee}),!0)},[i,l.field.path]),I=f.useCallback(ee=>{i(l.field.path.concat({_key:ee}),!1)},[i,l.field.path]),M=f.useCallback(ee=>{o(ee),i(ee,!1)},[o,i]),D=f.useCallback(()=>{o(l.field.path),i(l.field.path,!0)},[o,l.field.path,i]),O=f.useCallback(ee=>{if(ee.items.length===0)throw new Error("Insert event should include at least one item");const se=ee.items.map(ye=>J_(ye));E(Dt.from([Hd(se,ee.position,[ee.referenceItem])]));const le=se[0]._key,oe=[...l.field.path,{_key:le}];n(oe);const ue=ee.open!==!1;ee.skipInitialValue?ue&&M(oe):zje(se,l.field.schemaType,k).pipe(Qn(ye=>{ye.type==="patch"?E(ye.patches):_.push({title:"Could not resolve initial value",description:`Unable to resolve initial value for type: ${ye.schemaType.title}: ${ye.error.message}.`,status:"error"})})).subscribe({complete:()=>{ue&&M(oe)}})},[E,M,l.field.path,l.field.schemaType,n,k,_]),R=f.useCallback(ee=>{const se=l.field.value,le=se==null?void 0:se[ee.fromIndex],oe=se==null?void 0:se[ee.toIndex];if(ee.fromIndex!==ee.toIndex){if(!(le!=null&&le._key)||!(oe!=null&&oe._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}E([vt([{_key:le._key}]),Hd([le],ee.fromIndex>ee.toIndex?"before":"after",[{_key:oe._key}])])}},[E,l.field.value]),F=f.useCallback(ee=>{E([Vo([]),Hd([J_(ee)],"before",[0])])},[E]),P=f.useCallback(ee=>{E([Vo([]),Hd([J_(ee)],"after",[-1])])},[E]),V=f.useCallback(ee=>{x.current[ee]&&(x.current[ee].unsubscribe(),delete x.current[ee]),E([vt([{_key:ee}])])},[E]),U=f.useCallback((ee,se)=>{n(l.field.path.concat(ee),se)},[l.field.path,n]),H=f.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:b,"aria-describedby":qp(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),W=Xt(qt),Z=ad(),J=Z.__internal.image.directUploads,re=Z.__internal.file.directUploads,G=f.useCallback((ee,se)=>Ic("image",ee)&&!J||Ic("file",ee)&&!re?null:iG(ee,se),[re,J]),te=f.useCallback(({file:ee,schemaType:se,uploader:le})=>{const oe=jb(se),ue=oe._key;O({items:[oe],position:"after",referenceItem:-1,open:!1});const ye={metadata:ir(se,"options.metadata"),storeOriginalFilename:ir(se,"options.storeOriginalFilename")},Ee=le.upload(W,ee,se,ye).pipe(fe(ke=>Dt.from(ke.patches||[]).prefixAll({_key:ue})),Qn(ke=>E(ke.patches)));x.current={...x.current,[ue]:Ee.subscribe()}},[W,E,O]),X=f.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:I,onItemCollapse:A,onItemClose:D,onItemOpen:M,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:E,onInsert:O,onItemMove:R,onItemRemove:V,onItemAppend:P,onItemPrepend:F,onPathFocus:U,resolveInitialValue:k,onUpload:te,resolveUploader:G,validation:l.field.validation,presence:l.field.presence,renderAnnotation:c,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:h,renderItem:g,renderPreview:y,elementProps:H}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,I,A,D,M,E,O,R,V,P,F,U,k,te,G,c,d,p,m,h,g,y,H]),K=f.useMemo(()=>m(X),[X,m]),Q=f.useMemo(()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:T,onExpand:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:K,inputProps:X}),[v,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,j,K,X]);return u.jsx(dk,{onFieldGroupSelect:s,onChange:E,onSetFieldSetCollapsed:a,onSetPathCollapsed:i,onPathOpen:o,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(Q),[Q,h])})}function uon(e,t){return new Rt(n=>{const r=new FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function con(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function don(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function fon(e){return/^\d+$/.test(e)}function hon(e,t){let n=!1,r=!1,i=!1;return t.forEach(a=>{GS(a)&&(n=!0),F7(a)&&(i=!0),ap(a)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&fon(e)?Number(e):i?e:void 0}function pon(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return uon(n,"utf-8").pipe(fe(r=>r==null?void 0:r.split(/[\n\r]/).map(i=>hon(i,e)).filter(i=>i!==void 0)),Nt(r=>Array.isArray(r)),fe(r=>({type:"uploadProgress",patches:[Hd(r,"after",[-1])]})))}}}function mon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:s}=uu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:y}=e,v=bR(),b=f.useRef(),x=f.useRef(),w=Xt(qt);jo(l.field.focused,(J,re)=>{var G;!J&&re&&((G=b.current)==null||G.focus())});const C=f.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),S=f.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),E=f.useCallback(J=>{const re=Dt.from(J).patches;if(re.some(G=>G.type==="unset"&&G.path.length===1)){const G=nG(l.field.value||[],re);if(Array.isArray(G)&&!G.length){r(Dt.from(vt([l.name])));return}}r(Dt.from(J).prepend(Vo([])).prefixAll(l.name))},[r,l.name,l.field.value]),k=f.useCallback(J=>{a(l.field.path,J)},[a,l.field.path]),_=f.useCallback(()=>{a(l.field.path,!0)},[a,l.field.path]),T=f.useCallback(()=>{a(l.field.path,!1)},[a,l.field.path]),j=f.useCallback(J=>{E(J.length===0?vt():ft(J))},[E]),A=f.useCallback(J=>{const{value:re=[]}=l.field;J.fromIndex!==J.toIndex&&j(con(re,J.fromIndex,J.toIndex))},[l.field,j]),I=f.useCallback(J=>{const{value:re=[]}=l.field;j(re.concat(J))},[l.field,j]),M=f.useCallback(J=>{const{value:re=[]}=l.field;j([J].concat(re||[]))},[l.field,j]),D=f.useCallback(J=>{const{value:re=[]}=l.field,G=J.referenceIndex+(J.position==="before"?-1:0);j(don(G,re,J.items))},[l.field,j]),O=f.useCallback(J=>{E(vt([J]))},[E]),R=f.useCallback(J=>{n(l.field.path.concat([J]))},[l.field.path,n]),F=f.useMemo(()=>({onBlur:S,onFocus:C,id:l.field.id,ref:b,"aria-describedby":qp(l.field.id,l.field.schemaType.description)}),[S,C,l.field.id,l.field.schemaType.description]),P=f.useMemo(()=>pon(l.field.schemaType.of),[l.field.schemaType.of]),V=f.useCallback((J,re)=>Ij(re,"text/*")?P:null,[P]),U=f.useCallback(({file:J,schemaType:re,uploader:G})=>{const te=G.upload(w,J,re).pipe(fe(X=>Dt.from(X.patches||[])),Qn(X=>E(X.patches)));x.current&&x.current.unsubscribe(),x.current=te.subscribe()},[w,E]),H=f.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:k,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:F,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:E,onInsert:D,onMoveItem:A,onItemRemove:O,onItemAppend:I,onItemPrepend:M,validation:l.field.validation,presence:l.field.presence,resolveUploader:V,onUpload:U,renderAnnotation:c,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:g,onIndexFocus:R,renderPreview:y}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,k,F,E,D,A,O,I,M,V,U,c,d,p,m,g,R,y]),W=f.useMemo(()=>m(H),[H,m]),Z=f.useMemo(()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:T,changed:l.field.changed,onCollapse:_,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:W,inputProps:H}),[v,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,_,W,H]);return u.jsx(dk,{onFieldGroupSelect:s,onChange:E,onPathOpen:i,onSetFieldSetCollapsed:o,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(Z),[Z,h])})}function tIe(e){return Ui(e.field.schemaType)}function gon(e){return _s(e.field.schemaType)&&e.field.schemaType.of.every(t=>aI(t))}function aG(e){return _s(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ui(t))}const yon=function(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:s}=uu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:y}=e,v=bR(),b=f.useRef(),x=f.useRef(l.field.value);f.useEffect(()=>{x.current=l.field.value},[l.field.value]),jo(l.field.focused,(W,Z)=>{var J;!W&&Z&&((J=b.current)==null||J.focus())});const w=f.useCallback(()=>{t(l.field.path)},[l.field.path,t]),C=f.useCallback(()=>{n(l.field.path)},[l.field.path,n]),S=f.useCallback(W=>{n(l.field.path.concat(W))},[l.field.path,n]),E=f.useCallback(W=>{if(l.field.path.length!==0){const Z=Dt.from(W).patches;if(x.current=nG(x.current||{},Z),x.current&&W2t(x.current)){r(Dt.from(vt([l.name])));return}}r(Dt.from(W).prepend(Vo(QW(l.field.schemaType))).prefixAll(l.name))},[r,l,x]),k=f.useCallback(()=>{a(l.field.path,!0)},[a,l.field.path]),_=f.useCallback(()=>{a(l.field.path,!1)},[a,l.field.path]),T=f.useCallback(W=>{a(l.field.path.concat(W),!0)},[a,l.field.path]),j=f.useCallback(W=>{a(l.field.path.concat(W),!1)},[a,l.field.path]),A=f.useCallback(W=>{i(l.field.path.concat(W))},[i,l.field.path]),I=f.useCallback(()=>{i(l.field.path)},[i,l.field.path]),M=f.useCallback(W=>{o(l.field.path.concat(W),!1)},[o,l.field.path]),D=f.useCallback(W=>{o(l.field.path.concat(W),!0)},[o,l.field.path]),O=f.useCallback(()=>{i(l.field.path)},[i,l.field.path]),R=f.useCallback(()=>{i(l.field.path.slice(0,-1))},[i,l.field.path]),F=f.useCallback(W=>{s(l.field.path,W)},[s,l.field.path]),P=f.useMemo(()=>({onBlur:w,onFocus:C,id:l.field.id,ref:b,"aria-describedby":qp(l.field.id,l.field.schemaType.description)}),[w,C,l.field.id,l.field.schemaType.description]),V=f.useMemo(()=>({elementProps:P,level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,validation:l.field.validation,presence:l.field.presence,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onFieldGroupSelect:F,onFieldOpen:A,onFieldClose:I,onFieldCollapse:T,onFieldExpand:j,onFieldSetExpand:M,onFieldSetCollapse:D,onPathFocus:S,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,groups:l.field.groups,onChange:E,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:y}),[P,l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.groups,F,A,I,T,j,M,D,S,E,c,d,h,p,m,g,y]),U=f.useMemo(()=>m(V),[V,m]),H=f.useMemo(()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,validation:l.field.validation,presence:l.field.presence,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onCollapse:k,onExpand:_,open:l.open,changed:l.field.changed,onOpen:O,onClose:R,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,children:U,inputProps:V}),[v,l.name,l.index,l.field.level,l.field.value,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.collapsible,l.collapsed,l.open,k,_,O,R,U,V]);return u.jsx(dk,{onFieldGroupSelect:s,onChange:E,onSetFieldSetCollapsed:o,onPathOpen:i,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(H),[H,h])})};function von(e){const{member:t,renderInput:n,renderField:r}=e,i=bR(),a=f.useRef(),[o,s]=f.useState(),{onPathBlur:l,onPathFocus:c,onChange:d}=uu();f.useEffect(()=>{var C;t.field.focused&&((C=a.current)==null||C.focus())},[t.field.focused]);const h=f.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=f.useCallback(()=>{c(t.field.path)},[t.field.path,c]),m=f.useCallback(C=>{d(Dt.from(C).prefixAll(t.name))},[d,t.name]),g=f.useCallback(C=>{let S=C.currentTarget.value;if(ap(t.field.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else GS(t.field.schemaType)&&(S=C.currentTarget.checked);const E=S===""||typeof S=="number"&&isNaN(S);ap(t.field.schemaType)&&s(E?void 0:C.currentTarget.value),d(Dt.from(E?vt():ft(S)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),y=f.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,v=f.useMemo(()=>({onBlur:h,onFocus:p,id:t.field.id,ref:a,onChange:g,value:Hje(t.field.schemaType,t.field.value,o),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":qp(t.field.id,t.field.schemaType.description)}),[h,p,g,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,o]),b=f.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:y,elementProps:v}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,y,v]),x=f.useMemo(()=>n(b),[b,n]),w=f.useMemo(()=>({actions:i,changed:t.field.changed,children:x,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:b,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[i,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,x,b]);return u.jsx(u.Fragment,{children:r(w)})}const fk=f.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}=e;return tIe(t)?u.jsx(yon,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}):gon(t)?u.jsx(mon,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInput:o,renderInlineBlock:a,renderItem:s,renderPreview:l}):aG(t)?u.jsx(lon,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}):u.jsx(von,{member:t,renderField:i,renderInput:o})}),cl=!1,bon={warning:"caution",error:"critical"},xon=$(L)`
  border-top: 1px solid var(--card-border-color);
`;function Ju(e){const{children:t,status:n="warning",suffix:r,title:i,...a}=e;return u.jsxs(ie,{radius:2,tone:bon[n],...a,"data-ui":"Alert",children:[u.jsxs(z,{padding:4,children:[u.jsx(L,{children:u.jsxs(N,{size:1,children:[n==="warning"&&u.jsx(gr,{}),n==="error"&&u.jsx(Ta,{})]})}),u.jsxs(L,{flex:1,marginLeft:3,children:[u.jsx(N,{size:1,weight:"medium",children:i}),t&&u.jsx(L,{marginTop:3,children:t})]})]}),r&&u.jsx(xon,{children:r})]})}const won=$.button`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`,Con=$(JS)`
  transform: ${e=>e.open?"rotate(90deg)":""};
`,Son=$(z)`
  cursor: default;
`,Eon=$(L)`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`;function D0(e){const{children:t,open:n,icon:r,title:i="Details",...a}=e,[o,s]=f.useState(n||!1),l=f.useCallback(()=>s(c=>!c),[]);return f.useEffect(()=>s(n||!1),[n]),u.jsxs(L,{...a,children:[u.jsx(won,{type:"button",onClick:l,children:u.jsx(Son,{align:"center",children:u.jsxs(Rn,{children:[u.jsx(Eon,{"data-open":o?"":void 0,children:u.jsx(N,{size:1,children:u.jsx(Con,{open:o})})}),r&&u.jsx(L,{marginLeft:1,children:r}),u.jsx(L,{flex:1,marginLeft:1,children:u.jsx(N,{size:1,weight:"medium",children:i})})]})})}),u.jsx(L,{hidden:!o,marginTop:3,children:t})]})}const nIe=["yes","true","1"],rIe=["false","no","false","0","null"],kon=nIe.concat(rIe),_5=()=>!0,_on=e=>t=>t&&t[e],Ton=e=>t=>(t&&t._type)===e;function Aon(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function jon(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const OP={string:{number:{test:Number,convert:Number},boolean:{test:e=>kon.includes(e.toLowerCase()),convert:e=>nIe.includes(e.toLowerCase())||!rIe.includes(e.toLowerCase())},richDate:{test:e=>gf(e),convert:e=>({_type:"richDate",local:Aon(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:jon(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Ton("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:_on("utc"),convert:e=>e.utc}},number:{string:{test:_5,convert:String},boolean:{test:_5,convert:Number}},boolean:{string:{test:_5,convert:e=>e?"Yes":"No"},number:{test:_5,convert:Number}}};function Ion({value:e,targetType:t,onChange:n}){const r=f.useMemo(()=>({...e,_type:t}),[t,e]),i=f.useCallback(()=>n(Dt.from(Vo(t,["_type"])),r),[r,n,t]),{t:a}=q();return u.jsx(he,{onClick:i,text:a("inputs.untyped-value.convert-button.text",{targetType:t})})}function Don({value:e,onChange:t,validTypes:n}){const r=f.useMemo(()=>({...e,_type:n[0]}),[n,e]),i=f.useCallback(()=>t(Dt.from(vt()),r),[r,t]),{t:a}=q();return u.jsx(he,{onClick:i,tone:"critical",text:a("inputs.untyped-value.unset-item-button.text")})}function Mon({validTypes:e,value:t,onChange:n}){const r=tn(),i=e.length===1,a=r.has(e[0]),{t:o}=q();return u.jsx(Ju,{status:"warning",title:u.jsx(u.Fragment,{children:u.jsx(gt,{t:o,i18nKey:"inputs.untyped-value.title"})}),children:u.jsx(D0,{open:cl,title:o("inputs.untyped-value.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:o,i18nKey:"inputs.untyped-value.description"})}),i&&!a&&u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:o,i18nKey:"inputs.untyped-value.details.description"})}),!i&&u.jsx(N,{as:"p",muted:!0,size:1,children:o("inputs.untyped-value.details.multi-type-description")}),!i&&u.jsx(ne,{as:"ul",space:2,children:e.map(s=>u.jsx(N,{as:"li",muted:!0,size:1,children:u.jsx("code",{children:s})},s))}),u.jsxs(ne,{space:2,children:[u.jsx(N,{as:"h4",weight:"medium",size:1,children:o("inputs.untyped-value.details.json-dump-prefix")}),u.jsx(ie,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:u.jsx(mi,{language:"json",children:JSON.stringify(t,null,2)})})]}),u.jsxs(Gn,{columns:[1,2,2],gap:1,children:[i&&u.jsx(Ion,{onChange:n,targetType:e[0],value:t}),u.jsx(Don,{onChange:n,validTypes:e,value:t})]})]})})})}function Ron(e,t,n){return t in OP?Object.keys(OP[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...OP[t][r]})).filter(r=>r.test(e)):[]}const iIe=f.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:i,onChange:a}=e;f.useImperativeHandle(t,()=>({focus:()=>{}}));const o=f.useCallback(()=>{a(Dt.from(vt()))},[a]),s=f.useCallback(h=>{a(Dt.from(ft(h)))},[a]),l=f.useMemo(()=>Ron(n,r,i),[n,r,i]),{t:c}=q();if(mr(n)&&!("_type"in n))return u.jsx(Mon,{value:n,validTypes:i,onChange:a});const d=u.jsx(ne,{padding:2,children:u.jsx(he,{onClick:o,tone:"critical",text:c("inputs.invalid-value.reset-button.text")})});return u.jsxs(Ju,{status:"error",suffix:d,title:c("inputs.invalid-value.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.description")}),u.jsx(D0,{marginTop:4,open:cl,title:c("inputs.invalid-value.details.title"),children:u.jsxs(ne,{space:3,children:[i.length===1&&u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:c,i18nKey:"inputs.invalid-value.details.description",values:{validType:i[0]}})}),i.length===1&&u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.possible-reason")}),i.length!==1&&u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.multi-type-description")}),i.length!==1&&u.jsx(ne,{as:"ul",space:2,children:i.map(h=>u.jsx(N,{as:"li",children:u.jsx("code",{children:h})},h))}),u.jsxs(ne,{marginTop:2,space:2,children:[u.jsx(N,{size:1,weight:"medium",children:u.jsx(gt,{t:c,i18nKey:"inputs.invalid-value.current-type",values:{actualType:r}})}),u.jsx(ie,{border:!0,padding:2,radius:2,tone:"inherit",children:u.jsx(mi,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&u.jsx(ne,{space:1,children:l.map(h=>u.jsx(Oon,{converter:h,onConvert:s,value:n},`${h.from}-${h.to}`))})]})})]})});iIe.displayName="ForwardRef(InvalidValueInput)";function Oon({converter:e,onConvert:t,value:n}){const r=f.useCallback(()=>t(e.convert(n)),[e,t,n]),{t:i}=q();return u.jsx(he,{onClick:r,text:i("inputs.invalid-value.convert-button.text",{targetType:e.to})})}function $on(e){const{error:t,onChange:n}=e,r=f.useCallback(()=>{n(Dt.from((t.duplicates||[]).map(([a,o])=>ft(`${o}_deduped_${a}`,[a,"_key"]))))},[t.duplicates,n]),{t:i}=q();return u.jsx(I0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Ju,{status:"warning",suffix:u.jsx(ne,{padding:2,children:u.jsx(he,{onClick:r,text:i("form.error.duplicate-keys-alert.generate-button.text"),tone:"caution"})}),title:i("form.error.duplicate-keys-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.duplicate-keys-alert.summary")}),u.jsx(D0,{marginTop:4,open:cl,title:i("form.error.duplicate-keys-alert.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})})]})})]})})}function Pon(e){const{error:t,onChange:n}=e,r=f.useCallback(()=>{n(Dt.from((t.value||[]).map((a,o)=>Vo(OE(),[o,"_key"]))))},[t.value,n]),{t:i}=q();return u.jsx(I0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Ju,{status:"warning",suffix:u.jsx(ne,{padding:2,children:u.jsx(he,{onClick:r,text:i("form.error.missing-keys-alert.add-button.text"),tone:"caution"})}),title:i("form.error.missing-keys-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.missing-keys-alert.summary")}),u.jsx(D0,{marginTop:4,open:cl,title:i("form.error.missing-keys-alert.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:i,i18nKey:"form.error.missing-keys-alert.details.description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:i,i18nKey:"form.error.missing-keys-alert.details.additional-description"})})]})})]})})}function Fon(e){const{error:t,onChange:n}=e,r=()=>{const a=(t.value||[]).flatMap((o,s)=>mr(o)?[]:[s]).reverse().map(o=>vt([o]));n(Dt.from(a))},{t:i}=q();return u.jsx(I0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Ju,{status:"error",suffix:u.jsx(ne,{padding:2,children:u.jsx(he,{onClick:r,text:i("form.error.mixed-array-alert.remove-button.text"),tone:"critical"})}),title:i("form.error.mixed-array-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.summary")}),u.jsx(D0,{marginTop:4,open:cl,title:i("form.error.mixed-array-alert.details.title"),children:u.jsx(ne,{space:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.details.description")})})})]})})}function xR(e){const{member:t}=e,{onChange:n}=uu(),r=f.useCallback(a=>{n(Dt.from(a).prefixAll(t.fieldName))},[n,t.fieldName]),{t:i}=q();return t.error.type==="INCOMPATIBLE_TYPE"?u.jsx(iIe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?u.jsx(Pon,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?u.jsx($on,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?u.jsx(Fon,{onChange:r,error:t.error}):u.jsx(L,{children:i("member-field-error.unexpected-error",{error:e.member.error.type})})}const oG=f.memo(function(e){var p;const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}=e,{onSetFieldSetCollapsed:c}=uu(),d=f.useCallback(()=>{c(t.fieldSet.path,!0)},[t.fieldSet.path,c]),h=f.useCallback(()=>{c(t.fieldSet.path,!1)},[t.fieldSet.path,c]);return u.jsx(vR,{title:t.fieldSet.title||x0(t.fieldSet.name),description:t.fieldSet.description,level:t.fieldSet.level,collapsible:t.fieldSet.collapsible,collapsed:t.fieldSet.collapsed,onCollapse:d,onExpand:h,columns:(p=t==null?void 0:t.fieldSet)==null?void 0:p.columns,"data-testid":`fieldset-${t.fieldSet.name}`,inputId:t.fieldSet.name,children:t.fieldSet.members.map(m=>m.kind==="error"?u.jsx(xR,{member:m},t.key):u.jsx(fk,{member:m,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l},m.key))})}),Non=f.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:a,renderField:o,renderItem:s,renderPreview:l}=e;return t.kind==="field"?u.jsx(fk,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:a,renderInput:i,renderField:o,renderItem:s,renderPreview:l},t.key):t.kind==="error"?u.jsx(xR,{member:t},t.key):t.kind==="fieldSet"?u.jsx(oG,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:a,renderInput:i,renderField:o,renderItem:s,renderPreview:l},t.key):(console.warn(new Error(`Unhandled member kind ${t.kind}`)),null)});function Lon(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:a,renderField:o,renderItem:s,renderPreview:l}=e,c=f.useMemo(()=>t.map(d=>u.jsx(Non,{member:d,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:a,renderInput:i,renderItem:s,renderPreview:l},d.key)),[t,n,r,o,a,i,s,l]);return u.jsx(u.Fragment,{children:c})}function $se(e){return Ui(e.schemaType)}function Pse(e){return _s(e.schemaType)}const Px=({children:e})=>e;function Bon(e){return"absolutePath"in e}const sG=f.memo(function(e){const t=f.useMemo(()=>Bon(e)?e.absolutePath:e.path.concat(e.relativePath),[e]),n=f.useCallback(()=>u.jsx(u.Fragment,{children:"Missing destination render function"}),[]);return u.jsx(Von,{...e,absolutePath:t,destinationRenderAnnotation:e.renderAnnotation||n,destinationRenderBlock:e.renderBlock||n,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||n,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})}),Von=f.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderInput:s,destinationRenderItem:l,destinationRenderPreview:c}=t,{t:d}=q(),h=f.useCallback(b=>(Sr(n,b.path)?t.includeField:Ha(n,b.path))?a(b):Px(b),[n,a,t.includeField]),p=f.useCallback(b=>(Sr(n,b.path)?t.includeItem:Ha(n,b.path))?l(b):Px(b),[n,l,t.includeItem]),m=f.useCallback(b=>{if(Sr(b.path,n)||Ha(n,b.path))return s(b);if(!$se(b)&&!Pse(b))throw new Error(`Expected either object input props or array input props for: ${JSON.stringify(b.path)}`);return u.jsx(e,{...b,includeField:t.includeField,includeItem:t.includeItem,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:s,destinationRenderItem:l,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderPreview:c})},[n,r,i,a,o,s,l,c,t.includeField,t.includeItem]),g=f.useCallback(b=>Ha(n,b.path)&&(t.includeItem||!Sr(n,b.path))?i(b):Px(b),[n,i,t.includeItem]),y=f.useCallback(b=>Ha(n,b.path)&&(t.includeItem||!Sr(n,b.path))?o(b):Px(b),[n,o,t.includeItem]),v=f.useCallback(b=>Ha(n,b.path)&&(t.includeItem||!Sr(n,b.path))?r(b):Px(b),[n,r,t.includeItem]);if(Pse(t)){const b=Ew(t.path,n),x=t.members.find(w=>w.kind=="item"&&En(b[0])&&w.key===b[0]._key);if(!x){const w=er(t.path),C=Ew(t.path,n);if(En(C[0])){const E=C[0]._key;return u.jsx("div",{children:u.jsx(gt,{t:d,i18nKey:"form.error.no-array-item-at-key",values:{key:E,path:w}})})}const S=Ya(C[0])?C[0]:C[0][0];return u.jsx("div",{children:u.jsx(gt,{t:d,i18nKey:"form.error.no-array-item-at-index",values:{index:S,path:w}})})}return x.kind==="error"?u.jsx(ban,{member:x}):u.jsx(eG,{member:x,renderAnnotation:v,renderBlock:g,renderInput:m,renderField:h,renderInlineBlock:y,renderItem:p,renderPreview:c})}if($se(t)){const b=Ew(t.path,n),x=t.members.find(S=>S.kind=="field"&&b[0]===S.name),w=t.members.filter(S=>S.kind==="fieldSet").flatMap(S=>{var E;return S.kind==="fieldSet"&&((E=S.fieldSet)==null?void 0:E.members)||[]}).find(S=>S.kind==="field"&&S.name===b[0]),C=x||w;if(!C){const S=typeof b[0]=="string"?b[0]:JSON.stringify(b[0]);return u.jsx("div",{children:d("form.error.field-not-found",{fieldName:S})})}return u.jsx(fk,{member:C,renderAnnotation:v,renderBlock:g,renderInput:m,renderInlineBlock:y,renderField:h,renderItem:p,renderPreview:c})}throw new Error("FormInput can only be used with arrays or objects")});function wR(e){const t=f.useContext(H7);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function zon(){const e=f.useContext(H7);if(!e)throw new Error("Form context not provided");return e}function Uon(e){const{members:t,path:n,schemaType:r,renderAnnotation:i,renderField:a,renderBlock:o,renderInput:s,renderItem:l,renderInlineBlock:c,renderPreview:d,onPathFocus:h}=e,p=f.useRef([]);return f.useMemo(()=>{var y;const m=[];for(const v of t)if(v.kind==="item")if(!pR(v.item.schemaType))m.push({kind:"objectBlock",member:v,node:v.item});else{(v.item.validation.length>0||v.item.changed||(y=v.item.presence)!=null&&y.length||v.open||v.item.focusPath.length||v.item.focused)&&m.push({kind:"textBlock",member:v,node:v.item});const b=v.item.members.find(w=>w.kind==="field"&&w.name==="children");if(b&&b.kind==="field"&&aG(b))for(const w of b.field.members)w.kind==="item"&&w.item.schemaType.name!=="span"&&m.push({kind:"inlineObject",member:w,node:w.item});const x=v.item.members.filter(Frn).find(w=>w.name==="markDefs");if(x)for(const w of x.field.members)w.kind==="item"&&w.item.schemaType.jsonType==="object"&&m.push({kind:"annotation",member:w,node:w.item})}const g=m.map(v=>{const b=er(v.node.path),x=p.current.find(S=>S.key===b),w=v.kind!=="textBlock";let C=null;if(w&&v.member!==(x==null?void 0:x.member)||v.node!==(x==null?void 0:x.node)){const S=j=>({...j.elementProps,onFocus:()=>{}}),E=j=>{const A=v.member.item.path.concat(j);j.length!==0&&h(A.slice(n.length,A.length))},k=j=>A=>{if(A.type==="unset"&&A.path.length===0){j.onChange(ft({_type:v.member.item.schemaType.name,_key:v.member.key},A.path));return}j.onChange(A)},_=j=>Sr(j.path,v.member.item.path)?s({...j,onChange:k(j),onPathFocus:E,elementProps:S(j)}):s(j),T={absolutePath:Nc(v.node.path),includeField:!1,members:t,path:Nc(n),renderAnnotation:i,renderBlock:o,renderField:a,renderInlineBlock:c,renderInput:_,renderItem:l,renderPreview:d,schemaType:r};C=u.jsx(sG,{...T})}return x?(x.member=v.member,x.node=v.node,x.input=C||x.input,x):{kind:v.kind,key:b,member:v.member,node:v.node,elementRef:f.createRef(),input:C}});return p.current=g,g},[t,h,n,i,o,a,c,s,l,d,r])}const Hon=$.span(e=>{var r,i,a,o;const{$toneKey:t="default",theme:n}=e;return de`
      text-decoration: none;
      display: inline;
      background-color: ${(r=n.sanity.color.selectable)==null?void 0:r[t].enabled.bg};
      border-bottom: 1px dashed ${(i=n.sanity.color.selectable)==null?void 0:i[t].enabled.fg};
      color: ${(a=n.sanity.color.selectable)==null?void 0:a[t].enabled.fg};

      &[data-link] {
        border-bottom: 1px solid ${(o=n.sanity.color.selectable)==null?void 0:o[t].enabled.fg};
      }

      &[data-custom-markers] {
        background-color: ${n.sanity.color.dark?rt.purple[950].hex:rt.purple[50].hex};
      }

      &[data-warning] {
        background-color: ${n.sanity.color.muted.caution.hovered.bg};
      }

      &[data-error] {
        background-color: ${n.sanity.color.muted.critical.hovered.bg};
      }
    `}),Won=$(L).attrs({forwardedAs:"span"})`
  max-width: 250px;
`,Gon=["top","bottom"];function Yon(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:i,referenceBoundary:a,referenceElement:o,selected:s,title:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(null),y=f.useRef(null),{sanity:v}=zv(),{t:b}=q(),x=f.useRef(null),w=v.color.dark?"light":"dark",C=f.useCallback(j=>{d(j),j?f.startTransition(()=>{p(j)}):p(j)},[]),S=f.useMemo(()=>m?{getBoundingClientRect:()=>m}:null,[m]);Yo(f.useCallback(j=>{h&&j.key==="Escape"&&C(!1)},[C,h]));const E=f.useCallback(()=>{if(t){C(!1),g(null);return}const j=window.getSelection();if(!j||j.rangeCount===0)return;const A=j.getRangeAt(0);if(!(o!=null&&o.contains(A.commonAncestorContainer))){C(!1),g(null);return}const I=A==null?void 0:A.getBoundingClientRect();I&&(g(I),C(!0))},[t,o,C]);f.useEffect(()=>(document.addEventListener("selectionchange",E,{passive:!0}),()=>{document.removeEventListener("selectionchange",E)}),[E]);const k=f.useCallback(()=>{C(!1),r()},[r,C]);f.useEffect(()=>{!t&&s&&m&&C(!0),t&&C(!1)},[t,s,m,C]);const _=f.useCallback(()=>{C(!1),i()},[i,C]),T=f.useCallback(()=>{y.current&&g(y.current.getBoundingClientRect())},[]);return f.useEffect(()=>{const j=window.getSelection();j&&j.rangeCount>0&&(y.current=j.getRangeAt(0))},[h]),f.useEffect(()=>{if(h&&a)return a.addEventListener("scroll",T),()=>a.removeEventListener("scroll",T);if(h)return a==null||a.addEventListener("scroll",T),()=>{a==null||a.removeEventListener("scroll",T)}},[h,a,T]),c?u.jsx(_n,{open:h,floatingBoundary:n,constrainSize:!0,content:u.jsx(L,{padding:1,"data-testid":"annotation-toolbar-popover",children:u.jsxs(z,{gap:1,children:[u.jsx(L,{padding:2,children:u.jsx(N,{weight:"medium",size:1,children:l})}),u.jsx(he,{"aria-label":b("inputs.portable-text.action.edit-annotation-aria-label"),"data-testid":"edit-annotation-button",icon:Lc,mode:"bleed",onClick:k,tabIndex:0,tooltipProps:null}),u.jsx(he,{"aria-label":b("inputs.portable-text.action.remove-annotation-aria-label"),"data-testid":"remove-annotation-button",icon:Jr,mode:"bleed",onClick:_,tabIndex:0,tone:"critical",tooltipProps:null})]})}),fallbackPlacements:Gon,placement:"top",portal:!0,preventOverflow:!0,ref:x,referenceBoundary:a,referenceElement:S,scheme:w}):null}const aIe=e=>Array.isArray(e)?e.flatMap(aIe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],qon=e=>e==="dialog"||e==="popover"?e:void 0;function Kon(e){var n;const t=(n=e.options)==null?void 0:n.modal;return typeof t=="object"&&t!==null?{type:qon(t.type),width:aIe(t.width)}:void 0}function gv(e){const{scrollElement:t,containerElement:n}=e,r=f.useMemo(()=>({scrollElement:t,containerElement:n}),[n,t]);return u.jsx(Whe.Provider,{value:r,children:e.children})}function Zon(e){const{onClose:t,children:n,title:r,width:i=1,autoFocus:a}=e,o=f.useId(),[s,l]=f.useState(null),c=f.useRef(null);return u.jsx(Ri,{header:r,id:o,onClickOutside:t,onClose:t,portal:"default",width:i,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:a,children:u.jsx(Tb,{margins:[0,0,1,0],children:u.jsx(gv,{scrollElement:s,containerElement:c,children:u.jsx(L,{ref:c,children:n})})})})}const Xon=$(_n)`
  & > div {
    overflow: hidden;
    overflow: clip;
  }
`,Jon=$(L)`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`,Qon=$(L)`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`,esn=["top","bottom"];function tsn(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:i=1}=e,[a,o]=f.useState(!1);return f.useEffect(()=>{o(!0)},[]),u.jsx(Xon,{content:u.jsx(nsn,{...e}),constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:esn,floatingBoundary:t,open:a,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:i})}function nsn(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:i,autoFocus:a}=e;Yo(f.useCallback(c=>{c.key==="Escape"&&t()},[t])),xn(t,()=>[r],()=>n);const[o,s]=f.useState(null),l=f.useRef(null);return u.jsx(gv,{scrollElement:o,containerElement:l,children:u.jsxs(z,{ref:l,direction:"column",height:"fill",children:[u.jsx(Qon,{flex:"none",padding:1,children:u.jsxs(z,{align:"center",children:[u.jsx(L,{flex:1,padding:2,children:u.jsx(N,{weight:"medium",children:i})}),u.jsx(he,{autoFocus:!!a,icon:Nr,mode:"bleed",onClick:t,tooltipProps:{content:"Close"}})]})}),u.jsx(Jon,{flex:1,children:u.jsx(Tb,{margins:[0,0,1,0],children:u.jsx(L,{padding:3,ref:s,children:e.children})})})]})})}function lG(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:i,referenceBoundary:a,referenceElement:o,schemaType:s}=e,{t:l}=q(),c=f.useMemo(()=>Kon(s),[s]),d=(c==null?void 0:c.type)||n,h=s.i18nTitleKey?l(s.i18nTitleKey):s.title||s.name,p=l("inputs.portable-text.annotation-editor.title",{schemaType:h}),m=f.useCallback(()=>{i()},[i]),g=c==null?void 0:c.width;return d==="popover"?u.jsx(tsn,{autoFocus:t,floatingBoundary:r,onClose:m,referenceBoundary:a,referenceElement:o,title:u.jsx(u.Fragment,{children:p}),width:g,children:e.children}):u.jsx(Zon,{onClose:m,title:p,width:g,autoFocus:t,children:e.children})}function rsn(e){var X;const{children:t,editorNodeFocused:n,floatingBoundary:r,focused:i,onItemClose:a,onItemOpen:o,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,renderAnnotation:h,renderBlock:p,renderCustomMarkers:m,renderField:g,renderInlineBlock:y,renderInput:v,renderItem:b,renderPreview:x,schemaType:w,selected:C,value:S}=e,{Markers:E=Aje}=ad().__internal.components,k=qi(),_=f.useMemo(()=>l.slice(0,l.length-2).concat(["markDefs",{_key:S._key}]),[l,S._key]),[T,j]=f.useState(null),A=wR(er(_)),{validation:I}=gR(A==null?void 0:A.node),M=yR(l),D=f.useMemo(()=>u.jsx("span",{"data-annotation":"",children:t}),[t]),O=f.useCallback(()=>{A&&(Me.blur(k),o(A.node.path))},[k,A,o]),R=f.useCallback(()=>{a(),GW(S)&&Me.removeAnnotation(k,w),Me.focus(k)},[k,a,w,S]),F=f.useCallback(()=>{Me.removeAnnotation(k,w),Me.focus(k)},[k,w]),P=f.useMemo(()=>I.length>0||M.length>0?u.jsx(bt,{placement:"bottom",portal:"default",content:u.jsx(Won,{children:u.jsx(E,{markers:M,renderCustomMarkers:m,validation:I})}),children:D}):void 0,[E,M,m,D,I]),V=_b(l,!0),U=f.useMemo(()=>V.filter(K=>Sr(K.path,l)),[l,V]),H=!!(A!=null&&A.member.open),W=A==null?void 0:A.input,Z=(A==null?void 0:A.node.path)||rn,J=T,re=f.useMemo(()=>({__unstable_floatingBoundary:r,__unstable_referenceBoundary:d,__unstable_referenceElement:J,__unstable_textElementFocus:n,children:W,focused:i,markers:M,onClose:R,onOpen:O,onPathFocus:s,onRemove:F,open:H,parentSchemaType:k.schemaTypes.block,path:Z,presence:U,readOnly:!!c,renderAnnotation:h,renderBlock:p,renderField:g,renderInlineBlock:y,renderInput:v,renderPreview:x,renderItem:b,renderDefault:m6,schemaType:w,selected:C,textElement:P||D,validation:I,value:S}),[k.schemaTypes.block,n,r,i,W,H,M,P,Z,R,O,s,F,c,d,J,h,p,g,y,v,b,x,U,w,C,D,I,S]),G=(X=w.components)==null?void 0:X.annotation,te=f.useCallback(K=>{A!=null&&A.elementRef&&(A.elementRef.current=K),j(K)},[A]);return f.useMemo(()=>u.jsx("span",{ref:te,style:void 0,children:G?u.jsx(G,{...re}):u.jsx(m6,{...re})}),[G,re,te])}const m6=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,selected:p,schemaType:m,textElement:g,validation:y}=e,v=m.name==="link",b=y.some(E=>E.level==="error"),x=y.some(E=>E.level==="warning"),w=o.length>0,{t:C}=q(),S=f.useMemo(()=>b?"critical":x?"caution":v?"primary":"default",[v,b,x]);return u.jsxs(Hon,{$toneKey:S,"aria-label":C("inputs.portable-text.annotation-aria-label"),"data-link":v?"":void 0,"data-error":b?"":void 0,"data-warning":x?"":void 0,"data-markers":w||void 0,onClick:h?l:void 0,children:[g,u.jsx(Yon,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:c,referenceBoundary:n,referenceElement:r,selected:p,title:m.i18nTitleKey?C(m.i18nTitleKey):m.title||m.name}),d&&u.jsx(lG,{defaultType:"popover",floatingBoundary:t,onClose:s,autoFocus:a,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function oIe(){return f.useContext(Ahe)}function isn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:a}=e,o=f.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:a}),[n,r,i,a]);return u.jsx(Ahe.Provider,{value:o,children:t})}function asn(e){const t=f.useMemo(()=>({id:e.id}),[e.id]);return u.jsx(che.Provider,{value:t,children:e.children})}function osn(){const e=f.useContext(che);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function CR(){return pn(osn())}function SR(e,t){return jo(t,f.useCallback((n,r)=>{e.current&&!n&&r&&Rg(e.current,{scrollMode:"always"})},[e]))}const ssn=$(N)`
  &[data-status='edited'] {
    --card-icon-color: var(--card-badge-caution-dot-color);
  }
  &[data-status='unpublished'] {
    --card-icon-color: var(--card-badge-default-dot-color);
    opacity: 0.5 !important;
  }
`;function Ib({draft:e,published:t}){const n=!!e,r=!!t,i=f.useMemo(()=>n&&!r?"unpublished":"edited",[n,r]);return!n&&!r||!n&&r?null:u.jsx(ssn,{"data-status":i,size:1,children:u.jsx(p9,{})})}function sIe(e){var m,g;const{id:t,layout:n,preview:r,refType:i,renderPreview:a,showTypeLabel:o}=e,s=Rb(t),l=((m=r.draft)==null?void 0:m._id)||((g=r.published)==null?void 0:g._id)||t,c=f.useMemo(()=>({_id:l,_type:i.name}),[l,i.name]),{draft:d,published:h}=r,p=f.useMemo(()=>({children:u.jsx(L,{paddingLeft:3,children:u.jsxs(Rn,{space:3,children:[o&&u.jsx(ao,{mode:"outline",children:i.title}),s&&s.length>0&&u.jsx(KW,{presence:s}),u.jsx(Ib,{draft:r.draft,published:r.published})]})}),layout:n,schemaType:i,tooltip:u.jsx(Sv,{draft:d,published:h}),value:c}),[s,d,n,r.draft,r.published,c,h,i,o]);return a(p)}function lIe(e){var m,g,y,v,b,x;const{layout:t="default",referenceInfo:n,renderPreview:r,type:i,value:a,showTypeLabel:o}=e,{t:s}=q();if(n.isLoading||n.error)return u.jsx(ro,{isPlaceholder:!0,layout:t});if(((m=n.result)==null?void 0:m.availability.reason)==="NOT_FOUND"&&a._strengthenOnPublish){const w=i.to.find(S=>{var E;return S.name===((E=a==null?void 0:a._strengthenOnPublish)==null?void 0:E.type)});if(!w)return u.jsx(Nse,{documentId:a._ref,actualType:(g=a._strengthenOnPublish)==null?void 0:g.type,declaredTypes:i.to.map(S=>S.name)});const C=(y=a._strengthenOnPublish)!=null&&y.type?{_id:a._ref,_type:(v=a._strengthenOnPublish)==null?void 0:v.type}:a;return u.jsxs(z,{align:"center",children:[u.jsx(L,{flex:1,children:r({layout:t,schemaType:w,value:C,skipVisibilityCheck:!0})}),u.jsx(L,{children:u.jsx(Rn,{space:4,children:o&&u.jsx(ao,{mode:"outline",children:w.title})})})]})}const l=n.result.availability,c=l.reason==="NOT_FOUND",d=l.reason==="PERMISSION_DENIED";if(d||c)return u.jsxs(Rn,{space:2,children:[u.jsx(L,{padding:1,children:u.jsx(z,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:s("inputs.reference.error.document-unavailable-title")})})})}),d||c?u.jsx(L,{children:u.jsx(bt,{portal:!0,content:c?u.jsx(Fse,{title:s("inputs.reference.error.nonexistent-document-title"),icon:gg,children:u.jsx(gt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:s,values:{documentId:a._ref}})}):u.jsx(Fse,{title:s("inputs.reference.error.missing-read-permissions-title"),icon:sf,children:s("inputs.reference.error.missing-read-permissions-description")}),children:u.jsx(Xr,{tone:"default",children:u.jsx(gg,{})})})}):null]});const h=(b=n.result)==null?void 0:b.type,p=i.to.find(w=>w.name===h);return p?u.jsx(sIe,{id:a._ref,layout:t,preview:(x=n.result)==null?void 0:x.preview,refType:p,renderPreview:r,showTypeLabel:o}):u.jsx(Nse,{documentId:a._ref,actualType:h||"<unknown>",declaredTypes:i.to.map(w=>w.name)})}function Fse(e){const t=e.icon;return u.jsxs(z,{children:[u.jsx(N,{size:1,children:u.jsx(t,{})}),u.jsxs(L,{flex:1,marginLeft:3,children:[u.jsx(N,{size:1,weight:"medium",children:e.title}),u.jsx(L,{marginTop:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Nse({declaredTypes:e,documentId:t,actualType:n}){const{t:r}=q();return u.jsxs(z,{align:"center",justify:"flex-start",children:[u.jsx(L,{padding:1,children:u.jsx(z,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:r("inputs.reference.error.invalid-type-title")})})})}),u.jsx(L,{children:u.jsx(bt,{portal:!0,content:u.jsx(ne,{space:3,children:u.jsx(N,{size:1,children:u.jsx(gt,{t:r,i18nKey:"inputs.reference.error.invalid-type-description",values:{documentId:t,actualType:n},components:{AllowedTypes:()=>u.jsx(lsn,{values:e})}})})}),children:u.jsx(L,{padding:2,children:u.jsx(Xr,{tone:"default",children:u.jsx(gg,{})})})})})]})}function lsn(e){const t=j0({type:"disjunction"}).formatToParts(e.values);return u.jsx(f.Fragment,{children:t.map(n=>n.type==="element"?u.jsx("code",{children:n.value},n.value):n.value)})}const usn={warning:"caution",error:"critical",info:"positive"},csn={warning:u.jsx(gr,{}),error:u.jsx(Ta,{}),info:u.jsx(Df,{})};function uG(e){const{children:t,status:n="warning",title:r,...i}=e;return u.jsx(ie,{radius:2,tone:usn[n],...i,"data-ui":"Alert",children:u.jsx(z,{padding:1,children:t&&u.jsx(L,{flex:1,children:u.jsx(D0,{icon:csn[n],title:r,children:u.jsx(L,{marginLeft:3,marginTop:3,children:t})})})})})}function uIe({schemaType:e,handleRemoveStrengthenOnPublish:t}){const{t:n}=q();return u.jsx(uG,{padding:1,title:n(e.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title"),status:"info","data-testid":"alert-reference-published",children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:n,i18nKey:e.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description"})}),u.jsx(he,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.incomplete-reference.strengthen-button-label"),tone:"positive"})]})})}const dsn=$(ie)`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 33px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`,cIe=f.forwardRef(function(e,t){const{as:n,documentId:r,documentType:i,...a}=e;return u.jsx(dsn,{...a,...r&&i&&{"data-as":"a",forwardedAs:n,documentId:r,documentType:i},"data-ui":"ReferenceLinkCard",ref:t})});function cG({errorMessage:e,onHandleRetry:t}){const{t:n}=q();return u.jsx(uG,{padding:1,title:n("inputs.reference.metadata-error.title"),status:"warning","data-testid":"alert-reference-info-failed",children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:e}),u.jsx(he,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.metadata-error.retry-button-label"),tone:"primary"})]})})}function dG({actualStrength:e,handleFixStrengthMismatch:t}){const n=e==="weak"?"strong":"weak",{t:r}=q();return u.jsx(uG,{padding:1,title:r("inputs.reference.strength-mismatch.title"),status:"warning","data-testid":"alert-reference-strength-mismatch",children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:r,i18nKey:e==="weak"?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:r(n==="weak"?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences")}),u.jsx(he,{mode:"ghost",onClick:t,size:"large",text:r(n==="weak"?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label"),tone:"caution"})]})})}const dIe=()=>{},Lse={isLoading:!0,result:void 0,error:void 0,retry:dIe},fsn={isLoading:!1,result:void 0,error:void 0,retry:dIe};function ER(e,t){const n=f.useMemo(()=>new Fr,[]),r=f.useMemo(()=>n.asObservable(),[n]),i=f.useCallback(()=>{n.next({type:"retry"})},[n]),a=f.useMemo(()=>ji(we(null),r).pipe(fe(()=>e),tg(o=>o?t(o).pipe(fe(s=>({isLoading:!1,result:s,error:void 0,retry:i})),Wi(Lse),kn(s=>(console.error(s),we({isLoading:!1,result:void 0,error:s,retry:i})))):we(fsn))),[t,e,r,i]);return ti(a,Lse)}function hsn(e){const t=f.useMemo(()=>({value:e.value}),[e.value]);return u.jsx(mhe.Provider,{value:t,children:e.children})}function hk(e){const t=Nc(e),n=f.useContext(mhe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return sa(n==null?void 0:n.value,t)}const Bse=new WeakMap,Vse={title:10,subtitle:5,description:1.5},psn={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},msn=["reference","crossDatasetReference"],pk=e=>e?[e,...pk(e.type)]:[],zse=e=>(e==null?void 0:e.jsonType)==="array"&&e.of.some(t=>pk(t).some(({name:n})=>n==="block")),gsn=e=>e?(e==null?void 0:e.jsonType)==="string":!1,ysn=e=>wt(e)&&"search"in e&&wt(e.search);function fIe(e){return typeof e<"u"&&"name"in e}function iC(e,t,n){function r(i,a,o){if(!i)return[];if(o>t)return[];const s=pk(i);if(gsn(i)||zse(i)){const h=n(i,a);return typeof h!="number"?[]:[{path:a,weight:h,type:zse(i)?"pt":"string"}]}const l=[],c=s.filter(h=>{var p;return h.jsonType==="object"&&!!((p=h.fields)!=null&&p.length)&&!msn.includes(h.name)});for(const h of c)for(const p of h.fields){const m=Zt([a,p.name].filter(Boolean));l.push(...r(p.type,m,o+1))}const d=s.filter(h=>{var p;return h.jsonType==="array"&&!!((p=h.of)!=null&&p.length)});for(const h of d)for(const p of h.of){const m=`${a}[]`;l.push(...r(p,m,o+1))}return l}return fIe(e)?r(e,"",0).reduce((i,{path:a,weight:o,type:s})=>(i[a]={weight:o,type:s,path:a},i),{}):{}}const hIe=e=>{var n;const t=pk(e).map(r=>r.options).find(ysn);return typeof((n=t==null?void 0:t.search)==null?void 0:n.weight)=="number"?t.search.weight:null},pIe=e=>pk(e).some(t=>t.hidden)?0:null,mIe=e=>typeof(hIe(e)??pIe(e))=="number"?null:1,vsn=(e,t,n)=>{var s;const r=(s=e==null?void 0:e.preview)==null?void 0:s.select;if(!r)return null;const i=Object.fromEntries(Object.entries(r).map(([l,c])=>[c.replace(/\.\d+/g,"[]"),l])),a=iC(e,t,mIe),o=Object.fromEntries(Object.entries(a).map(([l,{type:c}])=>({path:l,type:c})).filter(({path:l})=>i[l]).map(({path:l,type:c})=>[l,{type:c,weight:Vse[i[l]]}]));return n?Object.fromEntries(Object.entries(i).map(([l,c])=>[l,{path:l,type:"string",weight:Vse[c]}])):iC(e,t,(l,c)=>{const d=o[c];return d?d.weight:null})};function gIe({schemaType:e,maxDepth:t,isCrossDataset:n,processPaths:r=i=>i}){const i=Bse.get(e);if(i)return i;const a=iC(e,t,hIe),o=iC(e,t,pIe),s=iC(e,t,mIe),l=vsn(e,t,n),c={...psn,...s,...o,...l,...a},d={typeName:fIe(e)?e.name:e.type,paths:r(Object.entries(c).map(([h,{type:p,weight:m}])=>({path:h,weight:m,...p==="pt"&&{mapWith:"pt::text"}})))};return Bse.set(e,d),d}const bsn=e=>!!(e.type&&e.type.name==="document"),xsn=e=>e.jsonType==="object",wsn=e=>e.name.startsWith("sanity.")&&e.name!=="sanity.previewUrlSecret",yIe=(e,t=[])=>e.getTypeNames().map(n=>e.get(n)).filter(ua).filter(n=>bsn(n)&&!wsn(n)||t.includes(n.name)).filter(xsn),Csn=1e3,g6="*",Ssn="-",Esn=/(?:[^\s"]+|"[^"]*")+/g;function ksn(e,t){return typeof e=="string"?{query:e,types:t}:{...e,types:e.types.length?e.types:t}}function _sn(e){return e.filter(t=>t.weight!==1)}function Tsn(e,t){return t.types.map(n=>gIe({schemaType:n,maxDepth:e.maxDepth||Mg,processPaths:_sn})).filter(({paths:n})=>n.length).reduce((n,r)=>({...n,[r.typeName]:r.paths.reduce((i,{path:a,weight:o})=>({...i,weights:{...i.weights,[a]:o}}),{})}),{})}function Asn(e=[]){return e.map(({field:t,direction:n})=>({attribute:t,direction:n}),{})}function jsn(e){return typeof e<"u"&&e.trim().at(0)===Ssn}function Isn(e){return typeof e<"u"&&e.trim().at(-1)===g6}function Dsn(e){const t=(e.match(Esn)??[]).map(a=>a.trim()),n=t.findLastIndex(a=>!jsn(a)),r=t[n];if(t.length===0)return g6;if(Isn(r)||typeof r>"u")return t.join(" ");const i=[...t];return i.splice(n,1,`${r}${g6}`),i.join(" ")}function Msn(e,{queryType:t="prefixLast"}){return t==="prefixLast"?Dsn(e):e}const Rsn=(e,t,n)=>function(r,i={}){const a=ksn(r,e),o=["_type in $__types",i.includeDrafts===!1&&"!(_id in path('drafts.**'))",n.filter?`(${n.filter})`:!1,a.filter?`(${a.filter})`:!1].filter(l=>!!l),s={query:{string:Msn(a.query,i)},filter:o.join(" && "),params:{__types:a.types.map(l=>"name"in l?l.name:l.type),...n.params,...a.params},types:Tsn(i,a),...i.sort?{order:Asn(i.sort)}:{},includeAttributes:["_id","_type"],fromCursor:i.cursor,limit:i.limit??Csn};return t.observable.request({uri:`/data/textsearch/${t.config().dataset}`,method:"POST",json:!0,body:s,tag:n.tag}).pipe(fe(l=>{let c=l.hits.map(d=>d.attributes);return n.unique&&(c=oje(c)),{type:"text",hits:c.map(d=>({hit:d})),nextCursor:l.nextCursor}}))},Osn=(e,t)=>{const{phrases:n,words:r}=Lsn(e),[i,a]=Fsn(n,t),[o,s]=Nsn(r,t);return[i+o,[s,a].join(", ")]},$sn=e=>typeof e=="string"?e:JSON.stringify(e);function Psn(e,t,n=[]){const r=CW(e,i=>i.typeName);return t.map((i,a)=>{var l;const o=(l=r[i._type].paths||[])==null?void 0:l.map((c,d)=>{const h=$sn(i[`w${d}`]);if(!h)return{path:c.path,score:0,why:"No match"};const[p,m]=Osn(n,h);return{path:c.path,score:p*c.weight,why:`${m} (*${c.weight})`}}),s=o.reduce((c,d)=>c+d.score,0);return{hit:i,resultIndex:t.length-a,score:s,stories:o}})}function Fsn(e,t){const n=t.toLowerCase().trim();let r=0,i=0;return e.forEach(a=>{n.includes(a)&&(r+=a.length/n.length,i+=a.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,`[Phrase] Matched ${i} of ${n.length} characters`]}function Nsn(e,t){const n=Sa(uM(eke(fy(t)))),r=MA(e,n),i=LEe(n,e),a=r.length/i.length;return a===1?[1,"[Word] Exact match"]:[a/2,`[Word] Matched ${r.length} of ${i.length} terms: [${r.join(", ")}]`]}function Lsn(e){const t=Sa(e.map(fy)),[n,r]=oM(t,i=>/^".*"$/.test(i));return{phrases:Sa(n).map(fy).map(Bsn),words:Sa(r.map(fy))}}function Bsn(e){return e.replace(/^"(.*)"$/,"$1")}const Vsn=4,zsn=1e3,Usn=okt([pr,LEe,uM]),vIe=({mapWith:e,path:t})=>e?`${e}(${t})`:t;function Hsn(e,t){const n=Usn(t.map(r=>(r.paths||[]).map(i=>vIe(i))));return e.map((r,i)=>n.map(a=>`${a} match $t${i}`)).filter(r=>r.length>0).map(r=>`(${r.join(" || ")})`)}const Wsn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Gsn=/(^[.]+)|([.]+$)/;function Ysn(e){return(e.match(Wsn)||[]).map(t=>t.replace(Gsn,""))}function qsn(e){const t=[],n=e.replace(/("[^"]*")/g,a=>eke(a).length>1?(t.push(a),""):a),r=t.map(a=>t2t(fy(a))),i=Sa(uM(Ysn(fy(n))));return[...r,...i]}function Ksn(e){function t(n){return n.mapWith?`${n.mapWith}(${n.field})`:n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function Zsn(e,t={}){const{filter:n,params:r,tag:i}=t,a=e.types.map(b=>gIe({schemaType:b,maxDepth:t.maxDepth||Mg,isCrossDataset:t.isCrossDataset})).filter(({paths:b})=>b.length),o=qsn(e.query),s=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...Hsn(o,a),n?`(${n})`:"",e.filter?`(${e.filter})`:""].filter(Boolean),l=a.map(b=>{const x=`_type == "${b.typeName}" => `,w=`{ ${b.paths.map((C,S)=>`"w${S}": ${vIe(C)}`)} }`;return`${x}${w}`}),c=Ksn((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),d=["_type","_id"],h=l.length>0?`...select(${l.join(`,
`)})`:"",p=d.join(", ")+(h?`, ${h}`:"");let m=`*[${s.join(" && ")}]| order(${c})[0...$__limit]{${p}}`;if(t!=null&&t.__unstable_extendedProjection){const b=t==null?void 0:t.__unstable_extendedProjection,x=d.concat(b).join(", ");m=[`*[${s.join(" && ")}]{${x}}`,`order(${c})[0...$__limit]{${p}}`].join("|")}const g=[`findability-mvi:${Vsn}`].concat((t==null?void 0:t.comments)||[]).map(b=>`// ${b}`).join(`
`),y=g?`${g}
${m}`:m,v=(t==null?void 0:t.limit)??zsn;return{query:y,params:{...Xsn(o),__types:a.map(b=>b.typeName),__limit:v,...r||{}},options:{tag:i},searchSpec:a,terms:o}}const Xsn=e=>{const t={};return e.reduce((n,r,i)=>(n[`t${i}`]=`${r}*`,n),t)};function Jsn(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}const Qsn=(e,t,n)=>function(r,i={}){const a=Jsn(r,e),{query:o,params:s,options:l,searchSpec:c,terms:d}=Zsn(a,{...n,...i});return t.observable.fetch(o,s,l).pipe(n.unique?fe(oje):Qn(),fe(h=>Psn(c,h,d)),i!=null&&i.skipSortByScore?Qn():fe(h=>Bp(h,p=>-p.score)),fe(h=>({type:"weighted",hits:h})))},kR=(e,t,n)=>(n.enableLegacySearch?Qsn:Rsn)(e,t,n),eln={available:!0,reason:"READABLE"},Use={available:!1,reason:"PERMISSION_DENIED"},Hse={available:!1,reason:"NOT_FOUND"};function bIe(e,t,n){const{publishedId:r,draftId:i}=NW(t);return e.unstable_observeDocumentPairAvailability(t).pipe(Ct(a=>{if(!a.draft.available&&!a.published.available){const l=a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?Use:Hse;return we({id:t,type:void 0,availability:l,preview:{draft:void 0,published:void 0}})}const o={_type:"reference",_ref:i},s={_type:"reference",_ref:r};return Hi([e.observeDocumentTypeFromId(i),e.observeDocumentTypeFromId(r)]).pipe(fe(([l,c])=>l||c)).pipe(Ct(l=>{if(!l)return we({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const c=n.to.find(m=>m.name===l);if(!c)return we({id:t,type:l,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const d=jG(c==null?void 0:c.preview)||[],h=e.observePaths(o,d).pipe(fe(m=>m?{_id:i,...Oj(m,c)}:void 0),Wi(void 0)),p=e.observePaths(s,d).pipe(fe(m=>m?{_id:r,...Oj(m,c)}:void 0),Wi(void 0));return Hi([h,p]).pipe(fe(([m,g])=>({draft:m,published:g}))).pipe(fe(m=>{const g=a.draft.available||a.published.available?eln:a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?Use:Hse;return{type:l,id:r,availability:g,preview:{draft:wt(m.draft)?m.draft:void 0,published:wt(m.published)?m.published:void 0}}}))}))}))}function tln(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ca(t.id))}function nln(e,t){return t.length===0?we([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function rln(e,t,n,r,i){return kR(n.to,e,{...r,enableLegacySearch:i,maxDepth:r.maxFieldDepth||Mg})(t,{includeDrafts:!0}).pipe(fe(({hits:a})=>a.map(({hit:o})=>o)),fe(uR),fe(a=>a.slice(0,100)),Mt(a=>nln(e,tln(a)).pipe(fe(o=>a.map(s=>{const l=ca(s.id);return{id:s.id,type:s.type,draft:s.draft||o.includes(l)?{_id:l,_type:s.type}:void 0,published:s.published||o.includes(s.id)?{_id:s.id,_type:s.type}:void 0}})))))}function iln(e){const t=f.useRef(e);return t.current=e,t}function fG(e){var w,C,S,E;const{path:t,schemaType:n}=e,r=tn(),i=da(),{EditReferenceLinkComponent:a,onEditReference:o,activePath:s,initialValueTemplateItems:l}=oIe(),c=hk([]),d=(w=iln(c).current)==null?void 0:w._type,h=f.useMemo(()=>{var k;return(k=r.get(d))==null?void 0:k.liveEdit},[d,r]),p=((C=n.options)==null?void 0:C.disableNew)===!0,m=(E=(S=e.value)==null?void 0:S._strengthenOnPublish)==null?void 0:E.template,g=f.useMemo(()=>f.forwardRef(function(k,_){return a?u.jsx(a,{...k,ref:_,parentRefPath:t,template:m}):null}),[a,t,m]),y=f.useCallback(k=>{o==null||o({parentRefPath:t,id:k.id,type:k.type,template:k.template})},[o,t]),v=Ha(t,(s==null?void 0:s.path)||[])?s==null?void 0:s.state:"none",b=f.useMemo(()=>p?[]:(l||[]).filter(k=>n.to.some(_=>{var T;return _.name===((T=k.template)==null?void 0:T.schemaType)})).map(k=>{var _;return(_=k.template)!=null&&_.schemaType?{id:k.id,title:k.title||`${k.template.schemaType} from template ${k.template.id}`,type:k.template.schemaType,icon:k.icon,template:{id:k.template.id,params:k.parameters},permission:{granted:k.granted,reason:k.reason}}:void 0}).filter(ua),[p,l,n.to]),x=f.useCallback(k=>bIe(i,k,n),[i,n]);return{selectedState:v,isCurrentDocumentLiveEdit:h,handleEditReference:y,EditReferenceLink:g,createOptions:b,getReferenceInfo:x}}function aln({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const oln={portal:!0,tone:"default"};function sln(e){var X,K,Q,ee,se,le;const t=f.useRef(null),{schemaType:n,path:r,open:i,inputId:a,children:o,inputProps:s}=e,{readOnly:l,focused:c,renderPreview:d,onChange:h}=e.inputProps,[p,m]=f.useState([]),g=CR(),y=f.useCallback(()=>s.onChange(vt()),[s]),v=e.value,{EditReferenceLink:b,getReferenceInfo:x,selectedState:w,isCurrentDocumentLiveEdit:C}=fG({path:r,schemaType:n,value:v});SR(t,i),jo(c,(oe,ue)=>{!oe&&ue&&t.current&&t.current.focus()});const S=e.validation.some(oe=>oe.level==="error"),E=e.validation.some(oe=>oe.level==="warning"),k=ER(v==null?void 0:v._ref,x),_=((X=k.result)==null?void 0:X.type)||((K=v==null?void 0:v._strengthenOnPublish)==null?void 0:K.type),T=_?n.to.find(oe=>oe.name===_):void 0,j=w==="pressed",A=w==="selected",I=v==null?void 0:v._ref,M=I&&((se=(ee=(Q=k.result)==null?void 0:Q.preview)==null?void 0:ee.published)==null?void 0:se._id),D=f.useCallback(()=>{h([n.weak===!0?ft(!0,["_weak"]):vt(["_weak"]),vt(["_strengthenOnPublish"])])},[h,n.weak]),O=f.useCallback(()=>{h(n.weak===!0?ft(!0,["_weak"]):vt(["_weak"]))},[h,n]),R=f.useCallback(()=>{s.onPathFocus(["_ref"])},[s]),F=v!=null&&v._weak?"weak":"strong",P=n.weak===!0?"weak":"strong",V=I&&!k.isLoading&&(v==null?void 0:v._strengthenOnPublish),U=!k.isLoading&&((le=k.result)==null?void 0:le.availability.available)&&I&&F!==P&&!V,H=aln({readOnly:l,hasErrors:S,hasWarnings:E}),W=!(v!=null&&v._ref)||s.focusPath[0]==="_ref",{t:Z}=q(),J=u.jsxs(u.Fragment,{children:[C&&M&&v._strengthenOnPublish&&u.jsx(uIe,{schemaType:n,handleRemoveStrengthenOnPublish:D}),U&&u.jsx(dG,{actualStrength:F,handleFixStrengthMismatch:O}),k.error&&u.jsx(cG,{errorMessage:k.error.message,onHandleRetry:k.retry})]}),re=f.useMemo(()=>f.forwardRef(function(oe,ue){return u.jsx(su,{...oe,intent:"edit",params:{id:v==null?void 0:v._ref,type:T==null?void 0:T.name},target:"_blank",rel:"noopener noreferrer",ref:ue})}),[T==null?void 0:T.name,v==null?void 0:v._ref]),G=f.useMemo(()=>l?null:u.jsx(L,{flex:"none",children:u.jsx(Gt,{button:u.jsx(Si,{}),id:`${a}-menuButton`,menu:u.jsxs(Ot,{children:[!l&&u.jsxs(u.Fragment,{children:[u.jsx(He,{text:Z("inputs.reference.action.clear"),tone:"critical",icon:Jr,onClick:y}),u.jsx(He,{text:Z("inputs.reference.action.replace"),icon:n0,onClick:R})]}),!l&&(v==null?void 0:v._ref)&&u.jsx(fr,{}),(v==null?void 0:v._ref)&&u.jsx(He,{as:re,"data-as":"a",text:Z("inputs.reference.action.open-in-new-tab"),icon:Wc})]}),popover:oln})}),[y,R,a,re,l,Z,v==null?void 0:v._ref]),te=f.useCallback(oe=>{oe.target===t.current&&s.onPathFocus(rn)},[s]);return u.jsxs(u.Fragment,{children:[g&&e.actions&&e.actions.length>0&&u.jsx(uk,{actions:e.actions,documentId:g,documentType:n.name,onActions:m,path:r,schemaType:n}),u.jsx(lk,{actions:p,focused:!!e.inputProps.focused,path:r,children:u.jsx(I0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:p,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:W?u.jsx(L,{children:o}):u.jsx(ie,{border:!0,radius:2,padding:1,tone:H,children:u.jsxs(ne,{space:1,children:[u.jsx(z,{gap:1,align:"center",style:{lineHeight:0},children:u.jsxs(Ja,{children:[u.jsx(cIe,{__unstable_focusRing:!0,as:b,"data-pressed":j?!0:void 0,"data-selected":A?!0:void 0,documentId:v==null?void 0:v._ref,documentType:T==null?void 0:T.name,flex:1,pressed:j,radius:2,ref:t,selected:A,tone:"inherit",onFocus:te,children:u.jsx(lIe,{value:v,referenceInfo:k,renderPreview:d,type:n})}),u.jsx(L,{children:G})]})}),J]})})})})]})}function xIe(e,t){return ir(e.options,t)}const Wse=["array","file","image","reference","slug"],lln=["asset","crop","hotspot","_ref","_weak"],uln=["tags"],cln=["slug"];function hG(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?hG(e.type,t):[];return[e,...n]}function dln(e,t){return _s(e)?hln(e,t):fln(e,t)}function fln(e,t){var d;const{type:n,options:r}=e,i=wIe(n,Wse),a=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,o=(i==null?void 0:i.name)||"";if(cln.includes(o))return 0;const s=Wse.includes(o),l=((a==null?void 0:a.filter(h=>!lln.includes(h.name)).length)??0)>0,c=(((d=r==null?void 0:r.list)==null?void 0:d.length)??0)>0;return l||c||!s?t:0}function hln(e,t){var a;const{options:n}=e,r=((a=(n==null?void 0:n.list)||[])==null?void 0:a.length)>0,i=uln.includes((n==null?void 0:n.layout)||"");return r&&!i?t:0}function wIe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return wIe(e.type,t)}const Dj=[];function pln(e){return u.jsx(no,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function Gse(e){const[t,n]=f.useState(Dj),r=CR(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(uk,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(lk,{actions:t,focused:i,path:e.path,children:u.jsx(I0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":`field-${e.inputId}`,description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:u.jsx(no,{hasFocus:i,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function mln(e){const[t,n]=f.useState(Dj),r=CR(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(uk,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(lk,{actions:t,focused:i,path:e.path,children:u.jsx(vR,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":`field-${e.inputId}`,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function gln(e){const[t,n]=f.useState(Dj),r=CR(),i=!!e.inputProps.focused,a=e.inputProps.members.find(s=>s.kind==="field"&&s.name==="hotspot"),o=a!=null&&a.open?e.presence:e.presence.concat((a==null?void 0:a.field.presence)||Dj);return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(uk,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(lk,{actions:t,focused:i,path:e.path,children:u.jsx(vR,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:o,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function yln(e){var n;if((n=e.components)!=null&&n.field)return e.components.field;if(GS(e))return pln;const t=hG(e,new Set);return t.some(r=>r.name==="image"||r.name==="file")?gln:t.some(r=>N7(r))||t.some(r=>r.name==="slug")?Gse:t.some(r=>Gs(r))?sln:e.jsonType!=="object"&&e.jsonType!=="array"?Gse:mln}function CIe({children:e,workspace:t}){return u.jsx(Ghe.Provider,{value:t,children:e})}function Vr(){const e=f.useContext(Ghe);if(!e)throw new Error("Workspace: missing context value");return e}const SIe=0,$P={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:SIe}}};function vln({client:e}){const{projectId:t,dataset:n}=e.config();return e.observable.request({uri:`/projects/${t}/datasets/${n}/settings/indexing`,tag:"search.getPartialIndexSettings"})}const T5=new Map;function _R(e){var s,l,c,d,h;const t=(l=(s=Vr().search)==null?void 0:s.unstable_partialIndexing)==null?void 0:l.enabled,n=Xt(qt),r=f.useMemo(()=>e||n,[e,n]),i=f.useMemo(()=>r.config().dataset,[r]);t||T5.set(i,we($P.settings)),T5.has(i)||T5.set(i,vln({client:r}).pipe(la()));const a=f.useMemo(()=>T5.get(i).pipe(fe(p=>({isLoading:!1,settings:p})),Wi($P),kn(p=>(console.error(p),we({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:SIe}}})))),[i]),o=(h=(d=(c=ti(a,$P))==null?void 0:c.settings)==null?void 0:d.partialIndexSettings)==null?void 0:h.maxFieldDepth;return HSe(o)?Math.min(o,Mg):Mg}const bln=de`
  grid-template-columns: minmax(0px, 1fr);
`,xln=de`
  grid-template-columns: 1fr min-content;
`,wln=$(Gn)(e=>e.$narrow?bln:xln),Cln=f.forwardRef(function(e,t){const[n,r]=f.useState(null),i=f.useCallback(o=>{Sln(t,o),r(o)},[t]),a=_g(n);return u.jsx(wln,{ref:i,gap:1,$narrow:((a==null?void 0:a.width)||0)<480,children:e.children})});function Sln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Eln={display:"inline-flex"},kln={width:"100%"},_ln={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function Tln(e){const{createOptions:t,onCreate:n,id:r,menuRef:i,...a}=e,o=tr(),{t:s}=q(),l=dR(t);return t.some(c=>c.permission.granted)?t.length>1?u.jsx(Gt,{button:u.jsx(he,{...a,disabled:e.readOnly,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:wa,size:"large"}),id:r,menu:u.jsx(Ot,{ref:i,children:t.map(c=>u.jsx(bt,{disabled:c.permission.granted,content:u.jsx(Ql,{currentUser:o,context:"create-document-type"}),portal:!0,children:u.jsx("div",{children:u.jsx(He,{disabled:!c.permission.granted,icon:c.icon,text:l(c).title,onClick:()=>n(c)})})},c.id))}),popover:_ln}):u.jsx(he,{...a,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:wa,size:"large"}):u.jsx(bt,{content:u.jsx(Ql,{currentUser:o,context:"create-new-reference"}),children:u.jsx("div",{style:Eln,children:u.jsx(he,{text:s("inputs.reference.action.create-new-document"),mode:"ghost",disabled:!0,icon:wa,style:kln})})})}function Aln(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:i,result:a,error:o}=ER(n,t),{t:s}=q();if(i)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(ur,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(ur,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return u.jsx(ne,{space:2,padding:1,children:u.jsx(Ju,{title:s("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(N,{muted:!0,size:1,children:o.message})})});if(!a)return null;if(a.availability.reason==="PERMISSION_DENIED")return u.jsx(ne,{space:2,padding:1,children:s("inputs.reference.error.missing-read-permissions-description")});const l=e.type.to.find(c=>c.name===a.type);return l?a&&l&&u.jsx(sIe,{id:a.id,layout:"default",preview:a.preview,refType:l,renderPreview:r,showTypeLabel:e.type.to.length>1}):u.jsx(ne,{space:2,padding:1,children:s("inputs.reference.error.invalid-search-result-type-title",{returnedType:a.type})})}const jln=$(_n)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,Iln=$(N)`
  word-break: break-word;
`,Dln=["top-start","bottom-start"],Mln=f.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:a,...o}=e,{t:s}=q(),l=e.options&&e.options.length>0,c=f.useCallback(({content:d,hidden:h,inputElement:p,onMouseEnter:m,onMouseLeave:g},y)=>u.jsx(jln,{placement:"bottom-start",fallbackPlacements:Dln,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:u.jsx("div",{ref:y,children:l?d:u.jsx(L,{padding:4,children:u.jsx(z,{align:"center",height:"fill",justify:"center",children:u.jsx(Iln,{align:"center",muted:!0,children:u.jsx(gt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!h,ref:i,portal:!0,referenceElement:a||p,matchReferenceWidth:!0}),[l,s,n,r,i,a]);return u.jsx(xD,{...o,loading:r,ref:t,renderPopover:c})});function Rln(){return f.useContext(jhe)||{menuRef:{current:null},menuButtonRef:{current:null},containerRef:{current:null}}}const Yse={hits:[],isLoading:!1},Oln=()=>!0;function $ln(e){return e!==null}function Pln(e){var re,G,te,X,K,Q;const{createOptions:t,onChange:n,onEditReference:r,onSearch:i,schemaType:a,readOnly:o,id:s,onPathFocus:l,value:c,renderPreview:d,path:h,elementProps:p,focusPath:m}=e,{getReferenceInfo:g}=fG({path:h,schemaType:a,value:c}),[y,v]=f.useState(Yse),b=f.useCallback(ee=>{const se=Ka(),le=[Vo({}),ft(a.name,["_type"]),ft(se,["_ref"]),ft(!0,["_weak"]),ft({type:ee.type,weak:a.weak,template:ee.template},["_strengthenOnPublish"])].filter(ua);n(le),r({id:se,type:ee.type,template:ee.template}),l([])},[n,r,l,a]),x=f.useCallback(ee=>{if(!ee){n(vt()),l([]);return}const se=y.hits.find(oe=>oe.id===ee);if(!se)throw new Error("Selected an item that wasnt part of the result set");const le=[Vo({}),ft(a.name,["_type"]),ft(pn(ee),["_ref"]),se.published&&!a.weak?vt(["_weak"]):ft(!0,["_weak"]),se.published?vt(["_strengthenOnPublish"]):ft({type:se==null?void 0:se.type,weak:a.weak},["_strengthenOnPublish"])].filter(ua);n(le),l([])},[n,l,a.name,a.weak,y.hits]),w=f.useCallback(()=>{n(vt())},[n]),C=f.useCallback(ee=>{ee.key==="Escape"&&l([])},[l]),S=ER(c==null?void 0:c._ref,g),E=f.useRef(null),{push:k}=_r(),{t:_}=q(),T=UD(ee=>ee.pipe(Nt($ln),Ct(se=>ji(we({isLoading:!0}),i(se).pipe(fe(le=>({hits:le,searchString:se,isLoading:!1})),kn(le=>(k({title:_("inputs.reference.error.search-failed-title"),description:le.message,status:"error",id:`reference-search-fail-${s}`}),console.error(le),we({hits:[]})))))),Qs((se,le)=>({...se,...le}),Yse),Qn(v))),j=f.useCallback(()=>{T("")},[T]),A=f.useCallback(ee=>{ee.key==="Escape"&&l([])},[l]),I=f.useCallback(ee=>{var le,oe;const se=((le=ee.hit.draft)==null?void 0:le._id)||((oe=ee.hit.published)==null?void 0:oe._id)||ee.value;return u.jsx(cPn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:u.jsx(Aln,{getReferenceInfo:g,id:se,renderPreview:d,type:a})})},[a,g,d]),M=f.useCallback(()=>{var ee,se,le,oe;return((se=(ee=S.result)==null?void 0:ee.preview.draft)==null?void 0:se.title)||((oe=(le=S.result)==null?void 0:le.preview.published)==null?void 0:oe.title)||""},[(G=(re=S.result)==null?void 0:re.preview.draft)==null?void 0:G.title,(X=(te=S.result)==null?void 0:te.preview.published)==null?void 0:X.title]),D=f.useCallback(()=>l(["_ref"]),[l]),O=f.useCallback(ee=>{var se;(se=E.current)!=null&&se.contains(ee.relatedTarget)||e.elementProps.onBlur(ee)},[e.elementProps]),R=((Q=(K=S==null?void 0:S.result)==null?void 0:K.availability)==null?void 0:Q.reason)==="NOT_FOUND"&&!(c!=null&&c._strengthenOnPublish)&&(c==null?void 0:c._weak);jo((m==null?void 0:m[0])==="_ref",(ee,se)=>{var le;!ee&&se&&((le=p.ref.current)==null||le.focus())});const F=f.useMemo(()=>y.hits.map(ee=>({value:ee.id,hit:ee})),[y.hits]),P=m.length===1&&m[0]==="_ref",{menuRef:V,menuButtonRef:U,containerRef:H}=Rln(),W=f.useRef(null),Z=f.useRef(null),J=f.useRef(null);return xn(!(c!=null&&c._ref)&&(()=>{(P||document.activeElement===U.current)&&w()}),()=>[V.current,U.current,H.current,W.current,Z.current,J.current]),u.jsx(ne,{space:1,"data-testid":"reference-input",ref:W,children:u.jsxs(ne,{space:2,children:[R?u.jsx(Ju,{"data-testid":"alert-nonexistent-document",title:_("inputs.reference.error.nonexistent-document-title"),suffix:u.jsx(ne,{padding:2,children:u.jsx(he,{text:_("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:w})}),children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:_,values:{documentId:c._ref}})})}):null,u.jsxs(Cln,{ref:E,children:[u.jsx(Mln,{...p,onFocus:D,onBlur:O,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:E.current,options:F,radius:2,placeholder:_("inputs.reference.search-placeholder"),onKeyDown:C,readOnly:S.isLoading||o,onQueryChange:T,searchString:y.searchString,onChange:x,filterOption:Oln,renderOption:I,renderValue:M,openButton:{onClick:j},portalRef:Z,value:c==null?void 0:c._ref}),t.length>0&&u.jsx(Tln,{id:`${s}-selectTypeMenuButton`,readOnly:o,createOptions:t,onCreate:b,onKeyDown:A,menuRef:J})]})]})})}async function EIe(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),a=_v(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Fln(e){const t=f.useRef(e);return t.current=e,t}function Nln(e){var A,I,M,D;const t=Hn(),n=t.getClient(qt),r=tn(),i=_R(),a=da(),{path:o,schemaType:s}=e,{EditReferenceLinkComponent:l,onEditReference:c,activePath:d,initialValueTemplateItems:h}=oIe(),{enableLegacySearch:p=!1}=t.search,m=hk([]),g=Fln(m),y=(A=g.current)==null?void 0:A._type,v=r.get(y),b=f.useMemo(()=>v==null?void 0:v.liveEdit,[v]),x=((I=s.options)==null?void 0:I.disableNew)===!0,w=t.getClient,C=f.useCallback(O=>Br(EIe(s.options,g.current,o,w)).pipe(Mt(({filter:R,params:F})=>rln(n,O,s,{...s.options,filter:R,params:F,tag:"search.reference",maxFieldDepth:i},p)),kn(R=>{var P;const F=R.details&&R.details.type==="queryParseError";return(P=s.options)!=null&&P.filter&&F&&(R.message='Invalid reference filter, please check the custom "filter" option'),pp(R)})),[s,g,o,w,n,i,p]),S=(D=(M=e.value)==null?void 0:M._strengthenOnPublish)==null?void 0:D.template,E=f.useMemo(()=>f.forwardRef(function(O,R){return l?u.jsx(l,{...O,ref:R,parentRefPath:o,template:S}):null}),[l,o,S]),k=f.useCallback(O=>{c==null||c({parentRefPath:o,id:O.id,type:O.type,template:O.template})},[c,o]),_=Ha(o,(d==null?void 0:d.path)||[])?d==null?void 0:d.state:"none",T=f.useMemo(()=>x?[]:(h||[]).filter(O=>s.to.some(R=>{var F;return R.name===((F=O.template)==null?void 0:F.schemaType)})).map(O=>{var R,F,P;return(R=O.template)!=null&&R.schemaType?{id:O.id,title:O.title||`${O.template.schemaType} from template ${(F=O.template)==null?void 0:F.id}`,i18n:O.i18n,type:O.template.schemaType,icon:O.icon,template:{id:(P=O.template)==null?void 0:P.id,params:O.parameters},permission:{granted:O.granted,reason:O.reason}}:void 0}).filter(ua),[x,h,s.to]),j=f.useCallback((O,R)=>bIe(a,O,R),[a]);return u.jsx(Pln,{...e,onSearch:C,liveEdit:b,getReferenceInfo:j,selectedState:_,editReferenceLinkComponent:E,createOptions:T,onEditReference:k})}function Lln(e){return Af(e.schemaType)}function Bln(e){return iI(e.schemaType)}function Vln(e,t,n,r){const i={...e},a=r.y||0,o=r.x||0;return t.top+i.y<=n.top+a?i.y=n.top-t.top+a:t.bottom+i.y>=n.top+n.height-a&&(i.y=n.top+n.height-t.bottom-a),t.left+i.x<=n.left-o?i.x=n.left-t.left+o:t.right+i.x>=n.left+n.width+o&&(i.x=n.left+n.width-t.right+o),i}const zln=e=>({containerNodeRect:t,draggingNodeRect:n,transform:r})=>!n||!t?r:Vln(r,n,t,e),pG="moving",kIe=$(L)`
  ${e=>e.$moving&&de`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `}
`,Uln={threshold:{x:0,y:.02}},Hln={coordinateGetter:eAt},Wln={duration:200,easing:"ease"};function Gln(e){return e==="x"?PTt:FTt}function Yln(e){return e==="x"?VTt:UTt}const qln=f.memo(function(e){const{items:t,axis:n,onItemMove:r,onItemMoveStart:i,onItemMoveEnd:a,children:o,...s}=e,l=__t(qee(zU),qee(BU,Hln)),c=f.useCallback(h=>{var g,y,v,b;const{active:p,over:m}=h;p.id!==(m==null?void 0:m.id)&&(r==null||r({fromIndex:(y=(g=p.data.current)==null?void 0:g.sortable)==null?void 0:y.index,toIndex:(b=(v=m==null?void 0:m.data.current)==null?void 0:v.sortable)==null?void 0:b.index})),a==null||a()},[r,a]),d=f.useMemo(()=>[zln({y:4}),...n?[Gln(n)]:[]],[n]);return u.jsx(ATt,{sensors:l,autoScroll:Uln,modifiers:d,collisionDetection:A_t,onDragEnd:c,onDragStart:i,children:u.jsx(WTt,{items:t,strategy:n?Yln(n):void 0,children:u.jsx(Gn,{...s,children:o})})})}),Kln=f.forwardRef(function(e,t){const{id:n,children:r,disableTransition:i}=e,{setNodeRef:a,transform:o,transition:s,active:l}=jke({id:n,transition:i?null:Wln}),c=n===(l==null?void 0:l.id),d=f.useMemo(()=>({transform:JC.Translate.toString(o),transition:s,pointerEvents:l?"none":void 0}),[o,s,l]),h=f.useCallback(p=>{a(p),typeof t=="function"?t(p):t&&(t.current=p)},[t,a]);return u.jsx(kIe,{ref:h,style:d,$moving:c,className:c?pG:"","data-index":e["data-index"],children:r})});function mG(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:i,...a}=e,o=f.useCallback(s=>{t==null||t(s)},[t]);return i?u.jsx(qln,{onItemMove:o,onItemMoveStart:r,onItemMoveEnd:n,...a}):u.jsx(Gn,{...a})}const gG=f.forwardRef(function(e,t){const{sortable:n,...r}=e;return u.jsx(Phe.Provider,{value:e.id,children:n?u.jsx(Kln,{ref:t,...r}):u.jsx(kIe,{ref:t,...r})})});function yG(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function TR(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&yG(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}function _Ie(e){return $(e)(t=>{const{$border:n,$radius:r}=t,{card:i,color:a,radius:o}=Te(t.theme),s={width:n?1:0,color:"var(--card-border-color)"};return de`
        --card-focus-box-shadow: ${yG(s)};

        border-radius: ${Ce(o[r??1])};
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: ${TR({border:s,base:a,focusRing:{...i.focusRing,offset:0}})};
        }
      `})}function TIe(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):AIe(Array.from(e.items||[])).then(pr)}function Zln(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):AIe(n).then(pr)}function qse(e){return e===null?[]:[e]}function AIe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return qse(t.getAsFile())}return n?n.isDirectory?jIe(n):qse(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function jIe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(jIe)).then(pr))}return Promise.resolve([])}function Xln(e){return e.type==="application/portable-text"}function Jln(e,t="image/jpeg",n=1){return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,i)=>{const a=new Image;a.crossOrigin="anonymous",a.referrerPolicy="strict-origin-when-cross-origin",a.onload=()=>{var s;const o=document.createElement("canvas");o.width=a.width,o.height=a.height,(s=o.getContext("2d"))==null||s.drawImage(a,0,0,o.width,o.height);try{o.toBlob(r,t,n)}catch(l){i(l)}},a.src=e})}const Qln="isFileTarget",eun={"data-is-file-target":"true"},tun=e=>{var t;return((t=e==null?void 0:e.dataset)==null?void 0:t[Qln])==="true"},nun={opacity:0,position:"absolute"};function IIe(e){return f.forwardRef(function(t,n){const{onFiles:r,onFilesOver:i,onFilesOut:a,disabled:o,...s}=t,[l,c]=f.useState(!1),d=f.useRef(null),h=f.useRef(null);f.useImperativeHandle(n,()=>h.current);const p=f.useRef([]),m=f.useCallback(S=>{r==null||r(S)},[r]),g=f.useCallback(S=>{S.target===h.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&c(!0)},[]),y=f.useCallback(S=>{TIe(S.clipboardData).then(E=>d.current?E.length>0?E:run(d.current,"image/jpeg"):[]).then(E=>{var k;m(E),c(!1),(k=h.current)==null||k.focus()})},[m]),v=f.useCallback(S=>{p.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;r&&E&&Zln(E).then(k=>{k&&m(k)}),a==null||a()},[m,r,a]),b=f.useCallback(S=>{r&&(S.preventDefault(),S.stopPropagation())},[r]),x=f.useCallback(S=>{const E=Array.from(S.dataTransfer.items).map(k=>({type:k.type,kind:k.kind}));E.some(k=>Xln(k))||(S.stopPropagation(),i&&h.current===S.currentTarget&&(p.current=[...new Set(p.current),S.currentTarget],i(E)))},[i]),w=f.useCallback(S=>{S.stopPropagation();const E=p.current.indexOf(S.currentTarget);E>-1&&p.current.splice(E,1),p.current.length===0&&(a==null||a())},[a]),C=f.useRef(!1);return f.useEffect(()=>{var S;!C.current&&l&&d.current?(d.current.focus(),iun(d.current)):C.current&&!l&&((S=d.current)==null||S.focus()),C.current=l},[l]),u.jsxs(u.Fragment,{children:[u.jsx(e,{...s,ref:h,onKeyDown:o?void 0:g,onDragOver:o?void 0:b,onDragEnter:o?void 0:x,onDragLeave:o?void 0:w,onDrop:o?void 0:v,"data-test-id":"file-target",...eun}),!o&&l&&u.jsx("div",{contentEditable:!0,onPaste:y,ref:d,style:nun})]})})}function run(e,t="image/jpeg"){return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Jln(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error(`Expected element to be contentEditable="true". Instead found a non contenteditable ${e.tagName}`))}function iun(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function aun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,i=t.filter(l=>n.some(c=>r(c,l))),a=t.length-i.length,o=n.length>1,{t:s}=q();return u.jsx(u.Fragment,{children:i.length>0?u.jsxs(u.Fragment,{children:[u.jsxs(Rn,{space:2,children:[u.jsx(N,{children:u.jsx(QS,{})}),o?s("inputs.files.common.drop-message.drop-to-upload-multi",{count:i.length}):s("inputs.files.common.drop-message.drop-to-upload"),u.jsx(N,{})]}),a>0&&u.jsx(L,{marginTop:4,children:u.jsxs(Rn,{space:2,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(sf,{})}),u.jsx(N,{muted:!0,size:1,children:s("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:a})})]})})]}):u.jsxs(Rn,{space:2,children:[u.jsx(N,{children:u.jsx(sf,{})}),u.jsx(N,{children:s("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:t.length})})]})})}const oun=$(qo)`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`,sun=$.div`
  position: relative;
`;function lun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function uun(e){const t=IIe(e);return f.forwardRef(function(n,r){const{children:i,resolveUploader:a,onUpload:o,types:s,...l}=n,{push:c}=_r(),{t:d}=q(),h=f.useCallback((v,b)=>{const{type:x,uploader:w}=b;o==null||o({file:v,schemaType:x,uploader:w})},[o]),p=f.useCallback(v=>{if(!a)return;const b=v.map(C=>({file:C,uploaderCandidates:lun(s,a,C)})),x=b.filter(C=>C.uploaderCandidates.length>0),w=b.filter(C=>C.uploaderCandidates.length===0);w.length>0&&c({closable:!0,status:"warning",title:d("inputs.array.error.cannot-upload-unable-to-convert",{count:w.length}),description:w.map((C,S)=>u.jsxs(z,{gap:2,padding:2,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:C.file.name})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:["(",C.file.type,")"]})})]},S))}),x.forEach(C=>{h(C.file,Bp(C.uploaderCandidates,S=>S.uploader.priority)[0])})},[c,a,s,h,d]),[m,g]=f.useState([]),y=f.useCallback(()=>g([]),[]);return u.jsx(sun,{children:u.jsxs(t,{...l,ref:r,onFiles:p,onFilesOver:g,onFilesOut:y,children:[a&&m.length>0&&u.jsx(oun,{zOffset:10,children:u.jsx(aun,{hoveringFiles:m,types:s,resolveUploader:a})}),i]})})})}const cun=$(ie)`
  height: 100%;
`,AR=_Ie(uun(cun));function dun(e,t){return t.type==="toggle"?{open:!e.open}:{open:!1}}function y6(e){const[t,n]=f.useReducer(dun,{open:!1}),r=f.useRef(null),i=e.popoverProps.referenceElement??null;xn(()=>n({type:"close"}),()=>[r.current,i]),Yo(f.useCallback(l=>{l.key==="Escape"&&t.open&&(n({type:"close"}),i==null||i.focus())},[t,i]));const{onSelect:a,...o}=e.insertMenuProps,s=f.useCallback(l=>{a(l),n({type:"close"})},[a]);return{popover:f.useMemo(()=>u.jsx(_n,{ref:r,open:t.open,constrainSize:!0,overflow:"hidden",portal:!0,content:u.jsx(fun,{...o,onSelect:s}),...e.popoverProps}),[s,o,e.popoverProps,t]),state:t,send:n}}function fun(e){const{t}=q();return u.jsx(ien,{...e,labels:{"insert-menu.filter.all-items":t("inputs.array.insert-menu.filter.all-items"),"insert-menu.search.no-results":t("inputs.array.insert-menu.search.no-results"),"insert-menu.search.placeholder":t("inputs.array.insert-menu.search.placeholder"),"insert-menu.toggle-grid-view.tooltip":t("inputs.array.insert-menu.toggle-grid-view.tooltip"),"insert-menu.toggle-list-view.tooltip":t("inputs.array.insert-menu.toggle-list-view.tooltip")}})}function vG(e){var v,b,x,w;const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:a}=e,{t:o}=q(),[s,l]=f.useState(null),[c,d]=f.useState(null),h=f.useCallback(C=>{const S=i(C);a(S)},[i,a]),p=f.useCallback(()=>{h(t.of[0])},[t,h]),m=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item",g={icon:wa,mode:"ghost",size:"large",text:o(m)},y=y6({insertMenuProps:{...(v=e.schemaType.options)==null?void 0:v.insertMenu,schemaTypes:e.schemaType.of,onSelect:h},popoverProps:{placement:"bottom",fallbackPlacements:["top"],matchReferenceWidth:(w=(x=(b=e.schemaType.options)==null?void 0:b.insertMenu)==null?void 0:x.views)==null?void 0:w.some(C=>C.name==="grid"),referenceBoundary:s,referenceElement:c}});return n?u.jsx(bt,{portal:!0,content:o("inputs.array.read-only-label"),children:u.jsx(Gn,{children:u.jsx(he,{...g,"data-testid":"add-read-object-button",disabled:!0})})}):u.jsxs(Gn,{ref:l,gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?u.jsx(he,{...g,onClick:p,"data-testid":"add-single-object-button"}):u.jsxs(u.Fragment,{children:[u.jsx(he,{...g,"data-testid":"add-multiple-object-button",selected:y.state.open,onClick:()=>{y.send({type:"toggle"})},ref:d}),y.popover]}),r]})}const hun=$(he)(e=>{const{$grid:t,disabled:n}=e;return n?de``:de`
    cursor: ${t?"move":"ns-resize"};
  `}),DIe=function(e){const t=f.useContext(Phe),{mode:n="bleed",readOnly:r,...i}=e,{listeners:a,attributes:o}=jke({id:t,disabled:r}),{t:s}=q();return u.jsx(hun,{icon:g9,tooltipProps:{content:s("inputs.array.action.drag.tooltip"),delay:{open:1e3},disabled:!!r},mode:n,"data-ui":"DragHandleButton",...i,...o,...a,disabled:r})},pun=$(z)`
  min-height: 33px;
`,mun=$(z)`
  position: absolute;
  top: 0;
  right: 0;
  height: 33px;
`,v6=$(ie)`
  position: absolute;
  top: 0;
  left: 0;
`,gun=$(ie)`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    ${v6} {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      ${v6} {
        opacity: 1;
      }
    }
  }

  .${pG} & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function MIe(e){const{validation:t,selected:n,tone:r,presence:i,children:a,dragHandle:o,menu:s,footer:l,readOnly:c,...d}=e;return u.jsxs(gun,{forwardedAs:z,direction:"column",border:!0,selected:n,"aria-selected":n,radius:1,tone:r,...d,children:[a,o&&u.jsx(v6,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:u.jsx(DIe,{$grid:!0,mode:"ghost",readOnly:!!c})}),i&&u.jsx(mun,{align:"center",marginX:1,children:i}),u.jsxs(pun,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[u.jsx(z,{children:t}),u.jsx(L,{children:l}),s]})]})}const yun=$(ie)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function vun(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=q();xn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=Cs(t);return u.jsx(_n,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(yun,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),u.jsx(N,{size:1,children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(ZS,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(ie,{padding:2,overflow:"auto",border:!0,children:u.jsx(mi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ie,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(ne,{space:4,marginTop:2,children:[u.jsx(L,{margin:1,children:u.jsx(N,{align:"center",size:4,children:u.jsx(Fl,{})})}),u.jsx(N,{align:"center",size:1,children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})]})})})}const bun={portal:!0,tone:"default"};function xun(e){const{member:t,sortable:n,readOnly:r}=e,i=f.useId(),{onChange:a}=uu(),{t:o}=q(),s=f.useCallback(()=>{a(Dt.from([vt([{_key:t.key}])]))},[a,t.key]);return u.jsx(MIe,{dragHandle:n,readOnly:r,tone:"caution",style:{height:"100%"},menu:u.jsx(Gt,{button:u.jsx(Si,{}),id:`${i}-menuButton`,menu:u.jsx(Ot,{children:u.jsx(He,{text:o("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Jr,onClick:s})}),popover:bun}),children:t.error.type==="INVALID_ITEM_TYPE"?u.jsx(vun,{value:t.error.value,vertical:!0}):u.jsx("div",{children:o("inputs.array.error.unexpected-error",{error:t.error.type})})})}function bG(e=[]){return e.reduce((t,n,r)=>{const i=typeof n;if(i==="number")return`${t}[${n}]`;if(i==="string")return`${t}${r===0?"":"."}${n}`;if($u(n))return`${t}[_key=="${n._key}"]`;throw new Error(`Unsupported path segment "${n}"`)},"")}function wun(e){return e!==null||e!==void 0}function Mj(e,t,n){if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(a=>Mj(a,t,n)).filter(wun);if(typeof e=="string")return Mj({message:e},t,n);if(typeof e.message!="string")throw new Error(`${bG(n.path)}: Validator must return 'true' if valid or an error message as a string on errors`);const{message:r}=e,i=[];e.path&&i.push(e.path);for(const a of e.paths||[])i.push(a);return i.length?i.map(a=>({path:(n.path||[]).concat(a),level:t||"error",item:{message:r},message:r})):[{level:t||"error",item:{message:r},message:r,path:n.path||[]}]}function Cun(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function RIe(e,t){const{currentLocale:n}=t,r=n.id;if(e[r])return e[r];if(r.includes("-")){const i=r.split("-",1)[0];if(e[i])return e[i]}return e["en-US"]||e["en-GB"]||e.en||"Unknown validation error (not localized)"}function OIe(e){return e!==!0&&typeof e<"u"&&typeof e!="string"&&mr(e)&&!("message"in e)}function bS(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!bS(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const i=n[r];if(i!=="_key"&&!bS(e[i],t[i]))return!1}return!0}return!1}const Sun={}.toString,Kse=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Eun(e){for(let t=0;t<Kse.length;t++)if(Kse[t]===e)return!0;return!1}function $Ie(e){const t=Sun.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Eun(n)?n.name:t}const Zse=5e3,Xse=e=>{var t;return e.message?e.message:e.results.length===1?(t=e.results[0])==null?void 0:t.message:e.i18n.t("{{messages, list}}",{messages:e.results.map(n=>{var r;return n.message||((r=n.item)==null?void 0:r.message)}),formatParams:{messages:{style:"long",type:e.operation}}})},M0={type:(e,t,n,{i18n:r})=>{const i=$Ie(t);return i!==e&&i!=="undefined"?n||r.t("validation:generic.incorrect-type",{actualType:i,expectedType:e}):!0},presence:(e,t,n,{i18n:r})=>t===void 0&&e==="required"?n||r.t("validation:generic.required"):!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(a=>a.validate(t,r)))).flat();return i.length===0?!0:Xse({message:n,results:i,operation:"conjunction",i18n:r.i18n})},either:async(e,t,n,r)=>{const i=await Promise.all(e.map(o=>o.validate(t,r))),a=i.flat();return i.find(o=>!o.length)?!0:Xse({message:n,results:a,operation:"disjunction",i18n:r.i18n})},valid:(e,t,n,{i18n:r})=>{const i=typeof t;if(i==="undefined")return!0;const a=(i==="number"||i==="string")&&`${t}`,o=a&&a.length>30?`${a.slice(0,30)}`:a;return e.some(s=>bS(s,t))?!0:n||r.t("validation:generic.not-allowed",a?{context:"hint",replace:{hint:o}}:{})},custom:async(e,t,n,r)=>{const i=setTimeout(()=>{r.environment==="studio"&&console.warn(`Custom validator at ${bG(r.path)} has taken more than ${Zse}ms to respond`)},Zse);let a;try{a=await e(t,r)}finally{clearTimeout(i)}return OIe(a)?RIe(a,r.i18n):typeof a=="string"&&n||a}},kun={...M0,min:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length>=e)return!0;const a=zm(i)?"blocks":void 0;return n||r.t("validation:array.minimum-length",{minLength:e,context:a})},max:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length<=e)return!0;const a=zm(i)?"blocks":void 0;return n||r.t("validation:array.maximum-length",{maxLength:e,context:a})},length:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length===e)return!0;const a=zm(i)?"blocks":void 0;return n||r.t("validation:array.exact-length",{wantedLength:e,context:a})},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"array"}):!0,valid:(e,t,n,{i18n:r})=>{if(typeof t>"u")return!0;const i=[];for(let o=0;o<t.length;o++){const s=t[o];if(e.some(c=>bS(c,s)))continue;const l=s&&s._key?{_key:s._key}:o;i.push([l])}const a=n||r.t("validation:generic.not-allowed");return i.map(o=>({message:a,path:o}))},unique:(e,t,n,{i18n:r})=>{const i=[];if(!t)return!0;for(let s=0;s<t.length;s++)for(let l=s+1;l<t.length;l++){const c=t[s],d=t[l];bS(c,d)&&(i.indexOf(s)===-1&&i.push(s),i.indexOf(l)===-1&&i.push(l))}const a=i.map(s=>{const l=t[s];return[l&&l._key?{_key:l._key}:s]}),o=n||r.t("validation:array.item-duplicate");return a.map(s=>({message:o,path:s}))}},_un={...M0,presence:(e,t,n,{i18n:r})=>e==="required"&&typeof t!="boolean"?n||r.t("validation:generic.required",{context:"boolean"}):!0};function Jse(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Tun=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Qse=(e="",t,n)=>{const r=(n==null?void 0:n.dateFormat)||Vp,i=(n==null?void 0:n.timeFormat)||Jz;return cb(t,e==="date"?r:`${r} ${i}`,e==="date")};function A5(e,t=!1){if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error(`Unable to parse "${e}" to a date`);return r?null:n}const Aun={...M0,type:(e,t,n,{i18n:r})=>typeof t>"u"||Tun.test(`${t}`)?!0:n||r.t("validation:date.invalid-format"),min:(e,t,n,{type:r,i18n:i})=>{const a=A5(t),o=A5(e,!0);if(!a||!t||a>=o)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=Jse(r.options)?r.options:{};return n||i.t("validation:date.minimum",{minDate:Qse(r.name,o,s),providedMinDate:e})},max:(e,t,n,{type:r,i18n:i})=>{const a=A5(t),o=A5(e,!0);if(!a||!t||a<=o)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=Jse(r.options)?r.options:{};return n||i.t("validation:date.maximum",{maxDate:Qse(r.name,o,s),providedMaxDate:e})}},jun=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Iun={...M0,integer:(e,t,n,{i18n:r})=>Number.isInteger(t)?!0:n||r.t("validation:number.non-integer"),precision:(e,t,n,{i18n:r})=>{if(t===void 0)return!0;const i=t.toString().match(jun);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)>e?n||r.t("validation:number.maximum-precision",{limit:e}):!0},min:(e,t,n,{i18n:r})=>t>=e?!0:n||r.t("validation:number.minimum",{minNumber:e}),max:(e,t,n,{i18n:r})=>t<=e?!0:n||r.t("validation:number.maximum",{maxNumber:e}),greaterThan:(e,t,n,{i18n:r})=>t>e?!0:n||r.t("validation:number.greater-than",{threshold:e}),lessThan:(e,t,n,{i18n:r})=>t<e?!0:n||r.t("validation:number.less-than",{threshold:e})},Dun=["_key","_type","_weak"],Mun={...M0,presence:(e,t,n,{i18n:r})=>{if(e!=="required")return!0;const i=t&&Object.keys(t).filter(a=>!Dun.includes(a));return t===void 0||i&&i.length===0?n||r.t("validation:generic.required",{context:"object"}):!0},reference:async(e,t,n,r)=>{if(!t)return!0;const{type:i,getDocumentExists:a,i18n:o}=r;if(!Us(t))return n||o.t("validation:object.not-reference");if(!i)throw new Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!a)throw new Error("`getDocumentExists` was not provided in validation context");return await a({id:t._ref})?!0:o.t("validation:object.reference-not-published",{documentId:t._ref})},assetRequired:(e,t,n,{i18n:r})=>!t||!t.asset||!t.asset._ref?n||r.t("validation:object.asset-required",{context:e.assetType||""}):!0},PP="http://sanity",Run=e=>/^\.*\//.test(e),Oun=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$un={...M0,min:(e,t,n,{i18n:r})=>!t||t.length>=e?!0:n||r.t("validation:string.minimum-length",{minLength:e}),max:(e,t,n,{i18n:r})=>!t||t.length<=e?!0:n||r.t("validation:string.maximum-length",{maxLength:e}),length:(e,t,n,{i18n:r})=>(t||"").length===e?!0:n||r.t("validation:string.exact-length",{wantedLength:e}),uri:(e,t,n,{i18n:r})=>{const i=t||"";if(!i)return!0;const{options:a}=e,{allowCredentials:o,relativeOnly:s}=a,l=a.allowRelative||s;let c;try{c=l?new URL(i,PP):new URL(i)}catch{return n||r.t("validation:string.url.invalid")}if(s&&c.origin!==PP)return n||r.t("validation:string.url.not-relative");if(!l&&c.origin===PP&&Run(i))return n||r.t("validation:string.url.not-absolute");if(!o&&(c.username||c.password))return n||r.t("validation:string.url.includes-credentials");const d=c.protocol.replace(/:$/,"");return a.scheme.some(h=>h.test(d))?!0:n||r.t("validation:string.url.disallowed-scheme",{scheme:d})},stringCasing:(e,t,n,{i18n:r})=>{const i=t||"";return e==="uppercase"&&i!==i.toLocaleUpperCase()?n||r.t("validation:string.uppercase"):e==="lowercase"&&i!==i.toLocaleLowerCase()?n||r.t("validation:string.lowercase"):!0},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"string"}):!0,regex:(e,t,n,{i18n:r})=>{const{pattern:i,name:a,invert:o}=e,s=a||`${i.toString()}`,l=t||"";i.lastIndex=0;const c=i.test(l);return!o&&!c||o&&c?n||(o?r.t("validation:string.regex-match",{name:s}):r.t("validation:string.regex-does-not-match",{name:s})):!0},email:(e,t,n,{i18n:r})=>{const i=`${t||""}`.trim();return!i||Oun.test(i)?!0:n||r.t("validation:string.email")}},Pun={Boolean:_un,Number:Iun,String:$un,Array:kun,Object:Mun,Date:Aun},PIe=e=>e&&e.type?PIe(e.type):e,Fun=e=>typeof e!="object"||!e?!1:e.type===FIe.FIELD_REF,Nun=[],ele=Symbol("FIELD_REF"),Lun=["Array","Boolean","Date","Number","Object","String"];var Ni;const FIe=(Ni=class{constructor(t){Y(this,"_type");Y(this,"_level");Y(this,"_required");Y(this,"_typeDef");Y(this,"_message");Y(this,"_rules",[]);Y(this,"_fieldRules");Y(this,"valueOfField",Ni.valueOfField.bind(Ni));this._typeDef=t,this.reset()}_mergeRequired(t){if(this._required==="required"||t._required==="required")return"required";if(this._required==="optional"||t._required==="optional")return"optional"}error(t){const n=this.clone();return n._level="error",n._message=t||void 0,n}warning(t){const n=this.clone();return n._level="warning",n._message=t||void 0,n}info(t){const n=this.clone();return n._level="info",n._message=t||void 0,n}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(t=>t.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const t=new Ni;return t._type=this._type,t._message=this._message,t._required=this._required,t._rules=Dqt(this._rules),t._level=this._level,t._fieldRules=this._fieldRules,t._typeDef=this._typeDef,t}cloneWithRules(t){const n=this.clone(),r=new Set;return t.forEach(i=>{i.flag==="type"&&(n._type=i.constraint),r.add(i.flag)}),n._rules=n._rules.filter(i=>{const a=["type","uri","email"].includes(i.flag),o=r.has(i.flag);return!(a&&o)}).concat(t),n}merge(t){if(this._type&&t._type&&this._type!==t._type)throw new Error("merge() failed: conflicting types");const n=this.cloneWithRules(t._rules);return n._type=this._type||t._type,n._message=this._message||t._message,n._required=this._mergeRequired(t),n._level=this._level==="error"?t._level:this._level,n}type(t){const n=`${t.slice(0,1).toUpperCase()}${t.slice(1)}`;if(!Lun.includes(n))throw new Error(`Unknown type "${t}"`);const r=this.cloneWithRules([{flag:"type",constraint:n}]);return r._type=n,r}all(t){return this.cloneWithRules([{flag:"all",constraint:t}])}either(t){return this.cloneWithRules([{flag:"either",constraint:t}])}optional(){const t=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return t._required="optional",t}required(){const t=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return t._required="required",t}custom(t,n={}){return n.bypassConcurrencyLimit&&Object.assign(t,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:t}])}min(t){return this.cloneWithRules([{flag:"min",constraint:t}])}max(t){return this.cloneWithRules([{flag:"max",constraint:t}])}length(t){return this.cloneWithRules([{flag:"length",constraint:t}])}valid(t){const n=Array.isArray(t)?t:[t];return this.cloneWithRules([{flag:"valid",constraint:n}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(t){return this.cloneWithRules([{flag:"precision",constraint:t}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(t){return this.cloneWithRules([{flag:"greaterThan",constraint:t}])}lessThan(t){return this.cloneWithRules([{flag:"lessThan",constraint:t}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(t,n,r){const i=typeof n=="string"?n:(n==null?void 0:n.name)??(r==null?void 0:r.name),a=typeof n=="string"?!1:(n==null?void 0:n.invert)??(r==null?void 0:r.invert),o={pattern:t,name:i,invert:a||!1};return this.cloneWithRules([{flag:"regex",constraint:o}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(t){const n=(t==null?void 0:t.scheme)||["http","https"],r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("scheme must have at least 1 scheme specified");const i={options:{scheme:r.map(a=>{if(!(a instanceof RegExp)&&typeof a!="string")throw new Error("scheme must be a RegExp or a String");return typeof a=="string"?new RegExp(`^${Cun(a)}$`):a}),allowRelative:(t==null?void 0:t.allowRelative)||!1,relativeOnly:(t==null?void 0:t.relativeOnly)||!1,allowCredentials:(t==null?void 0:t.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:i}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(t){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const n=this.cloneWithRules([]);return n._fieldRules=t,n}assetRequired(){const t=PIe(this._typeDef);let n;return t&&["image","file"].includes(t.name)?n=t.name==="image"?"image":"file":n="asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:n}}])}async validate(t,{__internal:n={},...r}){const{customValidationConcurrencyLimiter:i}=n,a=t==null;if(a&&this._required==="optional")return Nun;const o=this._required===void 0&&a?this._rules.filter(l=>l.flag==="custom"):this._rules,s=this._type&&Pun[this._type]||M0;return(await Promise.all(o.map(async l=>{if(l.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const c=s[l.flag];if(!c){const p=this._type?`type "${this._type}"`:"rule without declared type";throw new Error(`Validator for flag "${l.flag}" not found for ${p}`)}let d="constraint"in l?l.constraint:null;if(Fun(d)&&(d=ir(r.parent,d.path)),l.flag==="custom"&&i&&!(d!=null&&d.bypassConcurrencyLimit)){const p=d;d=async(...m)=>{await i.ready();try{return await p(...m)}finally{i.release()}}}const h=OIe(this._message)?RIe(this._message,r.i18n):this._message;try{const p=await c(d,t,h,r);return Mj(p,this._level,r)}catch(p){const m=`${bG(r.path)}: Exception occurred while validating value: ${p.message}`;return Mj({message:m},"error",r)}}))).flat()}},Y(Ni,"FIELD_REF",ele),Y(Ni,"array",t=>new Ni(t).type("Array")),Y(Ni,"object",t=>new Ni(t).type("Object")),Y(Ni,"string",t=>new Ni(t).type("String")),Y(Ni,"number",t=>new Ni(t).type("Number")),Y(Ni,"boolean",t=>new Ni(t).type("Boolean")),Y(Ni,"dateTime",t=>new Ni(t).type("Date")),Y(Ni,"valueOfField",t=>({type:ele,path:t})),Ni),Bun=AD(zun);function Vun(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:`drafts.${e}`}}function tle(e){return e.reduce((t,n,r)=>{const i=typeof n=="number",a=$u(n),o=i||a?"[]":`${r===0?"":"."}${n}`;return`${t}${o}`},"")}const nle=(e,t)=>{const{getClient:n,document:r,path:i,type:a}=t,o=a==null?void 0:a.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!i)throw new Error("`path` was not provided in validation context.");const s=(o==null?void 0:o.disableArrayWarning)||!1,{published:l,draft:c}=Vun(r._id),d=r._type,h=tle(i.concat("current"));!s&&h.includes("[]")&&t.environment==="studio"&&Bun(tle(i));const p=["_type == $docType","!(_id in [$draft, $published])",`${h} == $slug`].join(" && ");return n({apiVersion:"2023-11-13"}).fetch(`!defined(*[${p}][0]._id)`,{docType:d,draft:c,published:l,slug:e},{tag:"validation.slug-is-unique"})};function zun(e){console.warn([`Slug field at path ${e} is within an array and cannot be automatically checked for uniqueness`,'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const Uun=async(e,t)=>{var a,o;if(!e)return!0;const{i18n:n}=t;if(typeof e!="object"||Array.isArray(e))return n.t("validation:slug.not-object");if(!pFe(e)||e.current.trim().length===0)return n.t("validation:slug.missing-current");const r=((o=(a=t==null?void 0:t.type)==null?void 0:a.options)==null?void 0:o.isUnique)||nle,i={...t,parent:t.parent,type:t.type,defaultIsUnique:nle};return await r(e.current,i)?!0:n.t("validation:slug.not-unique",{slug:e.current})},Hun={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Wun=e=>e in Hun;function xG(e,t=new Set){return e?t.has(e)?[]:(t.add(e),[...e.type?xG(e.type,t):[],e]):[]}function Gun(e,t){let n=e;Wun(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(i=>Yun(i,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(Uun,{bypassConcurrencyLimit:!0}):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function NIe(e){return e?!("fields"in e)&&e.type?NIe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function Yun(e,t){return t.jsonType==="object"&&NIe(t)||e.value===void 0?e:e.value}function xS(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>xS({...e,validation:r}));if(t&&typeof t=="object")return[t];const n=Object.values(xG(e).reduce((r,i)=>(r[i.name]=i,r),{})).reduce(Gun,new FIe(e));return t?xS({...e,validation:t(n)}):[n]}function qun(e){return Q_(e,new Set),e}function Q_(e,t){if(!t.has(e)){if(t.add(e),e.validation=xS(e),"fields"in e)for(const n of e.fields)Q_(n.type,t);if("of"in e)for(const n of e.of)Q_(n,t);if(e.annotations)for(const n of e.annotations)Q_(n,t)}}function Kun(e){return e.getTypeNames().forEach(t=>{const n=e.get(t);n&&qun(n)}),e}const Zun=typeof window>"u"||typeof document>"u",Xun=[Dl],Jun=AD(function(){const e=Qun();return e.init(),{currentLocale:Dl,locales:Xun,loadNamespaces:e.loadNamespaces,t:e.t}});function Qun(){var r;const e={[Dl.id]:{}},t=((r=pje.bundles)==null?void 0:r.filter(hnn))||[],n=new Set;for(const i of t)e[Dl.id][i.namespace]=i.resources,n.add(i.namespace);return Z5e({ns:Array.from(n),defaultNS:hv,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:Dl.id,lng:Dl.id,supportedLngs:[Dl.id],debug:!1,load:"currentOnly",resources:e,interpolation:{escapeValue:Zun}})}const ecn=function(e,t){const n=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-n)}})},0)},tcn=function(e){return window.clearTimeout(e)},xy=typeof window>"u"?void 0:window,ncn=(xy==null?void 0:xy.requestIdleCallback)||ecn,rcn=(xy==null?void 0:xy.cancelIdleCallback)||tcn,icn=e=>t=>{var r;if(typeof t!="object"||!t)return!0;const n=new Set((r=e.fields)==null?void 0:r.map(i=>i.name));return Object.keys(t).filter(i=>!i.startsWith("_")).filter(i=>!n.has(i)).map(i=>({message:`Field '${i}' does not exist on type '${e.name}'`,path:[i]}))},acn=5,rle=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),ocn=e=>e!=null;function scn(e,t){if(t.length===1)return t[0];const n=Gh(e)&&e._type,r=e==null||!n&&$Ie(e).toLowerCase();return r&&r!=="object"?t.find(i=>i.jsonType===r):t.find(i=>{var a;return((a=i.type)==null?void 0:a.name)===n})||t.find(i=>i.name===n)||t.find(i=>i.name==="object"&&r==="object")}const ile=new WeakMap;function lcn({document:e,getClient:t,i18n:n=Jun(),schema:r,getDocumentExists:i,environment:a,maxCustomValidationConcurrency:o}){if(typeof(e==null?void 0:e._type)!="string")throw new Error("Tried to validated a value without a '_type'");const s=r.get(e._type);if(!s)return a==="studio"?(console.warn('Schema type for object type "%s" not found, skipping validation',e._type),we([])):we([{level:"warning",message:`Could not find schema type for type '${e._type}', skipping validation`,path:[]}]);let l=ile.get(r);l||(l=new kJt(o??acn),ile.set(r,l));const c={getClient:t,schema:r,parent:void 0,value:e,path:[],document:e,type:s,i18n:n,getDocumentExists:i,environment:a,customValidationConcurrencyLimiter:l};return Br(n.loadNamespaces(["validation"])).pipe(Ct(()=>b6(c)),kn(d=>{console.error(d);const h=(d==null?void 0:d.message)||"Unknown error";return we([{level:"error",message:h,item:{message:h},path:[]}])}))}function b6({value:e,type:t,path:n=[],parent:r,customValidationConcurrencyLimiter:i,environment:a,...o}){const s=p=>(t==null?void 0:t.jsonType)==="object"&&xG(t).find(m=>["object","document","file","image"].includes(m.name))&&a!=="studio"?p.custom(icn(t),{bypassConcurrencyLimit:!0}).warning():p,l=xS(t),c=l.map(s).map(p=>oa(()=>p.validate(e,{...o,environment:a,parent:r,path:n,type:t,__internal:{customValidationConcurrencyLimiter:i}})));let d=[];const h=l.some(p=>p.isRequired());if((t==null?void 0:t.jsonType)==="object"&&(e||e==null&&h)){const p=t.fields.reduce((m,g)=>(m[g.name]=g.type,m),{});d=d.concat(l.map(m=>m._fieldRules).filter(ocn).flatMap(m=>Object.entries(m)).flatMap(([m,g])=>{const y=p[m];return xS({...y,validation:g}).map(s).map(v=>{const b=rle(e)?e[m]:void 0;return oa(()=>v.validate(b,{...o,parent:e,path:n.concat(m),type:y,environment:a,__internal:{customValidationConcurrencyLimiter:i}}))})})),d=d.concat(t.fields.map(m=>b6({...o,parent:e,value:rle(e)?e[m.name]:void 0,path:n.concat(m.name),type:m.type,environment:a,customValidationConcurrencyLimiter:i})))}return(t==null?void 0:t.jsonType)==="array"&&Array.isArray(e)&&(d=d.concat(e.map((p,m)=>b6({...o,parent:e,value:p,path:n.concat($u(p)?{_key:p._key}:m),type:scn(p,t.of),environment:a,customValidationConcurrencyLimiter:i})))),oa(()=>Bn([...c,...d])).pipe(Mt(p=>ji(ucn(),p),40),LD(),Ddt(),fe(pr),fe(p=>l.some(m=>m._fieldRules)?mp(p,m=>JSON.stringify(m)):p))}function ucn(e){return new Rt(t=>{const n=ncn(()=>{t.complete()},void 0);return()=>rcn(n)})}var ccn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},dcn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:`${e.mimeType} (${(e.size/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},fcn={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},hcn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:`${e.mimeType} (${(Number(e.size)/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},pcn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},mcn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},gcn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},ycn={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},vcn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},bcn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},xcn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string",validation:e=>e.required()},{name:"source",title:"Source field",type:"string",hidden:!0}]};const wcn=e=>e.severity==="error",Ccn=[ccn,xcn,fcn,hcn,dcn,pcn,gcn,ycn,mcn,vcn,bcn];function Scn(e){const t=cEt(e.types).getTypes(),n=cSt(t),r=n.some(a=>a.problems.some(wcn)),i=hH.compile({name:e.name,types:r?[]:[...e.types,...Ccn].filter(Boolean)});return i._validation=n,Kun(i)}function Ru(e){return typeof e.title=="string"?e.title:e.type?Ru(e.type):e.name||e.jsonType}const Ecn=[0,0,1,0];function kcn(e){return e.stopPropagation()}function _cn(e){return e.stopPropagation()}function LIe(e){const{children:t,header:n,id:r,legacy_referenceElement:i,onClose:a,type:o,width:s,autofocus:l}=e,[c,d]=f.useState(null),h=f.useRef(null),p=u.jsx(Tb,{margins:Ecn,children:u.jsx(L,{ref:h,children:t})});return o==="dialog"?u.jsx(gv,{scrollElement:c,containerElement:h,children:u.jsx(Ri,{__unstable_autoFocus:l,contentRef:d,"data-testid":"edit-portal-dialog",header:n,id:r||"",onClickOutside:a,onClose:a,onDragEnter:kcn,onDrop:_cn,width:s,children:p})}):u.jsx(lPn,{header:n,onClose:a,referenceElement:i,width:s,containerRef:d,children:u.jsx(gv,{scrollElement:c,containerElement:h,children:p})})}function wG(e){return e.reduce((t,n)=>n!=null&&n.children?[...t,n,...wG(n.children)]:[...t,n],[]).map(({children:t,...n})=>n)}function Tcn(e,t){var i;const n=wG(e),r=ev(t).toLocaleLowerCase();return(i=n==null?void 0:n.filter(a=>ev(a.title||"").toLocaleLowerCase().includes(r)))==null?void 0:i.sort((a,o)=>{var c,d;const s=(c=a.title)==null?void 0:c.startsWith(r),l=(d=o.title)==null?void 0:d.startsWith(r);return s&&!l?-1:!s&&l?1:0})}function Acn(e){const[t,n]=f.useState([]),{observeForPreview:r}=da(),i=f.useMemo(()=>wG(e),[e]),a=f.useCallback(o=>{const s=o.path;n(l=>l.some(c=>kt(c.path,s))?l.map(c=>kt(c.path,s)?{...o,title:o==null?void 0:o.title}:c):l.concat(o))},[n]);return f.useEffect(()=>{n([]),i.forEach(o=>{r(o.value,o.schemaType).pipe(fe(s=>{var l;return{...o,title:(l=s.snapshot)==null?void 0:l.title}})).subscribe(a).unsubscribe()})},[i,a,r]),t}function jR(e){const t=mk(e),{t:n}=q();return f.useMemo(()=>{var r;return{...t,value:{...(t==null?void 0:t.value)||{},title:((r=t==null?void 0:t.value)==null?void 0:r.title)||n("preview.default.title-fallback")}}},[t,n])}const BIe=33,jcn=50;function Icn(e){const{item:t,onPathSelect:n,selected:r,isFirst:i,renderMenuItemTitle:a}=e,{value:o}=jR({schemaType:t.schemaType,value:t.value}),{title:s}=o;return u.jsx(ne,{marginTop:i?void 0:1,children:u.jsx($t,{mode:"bleed",onClick:()=>n(t.path),selected:r,title:s,padding:2,children:u.jsxs(z,{align:"center",gap:3,justify:"space-between",children:[u.jsx(z,{flex:1,children:a(o)}),r&&u.jsx(N,{size:1,children:u.jsx(_a,{})})]})})})}function Dcn(e){const{items:t,onPathSelect:n,selectedPath:r,collapsed:i=!1}=e,{t:a}=q(),o=f.useCallback(c=>{const d=t[c];return kt(d.path,r)},[t,r]),s=f.useCallback(c=>{const{title:d,media:h}=c;return i?u.jsxs(z,{align:"center",gap:1,children:[u.jsx(N,{size:1,muted:!0,children:"/"}),u.jsx(ro,{title:d,media:h,layout:"inline"})]}):u.jsx(ro,{title:d,media:h,layout:"inline"})},[i]),l=f.useCallback(c=>{const d=kt(c.path,r),h=kt(c.path,t[0].path);return u.jsx(Icn,{isFirst:h,item:c,onPathSelect:n,renderMenuItemTitle:s,selected:d})},[s,t,n,r]);return u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:a("tree-editing-dialog.breadcrumbs.menu"),autoFocus:A0?void 0:"input","data-testid":"tree-editing-breadcrumbs-menu",getItemDisabled:o,itemHeight:BIe,items:t,overscan:5,padding:1,renderItem:l})}const Mcn=["bottom-start"],Rcn=$(z)``,Ocn=$(ie)`
  min-height: max-content;
`,$cn=$(z)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),Pcn=$(_n)(()=>de`
    [data-ui='Popover__wrapper'] {
      width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `);function ale(e){const{button:t,collapsed:n=!1,items:r,menuTitle:i,onPathSelect:a,parentElement:o,selectedPath:s}=e,[l,c]=f.useState(!1),d=f.useRef(null),[h,p]=f.useState(null),m=f.useCallback(()=>{l&&(c(!1),h==null||h.focus())},[h,l]),g=f.useCallback(w=>{const{key:C,shiftKey:S}=w;(S&&C==="Tab"||C==="Escape"||C==="Tab")&&m()},[m]),y=f.useCallback(()=>{c(!l)},[l]),v=f.useCallback(w=>{a(w),c(!1)},[a]);xn(()=>c(!1),()=>[d.current,h]);const b=u.jsx(Rcn,{direction:"column",flex:1,forwardedAs:Yu,height:"fill",returnFocus:!0,children:u.jsxs($cn,{$itemHeight:BIe,$maxDisplayedItems:jcn,direction:"column",overflow:"hidden",children:[i&&u.jsx(Ocn,{borderBottom:!0,padding:3,sizing:"border",children:u.jsx(L,{paddingX:1,sizing:"border",children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"semibold",title:i,children:i})})}),u.jsx(Dcn,{collapsed:n,items:r,onPathSelect:v,selectedPath:s})]})}),x=f.cloneElement(t,{"aria-expanded":l,"aria-haspopup":"true","data-testid":"tree-editing-breadcrumb-menu-button",id:"tree-breadcrumb-menu-button",onClick:y,ref:p,selected:l});return u.jsx(Pcn,{constrainSize:!0,content:b,"data-testid":"tree-editing-breadcrumbs-menu-popover",fallbackPlacements:Mcn,onKeyDown:g,open:l,placement:"bottom-start",portal:!0,ref:d,referenceBoundary:o,children:x})}const ole=5,sle=[],lle="/",VIe=$($t)(({theme:e})=>{var n,r;const{bold:t}=((r=(n=Te(e))==null?void 0:n.font.text)==null?void 0:r.weights)||{};return de`
    max-height: 1rem;
    overflow: hidden;
    min-width: 2ch;

    &[data-active='true'] {
      [data-ui='Text']:first-child {
        font-weight: ${t};
      }
    }
  `}),Fcn=$(N)`
  overflow: hidden;
  padding: 8px 0;
`,Ncn=f.forwardRef(function(e,t){var c;const{item:n,onPathSelect:r,isSelected:i,...a}=e,{value:o}=jR({schemaType:n.schemaType,value:n.value}),s=o.title,l=n.children&&((c=n.children)==null?void 0:c.length)>1;return u.jsx(VIe,{"data-active":i?"true":"false",mode:"bleed",onClick:()=>r(n.path),padding:1,ref:t,space:2,title:s,...a,children:u.jsxs(z,{flex:1,align:"center",justify:"flex-start",gap:1,overflow:"hidden",children:[u.jsx(ro,{title:s,media:o.media,layout:"inline"}),l&&u.jsx(N,{size:0,children:u.jsx(Di,{})})]})})}),ule=f.forwardRef(function(e,t){const{children:n}=e;return u.jsx(L,{ref:t,children:u.jsx(N,{size:1,children:n})})});function Lcn(e){const{items:t=sle,onPathSelect:n,selectedPath:r}=e,[i,a]=f.useState(null),o=gE(i),s=f.useMemo(()=>{const d=o==null?void 0:o.border.width;return d?d<500?3:d<700?4:ole:ole},[o==null?void 0:o.border.width]),l=f.useMemo(()=>{const d=t.length,h=Math.ceil(s/2),p=Math.floor(s/2);return s&&d>s?[...t.slice(0,h-1),t.slice(h-1,d-p),...t.slice(d-p)]:t},[t,s]),c=f.useMemo(()=>l.map((d,h)=>{var b;const p=`${d}-${h}`,m=h<l.length-1;if(Array.isArray(d))return u.jsxs(f.Fragment,{children:[u.jsx(ale,{button:u.jsx(VIe,{mode:"bleed",padding:1,children:u.jsx(z,{overflow:"hidden",children:u.jsx(Fcn,{size:1,weight:"medium",textOverflow:"ellipsis",children:"..."})})}),collapsed:!0,items:d,onPathSelect:n,parentElement:i,selectedPath:r}),m&&u.jsx(ule,{children:lle})]},p);const g=d.children&&((b=d.children)==null?void 0:b.length)>1,y=kt(d.path,r),v=u.jsx(Ncn,{item:d,isSelected:y,onPathSelect:n});return u.jsxs(f.Fragment,{children:[!g&&v,g&&u.jsx(ale,{button:v,items:d.children||sle,onPathSelect:n,menuTitle:Ru(d.schemaType),parentElement:i,selectedPath:d.path}),m&&u.jsx(ule,{children:lle})]},p)}),[l,r,n,i]);return u.jsx(z,{align:"center",as:"ol",gap:2,ref:a,children:c})}const zIe=$(z).attrs({padding:2,align:"center",sizing:"border"})`
  height: 40px;
  min-height: 40px;
`,UIe=51,Bcn=10;function Vcn(e){const{item:t,onPathSelect:n,isFirst:r}=e,{value:i}=jR({value:t.value,schemaType:t.schemaType}),a=i.title;return u.jsx(ne,{marginTop:r?void 0:1,children:u.jsx($t,{mode:"bleed",onClick:()=>n(t.path),children:u.jsxs(ne,{space:2,flex:1,children:[u.jsx(ro,{title:a,media:i.media,layout:"inline"}),u.jsx(L,{children:u.jsx(N,{muted:!0,size:0,textOverflow:"ellipsis",children:Ru(t.parentSchemaType)})})]})})})}function zcn(e){const{items:t,onPathSelect:n,textInputElement:r}=e,{t:i}=q(),a=f.useCallback(o=>{const s=kt(o.path,t[0].path);return u.jsx(Vcn,{isFirst:s,item:o,onPathSelect:n})},[t,n]);return u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:i("tree-editing-dialog.search.menu-label"),autoFocus:A0?void 0:"input",inputElement:r,itemHeight:UIe,items:t,overscan:5,padding:1,renderItem:a})}const Ucn=["bottom-start"],Hcn=$(z)``,Wcn=$(z)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
    width: 100%;
  `}),Gcn=$(_n)(()=>de`
    [data-ui='Popover__wrapper'] {
      min-width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),Ycn=$(Lr)`
  border-radius: inherit;
`;function qcn(e){const{items:t,onPathSelect:n}=e,[r,i]=f.useState(null),[a,o]=f.useState(""),{t:s}=q(),l=a.length>0,c=Acn(t),d=f.useMemo(()=>Tcn(c,a),[a,c]),h=f.useCallback(()=>o(""),[]),p=f.useCallback(b=>{o(b.target.value)},[]),m=f.useCallback(b=>{n(b),h()},[n,h]),g=f.useCallback(b=>{b.key==="Escape"&&(h(),r==null||r.focus())},[h,r]),y=f.useCallback(()=>{requestAnimationFrame(()=>{h()})},[h]),v=f.useMemo(()=>d.length===0?u.jsx(ie,{children:u.jsx(ne,{padding:4,sizing:"border",space:3,children:u.jsx(N,{align:"center",muted:!0,size:1,weight:"medium",children:s("tree-editing-dialog.search.no-results-title")})})}):u.jsx(Hcn,{direction:"column",flex:1,height:"fill",children:u.jsx(ie,{children:u.jsx(Wcn,{$itemHeight:UIe,$maxDisplayedItems:Bcn,direction:"column",overflow:"hidden",children:u.jsx(zcn,{items:d,onPathSelect:m,textInputElement:r})})})}),[d,m,r,s]);return u.jsx(Gcn,{constrainSize:!0,content:v,fallbackPlacements:Ucn,matchReferenceWidth:!0,open:l,placement:"bottom-start",portal:!0,children:u.jsx(ie,{radius:3,children:u.jsx(Ycn,{fontSize:1,icon:Ca,onBlur:y,onChange:p,onKeyDown:g,placeholder:s("tree-editing-dialog.search-placeholder"),ref:i,value:a})})})}function eT(e,t){return JSON.stringify(e)===JSON.stringify(t)}function wS(e){return e.length===0?!1:e[e.length-1].hasOwnProperty("_key")}function cle(e,t){return e.every((n,r)=>eT(t[r],n))&&wS(e)}function j5(e){return wS(e)?e:e.slice(0,e.length-1)}function HIe(e){return e.some(t=>t.children&&t.children.length>0)}function WIe(e,t){var n;return((n=e.children)==null?void 0:n.some(r=>kt(r.path,t)||WIe(r,t)))||!1}const Kcn={block:"center",behavior:"smooth",scrollMode:"if-needed"},Zcn=$(io)`
  transition: transform 0.2s ease;

  &[data-expanded='true'] {
    transform: rotate(90deg);
  }
`,Xcn=$.div`
  min-width: 23px;
  max-width: 23px;
`,Jcn=$(ne)(({theme:e})=>{var i,a;const t=((i=Te(e))==null?void 0:i.space[3])||0,n=(a=Te(e))==null?void 0:a.color._dark,r=rt.gray[n?900:200].hex;return de`
    margin-left: ${t+2}px;
    box-sizing: border-box;
    border-left: 1px solid ${r};
  `}),Qcn=$(z)(({theme:e})=>{var i,a,o;const t=(i=Te(e))==null?void 0:i.color.button.bleed.default.hovered.bg,n=(a=Te(e))==null?void 0:a.color.button.bleed.default.pressed.bg,r=(o=Te(e))==null?void 0:o.color.button.bleed.default.selected.bg;return de`
    padding: 2px;
    padding-right: 3px;
    box-sizing: border-box;
    transition: inherit;
    border-radius: ${Te(e).radius[2]}px;

    &[data-selected='true'] {
      background-color: ${r};
    }

    [data-ui='ExpandButton'],
    [data-ui='NavigateButton'] {
      transition: inherit;
      background-color: inherit;
      box-shadow: unset;
    }

    @media (hover: hover) {
      &:hover {
        &[data-selected='false'] {
          background-color: ${t};
          border-radius: ${Te(e).radius[2]}px;

          [data-ui='ExpandButton']:hover {
            background-color: ${n};
          }
        }

        [data-ui='ExpandButton']:hover {
          background-color: ${t};
        }
      }
    }
  `});function GIe(e){const{item:t,onPathSelect:n,selectedPath:r,siblingHasChildren:i}=e,{children:a}=t,o=a&&a.length>0,[s,l]=f.useState(!1),[c,d]=f.useState(null),{t:h}=qv(),{value:p}=jR({schemaType:t.schemaType,value:t.value}),m=f.useMemo(()=>kt(t.path,r),[t.path,r]),g=f.useMemo(()=>!wS(t.path),[t.path]),y=f.useMemo(()=>Zt(t.path),[t.path]),v=f.useMemo(()=>g?Ru(t.schemaType):p.title,[g,t.schemaType,p.title]),b=f.useMemo(()=>o?u.jsx(Zcn,{"data-expanded":s?"true":"false"}):null,[o,s]),x=f.useMemo(()=>g?u.jsx(HI,{}):p.media,[g,p.media]),w=f.useCallback(()=>n(t.path),[t.path,n]),C=f.useCallback(()=>l(S=>!S),[]);return f.useEffect(()=>{WIe(t,r)&&l(!0)},[t,r]),f.useEffect(()=>{!c||!m||Rg(c,Kcn)},[c,m]),u.jsxs(ne,{"aria-expanded":s,as:"li",ref:d,role:"treeitem",space:1,children:[u.jsx(ie,{"data-as":"button","data-testid":"tree-editing-menu-item",overflow:"hidden",radius:2,tone:"inherit",children:u.jsxs(Qcn,{align:"center","data-selected":m,"data-testid":"tree-editing-menu-item-content",children:[b&&u.jsx($t,{"aria-label":`${h(s?"tree-editing-dialog.sidebar.action.collapse":"tree-editing-dialog.sidebar.action.expand")} ${v}`,"data-testid":`tree-editing-menu-expand-button-${y}`,"data-ui":"ExpandButton",mode:"bleed",onClick:C,padding:2,children:u.jsx(N,{size:0,muted:!0,children:b})}),!b&&i&&u.jsx(Xcn,{}),u.jsx(ne,{flex:1,children:u.jsx($t,{"data-testid":`tree-editing-menu-navigate-button-${y}`,"data-ui":"NavigateButton",mode:"bleed",onClick:w,padding:1,title:v,children:u.jsx(z,{align:"center",children:u.jsx(ro,{layout:"inline",media:x,title:v})})})})]})}),s&&o&&u.jsx(Jcn,{flex:1,forwardedAs:"ul",paddingLeft:1,role:"group",space:1,children:a.map(S=>{const E=HIe(a);return u.jsx(GIe,{item:S,onPathSelect:n,selectedPath:r,siblingHasChildren:E},Zt(S.path))})})]},y)}const edn=f.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r}=e;return u.jsx(ne,{as:"ul","data-testid":"tree-editing-menu",role:"tree",space:2,children:t.map(i=>{const a=HIe(t);return u.jsx(GIe,{item:i,onPathSelect:n,selectedPath:r,siblingHasChildren:a},Zt(i.path))})})}),tdn=$.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  ${({position:e})=>e==="right"?de`
          right: -4px;
        `:de`
          left: -4px;
        `}

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?de`
            right: 4px;
          `:de`
            left: 4px;
          `}
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?de`
            right: 0px;
          `:de`
            left: 0px;
          `}
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function ndn(e){const{onResize:t,onResizeStart:n,position:r}=e,i=f.useRef(0),a=f.useCallback(o=>{o.preventDefault(),i.current=o.pageX,n();const s=c=>{c.preventDefault(),t(i.current-c.pageX)},l=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",l)},[t,n]);return u.jsxs(tdn,{onMouseDown:a,position:r,children:[u.jsx("span",{}),u.jsx("span",{})]})}const rdn=$(L)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function idn(e){const{as:t,children:n,minWidth:r,maxWidth:i,initialWidth:a,...o}=e,[s,l]=f.useState(null),c=f.useRef(),[d,h]=f.useState(a),p=f.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),m=f.useCallback(y=>{const v=c.current;v&&h(Math.min(Math.max(v-y,r),i))},[r,i]),g=f.useMemo(()=>d?{flex:"none",width:d}:{minWidth:r,maxWidth:i},[r,i,d]);return u.jsxs(rdn,{as:t,...o,ref:l,style:g,children:[n,u.jsx(ndn,{onResize:m,onResizeStart:p,position:"right"})]})}const adn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},odn=$(ie)`
  flex-direction: column;
`,sdn=$(Mi(ne))`
  overflow-x: hidden;
`,ldn=$(ne)`
  min-height: max-content;
`,udn=f.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r,onOpenToggle:i,open:a,title:o}=e,{t:s}=qv(),l=f.useMemo(()=>({content:s(a?"tree-editing-dialog.sidebar.action.close":"tree-editing-dialog.sidebar.action.open")}),[a,s]),c=u.jsxs(odn,{borderRight:!a,"data-testid":"tree-editing-sidebar","data-ui":"SidebarCard",display:"flex",forwardedAs:"aside",height:"fill",overflow:"hidden",tone:"transparent",children:[u.jsxs(zIe,{align:"center",gap:2,children:[u.jsx(he,{"data-testid":"tree-editing-sidebar-toggle",icon:A9,mode:"bleed",onClick:i,selected:a,tooltipProps:l}),a&&u.jsx(L,{flex:1,children:u.jsx(N,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:o})})]}),a&&u.jsx(ldn,{padding:2,sizing:"border",children:u.jsx(qcn,{items:t,onPathSelect:n})}),u.jsx(sl,{mode:"wait",children:a&&u.jsx(sdn,{animate:"animate",exit:"exit",initial:"initial",overflow:"auto",padding:3,sizing:"border",variants:adn,children:u.jsx(edn,{items:t,onPathSelect:n,selectedPath:r})})})]});return a?u.jsx(idn,{maxWidth:450,minWidth:150,initialWidth:250,children:c}):c}),cdn=[0,0,1,0],ddn=f.memo(function(e){const{breadcrumbs:t,children:n,footer:r,items:i,onPathSelect:a,selectedPath:o,setScrollElement:s,title:l}=e,c=f.useRef(null),d=f.useRef(null),[h,p]=f.useState(!1),m=f.useCallback(()=>p(y=>!y),[]),g=f.useCallback(y=>{c.current=y,s==null||s(y)},[s]);return u.jsxs(z,{height:"fill",overflow:"hidden",children:[u.jsx(udn,{items:i,onOpenToggle:m,onPathSelect:a,open:h,selectedPath:o,title:l}),u.jsxs(z,{direction:"column",flex:1,overflow:"hidden",children:[u.jsx(zIe,{align:"center",sizing:"border",gap:2,paddingX:4,children:u.jsx(z,{flex:1,children:u.jsx(Lcn,{items:t,onPathSelect:a,selectedPath:o})})}),u.jsx(ie,{flex:1,id:"tree-editing-form",overflow:"auto",ref:g,children:n&&u.jsx(gv,{containerElement:d,scrollElement:c.current,children:u.jsx(ui,{width:1,ref:d,paddingX:5,paddingY:5,sizing:"border",children:u.jsx(Tb,{margins:cdn,children:n})})})}),r]})]})});function YIe(e){const t=e.findIndex(n=>n==null?void 0:n.hasOwnProperty("_key"));return t===-1?e:e.slice(0,t)}function IR(e,t){var i;if(!t)return;const n=Zs(t),r=n[0];if(r&&Ui(e)){const a=(i=e==null?void 0:e.fields)==null?void 0:i.find(o=>o.name===r);if(a){const o=Zt(n.slice(1));return o?IR(a.type,o):a}}}function DR(e,t){const n=Cs(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function fdn(e,t){const n=Cs(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function hdn(e){const t=[];let n=[];function r(i){i.forEach(a=>{const o=[...n,a.name];Af(a.type)&&!zm(a.type)&&t.push(o),Ui(a.type)&&(n=o,r(a.type.fields),n=n.slice(0,-1))})}return r(e),t}function dle(e){const{arraySchemaType:t,arrayValue:n,itemPath:r,parentPath:i}=e,a=n.map(s=>{const l=[...i,{_key:s._key}],c=DR(t,s);return Gs(c)||!c?null:{children:rn,parentSchemaType:t,path:l,schemaType:c,value:s}}).filter(Boolean),o=a.find(s=>kt(s.path,r));return{children:a,parentSchemaType:t,path:r,schemaType:o.schemaType,value:o.value}}function pdn(e){var d;const{arraySchemaType:t,arrayValue:n,documentValue:r,openPath:i,rootPath:a,recursive:o}=e;let s=[];const l=[],c=[];return((d=t.options)==null?void 0:d.treeEditing)===!1?{breadcrumbs:c,menuItems:l,relativePath:s,rootTitle:""}:(n.forEach(h=>{var v;const p=[...a,{_key:h._key}],m=DR(t,h);if(!m||Gs(m)||((v=m==null?void 0:m.options)==null?void 0:v.treeEditing)===!1)return;const g=(m==null?void 0:m.fields)||[],y=[];if(cle(p,i)){const b=dle({arraySchemaType:t,arrayValue:n,itemPath:p,parentPath:a});c.push(b)}g.forEach(b=>{var S,E;if(((E=(S=b==null?void 0:b.type)==null?void 0:S.options)==null?void 0:E.treeEditing)===!1)return;const x=[...p,b.name],w=sa(r,x);if(eT(x,i)&&(s=j5(x)),Ui(b.type)){const k=hdn(b.type.fields);if(k.length===0)return;k.forEach(_=>{var D;const T=[...x,..._],j=IR(b.type,Zt(_)),A=sa(r,T),I=Array.isArray(A)?A:[];if(!I.length||((D=j.type.options)==null?void 0:D.treeEditing)===!1)return;eT(T,i)&&(s=j5(T));const M=o({documentValue:r,path:T,schemaType:j});y.push({children:M.menuItems,parentSchemaType:b.type,path:T,schemaType:j.type,value:I})})}const C=zm(b.type);if(Af(b.type)&&w&&!C){if(cle(x,i)){const _=dle({arraySchemaType:b.type,arrayValue:w,itemPath:x,parentPath:p});c.push(_)}const k=o({documentValue:r,path:x,schemaType:b});y.push({children:(k==null?void 0:k.menuItems)||rn,parentSchemaType:m,path:x,schemaType:b,value:w});return}C&&Zt(i).startsWith(Zt(x))&&(s=j5(x))}),eT(p,i)&&(s=j5(p)),aI(m==null?void 0:m.type)||l.push({children:y,parentSchemaType:t,path:p,schemaType:m,value:h})}),{breadcrumbs:c,menuItems:l,relativePath:s,rootTitle:""})}const tT=[],x6={breadcrumbs:tT,menuItems:tT,relativePath:tT,rootTitle:""};function mdn(e){var c;const{openPath:t}=e,n=YIe(t),r=IR(e.schemaType,Zt(n)),i=Ru(r==null?void 0:r.type);if(!Af(r==null?void 0:r.type)||((c=r==null?void 0:r.options)==null?void 0:c.treeEditing)===!1)return x6;let a=[];const o=[],s=l({schemaType:r,documentValue:e.documentValue,path:n});function l(d){const{schemaType:h,path:p,documentValue:m}=d,g=sa(m,p),y=Array.isArray(g)?g:tT,v=h==null?void 0:h.type,b=pdn({arraySchemaType:v,arrayValue:y,documentValue:m,openPath:t,recursive:l,rootPath:p});return b.relativePath.length>0&&(a=b.relativePath),o.unshift(...b.breadcrumbs),b}return{relativePath:a,breadcrumbs:o,menuItems:s.menuItems,rootTitle:i}}function qIe(e,t){if(t.length===0)return!1;const n=YIe(t),r=IR(e,Zt(n));if(Af(r==null?void 0:r.type)){const i=r.type.of.every(o=>o==null?void 0:o.hasOwnProperty("to")),a=zm(r.type);return!(i||a)}return!1}const gdn=[],ydn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},vdn={duration:.2,ease:"easeInOut"};function bdn(e){return e.renderDefault(e)}const xdn=$(wD)(({theme:e})=>{var n;const t=(n=Te(e))==null?void 0:n.space[4];return de`
    [data-ui='DialogCard'] {
      padding: ${t}px;
      box-sizing: border-box;

      // Make the dialog full height
      & > [data-ui='Card']:first-child {
        flex: 1;
      }
    }
  `}),wdn=Mi(z);function Cdn(e){const{onPathFocus:t,onPathOpen:n,openPath:r,rootInputProps:i,schemaType:a}=e,{value:o}=i,{t:s}=q(),[l,c]=f.useState(x6),[d,h]=f.useState(null),p=f.useRef(void 0),m=f.useRef(void 0),g=f.useCallback(()=>{d==null||d.scrollTo(0,0)},[d]),y=f.useCallback(w=>{const C=mdn(w);if(kt(C,l))return;const S=C.relativePath,E=S.length===0||!wS(S)?l.relativePath:S;c({...C,relativePath:E})},[l]),v=f.useMemo(()=>t0(y,1e3),[y]),b=f.useCallback(()=>{v.cancel(),n(gdn),c(x6),m.current=void 0,p.current=void 0;const w=r.findIndex(En),C=r.slice(0,w+1);t(C)},[v,t,n,r]),x=f.useCallback(w=>{v.cancel(),n(w),wS(w)||t(w)},[v,t,n]);return f.useEffect(()=>{const w=!kt(o,m.current),C=!kt(r,p.current);if(m.current===void 0&&p.current===void 0||C){y({schemaType:a,documentValue:o,openPath:r}),p.current=r;return}if(!(!w&&!C))return m.current=o,p.current=r,v({schemaType:a,documentValue:o,openPath:r}),()=>{v.cancel()}},[a,o,v,r,y]),l.relativePath.length===0?null:u.jsx(xdn,{__unstable_hideCloseButton:!0,animate:!0,"data-testid":"tree-editing-dialog",id:"tree-editing-dialog",onClickOutside:b,onClose:b,padding:0,width:3,children:u.jsx(ddn,{breadcrumbs:l.breadcrumbs,items:l.menuItems,onPathSelect:x,selectedPath:l.relativePath,title:l.rootTitle,setScrollElement:h,footer:u.jsx(ie,{borderTop:!0,children:u.jsx(z,{align:"center",justify:"flex-end",paddingX:3,paddingY:2,sizing:"border",children:u.jsx(he,{size:"large","data-testid":"tree-editing-done",text:s("tree-editing-dialog.sidebar.action.done"),onClick:b})})}),children:u.jsx(sl,{initial:!1,mode:"wait",onExitComplete:g,children:u.jsx(wdn,{animate:"animate","data-testid":"tree-editing-dialog-content",direction:"column",exit:"exit",height:"fill",initial:"initial",overflow:"hidden",padding:1,sizing:"border",transition:vdn,variants:ydn,children:u.jsx(sG,{...i,relativePath:l.relativePath,renderDefault:bdn})},Zt(l.relativePath))})})})}function MR(){return f.useContext(zhe)}function RR(e){const{children:t,legacyEditing:n}=e,r=MR(),i=f.useMemo(()=>({enabled:!1,legacyEditing:!!(r.legacyEditing||n)}),[n,r.legacyEditing]);return u.jsx(zhe.Provider,{value:i,children:t})}function CG(e){const{t}=q(),{onInsert:n,schemaTypes:r}=e,i=y6({insertMenuProps:{...e.insertMenuOptions,schemaTypes:e.schemaTypes??[],onSelect:d=>{e.onInsert("before",d)}},popoverProps:{referenceElement:e.referenceElement,placement:"top-end",fallbackPlacements:["bottom-end"]}}),a=y6({insertMenuProps:{...e.insertMenuOptions,schemaTypes:e.schemaTypes??[],onSelect:d=>{e.onInsert("after",d)}},popoverProps:{referenceElement:e.referenceElement,placement:"bottom-end",fallbackPlacements:["top-end"]}}),o=f.useCallback(()=>{r&&(r.length===1?n("before",r[0]):i.send({type:"toggle"}))},[i,n,r]),s=f.useCallback(()=>{r&&(r.length===1?n("after",r[0]):a.send({type:"toggle"}))},[a,n,r]),l=f.useMemo(()=>r?u.jsx(He,{text:r.length===1?t("inputs.array.action.add-before"):`${t("inputs.array.action.add-before")}...`,icon:LI,onClick:o}):null,[o,t,r]),c=f.useMemo(()=>r?u.jsx(He,{text:r.length===1?t("inputs.array.action.add-after"):`${t("inputs.array.action.add-after")}...`,icon:BI,onClick:s}):null,[s,t,r]);return{insertBefore:{...i,menuItem:l},insertAfter:{...a,menuItem:c}}}const Sdn=$(ie)`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function Edn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const kdn={portal:!0,tone:"default"};function _dn(e){var te,X,K,Q,ee,se,le;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:a,value:o,open:s,onInsert:l,onCopy:c,onFocus:d,onOpen:h,onClose:p,changed:m,focused:g,children:y,inputProps:{renderPreview:v}}=e,{t:b}=q(),x=MR(),w=((te=n==null?void 0:n.options)==null?void 0:te.treeEditing)===!1,C=w||x.legacyEditing,S=s&&(!x.enabled||C),E=((X=n.options)==null?void 0:X.sortable)!==!1,k=n.of,_=f.useRef(null);SR(_,s),jo(g,(oe,ue)=>{var ye;!oe&&ue&&_.current&&((ye=_.current)==null||ye.focus())});const T=o._resolvingInitialValue,j=f.useCallback(()=>{l({items:[{...o,_key:rf()}],position:"after"})},[l,o]),A=f.useCallback(()=>{c({items:[{...o,_key:rf()}]})},[c,o]),I=f.useCallback((oe,ue)=>{l({items:[jb(ue)],position:oe})},[l]),M=_b(r,!0),D=f.useMemo(()=>M.length===0?null:u.jsx(ck,{presence:M,maxAvatars:1}),[M]),O=YW(r,!0),R=f.useMemo(()=>O.length===0?null:u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ab,{validation:O,__unstable_showSummary:!0})}),[O]),F=O.some(oe=>oe.level==="error"),P=O.some(oe=>oe.level==="warning"),[V,U]=f.useState(null),{insertBefore:H,insertAfter:W}=CG({schemaTypes:k,insertMenuOptions:(K=n.options)==null?void 0:K.insertMenu,onInsert:I,referenceElement:V}),Z=f.useMemo(()=>i?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:U,onOpen:()=>{H.send({type:"close"}),W.send({type:"close"})},button:u.jsx(Si,{selected:H.state.open||W.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(Ot,{children:[u.jsx(He,{text:b("inputs.array.action.remove"),tone:"critical",icon:Jr,onClick:a}),u.jsx(He,{text:b("inputs.array.action.copy"),icon:Gl,onClick:A}),u.jsx(He,{text:b("inputs.array.action.duplicate"),icon:jv,onClick:j}),H.menuItem,W.menuItem]}),popover:kdn}),H.popover,W.popover]}),[H,W,A,j,a,e.inputId,i,b]),J=Edn({readOnly:i,hasErrors:F,hasWarnings:P}),re=u.jsx(MIe,{menu:Z,presence:D,validation:R,tone:J,radius:2,border:!0,dragHandle:E,selected:S,readOnly:i,children:u.jsxs(Sdn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:T,onClick:h,ref:_,onFocus:d,__unstable_focusRing:!0,children:[v({schemaType:t,value:o,layout:"media",withBorder:!1,withShadow:!1}),T&&u.jsx(bn,{fill:!0})]})}),G=Ru(t);return u.jsxs(RR,{legacyEditing:w,children:[u.jsx(no,{path:r,isChanged:m,hasFocus:!!g,children:re}),S&&u.jsx(LIe,{header:i?b("inputs.array.action.view",{itemTypeTitle:G}):b("inputs.array.action.edit",{itemTypeTitle:G}),type:((ee=(Q=n==null?void 0:n.options)==null?void 0:Q.modal)==null?void 0:ee.type)||"dialog",width:((le=(se=n==null?void 0:n.options)==null?void 0:se.modal)==null?void 0:le.width)??1,id:o._key,onClose:p,autofocus:g,legacy_referenceElement:_.current,children:y})]})}const Tdn=[];function Adn(e){var _;const{arrayFunctions:t=vG,elementProps:n,members:r,onChange:i,onInsert:a,onItemMove:o,onUpload:s,readOnly:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderPreview:g,resolveUploader:y,schemaType:v,value:b=Tdn}=e,{t:x}=q(),w=f.useCallback(T=>{a({items:[T],position:"before",referenceItem:0})},[a]),C=f.useCallback(T=>{a({items:[T],position:"after",referenceItem:-1})},[a]),S=((_=v.options)==null?void 0:_.sortable)!==!1,E=f.useCallback(({key:T,...j})=>u.jsx(_dn,{...j},T),[]),k=f.useMemo(()=>r.map(T=>T.key),[r]);return u.jsxs(ne,{space:2,children:[u.jsx(AR,{types:v.of,resolveUploader:y,onUpload:s,...n,tabIndex:0,children:u.jsxs(ne,{"data-ui":"ArrayInput__content",space:2,children:[(r==null?void 0:r.length)===0&&u.jsx(ie,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:v.placeholder||u.jsx(u.Fragment,{children:x("inputs.array.no-items-label")})})}),(r==null?void 0:r.length)>0&&u.jsx(ie,{border:!0,radius:1,children:u.jsx(mG,{columns:[2,3,4],gap:3,padding:1,margin:1,items:k,onItemMove:o,sortable:S,children:r.map(T=>u.jsxs(gG,{sortable:S,id:T.key,flex:1,children:[T.kind==="item"&&u.jsx(eG,{member:T,renderAnnotation:c,renderBlock:d,renderInlineBlock:p,renderItem:E,renderField:h,renderInput:m,renderPreview:g}),T.kind==="error"&&u.jsx(xun,{sortable:S,member:T,readOnly:l})]},T.key))})})]})}),u.jsx(t,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:jb,readOnly:l,schemaType:v,value:b})]})}const jdn=$(ie)`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .${pG} & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`;function OR(e){const{validation:t,selected:n,tone:r,presence:i,focused:a,children:o,dragHandle:s,menu:l,footer:c,readOnly:d}=e,h=f.useRef(null);return jo(a,(p,m)=>{var g;!p&&m&&((g=h.current)==null||g.focus())}),u.jsx(jdn,{ref:h,selected:n,"aria-selected":n,radius:1,padding:1,tone:r,children:u.jsxs(ne,{space:1,children:[u.jsxs(z,{align:"center",gap:1,children:[s&&u.jsx(DIe,{paddingY:3,readOnly:d}),u.jsx(L,{flex:1,children:o}),(i||t||l)&&u.jsxs(z,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[i&&u.jsx(L,{flex:"none",children:i}),t&&u.jsx(L,{flex:"none",children:t}),l]})]}),c]})})}const Idn=$(ie)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function KIe(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=q();xn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=Cs(t);return u.jsx(_n,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(Idn,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),u.jsx(N,{size:1,children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(ZS,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(ie,{padding:2,overflow:"auto",border:!0,children:u.jsx(mi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ie,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(z,{align:"center",children:[u.jsx(L,{marginRight:3,children:u.jsx(N,{children:u.jsx(Fl,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(gt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}const Ddn={portal:!0,tone:"default"};function ZIe(e){const{member:t,sortable:n,onRemove:r,readOnly:i}=e,a=f.useId(),{t:o}=q();return u.jsx(L,{paddingX:1,children:u.jsx(OR,{dragHandle:n,readOnly:!!i,tone:"caution",menu:u.jsx(Gt,{button:u.jsx(Si,{}),id:`${a}-menuButton`,menu:u.jsx(Ot,{children:u.jsx(He,{text:o("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Jr,onClick:r})}),popover:Ddn}),children:t.error.type==="INVALID_ITEM_TYPE"?u.jsx(KIe,{value:t.error.value}):u.jsx("div",{children:o("inputs.array.error.unexpected-error",{error:t.error.type})})})})}function Mdn(e,t){const n=f.useRef(e),r=n.current,i=t(r,e);return f.useEffect(()=>{i||(n.current=e)}),i?r:e}function Rdn(){const e=f.useContext(Whe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}const Odn=[];function $dn(e){var G;const{arrayFunctions:t=vG,elementProps:n,members:r,onChange:i,onInsert:a,onItemMove:o,onUpload:s,focusPath:l,readOnly:c,renderAnnotation:d,renderBlock:h,renderField:p,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:v,resolveUploader:b,schemaType:x,value:w=Odn}=e,{t:C}=q(),[S,E]=f.useState(null),{space:k}=zv().sanity,_=f.useCallback(te=>{a({items:[te],position:"before",referenceItem:0})},[a]),T=f.useCallback(te=>{a({items:[te],position:"after",referenceItem:-1})},[a]),j=Mdn(f.useMemo(()=>r.map(te=>te.key),[r]),yp),{scrollElement:A,containerElement:I}=Rdn(),M=f.useRef(null),D=f.useMemo(()=>En(l[0])?l[0]._key:l[0],[l]),O=f.useCallback(te=>{const X={...te};if(S!==null&&(X.startIndex=Math.min(te.startIndex,S),X.endIndex=Math.max(te.endIndex,S)),D){const K=j.findIndex(Q=>Q===D);K!==-1&&(X.startIndex=Math.min(X.startIndex,K),X.endIndex=Math.max(X.endIndex,K))}return Fxe(X)},[S,D,j]),R=f.useCallback((te,X)=>{if(!te.scrollElement)return;const K=te.scrollElement,Q=()=>{var oe,ue;const ee=((oe=I.current)==null?void 0:oe.getBoundingClientRect().top)??0,se=((ue=M.current)==null?void 0:ue.getBoundingClientRect().top)??0,le=Math.floor(se-ee);X(K.scrollTop-le)};return Q(),te.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{K.removeEventListener("scroll",Q)}},[I]),F=f.useCallback(()=>53,[]),P=ez({count:r.length,estimateSize:F,getScrollElement:f.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:O,getItemKey:f.useCallback(te=>j[te],[j]),scrollToFn:(te,X,K)=>{te!==K.scrollOffset&&Nxe(te,X,K)}}),V=P.getVirtualItems(),U=f.useCallback(te=>{var K,Q;const{active:X}=te;E((Q=(K=X.data.current)==null?void 0:K.sortable)==null?void 0:Q.index)},[]),H=f.useCallback(()=>{E(null)},[]),W=((G=x.options)==null?void 0:G.sortable)!==!1,Z=1,J=1,re=2;return u.jsxs(ne,{space:2,ref:M,children:[u.jsx(AR,{$radius:re,types:x.of,resolveUploader:b,onUpload:s,...n,tabIndex:0,children:u.jsx(ne,{"data-ui":"ArrayInput__content",space:2,children:r.length===0?u.jsx(ie,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:x.placeholder||u.jsx(u.Fragment,{children:C("inputs.array.no-items-label")})})}):u.jsx(ie,{border:!0,radius:re,style:{boxSizing:"border-box",height:`${P.getTotalSize()+V.length*k[Z]+k[J]}px`,width:"100%",position:"relative"},children:u.jsx(mG,{axis:"y",gap:Z,paddingY:J,items:j,onItemMove:o,onItemMoveStart:U,onItemMoveEnd:H,sortable:W,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${V[0].start}px)`},children:V.map(te=>{const X=r[te.index];return u.jsxs(gG,{ref:P.measureElement,sortable:W,"data-index":te.index,id:X.key,children:[X.kind==="item"&&u.jsx(eG,{member:X,renderAnnotation:d,renderBlock:h,renderField:p,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:v}),X.kind==="error"&&u.jsx(ZIe,{readOnly:c,sortable:W,member:X,onRemove:()=>e.onItemRemove(X.key)})]},te.key)})})})})}),u.jsx(t,{onChange:i,onItemAppend:T,onItemPrepend:_,onValueCreate:jb,readOnly:c,schemaType:x,value:w})]})}function XIe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?u.jsx(Adn,{...e}):u.jsx($dn,{...e})}function Rj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((i,a)=>Rj(e[a],t[a]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(i=>Rj(e[i],t[i]))}function fle(e,t){return e?e.some(n=>Rj(n,t)):!1}function Pdn(e,t){return e.of.find(n=>n.name===Cs(t))}const Fdn=[];function Ndn(e){var g,y;const{renderPreview:t,schemaType:n,onChange:r,onPathFocus:i,value:a=[],readOnly:o,elementProps:s,path:l,changed:c}=e,d=f.useMemo(()=>{var v;return(((v=n.options)==null?void 0:v.list)||Fdn).map((b,x)=>$u(b)?b:{...b,_key:`auto-generated-${x}`})},[(g=n.options)==null?void 0:g.list]),h=f.useCallback((v,b)=>{if(!v&&$u(b)){r(vt([{_key:b._key}]));return}const x=d.filter(w=>Rj(b,w)?v:fle(a,w));r(x.length>0?ft(x):vt())},[r,d,a]),p=f.useCallback(v=>{i([v])},[i]),m=((y=n.options)==null?void 0:y.layout)==="grid";return u.jsx(no,{path:l,isChanged:c,hasFocus:!1,children:u.jsx(Gn,{gap:2,columns:m?Math.min(d.length,4):1,tabIndex:0,...s,children:d.map((v,b)=>{const x=Pdn(n,v),w=fle(a,v),C=!x;return u.jsxs(z,{align:"center",as:"label",muted:C,children:[u.jsx($p,{disabled:C,checked:w,onChange:S=>h(S.currentTarget.checked,v),onFocus:()=>p(b),readOnly:o}),u.jsx(L,{flex:1,marginLeft:2,children:x?t({layout:"default",schemaType:x,value:v}):u.jsx(ie,{tone:"caution",radius:2,children:u.jsx(Uje,{value:v,onFocus:()=>p(b)})})})]},b)})})})}function Ldn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Bdn(e){return e.map(t=>Ldn(t)?{title:t.title||Vn(String(t.value)),value:t.value}:{title:Vn(String(t)),value:t})}function Vdn(e,t){return e.of.find(n=>n.name===Cs(t.value))}function zdn(e){var p,m;const{schemaType:t,onChange:n,value:r=[],readOnly:i,path:a,changed:o,onIndexFocus:s,elementProps:l}=e,c=f.useMemo(()=>{var g;return Bdn(((g=t.options)==null?void 0:g.list)||[])},[(p=t.options)==null?void 0:p.list]),d=(g,y)=>{const v=c.map(b=>b.value).filter(b=>b===y?g:r.includes(b));n(v.length>0?ft(v):vt())},h=((m=t.options)==null?void 0:m.layout)==="grid";return u.jsx(no,{path:a,isChanged:o,hasFocus:!1,children:u.jsx(Gn,{gap:2,columns:h?Math.min(c.length,4):1,...l,children:c.map((g,y)=>{const v=Vdn(t,g),b=r.includes(g.value),x=!v;return u.jsxs(z,{align:"center",as:"label",muted:x,children:[u.jsx($p,{disabled:x,checked:b,onChange:w=>d(w.currentTarget.checked,g.value),onFocus:()=>s(y),readOnly:i}),u.jsx(L,{padding:2,children:u.jsx(N,{children:g.title})}),!v&&u.jsx(KIe,{value:g,onFocus:()=>s(y)})]},y)})})})}function JIe(e){return Lln(e)?u.jsx(Ndn,{...e}):u.jsx(zdn,{...e})}function Udn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:a}=e,o=f.useId(),{t:s}=q(),l=f.useCallback(p=>{a(i(p))},[i,a]),c=f.useCallback(()=>{l(t.of[0])},[t,l]),d=f.useMemo(()=>({constrainSize:!0,portal:!0}),[]),h=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return n?u.jsx(bt,{portal:!0,content:s("inputs.array.read-only-label"),children:u.jsx(Gn,{children:u.jsx(he,{icon:wa,mode:"ghost",disabled:!0,size:"large",text:s(h)})})}):u.jsxs(Gn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?u.jsx(he,{icon:wa,mode:"ghost",onClick:c,size:"large",text:s(h)}):u.jsx(Gt,{button:u.jsx(he,{icon:wa,mode:"ghost",size:"large",text:s(h)}),id:o||"",menu:u.jsx(Ot,{children:t.of.map((p,m)=>{var v,b;const g=Gs(p)&&(p.to||[]).length===1&&p.to[0].icon,y=p.icon||((v=p.type)==null?void 0:v.icon)||g;return u.jsx(He,{text:p.title||((b=p.type)==null?void 0:b.name),onClick:()=>l(p),icon:y},m)})}),popover:d}),r]})}const Hdn={portal:!0,tone:"default",placement:"left",constrainSize:!0},Wdn=f.memo(function(e){const{types:t,onInsert:n}=e,{t:r}=q();return u.jsxs(u.Fragment,{children:[u.jsx(hle,{pos:"before",types:t,onInsert:n,text:r("inputs.array.action.add-before"),icon:LI}),u.jsx(hle,{pos:"after",types:t,onInsert:n,text:r("inputs.array.action.add-after"),icon:BI})]})});function hle(e){const{types:t,onInsert:n,pos:r,text:i,icon:a}=e;return(t==null?void 0:t.length)===1?u.jsx(He,{text:i,icon:a,onClick:()=>n(r,t[0])},r):u.jsx(BV,{text:i,popover:Hdn,children:t==null?void 0:t.map(o=>u.jsx(He,{icon:o.icon,text:o.title,onClick:()=>n(r,o)},o.name))},r)}const Gdn={portal:!0,tone:"default"},Ydn=f.forwardRef(function(e,t){const{sortable:n,value:r,insertableTypes:i,onInsert:a,onCopy:o,onRemove:s,readOnly:l,inputId:c,validation:d,children:h,presence:p,schemaType:m}=e,g=d.filter(E=>E.level==="error").length>0,y=d.filter(E=>E.level==="warning").length>0,v=f.useCallback((E,k)=>{a({position:E,items:[tG(k)]})},[a]),b=f.useCallback(()=>{r&&a({position:"after",items:[r]})},[a,r]),x=f.useCallback(()=>{o({items:[r]})},[o,r]),w=f.useMemo(()=>{if(g)return"critical";if(y)return"caution"},[g,y]),{t:C}=q(),S=u.jsx(Gt,{button:u.jsx(Si,{}),id:`${c}-menuButton`,popover:Gdn,menu:u.jsxs(Ot,{children:[u.jsx(He,{text:C("inputs.array.action.remove"),tone:"critical",icon:Jr,onClick:s}),u.jsx(He,{text:C("inputs.array.action.copy"),icon:Gl,onClick:x}),u.jsx(He,{text:C("inputs.array.action.duplicate"),icon:jv,onClick:b}),u.jsx(Wdn,{types:i,onInsert:v})]})});return u.jsx(OR,{tone:w,readOnly:!!l,menu:!l&&S,dragHandle:n,presence:p.length===0?null:u.jsx(ck,{presence:p,maxAvatars:1}),validation:d.length>0?u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ab,{validation:d})}):null,children:u.jsx(z,{align:m?"flex-end":"center",ref:t,children:u.jsx(z,{align:"flex-end",flex:1,children:u.jsx(L,{flex:1,marginRight:2,children:h})})})})});function qdn({schemaType:e}){const{t}=q();return u.jsx(ie,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:e.placeholder||t("inputs.array.no-items-label")})})}function Kdn(e,t,n){return Zdn(e,t,r=>r===n)}function Zdn(e,t,n){let r=t-1,i=t;const a=e.length;for(;r>-1||i<a;){const o=e[i];if(i<a&&n(o,i))return i;const s=e[r];if(r>-1&&n(s,r))return r;r--,i++}return-1}class QIe extends f.PureComponent{constructor(n){super(n);Y(this,"_element",null);Y(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:i,onItemAppend:a}=this.props;a(n),i(r.length)});Y(this,"handlePrepend",n=>{const{onIndexFocus:r,value:i=[],onItemPrepend:a}=this.props;a(n),r(i.length)});Y(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:i,value:a}=this.props;a&&i(n),r(n.toIndex)});Y(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})});Y(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})});Y(this,"renderArrayItem",n=>{var s;const{schemaType:r}=this.props,{key:i,...a}=n,o=((s=r.options)==null?void 0:s.sortable)!==!1;return u.jsx(Ydn,{...a,sortable:o,insertableTypes:r.of},i)});this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(n){var s;const{focusPath:r=[],value:i=[]}=n,{focusPath:a=[],value:o=[]}=this.props;if(r[0]===a[0]&&i.length!==o.length){const l=a[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const d=(s=c.focusNode)==null?void 0:s.querySelector("input,textarea");return d instanceof HTMLInputElement?{prevFocusedIndex:l,restoreSelection:{text:c.toString(),start:d.selectionStart,end:d.selectionEnd,value:d.value}}:{}}return null}componentDidUpdate(n,r,i){var o;const{onIndexFocus:a}=this.props;if(i!=null&&i.restoreSelection&&n.value){const s=n.value[i.prevFocusedIndex],l=Kdn(this.props.value||[],i.prevFocusedIndex,s);if(l===-1)return;const c=(o=this._element)==null?void 0:o.querySelector(`[data-item-index='${l}'] input,textarea`);if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(i.restoreSelection.start,i.restoreSelection.end)}catch{}}a(l)}}render(){const{schemaType:n,members:r,readOnly:i,renderInput:a,onUpload:o,onItemRemove:s,resolveUploader:l,elementProps:c,arrayFunctions:d=Udn,changed:h}=this.props,p=!i&&ir(n,"options.sortable")!==!1,m=r.map(g=>({id:`${g.key}-${g.kind==="item"?g.item.value:"error"}`,member:g}));return u.jsxs(ne,{space:2,"data-testid":"array-primitives-input",children:[u.jsx(AR,{types:n.of,resolveUploader:l,onUpload:o,...c,tabIndex:0,children:u.jsx(ne,{space:1,children:m.length===0?u.jsx(qdn,{schemaType:n}):u.jsx(ie,{padding:1,border:!0,children:u.jsx(mG,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(g=>g.id),sortable:p,gap:1,children:m.map(({member:g,id:y},v)=>u.jsxs(gG,{id:y,sortable:p,disableTransition:this.state.disableTransition,children:[g.kind==="item"&&u.jsx(no,{path:g.item.path,isChanged:h,hasFocus:!1,children:u.jsx(xan,{member:g,renderItem:this.renderArrayItem,renderInput:a})}),g.kind==="error"&&u.jsx(ZIe,{readOnly:i,sortable:p,member:g,onRemove:()=>s(v)})]},g.key))})})})}),u.jsx(d,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:tG,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}function Xdn(e){return f.useMemo(()=>{var t;return Array.isArray((t=e.schemaType.options)==null?void 0:t.list)},[e.schemaType])?u.jsx(JIe,{...e}):Bln(e)?u.jsx(QIe,{...e}):u.jsx(XIe,{...e})}const Jdn=$(ie)`
  line-height: 1;
`,Qdn=$(L)`
  align-self: center;
`,efn=$(L)`
  line-height: 0;
`;function tfn(e){var g;const{t}=q(),{id:n,value:r,schemaType:i,readOnly:a,elementProps:o,validation:s}=e,l=((g=i.options)==null?void 0:g.layout)||"switch",c=typeof r!="boolean",d=r||!1,h=l==="checkbox"?$p:bD,p=a?"transparent":void 0,m=u.jsx(efn,{padding:3,children:u.jsx(h,{label:i.title,...o,checked:d,readOnly:a,indeterminate:c,style:{margin:-4}})});return u.jsx(Jdn,{border:!0,"data-testid":"boolean-input",radius:2,tone:p,children:u.jsxs(z,{children:[a?u.jsx(bt,{content:t("inputs.boolean.disabled"),children:m}):m,u.jsx(L,{flex:1,paddingY:2,children:u.jsx(JW,{deprecated:i.deprecated,description:i.description,inputId:n,validation:s,title:i.title})}),u.jsx(Qdn,{paddingX:3,paddingY:1,children:u.jsx(can,{maxAvatars:1,position:"top"})})]})})}function nfn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:a,selected:o}=e,s=f.useCallback(()=>{a(t)},[t,a]);return u.jsx("div",{"aria-selected":o,"data-ui":"CalendarDay",children:u.jsx(ie,{"aria-label":t.toDateString(),"aria-pressed":o,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:s,padding:2,radius:2,selected:o,tone:i||o?"primary":"default",children:u.jsx(N,{muted:!o&&!r,size:1,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const rfn=LE(0,24),ifn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],afn=[1,2,3,4,5,6],ofn=(e,t)=>{const n=vM(e);return yM({start:n,end:xM(n)},{weekStartsOn:t===7?0:t})},sfn=e=>e.map(t=>[t,...afn.map(n=>Yr(t,n))]),lfn=e=>{const{weekInfo:t}=Yp();return sfn(ofn(e,t.firstDay)).map(n=>({number:bM(n[0]),days:n}))};function ufn(e){const{weekInfo:{firstDay:t}}=Yp(),n=t===1?e.weekDayNames:[e.weekDayNames[6],...e.weekDayNames.slice(0,6)];return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Gn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[n.map(r=>u.jsx(L,{paddingY:2,children:u.jsx(N,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),lfn(e.date).map((r,i)=>r.days.map((a,o)=>{const s=e.focused&&Co(a,e.focused),l=e.selected&&Co(a,e.selected),c=Co(a,new Date),d=e.focused&&wM(a,e.focused);return u.jsx(nfn,{date:a,focused:s,isCurrentMonth:d,isToday:c,onSelect:e.onSelect,selected:l},`${i}-${o}`)}))]})})}const ple={dayPresets:!1,timePresets:!1},$R=f.forwardRef(function({onChange:e,onBlur:t,onKeyPress:n,value:r,...i},a){const[o,s]=f.useState(),l=f.useCallback(p=>{s(p.currentTarget.value)},[]),c=f.useCallback(p=>{p.currentTarget.value!==`${r}`&&e&&e(p),s(void 0)},[e,r]),d=f.useCallback(p=>{c(p),t&&t(p)},[c,t]),h=f.useCallback(p=>{p.key==="Enter"&&c(p),n&&n(p)},[c,n]);return u.jsx(Lr,{...i,"data-testid":"date-input",ref:a,value:o===void 0?r:o,onChange:l,onBlur:d,onKeyPress:h})}),cfn=e=>{const{onChange:t,...n}=e,r=f.useCallback(i=>{const a=parseInt(i.currentTarget.value,10);isNaN(a)||t(a)},[t]);return u.jsx($R,{...n,fontSize:1,onChange:r,inputMode:"numeric",padding:2,radius:2})},dfn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),mle={padding:2},ffn=f.forwardRef(function(e,t){const{selectTime:n,onFocusedDateChange:r,selectedDate:i=new Date,focusedDate:a=i,timeStep:o=1,onSelect:s,labels:l,...c}=e,d=f.useCallback(E=>r(E),[r]),h=f.useCallback(E=>d(Kke(XU(a,E),1)),[a,d]),p=f.useCallback(E=>h(Number(E.currentTarget.value)),[h]),m=f.useCallback(E=>d(NE(a,E)),[a,d]),g=f.useCallback(E=>d(Zke(a,E)),[a,d]),y=f.useCallback(E=>{s(Qd(ag(E,i.getHours()),i.getMinutes()))},[s,i]),v=f.useCallback(E=>{const k=Number(E.currentTarget.value);s(Qd(i,k))},[s,i]),b=f.useCallback(E=>{const k=Number(E.currentTarget.value);s(ag(i,k))},[s,i]);f.useCallback((E,k)=>{s(ag(Qd(i,k),E))},[s,i]);const x=f.useRef(null);f.useImperativeHandle(t,()=>x.current);const w=f.useCallback(()=>{var E,k;(k=(E=x.current)==null?void 0:E.querySelector('[data-focused="true"]'))==null||k.focus()},[x]),C=f.useCallback(E=>{var _,T;if(!ifn.includes(E.key))return;const k=E.currentTarget;if(E.preventDefault(),k.hasAttribute("data-calendar-grid")){w();return}E.key==="ArrowUp"&&r(Yr(a,-7)),E.key==="ArrowDown"&&r(Yr(a,7)),E.key==="ArrowLeft"&&r(Yr(a,-1)),E.key==="ArrowRight"&&r(Yr(a,1)),(T=(_=x.current)==null?void 0:_.querySelector("[data-preserve-focus]"))==null||T.focus()},[x,w,r,a]);f.useEffect(()=>{w()},[w]),f.useEffect(()=>{var E;(E=document.activeElement)!=null&&E.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&w()},[x,w,a]),f.useCallback(()=>y(Yr(new Date,-1)),[y]),f.useCallback(()=>y(new Date),[y]),f.useCallback(()=>y(Yr(new Date,1)),[y]);const S=f.useCallback(()=>s(new Date),[s]);return u.jsxs(L,{"data-ui":"Calendar",...c,ref:x,children:[u.jsxs(L,{padding:2,children:[ple.dayPresets,u.jsxs(z,{children:[u.jsx(L,{flex:1,children:u.jsx(hfn,{onChange:p,monthNames:l.monthNames,value:a==null?void 0:a.getMonth()})}),u.jsx(L,{marginLeft:2,children:u.jsx(pfn,{moveFocusedDate:m,labels:{goToNextYear:l.goToNextYear,goToPreviousYear:l.goToPreviousYear},onChange:g,value:a.getFullYear()})})]}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(ufn,{weekDayNames:l.weekDayNamesShort,date:a,focused:a,onSelect:y,selected:i}),dfn]})]}),n&&u.jsxs(L,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(z,{align:"center",children:[u.jsxs(z,{align:"center",flex:1,children:[u.jsx(L,{children:u.jsx(Xl,{"aria-label":l.selectHour,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getHours(),onChange:b,children:rfn.map(E=>u.jsx("option",{value:E,children:`${E}`.padStart(2,"0")},E))})}),u.jsx(L,{paddingX:1,children:u.jsx(N,{size:1,children:":"})}),u.jsx(L,{children:u.jsx(Xl,{"aria-label":l.selectMinute,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getMinutes(),onChange:v,children:LE(0,60,o).map(E=>u.jsx("option",{value:E,children:`${E}`.padStart(2,"0")},E))})})]}),u.jsx(L,{marginLeft:2,children:u.jsx(he,{text:l.setToCurrentTime,mode:"bleed",onClick:S})})]}),ple.timePresets]})]})});function hfn(e){const{onChange:t,value:n,monthNames:r}=e;return u.jsx(z,{flex:1,gap:1,children:u.jsx(L,{flex:1,children:u.jsx(Xl,{fontSize:1,radius:2,value:n,onChange:t,padding:2,children:r.map((i,a)=>u.jsx("option",{value:a,children:i},a))})})})}function pfn(e){const{moveFocusedDate:t,onChange:n,value:r,labels:i}=e,a=f.useCallback(()=>t(-12),[t]),o=f.useCallback(()=>t(12),[t]);return u.jsxs(z,{gap:1,children:[u.jsx(he,{"aria-label":i.goToPreviousYear,onClick:a,mode:"bleed",icon:If,tooltipProps:{content:"Previous year"},...mle}),u.jsx(cfn,{value:r,onChange:n,radius:0,style:{width:48}}),u.jsx(he,{"aria-label":i.goToNextYear,onClick:o,mode:"bleed",icon:io,tooltipProps:{content:"Next year"},...mle})]})}const eDe=f.forwardRef(function(e,t){const{value:n=new Date,onChange:r,calendarLabels:i,...a}=e,[o,s]=f.useState(),l=f.useCallback(c=>{r(c),s(void 0)},[r]);return u.jsx(ffn,{...a,labels:i,ref:t,selectedDate:n,onSelect:l,focusedDate:o||n,onFocusedDateChange:s})}),mfn=f.forwardRef(function(e,t){const{value:n,inputValue:r,onInputChange:i,onChange:a,selectTime:o,timeStep:s,calendarLabels:l,constrainSize:c=!0,...d}=e,h=f.useRef(null),p=f.useRef(null),m=f.useRef(null);f.useImperativeHandle(t,()=>p.current);const[g,y]=f.useState(!1);xn(()=>y(!1),()=>[h.current]);const v=f.useCallback(()=>{var C,S;(C=p.current)==null||C.focus(),(S=p.current)==null||S.select()},[]),b=f.useCallback(C=>{C.key==="Escape"&&y(!1)},[]),x=f.useCallback(()=>y(!0),[]),w=u.jsx(z,{style:{padding:"5px"},children:u.jsx(he,{"aria-label":l.ariaLabel,ref:m,icon:Fa,mode:"bleed",onClick:x,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:l.tooltipText}})});return u.jsx($R,{ref:p,...d,value:r,onChange:i,suffix:g?u.jsx(Zl,{zOffset:1e3,children:u.jsx(_n,{constrainSize:c,"data-testid":"date-input-dialog",portal:!0,content:u.jsx(L,{overflow:"auto",children:u.jsx(Yu,{onDeactivation:v,children:u.jsx(eDe,{calendarLabels:l,selectTime:o,timeStep:s,onKeyUp:b,value:n,onChange:a})})}),open:!0,placement:"bottom",ref:h,children:w})}):w})}),gfn=new Date,tDe=f.forwardRef(function(e,t){const{id:n,deserialize:r,formatInputValue:i,onChange:a,parseInputValue:o,placeholder:s,readOnly:l,selectTime:c,serialize:d,timeStep:h,value:p,...m}=e,[g,y]=f.useState(null),{t:v}=q();f.useEffect(()=>{y(null)},[p]);const b=f.useCallback(E=>{const k=E.currentTarget.value,_=k===""?null:o(k);_===null?(a(null),typeof p>"u"&&g&&y(null)):_.isValid?a(d(_.date)):y(k)},[o,a,p,g,d]),x=f.useCallback(E=>{a(E?d(E):null)},[d,a]),w=f.useRef(null);f.useImperativeHandle(t,()=>w.current);const C=g?o(g):p?r(p):null,S=g||(C!=null&&C.isValid?i(C.date):p);return l?u.jsx(Lr,{value:S,readOnly:!0}):u.jsx(mfn,{...m,calendarLabels:e.calendarLabels,id:n,selectTime:c,timeStep:h,placeholder:s||v("inputs.datetime.placeholder",{example:i(gfn)}),ref:w,value:C==null?void 0:C.date,inputValue:S||"",readOnly:!!l,onInputChange:b,onChange:x,customValidity:C==null?void 0:C.error})});function yfn(e){return e instanceof Date&&!isNaN(e.valueOf())}function SG(e){return{ariaLabel:e("calendar.button.aria-label"),goToTomorrow:e("calendar.action.go-to-tomorrow"),goToToday:e("calendar.action.go-to-today"),goToYesterday:e("calendar.action.go-to-yesterday"),goToNextMonth:e("calendar.action.go-to-next-month"),goToPreviousMonth:e("calendar.action.go-to-previous-month"),goToNextYear:e("calendar.action.go-to-next-year"),goToPreviousYear:e("calendar.action.go-to-previous-year"),setToCurrentTime:e("calendar.action.set-to-current-time"),selectHour:e("calendar.action.select-hour"),selectMinute:e("calendar.action.select-minute"),tooltipText:e("calendar.button.tooltip-text"),monthNames:[e("calendar.month-names.january"),e("calendar.month-names.february"),e("calendar.month-names.march"),e("calendar.month-names.april"),e("calendar.month-names.may"),e("calendar.month-names.june"),e("calendar.month-names.july"),e("calendar.month-names.august"),e("calendar.month-names.september"),e("calendar.month-names.october"),e("calendar.month-names.november"),e("calendar.month-names.december")],weekDayNamesShort:[e("calendar.weekday-names.short.monday"),e("calendar.weekday-names.short.tuesday"),e("calendar.weekday-names.short.wednesday"),e("calendar.weekday-names.short.thursday"),e("calendar.weekday-names.short.friday"),e("calendar.weekday-names.short.saturday"),e("calendar.weekday-names.short.sunday")],setToTimePreset:(t,n)=>e("calendar.action.set-to-time-preset",{time:t,date:n})}}const vfn=e=>tM(e,Vp),bfn=e=>cb(e,Vp);function xfn(e){var p;const{readOnly:t,onChange:n,schemaType:r,elementProps:i,value:a}=e,o=((p=r.options)==null?void 0:p.dateFormat)||Vp,{t:s}=q(),l=f.useCallback(m=>{n(m===null?vt():ft(m))},[n]),c=f.useCallback(m=>cb(m,o),[o]),d=f.useCallback(m=>tM(m,o),[o]),h=f.useMemo(()=>SG(s),[s]);return u.jsx(tDe,{...i,deserialize:vfn,formatInputValue:c,onChange:l,parseInputValue:d,placeholder:r.placeholder,calendarLabels:h,readOnly:t,selectTime:!1,serialize:bfn,value:a})}function wfn(e={}){return{dateFormat:e.dateFormat||Vp,timeFormat:e.timeFormat||Jz,timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function nDe(e){return e.toISOString()}function Cfn(e){const t=new Date(e);return yfn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function Sfn(e,t){if(!t||t===1)return e;const n=Yke(e),r=Vke(n),i=r%t;return nDe(i!==0?Qd(n,r-i):n)}function Efn(e){const{onChange:t,schemaType:n,value:r,elementProps:i}=e,{dateFormat:a,timeFormat:o,timeStep:s}=wfn(n.options),{t:l}=q(),c=f.useCallback(m=>{let g=m;g!==null&&s>1&&(g=Sfn(g,s)),t(g===null?vt():ft(g))},[t,s]),d=f.useCallback(m=>cb(m,`${a} ${o}`),[a,o]),h=f.useCallback(m=>tM(m,`${a} ${o}`),[a,o]),p=f.useMemo(()=>SG(l),[l]);return u.jsx(tDe,{...i,calendarLabels:p,onChange:c,deserialize:Cfn,formatInputValue:d,parseInputValue:h,placeholder:n.placeholder,selectTime:!0,serialize:nDe,timeStep:s,value:r})}function kfn(e){const{validationError:t,elementProps:n}=e;return u.jsx(Lr,{...n,type:"email",inputMode:"email",customValidity:t})}const _fn=(e,t)=>{if(typeof e=="function")throw new Error(`Schema type "${(t==null?void 0:t.name)||"<not-found>"}"'s \`validation\` was not run though \`inferFromSchema\``);return e?Array.isArray(e)?e:[e]:[]};function nT(e,t){for(const n of _fn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function rDe(e){const{schemaType:t,validationError:n,elementProps:r}=e,i=nT(t,"min"),a=nT(t,"integer"),o=nT(t,"precision"),s=typeof(i==null?void 0:i.constraint)=="number"&&(i==null?void 0:i.constraint)>=0,l=a||(o==null?void 0:o.constraint)===0;return u.jsx(Lr,{...r,type:"number",step:"any",inputMode:s?l?"numeric":"decimal":"text",customValidity:n,placeholder:t.placeholder,pattern:s?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}const Tfn=f.forwardRef(function(e,t){const{onClick:n}=e,r=f.useCallback(()=>{n==null||n(e.name)},[e.name,n]);return u.jsx(BC,{"data-testid":`group-tab-${e.name}`,id:`${e.name}-tab`,label:e.title,ref:t,...e,onClick:r})}),Afn=e=>{const{name:t,title:n,...r}=e,{selected:i}=e;return u.jsx("option",{title:n,value:t,id:`${t}-tab`,"aria-controls":r["aria-controls"],"data-testid":`group-select-${t}`,"aria-selected":i?"true":"false",children:n||t})},jfn=$(vD)`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`,Ifn=({inputId:e,groups:t,onClick:n,shouldAutoFocus:r=!0,disabled:i})=>{const{t:a}=q();return u.jsx(Yv,{space:2,"data-testid":"field-group-tabs",children:t.map(o=>{var l;const s=(l=o.i18n)!=null&&l.title?a(o.i18n.title.key,{ns:o.i18n.title.ns}):o.title||o.name;return u.jsx(Tfn,{"aria-controls":`${e}-field-group-fields`,autoFocus:r&&o.selected,disabled:i||o.disabled,icon:o==null?void 0:o.icon,name:o.name,onClick:n,selected:!!o.selected,title:s},`${e}-${o.name}-tab`)})})},Dfn=({disabled:e,groups:t,inputId:n,onSelect:r,shouldAutoFocus:i=!0})=>{var s;const a=f.useCallback(l=>{r(l.currentTarget.value)},[r]),{t:o}=q();return u.jsx(Xl,{"aria-label":o("inputs.object.field-group-tabs.aria-label"),autoFocus:i,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:a,value:(s=t.find(l=>l.selected))==null?void 0:s.name,children:t.map(l=>{var d;const c=(d=l.i18n)!=null&&d.title?o(l.i18n.title.key,{ns:l.i18n.title.ns}):l.title||l.name;return u.jsx(Afn,{"aria-controls":`${n}-field-group-fields`,disabled:l.disabled,name:l.name,selected:!!l.selected,title:c},`${n}-${l.name}-tab`)})})},Mfn=f.memo(function({disabled:e=!1,onClick:t,...n}){const r=f.useCallback(i=>{t==null||t(i)},[t]);return u.jsxs(jfn,{"data-testid":"field-group-root",children:[u.jsx(Ifn,{...n,disabled:e,onClick:r}),u.jsx(Dfn,{...n,disabled:e,onSelect:r})]})}),Rfn=$(ie)`
  margin-bottom: ${({$level:e,theme:t})=>e===0?0:t.sanity.space[5]*-1}px;
  padding-bottom: ${({$level:e,theme:t})=>t.sanity.space[4]}px;
`,Ofn=$(Gn)`
  align-items: flex-end;
`;function $fn(e){const{fieldNames:t,onChange:n,readOnly:r,value:i}=e,a=t.length,o=f.useCallback(l=>{n(vt([l]))},[n]),{t:s}=q();return u.jsxs(Ju,{status:"warning",title:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.title",{count:a})}),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.description",{count:a})})}),u.jsxs(D0,{marginTop:4,open:cl,title:s("inputs.object.unknown-fields.warning.details.title"),children:[u.jsx(L,{marginBottom:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.details.description",{count:a})})})}),u.jsx(ne,{as:"ul",space:3,children:t.map(l=>u.jsx(Pfn,{fieldName:l,onUnsetClick:o,readOnly:r,value:i==null?void 0:i[l]},l))})]})]})}function Pfn({fieldName:e,onUnsetClick:t,readOnly:n,value:r}){const i=f.useCallback(()=>{t(e)},[e,t]),{t:a}=q();return u.jsxs(ie,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[u.jsx(ie,{padding:3,shadow:1,tone:"inherit",children:u.jsx(mi,{size:1,children:e})}),u.jsx(L,{overflow:"auto",padding:3,children:u.jsx(mi,{language:"json",size:1,children:JSON.stringify(r,null,2)})}),n&&u.jsx(L,{padding:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:a,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),!n&&u.jsx(ie,{padding:3,shadow:1,tone:"inherit",children:u.jsx(he,{icon:Jr,mode:"ghost",onClick:i,size:"large",tone:"critical",text:a("inputs.object.unknown-fields.remove-field-button.text")})})]})}const Ffn=$(ne)`
  // Disable focus ring for the object block. We instead highlight the left border on the fieldset
  // for level > 0 to signal that you have focused on the object
  &:focus {
    outline: none;
  }
`,gle=f.memo(function(e){const{__internal_arrayEditingModal:t=null,groups:n,id:r,members:i,onChange:a,onFieldGroupSelect:o,renderAnnotation:s,renderBlock:l,renderField:c,renderInlineBlock:d,renderInput:h,renderItem:p,renderPreview:m,schemaType:g,path:y,level:v,value:b,onPathFocus:x}=e,w=f.useRef(null),{columns:C}=g.options||{},S=f.useMemo(()=>r!=="root"&&!(y.length>0&&En(xU(y))),[r,y]),E=f.useMemo(()=>{if(!g.fields)return null;const j=g.fields.map(I=>I.name),A=Object.keys(b||{}).filter(I=>!I.startsWith("_")&&!j.includes(I));return A.length===0?null:u.jsx($fn,{fieldNames:A,value:b,onChange:a})},[a,g.fields,b]),k=f.useMemo(()=>n.find(({selected:j})=>j),[n]),_=f.useCallback(j=>{S&&j.target===w.current&&x(rn)},[S,x]),T=f.useCallback(()=>u.jsx(Lon,{members:i,renderAnnotation:s,renderBlock:l,renderField:c,renderInlineBlock:d,renderInput:h,renderItem:p,renderPreview:m}),[i,s,l,c,d,h,p,m]);return i.length===0?null:u.jsxs(u.Fragment,{children:[t,u.jsxs(Ffn,{space:6,tabIndex:S?0:void 0,onFocus:_,ref:w,children:[n.length>0?u.jsx(Rfn,{$level:v,"data-testid":"field-groups",children:u.jsx(Mfn,{groups:n,inputId:r,onClick:o,shouldAutoFocus:!1})}):null,u.jsx(f.Fragment,{children:C?u.jsx(Ofn,{columns:C,gap:4,marginTop:1,children:T()}):T()},k==null?void 0:k.name),E]})]})}),Nfn=(e,t)=>{var r;const n=(r=t.options)==null?void 0:r.maxLength;return e?XAe(e,{truncate:typeof n=="number"?n:200,symbols:!0}):""};async function Lfn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Nfn)(e,t,n)}function Bfn(e){const[t,n]=f.useState(null),r=f.useRef(0),i=f.useCallback(a=>{const o=++r.current;n({status:"pending"}),Promise.resolve().then(()=>e(a)).then(s=>{o===r.current&&n({status:"complete",result:s})},s=>{o===r.current&&n({status:"error",error:s})})},[e]);return[t,i]}function Vfn(){const{getClient:e}=Hn(),t=tn(),n=tr(),r=Ek(),i=I$e();return f.useMemo(()=>({projectId:r,dataset:i,getClient:e,schema:t,currentUser:n}),[e,t,n,r,i])}function zfn(e,t,n){const r=e.slice(0,-1),i=_v(t,r);return{parentPath:r,parent:i,...n}}async function Ufn(e,t,n){return typeof e=="function"?e(t,n):_v(t,e)}function Hfn(e){var w;const t=vk(),{path:n,value:r,schemaType:i,validation:a,onChange:o,readOnly:s,elementProps:l}=e,c=(w=i.options)==null?void 0:w.source,d=f.useMemo(()=>a.filter(C=>C.level==="error"),[a]),h=Vfn(),{t:p}=q(),m=f.useCallback(C=>{if(!C){o(Dt.from(vt([])));return}o(Dt.from([Vo({_type:i.name}),ft(C,["current"])]))},[o,i.name]),g=f.useCallback(()=>{if(!c)return Promise.reject(new Error(p("inputs.slug.error.missing-source",{schemaType:i.name})));const C=t([])||{_type:i.name},S=zfn(n,C,h);return Ufn(c,C,S).then(E=>Lfn(E||"",i,S)).then(E=>m(E))},[c,t,i,n,h,m,p]),[y,v]=Bfn(g),b=(y==null?void 0:y.status)==="pending",x=f.useCallback(C=>m(C.currentTarget.value),[m]);return u.jsx(ne,{space:3,children:u.jsxs(z,{gap:1,children:[u.jsxs(L,{flex:1,children:[u.jsx(Lr,{customValidity:d.length>0?d[0].message:"",disabled:b,onChange:x,value:(r==null?void 0:r.current)||"",readOnly:s,...l}),(y==null?void 0:y.status)==="error"&&u.jsx(ie,{padding:2,tone:"critical",children:y.error.message})]}),c&&u.jsx(he,{mode:"ghost",type:"button",disabled:s||b,onClick:v,size:"large",text:(y==null?void 0:y.status)==="pending"?p("inputs.slug.action.generating"):p("inputs.slug.action.generate")})]})})}function iDe(e){const{validationError:t,elementProps:n}=e;return u.jsx(Lr,{...n,customValidity:t,"data-testid":"string-input"})}const Wfn=$(_be)`
  &[data-as='textarea'] {
    resize: vertical;
  }
`;function Gfn(e){const{schemaType:t,validationError:n,value:r,elementProps:i}=e;return u.jsx(Wfn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...i})}function Yfn(e){var a,o,s;const{schemaType:t,validationError:n,elementProps:r}=e,i=(s=(o=(a=nT(t,"uri"))==null?void 0:a.constraint)==null?void 0:o.options)!=null&&s.allowRelative?"text":"url";return u.jsx(Lr,{type:i,inputMode:"url",customValidity:n,...r})}function qfn({value:e,onClearValue:t}){const n=f.useMemo(()=>!!(e!=null&&e._ref),[e==null?void 0:e._ref]),{t:r}=q(),i=u.jsx(gt,{t:r,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:{DocumentationLink:({children:a})=>u.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:a})}});return u.jsxs(ie,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[u.jsxs(z,{gap:4,marginBottom:n?4:void 0,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"h2",size:1,weight:"medium",children:r("inputs.reference.cross-dataset.feature-unavailable-title")}),n&&u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",size:1,children:i}),u.jsx(N,{as:"p",size:1,children:r("inputs.reference.cross-dataset.feature-disabled-actions")})]}),!n&&u.jsx(N,{as:"p",size:1,children:i})]})]}),t&&n&&u.jsx(he,{icon:Bc,mode:"ghost",onClick:t,text:r("inputs.reference.action.clear"),width:"fill"})]})}const Kfn=$(z)`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`;function aDe(e){var y,v,b;const{refType:t,showStudioUrlIcon:n,hasStudioUrl:r,showTypeLabel:i,availability:a,preview:o,id:s,dataset:l,projectId:c}=e,d=(a==null?void 0:a.reason)==="NOT_FOUND",h=(a==null?void 0:a.reason)==="PERMISSION_DENIED",p=(y=o.published)==null?void 0:y.media,{t:m}=q(),g=f.useMemo(()=>{if(p){const x=typeof(p==null?void 0:p.asset)<"u"&&db(p),w=f.isValidElement(p);return!x&&!w?null:function({dimensions:C}){return w?p:u.jsx("img",{src:IE({dataset:l,projectId:c}).image(p).withOptions(C).url(),alt:m("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})}}return t!=null&&t.icon?f.createElement(t.icon):null},[p,l,c,t==null?void 0:t.icon,m]);return u.jsxs(Kfn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[a!=null&&a.available?u.jsx(L,{flex:1,children:u.jsx(z$e,{title:(v=o.published)==null?void 0:v.title,subtitle:(b=o.published)==null?void 0:b.subtitle,media:g||!1})}):u.jsx(L,{flex:1,children:u.jsx(z,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:m("inputs.reference.error.document-unavailable-title")})})})}),u.jsx(L,{paddingLeft:3,children:u.jsxs(Rn,{space:4,children:[t&&i&&u.jsx(ao,{mode:"outline",children:t.title||t.type}),(h||d)&&u.jsx(L,{children:u.jsx(bt,{portal:!0,content:m(d?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:s}),children:u.jsx(Xr,{tone:"default",children:h?u.jsx(sf,{}):u.jsx(gg,{})})})}),!(d||h)&&n&&u.jsx(L,{children:u.jsx(bt,{portal:!0,content:m(r?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:u.jsx(Xr,{size:1,tone:"default",muted:!r,children:u.jsx(Wc,{})})})})]})})]})}const oDe=()=>{},yle={isLoading:!0,result:void 0,error:void 0,retry:oDe},Zfn={isLoading:!1,result:void 0,error:void 0,retry:oDe};function sDe(e,t){const[n,r]=f.useState(0),i=f.useCallback(()=>{r(s=>s+1)},[]),a=f.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),o=f.useMemo(()=>a._id?t(a).pipe(fe(s=>({isLoading:!1,result:s,error:void 0,retry:i,retryAttempt:n})),Wi(yle),kn(s=>(console.error(s),we({isLoading:!1,result:void 0,error:s,retry:i,retryAttempt:n})))):we(Zfn),[a,t,i,n]);return ti(o,yle)}function EG(){return Xt(qt).config().projectId}function Xfn(e){var s;const{isLoading:t,result:n,error:r}=sDe(e.document,e.getReferenceInfo),{t:i}=q(),a=EG();if(t)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(ur,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(ur,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(r)return u.jsx(ne,{space:2,padding:1,children:u.jsx(Ju,{title:i("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(N,{muted:!0,size:1,children:r.message})})});if(!n)return null;if(((s=n.availability)==null?void 0:s.reason)==="PERMISSION_DENIED")return u.jsx(ne,{space:2,padding:1,children:i("inputs.reference.error.missing-read-permissions-description")});const o=e.referenceType.to.find(l=>l.type===n.type);return o?n&&o&&u.jsx(aDe,{id:n.id,availability:n.availability,preview:n.preview,refType:o,dataset:e.referenceType.dataset,projectId:a,showTypeLabel:e.referenceType.to.length>1}):u.jsx(ne,{space:2,padding:1,children:i("inputs.reference.error.invalid-search-result-type-title",{returnedType:n.type})})}function vle(e){var h,p;const{value:t,type:n,showStudioUrlIcon:r,hasStudioUrl:i,referenceInfo:a}=e,{t:o}=q(),s=EG();if(a.isLoading||a.error)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(ur,{style:{maxWidth:320},radius:1,animated:!a.error}),u.jsx(ur,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const l=n.to.length>1,c=(h=a.result)==null?void 0:h.type,d=n.to.find(m=>m.type===c);return(p=a.result.availability)!=null&&p.available&&!d?u.jsx(ne,{space:2,padding:2,children:u.jsx(N,{as:"p",children:u.jsx(gt,{t:o,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:{typeName:c||"unknown"},components:{JsonValue:()=>u.jsx("pre",{children:JSON.stringify(t,null,2)})}})})}):u.jsx(aDe,{availability:a.result.availability,hasStudioUrl:i,showStudioUrlIcon:r,preview:a.result.preview,refType:d,projectId:s,dataset:n.dataset,id:t._ref,showTypeLabel:l})}const Jfn=$(_n)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,Qfn=$(N)`
  word-break: break-word;
`,ehn=["top-start","bottom-start"],thn=f.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:a,...o}=e,{t:s}=q(),l=e.options&&e.options.length>0,c=f.useCallback(({content:d,hidden:h,inputElement:p,onMouseEnter:m,onMouseLeave:g},y)=>u.jsx(Jfn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:ehn,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:u.jsx("div",{ref:y,children:l?d:u.jsx(L,{padding:4,children:u.jsx(z,{align:"center",height:"fill",justify:"center",children:u.jsx(Qfn,{align:"center",muted:!0,children:u.jsx(gt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!h,ref:i,portal:!0,referenceElement:a||p,matchReferenceWidth:!0}),[l,s,n,r,i,a]);return u.jsx(xD,{...o,ref:t,renderPopover:c})}),ble={hits:[],isLoading:!1},nhn=()=>!0,xle=["_ref"],rhn="crossDatasetReferences";function ihn(e){var ee,se;const{changed:t,focused:n,focusPath:r,getReferenceInfo:i,onChange:a,onPathFocus:o,onSearch:s,path:l,readOnly:c,schemaType:d,validation:h,value:p,elementProps:m}=e,{t:g}=q(),y=EG(),[v,b]=f.useState(ble),x=f.useCallback(le=>{if(!le){a(vt()),o([]);return}if(!v.hits.find(oe=>oe.id===le))throw new Error("Selected an item that wasnt part of the result set");a(ft({_type:d.name,_ref:pn(le),_projectId:y,_dataset:d.dataset,_weak:d.weak,_key:p==null?void 0:p._key})),o([])},[p==null?void 0:p._key,v.hits,d.name,d.dataset,d.weak,y,a,o]),w=f.useCallback(()=>{a(vt())},[a]),C=f.useCallback(le=>{le.key==="Escape"&&(o==null||o([]))},[o]),S=f.useCallback(le=>i(le,d),[i,d]),E=f.useMemo(()=>({_id:p==null?void 0:p._ref}),[p==null?void 0:p._ref]),k=sDe(E,S),_=Tk(rhn),T=f.useRef(null),j=r.length===1&&r[0]==="_ref",A=m.ref;jo({hasFocusAt:j,ref:p==null?void 0:p._ref},(le,oe)=>{var ye;const ue=(le==null?void 0:le.ref)!==oe.ref;((le==null?void 0:le.hasFocusAt)!==oe.hasFocusAt||ue)&&oe.hasFocusAt&&((ye=A.current)==null||ye.focus())});const I=p!=null&&p._weak?"weak":"strong",M=d.weak===!0?"weak":"strong",D=!!(p!=null&&p._ref),O=f.useCallback(()=>{a(d.weak===!0?ft(!0,["_weak"]):vt(["_weak"]))},[a,d]),{push:R}=_r(),F=f.useMemo(()=>h.filter(le=>le.level==="error"),[h]),P=f.useCallback(le=>{le.currentTarget===m.ref.current&&(o==null||o([]))},[m.ref,o]),V=f.useCallback(le=>m.onBlur(le),[m]),U=f.useCallback(le=>{le.currentTarget===m.ref.current&&(o==null||o(xle))},[m.ref,o]),H=f.useCallback(()=>{o==null||o(xle)},[o]),W=f.useId(),Z=UD(le=>le.pipe(Nt(ua),hr(),Ct(oe=>ji(we({isLoading:!0}),s(oe).pipe(fe(ue=>({hits:ue,searchString:oe,isLoading:!1})),kn(ue=>(R({title:"Reference search failed",description:ue.message,status:"error",id:`reference-search-fail-${W}`}),console.error(ue),we({hits:[]})))))),Qs((oe,ue)=>({...oe,...ue}),ble),Qn(b))),J=f.useCallback(()=>{Z("")},[Z]),re=!k.isLoading&&D&&I!==M,G=(p==null?void 0:p._ref)&&((se=d.studioUrl)==null?void 0:se.call(d,{id:p==null?void 0:p._ref,type:(ee=k==null?void 0:k.result)==null?void 0:ee.type}))||null,te=f.useCallback(le=>u.jsx(cg,{as:"button",type:"button",radius:2,children:u.jsx(L,{paddingX:3,paddingY:1,children:u.jsx(Xfn,{referenceType:d,document:le.hit.published,getReferenceInfo:S})})}),[d,S]),X=j||!(p!=null&&p._ref),K=f.useRef(null),Q=f.useRef(null);return xn(j&&(()=>o([])),()=>[K.current,Q.current]),u.jsxs(u.Fragment,{children:[!_.isLoading&&!_.enabled&&u.jsx(qfn,{value:p,onClearValue:w}),(_.isLoading||_.enabled)&&u.jsx(ne,{space:1,children:X?u.jsx(ne,{space:2,ref:K,children:u.jsx(no,{path:l,isChanged:t,hasFocus:!!n,children:u.jsx("div",{ref:T,children:u.jsx(thn,{...m,"data-testid":"autocomplete",loading:v.isLoading,referenceElement:T.current,portalRef:Q,id:W||"",options:v.hits.map(le=>({value:le.id,hit:le})),onFocus:U,radius:2,placeholder:g("inputs.reference.search-placeholder"),onKeyDown:C,readOnly:c,disabled:k.isLoading,onQueryChange:Z,searchString:v.searchString,onChange:x,filterOption:nhn,renderOption:te,openButton:{onClick:J}})})})}):u.jsx(no,{path:l,isChanged:t,hasFocus:!!n,children:u.jsxs(ie,{padding:0,border:!0,flex:1,radius:1,tone:c?"transparent":k.error||F.length>0?"critical":"default",children:[u.jsxs(z,{align:"center",padding:1,children:[G?u.jsx(cg,{as:"a",target:"_blank",rel:"noopener noreferrer",href:G,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:P,onBlur:V,ref:m.ref,children:u.jsx(vle,{value:p,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!G,type:d})}):u.jsx(cg,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:P,onBlur:V,ref:m.ref,children:u.jsx(vle,{value:p,referenceInfo:k,showStudioUrlIcon:!0,type:d})}),u.jsx(Rn,{paddingX:1,children:u.jsx(Gt,{button:u.jsx(Si,{"data-testid":"menu-button"}),id:`${W}-menuButton`,menu:u.jsx(Ot,{children:!c&&u.jsxs(u.Fragment,{children:[u.jsx(He,{text:g("inputs.reference.action.clear"),tone:"critical",icon:Bc,"data-testid":"menu-item-clear",onClick:w}),u.jsx(He,{text:g("inputs.reference.action.replace"),icon:n0,"data-testid":"menu-item-replace",onClick:H})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),re&&u.jsx(dG,{actualStrength:I,handleFixStrengthMismatch:O}),k.error&&u.jsx(cG,{errorMessage:k.error.message,onHandleRetry:k.retry})]})})})]})}const ahn="cross-dataset-refs",lDe={available:!0,reason:"READABLE"},ohn={available:!1,reason:"PERMISSION_DENIED"},shn={available:!1,reason:"NOT_FOUND"};function lhn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:i}=t.config(),a=r&&i?{dataset:r,projectId:i}:void 0;return function(o,s){return(o._type?we(o):n.observeDocumentTypeFromId(o._id,a).pipe(fe(l=>({_id:o._id,_type:l})))).pipe(Ct(l=>{if(!l._type)return uhn(t,o._id).pipe(fe(p=>({id:o._id,type:void 0,availability:p,preview:{published:void 0}})));const c=s.to.find(p=>p.type===l._type),d=jG(c==null?void 0:c.preview)||[],h=n.observePaths(o,d,a).pipe(fe(p=>p&&Oj(p,c)));return Hi([h]).pipe(fe(([p])=>({type:l._type,id:o._id,availability:lDe,preview:{published:wt(p)?p:void 0}})))}))}}function uhn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:`${ahn}.availability`};return e.observable.request(n).pipe(fe(r=>{const i=CW(r.omitted||[],a=>a.id)[t];return i?i.reason==="existence"?shn:i.reason==="permission"?ohn:null:lDe}))}function chn(e,t,n,r){return kR(n.to,e,{...r,maxDepth:r.maxFieldDepth})(t,{includeDrafts:!1,isCrossDataset:!0}).pipe(fe(({hits:i})=>i.map(({hit:a})=>a)),fe(uR),fe(i=>i.map(a=>({id:a.id,type:a.type,published:a.published}))))}async function dhn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),a=_v(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function fhn(e){const t=f.useRef(e);return t.current=e,t}function hhn(e){const{path:t,schemaType:n}=e,r=Hn(),i=r.getClient(qt),a=da(),o=r.getClient,{enableLegacySearch:s=!1}=r.search,l=f.useMemo(()=>i.withConfig({dataset:n.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone(),[i,n.dataset]),c=_R(l),d=hk([]),h=fhn(d),p=f.useCallback(g=>Br(dhn(n.options,h.current,t,o)).pipe(Mt(({filter:y,params:v})=>chn(l,g,n,{...n.options,filter:y,params:v,tag:"search.cross-dataset-reference",maxFieldDepth:c,enableLegacySearch:s})),kn(y=>{var b;const v=y.details&&y.details.type==="queryParseError";return(b=n.options)!=null&&b.filter&&v&&(y.message='Invalid reference filter, please check the custom "filter" option'),pp(y)})),[n,h,t,o,l,c,s]),m=f.useMemo(()=>lhn({client:l,documentPreviewStore:a}),[l,a]);return u.jsx(ihn,{...e,getReferenceInfo:m,onSearch:p})}function CS(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:i}=e,a=t==null?void 0:t._ref,o=f.useMemo(()=>r(a),[a,r]),s=ti(o);return u.jsx(u.Fragment,{children:a&&s?n(s):i})}const phn=$(He)`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`,mhn=f.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:a,multiple:o,onSelect:s,text:l,disabled:c,...d}=e,h=`${r||""}-${f.useId()}`,p=f.useCallback(g=>{s&&g.target.files&&s(Array.from(g.target.files))},[s]),m=f.useCallback(g=>u.jsxs("div",{children:[g,u.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:a,id:h,multiple:o,onChange:p,type:"file",value:"",disabled:c})]}),[i,a,c,p,h,o]);return u.jsx(phn,{...d,htmlFor:h,disabled:c,ref:t,icon:n,text:l,renderMenuItem:m})});function uDe(e){const{onUpload:t,onReset:n,readOnly:r,accept:i,directUploads:a,browse:o,downloadUrl:s,copyUrl:l}=e,{push:c}=_r(),{t:d}=q(),h=f.useCallback(()=>{navigator.clipboard.writeText(l||""),c({closable:!0,status:"success",title:d("inputs.files.common.actions-menu.notification.url-copied")})},[l,c,d]);return u.jsxs(u.Fragment,{children:[u.jsx(mhn,{icon:QS,onSelect:t,accept:i,text:d("inputs.files.common.actions-menu.upload.label"),"data-testid":"file-input-upload-button",disabled:r||!a}),o,(s||l)&&u.jsx(fr,{}),s&&u.jsx(He,{as:"a",icon:FI,text:d("inputs.files.common.actions-menu.download.label"),href:s}),l&&u.jsx(He,{icon:Gl,text:d("inputs.files.common.actions-menu.copy-url.label"),onClick:h}),u.jsx(fr,{}),u.jsx(He,{tone:"critical",icon:Bc,text:d("inputs.files.common.actions-menu.clear-field.label"),onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}function ghn(e,t){return new Promise((n,r)=>{const i=new XMLHttpRequest;i.onload=()=>{const a=new FileReader;a.onloadend=()=>{var c;const o=(c=a.result)==null?void 0:c.toString(),s=o==null?void 0:o.indexOf(";base64");if(!o||s===-1){r(new Error("Could not convert URL to file"));return}const l=o.slice(11,s);if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(cDe(a.result,t||`${Ka()}.${l}`))},a.readAsDataURL(i.response)},i.onerror=a=>{r(a)},i.open("GET",e),i.responseType="blob",i.send()})}function yhn(e,t){return new Promise((n,r)=>{const i=e.toString(),a=i.indexOf(";base64");if(!i||a===-1){r(new Error("Could not convert base64 to file"));return}const o=i.slice(11,a);if(!o&&!t){r(new Error("Could not find mime type for image"));return}n(cDe(e,t||`${Ka()}.${o}`))})}function cDe(e,t){var s;const n=e.split(","),r=(s=n[0].match(/:(.*?);/))==null?void 0:s[1],i=atob(n[1]);let a=i.length;const o=new Uint8Array(a);for(;a--;)o[a]=i.charCodeAt(a);return new File([o],t,{type:r})}function dDe({assetFromSource:e,onChange:t,type:n,resolveUploader:r,uploadWith:i,isImage:a}){if(!e)throw new Error("No asset given");if(!Array.isArray(e)||e.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const o=e[0],s=o.assetDocumentProps,l=s==null?void 0:s.originalFilename,c=s==null?void 0:s.label,d=s==null?void 0:s.title,h=s==null?void 0:s.description,p=s==null?void 0:s.creditLine,m=s==null?void 0:s.source,g=a?[vt(["hotspot"]),vt(["crop"])]:[];switch(o.kind){case"assetDocumentId":t([Vo({_type:n.name}),...g,ft({_type:"reference",_ref:o.value},["asset"])]);break;case"file":{const y=r(n,o.value);y&&i(y,o.value,{label:c,title:d,description:h,creditLine:p,source:m});break}case"base64":yhn(o.value,l).then(y=>{const v=r(n,y);v&&i(v,y,{label:c,title:d,description:h,creditLine:p,source:m})});break;case"url":ghn(o.value,l).then(y=>{const v=r(n,y);v&&i(v,y,{label:c,title:d,description:h,creditLine:p,source:m})});break;default:throw new Error("Invalid value returned from asset source plugin")}}const vhn=$(z)`
  pointer-events: none;
`;function fDe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:i,rejectedFilesCount:a,directUploads:o}=e,s=n==="file",{t:l}=q(),c=f.useMemo(()=>r?u.jsx(Rv,{}):t&&a>0||!o?u.jsx(sf,{}):s?u.jsx(Dv,{}):u.jsx(Yl,{}),[o,t,s,r,a]),d=f.useMemo(()=>{if(!o)return l("inputs.files.common.placeholder.upload-not-supported");if(r)return l("inputs.files.common.placeholder.read-only");if(t&&o&&!r){if(i.length>0)return l("inputs.files.common.placeholder.drop-to-upload",{context:n});if(a>0)return l("inputs.files.common.placeholder.cannot-upload-some-files",{count:a})}return l("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:n})},[i.length,o,t,r,a,l,n]);return u.jsxs(vhn,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[u.jsx(N,{muted:!0,size:1,children:c}),u.jsx(N,{size:1,muted:!0,children:d})]})}const hDe=_Ie(IIe(ie)),bhn=$(he).attrs({forwardedAs:"label"})(({theme:e})=>{const{focusRing:t}=e.sanity,n=e.sanity.color.base;return de`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: ${TR({base:n,border:{width:1,color:"var(--card-border-color)"},focusRing:t})};
        }
      }

      // The underlying file input is rendered as children within a Sanity UI <Button> component.
      // The below visibly hides it by targeting the input's parent <span> element, which is
      // added by the <Button> component.
      // TODO: refactor, avoid nth-child selector usage
      & > span:nth-child(2) {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `}),xhn=f.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:a,multiple:o,onSelect:s,text:l,disabled:c,...d}=e,h=`${r||""}-${f.useId()}`,p=f.useCallback(m=>{s&&m.target.files&&s(Array.from(m.target.files))},[s]);return u.jsx(bhn,{...d,icon:n,text:l,htmlFor:h,disabled:c,children:u.jsx("input",{"data-testid":"file-button-input",accept:i,capture:a,id:h,multiple:o,onChange:p,ref:t,type:"file",value:"",disabled:c})})});function whn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:i,hoveringFiles:a,onUpload:o,readOnly:s,rejectedFilesCount:l,type:c}=e,[d,h]=f.useState(null),p=gE(d),m=(p==null?void 0:p.border)&&p.border.width<440,{t:g}=q();return u.jsxs(z,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:h,children:[u.jsx(z,{flex:1,children:u.jsx(fDe,{acceptedFiles:n,directUploads:i,hoveringFiles:a,readOnly:s,rejectedFilesCount:l,type:c})}),u.jsxs(z,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[u.jsx(xhn,{accept:t,"data-testid":"file-input-upload-button",disabled:s||!i,icon:QS,mode:"bleed",onSelect:o,text:g("input.files.common.upload-placeholder.file-input-button.text")}),r]})]})}const pDe=f.memo(whn),mDe=12e4,Chn=$(ie)`
  min-height: 82px;
  box-sizing: border-box;
`,Shn=$(z)`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Ehn=$(ne)`
  position: relative;
  width: 60%;
`,khn=$(mi)`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`,_hn=e=>new Date().getTime()-new Date(e).getTime();function gDe({uploadState:e,onCancel:t,onStale:n,height:r}){const i=e.file.name;f.useEffect(()=>{_hn(e.updatedAt)>mDe&&(n==null||n())},[e.updatedAt,n]);const{t:a}=q();return u.jsx(Chn,{tone:"primary",padding:4,border:!0,style:{height:r?`${r}px`:void 0},children:u.jsxs(Shn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[u.jsxs(Ehn,{children:[u.jsx(z,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:u.jsx(N,{size:1,children:u.jsx(Rn,{space:2,children:u.jsx(gt,{t:a,i18nKey:"input.files.common.upload-progress",components:{FileName:()=>u.jsx(khn,{size:1,children:i||""})}})})})}),u.jsx(ie,{border:!0,marginTop:3,radius:5,children:u.jsx(OPn,{value:e.progress})})]}),t?u.jsx(he,{mode:"ghost",onClick:t,text:a("input.files.common.cancel-upload"),tone:"critical"}):null]})})}function yDe({onClearStale:e}){const{t}=q();return u.jsxs(ie,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(z,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.files.common.stale-upload-warning.title")}),u.jsx(N,{size:1,children:t("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(mDe/1e3/60)})})]})]}),u.jsx(he,{icon:Bc,mode:"ghost",onClick:e,text:t("inputs.files.common.stale-upload-warning.clear"),width:"fill"})]})}function vDe(e,t=2){if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,a)).toFixed(r))} ${i[a]}`}function Thn(e){const{originalFilename:t,size:n,children:r,muted:i,disabled:a,onClick:o,isMenuOpen:s,onMenuOpen:l,setMenuButtonElement:c}=e,[d,h]=f.useState(null),[p,m]=f.useState(null),g=f.useCallback(()=>l(!0),[l]);Yo(f.useCallback(b=>{s&&(b.key==="Escape"||b.key==="Tab")&&(l(!1),p==null||p.focus())},[s,l,p])),xn(b=>{p!=null&&p.contains(b.target)||l(!1)},()=>[d]);const y=f.useCallback(b=>{c(b),m(b)},[c]);f.useEffect(()=>{s&&(d==null||d.focus())},[s,d]);const{t:v}=q();return u.jsxs(z,{wrap:"nowrap",justify:"space-between",align:"center",children:[u.jsx(ie,{as:i||a?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:o,flex:1,children:u.jsxs(z,{wrap:"nowrap",align:"center",children:[u.jsx(ie,{padding:3,tone:"transparent",shadow:1,radius:1,children:u.jsx(N,{muted:i,children:u.jsx(Dv,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",muted:i,"data-testid":"file-name",weight:"medium",children:t}),u.jsx(N,{size:1,muted:!0,"data-testid":"file-size",children:vDe(n)})]})]})}),u.jsx(L,{padding:2,children:u.jsx(z,{justify:"center",children:u.jsx(_n,{content:u.jsx(Ot,{ref:h,children:r}),id:"file-actions-menu",portal:!0,open:s,constrainSize:!0,children:u.jsx(Si,{"aria-label":v("inputs.file.actions-menu.file-options.aria-label"),"data-testid":"options-menu-button",onClick:g,ref:y})})})})]})}function wle(){return u.jsxs(z,{align:"center",justify:"flex-start",padding:2,children:[u.jsx(qc,{padding:3,radius:1,animated:!0}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(ur,{style:{width:"100%"},radius:1,animated:!0}),u.jsx(ur,{style:{width:"100%"},radius:1,animated:!0})]})]})}function Ahn({onClearValue:e}){const{t}=q();return u.jsxs(ie,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(z,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.file.invalid-file-warning.title")}),u.jsx(N,{size:1,children:t("inputs.file.invalid-file-warning.description")})]})]}),u.jsx(he,{icon:Bc,mode:"ghost",onClick:e,text:t("inputs.file.invalid-file-warning.reset-button.text"),width:"fill"})]})}const jhn=$(ie)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,Ihn=$(z)`
  height: 100%;
`;function Dhn({children:e}){return e}const Mhn=["asset"];class Rhn extends f.PureComponent{constructor(n){super(n);Y(this,"_assetFieldPath");Y(this,"uploadSubscription",null);Y(this,"browseButtonElement",null);Y(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1});Y(this,"toast",null);Y(this,"handleRemoveButtonClick",()=>{const{path:n,value:r}=this.props,i=typeof n.slice(-1)[0]!="string",a=Object.keys(r||{}),o=a.filter(l=>!["_type","_key","_upload","asset"].includes(l)).length===0,s=["asset"].concat(a.filter(l=>["_upload"].includes(l))).map(l=>vt([l]));this.props.onChange(Dt.from(o&&!i?vt():s))});Y(this,"handleCancelUpload",()=>{this.cancelUpload()});Y(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()});Y(this,"handleStaleUpload",()=>{this.setState({isStale:!0})});Y(this,"handleClearField",()=>{this.props.onChange(vt(["asset"]))});Y(this,"handleSelectFiles",n=>{const{directUploads:r,readOnly:i}=this.props,{hoveringFiles:a}=this.state;r&&!i?this.uploadFirstAccepted(n):a.length>0&&this.handleFilesOut()});Y(this,"handleSelectFileFromAssetSource",n=>{this.setState({selectedAssetSource:n})});Y(this,"handleAssetSourceClosed",()=>{var n;this.setState({selectedAssetSource:null}),(n=this.browseButtonElement)==null||n.focus()});Y(this,"setBrowseButtonElement",n=>{this.browseButtonElement=n});Y(this,"uploadWith",(n,r,i={})=>{const{schemaType:a,onChange:o,client:s,t:l}=this.props,{source:c}=i,d={metadata:ir(a,"options.metadata"),storeOriginalFilename:ir(a,"options.storeOriginalFilename"),source:c};this.cancelUpload(),this.setState({isUploading:!0}),o(Dt.from([Vo({_type:a.name})])),this.uploadSubscription=n.upload(s,r,a,d).subscribe({next:h=>{h.patches&&o(Dt.from(h.patches))},error:h=>{var p;console.error(h),(p=this.toast)==null||p.push({status:"error",description:l("inputs.file.upload-failed.description"),title:l("inputs.file.upload-failed.title")}),this.clearUploadStatus()},complete:()=>{this.setState({isUploading:!1})}})});Y(this,"handleSelectAssetFromSource",n=>{const{onChange:r,schemaType:i,resolveUploader:a}=this.props;dDe({assetFromSource:n,onChange:r,type:i,resolveUploader:a,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})});Y(this,"handleFileTargetFocus",n=>{var r;n.currentTarget===n.target&&n.currentTarget===((r=this.props.elementProps.ref)==null?void 0:r.current)&&this.props.elementProps.onFocus(n)});Y(this,"handleFilesOver",n=>{this.setState({hoveringFiles:n})});Y(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})});Y(this,"handleUpload",({file:n,uploader:r})=>{this.uploadWith(r,n)});Y(this,"setToast",n=>{this.toast=n});this._assetFieldPath=n.path.concat(Mhn)}clearUploadStatus(){var n;(n=this.props.value)!=null&&n._upload&&this.props.onChange(Dt.from([vt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(n){const{schemaType:r}=this.props,i=n.map(a=>{var o,s;return{file:a,uploader:(s=(o=this.props).resolveUploader)==null?void 0:s.call(o,r,a)}}).find(a=>a.uploader);i&&this.uploadWith(i.uploader,i.file),this.setState({isMenuOpen:!1})}renderUploadState(n){const{isUploading:r}=this.state;return u.jsx(gDe,{uploadState:n,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:n}=this.state,{value:r,schemaType:i,observeAsset:a,t:o}=this.props;if(!n)return null;const s=ir(i,"options.accept",""),l=n.component;return r&&r.asset?u.jsx(CS,{observeAsset:a,reference:r.asset,waitPlaceholder:u.jsx(wle,{}),children:c=>u.jsx(l,{selectedAssets:[c],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:o("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):u.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:o("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:n,changed:r,readOnly:i,elementProps:a}=this.props,{hoveringFiles:o,isStale:s}=this.state,l=!!(n!=null&&n._upload||n!=null&&n.asset);return n&&typeof n.asset<"u"&&!(n!=null&&n._upload)&&!HQ(n)?()=>u.jsx(Ahn,{onClearValue:this.handleClearField}):c=>u.jsxs(u.Fragment,{children:[s&&u.jsx(L,{marginBottom:2,children:u.jsx(yDe,{onClearStale:this.handleClearUploadState})}),u.jsx(no,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:r,children:n!=null&&n._upload?this.renderUploadState(n._upload):u.jsx(hDe,{...a,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!i,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:l||o.length>0,style:{padding:1},sizing:"border",radius:2,children:u.jsxs("div",{style:{position:"relative"},children:[!(n!=null&&n.asset)&&this.renderUploadPlaceholder(),n!=null&&n.asset&&o.length>0?this.renderAssetMenu(this.getFileTone()):null,!(n!=null&&n._upload)&&(n==null?void 0:n.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:n,readOnly:r,assetSources:i,schemaType:a,directUploads:o,observeAsset:s,t:l}=this.props,{isMenuOpen:c}=this.state,d=n==null?void 0:n.asset;if(!d)return null;const h=ir(a,"options.accept","");let p=i&&(i==null?void 0:i.length)===0?null:u.jsx(He,{icon:Ca,text:l("inputs.file.browse-button.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i[0])},disabled:r,"data-testid":"file-input-browse-button"});return i.length>1&&(p=i.map(m=>u.jsx(He,{text:(m.i18nKey?l(m.i18nKey):m.title)||Vn(m.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(m)},icon:m.icon||Yl,disabled:r,"data-testid":`file-input-browse-button-${m.name}`},m.name))),u.jsx(CS,{reference:d,observeAsset:s,waitPlaceholder:u.jsx(wle,{}),children:({originalFilename:m,extension:g,url:y,size:v})=>{const b=m||`download.${g}`;let x,w;return HQ(n)&&(w=`${y}?dl`,x=y),u.jsx(Thn,{size:v,originalFilename:b,muted:!r,onMenuOpen:C=>this.setState({isMenuOpen:C}),isMenuOpen:c,setMenuButtonElement:this.setBrowseButtonElement,children:u.jsx(uDe,{onUpload:this.handleSelectFiles,browse:p,onReset:this.handleRemoveButtonClick,downloadUrl:w,copyUrl:x,readOnly:r,accept:h,directUploads:o})})}})}renderAssetMenu(n){const{schemaType:r,readOnly:i,directUploads:a,resolveUploader:o}=this.props,{hoveringFiles:s}=this.state,l=s.filter(d=>o==null?void 0:o(r,d)),c=s.length-l.length;return u.jsx(jhn,{radius:2,tone:n,children:u.jsx(Ihn,{align:"center",justify:"center",gap:2,flex:1,children:u.jsx(fDe,{readOnly:i,hoveringFiles:s,acceptedFiles:l,rejectedFilesCount:c,directUploads:a,type:"file"})})})}renderBrowser(){const{assetSources:n,readOnly:r,directUploads:i,id:a,t:o}=this.props;return n.length===0?null:n.length>1&&!r&&i?u.jsx(Gt,{id:`${a}_assetFileButton`,ref:this.setBrowseButtonElement,button:u.jsx(he,{mode:"bleed",text:o("inputs.file.multi-browse-button.text"),"data-testid":"file-input-multi-browse-button",icon:Ca}),"data-testid":"input-select-button",menu:u.jsx(Ot,{children:n.map(s=>u.jsx(He,{text:s.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(s)},icon:s.icon||Yl,disabled:r,"data-testid":`file-input-browse-button-${s.name}`},s.name))})}):u.jsx(he,{text:o("inputs.file.browse-button.text"),icon:Ca,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(n[0])},"data-testid":"file-input-browse-button",disabled:r,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:n,schemaType:r,directUploads:i,resolveUploader:a}=this.props,{hoveringFiles:o}=this.state,s=o.filter(d=>a==null?void 0:a(r,d)),l=o.length-s.length,c=ir(r,"options.accept","");return u.jsx(u.Fragment,{children:u.jsx(ie,{tone:n?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:o.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:u.jsx(pDe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:o,acceptedFiles:s,rejectedFilesCount:l,type:"file",accept:c,directUploads:i})})})}getFileTone(){const{directUploads:n,schemaType:r,value:i,readOnly:a,resolveUploader:o}=this.props,{hoveringFiles:s}=this.state,l=s.filter(d=>o==null?void 0:o(r,d)),c=s.length-l.length;return s.length>0&&(c>0||!n)?"critical":!(i!=null&&i._upload)&&!a&&s.length>0?"primary":i!=null&&i._upload&&(i!=null&&i.asset)&&a?"transparent":"default"}render(){const{members:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:a,renderItem:o,renderInput:s,renderField:l,renderPreview:c,t:d}=this.props,{selectedAssetSource:h}=this.state;return u.jsxs(u.Fragment,{children:[u.jsx(H$e,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?u.jsx(fk,{member:p,renderAnnotation:r,renderInlineBlock:a,renderBlock:i,renderInput:p.name==="asset"?this.renderAsset():s,renderField:p.name==="asset"?Dhn:l,renderItem:o,renderPreview:c},p.key):p.kind==="fieldSet"?u.jsx(oG,{member:p,renderAnnotation:r,renderBlock:i,renderField:l,renderInlineBlock:a,renderInput:s,renderItem:o,renderPreview:c},p.key):p.kind==="error"?u.jsx(xR,{member:p},p.key):u.jsx(u.Fragment,{children:d("inputs.file.error.unknown-member-kind",{kind:p.kind})})),h&&this.renderAssetSource()]})}}function Ohn(e){var c;const t=(c=e.schemaType.options)==null?void 0:c.sources,n=da(),{file:r}=ad().__internal,i=Xt(qt),{t:a}=q(),o=f.useCallback((d,h)=>r.directUploads?iG(d,h):null,[r.directUploads]),s=f.useMemo(()=>t||r.assetSources,[r,t]),l=f.useCallback(d=>Xje(n,d),[n]);return u.jsx(Rhn,{...e,t:a,client:i,assetSources:s,directUploads:r.directUploads,observeAsset:l,resolveUploader:o})}const $hn=["asset"];function Phn(e,t){const{elementProps:n,handleClearUploadState:r,handleFilesOut:i,handleFilesOver:a,handleFileTargetFocus:o,handleSelectFiles:s,hoveringFiles:l,inputProps:c,isStale:d,readOnly:h,renderAssetMenu:p,renderPreview:m,renderUploadPlaceholder:g,renderUploadState:y,tone:v,value:b}=e,x=!!(b!=null&&b._upload||b!=null&&b.asset),w=f.useMemo(()=>c.path.concat($hn),[c.path]);return u.jsxs(u.Fragment,{children:[d&&u.jsx(L,{marginBottom:2,children:u.jsx(yDe,{onClearStale:r})}),u.jsx(no,{path:w,hasFocus:!!c.focused,isChanged:c.changed,children:b!=null&&b._upload?y(b._upload):u.jsxs(hDe,{...n,onFocus:o,tabIndex:0,disabled:!!h,onFiles:s,onFilesOver:a,onFilesOut:i,tone:v,$border:x||l.length>0,sizing:"border",radius:2,children:[!(b!=null&&b.asset)&&g(),!(b!=null&&b._upload)&&(b==null?void 0:b.asset)&&u.jsxs("div",{style:{position:"relative"},ref:t,children:[m(),p()]})]})})]})}const Fhn=f.memo(f.forwardRef(Phn)),bDe=$(Rn)`
  position: absolute;
  top: 0;
  right: 0;
`,Nhn=()=>u.jsx(bDe,{padding:2,children:u.jsx(qc,{style:{width:"25px",height:"25px"},animated:!0})});function Lhn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:i,setMenuButtonElement:a,onMenuOpen:o,isMenuOpen:s}=e,[l,c]=f.useState(null),[d,h]=f.useState(null),p=f.useCallback(()=>o(!s),[o,s]);Yo(f.useCallback(y=>{s&&(y.key==="Escape"||y.key==="Tab")&&(o(!1),d==null||d.focus())},[s,o,d])),xn(y=>{d!=null&&d.contains(y.target)||o(!1)},()=>[l]);const m=f.useCallback(y=>{a(y),h(y)},[a]);f.useEffect(()=>{s&&(l==null||l.focus())},[s,l]);const{t:g}=q();return u.jsx(Ja,{children:u.jsxs(bDe,{"data-buttons":!0,space:1,padding:2,children:[r&&u.jsx(he,{"aria-label":g("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:f9,mode:"ghost",onClick:t,ref:i,tooltipProps:{content:g("inputs.image.actions-menu.crop-image-tooltip")}}),u.jsx(_n,{id:"image-actions-menu",content:u.jsx(Ot,{ref:c,children:n}),portal:!0,open:s,constrainSize:!0,children:u.jsx(Si,{"aria-label":g("inputs.image.actions-menu.options.aria-label"),"data-testid":"options-menu-button",mode:"ghost",onClick:p,ref:m})})]})})}function Bhn(e){const{assetSources:t,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:a,handleSelectImageFromAssetSource:o,imageUrlBuilder:s,isImageToolEnabled:l,isMenuOpen:c,observeAsset:d,readOnly:h,schemaType:p,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,value:v}=e,{t:b}=q(),x=f.useMemo(()=>ir(p,"options.accept","image/*"),[p]),w=v==null?void 0:v.asset,C=v&&w&&l;if(!w)return null;let S=t&&t.length===0?null:u.jsx(He,{icon:Ca,text:b("inputs.image.browse-menu.text"),onClick:()=>{y(!1),o(t[0])},disabled:h,"data-testid":"file-input-browse-button"});return t&&t.length>1&&(S=t.map(E=>u.jsx(He,{text:(E.i18nKey?b(E.i18nKey):E.title)||Vn(E.name),onClick:()=>{y(!1),o(E)},icon:E.icon||Yl,"data-testid":`file-input-browse-button-${E.name}`,disabled:h},E.name))),u.jsx(Uhn,{accept:x,browseMenuItem:S,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:a,imageUrlBuilder:s,isMenuOpen:c,observeAsset:d,readOnly:h,reference:w,schemaType:p,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,showAdvancedEditButton:!!C,value:v})}const Vhn=f.memo(Bhn);function zhn(e){const{accept:t,browseMenuItem:n,directUploads:r,handleOpenDialog:i,handleRemoveButtonClick:a,handleSelectFiles:o,imageUrlBuilder:s,isMenuOpen:l,observeAsset:c,readOnly:d,reference:h,setHotspotButtonElement:p,setMenuButtonElement:m,setMenuOpen:g,showAdvancedEditButton:y,value:v}=e,b=h==null?void 0:h._ref,x=f.useMemo(()=>c(b),[b,c]),w=ti(x);if(!b||!w)return u.jsx(Nhn,{});const{_id:C,originalFilename:S,extension:E}=w;let k,_;if(db(v)){const T=S||`download.${E}`;_=s.image(C).forceDownload(T).url(),k=s.image(C).url()}return u.jsx(Lhn,{isMenuOpen:l,onEdit:i,onMenuOpen:g,setHotspotButtonElement:p,setMenuButtonElement:m,showEdit:!!y,children:u.jsx(uDe,{onUpload:o,browse:n,onReset:a,downloadUrl:_,copyUrl:k,readOnly:d,directUploads:r,accept:t})})}const Uhn=f.memo(zhn);function Hhn(e){const{handleAssetSourceClosed:t,handleSelectAssetFromSource:n,observeAsset:r,schemaType:i,selectedAssetSource:a,value:o}=e,s=f.useMemo(()=>ir(i,"options.accept","image/*"),[i]);if(!a)return null;const{component:l}=a;return o&&o.asset?u.jsx(CS,{observeAsset:r,reference:o.asset,children:c=>u.jsx(l,{selectedAssets:[c],assetType:"image",accept:s,selectionType:"single",onClose:t,onSelect:n})}):u.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:t,onSelect:n})}const Whn=f.memo(Hhn),Ghn={portal:!0};function Yhn(e,t){const{assetSources:n,readOnly:r,directUploads:i,id:a,setMenuOpen:o,handleSelectImageFromAssetSource:s}=e,{t:l}=q();return n&&n.length===0?null:n&&n.length>1&&!r&&i?u.jsx(Gt,{id:`${a}_assetImageButton`,ref:t,button:u.jsx(he,{"data-testid":"file-input-multi-browse-button",icon:Ca,iconRight:Di,mode:"bleed",text:l("inputs.image.browse-menu.text")}),menu:u.jsx(Ot,{children:n.map(c=>u.jsx(He,{text:(c.i18nKey?l(c.i18nKey):c.title)||Vn(c.name),onClick:()=>{o(!1),s(c)},icon:c.icon||Yl,disabled:r,"data-testid":`file-input-browse-button-${c.name}`},c.name))}),popover:Ghn}):u.jsx(he,{text:l("inputs.image.browse-menu.text"),icon:Ca,mode:"bleed",onClick:()=>{o(!1),s(n[0])},"data-testid":"file-input-browse-button",disabled:r})}const qhn=f.memo(f.forwardRef(Yhn)),Cle=$(L)`
  position: relative;
  padding-bottom: calc(${({ratio:e=3/2})=>1/e} * 100%);

  & > div {
    position: absolute;
    top: ${({padding:e=0})=>e}px;
    left: ${({padding:e=0})=>e}px;
    right: ${({padding:e=0})=>e}px;
    bottom: ${({padding:e=0})=>e}px;
  }
`,wf={x:.5,y:.5,height:1,width:1},Cf={top:0,left:0,right:0,bottom:0};function Khn(e={}){const t=Sle(e.image)||1,n=e.hotspot||wf,r=e.crop||Cf,i=Sle(e.container)||t*Xhn(r),a=e.align||{x:"center",y:"center"},o=Zhn(t,{hotspot:n,crop:r},{aspect:i,align:a}),s=wDe(xDe(100/i));return{debug:{result:o},container:{overflow:"hidden",position:"relative",width:"100%",height:s},padding:{marginTop:s},crop:{position:"absolute",overflow:"hidden",height:eh(o.crop.height),width:eh(o.crop.width),top:eh(o.crop.top),left:eh(o.crop.left)},image:{position:"absolute",height:eh(o.image.height),width:eh(o.image.width),top:eh(o.image.top),left:eh(o.image.left)}}}function Sle(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error(`Height and width must be numbers, got ${JSON.stringify(e)}`);return e.width/e.height}return null}function xDe(e,t=2){const n=Math.pow(10,t);return Math.round(e*n)/n}function Zhn(e,t,n){const r=t.crop,i=n.aspect,a=n.align,o=1-r.left-r.right,s=1-r.top-r.bottom,l={top:-r.top/s,left:-r.left/o,width:1/o,height:1/s},c=o/s*e,d={x:(t.hotspot.x-r.left)/o,y:(t.hotspot.y-r.top)/s,height:t.hotspot.height/s,width:t.hotspot.width/o},h=1/d.width,p=1/d.height*c/i,m=Math.min(h,p);let g;const y=c<=i;y?g=1:g=c/i;let v,b;if(g>m){v="letterbox";let x;const w=g-m;y?x=1-w:x=m,b={width:x,height:x/c*i,left:0,top:0};const C=d.x*b.width-d.width*b.width/2;switch(a.x){case"left":b.left=y?0:-C;break;case"right":b.left=y?1-b.width:C;break;case"center":b.left=y?(1-b.width)/2:-C;break;default:throw new Error(`Invalid x alignment: '${a.x}'. Must be either 'left', 'right' or 'center'`)}const S=d.y*b.height-d.height*b.height/2;switch(a.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error(`Invalid y alignment: '${a.y}'. Must be either 'top', 'bottom' or 'center'`)}}else if(y){v="full_width";let x=-d.y/c*i+.5;const w=g/c*i;x>0?x=0:-x>w-1&&(x=-(w-1)),b={width:g,height:w,left:0,top:x}}else{v="full_height";const x=g;let w=.5-d.x*g;w>0?w=0:-w>x-1&&(w=-(x-1)),b={width:x,height:g/c*i,top:0,left:w}}return{method:v,crop:b,image:l}}function Xhn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function wDe(e){return e===0?0:`${e}%`}function eh(e){return wDe(xDe(e*100))}const Jhn=$.div`
  position: relative;
  width: 100%;
`,Qhn=gi("sanity-imagetool");function epn(e,t){const n=1/t,r=t*n,i=r-(e.left+e.right)*r,a=n-(e.top+e.bottom)*n;return i/a}const tpn=f.memo(function(e){const{alignX:t="center",alignY:n="center",alt:r,aspectRatio:i="none",className:a="",crop:o=Cf,hotspot:s=wf,onError:l,onLoad:c,src:d,srcAspectRatio:h,srcSet:p,style:m}=e,[g,y]=f.useState(null),v=f.useRef(null),b=f.useRef(null),x=f.useCallback(()=>{if(v.current)if(i==="auto"){const S=v.current.parentNode;f.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);f.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Qhn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",d),S.src=S.src),x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[d,x]);const w=f.useMemo(()=>i==="none"?o?epn(o,h):h:i==="auto"?g:i||null,[i,g,o,h]),C=f.useMemo(()=>Khn({container:{aspectRatio:w||h},image:{aspectRatio:h},hotspot:s,crop:o,align:{x:t,y:n}}),[t,n,o,s,h,w]);return u.jsx(Jhn,{className:`${a}`,style:m,ref:v,children:u.jsxs("div",{style:C.container,children:[u.jsx("div",{style:C.padding}),u.jsx("div",{style:C.crop,children:u.jsx("img",{ref:b,src:d,alt:r,srcSet:p,onLoad:c,onError:l,style:C.image})})]})})});function npn(e){const{src:t,children:n}=e,[r,i]=f.useState(!0),[a,o]=f.useState(null),[s,l]=f.useState(null);return f.useEffect(()=>{o(null),l(null),i(!0);const c=new Image;c.onload=()=>{o(c),l(null),i(!1)},c.onerror=()=>{l(new Error(`Could not load image from ${JSON.stringify(t)}`)),i(!1)},c.referrerPolicy="strict-origin-when-cross-origin",c.src=t},[t]),n({image:a,error:s,isLoading:r})}function rpn(e){const{image:t,maxHeight:n,maxWidth:r,children:i}=e,a=f.useRef(null),[o,s]=f.useState(!1);return f.useLayoutEffect(()=>{if(!a.current){const v=document.createElement("canvas");v.style.display="none",a.current=v,s(!0)}const l=t.width/t.height,c=Math.min(t.width,r),d=Math.min(t.height,n),h=t.width>t.height,p=h?c:d*l,m=h?c/l:d;a.current.width=p,a.current.height=m;const g=a.current.getContext("2d");g&&g.drawImage(t,0,0,t.width,t.height,0,0,p,m);const y=a.current;return document.body.appendChild(y),()=>{document.body.removeChild(y)}},[t,n,r]),!a.current||!o?null:i(a.current)}class w6{constructor(t,n){Y(this,"x");Y(this,"y");this.x=t,this.y=n}}class Ele{constructor(t,n,r){Y(this,"y");Y(this,"_left");Y(this,"_right");this.y=t,this._left=n,this._right=r}get right(){return new w6(this._right,this.y)}get left(){return new w6(this._left,this.y)}get length(){return this._right-this._left}}class ipn{constructor(t){Y(this,"rect");this.rect=t}get top(){return new Ele(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Ele(this.rect.bottom,this.rect.left,this.rect.right)}}class ea{constructor(t=0,n=0,r=0,i=0){Y(this,"left");Y(this,"top");Y(this,"width");Y(this,"height");this.left=t,this.top=n,this.width=r,this.height=i}static fromEdges({left:t,right:n,top:r,bottom:i}){return new ea(t,r,1-t-n,1-r-i)}setTopLeft(t,n){return new ea(t,n,this.width||0,this.height||0)}setSize(t,n){return new ea(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,i=this.height||0;return new ea(t-r/2,n-i/2,r||0,i||0)}get center(){return new w6(this.left+this.width/2,this.top+this.height/2)}get corners(){return new ipn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new ea((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new ea(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,i=this.height*t.height,a=this.width*t.width;return new ea(r,n,a,i)}clamp(t){let{left:n,top:r,width:i,height:a}=this;return t.width<i&&(i=t.width,n=t.left),t.height<a&&(a=t.height,r=t.top),n+i>t.left+t.width&&(n=t.right-i),r+a>t.top+t.height&&(r=t.bottom-a),new ea(Math.max(n,t.left),Math.max(r,t.top),i,a)}}function kle(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,i=t.height/2;if(r<=0||i<=0)return!1;const a={x:e.x-n.x,y:e.y-n.y};return Math.pow(a.x,2)/Math.pow(r,2)+Math.pow(a.y,2)/Math.pow(i,2)<=1}function _le({x:e,y:t},n){return Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.radius,2)}function FP(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function CDe(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}const apn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",opn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",spn=f.forwardRef(function(e,t){const{readOnly:n,onDragStart:r,onDragEnd:i,onDrag:a,...o}=e,s=f.useRef(null),l=f.useRef(null),c=f.useRef(!1),d=f.useCallback(y=>{if(n||!s.current)return;if(c.current){I5("Start cancelled, already a drag in progress");return}c.current=!0;const v=LP(y);I5("Drag started %o",v),r(NP(v.x,v.y,s.current.getBoundingClientRect())),l.current=v},[r,n]),h=f.useCallback(y=>{if(!c.current||n||!l.current)return;const v=LP(y),b=cpn(v,l.current);a(b),I5("moving by %o",b),l.current=v},[a,n]),p=f.useCallback(()=>{!c.current||n||!l.current||!s.current||(c.current=!1,i(NP(l.current.x,l.current.y,s.current.getBoundingClientRect())),l.current=null)},[i,n]),m=f.useCallback(y=>{if(!c.current||n||!s.current)return;const v=LP(y);i(NP(v.x,v.y,s.current.getBoundingClientRect())),c.current=!1,l.current=null,I5("Done moving %o",v)},[i,n]);f.useEffect(()=>(document.body.addEventListener("pointermove",h),document.body.addEventListener("pointerup",m),document.body.addEventListener("pointerleave",p),document.body.addEventListener("pointercancel",p),()=>{document.body.removeEventListener("pointermove",h),document.body.removeEventListener("pointerup",m),document.body.removeEventListener("pointerleave",p),document.body.removeEventListener("pointercancel",p)}),[h,p,m]);const g=f.useCallback(y=>{s.current=y,typeof t=="function"?t(y):t&&(t.current=y)},[t]);return u.jsx(upn,{ref:g,onPointerDown:n?void 0:d,...o})}),lpn=f.memo(spn),I5=gi("sanity-imagetool"),upn=$.canvas`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
  // Enable only multi-finger panning and zooming within this element.
  // This prevents single finger panning when manipulating drag handles,
  // which can cause unwanted scrolling in the underlying document body.
  touch-action: pinch-zoom;
`;function NP(e,t,n){return{x:e-n.left,y:t-n.top}}function LP(e){return{x:e.clientX,y:e.clientY}}function cpn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dpn({context:e,image:t,MARGIN_PX:n,scale:r}){const i=new ea().setSize(t.width,t.height).shrink(n*r);e.save(),e.fillStyle="white",e.clearRect(0,0,t.width,t.height),e.globalAlpha=.3,e.drawImage(t,i.left,i.top,i.width,i.height),e.restore()}function fpn({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:n,image:r,MARGIN_PX:i,opacity:a,readOnly:o,scale:s}){const l=new ea().setSize(r.width,r.height),{hotspot:c,crop:d}=e,h=i*s;t.save(),y(),p(),t.clip(),g(),t.restore(),o||v(Math.PI*1.25);function p(){t.save();const b=l.shrink(h).multiply(c),x=b.height/b.width;t.scale(1,x),t.beginPath(),t.globalAlpha=a,t.arc(b.center.x,b.center.y/x,Math.abs(b.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*s,t.stroke(),t.closePath(),t.restore()}function m(b,x,w,C,S,E,k,_){t.save(),t.drawImage(r,b,x,w,C,S,E,k,_),t.restore()}function g(){const b=l.multiply(c),x=l.shrink(h).multiply(c);m(b.left,b.top,b.width,b.height,x.left,x.top,x.width,x.height)}function y(){const b=l.cropRelative(d),x=l.shrink(h).cropRelative(d);t.save(),m(b.left,b.top,b.width,b.height,x.left,x.top,x.width,x.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(x.left,x.top,x.width,x.height),t.restore()}function v(b){t.save();const x=n*s,w=l.shrink(h).multiply(c),C=CDe(b,w);t.beginPath(),t.arc(C.x,C.y,x,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(C.x,C.y,x,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*s,t.stroke(),t.closePath()}}function hpn({context:e,hotspotRect:t,image:n,MARGIN_PX:r,scale:i}){e.save();const a=r*i;e.setLineDash&&e.setLineDash([2*i,2*i]),e.lineWidth=.5*i,e.strokeStyle="rgba(200, 200, 200, 0.5)",o(t.center.x),s(t.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",s(t.top),s(t.bottom),o(t.left),o(t.right),e.restore();function o(c){l(c,a,c,n.height-a)}function s(c){l(a,c,n.width-a,c)}function l(c,d,h,p){e.beginPath(),e.moveTo(c,d),e.lineTo(h,p),e.stroke(),e.closePath()}}function ppn({context:e,cropRect:t}){e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(t.left,t.top,t.width,t.height),e.stroke(),e.closePath(),e.restore()}function mpn({context:e,cropHandles:t,cropping:n,opacity:r}){e.save(),SDe.forEach(i=>{e.fillStyle=n===i?`rgba(202, 54, 53, ${r})`:`rgba(230, 230, 230, ${r+.4})`;const{left:a,top:o,height:s,width:l}=t[i];e.fillRect(a,o,l,s),e.beginPath(),e.fillStyle=`rgba(66, 66, 66, ${r})`,e.rect(a,o,l,s),e.closePath(),e.stroke()}),e.restore()}const SDe=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];function gpn({clampedValue:e,context:t,cropHandles:n,cropping:r,cropRect:i,HOTSPOT_HANDLE_SIZE:a,hotspotRect:o,image:s,MARGIN_PX:l,pointerPosition:c,ratio:d,readOnly:h,scale:p}){t.save(),t.scale(d,d);const m=!h&&c?.8:.2;dpn({context:t,image:s,MARGIN_PX:l,scale:p}),fpn({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:a,image:s,MARGIN_PX:l,opacity:m,readOnly:h,scale:p}),hpn({context:t,hotspotRect:o,image:s,MARGIN_PX:l,scale:p}),ppn({context:t,cropRect:i}),h||mpn({context:t,cropHandles:n,cropping:r,opacity:m}),t.restore()}const ypn=$.div`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`;function vpn(){const[e,t]=f.useState(null),[n,r]=f.useState(0),[i,a]=f.useState(0),o=f.useMemo(()=>({height:n,width:i}),[n,i]);return f.useEffect(()=>{if(e)return r(e.clientHeight),a(e.clientWidth),vS.observe(e,s=>{r(Math.round(s.contentRect.height)),a(Math.round(s.contentRect.width))}),()=>{vS.unobserve(e)}},[e]),[o,t]}const C6=8,bpn=12,xpn=10;function wpn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Cpn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Tle(e,t){const{top:n,right:r,bottom:i,left:a}=e.crop||Cf,o={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:i+(t.bottom||0)>0?i:0,left:a+(t.left||0)>0?a:0}},s={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:i+(t.bottom||0)>0&&t.bottom||0,left:a+(t.left||0)>0&&t.left||0};return{value:o,delta:s}}function Spn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}function Epn(e){const{image:t,readOnly:n,onChange:r,onChangeEnd:i,value:a}=e,o=bwe(),[s,l]=vpn(),c=f.useMemo(()=>t.width/s.width,[s.width,t.width]),d=f.useMemo(()=>{const g=a.hotspot||wf,y=new ea().setSize(g.width,g.height).setCenter(g.x,g.y);return new ea().setSize(t.width,t.height).shrink(C6*c).multiply(y)},[t.height,t.width,c,a.hotspot]),h=f.useMemo(()=>new ea().setSize(t.width,t.height).shrink(C6*c).cropRelative(ea.fromEdges(a.crop||Cf).clamp(new ea(0,0,1,1))),[t.height,t.width,c,a.crop]),p=f.useMemo(()=>{const g=h,y=bpn*c,v=y/2,b=new ea(0,0,y,y);return{left:b.setTopLeft(g.left-v,g.center.y-v),right:b.setTopLeft(g.right-v,g.center.y-v),top:b.setTopLeft(g.center.x-v,g.top-v),topLeft:b.setTopLeft(g.left-v,g.top-v),topRight:b.setTopLeft(g.right-v,g.top-v),bottom:b.setTopLeft(g.center.x-v,g.bottom-v),bottomLeft:b.setTopLeft(g.left-v,g.bottom-v),bottomRight:b.setTopLeft(g.right-v,g.bottom-v)}},[h,c]),m=f.useMemo(()=>{const g=ea.fromEdges(a.crop||Cf).clamp(new ea(0,0,1,1)),y=a.hotspot||wf,v=new ea(0,0,1,1).setSize(y.width,y.height).setCenter(y.x,y.y).clamp(g);return{crop:g,hotspot:v}},[a.crop,a.hotspot]);return u.jsx(_pn,{actualSize:s,hotspotRect:d,cropRect:h,cropHandles:p,clampedValue:m,image:t,onChange:r,onChangeEnd:i,ratio:o,readOnly:n,scale:c,setCanvasObserver:l,value:a})}const kpn=f.memo(Epn);class _pn extends f.PureComponent{constructor(){super(...arguments);Y(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,pointerPosition:null});Y(this,"canvas");Y(this,"handleDragStart",({x:n,y:r})=>{const i={x:n*this.props.scale,y:r*this.props.scale},a=kle(i,this.props.hotspotRect),o=_le(i,this.getDragHandleCoords()),s=this.getActiveCropHandleFor(i),l=FP(i,this.props.cropRect);s?this.setState({cropping:s}):o?this.setState({resizing:!0}):a?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})});Y(this,"handleDrag",n=>{this.state.cropping?this.emitCrop(this.state.cropping,n):this.state.cropMoving?this.emitCropMove(n):this.state.moving?this.emitMove(n):this.state.resizing&&this.emitResize(n)});Y(this,"handleDragEnd",()=>{const{onChange:n,onChangeEnd:r}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:i,crop:a}=this.props.clampedValue,o=wpn(a),s={crop:{top:o.top,bottom:1-o.bottom,left:o.left,right:1-o.right},hotspot:{x:i.center.x,y:i.center.y,height:Math.abs(i.height),width:Math.abs(i.width)}};n(s),r&&r(s)});Y(this,"handlePointerOut",()=>{this.setState({pointerPosition:null})});Y(this,"handlePointerMove",n=>{const r=n.currentTarget.getBoundingClientRect();this.setState({pointerPosition:{x:(n.clientX-r.left)*this.props.scale,y:(n.clientY-r.top)*this.props.scale}})});Y(this,"setCanvas",n=>{n&&(this.canvas=n),this.props.setCanvasObserver(n)})}getActiveCropHandleFor({x:n,y:r}){const i=this.props.cropHandles;for(const a of SDe)if(FP({x:n,y:r},i[a]))return a;return!1}emitMove(n){const{image:r,value:i,onChange:a}=this.props,o=this.props.scale,s={x:n.x*o/r.width,y:n.y*o/r.height};a(Tpn(i,s))}emitCropMove(n){const{image:r,onChange:i,value:a}=this.props,o=this.props.scale,s=n.x*o/r.width,l=-n.x*o/r.width,c=n.y*o/r.height,d=-n.y*o/r.height,h={left:s,right:l,top:c,bottom:d};Cpn(a,h)&&i(Ale(a,h))}emitCrop(n,r){const{image:i,onChange:a,value:o}=this.props,s=this.props.scale;let l=0,c=0,d=0,h=0;n=="left"||n==="topLeft"||n==="bottomLeft"?l=r.x*s/i.width:(n=="right"||n==="topRight"||n==="bottomRight")&&(c=-r.x*s/i.width),n=="top"||n==="topLeft"||n==="topRight"?d=r.y*s/i.height:(n=="bottom"||n==="bottomLeft"||n==="bottomRight")&&(h=-r.y*s/i.height);const p={left:l,right:c,top:d,bottom:h},m=Tle(o,p).value,g=Tle(o,p).delta;a(Ale(m,g))}emitResize(n){const{image:r,onChange:i,value:a}=this.props,o=this.props.scale,s={x:n.x*o*2/r.width,y:n.y*o*2/r.height};i(Apn(a,{height:s.y,width:s.x}))}getDragHandleCoords(){const n=this.props.hotspotRect,r=CDe(Math.PI*1.25,n);return{x:r.x,y:r.y,radius:8*this.props.scale}}getCursor(){const{pointerPosition:n}=this.state,{readOnly:r}=this.props;if(!n||r)return"auto";const i=this.state.cropping||this.getActiveCropHandleFor(n);if(i)return Spn(i)||"auto";const a=_le(n,this.getDragHandleCoords());if(this.state.resizing||a)return"move";if(this.state.moving||this.state.cropMoving)return`url(${opn}), move`;const o=kle(n,this.props.hotspotRect),s=FP(n,this.props.cropRect);return o||s?`url(${apn}), move`:"auto"}componentDidMount(){const{canvas:n}=this;n&&this.draw({canvas:n})}componentDidUpdate(){const{canvas:n}=this;n&&this.draw({canvas:n})}draw({canvas:n}){const r=n.getContext("2d");if(!r)return;const{clampedValue:i,cropHandles:a,cropRect:o,hotspotRect:s,image:l,ratio:c,readOnly:d,scale:h}=this.props,{cropping:p,pointerPosition:m}=this.state;gpn({clampedValue:i,context:r,cropHandles:a,cropping:p,cropRect:o,HOTSPOT_HANDLE_SIZE:xpn,hotspotRect:s,image:l,MARGIN_PX:C6,pointerPosition:m,ratio:c,readOnly:d,scale:h});const g=n.style.cursor,y=this.getCursor();g!==y&&(n.style.cursor=y)}render(){const{image:n,readOnly:r,ratio:i}=this.props;return u.jsx(ypn,{children:u.jsx(lpn,{readOnly:r,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onPointerMove:this.handlePointerMove,onPointerOut:this.handlePointerOut,height:n.height*i,width:n.width*i})})}}function Tpn(e,t){const n=e&&e.hotspot||wf;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Apn(e,t){const n=e&&e.hotspot||wf;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Ale(e,t){const n=e&&e.crop||Cf;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function SS(e){return u.jsx(npn,{src:e.src,children:({isLoading:t,image:n,error:r})=>t?u.jsx(bn,{showText:!0}):r?u.jsx("div",{children:r.message}):n?u.jsx(rpn,{image:n,maxHeight:SS.maxHeight,maxWidth:SS.maxWidth,children:i=>u.jsx(kpn,{image:i,...e})}):null})}SS.maxHeight=500;SS.maxWidth=1e3;const jpn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ipn(e){return e.startsWith("blob:")}function Dpn(e){return new Rt(t=>{const n=document.createElement("img");let r=!1;const i=()=>{r=!0,t.next(n),t.complete()},a=()=>{r=!0,t.error(new Error(`Could not load image from ${Ipn(e)?"blob":e}`))};return n.onload=i,n.onerror=a,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=jpn)}})}const jle={isLoading:!0};function Mpn(e){const[t,n]=f.useState(jle);return f.useEffect(()=>{n(jle);const r=Dpn(e).subscribe({error:i=>{n({isLoading:!1,error:i})},next:i=>{n({image:i,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}const Ile=["hotspot"],Dle=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Mle={crop:Cf,hotspot:wf},Rpn=$.div`
  min-height: 6em;
`;function Opn(e){return u.jsx(z,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function $pn(e){const{imageUrl:t,value:n,changed:r,level:i,path:a,focusPath:o=rn,presence:s,onChange:l,schemaType:c,onPathFocus:d,readOnly:h,elementProps:p}=e,[m,g]=f.useState(n||Mle),{image:y,isLoading:v,error:b}=Mpn(t),x=f.useCallback(()=>{d(Ile)},[d]);f.useEffect(()=>{g(n||Mle)},[n]);const w=o[0]==="hotspot";jo(w,E=>{var k;!E&&w&&((k=p.ref.current)==null||k.focus())});const C=f.useCallback(E=>{if(h)return;const k=c.fields.find(A=>A.name==="crop"&&A.type.name!=="object"),_=c.fields.find(A=>A.type.name!=="object"&&A.name==="hotspot"),T=k?{_type:k.type.name,...E.crop||Cf}:E.crop,j=_?{_type:_.type.name,...E.hotspot||wf}:E.hotspot;l([ft(T,["crop"]),ft(j,["hotspot"])])},[l,h,c.fields]),{t:S}=q();return u.jsx(I0,{title:S("inputs.imagetool.title"),level:i,description:S("inputs.imagetool.description"),deprecated:c.deprecated,__unstable_presence:s,children:u.jsxs("div",{children:[u.jsx(ie,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:x,children:u.jsx(no,{path:a.concat(Ile),hasFocus:o[0]==="hotspot",isChanged:r,children:u.jsxs(Cle,{ratio:3/2,children:[(v||b)&&u.jsx(Opn,{children:b?u.jsx(ie,{padding:4,radius:2,tone:"critical",border:!0,children:u.jsx(N,{children:S("inputs.imagetool.load-error",{errorMessage:b.message})})}):u.jsx(bn,{showText:!0})}),!v&&y&&u.jsx(L,{margin:1,children:u.jsx(SS,{value:m,src:y.src,readOnly:!!h,onChangeEnd:C,onChange:g})})]})})}),u.jsx(L,{marginTop:3,children:u.jsx(Gn,{columns:Dle.length,gap:1,children:Dle.map(([E,k])=>u.jsxs("div",{children:[u.jsx(Gi,{as:"h4",size:0,children:E}),u.jsx(L,{marginTop:2,children:u.jsx(Cle,{ratio:k,children:u.jsx(ie,{__unstable_checkered:!0,children:!v&&y?u.jsx(tpn,{aspectRatio:k,src:y.src,srcAspectRatio:y.width/y.height,hotspot:m.hotspot||wf,crop:m.crop||Cf}):u.jsx(Rpn,{})})})})]},k))})})]})})}const Ppn=f.memo(function(e){const{handleCloseDialog:t,inputProps:n,imageInputProps:r,isImageToolEnabled:i}=e,{t:a}=q(),{changed:o,id:s,imageUrlBuilder:l,value:c}=r,d=i&&c&&c.asset,h=f.useMemo(()=>c!=null&&c.asset?l.image(c.asset).url():"",[l,c==null?void 0:c.asset]);return u.jsx(Ri,{__unstable_autoFocus:!1,header:a("inputs.image.hotspot-dialog.title"),id:`${s}_dialog`,onClickOutside:t,onClose:t,width:1,children:u.jsx(Tb,{children:u.jsx(ne,{space:5,children:d&&(c==null?void 0:c.asset)&&u.jsx($pn,{...r,imageUrl:h,value:c,presence:n.presence,changed:o})})})})}),Rle=30,Fpn=$(ie)`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`,Npn=$(z)(({$drag:e,$tone:t})=>{const n=kg.color.light[t].card.enabled.fg,r=EV(kg.color.light[t].card.enabled.bg,.8);return de`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: ${e?"blur(10px)":""};
    color: ${t?n:""};
    background-color: ${e?r:"transparent"};
  `}),Lpn=$(z)`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`,Bpn=e=>{const t=new URLSearchParams(e.split("?")[1]).get("rect");return t?[t.split(",")[2],t.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Vpn(e){var C;const{drag:t,readOnly:n,isRejected:r,src:i,initialHeight:a,...o}=e,[s,l]=f.useState(!1),[c,d]=f.useState(null),h=((C=_g(c))==null?void 0:C.width)||0,p=t?r||n?"critical":"primary":"default",m=Rle*document.documentElement.clientHeight/100,[g,y]=Bpn(i),v=g/y,b=(g>h?h/v:y)<m?null:`${Rle}vh`;f.useEffect(()=>{l(!1)},[i]);const x=f.useCallback(()=>{l(!0)},[]),{t:w}=q();return u.jsxs(Fpn,{...o,ref:d,style:{height:a&&!s?a:b},tone:"transparent",children:[u.jsxs(ie,{"data-container":!0,tone:"inherit",children:[!s&&u.jsx(Ole,{cardTone:"transparent",drag:!0,content:u.jsx(bn,{showText:!0})}),u.jsx("img",{src:i,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:x,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&u.jsx(Ole,{cardTone:p,drag:t,content:u.jsxs(u.Fragment,{children:[u.jsx(L,{marginBottom:3,children:u.jsx(Gi,{children:u.jsx(zpn,{isRejected:r,readOnly:n})})}),u.jsx(N,{size:1,children:w(Upn({isRejected:r,readOnly:n}))})]})})]})}function zpn({isRejected:e,readOnly:t}){return e?u.jsx(sf,{}):t?u.jsx(Rv,{}):u.jsx(Yl,{})}function Upn({isRejected:e,readOnly:t}){return e?"inputs.image.drag-overlay.this-field-is-read-only":t?"inputs.image.drag-overlay.cannot-upload-here":"inputs.image.drag-overlay.drop-to-upload-image"}function Ole({cardTone:e,drag:t,content:n}){return u.jsx(Npn,{justify:"flex-end",padding:3,$drag:t,$tone:e,children:u.jsx(Lpn,{direction:"column",align:"center",justify:"center",children:n})})}const Hpn=f.memo(function(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c}=e,d=f.useMemo(()=>db(c),[c]);return!c||!d?null:u.jsx(Wpn,{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c})});function Wpn(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c}=e,{t:d}=q(),h=f.useMemo(()=>r.filter(y=>s(l,y)),[r,s,l]),p=f.useMemo(()=>r.length-h.length,[h,r]),m=bwe(),g=f.useMemo(()=>i.width(2e3).fit("max").image(c).dpr(m).auto("format").url(),[m,i,c]);return u.jsx(Vpn,{alt:d("inputs.image.preview-uploaded-image"),drag:!(c!=null&&c._upload)&&r.length>0,initialHeight:a,isRejected:p>0||!t,onDoubleClick:n,readOnly:o,src:g})}function Gpn(e){const{directUploads:t,handleSelectFiles:n,hoveringFiles:r,readOnly:i,renderBrowser:a,resolveUploader:o,schemaType:s}=e,l=f.useMemo(()=>r.filter(h=>o(s,h)),[r,o,s]),c=f.useMemo(()=>ir(s,"options.accept","image/*"),[s]),d=r.length-l.length;return u.jsx("div",{style:{padding:1},children:u.jsx(ie,{tone:i?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:r.length===0?{}:{borderColor:"transparent"},children:u.jsx(pDe,{browse:a(),onUpload:n,readOnly:i,hoveringFiles:r,acceptedFiles:l,rejectedFilesCount:d,type:"image",accept:c,directUploads:t})})})}const Ypn=f.memo(Gpn);function qpn({onClearValue:e}){const{t}=q();return u.jsxs(ie,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(z,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.image.invalid-image-warning.title")}),u.jsx(N,{size:1,children:t("inputs.image.invalid-image-warning.description")})]})]}),u.jsx(he,{icon:Bc,mode:"ghost",onClick:e,text:t("inputs.image.invalid-image-warning.reset-button.text"),width:"fill"})]})}function Kpn(e){const{assetSources:t,client:n,directUploads:r,elementProps:i,focusPath:a,id:o,imageUrlBuilder:s,members:l,observeAsset:c,onChange:d,onPathFocus:h,path:p,readOnly:m,renderAnnotation:g,renderBlock:y,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C,resolveUploader:S,schemaType:E,value:k}=e,{push:_}=_r(),{t:T}=q(),[j,A]=f.useState(null),[I,M]=f.useState(!1),[D,O]=f.useState([]),[R,F]=f.useState(!1),[P,V]=f.useState(null),[U,H]=f.useState(null),[W,Z]=f.useState(!1),J=f.useRef(null),re=f.useRef({el:null,height:0}),G=f.useCallback(We=>{var yt;We?(re.current.el=We,re.current.height=We.offsetHeight):(re.current.height=((yt=re.current.el)==null?void 0:yt.offsetHeight)||0,re.current.el=null)},[]),te=f.useCallback(()=>{const We=D.filter(Pn=>S(E,Pn)),yt=D.length-We.length;return D.length>0&&(yt>0||!r)?"critical":!(k!=null&&k._upload)&&!m&&D.length>0?"primary":m||k!=null&&k._upload&&(k!=null&&k.asset)?"transparent":"default"},[r,D,m,S,E,k==null?void 0:k._upload,k==null?void 0:k.asset]),X=f.useCallback(()=>ir(E,"options.hotspot")===!0,[E]),K=f.useCallback(()=>typeof p.slice(-1)[0]!="string",[p]),Q=f.useCallback(()=>{k!=null&&k._upload&&d(vt(["_upload"]))},[d,k==null?void 0:k._upload]),ee=f.useCallback(()=>{J.current&&(J.current.unsubscribe(),Q())},[Q]),se=f.useCallback((We,yt,Pn={})=>{const{label:Ei,title:on,description:br,creditLine:Ke,source:Bt}=Pn,jn={metadata:ir(E,"options.metadata"),storeOriginalFilename:ir(E,"options.storeOriginalFilename"),label:Ei,title:on,description:br,creditLine:Ke,source:Bt};ee(),M(!0),d(Vo({_type:E.name})),J.current=We.upload(n,yt,E,jn).subscribe({next:Cn=>{Cn.patches&&d(Cn.patches)},error:Cn=>{console.error(Cn),_({status:"error",description:T("inputs.image.upload-error.description"),title:T("inputs.image.upload-error.title")}),Q()},complete:()=>{d([vt(["hotspot"]),vt(["crop"])]),M(!1)}})},[ee,Q,n,d,_,E,T]),le=f.useCallback(We=>{const yt=We.map(Pn=>({file:Pn,uploader:S(E,Pn)})).find(Pn=>Pn.uploader);yt&&se(yt.uploader,yt.file),Z(!1)},[S,E,se]),oe=f.useCallback(()=>{d([vt(["asset"]),vt(["crop"]),vt(["hotspot"])]),re.current.el=null,re.current.height=0},[d]),ue=f.useCallback(()=>{const We=Object.keys(k||{}),yt=We.filter(Ei=>!["_type","_key","_upload","asset","crop","hotspot"].includes(Ei)).length===0,Pn=["asset"].concat(We.filter(Ei=>["crop","hotspot","_upload"].includes(Ei))).map(Ei=>vt([Ei]));d(yt&&!K()?vt():Pn),re.current.el=null,re.current.height=0},[d,k,K]),ye=f.useCallback(()=>{h(["hotspot"])},[h]),Ee=f.useCallback(()=>{h([]),P==null||P.focus()},[P,h]),ke=f.useCallback(We=>{dDe({assetFromSource:We,onChange:d,type:E,resolveUploader:S,uploadWith:se,isImage:!0}),A(null)},[d,S,E,se]),ge=f.useCallback(We=>{var yt;We.currentTarget===We.target&&We.currentTarget===((yt=i.ref)==null?void 0:yt.current)&&i.onFocus(We)},[i]),je=f.useCallback(We=>{O(We.filter(yt=>yt.kind!=="string"))},[]),Ve=f.useCallback(()=>{O([])},[]),xe=f.useCallback(()=>{ee()},[ee]),me=f.useCallback(()=>{F(!1),Q()},[Q]),Se=f.useCallback(()=>{F(!0)},[]),ve=f.useCallback(We=>{r&&!m?le(We):D.length>0&&Ve()},[r,Ve,D.length,m,le]),_e=f.useCallback(We=>{A(We)},[]),Ze=f.useCallback(()=>{A(null),U==null||U.focus()},[U]),Je=f.useCallback(()=>u.jsx(Hpn,{directUploads:r,handleOpenDialog:ye,hoveringFiles:D,imageUrlBuilder:s,initialHeight:re.current.height,readOnly:m,resolveUploader:S,schemaType:E,value:k}),[r,ye,D,s,m,S,E,k]),ot=f.useCallback(()=>u.jsx(Vhn,{assetSources:t,directUploads:r,handleOpenDialog:ye,handleRemoveButtonClick:ue,handleSelectFiles:ve,handleSelectImageFromAssetSource:_e,imageUrlBuilder:s,isImageToolEnabled:X(),isMenuOpen:W,observeAsset:c,readOnly:m,schemaType:E,setHotspotButtonElement:V,setMenuButtonElement:H,setMenuOpen:Z,value:k}),[t,r,ye,ue,ve,_e,s,X,W,c,m,E,k]),$e=f.useCallback(()=>u.jsx(qhn,{assetSources:t,readOnly:m,directUploads:r,id:o,setMenuOpen:Z,handleSelectImageFromAssetSource:_e}),[t,r,_e,o,m]),Le=f.useCallback(()=>u.jsx(Ypn,{directUploads:r,handleSelectFiles:ve,hoveringFiles:D,readOnly:m,renderBrowser:$e,resolveUploader:S,schemaType:E}),[r,ve,D,m,$e,S,E]),Oe=f.useCallback(We=>u.jsx(gDe,{uploadState:We,onCancel:I?xe:void 0,onStale:Se,height:re.current.height}),[xe,Se,I]),qe=f.useCallback(()=>k&&typeof k.asset<"u"&&!(k!=null&&k._upload)&&!db(k)?()=>u.jsx(qpn,{onClearValue:oe}):We=>u.jsx(Fhn,{ref:G,elementProps:i,handleClearUploadState:me,handleFilesOut:Ve,handleFilesOver:je,handleFileTargetFocus:ge,handleSelectFiles:ve,hoveringFiles:D,inputProps:We,isStale:R,readOnly:m,renderAssetMenu:ot,renderPreview:Je,renderUploadPlaceholder:Le,renderUploadState:Oe,tone:te(),value:k}),[i,te,oe,me,ge,Ve,je,ve,D,R,m,ot,Je,Le,Oe,G,k]),nt=f.useCallback(We=>u.jsx(Ppn,{isImageToolEnabled:X(),handleCloseDialog:Ee,imageInputProps:e,inputProps:We}),[Ee,X,e]),_t=f.useCallback(()=>u.jsx(Whn,{handleAssetSourceClosed:Ze,handleSelectAssetFromSource:ke,observeAsset:c,schemaType:E,selectedAssetSource:j,value:k}),[Ze,ke,c,E,j,k]),wn=f.useMemo(()=>l.find(We=>We.kind==="field"&&We.name==="hotspot"),[l]);return u.jsxs(ne,{space:5,"data-testid":"image-input",children:[l.map(We=>We.kind==="field"&&(We.name==="crop"||We.name==="hotspot")?null:We.kind==="field"?u.jsx(fk,{member:We,renderAnnotation:g,renderBlock:y,renderInlineBlock:b,renderInput:We.name==="asset"?qe():x,renderField:We.name==="asset"?Xpn:v,renderItem:w,renderPreview:C},We.key):We.kind==="fieldSet"?u.jsx(oG,{member:We,renderAnnotation:g,renderBlock:y,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C},We.key):We.kind==="error"?u.jsx(xR,{member:We},We.key):u.jsx(u.Fragment,{children:T("inputs.image.error.unknown-member-kind",{kind:We.kind})})),wn&&a[0]==="hotspot"&&u.jsx(sG,{...e,absolutePath:wn.field.path,renderInput:nt}),j&&_t()]})}const Zpn=f.memo(Kpn);function Xpn({children:e}){return e}function Jpn(e){var h;const t=(h=e.schemaType.options)==null?void 0:h.sources,{image:n}=ad().__internal,r=da(),i=Xt(qt),a=n.directUploads,o=f.useCallback((p,m)=>a?iG(p,m):null,[a]),s=f.useMemo(()=>t||n.assetSources,[n,t]),l=f.useMemo(()=>IE(i),[i]),c=f.useCallback(p=>Zje(r,p),[r]),{t:d}=q();return u.jsx(Zpn,{...e,t:d,client:i,assetSources:s,directUploads:a,imageUrlBuilder:l,observeAsset:c,resolveUploader:o})}const $le={document:gle,object:gle,array:Xdn,boolean:tfn,number:rDe,text:Gfn,email:kfn,datetime:Efn,date:xfn,url:Yfn,image:Jpn,file:Ohn,string:iDe,slug:Hfn,crossDatasetReference:hhn},Qpn=ci({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),emn=ci({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),tmn=ci({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),nmn=ci({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."}),rmn=$.div`
  position: relative;
`,EDe=$.div`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`,kDe=$(ie)`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`,imn=$(z)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & ${kDe} {
      opacity: 0.9;
    }

    & ${EDe} {
      opacity: 1;
    }
  }
`,amn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function omn(e){const{children:t,message:n,onActivate:r,isOverlayActive:i}=e,[a,o]=f.useState(!1),{t:s}=q(),l=f.useCallback(()=>{r&&r()},[r]),c=f.useCallback(g=>{i&&g.code==="Space"&&r&&(g.preventDefault(),r())},[i,r]),d=f.useCallback(()=>{i&&r&&r()},[i,r]),h=f.useCallback(()=>{o(!0)},[]),p=f.useCallback(()=>{o(!1)},[]),m=f.useMemo(()=>{const g=amn();let y;g?y="tap":a?y="click-focused":y="click";const v=n||s("inputs.portable-text.activate-on-focus-message",{context:y});return u.jsx(N,{weight:"medium",children:v})},[a,n,s]);return u.jsxs(rmn,{onBlur:p,onClick:l,onFocus:h,onKeyDown:c,onDragEnter:d,children:[i&&u.jsxs(imn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[u.jsx(kDe,{radius:2}),u.jsx(EDe,{children:m})]}),t]})}const smn=$.div(e=>{const{color:t,input:n,radius:r}=Te(e.theme),i={color:t.input.default.enabled.border,width:n.border.width};return de`
    --input-box-shadow: ${yG(i)};

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: ${n.border.width}px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: ${r[2]}px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: ${TR({base:t,border:i,focusRing:n.text.focusRing})};
    }
  `}),lmn=$(qo)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  & > div {
    height: 100%;
  }
`,Fx=[1,2,3,4,5,6,7,8,9],Ple=["","",""],Fle=["number","lower-alpha","lower-roman"],umn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},cmn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}},dmn=$.span(({theme:e})=>{const t=e.sanity.color.dark;return de`
    /* Make sure the annotation styling is visible */
    &[data-mark='code'] {
      color: inherit;
      mix-blend-mode: ${t?"screen":"multiply"};
    }
  `});function fmn(e){const{value:t,focused:n,selected:r,children:i,schemaType:a}=e,o=umn[t],s=a.component,l=f.useCallback(c=>u.jsx(dmn,{as:o,"data-mark":t,children:c.children}),[o,t]);return f.useMemo(()=>{const c={focused:n,renderDefault:l,schemaType:a,selected:r,title:a.title,value:t};return s?u.jsx(s,{...c,children:i}):u.jsx(l,{...c,children:i})},[s,l,i,n,a,r,t])}function _m(e){return`list-level-${e}`}const _De=$.div(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=EV(r.spot.yellow,.2);return de`
    position: absolute;
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    bottom: -${n[1]+n[1]}px;
    left: ${n[4]+n[1]}px;
    right: ${n[1]}px;
    background-color: ${i};
    pointer-events: none;
  `}),TDe=$(no)(()=>de`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `);function hmn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let i;return a=>{i=Array.isArray(a)?a:[a],i=i.map(s=>lS(s,{allowedDecorators:t}));const o=[Hd(i,"after",[{_key:n._key}])];return r(Dt.from(o))}}function pmn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return i=>{const a=[ft(lS(i,{allowedDecorators:t}),[{_key:n._key}])];return r(Dt.from(a))}}function mmn(e){const{block:t,onChange:n}=e;return()=>{const r=[vt([{_key:t._key}])];return n(Dt.from(r))}}const gmn=$.div`
  display: flex;
  pointer-events: all;
`;function ADe(e){const t=qi(),{block:n,onChange:r,renderBlockActions:i}=e,a=f.useMemo(()=>t.schemaTypes.decorators.map(s=>s.value),[t]),o=f.useMemo(()=>{if(i){const s={block:n,value:Me.getValue(t),set:pmn({allowedDecorators:a,block:n,onChange:r}),unset:mmn({block:n,onChange:r}),insert:hmn({allowedDecorators:a,block:n,onChange:r})};return i(s)}},[i,n,t,r,a]);return o?u.jsx(gmn,{contentEditable:!1,children:o}):null}function ymn(e){const{$level:t}=e,{color:n,font:r,radius:i,space:a}=Te(e.theme),o=Fle[(t-1)%Fle.length],s=Ple[(t-1)%Ple.length];return de`
    --marker-bg-color: transparent;

    mix-blend-mode: ${n._dark?"screen":"multiply"};
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -${a[1]}px;
      bottom: -${a[1]}px;
      left: -${a[1]}px;
      right: -${a[1]}px;
      border-radius: ${i[2]}px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
      pointer-events: none;
    }

    &[data-markers] {
      --marker-bg-color: ${n._dark?rt.purple[950].hex:rt.purple[50].hex};
    }

    &[data-warning] {
      --card-border-color: ${n.button.ghost.caution.enabled.border};
      --marker-bg-color: ${n.button.ghost.caution.hovered.bg};
    }

    &[data-error] {
      --card-border-color: ${n.button.ghost.critical.enabled.border};
      --marker-bg-color: ${n.button.ghost.critical.hovered.bg};
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(${_m(t)}) '.';
        content: counter(${_m(t)}, ${o}) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '${s}';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: ${r.text.family};
      flex: 1;

      *::selection {
        background-color: ${fI(n.focusRing,.3)};
      }
    }
  `}const vmn=$.div(ymn),bmn=$(L)`
  position: relative;
  display: flex;
`,xmn=$.div`
  user-select: none;
  white-space: nowrap;
`,wmn=$(L)`
  line-height: 0;
  width: 25px;
  position: relative;
`,Cmn=$(z)(({theme:e})=>{const{fonts:t,space:n}=e.sanity,r=t.text.sizes[1],i=t.text.sizes[2],a=r.lineHeight-r.ascenderHeight-r.descenderHeight,o=i.lineHeight-i.ascenderHeight-i.descenderHeight,s=0-(a+n[2]+n[2]-o)/2;return de`
    user-select: none;
    position: absolute;
    right: 0;
    top: ${s}px;
  `}),Smn=$(L)`
  max-width: 250px;
`,Emn=$(z)`
  position: relative;
  padding-left: ${({$level:e})=>e?e*32:0}px;
`,kmn=$.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return de`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&de`
        display: none;
      `}
    `}),Uf=$.div`
  display: block;
`,kG=({children:e,...t})=>u.jsx(N,{"data-testid":"text-style--normal",...t,children:u.jsx(Uf,{children:e})}),jDe=({children:e,...t})=>u.jsx(Gi,{as:"h1","data-testid":"text-style--h1",size:5,...t,children:u.jsx(Uf,{children:e})}),IDe=({children:e,...t})=>u.jsx(Gi,{as:"h2","data-testid":"text-style--h2",size:4,...t,children:u.jsx(Uf,{children:e})}),DDe=({children:e,...t})=>u.jsx(Gi,{as:"h3","data-testid":"text-style--h3",size:3,...t,children:u.jsx(Uf,{children:e})}),MDe=({children:e,...t})=>u.jsx(Gi,{as:"h4","data-testid":"text-style--h4",size:2,...t,children:u.jsx(Uf,{children:e})}),RDe=({children:e,...t})=>u.jsx(Gi,{as:"h5","data-testid":"text-style--h5",size:1,...t,children:u.jsx(Uf,{children:e})}),ODe=({children:e,...t})=>u.jsx(Gi,{as:"h6","data-testid":"text-style--h6",size:0,...t,children:u.jsx(Uf,{children:e})}),_mn=$.blockquote`
  position: relative;
  display: block;
  margin: 0;
  padding-left: ${({theme:e})=>e.sanity.space[3]}px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`,$De=({children:e,...t})=>u.jsx(_mn,{"data-testid":"text-style--blockquote",...t,children:u.jsx(N,{as:"p",children:e})}),BP={normal:kG,h1:jDe,h2:IDe,h3:DDe,h4:MDe,h5:RDe,h6:ODe,blockquote:$De};function Tmn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:a,onItemOpen:o,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,renderBlock:h,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:v,renderInput:b,renderItem:x,renderPreview:w,schemaType:C,selected:S,spellCheck:E,value:k}=e,{Markers:_}=ad().__internal.components,[T,j]=f.useState(!1),A=yR(l),I=wR(er(l)),M=qi(),{onChange:D}=uu(),O=_b(l,!0),R=f.useMemo(()=>O.filter(ye=>Sr(ye.path,l)||ye.path.slice(-3)[1]==="children"&&ye.path.length-l.length===2),[l,O]),F=f.useCallback(()=>j(!0),[]),P=f.useCallback(()=>j(!1),[]),{validation:V,hasError:U,hasWarning:H,hasInfo:W}=gR(I==null?void 0:I.node),Z=!!g&&A.length>0,J=U||H||Z||W,re=f.useCallback(()=>{I&&o(I.node.path)},[o,I]),G=f.useCallback(()=>{const ye={path:l.slice(-1),offset:0},Ee={focus:ye,anchor:ye};Me.delete(M,Ee,{mode:"blocks"}),Me.focus(M)},[l,M]),te=f.useMemo(()=>u.jsxs(Emn,{align:"flex-start",$level:k==null?void 0:k.level,children:[k.listItem&&u.jsx(xmn,{contentEditable:!1,children:u.jsx(N,{"data-list-prefix":"",children:u.jsx(Uf,{})})}),u.jsx("div",{"data-text":"",style:void 0,children:t})]}),[k.listItem,k.level,t]),X=f.useMemo(()=>i&&!m?{paddingX:5}:i&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,m]),K=f.useMemo(()=>k.listItem?{paddingY:2}:cmn[k.style||"normal"]||{paddingY:2},[k]),Q=!!(I!=null&&I.member.open),ee=M.schemaTypes.portableText,se=f.useMemo(()=>{var ye;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ye=I==null?void 0:I.elementRef)==null?void 0:ye.current)||null,children:te,focused:r,markers:A,onClose:a,onOpen:re,onPathFocus:s,onRemove:G,open:Q,parentSchemaType:ee,path:(I==null?void 0:I.node.path)||rn,presence:R,readOnly:!!c,renderAnnotation:p,renderBlock:h,renderDefault:PDe,renderField:y,renderInput:b,renderInlineBlock:v,renderItem:x,renderPreview:w,schemaType:C,selected:S,validation:V,value:k}},[n,r,Q,A,I==null?void 0:I.elementRef,I==null?void 0:I.node.path,a,re,s,G,ee,c,d,p,h,y,v,b,x,w,C,S,te,R,V,k]),le=f.useMemo(()=>J&&u.jsx(Smn,{children:u.jsx(_,{markers:A,renderCustomMarkers:g,validation:V})})||null,[_,A,g,J,V]),oe=m&&!c,ue=i&&I;return f.useMemo(()=>u.jsx(L,{...K,"data-testid":"text-block","data-text-block":"",ref:I==null?void 0:I.elementRef,style:void 0,children:u.jsx(bmn,{"data-testid":"text-block__wrapper",children:u.jsxs(z,{"data-text-block-inner":"",flex:1,...X,children:[u.jsx(L,{flex:1,children:u.jsx(bt,{content:le,disabled:!J,placement:"top",portal:"editor",children:u.jsx(vmn,{$level:k.level||1,"data-error":U?"":void 0,"data-list-item":k.listItem,"data-markers":Z?"":void 0,"data-read-only":c,"data-testid":"text-block__text","data-warning":H?"":void 0,spellCheck:E,children:h&&h(se)})})}),oe&&u.jsx(wmn,{contentEditable:!1,marginRight:3,children:u.jsx(Cmn,{children:r&&u.jsx(ADe,{block:k,onChange:D,renderBlockActions:m})})}),ue&&u.jsx(kmn,{$hasChanges:I.member.item.changed,contentEditable:!1,onMouseEnter:F,onMouseLeave:P,children:u.jsx(TDe,{hasFocus:r,isChanged:I.member.item.changed,path:I.member.item.path,withHoverEffect:!1})}),T&&u.jsx(_De,{})]})})}),[oe,ue,se,r,F,P,U,Z,H,X,I,D,K,c,h,m,T,E,le,J,k])}const PDe=e=>u.jsx(u.Fragment,{children:e.children}),Amn=$(ie)`
  &[data-fullscreen='true'] {
    height: 100%;
  }

  &[data-fullscreen='false'] {
    min-height: 5em;
    resize: vertical;
    overflow: auto;
    height: 19em;
  }

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`,jmn=$(ie)`
  z-index: 10;
  line-height: 0;
`,Imn=$(ie)`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`,Dmn=$(cR)`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`,Mmn=$(ie)`
  height: 100%;
  width: 100%;
  counter-reset: ${Fx.map(e=>_m(e)).join(" ")};
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    ${Fx.map(e=>de`
        & > .pt-list-item-number[class~='pt-list-item-level-${e}'] {
          counter-increment: ${_m(e)};
        }
      `)}

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
      counter-reset: ${Fx.map(e=>_m(e)).join(" ")};
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: ${({theme:e})=>e.sanity.space[2]}px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-set: ${Fx.map(e=>_m(e)).join(" ")};
    }

    ${Fx.slice(1).map(e=>de`
        & > .pt-list-item-level-${e} + .pt-list-item-level-${e-1} {
          counter-reset: ${_m(e)};
        }
      `)}

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
    }

    & > :first-child {
      padding-top: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?5:3]}px;
    }

    padding-bottom: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?9:5]}px;

    & > .pt-block {
      margin: 0 auto;
      max-width: ${e=>Te(e.theme).container[1]}px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: ${e=>Te(e.theme).radius[2]}px;
      margin-top: -3px;
      left: calc(
        ${({$isFullscreen:e,theme:t})=>Ce(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      right: calc(
        ${({$isFullscreen:e,theme:t})=>Ce(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      width: calc(
        100% -
          ${({$isFullscreen:e,theme:t})=>Ce(e?t.sanity.space[5]*2:t.sanity.space[3]*2)} + 2px
      ) !important;
    }
  }
`;function Rmn(e){return f.useMemo(()=>(t,n)=>{if(Me.getSelection(t)){const r=n.startContainer.parentElement;if(!r)return;Rg(r,{scrollMode:"if-needed",boundary:e,block:"nearest",inline:"nearest"})}},[e])}function Omn(){const e=qi();return f.useMemo(()=>{var r;const t=(r=e.schemaTypes.block.options)==null?void 0:r.spellCheck,n=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return t===void 0&&n===!0?!1:t},[e])}const Nle=e=>u.jsx(u.Fragment,{children:e.children}),$mn=e=>{const{block:t,children:n,schemaType:r,selected:i,focused:a,level:o,value:s}=e,{title:l,component:c}=r;return f.useMemo(()=>{const d={block:t,focused:a,level:o,renderDefault:Nle,schemaType:r,selected:i,title:l,value:s};return c?u.jsx(c,{...d,children:n}):u.jsx(Nle,{...d,children:n})},[c,t,n,a,o,r,i,l,s])},Pmn=e=>{const{block:t,focused:n,children:r,selected:i,schemaType:a}=e,o=f.useMemo(()=>(t.style&&BP[t.style]?BP[t.style]:BP[0])||kG,[t.style]),s=f.useCallback(l=>u.jsx(o,{children:u.jsx(Uf,{"data-testid":`text-style--${t.style}`,children:l.children})}),[o,t.style]);return f.useMemo(()=>{const l=a.component,{title:c,value:d}=a,h={block:t,focused:n,renderDefault:s,schemaType:a,selected:i,title:c,value:d};return l?u.jsx(l,{...h,children:r}):u.jsx(s,{...h,children:r})},[s,t,r,n,a,i])},Fmn=$.div`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`;function FDe(e){const{hidden:t,...n}=e;return u.jsx(Fmn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}const Nmn={portal:!0,constrainSize:!0},_G=f.forwardRef(function(e,t){const{disableRestoreFocusOnClose:n,menuButton:r,menuButtonProps:i,menuOptions:a,onMenuClose:o}=e;return u.jsx(Gt,{__unstable_disableRestoreFocusOnClose:n,id:"menu-button",ref:t,onClose:o,popover:Nmn,...i,button:r,menu:u.jsx(Ot,{children:a.map((s,l)=>{const{collapsedProps:c={},expandedProps:d={},tooltipProps:h={},tooltipText:p,dividerBefore:m,fontSize:g,padding:y,text:v,icon:b,selected:x,...w}=s.props;return u.jsxs(f.Fragment,{children:[m&&l!==0&&u.jsx(fr,{}),u.jsx(He,{text:v,icon:b,pressed:x,...w})]},s.key)})})})});function NDe(e){const{onIntersectionChange:t,children:n,options:r,...i}=e,[a,o]=f.useState(null);return f.useEffect(()=>{const s=a==null?void 0:a.closest('[data-ui="Flex"]');if(!s)return;const l=new IntersectionObserver(t,r);return l.observe(s),()=>{l.unobserve(s),l.disconnect()}},[a,t,r]),u.jsxs(z,{...i,children:[n,u.jsx("span",{hidden:!0,ref:o})]})}const Lle=3,Lmn=de`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`,Bmn=$(z)`
  padding: ${Lle}px;
  margin: -${Lle}px;
  box-sizing: border-box;
`,Vmn=$(z)`
  border-radius: inherit;
  position: relative;
`,LDe=$(z)`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`,zmn=$(NDe)`
  ${Lmn}
`;function Umn(e){return!!e}const BDe=f.forwardRef(function(e,t){const{children:n,collapsed:r,disableRestoreFocusOnClose:i,onMenuClose:a,menuButtonProps:o,...s}=e,l=f.useMemo(()=>f.Children.toArray(n).filter(Umn),[n]),c=f.useMemo(()=>(o==null?void 0:o.button)||u.jsx(Si,{}),[o]);return r?u.jsx(_G,{ref:t,disableRestoreFocusOnClose:i,menuButton:c,menuButtonProps:o,menuOptions:l,onMenuClose:a}):u.jsx(Hmn,{...s,ref:t,disableRestoreFocusOnClose:i,menuButtonProps:o,menuOptions:l,onMenuClose:a})}),Hmn=f.forwardRef(function(e,t){const{collapseText:n=!0,disableRestoreFocusOnClose:r,gap:i,menuOptions:a,menuButtonProps:o,onMenuClose:s,...l}=e,[c,d]=f.useState(null),[h,p]=f.useState({}),[m,g]=f.useState({}),y=f.useMemo(()=>({root:c,threshold:.99,rootMargin:"2px"}),[c]),v=f.useMemo(()=>a.map(T=>T.key),[a]),b=f.useMemo(()=>[...Dg(v,Object.keys(h)),...Dg(v,Object.keys(m))],[v,h,m]),x=f.useMemo(()=>a.filter(T=>{const j=h[T.key];return j&&!j.intersects}),[h,a]),w=f.useCallback((T,j)=>{p(A=>{const I=j.key;if(I===null)throw new Error("Expected element to have a non-null key");const M={intersects:T.isIntersecting,element:j},D=A[I];return!D||D.intersects!==M.intersects?{...A,[I]:M}:A})},[]),C=f.useCallback((T,j)=>{g(A=>{const I=j.key;if(I===null)throw new Error("Expected child element to have a non-null key");const M=A[I],D={intersects:T.isIntersecting,element:j};return(M==null?void 0:M.intersects)===D.intersects?A:{...A,[I]:D}})},[]),S=f.useMemo(()=>a.map(T=>{const{collapsedProps:j}=T.props,A=j,I=n?void 0:T.props.text;return f.cloneElement(T,{...A,text:I})}),[a,n]),E=f.useMemo(()=>a.filter(T=>{var j;return((j=m[T.key])==null?void 0:j.intersects)===!1}),[a,m]),k=x.length>0?S.filter(T=>{var j;return((j=m[T.key])==null?void 0:j.intersects)===!0}):a,_=f.useMemo(()=>(o==null?void 0:o.button)||u.jsx(Si,{}),[o]);return u.jsxs(Bmn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:t,...l,children:[u.jsxs(Vmn,{direction:"column",flex:1,justify:"center",ref:d,children:[u.jsx(LDe,{gap:i,children:b.length===0&&k.map((T,j)=>{const{dividerBefore:A,tooltipText:I="",tooltipProps:M={}}=T.props,D=!T.key||!(T.key in h)||E.includes(T);return u.jsxs(f.Fragment,{children:[A&&j!==0&&u.jsx(FDe,{hidden:D}),u.jsx(bt,{portal:!0,disabled:!I,content:I,...M,children:u.jsx(z,{children:f.cloneElement(T,{disabled:T.props.disabled||D,"aria-hidden":D})})})]},T.key)})}),u.jsx(Ble,{gap:i,elements:a,intersectionOptions:y,onIntersectionChange:w}),u.jsx(Ble,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:C})]}),E.length>0&&u.jsx(z,{marginLeft:i,children:u.jsx(_G,{disableRestoreFocusOnClose:r,menuButton:_,menuButtonProps:o,menuOptions:E,onMenuClose:s})})]})}),Ble=f.memo(function(e){const{elements:t,gap:n,intersectionOptions:r,onIntersectionChange:i}=e;return u.jsx(LDe,{"data-hidden":!0,"aria-hidden":"true",gap:n,overflow:"hidden",children:t.map((a,o)=>{const{dividerBefore:s}=a.props;return u.jsxs(f.Fragment,{children:[s&&o!==0&&u.jsx(FDe,{hidden:!0}),u.jsx(zmn,{options:r,onIntersectionChange:l=>i(l[0],a),children:u.jsx(z,{children:f.cloneElement(a,{disabled:!0,"aria-hidden":!0})})})]},a.key)})})}),VDe=f.forwardRef(function(e,t){const{collapsedProps:n={},expandedProps:r={},tooltipProps:i={},tooltipText:a,dividerBefore:o,...s}=e;return u.jsx(he,{"data-ui":"CollapseMenuButton",...s,ref:t})}),Wmn=$.div`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`;function Gmn(e){const{icon:t,active:n}=e,r=f.useMemo(()=>({backgroundImage:`url(${t})`,filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return u.jsx(Wmn,{style:r})}function Ymn(e,t,n,r){return e.schemaTypes.decorators.map(i=>{const a=Object.keys(n.marks||{}).find(s=>{var l;return((l=n.marks)==null?void 0:l[s])===i.value});let o=[];return a&&(o=[a]),{type:"format",disabled:t,icon:i==null?void 0:i.icon,key:i.value,handle:()=>{Me.toggleMark(e,i.value),Me.focus(e)},hotkeys:o,title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title}})}function qmn(e,t,n){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Me.toggleList(e,r.value)},title:r.i18nTitleKey&&n?n(r.i18nTitleKey):r.title}))}function Kmn(e){return ir(e,"icon")||ir(e,"type.icon")||ir(e,"type.to.icon")||ir(e,"type.to[0].icon")}function Zmn(e,t,n,r){const i=e.schemaTypes,a=Me.focusChild(e),o=a&&a.text;return i.annotations.map(s=>({type:"annotation",disabled:!o||t,icon:Kmn(s),key:s.name,handle:l=>{l?(Me.removeAnnotation(e,s),Me.focus(e)):n(s)},title:s.i18nTitleKey&&r?r(s.i18nTitleKey):s.title||x0(s.name)}))}function Xmn(e,t,n,r,i){return[{name:"format",actions:Ymn(e,t,r,i)},{name:"list",actions:qmn(e,t,i)},{name:"annotation",actions:Zmn(e,t,n,i)}]}function Jmn(e){return e.styles.map(t=>({key:`style-${t.value}`,style:t.value,styleComponent:t&&t.component,title:t.title,i18nTitleKey:t.i18nTitleKey}))}function Vle(e,t){const n=ir(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Qmn(e,t,n,r){const i=e.blockObjects.map((o,s)=>({handle:()=>n(o),icon:Vle(o,o9),inline:!1,key:`block-${s}`,type:o})),a=e.inlineObjects.map((o,s)=>({handle:()=>r(o),icon:Vle(o,b9),inline:!0,key:`inline-${s}`,type:o}));return i.concat(a).filter(o=>{var s;return!((s=o.type)!=null&&s.hidden)})}const egn={link:Ss},tgn={strong:s9,em:x9,"strike-through":O9,underline:F9,code:c9},ngn={number:T9,bullet:Wm};function rgn(e,t){return e.icon?typeof e.icon=="string"?u.jsx(Gmn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?egn[e.key]||Fl:e.type==="listStyle"?ngn[e.key]||Fl:tgn[e.key]||Fl}function PR(){const e=qi(),t=w0();return f.useMemo(()=>t?Me.focusBlock(e):void 0,[e,t])}function ign({hotkeys:e,onMemberOpen:t,resolveInitialValue:n,disabled:r}){const i=qi(),{t:a}=q(),o=f.useCallback(async s=>{const l=await n(s),c=Me.addAnnotation(i,s,l);c&&c.markDefPath&&t(c.markDefPath)},[i,t,n]);return f.useMemo(()=>i?Xmn(i,r,o,e,a):[],[r,i,o,e,a])}function agn({actions:e}){const t=qi(),n=w0();return Wa(f.useMemo(()=>n?e.filter(r=>r.type==="annotation"?Me.isAnnotationActive(t,r.key):r.type==="listStyle"?Me.hasListStyle(t,r.key):Me.isMarkActive(t,r.key)).map(r=>r.key):[],[e,t,n]))}function ogn({items:e}){const t=qi(),n=PR(),r=w0();return Wa(f.useMemo(()=>n&&r?e.filter(i=>Me.hasBlockStyle(t,i.style)).map(i=>i.style):[],[t,n,e,r]))}const sgn=f.memo(BDe),lgn={constrainSize:!0,portal:!0},ugn=f.memo(function(e){const{disabled:t,groups:n,isFullscreen:r,collapsed:i}=e,a=PR(),o=qi(),s=w0(),{t:l}=q(),c=s&&En(s.anchor.path[0])&&En(s.focus.path[0])?s.anchor.path[0]._key!==(s==null?void 0:s.focus.path[0]._key):(s==null?void 0:s.anchor.path[0])!==(s==null?void 0:s.focus.path[0]),d=(a==null?void 0:a._type)!==o.schemaTypes.block.name,h=!d&&Array.isArray(a.children)&&a.children.length===1&&(a==null?void 0:a.children[0].text)==="",p=t||d,m=f.useMemo(()=>n.reduce((w,C)=>w.concat(C.actions.map((S,E)=>E===0?{...S,firstInGroup:!0}:S)),[]),[n]),g=agn({actions:m}),y=f.useCallback(()=>{Me.focus(o)},[o]),v=r?"bottom":"top",b=f.useMemo(()=>m.map(w=>{const C=w.type==="annotation"&&(h||c),S=h?l("user-menu.action.portable-text.annotation-disabled_empty-block",{name:w.title||w.key}):l("user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:w.title||w.key}),E=g.includes(w.key);return u.jsx(VDe,{"aria-label":l("toolbar.portable-text.action-button-aria-label",{action:w.title||w.key}),"data-testid":`action-button-${w.key}`,disabled:p||C,mode:"bleed",dividerBefore:w.firstInGroup,icon:rgn(w,E),onClick:()=>w.handle(E),selected:E,text:w.title||w.key,tooltipText:C?S:w.title||w.key,tooltipProps:{disabled:p,placement:v,portal:"default"}},w.key)}),[m,g,p,h,c,l,v]),x=f.useMemo(()=>({button:u.jsx(Si,{"data-testid":"action-menu-button",disabled:p,tooltipProps:{placement:v}}),popover:lgn}),[p,v]);return u.jsx(sgn,{"data-testid":"action-menu-auto-collapse-menu",collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:x,onMenuClose:y,children:b})}),cgn=f.memo(Gt),dgn=$(u0)`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`,fgn={h1:e=>u.jsx(jDe,{children:e}),h2:e=>u.jsx(IDe,{children:e}),h3:e=>u.jsx(DDe,{children:e}),h4:e=>u.jsx(MDe,{children:e}),h5:e=>u.jsx(RDe,{children:e}),h6:e=>u.jsx(ODe,{children:e}),normal:e=>u.jsx(kG,{children:e}),blockquote:e=>u.jsx($De,{"data-option":"blockquote",children:e})},hgn=e=>e.preventDefault(),Nx={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},pgn=f.memo(function(e){const{disabled:t,items:n,boundaryElement:r}=e,i=qi(),a=PR(),{t:o}=q(),s={constrainSize:!0,placement:"bottom-start",portal:"default",referenceBoundary:r},l=t||(a?i.schemaTypes.block.name!==a._type:!1),c=ogn({items:n}),{activeItems:d,items:h}=f.useMemo(()=>{const b=n.filter(w=>c.includes(w.style));let x=n;return b.length===0&&x.length>1&&(x=x.concat([Nx]),b.push(Nx)),{activeItems:b,items:x}},[c,n]),p=f.useMemo(()=>d.length>1?o("inputs.portable-text.style.multiple"):d.length!==1?Nx.i18nTitleKey?o(Nx.i18nTitleKey):Nx.title:d[0].i18nTitleKey?o(d[0].i18nTitleKey):d[0].title,[d,o]),m=f.useCallback(b=>{a&&b.style!==a.style&&(Me.toggleBlockStyle(i,b.style),Me.focus(i))},[i,a]),g=f.useCallback(b=>{const{style:x,styleComponent:w}=b,C=fgn[x],S=b.i18nTitleKey?o(b.i18nTitleKey):(b==null?void 0:b.title)||b.style,E=typeof w=="function"?w:void 0;return C&&!E?C(S):E?u.jsx(E,{children:S}):u.jsx(N,{children:S})},[o]),y=f.useMemo(()=>u.jsx(he,{disabled:l,iconRight:Di,justify:"space-between",mode:"bleed",onClick:hgn,text:p,width:"fill"}),[l,p]),v=f.useMemo(()=>u.jsx(Ot,{disabled:l,children:h.map(b=>u.jsx(dgn,{pressed:d.includes(b),onClick:l?void 0:()=>m(b),children:g(b)},b.key))}),[l,d,m,h,g]);return u.jsx(cgn,{popover:s,id:"block-style-select",button:y,menu:v})}),mgn=f.memo(BDe),ggn={constrainSize:!0,portal:!0},ygn=f.memo(function(e){const{disabled:t,items:n,isFullscreen:r,collapsed:i}=e,{t:a}=q(),o=PR(),s=qi(),l=o&&o._type!==s.schemaTypes.block.name,c=f.useCallback(()=>{Me.focus(s)},[s]),d=r?"bottom":"top",h=f.useMemo(()=>n.map(m=>{const g=m.type.title||ike(m.type.name);return u.jsx(VDe,{"aria-label":a(m.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:g}),mode:"bleed",disabled:t||l&&m.inline===!0,icon:m.icon,onClick:m.handle,text:g,tooltipText:a(m.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:g}),tooltipProps:{disabled:t,placement:d,portal:"default"}},m.key)}),[t,l,n,a,d]),p=f.useMemo(()=>({button:u.jsx(Si,{"data-testid":"insert-menu-button",disabled:t,tooltipProps:{placement:d}}),popover:ggn}),[t,d]);return u.jsx(mgn,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:p,onMenuClose:c,children:h})}),vgn=$(z)`
  width: 100%;
`,bgn=$(L)`
  width: 8em;
`,xgn=$(z)`
  border-right: 1px solid var(--card-border-color);
`,wgn=$(L)`
  ${({$withInsertMenu:e})=>e&&de`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `}
`,Cgn=$(L)`
  border-left: 1px solid var(--card-border-color);
`,Sgn=300,Egn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),kgn=f.memo(function({actionGroups:e,blockStyles:t,collapsible:n,disabled:r,insertMenuItems:i,isFullscreen:a,onToggleFullscreen:o}){const{t:s}=q(),l=e.reduce((v,b)=>v+b.actions.length,0)>0,c=i.length>0,[d,h]=f.useState(null),p=_g(d),m=n&&p?(p==null?void 0:p.width)<400:!1,g=t.length>1;U$e({rootElement:d});const y=f.useCallback(v=>{v.preventDefault()},[]);return u.jsxs(vgn,{align:"center",ref:h,onMouseDown:y,children:[g&&u.jsx(xgn,{flex:m?1:void 0,children:u.jsx(bgn,{padding:a?2:1,"data-testid":"block-style-select",children:u.jsx(pgn,{disabled:r,items:t,boundaryElement:d})})}),u.jsxs(z,{flex:1,children:[l&&u.jsx(wgn,{flex:m?void 0:1,padding:a?2:1,$withInsertMenu:c,children:u.jsx(ugn,{disabled:r,collapsed:m,groups:e,isFullscreen:a})}),c&&u.jsx(L,{flex:m?void 0:1,padding:a?2:1,children:u.jsx(ygn,{disabled:r,collapsed:m,items:i,isFullscreen:a})})]}),u.jsx(Cgn,{padding:a?2:1,children:u.jsx(he,{"aria-label":s("inputs.portable-text.action.expand-editor"),icon:a?d9:y9,mode:"bleed",onClick:o,tooltipProps:{content:s(a?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor"),hotkeys:[`${Egn?"Cmd":"Ctrl"}`,"Enter"],placement:a?"bottom":"top",portal:"default"}})})]})});function _gn(e){const{collapsible:t,hotkeys:n,isFullscreen:r,readOnly:i,onMemberOpen:a,onToggleFullscreen:o}=e,s=qi(),l=w0(),c=NG(),d=i||!l,{push:h}=_r(),p=f.useCallback(x=>{let w=!1;const C=setTimeout(()=>{w=!0,h({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},Sgn);return c(x,{}).then(S=>(w&&h({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),S)).catch(S=>{h({title:"Could not resolve initial value",id:"resolving-initial-value",description:`Unable to resolve initial value for type: ${x.name}: ${S.message}.`,status:"error"})}).finally(()=>clearTimeout(C))},[h,c]),m=f.useCallback(async x=>{const w=await p(x),C=Me.insertBlock(s,x,w);C&&a(C)},[s,a,p]),g=f.useCallback(async x=>{const w=await p(x),C=Me.insertChild(s,x,w);C&&a(C)},[s,a,p]),y=ign({hotkeys:n,onMemberOpen:a,resolveInitialValue:p,disabled:!0}),v=f.useMemo(()=>Jmn(s.schemaTypes),[s]),b=f.useMemo(()=>Qmn(s.schemaTypes,d,m,g),[d,s,m,g]);return u.jsx(kgn,{actionGroups:y,blockStyles:v,collapsible:t,disabled:d,insertMenuItems:b,isFullscreen:r,onToggleFullscreen:o})}const Tgn={outline:"none"},Agn="root",jgn=$.span(e=>{const{color:t}=Te(e.theme);return de`
    color: ${t.input.default.enabled.placeholder};
  `}),Ign=e=>u.jsx(fmn,{...e}),Dgn=e=>u.jsx(Pmn,{...e}),Mgn=e=>u.jsx($mn,{...e});function Rgn(e){const{elementRef:t,hideToolbar:n,hotkeys:r,initialSelection:i,isActive:a,isFullscreen:o,onCopy:s,onItemOpen:l,onPaste:c,onToggleFullscreen:d,path:h,readOnly:p,rangeDecorations:m,renderAnnotation:g,renderBlock:y,renderChild:v,renderEditable:b,scrollElement:x,setPortalElement:w,setScrollElement:C,ariaDescribedBy:S}=e,{id:E}=ad(),{t:k}=q(),{isTopLayer:_}=Ts(),{element:T}=l0();Yo(f.useCallback(O=>{!_||!o||O.key==="Escape"&&d()},[d,o,_]));const j=f.useCallback(()=>u.jsx(jgn,{"data-testid":"pt-input-placeholder",children:k("inputs.portable-text.empty-placeholder")}),[k]),A=Omn(),I=Rmn(x),M=f.useMemo(()=>{const O={"aria-describedby":S,hotkeys:r,onCopy:s,onPaste:c,rangeDecorations:m,ref:t,renderAnnotation:g,renderBlock:y,renderChild:v,renderDecorator:Ign,renderListItem:Mgn,renderPlaceholder:j,renderStyle:Dgn,scrollSelectionIntoView:I,selection:i,spellCheck:A,style:Tgn},R=F=>u.jsx($5e,{...O,...Qa(F,["renderDefault"])});return b?b({...O,renderDefault:R}):R(O)},[S,t,r,i,s,c,m,g,y,v,b,j,I,A]),D=f.useCallback(O=>{l(h.concat(O))},[l,h]);return u.jsxs(Amn,{"data-fullscreen":o,"data-testid":"pt-editor",children:[a&&!n&&u.jsx(Ja,{children:u.jsx(jmn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:u.jsx(_gn,{collapsible:E===Agn,hotkeys:r,isFullscreen:o,onMemberOpen:D,onToggleFullscreen:d,readOnly:p})})}),u.jsxs(Imn,{flex:1,tone:p?"transparent":"default",children:[u.jsx(Dmn,{ref:C,children:u.jsx("div",{children:u.jsx(Mmn,{$isFullscreen:o,tone:p?"transparent":"default",children:u.jsx(hf,{element:o?x:T,children:M})})})}),u.jsx("div",{"data-portal":"",ref:w})]})]})}function Ogn(e){const t=qi(),[n]=f.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),f.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(i=>{switch(i.value){case"strong":r.marks["mod+b"]=i.value;break;case"em":r.marks["mod+i"]=i.value;break;case"underline":r.marks["mod+u"]=i.value;break;case"code":r.marks["mod+'"]=i.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function $gn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,i=zon(),a=qi(),o=w0();f.useLayoutEffect(()=>{var d,h,p,m,g;if(t.length===0||o!=null&&o.focus.path&&Sr(o.focus.path,t.slice(0,o.focus.path.length)))return;const s=i.find(y=>y.member.item.focused),l=i.find(y=>y.member.open),c=s||l;if(c&&((d=c.elementRef)!=null&&d.current)){n&&(Rg(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Rg(c.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"nearest",inline:"start"}));const y=c.kind==="textBlock",v=t.length===1;if(y||v){const b=y&&$u(t[2])?t[2]._key:void 0,x=b&&Array.isArray((h=c.node.value)==null?void 0:h.children)?(p=c.node.value)==null?void 0:p.children.find(E=>E._key===b):void 0,w=x&&x._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,C=y&&(t.length===3&&t[1]==="children"||w);let S=[];C?S=t.slice(0,3):y&&v&&Array.isArray((m=c.node.value)==null?void 0:m.children)?S=[t[0],"children",{_key:(g=c.node.value)==null?void 0:g.children[0]._key}]:v&&(S=[{_key:c.key}]),S.length&&(Me.select(a,{anchor:{path:S,offset:0},focus:{path:S,offset:0}}),y&&Me.focus(a))}}},[n,a,t,r,i,o==null?void 0:o.focus.path])}const Pgn=$(ie)(Lgn),Fgn=$.span`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`,Ngn=$(L)`
  max-width: 250px;
`;function Lgn({theme:e}){var r,i,a;const{color:t,radius:n}=e.sanity;return de`
    line-height: 0;
    border-radius: ${n[2]}px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px ${(r=t.selectable)==null?void 0:r.primary.selected.border};
      color: ${(i=t.selectable)==null?void 0:i.primary.pressed.fg};
    }

    &[data-selected] {
      background-color: ${(a=t.selectable)==null?void 0:a.primary.pressed.bg};
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      --card-bg-color: ${t.dark?rt.purple[950].hex:rt.purple[50].hex};
    }

    &[data-warning] {
      --card-bg-color: ${t.muted.caution.hovered.bg};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: ${t.input.invalid.enabled.bg};
      --card-border-color: ${t.input.invalid.enabled.border};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `}const Bgn=["top","bottom"];function Vgn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:i,referenceBoundary:a,referenceElement:o,title:s,open:l}=e,{sanity:c}=zv(),{t:d}=q(),h=f.useRef(null),p=f.useRef(null),m=c.color.dark?"light":"dark";Yo(f.useCallback(v=>{v.key==="Escape"&&(v.preventDefault(),v.stopPropagation(),n())},[n]));const g=f.useCallback(v=>{var b;if(!((b=p.current)!=null&&b.disabled)){v.preventDefault(),v.stopPropagation();try{i(v)}catch(x){console.error(x)}finally{p.current&&(p.current.disabled=!0)}}},[i]),y=f.useMemo(()=>u.jsx(L,{padding:1,children:u.jsxs(Rn,{space:1,children:[u.jsx(L,{padding:2,children:u.jsx(N,{weight:"medium",size:1,children:s})}),u.jsx(he,{"aria-label":d("inputs.portable-text.inline-object.edit-aria-label"),icon:Lc,mode:"bleed",onClick:r,ref:h,tooltipProps:{content:d("inputs.portable-text.inline-object.edit")}}),u.jsx(he,{"aria-label":d("inputs.portable-text.inline-object.remove-aria-label"),ref:p,icon:Jr,mode:"bleed",onClick:g,tone:"critical",tooltipProps:{content:d("inputs.portable-text.inline-object.remove")}})]})}),[g,r,s,d]);return u.jsx(_n,{constrainSize:!0,content:y,fallbackPlacements:Bgn,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:a,referenceElement:o,scheme:m})}const zgn=e=>{var X;const{floatingBoundary:t,focused:n,onItemClose:r,onItemOpen:i,onPathFocus:a,path:o,readOnly:s,referenceBoundary:l,relativePath:c,renderAnnotation:d,renderBlock:h,renderCustomMarkers:p,renderField:m,renderItem:g,renderInlineBlock:y,renderInput:v,renderPreview:b,schemaType:x,selected:w,value:C}=e,{Markers:S}=ad().__internal.components,E=qi(),k=yR(o),_=wR(er(o)),{validation:T,hasError:j,hasInfo:A,hasWarning:I}=gR(_==null?void 0:_.node),M=E.schemaTypes.block,D=k.length>0,O=f.useMemo(()=>({anchor:{path:c,offset:0},focus:{path:c,offset:0}}),[c]),R=f.useCallback(()=>{Me.delete(E,O,{mode:"children"}),Me.focus(E)},[O,E]),F=f.useCallback(()=>{_&&(Me.blur(E),i(_.node.path))},[E,i,_]),P=f.useCallback(()=>{r(),Me.select(E,O),Me.focus(E)},[r,E,O]),V=!!(_!=null&&_.member.open),U=_==null?void 0:_.input,H=(_==null?void 0:_.node.path)||rn,W=(X=_==null?void 0:_.elementRef)==null?void 0:X.current,Z=_b(o,!0),J=f.useMemo(()=>Z.filter(K=>Sr(K.path,o)),[o,Z]),re=f.useMemo(()=>({__unstable_floatingBoundary:t,__unstable_referenceBoundary:l,__unstable_referenceElement:W,children:U,focused:n,onClose:P,onOpen:F,onPathFocus:a,onRemove:R,open:V,markers:k,member:_==null?void 0:_.member,parentSchemaType:M,path:H,presence:J,readOnly:!!s,renderAnnotation:d,renderBlock:h,renderDefault:zDe,renderField:m,renderInlineBlock:y,renderInput:v,renderItem:g,renderPreview:b,schemaType:x,selected:w,value:C,validation:T}),[t,n,U,V,k,_==null?void 0:_.member,H,P,F,a,R,M,s,l,W,d,h,m,y,v,g,b,J,x,w,T,C]),G=j||I||A||D,te=f.useMemo(()=>G&&u.jsx(Ngn,{children:u.jsx(S,{markers:k,validation:T,renderCustomMarkers:p})})||null,[S,k,p,G,T]);return f.useMemo(()=>u.jsx("span",{ref:_==null?void 0:_.elementRef,contentEditable:!1,children:u.jsx(bt,{placement:"bottom",portal:"editor",disabled:V?!0:!G,content:te,children:y&&u.jsx("span",{style:{position:"relative"},children:y(re)})})}),[re,_==null?void 0:_.elementRef,y,te,G,V])},zDe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,renderPreview:p,schemaType:m,selected:g,validation:y,value:v}=e,{t:b}=q(),x=o.length>0,[w,C]=f.useState(!1),S=(m==null?void 0:m.title)||m.name,E=y.filter(A=>A.level==="error").length>0,k=y.filter(A=>A.level==="warning").length>0,_=f.useCallback(()=>{C(!1),l()},[l]);f.useEffect(()=>{C(d?!1:!!a)},[a,d]);const T=f.useMemo(()=>{if(E)return"critical";if(k)return"caution";if(g||a)return"primary"},[a,E,k,g]),j=f.useCallback(()=>{C(!1)},[]);return u.jsxs(u.Fragment,{children:[u.jsx(Pgn,{"aria-label":b("inputs.portable-text.inline-block.aria-label"),"data-focused":a||void 0,"data-invalid":E||void 0,"data-markers":x||void 0,"data-read-only":h||void 0,"data-selected":g||void 0,"data-warning":k||void 0,forwardedAs:"span",onClick:h?_:void 0,onDoubleClick:_,tone:T,children:u.jsx(Fgn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:v,fallbackTitle:"Click to edit"})})}),r&&u.jsx(Vgn,{floatingBoundary:t,onClosePopover:j,onDelete:c,onEdit:_,open:w,referenceBoundary:n,referenceElement:r,title:S}),d&&u.jsx(lG,{defaultType:"popover",onClose:s,autoFocus:a,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function Ugn(e){const{changed:t,elementRef:n,focused:r,focusPath:i=rn,elementProps:a,hasFocusWithin:o,hideToolbar:s,hotkeys:l,isActive:c,isFullscreen:d,onActivate:h,onCopy:p,onItemClose:m,onItemOpen:g,onItemRemove:y,onPaste:v,onPathFocus:b,onToggleFullscreen:x,onUpload:w,path:C,rangeDecorations:S,readOnly:E,renderAnnotation:k,renderBlock:_,renderBlockActions:T,renderCustomMarkers:j,renderEditable:A,renderField:I,renderInlineBlock:M,renderInput:D,renderItem:O,renderPreview:R,resolveUploader:F,value:P}=e,V=qi(),U=l0().element,[H,W]=f.useState(null),[Z,J]=f.useState(null),re=f.useCallback(()=>{x()},[x]),G=f.useMemo(()=>({...l,custom:{"mod+enter":x,...(l==null?void 0:l.custom)||{}}}),[l,x]),te=Ogn(G),X=P&&T?T:void 0,K=P&&j?j:void 0,[Q,ee]=f.useState(null),se=f.useCallback(me=>{const{children:Se,focused:ve,path:_e,selected:Ze,schemaType:Je,value:ot}=me;return u.jsx(Tmn,{floatingBoundary:U,focused:ve,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(_e),readOnly:E,referenceBoundary:Z,renderAnnotation:k,renderField:I,renderInlineBlock:M,renderInput:D,renderItem:O,renderBlockActions:X,renderCustomMarkers:K,renderPreview:R,renderBlock:_,schemaType:Je,selected:Ze,value:ot,children:Se})},[X,K,U,d,m,g,y,b,C,E,k,_,I,M,D,O,R,Z]),le=f.useCallback(me=>{const{focused:Se,path:ve,selected:_e,schemaType:Ze,value:Je}=me;return u.jsx(g1n,{floatingBoundary:U,focused:Se,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(ve),readOnly:E,referenceBoundary:Z,relativePath:ve,renderAnnotation:k,renderBlock:_,renderBlockActions:X,renderCustomMarkers:K,renderField:I,renderInlineBlock:M,renderInput:D,renderItem:O,renderPreview:R,schemaType:Ze,selected:_e,value:Je})},[U,Z,d,m,g,y,b,C,E,k,_,X,K,I,M,D,O,R]),oe=f.useCallback(me=>{const{value:Se}=me;return Se._type===V.schemaTypes.block.name?se(me):le(me)},[V.schemaTypes.block.name,le,se]),ue=f.useCallback(me=>{const{children:Se,focused:ve,path:_e,selected:Ze,schemaType:Je,value:ot}=me;return ot._type===V.schemaTypes.span.name?Se:u.jsx(zgn,{floatingBoundary:U,focused:ve,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(_e),readOnly:E,referenceBoundary:Z,relativePath:_e,renderAnnotation:k,renderBlock:_,renderCustomMarkers:j,renderField:I,renderInlineBlock:M,renderInput:D,renderItem:O,renderPreview:R,schemaType:Je,selected:Ze,value:ot})},[V.schemaTypes.span.name,U,m,g,b,C,E,Z,k,_,j,I,M,D,O,R]),ye=f.useCallback(me=>{const{children:Se,focused:ve,path:_e,selected:Ze,schemaType:Je,value:ot}=me;return u.jsx(rsn,{editorNodeFocused:ve,floatingBoundary:U,focused:!!r,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(_e),readOnly:E,referenceBoundary:Z,renderAnnotation:k,renderBlock:_,renderCustomMarkers:j,renderField:I,renderInlineBlock:M,renderInput:D,renderItem:O,renderPreview:R,schemaType:Je,selected:Ze,value:ot,children:Se})},[U,Z,r,m,g,b,C,E,k,_,j,I,M,D,O,R]),Ee=a["aria-describedby"],[ke]=f.useState(()=>{if(o)return{anchor:{path:i,offset:0},focus:{path:i,offset:0}}}),ge=f.useMemo(()=>u.jsx(AR,{types:V.schemaTypes.portableText.of,resolveUploader:F,onUpload:w,tabIndex:-1,children:u.jsx(Rgn,{ariaDescribedBy:Ee,elementRef:n,initialSelection:ke,hideToolbar:s,hotkeys:te,isActive:c,isFullscreen:d,onItemOpen:g,onCopy:p,onPaste:v,onToggleFullscreen:re,path:C,rangeDecorations:S,readOnly:E,renderAnnotation:ye,renderBlock:oe,renderChild:ue,renderEditable:A,setPortalElement:ee,scrollElement:Z,setScrollElement:J})}),[Ee,V.schemaTypes.portableText.of,te,ye,oe,ue,n,re,s,ke,c,d,p,g,v,C,w,F,S,E,A,Z]),je=Ff(),Ve=f.useMemo(()=>({collapsed:H,default:je.element,editor:Q,expanded:je.element}),[je.element,Q,H]);$gn({focusPath:i,boundaryElement:Z,onItemClose:m});const xe=r||o;return u.jsx(RR,{legacyEditing:!0,children:u.jsx(Gv,{__unstable_elements:Ve,element:je.element,children:u.jsx(omn,{onActivate:h,isOverlayActive:!c,children:u.jsx(no,{disabled:d,hasFocus:!!r,isChanged:t,path:C,children:u.jsxs(smn,{"data-focused":xe?"":void 0,"data-read-only":E?"":void 0,children:[u.jsx(L,{"data-wrapper":"",ref:W,children:u.jsx(Pp,{__unstable_name:d?"expanded":"collapsed",children:d?u.jsx(lmn,{children:ge}):ge})}),u.jsx("div",{"data-border":""})]})})})})})}function Hgn(e){return u.jsx(Ehe.Provider,{value:e.markers,children:e.children})}function Wgn(e){return u.jsx(H7.Provider,{value:e.memberItems,children:e.children})}function Ggn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:i}=e,a=Qo(),{t:o}=q(),s=f.useCallback(()=>{r&&(t({type:"mutation",patches:r.patches}),a.log(nmn,{PTEInvalidValueId:r.i18n.description,PTEInvalidValueDescription:r.description}))},[t,r,a]),l=f.useCallback(()=>{a.log(tmn),n()},[n,a]);return r?u.jsx(Ju,{title:u.jsx(u.Fragment,{children:o("inputs.portable-text.invalid-value.title")}),suffix:u.jsxs(ne,{padding:2,children:[r.action&&u.jsxs(Gn,{columns:[1,2],gap:1,children:[u.jsx($t,{mode:"ghost",onClick:l,text:o("inputs.portable-text.invalid-value.ignore-button.text")}),!i&&u.jsx($t,{onClick:s,text:u.jsx(gt,{t:o,i18nKey:r.i18n.action,values:r.i18n.values}),tone:"caution"})]}),u.jsx(L,{padding:3,children:r.action&&u.jsx(N,{as:"p",muted:!0,size:1,children:o("inputs.portable-text.invalid-value.action-disclaimer")})})]}),children:u.jsxs(ne,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(gt,{t:o,i18nKey:r.i18n.description,values:r.i18n.values})}),u.jsx(ie,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx(mi,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}const xh=6,Ygn={animate:{opacity:1,scaleX:1,scaleY:1},exit:{opacity:0,scaleX:0,scaleY:.5},initial:{opacity:0,scaleX:0,scaleY:.5}},qgn={duration:.3,ease:"easeInOut",type:"spring",bounce:0},Kgn={animate:{opacity:1},exit:{opacity:0},initial:{opacity:0}},Zgn={duration:.2,delay:.15},Xgn=$.span(({theme:e,$tints:t})=>{var a;const n=(a=Te(e))==null?void 0:a.color._dark,r=t[n?400:500].hex,i=t[n?900:50].hex;return de`
    --presence-cursor-bg: ${r};
    --presence-cursor-fg: ${i};

    border-left: 1px solid transparent;
    border-color: var(--presence-cursor-bg);
    margin-left: -1px;
    position: relative;
    word-break: normal;
    white-space: normal;
    mix-blend-mode: unset;
    pointer-events: none;
  `}),Jgn=$.div`
  background-color: var(--presence-cursor-bg);
  border-radius: 50%;
  width: ${xh}px;
  height: ${xh}px;
  position: absolute;
  top: -${xh-1}px;
  left: -0.5px;
  transform: translateX(-50%);
  mix-blend-mode: unset;
  z-index: 0;
  pointer-events: all;

  // Increase the hit area of the cursor dot
  &:before {
    content: '';
    position: absolute;
    top: -${xh/2}px;
    left: 50%;
    transform: translateX(-50%);
    width: ${xh*2}px;
    height: ${xh*3}px;
    opacity: 0.5;
  }
`,Qgn=$(Mi(L))(({theme:e})=>{var n;const t=(n=Te(e))==null?void 0:n.radius[4];return de`
    position: absolute;
    top: -${xh*1.5}px;
    left: -${xh*.75}px;
    transform-origin: left;
    white-space: nowrap;
    padding: 3px 6px;
    box-sizing: border-box;
    border-radius: ${t}px;
    background-color: var(--presence-cursor-bg);
    z-index: 1;
    mix-blend-mode: unset;
    user-select: none;
  `}),e0n=$(Mi(N))`
  color: var(--presence-cursor-fg);
  mix-blend-mode: unset;
`;function t0n(e){const{children:t,user:n}=e,{tints:r}=bje(n.id),[i,a]=f.useState(!1),o=f.useCallback(()=>a(!0),[]),s=f.useCallback(()=>a(!1),[]),l=f.useMemo(()=>{var c;return`presence-cursor-${(c=n.displayName)==null?void 0:c.split(" ").join("-")}`},[n.displayName]);return u.jsxs(u.Fragment,{children:[u.jsxs(Xgn,{$tints:r,contentEditable:!1,"data-testid":l,onMouseEnter:o,onMouseLeave:s,children:[u.jsx(sl,{children:i&&u.jsx(Qgn,{animate:"animate",exit:"exit",flex:1,initial:"initial",transition:qgn,variants:Ygn,children:u.jsx(e0n,{animate:"animate",exit:"exit",initial:"initial",size:0,transition:Zgn,variants:Kgn,weight:"medium",children:n.displayName})})}),u.jsx(Jgn,{})]}),t]})}function n0n(e){const{path:t}=e,n=Tje(),[r,i]=f.useState([]),[a,o]=f.useState([]),s=f.useRef(r),l=f.useCallback(c=>{const{rangeDecoration:d,newSelection:h}=c;o(p=>p.map(m=>{var g,y;return((g=m.payload)==null?void 0:g.sessionId)===((y=d.payload)==null?void 0:y.sessionId)?{...d,selection:h}:m}))},[]);return f.useEffect(()=>{const c=n.filter(p=>Ha(t,p.path)&&!kt(t,p.path)),d=c.map(p=>({...p.selection,sessionId:p.sessionId})),h=s.current.map(p=>({...p.selection,sessionId:p.sessionId}));if(!kt(d,h)){const p=c.length>0?c:rn;i(p),s.current=p}},[n,t]),f.useEffect(()=>{const c=r.map(d=>{if(!d.selection)return null;const h={focus:d.selection.focus,anchor:d.selection.focus};return{component:({children:p})=>u.jsx(t0n,{user:d.user,children:p}),selection:h,onMoved:l,payload:{sessionId:d.sessionId}}});o(c.filter(Boolean))},[r,l]),a}function r0n(e,t,n){return e.map(r=>({type:r,uploader:t(r,n),parentType:r})).filter(r=>r.uploader)}function i0n(e){const{path:t}=e,{patchChannel:n}=ad().__internal;return{subscribe:f.useCallback(r=>n.subscribe(({snapshot:i,patches:a})=>{const o=a.filter(s=>S6(s.path,t)).map(s=>({...s,path:s.path.slice(t.length)}));o.length&&r({shouldReset:s0n(t,a),snapshot:wt(i)?l0n(i,t):{},patches:o})}),[t,n])}}function a0n(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?yp(e,t):e===t}function S6(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!a0n(t[n],e[n]))return!1;return!0}function o0n(e,t){return e.length===0||S6(t,e)&&!S6(e,t)}function s0n(e,t){return t.some(n=>o0n(n.path,e)&&(n.type==="set"||n.type==="unset"))}function l0n(e,t){return t.reduce((n,r)=>typeof r=="object"?QAe(n,r):ir(n,r),e)}function u0n(e){const{editorRef:t,elementProps:n,hotkeys:r,initialActive:i,initialFullscreen:a,markers:o=rn,onChange:s,onCopy:l,onEditorChange:c,onFullScreenChange:d,onInsert:h,onItemRemove:p,onPaste:m,onPathFocus:g,path:y,readOnly:v,rangeDecorations:b,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C,schemaType:S,value:E,resolveUploader:k,onUpload:_}=e,{onBlur:T,ref:j}=n,A=f.useRef(null),I=t||A,M=n0n(f.useMemo(()=>({path:e.path}),[e.path])),{subscribe:D}=i0n({path:y}),{t:O}=q(),[R,F]=f.useState(!1),[P,V]=f.useState(null),[U,H]=f.useState(a??!1),[W,Z]=f.useState(i??!1),[J,re]=f.useState(!1),[G,te]=f.useState(!1),X=Qo(),K=_r(),Q=f.useMemo(()=>new Fr,[]),ee=f.useMemo(()=>Q.asObservable(),[Q]),se=f.useCallback(()=>{H(ve=>{const _e=!ve;return _e?X.log(Qpn):X.log(emn),d==null||d(_e),_e})},[d,X]);f.useEffect(()=>{P&&E!==P.value&&V(null)},[P,E]),f.useEffect(()=>D(({patches:ve,snapshot:_e})=>{Q.next({patches:ve,snapshot:_e})}),[Q,D]);const le=Uon(e);f.useEffect(()=>{G&&Z(!0)},[G]);const oe=f.useCallback(()=>{const ve=ue.current,_e=ve==null?void 0:ve.focus.path;if(!_e)return;const Ze=_e.length===3&&_e[1]==="children"&&En(_e[2])&&!le.some(Je=>En(_e[2])&&Je.member.key===_e[2]._key)?_e.concat(["text"]):_e;f.startTransition(()=>{g(Ze,{selection:ve})})},[g,le]),ue=f.useRef(null),ye=f.useCallback(ve=>{switch(ve.type){case"mutation":s(zle(ve.patches));break;case"connection":ve.value==="offline"?re(!0):ve.value==="online"&&re(!1);break;case"selection":ue.current=ve.selection,oe();break;case"focus":Z(!0),te(!0);break;case"blur":T(ve.event),te(!1);break;case"undo":case"redo":s(zle(ve.patches));break;case"invalidValue":V(ve);break;case"error":K.push({status:ve.level,description:ve.description});break}I.current&&c&&c(ve,I.current)},[I,c,s,oe,T,K]);f.useEffect(()=>{F(!1)},[E]);const Ee=f.useCallback(()=>{F(!0)},[]),ke=f.useMemo(()=>P&&P.resolution?u.jsx(L,{marginBottom:2,children:u.jsx(Ggn,{onChange:ye,onIgnore:Ee,resolution:P.resolution,readOnly:J||v})}):null,[ye,Ee,P,J,v]),ge=f.useCallback(()=>{W||(Z(!0),I.current&&Me.focus(I.current))},[I,W]),je=f.useRef([]),Ve=f.useMemo(()=>{const ve=[...b||[],...M],_e=mR(je.current,ve);return je.current=_e,_e},[M,b]),xe=f.useCallback((ve,_e)=>{const{type:Ze,uploader:Je}=_e;_==null||_({file:ve,schemaType:Ze,uploader:Je})},[_]),me=f.useCallback(ve=>{if(!k)return;const _e=ve.map(ot=>({file:ot,uploaderCandidates:r0n(S.of,k,ot)})),Ze=_e.filter(ot=>ot.uploaderCandidates.length>0),Je=_e.filter(ot=>ot.uploaderCandidates.length===0);Je.length>0&&K.push({closable:!0,status:"warning",title:O("inputs.array.error.cannot-upload-unable-to-convert",{count:Je.length}),description:Je.map((ot,$e)=>u.jsxs(z,{gap:2,padding:2,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:ot.file.name})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:["(",ot.file.type,")"]})})]},$e))}),Ze.forEach(ot=>{xe(ot.file,Bp(ot.uploaderCandidates,$e=>$e.uploader.priority)[0])})},[K,k,S,xe,O]),Se=f.useCallback(ve=>{const{event:_e}=ve,Ze=_e.type==="paste"?"paste":"drop",Je=!!_e.clipboardData.getData("text/html"),ot=!!_e.clipboardData.getData("text/plain");return Ze==="paste"&&Je&&ot||TIe(_e.clipboardData).then($e=>$e.length>0?$e:[]).then($e=>{me($e)}),m==null?void 0:m(ve)},[me,m]);return u.jsxs(L,{children:[!R&&ke,(!P||R)&&u.jsx(Hgn,{markers:o,children:u.jsx(Wgn,{memberItems:le,children:u.jsx(Me,{patches$:ee,onChange:ye,maxBlocks:void 0,ref:I,readOnly:J||v,schemaType:S,value:E,children:u.jsx(Ugn,{...e,elementRef:j,hasFocusWithin:G,hotkeys:r,isActive:W,isFullscreen:U,onActivate:ge,onItemRemove:p,onCopy:l,onInsert:h,onPaste:Se,onToggleFullscreen:se,rangeDecorations:Ve,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C})})})})]})}function zle(e){return e.map(t=>({...t,patchType:Yg}))}function E6(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function c0n(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&E6(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const d0n=$(ie)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:i}=t.sanity,a=t.sanity.color.input,o=Ce(t.sanity.space[1]);return{position:"relative",borderRadius:`${i[1]}px`,color:a.default.enabled.fg,boxShadow:E6({color:a.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:`-${o} 0 0 -${o}`},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:`${o} 0 0 ${o}`},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:a.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:c0n({border:{color:a.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:a.default.disabled.fg,backgroundColor:a.default.disabled.bg,boxShadow:E6({color:a.default.disabled.border,width:r.border.width})}}}),f0n=$.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,i=t.sanity.space[2],a=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:Ce(a.fontSize),lineHeight:a.lineHeight/a.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:Ce(i-a.ascenderHeight),paddingRight:Ce(i),paddingBottom:Ce(i-a.descenderHeight),paddingLeft:Ce(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),h0n=$(L)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: ${n.default.enabled.placeholder};
  `}),p0n=$(L)`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`,UDe=f.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:i,placeholder:a,readOnly:o,value:s=[],...l}=e,{t:c}=q(hv),[d,h]=f.useState(""),p=!n&&!o,[m,g]=f.useState(!1),y=f.useRef(null),v=f.useRef(null);f.useImperativeHandle(t,()=>y.current);const b=f.useCallback(k=>{if(Yc(k.target)&&k.target.closest('[data-ui="Tag"]'))return;const _=y.current;_&&setTimeout(()=>_.focus(),0)},[]),x=f.useCallback(()=>{g(!1)},[]),w=f.useCallback(k=>{h(k.currentTarget.value)},[]),C=f.useCallback(k=>{g(!0),i&&i(k)},[i]),S=f.useCallback(k=>{if(k.key==="Enter"&&(k.preventDefault(),k.stopPropagation(),r&&d)){const _=s.concat([{value:d}]);h(""),r&&r(_)}},[d,r,s]),E=f.useCallback(k=>{if(!r)return;const _=s.slice(0);_.splice(k,1),r(_)},[r,s]);return f.useEffect(()=>{const k=y.current;k&&(k.style.width="0",k.style.width=`${k.scrollWidth}px`)},[d]),u.jsxs(d0n,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":o?"":void 0,"data-ui":"TagInput",onPointerDown:b,overflow:"auto",padding:1,ref:v,children:[p&&u.jsx(h0n,{hidden:!!(d||s.length),padding:3,children:u.jsx(N,{textOverflow:"ellipsis",children:a||c("inputs.tags.placeholder",{context:typeof window<"u"&&"ontouchstart"in window?"touch":void 0})})}),u.jsxs("div",{className:"content",children:[s.map((k,_)=>u.jsx(p0n,{children:u.jsx(m0n,{enabled:p,index:_,muted:!p,onRemove:E,tag:k})},`tag-${_}`)),u.jsx("div",{children:u.jsx(f0n,{...l,disabled:!p,onBlur:x,onChange:w,onFocus:C,onKeyDown:S,ref:y,type:"text",value:d})},"tag-input")]})]})});UDe.displayName="ForwardRef(TagInput)";function m0n(e){const{enabled:t,index:n,muted:r,onRemove:i,tag:a}=e,o=f.useCallback(()=>{i(n)},[n,i]);return u.jsx(ie,{"data-ui":"Tag",radius:2,tone:"transparent",children:u.jsxs(z,{align:"center",gap:1,children:[u.jsx(L,{flex:1,paddingY:2,paddingLeft:2,children:u.jsx(N,{muted:r,textOverflow:"ellipsis",children:a.value})}),t&&u.jsx(he,{icon:Nr,mode:"bleed",onClick:o,tooltipProps:{content:"Remove"}})]})})}function g0n(e){const{onChange:t,readOnly:n,value:r=[],elementProps:i,path:a,changed:o}=e,s=f.useMemo(()=>r==null?void 0:r.map(c=>({value:c})),[r]),l=f.useCallback(c=>{t(c.length===0?vt():ft(c.map(d=>d.value)))},[t]);return u.jsx(no,{path:a,isChanged:o,hasFocus:!1,children:u.jsx(UDe,{onChange:l,readOnly:n,value:s,...i})})}const y0n=["string","number","boolean"];function v0n(e){return e.of.every(t=>y0n.includes(t.jsonType))}function b0n(e){return e.of.length===1&&Ic("string",e.of[0])}function x0n(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function w0n(e){return e.of.some(t=>Ic("block",t))}function C0n(e){var t;return!!((t=e.options)!=null&&t.list)}function S0n(e){return b0n(e)&&x0n(e)?g0n:C0n(e)?JIe:v0n(e)?QIe:w0n(e)?u0n:XIe}function E0n(e){return oI(e)?e:{title:x0(`${e}`),value:e}}const Ule={title:"",value:void 0};function HDe(e){var w,C;const{value:t,readOnly:n,validationError:r,schemaType:i,onChange:a,path:o,changed:s,focused:l,elementProps:c}=e,d=f.useMemo(()=>{var S;return(((S=i.options)==null?void 0:S.list)||[]).map(E0n)},[(w=i.options)==null?void 0:w.list]),h=d.find(S=>S.value===t),p=i.options&&i.options.layout==="radio",m=f.useCallback(S=>{const E=Number(S);return d[E]},[d]),g=f.useCallback(S=>String(d.indexOf(S)),[d]),y=f.useId(),v=f.useCallback(S=>{a(Dt.from(typeof(S==null?void 0:S.value)>"u"?vt():ft(S.value)))},[a]),b=f.useCallback(S=>{const E=m(S.currentTarget.value);if(!E){v(Ule);return}v(E)},[v,m]),x=p?u.jsx(k0n,{...c,value:h,inputId:y,items:d,direction:((C=i.options)==null?void 0:C.direction)||"vertical",customValidity:r,onChange:v,readOnly:n}):u.jsx(Xl,{...c,customValidity:r,value:g(h),readOnly:n,onChange:b,children:[Ule,...d].map((S,E)=>u.jsx("option",{value:E-1,children:S.title},`${E-1}`))});return u.jsx(no,{path:o,isChanged:s,hasFocus:!!l,children:x})}const k0n=f.forwardRef(function(e,t){const{items:n,value:r,onChange:i,onFocus:a,readOnly:o,customValidity:s,direction:l,inputId:c}=e;return u.jsx(ie,{border:!0,padding:3,radius:2,children:u.jsx(l==="horizontal"?Rn:ne,{space:3,role:"group",children:n.map((d,h)=>u.jsx(_0n,{customValidity:s,inputId:c,item:d,onChange:i,onFocus:a,readOnly:o,ref:h===0?t:null,value:r},h))})})}),_0n=f.forwardRef(function(e,t){const{customValidity:n,inputId:r,item:i,onChange:a,onFocus:o,readOnly:s,value:l}=e,c=f.useCallback(()=>{a(i)},[i,a]);return u.jsxs(z,{as:"label",align:"center",children:[u.jsx(kbe,{ref:t,checked:l===i,onChange:c,onFocus:o,readOnly:s,customValidity:n,name:r}),u.jsx(L,{marginLeft:2,children:u.jsx(N,{size:1,weight:"medium",children:i.title})})]})});function T0n(e){return xIe(e,"list")?HDe:rDe}function A0n(e){return xIe(e,"list")?HDe:iDe}function j0n(e){if(Ic("array",e))return S0n(e);if(Ic("reference",e))return Nln;if(Ic("string",e))return A0n(e);if(Ic("number",e))return T0n(e)}function I0n(e){var i;if((i=e.components)!=null&&i.input)return e.components.input;const t=j0n(e);if(t)return t;const n=hG(e,new Set).reduce((a,o)=>(a[o.name]=o,a),{}),r=Object.values(n).find(a=>$le[a.name]);if(r)return $le[r.name];throw new Error(`Could not find input component for schema type \`${e.name}\``)}function D0n(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:ro}function M0n({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const R0n={portal:!0,tone:"default"},O0n={position:"relative"};function $0n(e){var te,X,K,Q,ee,se,le;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:a,value:o,open:s,onInsert:l,onCopy:c,onFocus:d,onOpen:h,onClose:p,changed:m,focused:g,children:y,inputProps:{renderPreview:v}}=e,{t:b}=q(),x=MR(),w=((te=n==null?void 0:n.options)==null?void 0:te.treeEditing)===!1,C=w||x.legacyEditing,S=s&&(!x.enabled||C),E=((X=n.options)==null?void 0:X.sortable)!==!1,k=n.of,_=f.useRef(null);SR(_,s),jo(g,(oe,ue)=>{var ye;!oe&&ue&&_.current&&((ye=_.current)==null||ye.focus())});const T=o._resolvingInitialValue,j=f.useCallback(()=>{l({items:[{...o,_key:rf()}],position:"after"})},[l,o]),A=f.useCallback(()=>{c({items:[{...o,_key:rf()}]})},[c,o]),I=f.useCallback((oe,ue)=>{l({items:[jb(ue)],position:oe})},[l]),M=_b(r,!0),D=f.useMemo(()=>M.length===0?null:u.jsx(ck,{presence:M,maxAvatars:1}),[M]),O=YW(r,!0),R=f.useMemo(()=>O.length===0?null:u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ab,{validation:O,__unstable_showSummary:!0})}),[O]),F=O.some(oe=>oe.level==="error"),P=O.some(oe=>oe.level==="warning"),[V,U]=f.useState(null),{insertBefore:H,insertAfter:W}=CG({schemaTypes:k,insertMenuOptions:(K=n.options)==null?void 0:K.insertMenu,onInsert:I,referenceElement:V}),Z=f.useMemo(()=>i?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:U,onOpen:()=>{H.send({type:"close"}),W.send({type:"close"})},button:u.jsx(Si,{selected:H.state.open||W.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(Ot,{children:[u.jsx(He,{text:b("inputs.array.action.remove"),tone:"critical",icon:Jr,onClick:a}),u.jsx(He,{text:b("inputs.array.action.copy"),icon:Gl,onClick:A}),u.jsx(He,{text:b("inputs.array.action.duplicate"),icon:jv,onClick:j}),H.menuItem,W.menuItem]}),popover:R0n}),H.popover,W.popover]}),[i,H,W,e.inputId,b,a,A,j]),J=M0n({readOnly:i,hasErrors:F,hasWarnings:P}),re=u.jsx(OR,{menu:Z,presence:D,validation:R,tone:J,focused:g,dragHandle:E,selected:s,readOnly:!!i,children:u.jsxs(ie,{as:"button",type:"button",tone:"inherit",radius:1,disabled:T,onClick:h,ref:_,onFocus:d,__unstable_focusRing:!0,style:O0n,children:[v({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),T&&u.jsx(bn,{fill:!0})]})}),G=Ru(t);return u.jsxs(RR,{legacyEditing:w,children:[u.jsx(no,{path:r,isChanged:m,hasFocus:!!g,children:u.jsx(L,{paddingX:1,children:re})}),S&&u.jsx(LIe,{header:i?b("inputs.array.action.view",{itemTypeTitle:G}):b("inputs.array.action.edit",{itemTypeTitle:G}),type:((ee=(Q=n==null?void 0:n.options)==null?void 0:Q.modal)==null?void 0:ee.type)||"dialog",width:((le=(se=n==null?void 0:n.options)==null?void 0:se.modal)==null?void 0:le.width)??1,id:o._key,onClose:p,autofocus:g,legacy_referenceElement:_.current,children:y})]})}function P0n(e){const{menuRef:t,menuButtonRef:n,containerRef:r}=e,i=f.useMemo(()=>({menuRef:t,menuButtonRef:n,containerRef:r}),[r,n,t]);return u.jsx(jhe.Provider,{value:i,children:e.children})}function F0n({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const N0n={portal:!0,tone:"default"};function L0n(e){var Ze,Je,ot,$e,Le,Oe,qe,nt;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:a,value:o,open:s,onInsert:l,onCopy:c,presence:d,validation:h,inputId:p,changed:m,focused:g,children:y,inputProps:{onChange:v,focusPath:b,onPathFocus:x,renderPreview:w,elementProps:C}}=e,S=((Ze=n.options)==null?void 0:Ze.sortable)!==!1,E=n.of,k=f.useRef(null),_=f.useRef(null),T=f.useRef(null),j=f.useRef(null),{EditReferenceLink:A,getReferenceInfo:I,selectedState:M,isCurrentDocumentLiveEdit:D}=fG({path:r,schemaType:t,value:o});SR(k,s),jo(g,(_t,wn)=>{var We;!_t&&wn&&k.current&&((We=k.current)==null||We.focus())});const O=e.validation.some(_t=>_t.level==="error"),R=e.validation.some(_t=>_t.level==="warning"),F=o._resolvingInitialValue,P=f.useCallback(()=>{l({items:[{...o,_key:rf()}],position:"after"})},[l,o]),V=f.useCallback(()=>{c({items:[{...o,_key:rf()}]})},[c,o]),U=f.useCallback((_t,wn)=>{l({items:[{...jb(wn),_key:rf()}],position:_t})},[l]),H=ER(o==null?void 0:o._ref,I),W=o._ref,Z=((Je=H.result)==null?void 0:Je.type)||((ot=o==null?void 0:o._strengthenOnPublish)==null?void 0:ot.type),J=W&&((Oe=(Le=($e=H.result)==null?void 0:$e.preview)==null?void 0:Le.published)==null?void 0:Oe._id),re=f.useCallback(()=>{v([t.weak===!0?ft(!0,["_weak"]):vt(["_weak"]),vt(["_strengthenOnPublish"])])},[v,t.weak]),G=Z?t.to.find(_t=>_t.name===Z):void 0,te=M==="pressed",X=M==="selected",K=F0n({readOnly:i,hasErrors:O,hasWarnings:R}),Q=!W||b[0]==="_ref",{t:ee}=q(),se=f.useMemo(()=>f.forwardRef(function(_t,wn){return u.jsx(su,{..._t,intent:"edit",params:{id:o==null?void 0:o._ref,type:G==null?void 0:G.name},target:"_blank",rel:"noopener noreferrer",ref:wn})}),[G==null?void 0:G.name,o==null?void 0:o._ref]),le=f.useCallback(()=>{x(W&&Q?[]:["_ref"])},[W,Q,x]),[oe,ue]=f.useState(null),ye=f.useCallback(_t=>{ue(_t),T.current=_t},[]),{insertBefore:Ee,insertAfter:ke}=CG({schemaTypes:E,insertMenuOptions:(qe=n.options)==null?void 0:qe.insertMenu,onInsert:U,referenceElement:oe}),ge=f.useMemo(()=>i?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:ye,onOpen:()=>{Ee.send({type:"close"}),ke.send({type:"close"})},button:u.jsx(Si,{selected:Ee.state.open||ke.state.open?!0:void 0}),id:`${p}-menuButton`,menu:u.jsxs(Ot,{ref:_,children:[!i&&u.jsxs(u.Fragment,{children:[u.jsx(He,{text:ee("inputs.reference.action.remove"),tone:"critical",icon:Jr,onClick:a}),u.jsx(He,{text:ee(W&&Q?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:W&&Q?Nr:n0,onClick:le}),u.jsx(He,{text:ee("inputs.reference.action.copy"),icon:Gl,onClick:V}),u.jsx(He,{text:ee("inputs.reference.action.duplicate"),icon:jv,onClick:P}),Ee.menuItem,ke.menuItem]}),!i&&!Q&&W&&u.jsx(fr,{}),!Q&&W&&u.jsx(He,{as:se,"data-as":"a",text:ee("inputs.reference.action.open-in-new-tab"),icon:Wc})]}),popover:N0n}),Ee.popover,ke.popover]}),[se,V,P,le,W,p,ke,Ee,Q,a,i,ye,ee]),je=f.useCallback(()=>{v(t.weak===!0?ft(!0,["_weak"]):vt(["_weak"]))},[v,t]),Ve=o!=null&&o._weak?"weak":"strong",xe=t.weak===!0?"weak":"strong",me=W&&!H.isLoading&&(o==null?void 0:o._strengthenOnPublish),Se=!H.isLoading&&((nt=H.result)==null?void 0:nt.availability.available)&&W&&Ve!==xe&&!me,ve=u.jsxs(u.Fragment,{children:[D&&J&&o._strengthenOnPublish&&u.jsx(uIe,{schemaType:t,handleRemoveStrengthenOnPublish:re}),Se&&u.jsx(dG,{actualStrength:Ve,handleFixStrengthMismatch:je}),H.error&&u.jsx(cG,{errorMessage:H.error.message,onHandleRetry:H.retry})]}),_e=u.jsx(P0n,{menuRef:_,menuButtonRef:T,containerRef:j,children:u.jsx(OR,{dragHandle:S,readOnly:!!i,presence:!Q&&d.length>0&&u.jsx(ck,{presence:d,maxAvatars:1}),validation:!Q&&h.length>0&&u.jsx(Ab,{validation:h}),menu:ge,footer:Q?void 0:ve,tone:Q?void 0:K,focused:g,children:Q?u.jsx(L,{padding:1,ref:j,children:u.jsx(vR,{title:t.title,description:t.description,__unstable_presence:d,validation:h,inputId:p,deprecated:t.deprecated,children:y})}):u.jsxs(cIe,{as:A,tone:"inherit",radius:2,documentId:o==null?void 0:o._ref,documentType:G==null?void 0:G.name,disabled:F,__unstable_focusRing:!0,selected:X,pressed:te,"data-selected":X?!0:void 0,"data-pressed":te?!0:void 0,...C,children:[u.jsx(lIe,{value:o,referenceInfo:H,renderPreview:w,type:t}),F&&u.jsx(bn,{fill:!0})]})})});return u.jsx(no,{path:r,isChanged:m,hasFocus:!!g,children:u.jsx(L,{paddingX:1,children:_e})})}function B0n(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Gs(e)?L0n:$0n}function V0n(e){const{children:t}=e,[{error:n,info:r},i]=f.useState({error:null,info:{}}),a=f.useCallback(()=>i({error:null,info:{}}),[]);return n?u.jsx(z0n,{error:n,info:r,onRetry:a}):u.jsx(Wv,{onCatch:i,children:t})}function z0n(e){const{error:t,info:n,onRetry:r}=e;if(t instanceof hR||t instanceof nO)throw t;const{t:i}=q(),a=f.useMemo(()=>wt(t)&&typeof t.message=="string"&&t.message,[t]),o=f.useMemo(()=>wt(t)&&typeof t.stack=="string"&&t.stack,[t]);return f.useMemo(()=>typeof(n==null?void 0:n.componentStack)=="string"&&n.componentStack,[n==null?void 0:n.componentStack]),_Te(r),u.jsx(Ju,{status:"error",title:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.title")}),children:u.jsxs(ne,{space:4,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.error-message",{message:a})})}),o&&u.jsx(L,{children:u.jsxs(ne,{space:2,children:[u.jsx(N,{as:"p",size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.call-stack.title")})}),u.jsx(ie,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:o&&u.jsx(mi,{size:1,style:{maxHeight:"40vh"},children:o})})]})},"call-stack"),cl]})})}const U0n={isLoading:!0},H0n={isLoading:!1};function mk(e){const{enabled:t=!0,ordering:n,schemaType:r,value:i}=e||{},{observeForPreview:a}=da(),o=f.useMemo(()=>!t||!i||!r?we(H0n):a(i,r,{viewOptions:{ordering:n}}).pipe(fe(s=>({isLoading:!1,value:s.snapshot||void 0})),kn(s=>we({isLoading:!1,error:s}))),[t,i,r,a,n]);return ti(o,U0n)}const W0n=typeof window>"u"?sr:To(window,"orientationchange").pipe(la(1)),G0n=typeof window>"u"?sr:To(window,"resize").pipe(la(1)),Y0n=typeof window>"u"?sr:To(window,"scroll",{passive:!0,capture:!0}).pipe(la(1)),WDe=150;function q0n(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const K0n=q0n()?Z0n():X0n();function Z0n(){const e=new Fr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:`${WDe}px`});return function(n){return new Rt(r=>(t.observe(n),r.next(),()=>t.unobserve(n))).pipe(Mt(()=>e.asObservable()),Nt(r=>r.target===n),fe(r=>({isIntersecting:r.isIntersecting})))}}function X0n(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,i,a){return r.left<=i.right+a&&r.right>=i.left-a&&r.top<=i.bottom+a&&r.bottom>=i.top-a}function n(r){return()=>t(r.getBoundingClientRect(),e(),WDe)}return function(r){const i=n(r);return Bn(we(i()),G0n,Y0n,W0n).pipe(fe(i),fe(a=>({isIntersecting:a})))}}const J0n=typeof window>"u"?sr:To(document,"visibilitychange").pipe(la(1));function Q0n(e){const{element:t,hideDelay:n=0}=e,[r,i]=f.useState(!1);return f.useEffect(()=>{if(!t)return;const a=ji(we(!document.hidden),J0n.pipe(fe(l=>{var c;return l.target instanceof Document?!((c=l==null?void 0:l.target)!=null&&c.hidden):!1}))).pipe(hr()),o=K0n(t).pipe(fe(l=>l.isIntersecting)),s=a.pipe(Ct(l=>l?o:we(!1)),Ct(l=>l?we(!0):we(!1).pipe(tCe(n))),hr()).subscribe(i);return()=>s.unsubscribe()},[t,n]),r}const e1n=2e3;function t1n(e){return n1n(e==null?void 0:e._upload)}function Lx(e){return lg(e)?e:void 0}function n1n(e){var s,l;if(!wt(e))return;const t=typeof e.progress=="number"?e.progress:0,n=Lx(e.initiated||e.createdAt),r=Lx(e.updated||e.updatedAt),i=Lx((s=e==null?void 0:e.file)==null?void 0:s.name),a=Lx((l=e==null?void 0:e.file)==null?void 0:l.type),o=Lx(e.previewImage);if(n&&r&&i&&a)return{progress:t,createdAt:n,updatedAt:r,file:{name:i,type:a},previewImage:o}}function TG(e){const{layout:t,value:n,component:r,style:i,schemaType:a,skipVisibilityCheck:o,...s}=e,{t:l}=q(),[c,d]=f.useState(null),h=Q0n({element:o?null:c,hideDelay:e1n}),p=mk({enabled:o||h,schemaType:a,value:n}),m=f.useMemo(()=>({...i,minWidth:(i==null?void 0:i.minWidth)||1,minHeight:(i==null?void 0:i.minHeight)||1}),[i]),g=f.useMemo(()=>t1n(n),[n]),y=f.useMemo(()=>{var v,b;return g!=null&&g.previewImage?u.jsx("img",{alt:l("preview.image.file-is-being-uploaded.alt-text"),src:g.previewImage}):(v=p==null?void 0:p.value)!=null&&v.media?(b=p==null?void 0:p.value)==null?void 0:b.media:a.icon},[p,a,g,l]);return u.jsx("div",{ref:d,style:m,children:f.createElement(r,{...s,...(p==null?void 0:p.value)||{},media:y,error:p==null?void 0:p.error,isPlaceholder:p==null?void 0:p.isLoading,layout:t,schemaType:a})})}function r1n(){return u.jsxs(N,{size:1,children:["This is a example custom marker, please implement ",u.jsx("code",{children:"renderCustomMarkers"})," function."]})}const i1n={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function a1n(e){const{__internal_fieldActions:t=rn,__internal_patchChannel:n=i1n,autoFocus:r,changesOpen:i,children:a,collapsedFieldSets:o,collapsedPaths:s,file:l,filterField:c,focusPath:d,focused:h,groups:p,id:m,image:g,onChange:y,onFieldGroupSelect:v,onPathBlur:b,onPathFocus:x,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:S,presence:E,readOnly:k,renderAnnotation:_,renderBlock:T,renderField:j,renderInlineBlock:A,renderInput:I,renderItem:M,renderPreview:D,schemaType:O,unstable:R,validation:F}=e,P=f.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:vG,CustomMarkers:(R==null?void 0:R.CustomMarkers)||r1n,Markers:(R==null?void 0:R.Markers)||Aje},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:c||(()=>!0),image:{assetSources:g.assetSources,directUploads:(g==null?void 0:g.directUploads)!==!1},onChange:y}),[t,l.assetSources,l==null?void 0:l.directUploads,c,g.assetSources,g==null?void 0:g.directUploads,y,n,R==null?void 0:R.CustomMarkers,R==null?void 0:R.Markers]),V=f.useMemo(()=>({__internal:P,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:s,focusPath:d,focused:h,groups:p,id:m,readOnly:k,renderAnnotation:_,renderBlock:T,renderField:j,renderInlineBlock:A,renderInput:I,renderItem:M,renderPreview:D,schemaType:O}),[P,r,i,o,s,d,h,p,m,k,_,T,j,A,I,M,D,O]);return u.jsx(phe.Provider,{value:V,children:u.jsx(dk,{onChange:y,onFieldGroupSelect:v,onPathBlur:b,onPathFocus:x,onPathOpen:w,onSetPathCollapsed:S,onSetFieldSetCollapsed:C,children:u.jsx(asn,{id:m,children:u.jsx(Lrn,{presence:E,children:u.jsx(zrn,{validation:F,children:u.jsx(Qrn,{children:a})})})})})})}function o1n(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,children:a,collapsedFieldSets:o,collapsedPaths:s,focusPath:l,focused:c,groups:d,id:h,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:v,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,readOnly:C,schemaType:S,validation:E}=e,{file:k,image:_}=Hn().form,T=qDe(),j=KDe(),A=AG(),I=ZDe(),M=XDe(),D=JDe(),O=QDe(),R=f.useCallback(Z=>u.jsx(T,{...Z}),[T]),F=f.useCallback(Z=>u.jsx(j,{...Z}),[j]),P=f.useCallback(({key:Z,...J})=>u.jsx(I,{...J},Z),[I]),V=f.useCallback(Z=>u.jsx(TG,{component:A,...Z}),[A]),U=f.useCallback(Z=>u.jsx(M,{...Z}),[M]),H=f.useCallback(Z=>u.jsx(D,{...Z}),[D]),W=f.useCallback(Z=>u.jsx(O,{...Z}),[O]);return u.jsx(a1n,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:s,file:k,focusPath:l,focused:c,groups:d,id:h,image:_,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:v,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,readOnly:C,renderAnnotation:W,renderBlock:U,renderField:F,renderInlineBlock:H,renderInput:R,renderItem:P,renderPreview:V,schemaType:S,validation:E,children:a})}function GDe(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:o,focused:s,focusPath:l,groups:c,id:d,members:h,onChange:p,onFieldGroupSelect:m,onPathBlur:g,onPathFocus:y,onPathOpen:v,onSetFieldSetCollapsed:b,onSetPathCollapsed:x,openPath:w=rn,presence:C,readOnly:S,schemaType:E,validation:k,value:_}=e,T=f.useCallback(ue=>x([ue],!0),[x]),j=f.useCallback(ue=>x([ue],!1),[x]),A=f.useCallback(()=>g(rn),[g]),I=f.useCallback(()=>y(rn),[y]),M=f.useCallback(ue=>p(Dt.from(ue)),[p]),D=f.useRef(null),O=f.useCallback(ue=>m(rn,ue),[m]),R=f.useCallback(ue=>v([ue]),[v]),F=f.useCallback(()=>v([]),[v]),P=f.useCallback(ue=>b([ue],!0),[b]),V=f.useCallback(ue=>b([ue],!1),[b]),U=qDe(),H=KDe(),W=AG(),Z=ZDe(),J=XDe(),re=JDe(),G=QDe(),te=f.useCallback(ue=>u.jsx(V0n,{children:u.jsx(U,{...ue})}),[U]),X=f.useCallback(ue=>u.jsx(H,{...ue}),[H]),K=f.useCallback(({key:ue,...ye})=>u.jsx(Z,{...ye},ue),[Z]),Q=f.useCallback(ue=>u.jsx(TG,{component:W,...ue}),[W]),ee=f.useCallback(ue=>u.jsx(J,{...ue}),[J]),se=f.useCallback(ue=>u.jsx(re,{...ue}),[re]),le=f.useCallback(ue=>u.jsx(G,{...ue}),[G]),oe=f.useMemo(()=>({focusPath:l,elementProps:{ref:D,id:d,onBlur:A,onFocus:I,"aria-describedby":void 0},changed:h.some(ue=>ue.kind==="field"&&ue.field.changed),focused:s,groups:c,id:d,level:0,members:h,onChange:M,onFieldClose:F,onFieldCollapse:T,onFieldSetCollapse:P,onFieldExpand:j,onFieldSetExpand:V,onPathFocus:y,onFieldOpen:R,onFieldGroupSelect:O,path:rn,presence:rn,readOnly:S,renderAnnotation:le,renderBlock:ee,renderField:X,renderInlineBlock:se,renderInput:te,renderItem:K,renderPreview:Q,schemaType:E,validation:rn,value:_}),[l,s,c,A,M,F,T,P,j,V,I,R,O,d,h,y,S,le,ee,X,se,te,K,Q,E,_]);return u.jsx(o1n,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:o,focusPath:l,focused:s,groups:c,id:d,onChange:p,onPathBlur:g,onPathFocus:y,onPathOpen:v,onFieldGroupSelect:m,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:C,validation:k,readOnly:S,schemaType:E,children:u.jsx(nRe,{value:_,children:u.jsx(hsn,{value:_,children:u.jsx(Man,{actions:t,children:u.jsx(RR,{children:u.jsx(s1n,{rootInputProps:oe,onPathOpen:v,openPath:w,renderInput:te})})})})})})}function s1n(e){const{rootInputProps:t,onPathOpen:n,openPath:r,renderInput:i}=e,a=MR(),o=f.useMemo(()=>qIe(t.schemaType,r),[r,t.schemaType]),s=t.id==="root",l=a.enabled&&s&&o&&u.jsx(Cdn,{onPathFocus:t.onPathFocus,onPathOpen:n,openPath:r,rootInputProps:t,schemaType:t.schemaType});return i({...t,__internal_arrayEditingModal:l})}const l1n=$(ie)(e=>{const{color:t,radius:n,space:r}=e.theme.sanity,i=de`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -${r[1]}px;
    bottom: -${r[1]}px;
    left: -${r[1]}px;
    right: -${r[1]}px;
    border-radius: ${n[2]}px;
    mix-blend-mode: ${t.dark?"screen":"multiply"};
  `;return de`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: ${n[1]}px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      --card-border-color: var(--card-focus-ring-color);
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      &:after {
        ${i}
        background-color: ${t.dark?rt.purple[950].hex:rt.purple[50].hex};
      }
    }

    &[data-warning] {
      &:after {
        ${i}
        background-color: ${t.muted.caution.hovered.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      &:after {
        ${i}
        background-color: ${t.input.invalid.enabled.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `}),u1n=$(z)`
  display: block;
  position: relative;
  width: 100%;
  user-select: none;
  pointer-events: all;
`,c1n=$.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return de`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&de`
        display: none;
      `}

      [data-dragged] & {
        visibility: hidden;
      }
    `});$(z)`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`;const d1n=$(L)`
  width: 25px;
  position: relative;
  flex-shrink: 0;
  user-select: none;

  [data-dragged] & {
    visibility: hidden;
  }
`,f1n=$(z)`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`,h1n=$(L)`
  max-width: 250px;
`,p1n={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function m1n(e){const{children:t,focused:n,isOpen:r,onOpen:i,onRemove:a,readOnly:o,value:s}=e,{t:l}=q(),c=f.useId(),d=f.useRef(null),h=f.useRef(!1),p=f.useMemo(()=>Us(s)?f.forwardRef(function(g,y){return u.jsx(su,{...g,intent:"edit",params:{id:s._ref},ref:y})}):void 0,[s]);f.useEffect(()=>{r&&(h.current=!1)},[r]),Yo(f.useCallback(g=>{n&&g.key==="Tab"&&d.current&&!h.current&&!r&&(g.preventDefault(),g.stopPropagation(),d.current.focus(),h.current=!0)},[n,r]));const m=f.useCallback(g=>{g.preventDefault(),g.stopPropagation(),a()},[a]);return u.jsxs(z,{children:[u.jsx(L,{flex:1,children:t}),u.jsx(L,{children:u.jsx(Gt,{button:u.jsx(he,{"aria-label":l("inputs.portable-text.block.open-menu-aria-label"),icon:Mv,mode:"bleed",paddingY:3,tabIndex:n?0:1,tooltipProps:{content:"Open menu"}}),ref:d,id:c,menu:u.jsx(Ot,{children:u.jsxs(u.Fragment,{children:["_ref"in s&&s._ref&&u.jsx(He,{as:p,"data-as":"a",icon:Ss,text:l("inputs.portable-text.block.open-reference")}),o&&u.jsx(He,{icon:NI,onClick:i,text:l("inputs.portable-text.block.view")}),!o&&u.jsx(He,{icon:Lc,onClick:i,text:l("inputs.portable-text.block.edit")}),!o&&u.jsx(He,{icon:Jr,onClick:m,text:l("inputs.portable-text.block.remove"),tone:"critical"})]})}),popover:p1n})})]})}function g1n(e){var ge;const{floatingBoundary:t,focused:n,isFullscreen:r,onItemClose:i,onItemOpen:a,onPathFocus:o,path:s,readOnly:l,referenceBoundary:c,relativePath:d,renderAnnotation:h,renderBlock:p,renderBlockActions:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:v,renderInput:b,renderItem:x,renderPreview:w,schemaType:C,selected:S,value:E}=e,{onChange:k}=uu(),{Markers:_}=ad().__internal.components,[T,j]=f.useState(!1),A=yR(s),I=qi(),M=wR(er(s)),D=f.useRef(!1),O=f.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),R=f.useCallback(()=>j(!0),[]),F=f.useCallback(()=>j(!1),[]),P=f.useCallback(()=>{M&&(Me.blur(I),a(M.node.path))},[I,M,a]),V=f.useCallback(()=>{i(),Me.select(I,O),Me.focus(I)},[i,I,O]),U=f.useCallback(()=>{if(!D.current)try{Me.delete(I,O,{mode:"blocks"})}catch(je){console.error(je)}finally{D.current=!0}},[I,O]);f.useEffect(()=>()=>{D.current&&Me.focus(I)},[I]);const H=f.useMemo(()=>r&&!m?{paddingX:5}:r&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[r,m]),{validation:W,hasError:Z,hasWarning:J,hasInfo:re}=gR(M==null?void 0:M.node),G=I.schemaTypes.portableText,te=A.length>0,X=_b(s,!0),K=f.useMemo(()=>X.filter(je=>Sr(je.path,s)),[s,X]),Q=Z||J||re||te,ee=f.useMemo(()=>Q&&u.jsx(h1n,{children:u.jsx(_,{markers:A,validation:W,renderCustomMarkers:g})})||null,[_,A,g,Q,W]),se=!!(M!=null&&M.member.open),le=M==null?void 0:M.input,oe=(M==null?void 0:M.node.path)||rn,ue=(ge=M==null?void 0:M.elementRef)==null?void 0:ge.current,ye=f.useMemo(()=>({__unstable_floatingBoundary:t,__unstable_referenceBoundary:c,__unstable_referenceElement:ue||null,children:le,focused:n,markers:A,onClose:V,onOpen:P,onPathFocus:o,onRemove:U,open:se,parentSchemaType:G,path:oe,presence:K,readOnly:!!l,renderAnnotation:h,renderBlock:p,renderDefault:YDe,renderField:y,renderInlineBlock:v,renderInput:b,renderItem:x,renderPreview:w,schemaType:C,selected:S,validation:W,value:E}),[t,ue,le,n,A,V,P,o,U,se,G,oe,K,l,c,h,p,y,v,b,x,w,C,S,W,E]),Ee=m&&E&&!l,ke=r&&M;return f.useMemo(()=>u.jsx(L,{ref:M==null?void 0:M.elementRef,contentEditable:!1,children:u.jsx(z,{"data-object-block":"",paddingBottom:1,marginY:3,style:void 0,children:u.jsxs(u1n,{"data-object-block-inner":"",...H,children:[u.jsx(L,{flex:1,children:u.jsx(bt,{placement:"top",portal:"editor",disabled:se?!0:!Q,content:ee,children:u.jsx("div",{children:p&&p(ye)})})}),Ee&&u.jsx(d1n,{contentEditable:!1,marginRight:3,children:u.jsx(f1n,{children:n&&u.jsx(ADe,{block:E,onChange:k,renderBlockActions:m})})}),ke&&u.jsx(c1n,{$hasChanges:M.member.item.changed,contentEditable:!1,onMouseEnter:R,onMouseLeave:F,children:u.jsx(TDe,{hasFocus:n,isChanged:M.member.item.changed,path:M.member.item.path,withHoverEffect:!1})}),T&&u.jsx(_De,{})]})})}),[Ee,ke,ye,n,F,R,H,M,k,p,m,T,ee,Q,E,se])}const YDe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,renderPreview:p,schemaType:m,selected:g,value:y,validation:v}=e,{t:b}=q(),x=aFe(y),w=v.filter(_=>_.level==="error").length>0,C=v.filter(_=>_.level==="warning").length>0,S=o.length>0,E=g||a?"primary":"default",k=f.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l()},[l]);return u.jsxs(u.Fragment,{children:[u.jsx(l1n,{"aria-label":b("inputs.portable-text.block.aria-label"),"data-focused":a?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":w?"":void 0,"data-markers":S?"":void 0,"data-read-only":h?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":C?"":void 0,flex:1,onDoubleClick:k,padding:x?0:1,tone:E,children:p({actions:u.jsx(m1n,{isOpen:d,focused:a,onOpen:l,onRemove:c,readOnly:h,value:y}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:y})}),d&&u.jsx(lG,{floatingBoundary:t,defaultType:"dialog",onClose:s,autoFocus:a,schemaType:m,referenceBoundary:n,referenceElement:r,children:i})]})};function y1n(e){var t;return(t=e.components)!=null&&t.block?e.components.block:pR(e)?PDe:YDe}function v1n(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:zDe}function b1n(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:m6}function R0(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),i=f.useCallback(a=>{var c;if(!((c=a.schemaType)!=null&&c.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:o,...s}=a.schemaType,l=t(s);return f.createElement(l,a)},[t]);return f.createElement(r,{...n,renderDefault:i})}function x1n(e){return R0({componentProps:e,componentResolver:I0n})}function w1n(e){return R0({componentProps:e,componentResolver:yln})}function C1n(e){return R0({componentProps:e,componentResolver:B0n})}function S1n(e){return R0({componentProps:e,componentResolver:D0n})}function E1n(e){return R0({componentProps:e,componentResolver:y1n})}function k1n(e){return R0({componentProps:e,componentResolver:v1n})}function _1n(e){return R0({componentProps:e,componentResolver:b1n})}function T1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function A1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function j1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function I1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function D1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function M1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function R1n(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function qDe(){return lu({defaultComponent:x1n,pick:T1n})}function KDe(){return lu({defaultComponent:w1n,pick:A1n})}function AG(){return lu({defaultComponent:S1n,pick:j1n})}function ZDe(){return lu({defaultComponent:C1n,pick:I1n})}function XDe(){return lu({defaultComponent:E1n,pick:D1n})}function JDe(){return lu({defaultComponent:k1n,pick:M1n})}function QDe(){return lu({defaultComponent:_1n,pick:R1n})}function Db(e){const t=AG();return u.jsx(TG,{...e,component:t})}const O1n={block:ZPn,blockImage:YPn,compact:mPn,default:z$e,detail:_Pn,inline:tFn,media:VPn};function $1n(){return u.jsx(Pu,{className:"sanity-studio__preview-fallback-icon"})}function ro(e){const{icon:t,layout:n,media:r,imageUrl:i,title:a,tooltip:o,...s}=e,l=Xt(qt),c=f.useMemo(()=>IE(l),[l]),d=f.useCallback(v=>{const{dimensions:b}=v;return u.jsx("img",{alt:lg(a)?a:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(b.width||100).height(b.height||100).fit(b.fit).dpr(b.dpr||1).url()||""})},[c,r,a]),h=f.useCallback(()=>f.createElement(t||$1n),[t]),p=f.useMemo(()=>t===!1?!1:ka.isValidElementType(r)||f.isValidElement(r)?r:db(r)?d:lg(i)?u.jsx("img",{src:i,alt:lg(a)?a:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):h,[t,i,r,h,d,a]),m=f.useMemo(()=>({...s,media:p,title:a}),[p,s,a]),g=O1n[n||"default"],y=f.createElement(g,m);return o?u.jsx(bt,{content:o,disabled:!o,fallbackPlacements:["top-end"],placement:"bottom-end",children:u.jsx("div",{children:y})}):y}const eMe=["_id","_rev","_type"],P1n=[...eMe,"_key"],F1n=1e4,Hle={available:!0,reason:"READABLE"},N1n={available:!1,reason:"PERMISSION_DENIED"},L1n={available:!1,reason:"NOT_FOUND"},B1n={title:"Invalid preview config",subtitle:"Check the error log in the console",media:u.jsx(gr,{})};function rT(e,t){let n,r={},i=0;return function(...o){return new Rt(s=>{clearTimeout(n),n=setTimeout(a,t);const l={args:o,observer:s,completed:!1},c=i++;return r[c]=l,()=>{l.completed=!0}})};function a(){const o=r;r={};const s=Object.keys(o).filter(c=>{const d=o[c];return d&&!d.completed});if(s.length===0)return;const l=s.map(c=>{const d=o[c];return d&&d.args}).filter(ua);e(l).subscribe({next(c){c.forEach((d,h)=>{const p=o[s[h]];p&&!p.completed&&p.observer.next(c[h])})},complete(){s.forEach(c=>{const d=o[c];d&&!d.completed&&d.observer.complete()})},error(c){s.forEach(d=>{const h=o[d];h&&!h.completed&&h.observer.error(c)})}})}}const V1n=11164;function z1n(e){let t=[],n=0;const r=[];for(const i of e)n+i.length+1>=V1n&&(r.push(t),t=[],n=0),n+=i.length+1,t.push(i);return r.includes(t)||r.push(t),r}function U1n(e,t){return e.push(...t),e}function H1n(e,t){function n(a){return t({_ref:a},[["_rev"]]).pipe(fe(o=>wt(o)&&!!("_rev"in o&&(o!=null&&o._rev))),hr(),Ct(o=>o?we(Hle):r(a)))}const r=rT(function(a){const o=[...new Set(pr(a))];return Br(z1n(o)).pipe(Mt(i,10),Xwe(U1n,[]),fe(s=>a.map(([l])=>s[o.indexOf(l)])))},1);function i(a){return oa(()=>{const o={uri:e.getDataUrl("doc",a.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(o).pipe(fe(s=>{const l=CW(s.omitted||[],c=>c.id);return a.map(c=>{const d=l[c];if(!d)return Hle;if(d.reason==="existence")return L1n;if(d.reason==="permission")return N1n;throw new Error(`Unexpected reason for omission: "${d.reason}"`)})}))})}return function(a){const o=ca(a),s=pn(a);return Hi([n(o),n(s)]).pipe(hr(yp),fe(([l,c])=>({draft:l,published:c})))}}function W1n(e,t){return G1n(typeof e=="function"?{predicate:e,...t}:e)}function G1n(e){return t=>{let n,r=!1;const{predicate:i,...a}=e,o=t.pipe(Qn(l=>{e.predicate(l)&&(r=!0,n=l)}),VD(()=>{r=!1,n=void 0}),Ho(a)),s=new Rt(l=>{r&&l.next(n),l.complete()});return Bn(o,s)}}function Y1n(e){return e.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation","reconnect"],includeResult:!1,includePreviousRevision:!1,includeMutations:!1,visibility:"query",tag:"preview.global"}).pipe(W1n({predicate:t=>t.type==="welcome"||t.type==="reconnect",resetOnRefCountZero:()=>Qr(F1n)}))}function tMe(e){return Object.keys(e)}function Wle(e,t,n){return{...e,[t]:n}}function q1n(e={}){return t=>new Rt(n=>t.subscribe(n)).pipe(Ct(n=>{const r=tMe(n).map(i=>{const a=n[i];return tdt(a)?Br(a).pipe(fe(o=>[i,o])):we([i,a])});return e.wait?Hi(r).pipe(fe(i=>i.reduce((a,[o,s])=>Wle(a,o,s),{}))):Br(r).pipe(LD(),Qs((i,[a,o])=>Wle(i,a,o),{}))}))}function K1n(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function Z1n(e,t){return t.filter(n=>!(n[0]in e))}function X1n(e){return Us(e)?e._ref:"_id"in e?e._id:void 0}function k6(e,t,n,r){if(!e||typeof e!="object")return we(e);const i=X1n(e),a=i?{...e,_id:i}:{...e};a._type==="reference"&&(delete a._type,delete a._ref,delete a._weak,delete a._dataset,delete a._projectId,delete a._strengthenOnPublish);const o=Z1n(a,t);if(i&&o.length>0){const c=Sa(o.map(h=>h[0])),d=Hfe(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(i,c,d).pipe(Ct(h=>h===null?we(null):k6({...K1n(c),...Us(e)?{...e,...d}:e,...h},t,n,d)))}const s={};t.forEach(c=>{const[d,...h]=c;s[d]||(s[d]=[]),s[d].push(h)});const l=Object.keys(s).reduce((c,d)=>{const h=s[d].filter(p=>p.length>0);return h.length===0?c[d]=wt(e)?e[d]:void 0:c[d]=k6(e[d],h,n,r),c},a);return we(l).pipe(q1n({wait:!0}))}function J1n(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function Q1n(e){const{observeFields:t}=e;return(n,r,i)=>k6(n,J1n(r),t,i)}const eyn=[["_createdAt"],["_updatedAt"]];function jG(e){const t=e==null?void 0:e.select;return t?(Object.values(t).map(n=>String(n).split("."))||[]).concat(eyn):void 0}function tyn(e){return Array.isArray(e)&&(e.length===0||e.some(Er))}function nyn(e){const t=Array.isArray(e)&&e.find(Er);return!t||!t.children?"":t.children.filter(vi).map(n=>n.text).join("")}const ryn=["_id","_type","_upload","_createdAt","_updatedAt"],yv=[],_6=(()=>{let e={};return{add:(t,n,r)=>{const i="name"in t?t.name:t.type;e[i]||(e[i]=[]),e[i].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),iyn=t0(()=>{const e=_6.getAll(),t=pr(Object.keys(e).map(n=>{const r=e[n];return mp(r,i=>i.error.message)})).length;t!==0&&(console.groupCollapsed(`%cHeads up! Got ${t===1?"error":`${t} errors`} while preparing data for preview. Click for details.`,"color: #ff7e7c"),Object.keys(e).forEach(n=>{const r=e[n],i=r[0];console.group(`Check the preview config for schema type "${n}": %o`,i.type.preview),mp(r,a=>a.error.message).forEach(a=>{var o;if(a.error.type==="returnValueError"){const s=typeof((o=a.type.preview)==null?void 0:o.prepare)=="function",{value:l,error:c}=a;console.log(`Encountered an invalid ${s?"return value when calling prepare(%o)":"value targeted by preview.select"}:`,l),console.error(c)}if(a.error.type==="prepareError"){const{value:s,error:l}=a;console.log("Encountered an error when calling prepare(%o):",s),console.error(l)}}),console.groupEnd()}),console.groupEnd(),_6.clear())},1e3),Bx=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?yv:[DG("returnValueError",new Error(`The "${e}" field should be a string, number, boolean, undefined or null, instead saw ${IG(t)}`))]},ayn={media:()=>yv,title:Bx("title"),subtitle:Bx("subtitle"),description:Bx("description"),imageUrl:Bx("imageUrl"),date:Bx("date")};function IG(e,t=!0){if(wt(e)){const n=Object.keys(e),r=n.length>3?"...":"";return`${t?"object with keys ":""}{${n.slice(0,3).join(", ")}${r}}`}if(Array.isArray(e)){const n=e.length>3?"...":"";return`${t?"array with ":""}[${e.map(r=>IG(r,!1))}${n}]`}return`the ${typeof e} ${e}`}function oyn(e,t){if(typeof t>"u")return yv;const n=ayn[e];return n&&n(t)||yv}function DG(e,t){return Object.assign(t,{type:e})}function syn(e){return!mr(e)||e===null?[DG("returnValueError",new Error(`Invalid return value. Expected a plain object with at least a 'title' field, instead saw ${IG(e)}`))]:Object.entries(e).reduce((t,[n,r])=>[...t,...oyn(n,r)],yv)}function lyn(e){return{...e,errors:[...e.errors||[],...syn(e.returnValue)]}}function uyn(e){return tMe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:tyn(r)?nyn(r):r}},{})}function nMe(e,t,n={}){var i;const r=(i=e.preview)==null?void 0:i.prepare;try{return{returnValue:r?r(t,n):uyn(t),errors:yv}}catch(a){return{returnValue:null,errors:[DG("prepareError",a)]}}}function Gle(e,t,n){return e.errors.forEach(r=>_6.add(t,n,r)),iyn(),B1n}function cyn(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function dyn(e){return cyn(e)?e.options.list.map(t=>oI(t)?t:{title:t,value:t}):void 0}function Oj(e,t,n={}){var l,c;const r=typeof((l=t.preview)==null?void 0:l.prepare)=="function",i=((c=t.preview)==null?void 0:c.select)||{},a=Object.keys(i).reduce((d,h)=>{var v;const p="fields"in t?t:null,m=i[h],g=(v=p==null?void 0:p.fields)==null?void 0:v.find(b=>b.name===m),y=g&&dyn(g.type);if(!r&&y){const b=y&&y.find(x=>x.value===ir(e,i[h]));d[h]=b?b.value:ir(e,i[h])}else d[h]=ir(e,i[h]);return d},{}),o=nMe(t,a,n);if(o.errors.length>0)return Gle(o,t,a);const s=lyn(o);return s.errors.length>0?Gle(s,t,a):{...Wt(e,ryn),...o.returnValue}}function fyn(e){return mr(e)}function hyn(e){return mr(e)}function pyn(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(i,a,o={}){const{viewOptions:s={},apiConfig:l}=o;if(N7(a)){if(!Hfe(i))return we({snapshot:void 0});const d={projectId:i._projectId,dataset:i._dataset};return t(i._ref,d).pipe(Ct(h=>{if(h){const p=a.to.find(m=>m.type===h);if(p)return r(i,p,{apiConfig:d,viewOptions:s})}return we({snapshot:void 0})}))}if(Gs(a))return hyn(i)?t(i._ref).pipe(Ct(d=>{if(d){const h=a.to.find(p=>p.name===d);if(h)return r(i,h)}return we({snapshot:void 0})})):we({snapshot:void 0});const c=jG(a.preview);return c?n(i,c,l).pipe(fe(d=>({type:a,snapshot:d?Oj(d,a,s):null}))):we({type:a,snapshot:i&&fyn(i)?nMe(a,i,s).returnValue:null})}}function myn(e){const{observeDocumentPairAvailability:t,observePaths:n}=e,r=[["_updatedAt"],["_createdAt"],["_type"]];return function(i,a){const{draftId:o,publishedId:s}=NW(i);return t(o).pipe(Ct(l=>{if(!l.draft.available&&!l.published.available)return we({id:s,type:null,draft:{availability:l.draft,snapshot:void 0},published:{availability:l.published,snapshot:void 0}});const c=[...a,...r];return Hi([n({_type:"reference",_ref:o},c),n({_type:"reference",_ref:s},c)]).pipe(fe(([d,h])=>{const p=wt(d)&&"_type"in d&&d._type||wt(h)&&"_type"in h&&h._type||null;return{id:s,type:typeof p=="string"?p:null,draft:{availability:l.draft,snapshot:d},published:{availability:l.published,snapshot:h}}}))}))}}function gyn(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const yyn=e=>e;function vyn(e,t=yyn){let n,r;for(let i=0;i<e.length;i++){if(i===0){n=t(e[i]);continue}if(r=t(e[i]),n!==r)return!1;n=r}return!0}function byn(e){return fzt(e.reduce((t,[n,r],i)=>{const a=Bp(r.join(","),jxe).join(".");t[a]||(t[a]={fields:r,ids:[],map:[]});const o=t[a].ids.length;return t[a].ids[o]=n,t[a].map[o]=i,t},{}))}function xyn(e){return JSON.stringify(e)}const wyn=e=>htn(e)?`"${e}": @${ptn(e)}`:e;function Cyn({ids:e,fields:t}){const n=[...eMe,...t];return`*[_id in [${e.map(xyn).join(",")}]][0...${e.length}]{${n.map(wyn).join(",")}}`}function Syn(e){return`[${e.map(Cyn).join(",")}][0...${e.length}]`}function Eyn(e,t){return e.reduce((n,r,i)=>(t[i].map.forEach((a,o)=>{const s=t[i].ids[o],l=r.find(c=>c._id===s);n[a]=l||null}),n),[])}function kyn(e){const{client:t,invalidationChannel:n}=e;function r(b){return n.pipe(Nt(x=>x.type==="connected"||x.documentId===b))}function i(b){return function(x){const w=byn(x);return b.observable.fetch(Syn(w),{},{tag:"preview.document-paths"}).pipe(fe(C=>Eyn(C,w)))}}const a=rT(i(t),100),o=rT(i(t),1e3);function s(b,x){return r(b).pipe(Ct(w=>w.type==="connected"||w.visibility==="query"?a(b,x).pipe(Mt(C=>ji(we(C),C===void 0?o(b,x):[]))):o(b,x)))}const l={},c=AD(function(b){const x=t.withConfig(b),w=i(x);return rT(w,10)},b=>b.dataset+b.projectId),d=1e4,h=To(document,"visibilitychange").pipe(Wi(0),fe(()=>document.visibilityState==="visible"),Ct(b=>b?Qr(0,d):sr),Ho());function p(b,x,w){return h.pipe(Wi(0)).pipe(Ct(()=>c(w)(b,x)))}function m(b,x,w){let C=null;const S=Bn(oa(()=>C===null?sr:we(C)),w?p(b,x,w):s(b,x)).pipe(Qn(E=>C=E),la({refCount:!0,bufferSize:1}));return{id:b,fields:x,changes$:S}}function g(b,x,w){const C=w?`${w.projectId}:${w.dataset}:${b}`:`$current$-${b}`;C in l||(l[C]=[]);const S=l[C];Dg(x,pr(S.map(k=>k.fields))).length>0&&S.push(m(b,x,w));const E=S.filter(k=>k.fields.some(_=>x.includes(_))).map(k=>k.changes$);return Hi(E).pipe(fe(k=>k.filter(Boolean)),Nt(k=>vyn(k,_=>_._rev)),fe(k=>k.length===0?null:y(k,x)),hr(gyn(x)))}return g;function y(b,x){return[...P1n,...x].reduce((w,C)=>{const S=v(b,C);return S!==void 0&&(w[C]=S),w},{})}function v(b,x){let w;return b.some(C=>x in C?(w=C[x],!0):!1),w}}function _yn({client:e}){const t=e.withConfig({apiVersion:"1"}),n=Y1n(t).pipe(Nt(c=>c.type==="mutation"||c.type==="welcome")).pipe(fe(c=>c.type==="welcome"?{type:"connected"}:c)),r=kyn({client:t,invalidationChannel:n}),i=Q1n({observeFields:r});function a(c,d){return i({_type:"reference",_ref:c},["_type"],d).pipe(fe(h=>wt(h)&&typeof h._type=="string"?h._type:void 0),hr())}const o=pyn({observeDocumentTypeFromId:a,observePaths:i}),s=H1n(t,i),l=myn({observeDocumentPairAvailability:s,observePaths:i});return{observePaths:i,observeForPreview:o,observeDocumentTypeFromId:a,unstable_observeDocumentPairAvailability:s,unstable_observePathsDocumentPair:l}}const Tyn=e=>e.liveEdit===!0;function Mb(e,t,n,r){const i=Tyn(t)?we({snapshot:null}):e.observeForPreview({_id:ca(n)},t),a=e.observeForPreview({_id:pn(n)},t);return Hi([i,a]).pipe(fe(([o,s])=>({draft:o.snapshot?{title:r,...o.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),Wi({draft:null,isLoading:!0,published:null}))}const Ayn=e=>({title:u.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:u.jsx("em",{children:e.title?`Missing document ID: ${e._id}`:`Document ID: ${e._id}`}),media:()=>u.jsx(gr,{})}),MG=({value:e,draft:t,published:n})=>{const r=t||n;return r?gJt({},r,e,(i,a)=>typeof a>"u"?i:a):Ayn(e)},jyn=Gp(([e,t])=>Br(e.getUser(t).catch(n=>(console.error(n),null))));function od(e){const t=VG();return jyn(f.useMemo(()=>[t,e],[e,t]))}function tr(){const{currentUser:e}=Hn();return e}const Yle=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},qle=e=>({type:"snapshot",document:e}),Kle=e=>e.document,Iyn=e=>{const t=new Fr,n=new PD(!0),r=new Fr,i=new Fr,a=new Fr,o=new Fr,s=b=>{const x=new z6t(b);return x.onMutation=({mutation:w,remote:C})=>{r.next({type:"mutation",document:Yle(x),mutations:w.mutations,origin:C?"remote":"local"})},x.onRemoteMutation=w=>{a.next({type:"remoteMutation",head:x.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},x.onRebase=(w,C,S)=>{i.next({type:"rebase",document:w,remoteMutations:C,localMutations:S})},x.onConsistencyChanged=w=>{n.next(w)},x.commitHandler=w=>o.next(w),x},l=e.pipe(Qs((b,x)=>x.type==="snapshot"?(b&&b.commit(),s(x.document||null)):b===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',x.type),null):b,null),Nt(b=>b!==null),hr(),ku(1),Eu()),c=e.pipe(Nt(b=>b.type==="mutation"),mA(l),fe(([b,x])=>(x.arrive(new Fc(b)),Yle(x)))),d=t.pipe(mA(l),Qn(([b,x])=>{b.type==="mutation"&&x.add(new Fc({mutations:b.mutations})),b.type==="commit"&&x.commit()}),Xy(sr),Ho()),h=b=>t.next(b),p=b=>h({type:"mutation",mutations:b}),m=b=>p([b]),g=()=>{l.pipe($a(1),Qn(b=>b.commit())).subscribe()},y=Bn(l.pipe(fe(b=>b.LOCAL)),r.pipe(fe(Kle)),i.pipe(fe(Kle)),c).pipe(fe(qle),ku(1),Eu()),v=Bn(l.pipe(fe(b=>b.document.HEAD),fe(qle)),a).pipe(ku(1),Eu());return{updates$:Bn(y,d,r,i),consistency$:n.pipe(hr(),ku(1),Eu()),remoteSnapshot$:v,commitRequest$:o,addMutation:m,addMutations:p,commit:g}},Dyn=e=>t=>{const{_id:n,_rev:r,_updatedAt:i,...a}=t;return{_id:e,...a}},Zle=(e,t)=>{const n=Iyn(t),r=Dyn(e),i={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:a=>a.map(o=>({patch:{...o,id:e}})),create:a=>({create:r(a)}),createIfNotExists:a=>({createIfNotExists:r(a)}),createOrReplace:a=>({createOrReplace:r(a)}),delete:()=>i,mutate:a=>n.addMutations(a),commit:()=>n.commit()}},Myn={type:"pending",phase:"begin"},Ryn={type:"pending",phase:"end"};function Oyn(e){return e.type==="mutation"}function $yn(e){return e.transactionTotalEvents>1}function Pyn(e){const t=aU(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function Fyn(e,t,n={}){const{publishedId:r,draftId:i}=t;return oa(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:i},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(tg(o=>o.type==="welcome"?a().pipe(tg(s=>[Xle(i,s.draft),Xle(r,s.published)])):we(o)),Qs((o,s)=>{if(!Oyn(s))return{next:[s],buffer:[]};const l=o.buffer.length>0,c=$yn(s);if(!c&&!l)return{next:[s],buffer:[]};if(!c)return{next:[],buffer:o.buffer.concat(s)};const d=o.buffer.concat(s);return Pyn(d)?{next:d.concat(Ryn),buffer:[]}:{next:d.length===1?[Myn]:[],buffer:d}},{next:[],buffer:[]}),Mt(o=>o.next),tg(o=>window.SLOW?Qr(1e4).pipe(fe(()=>o)):we(o)));function a(){return e.observable.getDocuments([i,r],{tag:"document.snapshots"}).pipe(fe(([o,s])=>({draft:o,published:s})))}}function Xle(e,t){return{type:"snapshot",documentId:e,document:t}}const Nyn="2024-05-23";function qg(e){return e.withConfig({apiVersion:Nyn})}const Jle=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function D5(e){return t=>({...t,version:e})}function Lyn(e){if(!e._id)throw new Error("Expected document to have an _id")}function Byn(e,t){const{resultRev:n,...r}=e;return r.mutations.flatMap(i=>{const a=Object.values(i);if(a.length>1)throw new Error("Did not expect multiple mutations in the same payload");return a[0].id||a[0]._id}).every(i=>i===t)}function Vyn(e,t){const n=t.mutations.flatMap(r=>{if(r.createIfNotExists)return[];if(r.create)return Lyn(r.create),{actionType:"sanity.action.document.create",publishedId:e.publishedId,attributes:r.create,ifExists:"fail"};if(r.patch)return{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:Qa(r.patch,"id")};throw new Error("Cannot map mutation to action")});return n.length===0?[{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:{unset:["_empty_action_guard_pseudo_field_"]}}]:n}function zyn(e,t,n){return Byn(n,t.publishedId)?rMe(e,n):qg(e).observable.action(Vyn(t,n),{tag:"document.commit",transactionId:n.transactionId})}function rMe(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Uyn(e,t,n,r){return Br(r?zyn(e,t,n.mutation.params):rMe(e,n.mutation.params)).pipe(Qn({error:i=>{"statusCode"in i&&typeof i.statusCode=="number"&&i.statusCode>=400&&i.statusCode<=500?n.cancel(i):n.failure(i)},next:()=>n.success()}))}function iMe(e,t,n){const{publishedId:r,draftId:i}=t,a=new Fr,o=Fyn(e,t).pipe(Ho({connector:()=>a})),s=o.pipe(Nt(p=>p.type==="reconnect")),l=Zle(i,o.pipe(Nt(Jle(i)))),c=Zle(r,o.pipe(Nt(Jle(r)))),d=o.pipe(Nt(p=>p.type==="pending")),h=Bn(l.commitRequest$,c.commitRequest$).pipe(Mt(p=>n.pipe($a(1),Mt(m=>Uyn(e,t,p,m)))),Mt(()=>sr),Ho());return{transactionsPendingEvents$:d,draft:{...l,events:Bn(h,s,l.events).pipe(fe(D5("draft"))),consistency$:l.consistency$,remoteSnapshot$:l.remoteSnapshot$.pipe(fe(D5("draft")))},published:{...c,events:Bn(h,s,c.events).pipe(fe(D5("published"))),consistency$:c.consistency$,remoteSnapshot$:c.remoteSnapshot$.pipe(fe(D5("published")))},complete:()=>a.complete()}}function sd(e,t){const n=Object.create(null);return(...r)=>{const i=t(...r);return i in n||(n[i]=e(...r)),n[i]}}function Hf(e,t,n){const r=e.config();return`${r.dataset??""}-${r.projectId??""}-${t.publishedId}-${n}`}const FR=sd((e,t,n,r)=>new Rt(i=>{const a=iMe(e,t,r);return i.next(a),a.complete}).pipe(ku(1),Eu()),Hf);function Hyn(e){return e.type==="snapshot"}function Qle(e){return{snapshots$:e.events.pipe(Nt(Hyn),fe(t=>t.document),ku(1),Eu()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const RG=sd((e,t,n,r)=>FR(e,t,n,r).pipe(fe(({published:i,draft:a,transactionsPendingEvents$:o})=>({transactionsPendingEvents$:o,published:Qle(i),draft:Qle(a)})),ku(1),Eu()),Hf),cu=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0},Wyn={enabled:!0},eue={enabled:!1},aMe=sd((e,t,n)=>{const r=cu(e.schema,n);return RG(e.client,t,n,e.serverActionsEnabled).pipe(Ct(i=>Hi([i.draft.snapshots$,i.published.snapshots$,i.transactionsPendingEvents$.pipe(fe(a=>a.phase==="begin"?Wyn:eue),Wi(eue))])),fe(([i,a,o])=>({id:t.publishedId,type:n,draft:i,published:a,liveEdit:r,ready:!0,transactionSyncLock:o})),Wi({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),ku(1),Eu())},(e,t,n)=>Hf(e.client,t,n)),oMe=sd((e,t,n,r)=>FR(e,t,n,r).pipe(Ct(({draft:i,published:a})=>Hi([i.consistency$,a.consistency$])),fe(([i,a])=>i&&a),hr(),ku(1),Eu()),Hf),sMe=sd((e,t,n)=>RG(e.client,t,n,e.serverActionsEnabled).pipe(Ct(r=>Hi([r.draft.snapshots$,r.published.snapshots$,e.serverActionsEnabled]).pipe(fe(([i,a,o])=>({...e,serverActionsEnabled:o,idPair:t,typeName:n,snapshots:{draft:i,published:a},draft:r.draft,published:r.published})))),ku(1),Eu()),(e,t,n)=>Hf(e.client,t,n)),lMe={disabled:()=>!1,execute:({draft:e,published:t})=>(e.commit(),t.commit(),sr)},$j={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r})=>{const i=e.observable.transaction().delete(n.publishedId);return cu(t,r)?i.commit({tag:"document.delete"}):i.delete(n.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},uMe={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>e.observable.transaction().delete(t.draftId).commit({tag:"document.discard-changes"})},Gyn=["_createdAt","_updatedAt"],cMe={disabled:({snapshots:e})=>e.published||e.draft?!1:"NOTHING_TO_DUPLICATE",execute:({schema:e,client:t,snapshots:n,typeName:r},i)=>{const a=n.draft||n.published;if(!a)throw new Error("cannot execute on empty document");return t.observable.create({...Qa(a,Gyn),_id:cu(e,r)?i:ca(i),_type:a._type},{tag:"document.duplicate"})}},dMe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:a},o=[],s)=>{cu(e,a)?i.mutate([i.createIfNotExists({_type:a,...s}),...i.patch(o)]):r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:a}),...r.patch(o)])}};function T6(e){return Us(e)?e._strengthenOnPublish?Qa(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(T6):Object.fromEntries(Object.entries(e).map(([t,n])=>[t,T6(n)]))}const fMe={disabled:({schema:e,typeName:t,snapshots:n})=>cu(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');const r=T6(Qa(n.draft,"_updatedAt")),i=e.observable.transaction();if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return n.published?(i.patch(t.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:n.published._rev}),i.createOrReplace({...r,_id:t.publishedId,_type:n.draft._type})):i.create({...r,_id:t.publishedId,_type:n.draft._type}),i.delete(t.draftId),i.commit({tag:"document.publish",visibility:"async"})}},hMe={disabled:()=>!1,execute:({historyStore:e,schema:t,idPair:n,typeName:r},i)=>{const a=cu(t,r)?n.publishedId:n.draftId;return e.restore(n.publishedId,a,i)}},pMe={disabled:({schema:e,snapshots:t,typeName:n})=>cu(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t,snapshots:n})=>{let r=e.observable.transaction().delete(t.publishedId);return n.published&&(r=r.createIfNotExists({...Qa(n.published,"_updatedAt"),_id:t.draftId,_type:n.published._type})),r.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Pj={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r,snapshots:i})=>cu(t,r)?e.observable.transaction().delete(n.publishedId).commit({tag:"document.delete"}):i.published?qg(e).observable.action({actionType:"sanity.action.document.delete",includeDrafts:i.draft?[n.draftId]:[],publishedId:n.publishedId},{tag:"document.delete",skipCrossDatasetReferenceValidation:!0}):qg(e).observable.action({actionType:"sanity.action.document.discard",draftId:n.draftId},{tag:"document.delete"})},mMe={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>qg(e).observable.action({actionType:"sanity.action.document.discard",draftId:t.draftId},{tag:"document.discard-changes"})},gMe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:a},o=[],s)=>{if(cu(e,a)){const d=i.patch(o),h=t.published?d:[i.createIfNotExists({_type:a,...s})];i.mutate(h);return}const l=r.patch(o);if(t.published){r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:a}),...l]);return}const c=t.draft?[]:[r.create({...s,_id:n.draftId,_type:a})];r.mutate([...c,...l])}},yMe={disabled:({schema:e,typeName:t,snapshots:n})=>cu(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{var r;if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return qg(e).observable.action({actionType:"sanity.action.document.publish",draftId:t.draftId,publishedId:t.publishedId,ifPublishedRevisionId:(r=n.published)==null?void 0:r._rev},{tag:"document.publish"})}},vMe={disabled:()=>!1,execute:({snapshots:e,historyStore:t,schema:n,idPair:r,typeName:i},a)=>{const o=cu(n,i)?r.publishedId:r.draftId;return t.restore(r.publishedId,o,a,{fromDeleted:!e.draft&&!e.published,useServerDocumentActions:!0})}},bMe={disabled:({schema:e,snapshots:t,typeName:n})=>cu(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t})=>qg(e).observable.action({actionType:"sanity.action.document.unpublish",draftId:t.draftId,publishedId:t.publishedId},{tag:"document.unpublish",skipCrossDatasetReferenceValidation:!0})};function Yyn(e){return typeof e>"u"?we(null):e}const xMe={del:$j,delete:$j,publish:fMe,patch:dMe,commit:lMe,discardChanges:uMe,unpublish:pMe,duplicate:cMe,restore:hMe},qyn={...xMe,del:Pj,delete:Pj,discardChanges:mMe,patch:gMe,publish:yMe,unpublish:bMe,restore:vMe},Kyn=(e,t,n,r)=>{const i=r?qyn[e]:xMe[e];return oa(()=>Bn(we(null),Yyn(i.execute(t,...n)))).pipe(Vdt())},wMe=new Fr;function CMe(e,t,n,r){wMe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Zyn=["publish","unpublish","discardChanges","delete"],SMe=sd(e=>{const t=wMe.pipe(aCe(r=>r.idPair.publishedId),Mt(r=>r.pipe(Ct(i=>sMe(e,i.idPair,i.typeName).pipe($a(1),Ct(a=>{const o=Zyn.includes(i.operationName);o&&(a.published.commit(),a.draft.commit());const s=oMe(e.client,i.idPair,i.typeName,e.serverActionsEnabled).pipe(Nt(Boolean));return(o?s.pipe($a(1)):we(!0)).pipe(Ct(()=>Kyn(i.operationName,a,i.extraArgs,a.serverActionsEnabled)))}),fe(()=>({type:"success",args:i})),kn(a=>we({type:"error",args:i,error:a})))))),Ho()),n=t.pipe(Nt(r=>r.type==="success"&&r.args.operationName==="patch"),HC(1e3,Jl,{leading:!0,trailing:!0}),tg(r=>window.SLOW?Qr(1e4).pipe(fe(()=>r)):we(r)),Qn(r=>{CMe("commit",r.args.idPair,r.args.typeName,[])}));return Bn(t,n.pipe(Xy(sr)))},e=>{const t=e.client.config();return`${t.dataset??""}-${t.projectId??""}${e.serverActionsEnabled?"-serverActionsEnabled":""}`}),Xyn=sd((e,t,n,r)=>FR(e,t,n,r).pipe(Ct(({published:i,draft:a})=>Bn(i.remoteSnapshot$,a.remoteSnapshot$))),Hf),Jyn={isValidating:!0,validation:[]};function Qyn(e){return AAe(e,(t,n)=>(Us(n)&&t.add(n._ref),t),new Set)}const evn=[],tvn=(e,t)=>e(t).pipe(fe(({published:n})=>n.available)),nvn=200,rvn=1e3;function VP(){return la({bufferSize:1,refCount:!0})}const ivn=sd((e,{draftId:t,publishedId:n},r)=>{const i=aMe(e,{draftId:t,publishedId:n},r).pipe(fe(({draft:l,published:c})=>l||c),HC(nvn,Jl,{trailing:!0}),hr((l,c)=>(l==null?void 0:l._rev)===(c==null?void 0:c._rev)?!0:yp(Qa(l,"_rev","_updatedAt"),Qa(c,"_rev","_updatedAt"))),VP()),a=i.pipe(fe(l=>Qyn(l)),Mt(l=>Br(l))).pipe(aCe(l=>l,{duration:()=>Qr(1e3*60*30)}),Mt(l=>l.pipe(Fdt(),Mt(c=>tvn(e.observeDocumentPairAvailability,c).pipe(fe(d=>[c,d]))))),Qs((l,[c,d])=>l[c]===d?l:{...l,[c]:d},{}),hr(yp),VP()),o=({id:l})=>Fi(a.pipe(iCe(c=>l in c),fe(c=>c[l]))),s=a.pipe(oCe(1),HC(rvn,Jl,{leading:!0,trailing:!0}));return Hi([i,ji(we(null),s)]).pipe(fe(([l])=>l),TW(l=>oa(()=>l!=null&&l._type?ji(we({isValidating:!0,revision:l._rev}),lcn({document:l,getClient:e.getClient,getDocumentExists:o,i18n:e.i18n,schema:e.schema,environment:"studio"}).pipe(fe(c=>({validation:c,isValidating:!1})))):we({validation:evn,isValidating:!1}))),Qs((l,c)=>({...l,...c}),Jyn),VP())},(e,t,n)=>Hf(e.client,t,n)),avn=sd((e,t,n,r)=>FR(e,t,n,r).pipe(Ct(({draft:i,published:a})=>Bn(i.events,a.events))),Hf);function vd(e){return{disabled:"NOT_READY",execute:()=>{throw new Error(`Called ${e} before it was ready.`)}}}const ovn={commit:vd("commit"),delete:vd("delete"),del:vd("del"),publish:vd("publish"),patch:vd("patch"),discardChanges:vd("discardChanges"),unpublish:vd("unpublish"),duplicate:vd("duplicate"),restore:vd("restore")},svn=(e,t,n)=>(...r)=>CMe(e,t,n,r);function co(e,t,n){return{disabled:t.disabled(n),execute:svn(e,n.idPair,n.typeName)}}function lvn(e){const t={commit:co("commit",lMe,e),delete:co("delete",$j,e),del:co("delete",$j,e),publish:co("publish",fMe,e),patch:co("patch",dMe,e),discardChanges:co("discardChanges",uMe,e),unpublish:co("unpublish",pMe,e),duplicate:co("duplicate",cMe,e),restore:co("restore",hMe,e)};return e.serverActionsEnabled?{...t,delete:co("delete",Pj,e),del:co("delete",Pj,e),discardChanges:co("discardChanges",mMe,e),patch:co("patch",gMe,e),publish:co("publish",yMe,e),unpublish:co("unpublish",bMe,e),restore:co("restore",vMe,e)}:t}const uvn=sd((e,t,n)=>{const r=SMe(e),i=sMe(e,t,n).pipe(fe(lvn));return ji(we(ovn),Bn(r.pipe(Mt(()=>sr)),i)).pipe(la({refCount:!0,bufferSize:1}))},(e,t,n)=>Hf(e.client,t,n));function Kg(e){return mr(e)}function OG(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const i=t[r],a=e[r];Kg(i)&&Kg(a)&&(n[r]=OG(a,i))}),n}const cvn=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function dvn(e){return e&&e.length>0?`"${e}"`:e}function tue(e,t){const n=r=>`Template "${t.id}" initial value: ${r}`;if(!Kg(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n(`includes "_type"-property (${e._type}) that does not match template (${t.schemaType})`));try{return A6(e)}catch(r){throw r.message=n(r.message),r}}function A6(e,t=[],n=!1){if(Array.isArray(e))return e.map((i,a)=>{if(Array.isArray(i))throw new Error(`multidimensional arrays are not supported (at path "${Zt(t)}")`);return A6(i,t.concat(a),!0)});if(!Kg(e))return e;const r=n&&!e._key?{_key:OE()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&fvn(e,t),Object.keys(e).reduce((i,a)=>(i[a]=A6(e[a],t.concat([a])),i),r)}function fvn(e,t=[]){if(!e._type&&e.type)throw new Error(`Reference is missing "_type", but has a "type" property at path "${Zt(t)}"`);const n=Object.keys(e).filter(r=>!cvn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error(`Disallowed ${r} found in reference: ${n.map(dvn).join(", ")} at path "${Zt(t)}"`)}}function hvn(e){return Kg(e)&&typeof e.serialize=="function"}const nue=new WeakMap;async function NR(e,t,n,r){var a;const i=r==null?void 0:r.useCache;if(typeof e=="function"){const o=nue.get(e),s=JSON.stringify([t,n.projectId,n.dataset,(a=n.currentUser)==null?void 0:a.id]);if(i&&(o!=null&&o[s]))return o[s];const l=e(t,n);return i&&nue.set(e,{...o,[s]:l}),l}return e}async function $G(e,t,n={},r,i){if(hvn(t))return $G(e,t.serialize(),n,r,i);const{id:a,schemaType:o,value:s}=t;if(!s)throw new Error(`Template "${a}" has invalid "value" property`);let l=await NR(s,n,r,i);if(!Kg(l))throw new Error(`Template "${a}" has invalid "value" property - must be a plain object or a resolver function returning a plain object`);Kg(l)&&!Object.keys(l).length&&(l={_type:o}),l=tue(l,t);const c=e.get(o);if(!c)throw new Error(`Could not find schema type with name "${o}".`);const d=OG(await LR(c,n,PG,r,i)||{},l);return tue(d,t)}function pvn(e,t){const n=Cs(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const PG=10;function LR(e,t,n=PG,r,i){return n<=0?Promise.resolve(void 0):Ui(e)?gvn(e,t,n,r,i):_s(e)?mvn(e,t,n,r,i):NR(e.initialValue,t,r,i)}async function mvn(e,t,n,r,i){const a=await NR(e.initialValue,void 0,r,i);if(Array.isArray(a))return Promise.all(a.map(async o=>{const s=pvn(e,o);return Ui(s)?{...o,...await LR(s,t,n-1,r,i),_key:OE()}:o}))}async function gvn(e,t,n,r,i){const a={...await NR(e.initialValue,t,r,i)||{}},o={};await Promise.all(e.fields.map(async l=>{const c=await LR(l.type,t,n-1,r,i);c!=null&&(o[l.name]=c)}));const s=OG(o,a);if(!MU(s))return e.name!=="object"&&(s._type=e.name),s}const rue={type:"loading"};function yvn(e,t,n,r,i){const a=n.observePaths({_type:"reference",_ref:ca(r.documentId)},["_type"]),o=n.observePaths({_type:"reference",_ref:pn(r.documentId)},["_type"]);return Bn(a.pipe(fe(s=>({draft:s}))),o.pipe(fe(s=>({published:s})))).pipe(Qs((s,l)=>({...s,...l}),{}),Nt(s=>"draft"in s&&"published"in s),fe(s=>s.draft||s.published),hr((s,l)=>!!s!=!!l),Cz(25)).pipe(Ct(s=>{if(s)return we({type:"success",value:null});if(!r.templateName)return we({isResolving:!1,initialValue:void 0});const l=t.find(d=>d.id===r.templateName);if(!l)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),we({isResolving:!1,initialValue:void 0});const c=Br($G(e,l,r.templateParams,i)).pipe(fe(d=>({isResolving:!1,initialValue:d}))).pipe(kn(d=>(console.group("Failed to resolve initial value"),console.error(d),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),we({type:"error",error:d}))));return Bn(we({isResolving:!0}),c).pipe(Ct(({isResolving:d,initialValue:h,resolveError:p})=>we(p?{type:"error",message:"Failed to resolve initial value"}:d?rue:{type:"success",value:h})))}),Wi(rue),hr())}const vvn=(e,t,n,r)=>oa(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),bvn=(e,t,n,r)=>oa(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function iue(e){return e.type==="welcome"}function xvn(e,t,n={},r={}){const i=typeof t=="string"?t:t.fetch,a=typeof t=="string"?t:t.listen,o=bvn(e,a,n,r).pipe(Mt((h,p)=>p===0&&!iue(h)?pp(()=>new Error(h.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${h.type}"`)):we(h)),Ho()),[s,l]=xz(o,iue),c=h=>!r.transitions||h.type!=="mutation"?!0:r.transitions.includes(h.transition),d=()=>vvn(e,i,n,r);return Bn(s.pipe($a(1)),l.pipe(Nt(c),HC(r.throttleTime||1e3,Jl,{leading:!0,trailing:!0}))).pipe(TW(h=>h.type==="mutation"&&h.visibility!=="query"?Qr(1200).pipe(Mt(d)):d()))}function wvn(e,t,n="*"){if(n&&n!=="*")return we(n);const r="*[_id in [$documentId, $draftId]]._type",i=pn(t),a=ca(i);return e.observable.fetch(r,{documentId:i,draftId:a}).pipe(fe(o=>o[0]))}function Vx(e){if(FW(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ca(e)}}function Cvn({getClient:e,documentPreviewStore:t,historyStore:n,initialValueTemplates:r,schema:i,i18n:a,serverActionsEnabled:o}){const s=t.unstable_observeDocumentPairAvailability,l=e(qt),c={client:l,getClient:e,observeDocumentPairAvailability:s,historyStore:n,schema:i,i18n:a,serverActionsEnabled:o};return{checkoutPair(d){return iMe(l,d,o)},initialValue(d,h){return yvn(i,r,t,d,h)},listenQuery(d,h,p){return xvn(l,d,h,p)},resolveTypeForDocument(d,h){return wvn(l,d,h)},pair:{consistencyStatus(d,h){return oMe(c.client,Vx(d),h,o)},documentEvents(d,h){return avn(c.client,Vx(d),h,o)},editOperations(d,h){return uvn(c,Vx(d),h)},editState(d,h){return aMe(c,Vx(d),h)},operationEvents(d,h){return SMe({client:l,historyStore:n,schema:i,serverActionsEnabled:o}).pipe(Nt(p=>p.args.idPair.publishedId===d&&p.args.typeName===h),fe(p=>{const{operationName:m,idPair:g}=p.args;return p.type==="success"?{type:"success",op:m,id:g.publishedId}:{type:"error",op:m,id:g.publishedId,error:p.error}}))},validation(d,h){return ivn(c,Vx(d),h)}}}}const aue={isLoaded:!1,documentType:void 0};function Svn(e,t="*"){const n=dl(),r=pn(e),i=!!(t&&t!=="*"),a=f.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[o,s]=f.useState(i?a:aue);return f.useEffect(()=>s(aue),[r,t]),f.useEffect(()=>{if(i)return;const l=n.resolveTypeForDocument(r,t).subscribe(c=>s({documentType:c,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,i]),i?a:o}function Evn(e,t){const n=da(),r=f.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):we(void 0),[e,n,t]);return lje(r)}function kvn(e){const{documentId:t,documentType:n,templateName:r,templateParams:i}=e,a=Wa(i),o=dl(),s=FG(),l=f.useMemo(()=>({_id:t,_type:n}),[t,n]),[c,d]=f.useState({loading:!1,error:null,value:l});return f.useEffect(()=>{const h={documentId:t,documentType:n,templateName:r,templateParams:a};if(!r){d({loading:!0,error:null,value:l});return}const p=o.initialValue(h,s).subscribe(m=>{m.type==="loading"&&d({loading:!0,error:null,value:l}),m.type==="success"&&d({loading:!1,error:null,value:m.value?{...l,...m.value}:l}),m.type==="error"&&d({loading:!1,error:m.error,value:l})});return d({loading:!0,error:null,value:l}),()=>p.unsubscribe()},[l,t,o,n,r,a,s]),c}function FG(){const e=Hn(),t=tn(),n=tr(),r=Ek(),i=I$e(),a=e.getClient;return f.useMemo(()=>({projectId:r,dataset:i,getClient:a,schema:t,currentUser:n}),[a,t,n,r,i])}function NG(){const e=FG();return f.useCallback((t,n)=>LR(t,n,PG,e),[e])}const zP=new WeakMap,EMe=1e3*120,oue=Qr(EMe);function _vn(e){const{dataset:t}=e.config();return Qr(0,EMe).pipe(tg(()=>e.observable.request({uri:`/data/actions/${t}`,withCredentials:!0}).pipe(Tvn(),idt({first:2e3,with:()=>we(!1)}),kn(()=>we(!1)))),Ho({connector:()=>new gz(1),resetOnComplete:()=>oue,resetOnRefCountZero:()=>oue}))}function Tvn(){return fe(e=>e.enabled&&i_e.satisfies(jl,e.compatibleStudioVersions,{includePrerelease:!0}))}const LG=e=>(zP.has(e)||zP.set(e,_vn(e)),zP.get(e));function Avn(e,t){const n=e.get(t);if(!n)throw new Error(`No such schema type: ${t}`);return n}function jvn({grantsStore:e,permission:t,draft:n,published:r,liveEdit:i}){const a=n||r,o=a===n?"draft":"published",{checkDocumentPermission:s}=e;switch(t){case"delete":return i?[["delete published document (live-edit)",s("update",r)]]:[["delete draft document",s("update",n)],["delete published document",s("update",r)]];case"discardDraft":return i?[]:[["delete draft document",s("update",n)]];case"publish":return i?[]:[["update published document at its current state",s("update",r)],["delete draft document",s("update",n)],["create published document from draft",s("create",n&&{...n,_id:pn(n._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",s("create",n)],["delete published document",s("update",r)],["create draft document from published version",s("create",r&&{...r,_id:ca(r._id)})]];case"update":return i?[["update published document (live-edit)",s("update",r)]]:[[`update ${o} document`,s("update",a)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",s("create",{...r,_id:"dummy-id"})]]:[[`create new draft document from existing ${o} document`,s("create",{...a,_id:ca("dummy-id")})]];default:throw new Error(`Could not match permission: ${t}`)}}function Ivn({client:e,grantsStore:t,schema:n,id:r,permission:i,type:a,serverActionsEnabled:o}){if(a==="*")return we({granted:!1,reason:"Type specified was `*`"});const s=!!Avn(n,a).liveEdit;return RG(e,{draftId:ca(r),publishedId:pn(r)},a,o).pipe(Ct(l=>Hi([l.draft.snapshots$,l.published.snapshots$]).pipe(fe(([c,d])=>({draft:c,published:d})))),Ct(({draft:l,published:c})=>{const d=jvn({grantsStore:t,permission:i,draft:l,published:c,liveEdit:s}).map(([h,p])=>p.pipe(fe(({granted:m,reason:g})=>({granted:m,reason:m?"":`not allowed to ${h}: ${g}`,label:h,permission:i}))));return d.length?Hi(d).pipe(fe(h=>{const p=h.every(g=>g.granted),m=p?"":`Unable to ${i}:
	${h.filter(g=>!g.granted).map(g=>g.reason).join(`
	`)}`;return{granted:p,reason:m}})):we({granted:!0,reason:""})}))}const Dvn=Gp(Ivn);function ld({id:e,type:t,permission:n,client:r,schema:i,grantsStore:a}){var g;const o=Xt(qt),s=tn(),l=zG(),c=Vr(),d=f.useMemo(()=>r||o,[o,r]),h=f.useMemo(()=>i||s,[s,i]),p=f.useMemo(()=>a||l,[l,a]),m=f.useMemo(()=>{var v;const y=(v=c.__internal_serverDocumentActions)==null?void 0:v.enabled;return typeof y=="boolean"?we(y):LG(d)},[d,(g=c.__internal_serverDocumentActions)==null?void 0:g.enabled]);return Dvn(f.useMemo(()=>({client:d,schema:h,grantsStore:p,id:e,permission:n,type:t,serverActionsEnabled:m}),[d,p,e,n,h,t,m]))}function kMe({grantsStore:e,document:t,permission:n}){const{checkDocumentPermission:r}=e;return r(n,t)}const Mvn=Gp(kMe);function Rvn({document:e,permission:t,...n}){const r=zG();return Mvn({grantsStore:n.grantsStore||r,document:e,permission:t})}function Ovn(e,t=Iwe){return n=>{const r=n;let i=null,a=null;const o=new Fr,s=o.pipe(Qs((l,c)=>l+c,0),Ct(l=>l===0?Qr(e,t).pipe(Qn(()=>{i&&(i.unsubscribe(),i=null),a&&(a.unsubscribe(),a=null)})):!i&&l>0?Qr(0,t).pipe(Qn(()=>{i||(i=r.connect())})):bz));return Tdt(()=>(a||(a=s.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)}),()=>n)}}const sue="_debug_",$vn=typeof window>"u"?we({}):To(window,"hashchange"),_Me=ji(we(0),$vn).pipe(fe(()=>typeof document>"u"?"#":document.location.hash),hr(),fe(e=>e.slice(1).split(";").filter(t=>t.toLowerCase().startsWith(sue)).map(t=>t.slice(sue.length)))),Pvn=_Me.pipe(fe(e=>e.find(t=>t.startsWith("roles="))),fe(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),Fvn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],lue=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Nvn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Lvn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],uue=[{filter:'_id in path("**")',permissions:["read","history"]}],Bvn=[{filter:"!locked",permissions:["read","create","update"]}],Vvn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],cue={administrator:Fvn,editor:lue,developer:Nvn,contributor:Lvn,viewer:uue,restricted:Vvn,requiresApproval:Bvn,read:uue,write:lue},zvn=Pvn.pipe(fe(e=>e.length?e.filter(t=>!!t&&t in cue).flatMap(t=>cue[t]||[]):null));async function Uvn(e,t,n){return await e.request({uri:`/projects/${t}/datasets/${n}/acl`,tag:"acl.get",withCredentials:!0})}function Hvn(e){const t={};return e!==null&&(t.identity=e),t}const UP=new Map;async function Wvn(e,t,n){var s;UP.has(t)||UP.set(t,dU(`*[${t}]`));const r=UP.get(t),i=Hvn(e),{identity:a}=i,o={...i};return((s=await(await eEe(r,{dataset:[n],identity:a,params:o})).get())==null?void 0:s.length)===1}function Gvn(e){var o;const{client:t}=e,n=t.withConfig({apiVersion:"2021-06-07"}),r="userId"in e?e.userId:((o=e==null?void 0:e.currentUser)==null?void 0:o.id)||null,i=oa(()=>we(n.config())).pipe(Ct(({projectId:s,dataset:l})=>{if(!s||!l)throw new Error("Missing projectId or dataset");return Uvn(n,s,l)})),a=zvn.pipe(Ct(s=>s?we(s):i),ku(1),Ovn(1e3));return{checkDocumentPermission(s,l){return a.pipe(Ct(c=>TMe(r,c,s,l)),hr(yp))}}}async function TMe(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const i=[];for(const o of t)await Wvn(e,o.filter,r)&&i.push(o);const a=i.some(o=>o.permissions.some(s=>s===n));return{granted:a,reason:a?"Matching grant":"No matching grants found"}}function AMe(e){return typeof e=="object"&&e!==null&&"serialize"in e?AMe(e.serialize()):e}function Yvn({grantsStore:e,templateItems:t,templates:n,schema:r,context:i}){return t!=null&&t.length?Hi(t.map(AMe).map(async a=>{const o=n.find(l=>l.id===a.templateId);if(!o)throw new Error(`template not found: "${a.templateId}"`);const s=await $G(r,o,a.parameters,i,{useCache:!0});return{template:o,item:a,resolvedInitialValue:s}}).map(a=>Br(a).pipe(Ct(({item:o,resolvedInitialValue:s,template:l})=>{const c=r.get(l.schemaType);if(!c)throw new Error(`schema type not found: "${l.schemaType}"`);const d=c==null?void 0:c.liveEdit,{initialDocumentId:h="dummy-id"}=o;return kMe({grantsStore:e,permission:"create",document:{_id:d?pn(h):ca(h),...s}}).pipe(fe(({granted:p,reason:m})=>{const g=o.title||l.title;return{...o,i18n:o.i18n||l.i18n,granted:p,reason:m,resolvedInitialValue:s,template:l,title:g,subtitle:c.title===g?void 0:c.title,description:o.description||l.description,icon:o.icon||l.icon}}))})))):we([])}const qvn=Gp(Yvn);function BG({templateItems:e,...t}){const n=tn(),r=Hb(),i=zG(),a=FG();return qvn({templateItems:e,grantsStore:t.grantsStore||i,schema:t.schema||n,templates:t.templates||r,context:a})}function Kvn(e){return e==="create"||e==="editDraft"}const Zvn=5*60*1e3;function Xvn(e,t){return Date.parse(t)-Date.parse(e)<Zvn}function due(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=hue(e.draftState,t.draftState),r=hue(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Kvn(e.type)&&t.type==="editDraft"&&Xvn(e.endTimestamp,t.startTimestamp)){const i=new Set;for(const a of e.authors)i.add(a);for(const a of t.authors)i.add(a);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:i,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function fue(e){const t=!!e;return e&&j6(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Jvn(e){const t=fue(e.draftEffect),n=fue(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function HP(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&j6(e.draftEffect.apply),i=e.publishedEffect&&j6(e.publishedEffect.apply),a=Jvn(e);return{index:0,id:e.id,type:a,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function hue(e,t){return t==="unknown"?e:t}function j6(e){return e[0]===0&&e[1]===null}function Qvn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function pue(e){return e.draft||e.published}class ebn{constructor(t,n,r,i){Y(this,"type","array");Y(this,"value");Y(this,"length");Y(this,"annotation");Y(this,"extractor");Y(this,"content");Y(this,"elements",[]);this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=Fj(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class tbn{constructor(t,n,r,i){Y(this,"type","object");Y(this,"value");Y(this,"keys");Y(this,"annotation");Y(this,"extractor");Y(this,"content");Y(this,"fields",{});this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=Fj(r,this.value[t],this.extractor)}}class nbn{constructor(t,n,r,i){Y(this,"type","string");Y(this,"value");Y(this,"annotation");Y(this,"extractor");Y(this,"content");this.content=t,this.value=n,this.annotation=r,this.extractor=i}sliceAnnotation(t,n){const r=[];let i=0;function a(o,s){if(r.length>0){const l=r[r.length-1];if(Qvn(l.annotation,s)){l.text+=o;return}}r.push({text:o,annotation:s})}for(const o of this.content.parts){const s=o.value.length,l=Math.max(0,t-i);if(l<s){const c=Math.min(s,n-i);if(c<=0)break;a(o.value.slice(l,c),this.extractor.fromValue(o))}i+=s}return r}}function Fj(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new ebn(e.content,t,r,n);case"object":return new tbn(e.content,t,r,n);case"string":return new nbn(e.content,t,r,n)}return jW(t,r)}function mue(e,t,n){return n?I6(e,n.transactionIndex+1,n.chunk.index):t?I6(e,t.start,t.index):null}function gue(e,t){return t?I6(e,t.transactionIndex,t.chunk.index):null}function I6(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const i=e.chunkByTransactionIndex(t,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}function rbn(e,t,n,r,i,a){const o=Fj(n,r,{fromValue(l){return mue(e,t,l.endMeta)},fromMeta(l){return mue(e,t,l)}}),s=Fj(i,a,{fromValue(l){return gue(e,l.startMeta)},fromMeta(l){return gue(e,l)}});return aR(o,s)}class M5{constructor(){Y(this,"_postive",[]);Y(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,i=n(this.get(r),t);Array.isArray(i)?(this.set(r,i[0]),this.addToEnd(i[1])):this.set(r,i)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,i=n(t,this.get(r));Array.isArray(i)?(this.set(r,i[1]),this.addToBeginning(i[0])):this.set(r,i)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}let ibn=class{constructor(t){Y(this,"reachedEarliestEntry",!1);Y(this,"publishedId");Y(this,"draftId");Y(this,"_transactions",new M5);Y(this,"_chunks",new M5);Y(this,"_possiblePendingTransactions",new Map);Y(this,"_recreateTransactionsFrom");Y(this,"_trace");this.publishedId=t.publishedId,this.draftId=`drafts.${t.publishedId}`,t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,i=this._chunks.lastIdx;for(let a=i;a>=r;a--)n.push(t(this._chunks.get(a),a));return n}reset(){this._transactions=new M5,this._chunks=new M5,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let a=r;a<=n;a++){const o=this._transactions.get(a);this._chunks.mergeAtEnd(HP(o),due)}if(this._chunks.length==0)return;const i=this._chunks.first.start;for(let a=i-1;a>=t;a--){const o=this._transactions.get(a);this._chunks.mergeAtBeginning(HP(o),due)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=HP(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),i=n.shift(),a=Number(r);for(let o=this._chunks.lastIdx;o>=this._chunks.firstIdx;o--){const s=this._chunks.get(o);if(s.id===i)return s;if(Date.parse(s.endTimestamp)+60*60*1e3<a)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return`${t.endTimestamp.valueOf()}/${t.id}`}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t,n=0){let r=n;for(;;){const i=this._chunks.get(r);if(!i)throw new Error("transaction does not belong in any chunk");if(t>=i.end)r++;else if(t<i.start)r--;else return i}}replayBackwardsBetween(t,n,r){let i=r.draft,a=r.published;for(let o=n;o>=t;o--){const s=this._transactions.get(o);s.draftEffect&&(i=Tj(i,s.draftEffect.revert)),s.publishedEffect&&(a=Tj(a,s.publishedEffect.revert))}return{draft:i,published:a}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,i){let a=gu.wrap(t.draft,null),o=gu.wrap(t.published,null);const s=abn(a,o),l=pue(t);let c=null;for(let p=r;p<=i;p++){const m=this._chunks.get(p);c||(c=m);for(let g=m.start;g<m.end;g++){const y=this._transactions.get(g),v={chunk:m,transactionIndex:g},b=a,x=o;y.draftEffect&&(a=gu.applyPatch(a,y.draftEffect.apply,v)),y.publishedEffect&&(o=gu.applyPatch(o,y.publishedEffect.apply,v));const w=gu.getType(b)!=="null",C=gu.getType(a)!=="null";gu.getType(o)!=="null"&&!C&&(o=gu.rebaseValue(b,o)),C&&!w&&(a=gu.rebaseValue(x,a))}}const d=gu.getType(a)==="null"?o:a,h=pue(n);return rbn(this,c,s,l,d,h)}};function abn(e,t){return gu.getType(e)==="null"?t:e}function yue(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function obn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function vue(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class sbn{constructor(t){Y(this,"timeline");Y(this,"earliestTransactionId",null);Y(this,"_states");this.timeline=t,this._states={draft:yue(t.draftId),published:yue(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),vue(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):vue(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=obn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=Tj(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}async function jMe(e,t){const n=t?{headers:{Authorization:`Bearer ${t}`}}:{credentials:"include"},r=await fetch(e,n);return lbn(r)}function lbn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(i){n=t.getReader();const a=new TextDecoder;let o="";n.read().then(function s(l){if(l.done){if(r)return;if(o=o.trim(),o.length===0){i.close();return}i.enqueue(JSON.parse(o)),i.close();return}o+=a.decode(l.value,{stream:!0});const c=o.split(`
`);for(let d=0;d<c.length-1;++d){const h=c[d].trim();if(h.length!==0)try{i.enqueue(JSON.parse(h))}catch(p){i.error(p),r=!0,n.cancel();return}}return o=c[c.length-1],n.read().then(s).catch(d=>i.error(d))}).catch(s=>i.error(s))},cancel(){r=!0,n.cancel()}})}class ubn{constructor(t,n,r,i){Y(this,"timeline");Y(this,"start");Y(this,"end");Y(this,"doc");Y(this,"_startDocument");Y(this,"_endDocument");Y(this,"_diff");this.timeline=t,this.start=r,this.end=i,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return bue(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return bue(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function bue(e){return e.draft||e.published}const cbn=50;class dbn{constructor(t){Y(this,"timeline");Y(this,"client");Y(this,"handler");Y(this,"version",0);Y(this,"selectionState","inactive");Y(this,"_aligner");Y(this,"_fetchMore",!1);Y(this,"_fetchAtLeast",0);Y(this,"_isRunning",!1);Y(this,"_isSuspended",!1);Y(this,"_didErr",!1);Y(this,"_since",null);Y(this,"_sinceTime",null);Y(this,"_rev",null);Y(this,"_revTime",null);Y(this,"_reconstruction");this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new sbn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const i=this._revTime||this.timeline.lastChunk();this._sinceTime.index>i.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,i)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new ubn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error(`ObjectDiff expected, got ${t.type}`)}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(n){this._didErr=!0,(t=this.handler)==null||t.call(this,n,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),i=cbn;let a=`tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=${i}`,o=this._aligner.earliestTransactionId;o&&(a+=`&toTransaction=${o}`);const s=this.client.getUrl(`/data/history/${r.dataset}/transactions/${t},${n}?${a}`),l=(await jMe(s,r.token)).getReader();let c=0;for(;;){const d=await l.read();if(d.done)break;if("error"in d.value)throw new Error(d.value.error.description||d.value.error.type);if(c++,d.value.id!==o){if(this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(d.value),o=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory||(c<i&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}const xue=Object.create(null),fbn=(e,t,n={})=>{const r=Array.isArray(t)?t:[t],{time:i,revision:a}=n;if(i&&a)throw new Error("getHistory can't handle both time and revision parameters");let o=`/data/history/${e.config().dataset}/documents/${r.join(",")}`;if(a)o=`${o}?revision=${a}`;else{const s=i||new Date().toISOString();o=`${o}?time=${s}`}return e.request({url:o})},IMe=(e,t,n)=>{const r=pn(t),i=ca(t),a=`${r}@${n}`,o=xue[a];if(o)return o;const s=`/data/history/${e.config().dataset}/documents/${r},${i}?revision=${n}`,l=e.request({url:s}).then(c=>{const d=c.documents||[],h=d.find(p=>p._id===r);return d.find(p=>p._id===i)||h});return xue[a]=l,l},hbn=({client:e,documentId:t,documentType:n})=>{const r=new ibn({enableTrace:cl,publishedId:t});return new dbn({client:e,documentId:t,documentType:n,timeline:r})},pbn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,i={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},a=`/data/history/${r}/transactions/${n.join(",")}`;return(await e.request({url:a,query:i})).toString("utf8").split(`
`).filter(Boolean).map(o=>JSON.parse(o))},mbn=e=>AAe(e,(t,n)=>Us(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function D6(e,t){return Array.isArray(e)?t(e.map(n=>D6(n,t)).filter(n=>typeof n<"u")):wt(e)?t(Object.keys(e).reduce((n,r)=>{const i=D6(e[r],t);return typeof i<"u"&&(n[r]=i),n},{})):t(e)}const gbn=(e,t)=>D6(e,n=>Us(n)?t(n):n),ybn=(e,t)=>gbn(e,n=>t[n._ref]?n:void 0);function vbn(e,t,n,r,i){return Br(IMe(e,t,r)).pipe(Mt(a=>{if(!a)throw new Error(`Unable to find document with ID ${t} at revision ${r}`);const o=mbn(a).map(s=>`"${s}": defined(*[_id=="${s}"]._id)`).join(",");return e.observable.fetch(`{${o}}`).pipe(fe(s=>ybn(a,s)))}),fe(a=>{const{_updatedAt:o,...s}=a;return{...s,_id:n}}),Mt(a=>{if(i!=null&&i.useServerDocumentActions){const o={actionType:"sanity.action.document.replaceDraft",publishedId:t,attributes:a};return qg(e).observable.action(i.fromDeleted?[{actionType:"sanity.action.document.create",publishedId:t,attributes:a,ifExists:"fail"},o]:o)}return e.observable.createOrReplace(a,{visibility:"async"})}),fe(()=>{}))}function bbn({client:e}){return{getDocumentAtRevision:(t,n)=>IMe(e,t,n),getHistory:(t,n)=>fbn(e,t,n),getTransactions:t=>pbn(e,t),restore:(t,n,r,i)=>vbn(e,t,n,r,i),getTimelineController:hbn}}function ya(e,t){return nW.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const wue={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function xbn({documentId:e,documentType:t,onError:n,rev:r,since:i}){var m;const a=RMe(),o=f.useRef(null),s=f.useRef(wue),l=Xt(qt),c=Vr(),d=f.useMemo(()=>a.getTimelineController({client:l,documentId:e,documentType:t}),[l,e,t,a]),h=f.useMemo(()=>new PD(d),[d]);f.useEffect(()=>(d.setRange(i||null,r||null),h.next(d),d.handler=(g,y)=>{g?h.error(g):setTimeout(()=>{y.setRange(i||null,r||null),h.next(y)},0)},d.resume(),()=>d.suspend()),[r,i,d,h]);const p=f.useMemo(()=>{var y;const g=(y=c.__internal_serverDocumentActions)==null?void 0:y.enabled;return typeof g=="boolean"?we(g):LG(l)},[l,(m=c.__internal_serverDocumentActions)==null?void 0:m.enabled]);return f.useEffect(()=>(o.current||(o.current=Xyn(l,{draftId:`drafts.${e}`,publishedId:e},t,p).subscribe(g=>{d.handleRemoteMutation(g)})),()=>{o.current&&(o.current.unsubscribe(),o.current=null)}),[l,d,e,t,p]),f.useMemo(()=>({findRangeForRev:g=>d.findRangeForNewRev(g),findRangeForSince:g=>d.findRangeForNewSince(g),loadMore:()=>{d.setLoadMore(!0),s.current.isLoading=!0},getSnapshot:()=>s.current,subscribe:g=>{const y=h.pipe(fe(v=>{var S;const b=v.timeline.mapChunks(E=>E),x=b.filter(E=>!["delete","initial"].includes(E.type)),w=!v.timeline.reachedEarliestEntry;w&&b.length>16&&v.setLoadMore(!1);const C=!["invalid","loading"].includes(v.selectionState);return{chunks:b,diff:v.sinceTime?v.currentObjectDiff():null,isLoading:!1,isPristine:C?b.length===0&&w===!1:null,hasMoreChunks:!v.timeline.reachedEarliestEntry,lastNonDeletedRevId:(S=x==null?void 0:x[0])==null?void 0:S.id,onOlderRevision:v.onOlderRevision(),realRevChunk:v.realRevChunk,revTime:v.revTime,selectionState:v.selectionState,sinceAttributes:v.sinceAttributes(),sinceTime:v.sinceTime,timelineDisplayed:v.displayed(),timelineReady:C}}),hr(fg),kn(v=>(n==null||n(v),we(wue))),Qn(v=>{s.current=v}),Qn(g)).subscribe();return()=>y.unsubscribe()}}),[d,n,h])}const wbn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error(`Got unknown presence event: ${JSON.stringify(e)}`)},Cbn=(e,t)=>{const n=e.listen("presence").pipe(fe(wbn)),r=i=>i.type==="rollCall"?e.request("presence_rollcall",{session:t}):i.type==="state"?e.request("presence_announce",{data:{locations:i.locations,sessionId:t}}):i.type==="disconnect"?e.request("presence_disconnect",{session:t}):sr;return[n.pipe(Ho()),r]},Sbn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Ebn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],kbn=oa(()=>Qr(0,1e4)).pipe(Xy(Sbn),fe((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:Czt(Ebn)}]})),la()),DMe="presence_session_id",_bn=()=>ezt(16);function Tbn(){try{return window.sessionStorage.getItem(DMe)}catch{}return null}function Abn(e){try{window.sessionStorage.setItem(DMe,e)}catch{}return e}const R5=Tbn()||Abn(_bn());function jbn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[i,a]=Cbn(t,R5),o=new PD([]),s=o.pipe(hr()),l=j=>{o.next(j)},c=j=>a({type:"state",locations:j}),d=()=>a({type:"rollCall"}),h=i.pipe(Nt(j=>j.type==="rollCall"),Nt(j=>j.sessionId!==R5)),p=Qr(0,3e4),m=oa(()=>Bn(s,h)).pipe(Ct(()=>p),mA(o),fe(([,j])=>j),jdt(200),Ct(j=>c(j)),Xy(sr),Ho()),g=oa(()=>d()).pipe(Xy(sr)),y=n.connectionStatus$.pipe(fe(j=>j.type),Nt(j=>j==="connected"||j==="error"),hr()),v=_Me.pipe(fe(j=>j.find(A=>A.startsWith("presence="))),fe(j=>(j==null?void 0:j.split("presence=")[1].split(",").map(A=>A.trim()))||[])),b=v.pipe(Nt(j=>j.includes("fake_others")),Qn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),Hdt(kbn)),x=v.pipe(fe(j=>j.includes("show_own"))),w=Bn(g,i).pipe(Nt(j=>j.type==="state"||j.type==="disconnect")),C=j=>({lastActiveAt:j.timestamp,locations:j.locations,sessionId:j.sessionId,userId:j.userId}),S=Bn(w,b).pipe(Qs((j,A)=>A.type==="disconnect"?Qa(j,A.sessionId):{...j,[A.sessionId]:C(A)},{})),E=y.pipe(Ct(j=>j==="connected"?Bn(S,m):bz),fe(j=>Object.values(j)),Ct(j=>{const A=Sa(j.map(I=>I.userId));return Br(r.getUsers(A)).pipe(fe(I=>j.map(M=>({user:I.find(D=>D.id===M.userId),session:M})).filter(k)))}),Sz(To(window,"beforeunload").pipe(Ct(()=>a({type:"disconnect"})))),la({refCount:!0,bufferSize:1}));function k(j){return!!(j.user&&j.session)}const _=E.pipe(fe(j=>{const A=aU(j.map(I=>I.session),I=>I.userId);return Object.keys(A).map(I=>{var M;return{user:(M=j.find(D=>D.user.id===I))==null?void 0:M.user,sessions:A[I]}})}),mA(x),fe(([j,A])=>j.filter(I=>A?!0:!I.sessions.some(M=>M.sessionId===R5))),fe(j=>j.map(A=>{var I;return{user:A.user,status:"online",lastActiveAt:(I=A.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:pr((A.sessions||[]).map(M=>M.locations||[])).map(M=>({type:M.type,documentId:M.documentId,path:M.path,lastActiveAt:M.lastActiveAt})).reduce((M,D)=>M.concat(D),[])}}))),T=Hi([E,x]).pipe(fe(([j,A])=>j.flatMap(I=>(I.session.locations||[]).map(M=>({documentId:M.documentId,presence:{user:I.user,lastActiveAt:I.session.lastActiveAt,path:M.path||[],sessionId:I.session.sessionId,selection:M==null?void 0:M.selection}}))).filter(I=>A||I.presence.sessionId!==R5)),la(1));return{setLocation:l,reportLocations:c,debugPresenceParam$:v,globalPresence$:_,documentPresence:j=>T.pipe(fe(A=>A.filter(I=>I.documentId===j).map(I=>I.presence)),hr((A,I)=>kt(A,I)))}}function Ibn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function i(){return r.observable.request({url:`/projects/${n}`})}function a(){return r.observable.request({url:`/projects/${n}/datasets`})}return{get:i,getDatasets:a}}function Dbn(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(c){const d=t.get(c);if(d)return d;const h=n();return t.set(c,h),h}function i(c){return Array.from(new Set(c)).map(d=>[r(d),d]).sort(([d],[h])=>d.localeCompare(h,"en")).map(([,d])=>d)}function a(c,d){if(!c.length)return;const[h,...p]=c,m=d.get(h);if(m)return p.length?a(p,m.next):m.value}function o(c,d,h){if(!c.length)return;const[p,...m]=c,g=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,g),!m.length){g.value=h;return}o(m,g.next,h)}function s(c){return a(i(c),e)}function l(c,d){o(i(c),e,d)}return{get:s,set:l}}function MMe({children:e}){const t=f.useMemo(()=>{const n=new Map,r={};return{get:({namespace:i,dependencies:a})=>{var s;const o=a.map(l=>l===null?r:l);return(s=n.get(i))==null?void 0:s.get(o)},set:({namespace:i,dependencies:a,value:o})=>{const s=n.get(i)||Dbn(),l=a.map(c=>c===null?r:c);n.set(i,s),s.set(l,o)}}},[]);return u.jsx(Ihe.Provider,{value:t,children:e})}function Wf(){const e=f.useContext(Ihe);if(!e)throw new Error("Could not find `cache` context");return e}const Mbn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Rbn({client:e,currentUser:t}){const n=e.withConfig({apiVersion:"2021-06-07"}),r=new w_e(async a=>{const o=await n.request({uri:`/users/${a.join(",")}`,withCredentials:!0,tag:"users.get"}),s=(Array.isArray(o)?o:[o]).reduce((l,c)=>(c!=null&&c.id&&(l[c.id]=c),l),{});return a.map(l=>s[l]||null)},{batchScheduleFn:a=>oQt(a),maxBatchSize:400}),i=t&&{id:t.id,displayName:t.name,imageUrl:t.profileImage};return r.prime("me",i),i!=null&&i.id&&r.prime(i.id,i),Mbn.forEach(a=>r.prime(a.id,a)),{getUser:async a=>{if(!a)return Promise.resolve(null);try{return await r.load(a)}catch(o){if(o.statusCode===403)return Promise.resolve(null);throw o}},getUsers:async a=>(await r.loadMany(a)).filter(o=>wt(o)&&typeof o.id=="string")}}function VG(){const{getClient:e,currentUser:t}=Hn(),n=Wf(),r=e(qt);return f.useMemo(()=>{const i=n.get({namespace:"userStore",dependencies:[r,t]})||Rbn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:i}),i},[r,t,n])}function zG(){const{getClient:e}=Hn(),t=e(qt),n=tr(),r=Wf();return f.useMemo(()=>{const i=r.get({namespace:"grantsStore",dependencies:[t,n]})||Gvn({client:t,userId:(n==null?void 0:n.id)||null});return r.set({namespace:"grantsStore",dependencies:[t,n],value:i}),i},[t,n,r])}function RMe(){const e=Xt(qt),t=Wf();return f.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||bbn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function da(){const e=Xt(qt),t=Wf();return f.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||_yn({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function dl(){var c;const{getClient:e,i18n:t}=Hn(),n=tn(),r=Hb(),i=Wf(),a=RMe(),o=da(),s=Vr(),l=f.useMemo(()=>{var h;const d=(h=s.__internal_serverDocumentActions)==null?void 0:h.enabled;return typeof d=="boolean"?we(d):LG(e(qt))},[e,(c=s.__internal_serverDocumentActions)==null?void 0:c.enabled]);return f.useMemo(()=>{const d=i.get({namespace:"documentStore",dependencies:[e,o,a,n,t,s]})||Cvn({getClient:e,documentPreviewStore:o,historyStore:a,initialValueTemplates:r,schema:n,i18n:t,serverActionsEnabled:l});return i.set({namespace:"documentStore",dependencies:[e,o,a,n,t],value:d}),d},[i,e,o,a,n,t,s,r,l])}function Obn(){const{bifur:e}=Hn().__internal,t=Wf();return f.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||Prn({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function UG(){const{__internal:{bifur:e}}=Hn(),t=Wf(),n=VG(),r=Obn();return f.useMemo(()=>{const i=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||jbn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:i}),i},[e,r,t,n])}function $bn(){const e=Xt(qt),t=Wf();return f.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Ibn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function OMe(){const e=Wf(),t=Vr(),n=Xt(qt);return f.useMemo(()=>{const r=e.get({dependencies:[t],namespace:"KeyValueStore"})||frn({client:n});return e.set({dependencies:[t],namespace:"KeyValueStore",value:r}),r},[n,e,t])}function Rb(e){const t=UG(),[n,r]=f.useState([]);return f.useEffect(()=>{const i=t.documentPresence(e).subscribe(r);return()=>{i.unsubscribe()}},[e,t]),n}function Pbn(){const[e,t]=f.useState([]),n=UG();return f.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function zo(e){if(!("diff"in e))return u.jsx(Cue,{...e});const{diff:t,path:n=[],...r}=e,i=sk(t,n);return u.jsx(Cue,{...r,annotations:i?[i]:[]})}function Cue(e){const{annotations:t,children:n,description:r,...i}=e,{t:a}=q();if(!t)return n;const o=u.jsxs(ne,{space:2,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:r||a("changes.changed-label")}),u.jsx(ne,{space:2,children:t.map((s,l)=>u.jsx(Fbn,{annotation:s},l))})]});return u.jsx(Ef,{zOffset:"paneFooter",children:u.jsx(bt,{content:o,portal:!0,...i,children:n})})}function Fbn({annotation:e}){const{author:t,timestamp:n}=e,[r]=od(t),i=wje(e),a=Xg(n,{minimal:!0}),{t:o}=q();return u.jsxs(Rn,{space:2,children:[u.jsxs(z,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[u.jsx(nl,{user:t}),u.jsx(Rn,{paddingLeft:2,children:u.jsx(N,{muted:!0,size:1,style:{color:i.text},children:r?r.displayName:o("changes.loading-author")})})]}),u.jsx(N,{as:"time",muted:!0,size:1,dateTime:n,children:a})]})}const Nbn=$(ie)`
  --diff-card-radius: ${({theme:e})=>Ce(e.sanity.radius[2])};
  --diff-card-bg-color: ${({theme:e})=>e.sanity.color.card.enabled.bg};

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);
  background-color: ${({$annotationColor:e})=>e.backgroundColor};
  color: ${({$annotationColor:e})=>e.color};

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`,Lbn=[],ko=f.forwardRef(function(e,t){const{annotation:n,as:r="div",children:i,className:a,diff:o,disableHoverEffect:s,path:l=Lbn,style:c={},tooltip:d,...h}=e,p=f.useMemo(()=>n||sk(o,l),[n,o,l]),m=wje(p),g=u.jsx(Nbn,{...h,as:r,className:a,"data-hover":s||!p?void 0:"","data-ui":"diff-card",ref:t,radius:1,$annotationColor:{backgroundColor:m.background,color:m.text},style:c,children:i});return d&&p?u.jsx(zo,{annotations:[p],description:d&&typeof d=="object"&&d.description,children:g}):g}),HG=$.div`
  border-radius: ${({theme:e})=>Ce(e.sanity.radius[2])};
  padding: ${({theme:e})=>Ce(e.sanity.space[1])};
`,Nj=$(N)`
  &:not([hidden]) {
    color: inherit;
  }
`;function Bbn(e){const{change:t,segment:n}=e;if(typeof n=="string")return u.jsx(L,{children:u.jsx(N,{title:n,size:1,weight:"medium",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:i,toIndex:a,annotation:o}=n,s=typeof i>"u",l=typeof a>"u";if(s)return u.jsx(Vbn,{annotation:o,change:t,toIndex:a});if(l)return u.jsx(zbn,{annotation:o,fromIndex:i});if(r&&typeof a<"u"&&typeof i<"u")return u.jsx(Ubn,{annotation:o,fromIndex:i,toIndex:a});const c=(a||0)+1;return u.jsx(L,{padding:1,children:u.jsxs(N,{size:1,weight:"medium",children:["#",c]})})}function Vbn(e){const{annotation:t,change:n,toIndex:r=0}=e,{t:i}=q(),a=r+1,o=i("changes.array.item-added-in-position",{position:a}),s=u.jsxs(u.Fragment,{children:["#",a]}),l=(n!=null&&n.diff?sk(n.diff,[]):void 0)||t;return l?u.jsx(ko,{annotation:l,tooltip:{description:o},as:HG,children:u.jsx(Nj,{size:1,weight:"medium",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):u.jsx(N,{size:1,weight:"medium",children:s})}function zbn(e){const{annotation:t,fromIndex:n=0}=e,{t:r}=q(),i=n+1,a=r("changes.array.item-removed-from-position",{position:i});return u.jsx(ko,{annotation:t||null,as:HG,tooltip:{description:a},children:u.jsxs(Nj,{size:1,weight:"medium",forwardedAs:"del",children:["#",i]})})}function Ubn(e){const{annotation:t,fromIndex:n,toIndex:r}=e,{t:i}=q(),a=r-n,o=a<0?"":"",s=Math.abs(a),l=a<0?"up":"down",c=i("changes.array.item-moved",{count:s,context:l});return u.jsxs(u.Fragment,{children:[u.jsx(L,{padding:1,children:u.jsxs(Nj,{size:1,weight:"medium",children:["#",r+1]})}),u.jsx(ko,{annotation:t,as:HG,tooltip:{description:c},children:u.jsxs(Nj,{size:1,weight:"medium",children:[o,Math.abs(a)]})})]})}function $Me(e){const{change:t,titlePath:n}=e;return u.jsx($V,{maxLength:4,separator:u.jsx(N,{muted:!0,size:1,children:u.jsx(io,{})}),children:n.map((r,i)=>typeof r=="string"||!t||t.showIndex?u.jsx(Bbn,{change:t,segment:r},i):null)})}function Hbn(e){return wt(e)&&typeof(e==null?void 0:e.then)=="function"}function Wbn(e,t,n){const{currentUser:r,document:i,parent:a,value:o}=n,s=f.useRef(!1);return f.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:i,parent:a,value:o,currentUser:r})}catch(c){return console.error(`An error occurred while running the callback from \`${t}\`: ${c.message}`),!1}return Hbn(l)&&!s.current?(console.warn(`The \`${t}\` option is either a promise or a promise returning function. Async callbacks for \`${t}\` option is not currently supported.`),!1):(typeof l>"u"&&console.warn(`The \`${t}\` option is or returned \`undefined\`. \`${t}\` should return a boolean.`),l)},[e,i,a,o,r,t])}const M6=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:i,value:a}=e,o=Wa(a),s=tr();return Wbn(t,n,{currentUser:s,document:r,parent:i,value:o})};function Gbn(e){return Gh(e)?e._type:qbn(e)}function Ybn(e,t){return e.action==="added"?{toType:zx(t,e.toValue)}:e.action==="changed"?{fromType:zx(t,e.fromValue),toType:zx(t,e.toValue)}:e.action==="removed"?{fromType:zx(t,e.fromValue)}:{toType:zx(t,e.toValue)}}function zx(e,t){const n=Gbn(t);return e.of.find(r=>r.name===n)||(e.of.length===1?e.of[0]:void 0)}function qbn(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const Ob=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],BR="",$b=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Kbn="",Lj=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Zbn="",PMe="";function Xbn(e){return e.of.some(NMe)}const Jbn=$b.map(e=>e[0]).concat(Ob.map(e=>e[0])),Qbn=$b.map(e=>e[1]).concat(Ob.map(e=>e[1])),FMe=Jbn.concat(Qbn).concat(Lj).concat(BR).concat(PMe),Sue=new RegExp(`${FMe.join("|")}`,"g"),exn=new RegExp(`${FMe.join("|")}|
`,"g");function NMe(e){return e.jsonType==="object"&&e.name==="block"}function txn(e){return Er(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Eue(e,t){return e.fields.children.items.filter(n=>n.diff.isChanged&&(n.diff.toValue===t||n.diff.fromValue===t)).map(n=>n.diff).map(n=>n)[0]}function R6(e,t){const n=e.find(r=>r.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(r=>r.name===t._type)||void 0}function WG(e){return e.decorators?fb(e.decorators,["value"],["asc"]):[]}function LMe(e,t){return WG(t).some(n=>n.value===e)}function kue(e,t,n,r,i){return t?t.children.map(a=>{var s,l;let o=vi(a)?(s=a.text)==null?void 0:s.replace(Sue,""):"";if(vi(a)){const c=(l=GG(e,a))==null?void 0:l.fields.text;c&&c.toValue===a.text&&c.type==="string"&&c.action!=="unchanged"&&(o=c.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Sue,"")).join(PMe)),a.marks&&a.marks.forEach(d=>{n[d]?o=`${n[d][0]}${o}${n[d][1]}`:r[d]&&(o=`${r[d][0]}${o}${r[d][1]}`)})}else o=i[a._key];return`${BR}${o}`}).join(""):""}function nxn(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const i={},a={},o={},s=R6(t.fields,{_key:"bogus",_type:"span"});s&&WG(s).forEach((p,m)=>{a[p.value]=$b[m]}),zMe(r.origin).forEach((p,m)=>{i[p._key]=Ob[m]}),BMe(r.origin).forEach((p,m)=>{o[p._key]=Lj[m]});const l=kue(r.origin,r.fromValue,a,i,o),c=kue(r.origin,r.toValue,a,i,o),d={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:c,marks:[]}]},h={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:l,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:d,fromValue:h,toValue:d,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:l,toValue:c,segments:rxn(l,c).map(p=>({...p,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:h.children[0],toValue:d.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:h.children,toValue:d.children}}}}throw new Error("Can not display this diff")}function rxn(e,t){const n=[],r=RM(yb(e,t));let i=0,a=0;for(const[o,s]of r)switch(o){case Ht:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,a+=s.length;break;case ar:n.push({type:"stringSegment",action:"removed",text:e.slice(i,i+s.length),annotation:null}),i+=s.length;break;case kr:n.push({type:"stringSegment",action:"added",text:t.slice(a,a+s.length),annotation:null}),a+=s.length;break}return pr(n.map(o=>{const s=[];if(o.text.length>1){const l=[...o.text.matchAll(exn)];let c=-1;l.forEach(d=>{const h=d.index||0;h>c&&(s.push({...o,text:o.text.slice(c+1,h)}),s.push({...o,text:d[0]})),d===l[l.length-1]&&s.push({...o,text:o.text.slice(Math.max(0,h+1))}),c=h}),l.length===0&&s.push(o)}else s.push(o);return s}))}function BMe(e){const t=[...e.toValue?e.toValue.children.filter(n=>n._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(n=>n._type!=="span"):[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),fb(t,["_key"],["asc"])}function GG(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function ixn(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function VMe(e){return e&&kt(Object.keys(e),["_key","_type"])||!1}function axn(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function zMe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),fb(t,["_key"],["asc"])}function is(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}function O6(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{messageKey:"changes.error.incorrect-type-message",value:e,expectedType:n,actualType:is(e)};if(oxn(t)&&sxn(e))for(const i of t.fields){const a=O6(e[i.name],i.type);if(a)return a}}}function oxn(e){return e.jsonType==="object"}function sxn(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function UMe(e){return e.type==="field"}const lxn=[];function uxn({checked:e,color:t}){return u.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:t==null?void 0:t.background,children:[u.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&u.jsx("path",{d:"M4.07996 8.5H12.92",stroke:t==null?void 0:t.text,strokeWidth:"2"}),e&&u.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:t==null?void 0:t.text,strokeWidth:"2"})]})}function cxn({checked:e,color:t}){return u.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?t==null?void 0:t.border:t==null?void 0:t.background}),typeof e>"u"&&u.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&u.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof e=="boolean"&&!e&&u.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const dxn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r}=e,{title:i,options:a}=t,o=(a==null?void 0:a.layout)==="checkbox"?uxn:cxn,s=pv(e,[]),{showFromValue:l}=Pb(),c=r!=null;return u.jsxs(z,{align:"center",children:[u.jsx(zo,{diff:e,children:u.jsxs(z,{align:"center",children:[l&&u.jsx(o,{checked:n,color:s}),c&&u.jsxs(u.Fragment,{children:[l&&u.jsx(L,{marginX:2,children:u.jsx(JG,{})}),u.jsx(o,{checked:r,color:s})]})]})}),c&&i&&u.jsx(L,{marginLeft:2,children:u.jsx(N,{size:1,weight:"medium",children:i})})]})},fxn=$.div`
  display: inline-block;
  word-wrap: break-word;
`,hxn=function({value:e,schemaType:t}){return u.jsx(L,{as:fxn,paddingX:2,paddingY:1,children:pxn(e,t)})};function pxn(e,t){const{options:n,name:r}=t,i=(n==null?void 0:n.dateFormat)||Vp,a=(n==null?void 0:n.timeFormat)||Jz;return cb(new Date(e),r==="date"?i:`${i} ${a}`)}const _ue=({diff:e,schemaType:t})=>u.jsx(gk,{align:"center",diff:e,layout:"grid",previewComponent:hxn,schemaType:t});function Pb(){const e=f.useContext(lhe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Tue(e){const[t,n]=f.useState(void 0),r=Xt(qt);return f.useEffect(()=>{if(!e)return;const i=r.observable.getDocument(e).subscribe(n);return()=>{i.unsubscribe()}},[r,e]),e?t:void 0}function mxn(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}function $6(e,t){return e<1e3?t(e,"byte"):e<1e3*1e3?t(e/1e3,"kilobyte"):e<1e3*1e3*1e3?t(e/(1e3*1e3),"megabyte"):e<1e3*1e3*1e3*1e3?t(e/(1e3*1e3*1e3),"gigabyte"):t(e/(1e3*1e3*1e3*1e3),"terabyte")}const gxn=$.div`
  ${({theme:e})=>`
    --size-diff-positive: ${e.sanity.color.solid.positive.enabled.bg};
    --size-diff-negative: ${e.sanity.color.solid.critical.enabled.bg};
  `}
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`,yxn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r,fields:i}=e,a=n==null?void 0:n.asset,o=r==null?void 0:r.asset,{t:s}=q(),l=Tue(a==null?void 0:a._ref),c=Tue(o==null?void 0:o._ref),d=eY({unitDisplay:"short",maximumFractionDigits:2}),h=Object.entries(i).filter(([S,E])=>E.isChanged&&S!=="_type").map(([S])=>S),p=h.includes("asset"),m=t.fields.filter(S=>S.name!=="asset"&&h.includes(S.name)).map(S=>S.name),g=mxn(l==null?void 0:l.size,c==null?void 0:c.size),y=(l==null?void 0:l.size)&&$6(l.size,d),v=(c==null?void 0:c.size)&&$6(c.size,d),b=f.useMemo(()=>({display:"block",flex:1}),[]),x=l&&u.jsx(ko,{as:"del",diff:e,path:"asset._ref",style:b,children:u.jsx(B6,{title:l.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Pu,children:u.jsx(N,{size:0,style:{color:"inherit"},children:y})})}),w=c&&u.jsx(ko,{as:"ins",diff:e,path:"asset._ref",style:b,children:u.jsx(B6,{title:c.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Pu,children:u.jsxs(z,{align:"center",children:[u.jsx(N,{size:0,style:{color:"inherit"},children:v}),g!==0&&u.jsx(ie,{radius:2,padding:1,as:gxn,marginLeft:2,children:u.jsxs(N,{size:0,"data-number":g>0?"positive":"negative",children:[g>0?"+":"-",g,"%"]})})]})})}),C=u.jsxs(u.Fragment,{children:[x&&!w&&u.jsx(zo,{diff:e,path:"asset._ref",description:s("changes.removed-label"),children:x}),x&&w&&u.jsx(zo,{diff:e,path:"asset._ref",children:u.jsx(QG,{from:x,layout:"grid",to:w})}),!x&&w&&u.jsx(zo,{diff:e,path:"asset._ref",description:s("changes.added-label"),children:w})]});return u.jsxs(u.Fragment,{children:[p&&C,m.length>0&&u.jsx(L,{marginTop:p?4:3,children:u.jsx(yk,{diff:e,schemaType:t,fields:m})})]})};function Aue(e,t){return`rgba(${(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(n=>parseInt(n,16)).concat(t).join(", ")})`}function vxn(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function bxn(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function xxn(e){const{crop:t,diff:n,hash:r,hotspot:i,width:a=100,height:o=100,...s}=e,{t:l}=q(),c=pv(n,"crop"),d=pv(n,"hotspot");return u.jsxs("svg",{...s,fill:"none",width:a,height:o,viewBox:`0 0 ${a} ${o}`,children:[u.jsx("defs",{children:t&&i&&u.jsxs("mask",{id:`mask-hotspot-${r}`,children:[u.jsx("rect",{x:0,y:0,width:a,height:o,fill:"#fff"}),u.jsx(jue,{hotspot:i,fill:"#000",offset:1,width:a,height:o,stroke:"#000",strokeWidth:3})]})}),t&&u.jsx(zo,{diff:n,path:"crop",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(wxn,{crop:t,fill:Aue(c.border,.25),mask:i?`url(#mask-hotspot-${r})`:void 0,stroke:c.border,strokeWidth:1,width:a,height:o})})}),i&&u.jsx(zo,{diff:n,path:"hotspot",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(jue,{hotspot:i,fill:Aue(d.border,.25),stroke:d.border,strokeWidth:1,width:a,height:o})})})]})}function wxn({crop:e,width:t,height:n,...r}){const i={x:e.left*t,y:e.top*n,width:(1-e.right-e.left)*t,height:(1-e.bottom-e.top)*n};return u.jsx("rect",{...r,...i,style:{vectorEffect:"non-scaling-stroke"}})}function jue({hotspot:e,offset:t=0,width:n,height:r,...i}){const a={cx:e.x*n,cy:e.y*r,rx:e.width/2*n+t,ry:e.height/2*r+t};return u.jsx("ellipse",{...i,...a,style:{vectorEffect:"non-scaling-stroke"}})}const Cxn=["originalFilename"],Iue=()=>{const{t:e}=q();return u.jsx(ie,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:u.jsx(z,{align:"center",justify:"center",height:"fill",children:u.jsx(N,{size:1,muted:!0,children:e("changes.image.no-image-placeholder")})})})},Sxn=$.div`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: ${rt.gray[100].hex};
  background-image: linear-gradient(45deg, ${rt.gray[50].hex} 25%, transparent 25%),
    linear-gradient(-45deg, ${rt.gray[50].hex} 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, ${rt.gray[50].hex} 75%),
    linear-gradient(-45deg, transparent 75%, ${rt.gray[50].hex} 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`,Exn=$.img`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`,kxn=$.div`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`;function WP(e){var C,S,E,k;const{id:t,action:n,diff:r,hotspot:i,crop:a,is:o}=e,{t:s}=q(),l=Xt(qt),[c,d]=f.useState(),{value:h}=Evn(t,Cxn),p=b1t(t),m=f.useMemo(()=>IE(l),[l]),g=h===null,y=h&&h.originalFilename,v=m.image(t).height(190).dpr(bxn()).fit("max"),b=((S=(C=r.fromValue)==null?void 0:C.asset)==null?void 0:S._ref)!==((k=(E=r.toValue)==null?void 0:E.asset)==null?void 0:k._ref);let x;n&&n!=="changed"&&(x=s(n==="added"?"changes.added-label":"changes.removed-label"));const w=n==="changed"?void 0:n;return u.jsxs(z,{direction:"column",height:"fill",flex:1,children:[u.jsx(L,{flex:1,padding:2,paddingBottom:0,children:u.jsxs(z,{as:Sxn,direction:"column","data-changed":o==="from"&&b?"":void 0,"data-error":c?"":void 0,children:[!g&&!c&&u.jsx(Exn,{src:v.toString()||"",alt:y,"data-action":w,onError:d,width:p.width,height:p.height}),(g||c)&&u.jsx(L,{paddingY:5,children:u.jsx(N,{size:1,muted:!0,align:"center",children:s(g?"changes.image.deleted":"changes.image.error-loading-image")})}),u.jsx(kxn,{children:u.jsx(xxn,{crop:a&&!n1t(a)?a:void 0,diff:r,hash:vxn(`${v.toString()||""}-${o}`),hotspot:i&&!r1t(i)?i:void 0,width:p.width,height:p.height})})]})}),u.jsx(B6,{title:y||s("changes.image.meta-info-fallback-title"),icon:Yl,markRemoved:b&&o==="from",children:x?u.jsx("div",{children:x}):u.jsxs("div",{children:[p.width,"  ",p.height]})})]})}const _xn=["crop","hotspot"],Txn=["asset",..._xn],GP={flex:1},Axn=({diff:e,schemaType:t})=>{var k,_;const{t:n}=q(),{showFromValue:r}=Pb(),{fromValue:i,toValue:a,fields:o,isChanged:s}=e,l=(k=i==null?void 0:i.asset)==null?void 0:k._ref,c=(_=a==null?void 0:a.asset)==null?void 0:_._ref,d=sk(e,["asset","_ref"]),h=Object.keys(o).filter(T=>o[T].isChanged&&T!=="_type"),p=t.fields.filter(T=>!Txn.includes(T.name)&&h.includes(T.name)).map(T=>T.name);let m="changed";!l&&c?m="added":!c&&l&&(m="removed");const g=h.includes("asset"),y=h.includes("crop"),v=h.includes("hotspot"),b=y||v,x=g||b,w=b&&!g,C=i&&l?u.jsx(ko,{annotation:d,style:GP,children:u.jsx(WP,{is:"from",id:l,diff:e,action:m,hotspot:w&&v?i.hotspot:void 0,crop:w&&y?i.crop:void 0})}):u.jsx(Iue,{}),S=a&&c?u.jsx(ko,{annotation:d,style:GP,children:u.jsx(WP,{is:"to",id:c,diff:e,hotspot:w&&v?a.hotspot:void 0,crop:w&&y?a.crop:void 0})}):u.jsx(Iue,{});if(!C&&!S)return u.jsx(ie,{padding:4,radius:2,tone:"transparent",children:u.jsx(N,{muted:!0,size:1,align:"center",children:n("changes.image.no-asset-set")})});if(!s)return c?u.jsx(ko,{annotation:d,style:GP,children:u.jsx(WP,{id:c,is:"to",diff:e})}):null;const E=u.jsx(QG,{align:"center",from:r?C:void 0,layout:"grid",to:S});return u.jsxs(u.Fragment,{children:[x&&(g?u.jsx(zo,{annotations:d?[d]:[],description:jxn(m,n),children:E}):E),p.length>0&&u.jsx(L,{marginTop:x?4:3,children:u.jsx(yk,{diff:e,schemaType:t,fields:p})})]})};function jxn(e,t){switch(e){case"changed":return t("changes.changed-label");case"added":return t("changes.added-label");case"removed":return t("changes.removed-label");default:return"Unknown change"}}const Ixn=$.div`
  display: inline-block;
  word-break: break-all;
`,Dxn=e=>{const{value:t}=e;return u.jsx(L,{as:Ixn,paddingX:2,paddingY:1,children:t})},Mxn=({diff:e,schemaType:t})=>u.jsx(gk,{diff:e,schemaType:t,previewComponent:Dxn,layout:"inline"}),Fb=$(L)`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`,HMe=$(N)`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`,YG=$(L)`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    ${Fb} [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`,WMe=$(L)`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`,P6=$.div`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover ${YG} {
    opacity: 1;
  }
`;function Rxn({children:e,diff:t,object:n,schemaType:r,path:i,...a}){const{t:o}=q();return r?t&&t.action!=="unchanged"?u.jsx(Oxn,{...a,diff:t,object:n,schemaType:r,path:i,children:e}):u.jsx(P6,{children:e}):u.jsx(P6,{...a,children:o("changes.portable-text.unknown-annotation-schema-type")})}function Oxn({diff:e,children:t,object:n,schemaType:r,path:i,...a}){const{onSetFocus:o}=f.useContext(Qg),{path:s}=f.useContext(of),l=f.useRef(null),{t:c}=q(),d=pv(e,[]),h=f.useMemo(()=>d?{background:d.background,color:d.text}:{},[d]),p=e.action==="removed",[m,g]=f.useState(!1),y=n&&VMe(n),v=f.useMemo(()=>[i[0]].concat(["markDefs",{_key:n._key}]),[n._key,i]),b=f.useMemo(()=>s.slice(0,s.findIndex(I=>En(I)&&I._key===n._key)),[s,n._key]),x=f.useMemo(()=>b.concat(i),[i,b]),w=f.useMemo(()=>b.concat(v),[v,b]),C=`field-${Zt(w)}`,S=$W(),E=f.useMemo(()=>S.filter(([I])=>I.startsWith(C)).length>0,[C,S]);f.useEffect(()=>{!m&&E&&(g(!0),o(w))},[E,w,o,m]);const k=f.useCallback(I=>{I.stopPropagation(),g(!0),p||(I.preventDefault(),o(x),setTimeout(()=>o(w),10))},[x,p,w,o]);xn(!E&&(()=>g(!1)),()=>[l.current]);const _=e.action!=="unchanged"&&e.annotation||null,T=f.useMemo(()=>_?[_]:[],[_]),j=f.useMemo(()=>({path:w}),[w]),A=u.jsx(of.Provider,{value:j,children:u.jsx(WMe,{padding:3,children:u.jsxs("div",{children:[y&&u.jsx(N,{muted:!0,size:1,weight:"medium",children:c("changes.portable-text.empty-object-annotation",{annotationType:r.title||r.name})}),!y&&u.jsx(yk,{diff:e,schemaType:r})]})})});return u.jsx(P6,{...a,onClick:k,style:h,"data-changed":"","data-removed":e.action==="removed"?"":void 0,children:u.jsx(_n,{content:A,open:m,ref:l,portal:!0,children:u.jsx(YG,{paddingLeft:1,children:u.jsx(zo,{annotations:T,description:c("changes.portable-text.annotation",{context:e.action}),children:u.jsxs(Fb,{style:{display:"inline-flex"},children:[u.jsx("span",{children:t}),u.jsx(z,{align:"center",paddingX:1,children:u.jsx(HMe,{size:0,children:u.jsx(Di,{})})})]})})})})})}const $xn=$.blockquote`
  margin: 0;
`;function Pxn({children:e}){return u.jsx("div",{children:u.jsx($xn,{children:e})})}const Fxn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},Nxn=$(Gi)`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`;function Lxn({style:e,children:t}){return u.jsx(Nxn,{size:Fxn[e],children:t})}const Bxn=$.div`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`;function Vxn({children:e}){return u.jsx(Bxn,{children:e})}const zxn=[];function Uxn(e){var p,m,g;const{diff:t,block:n,children:r}=e,i=pv(t,zxn),{path:a}=f.useContext(of),{onSetFocus:o}=f.useContext(Qg),{t:s}=q(),l=t.action==="removed";let c=r;const d=f.useCallback(y=>{y.stopPropagation(),l||o(a)},[a,l,o]);n.style==="blockquote"?c=u.jsx(Pxn,{children:c}):n.style&&txn(n)?c=u.jsx(Lxn,{style:n.style,children:c}):c=u.jsx(Vxn,{children:c});let h;if(t.origin.action==="changed"&&t.origin.fields.style&&t.origin.fields.style.action==="changed"&&t.origin.fields.style.annotation){h=(m=(p=t==null?void 0:t.origin)==null?void 0:p.fromValue)==null?void 0:m.style;const y=i?{background:i.background,color:i.text}:{};c=u.jsx(ie,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":t.action,"data-block-note":`changed_from_style_${h||"undefined"}`,children:u.jsxs(ne,{space:2,children:[u.jsx(zo,{annotations:[(g=t.origin.fields.style)==null?void 0:g.annotation],diff:t.origin.fields.style,children:u.jsx(N,{size:0,children:s("changes.portable-text.block-style-changed",{fromStyle:h,toStyle:n.style})})}),u.jsx(L,{style:y,children:c})]})})}return u.jsx("div",{onClick:d,"data-diff-block-action":t.action,"data-block-note":`changed_from_style_${h||"undefined"}`,children:c})}const Hxn=$.span`
  display: inline;
  ${({theme:e,decoration:t})=>{switch(t){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: ${e.sanity.fonts.code.family};
          background: ${e.sanity.color.muted.default.enabled.bg};
        `;default:return""}}}
`;function Wxn({mark:e,children:t}){return u.jsx(Hxn,{decoration:e,children:t})}const F6=$(ie)`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    ${Fb} {
      display: inline-flex;
    }
  }
`;function Gxn({diff:e,object:t,schemaType:n,...r}){const{t:i}=q();return n?e?u.jsx(Yxn,{...r,diff:e,object:t,schemaType:n}):u.jsx(F6,{children:u.jsx(Db,{schemaType:n,value:t,layout:"inline"})}):u.jsx(F6,{...r,border:!0,radius:1,children:i("changes.portable-text.unknown-inline-object-schema-type",{schemaType:t._type})})}function Yxn({diff:e,object:t,path:n,schemaType:r,...i}){const{path:a}=f.useContext(of),{onSetFocus:o}=f.useContext(Qg),{t:s}=q(),l=pv(e,[]),c=f.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,h]=f.useState(!1),p=t&&VMe(t),m=e.action==="removed",g=a.slice(0,a.findIndex(_=>En(_)&&_._key===t._key)).concat(n),y=`field-${Zt(g)}`,v=$W().filter(([_])=>_.startsWith(y)).length>0,b=a.slice(0,-1).concat(n).concat([bFe]);f.useEffect(()=>{v&&(h(!0),o(b))},[b,v,o]);const x=f.useCallback(_=>{if(_.stopPropagation(),h(!0),!m){o(b);return}_.preventDefault()},[b,m,o]),w=f.useCallback(()=>{h(!1)},[]),C=f.useMemo(()=>({path:g}),[g]),S=u.jsx(of.Provider,{value:C,children:u.jsx(qxn,{diff:e,emptyObject:p,onClose:w,schemaType:r})}),E=e.action!=="unchanged"&&e.annotation||null,k=E?[E]:[];return u.jsx(F6,{...i,onClick:x,style:c,"data-removed":e.action==="removed"?"":void 0,border:!0,radius:2,children:u.jsx(_n,{content:S,open:d,portal:!0,children:u.jsx(YG,{children:u.jsx(zo,{annotations:k,description:s("changes.portable-text.inline-object",{context:e.action}),children:u.jsxs(Fb,{children:[u.jsx(Db,{schemaType:r,value:t,layout:"inline"}),u.jsx(z,{align:"center",paddingX:1,children:u.jsx(HMe,{size:0,children:u.jsx(Di,{})})})]})})})})})}function qxn({diff:e,emptyObject:t,onClose:n,schemaType:r}){const{t:i}=q(),a=f.useRef(null);return xn(n,()=>[a.current]),u.jsxs(WMe,{ref:a,padding:3,children:[t&&u.jsx(N,{muted:!0,size:1,weight:"medium",children:i("changes.portable-text.empty-inline-object",{inlineObjectType:r.title||r.name})}),!t&&u.jsx(yk,{diff:e,schemaType:r})]})}function Kxn({diff:e,childDiff:t,children:n,path:r,segment:i,...a}){const o=e||t;return o&&o.action!=="unchanged"&&i.action!=="unchanged"?u.jsx(Zxn,{...a,childDiff:t,diff:e,segment:i,path:r,children:n}):u.jsx(Fb,{children:n})}function Zxn({diff:e,childDiff:t,children:n,path:r,segment:i,...a}){const{onSetFocus:o}=f.useContext(Qg),{path:s}=f.useContext(of),l=f.useMemo(()=>r.slice(-2,1)[0],[r]),{t:c}=q(),d=e&&e.action==="removed",h=s.slice(0,s.findIndex(v=>En(v)&&En(l)&&v._key===l._key)).concat(r),p=f.useCallback(v=>{v.stopPropagation(),d||(v.preventDefault(),o(h))},[h,d,o]),m=e&&e.segments.find(v=>v.text===i.text)||e||t,g=m&&m.action!=="unchanged"&&m.annotation||null,y=g&&i.action!=="unchanged"?u.jsx(ko,{annotation:g,as:i.action==="removed"?"del":"ins",tooltip:{description:c("changes.portable-text.text",{context:i.action})},children:n}):null;return u.jsx(Fb,{...a,onClick:p,"data-changed":"",children:u.jsx("span",{children:u.jsx(u.Fragment,{children:y||n})})})}const qG=$b.map(e=>e[0]),KG=$b.map(e=>e[1]),iT=Ob.map(e=>e[0]),N6=Ob.map(e=>e[1]),Xxn=qG.concat(iT),GMe=KG.concat(N6),Jxn=qG.concat(KG),Qxn=new RegExp(`${Jxn.concat(GMe).join("|")}`,"g");function ewn(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,{t:i}=q(),a=f.useMemo(()=>t.origin.toValue?BMe(t.origin):[],[t.origin]),o=f.useCallback(s=>{const l=R6(n.fields,s);let c=[];if(l){c=WG(l);const d=t.fields.children,h=d.items[0].diff&&d.items[0].diff.type==="object"&&d.items[0].diff.fields.text.type==="string"&&d.items[0].diff.fields.text.segments||[],p=[],m={};if(rwn(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const w=Eue(t.origin,r.children[0])||t.origin;if(w&&w.action!=="unchanged")return u.jsx(ko,{annotation:w.annotation,as:w.action==="removed"?"del":"ins",tooltip:{description:i("changes.portable-text.empty-text",{context:w.action})},children:u.jsx("span",{children:Kbn})},`empty-block-${r._key}`)}let g=-1,y=-1;const v=[];let b;const x=zMe(t.origin);return h.forEach(w=>{var T,j,A;y++;const C=Lj.includes(w.text),S=Xxn.includes(w.text),E=GMe.includes(w.text),k=w.text===BR,_=w.action==="removed";if(k)_||g++;else if(S||E){if(S&&iT.includes(w.text)){const I=x[iT.indexOf(w.text)];I&&v.push({mark:I._key,symbols:[w.text,N6[iT.indexOf(w.text)]],object:I})}E&&N6.includes(w.text)&&(b=v.pop())}else if(C){const I=Lj.findIndex(O=>O===w.text),M=(T=a[I])==null?void 0:T._key,D=a[I];if(M){const O=R6(n.fields,D),R=Eue(t.origin,D);p.push(u.jsx(Gxn,{object:D,path:[{_key:r._key},"children",{_key:D._key}],diff:R,schemaType:O},`inline-object-${D._key}`))}}else if(w.text){const I=()=>{var F;return(F=t.origin.fromValue)==null?void 0:F.children.find(P=>P.text&&P.text.match(axn(w.text)))},M=r.children[g]||I(),D=M&&GG(t.origin,M);if(!M)throw new Error("Could not find child");const O=(j=D==null?void 0:D.fields)!=null&&j.text?(A=D==null?void 0:D.fields)==null?void 0:A.text:void 0,R=u.jsx(Kxn,{diff:O,path:[{_key:r._key},"children",{_key:M._key}],childDiff:D,segment:w,children:twn({diff:t,child:M,decoratorTypes:c,seg:w,segIndex:y,spanSchemaType:l,t:i})},`text-${M._key}-${y}`);if(v.length>0&&v.forEach(F=>{m[F.mark]=m[F.mark]||[],m[F.mark].push(R)}),b){const F=`annotation-${b.object._key}`,P=p[p.length-1];if(P&&P.key!==F){const V=ixn(t.origin,b.mark),U=b&&l.annotations&&l.annotations.find(H=>b&&b.object&&H.name===b.object._type);p.push(u.jsx(Rxn,{object:b.object,diff:V,path:[{_key:r._key},"children",{_key:M._key}],schemaType:U,children:u.jsx(u.Fragment,{children:m[b.mark]})},F))}b=void 0}v.length===0&&p.push(R)}}),f.createElement("div",{key:r._key},...p)}throw new Error("'span' schemaType not found")},[r,t,a,n,i]);return u.jsx(Uxn,{block:t.displayValue,diff:t,children:u.jsx(u.Fragment,{children:(t.displayValue.children||[]).map(s=>o(s))})})}function twn({diff:e,child:t,decoratorTypes:n,seg:r,segIndex:i,spanSchemaType:a,t:o}){if(r.text===`
`)return u.jsx("br",{});let s=u.jsx("span",{children:r.text.replace(/ /g,Zbn)},`text-${i}`);const l=t&&GG(e.origin,t),c=vi(t)?t.marks||[]:[];return l&&(s=nwn({activeMarks:c,decoratorTypes:n,diff:e,children:s,seg:r,segIndex:i,spanDiff:l,spanSchemaType:a,t:o})),c&&c.length>0&&c.forEach(d=>{LMe(d,a)&&(s=u.jsx(Wxn,{mark:d,children:s},`decorator-${d}-${t._key}-${i}`))}),s}function nwn({activeMarks:e,decoratorTypes:t,diff:n,children:r,seg:i,segIndex:a,spanDiff:o,spanSchemaType:s,t:l}){var w;let c=u.jsx("span",{children:r},`text-segment-${a}`);const d=n.origin.fromValue&&n.fromValue&&n.fromValue.children[0].text||"",h=o&&o.action!=="unchanged"&&o.annotation||void 0,p=(w=o==null?void 0:o.fields)==null?void 0:w.marks,m=p&&p.action!=="unchanged"&&p.annotation||h;let g=[];const y=d.split(BR).filter(C=>!!C).join(""),v=y.slice(0,Math.max(0,y.indexOf(i.text)+i.text.length)),b=v.slice(0,Math.max(0,v.indexOf(i.text))),x=[];return[...b.matchAll(Qxn)].forEach(C=>{var k;const S=C[0],E=$b.concat(Ob).find(_=>_.indexOf(S)>-1);if(E){const _=S===E[0],T=((k=t[_?qG.indexOf(S):KG.indexOf(S)])==null?void 0:k.value)||S;b.lastIndexOf(S)>b.lastIndexOf(E[1])&&x.push(T)}}),g=Fen(e,Sa(x)),m&&g.length>0&&g.some(C=>LMe(C,s))&&(c=u.jsx(ko,{annotation:m,as:"ins",tooltip:{description:l("changes.portable-text.changed-formatting")},children:c},`diffcard-annotation-${a}-${g.join("-")}`)),c}function rwn(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const iwn=e=>{const{diff:t,schemaType:n}=e,r=f.useMemo(()=>nxn(t,n),[t,n]);return u.jsx("div",{"data-diff-action":t.action,children:u.jsx(ewn,{diff:r,schemaType:n})})},awn=$.div`
  word-wrap: break-word;
`,own=({value:e,schemaType:t})=>u.jsx(L,{as:awn,padding:2,children:u.jsx(Db,{schemaType:t,value:e,layout:"default"})}),swn=({diff:e,schemaType:t})=>u.jsx(gk,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:own,schemaType:t}),lwn=$.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`,uwn=e=>{const{value:t}=e;return u.jsx(L,{as:lwn,paddingX:2,paddingY:1,children:t})},cwn=$.div`
  white-space: pre-wrap;
  word-wrap: break-word;
`,dwn=({diff:e,schemaType:t})=>{const{options:n}=t;return n!=null&&n.list?u.jsx(gk,{diff:e,previewComponent:uwn,schemaType:t}):u.jsx(cwn,{children:u.jsx(Ywn,{diff:e})})},Due={block:iwn,boolean:{component:dxn,showHeader:!1},date:_ue,datetime:_ue,file:yxn,image:Axn,number:Mxn,reference:swn,string:dwn};function YMe(e,t){var i;let n=e;for(;n;){const a=((i=n==null?void 0:n.components)==null?void 0:i.diff)||fwn(n,t)||Due[n.name];if(a)return a;n=n.type}const r=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Due[r]}function fwn(e,t){const n=lxn;let r;for(const i of n){if(typeof i!="function"){console.error("Diff component resolver is not a function: ",i);continue}if(r=i({schemaType:e,parentSchemaType:t}),r)return r}}function ZG(e,t,n=[],r=[],i={}){if(!YMe(e,i.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return qMe(e,t,n,r,i);if(e.jsonType==="array"&&t.type==="array")return mwn(e,t,n,r)}return KMe(e,t,n,r,i)}function qMe(e,t,n=[],r=[],i={}){const a=[],o={...i,parentSchema:e},s=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of s)l.single?a.push(...hwn(l.field,t,n,r,o)):a.push(...pwn(l,t,n,r,o));return a.length<2?a:[{type:"group",key:er(n)||"root",path:n,titlePath:r,changes:XG(a,r.length),schemaType:e}]}function hwn(e,t,n,r,i={}){const{fieldFilter:a,...o}=i,s=t.fields[e.name];if(!s||!s.isChanged||a&&!a.includes(e.name))return[];const l=n.concat([e.name]),c=r.concat([e.type.title||e.name]);return ZG(e.type,s,l,c,o)}function pwn(e,t,n,r,i={}){const{fields:a,name:o,title:s,readOnly:l,hidden:c}=e,{fieldFilter:d,...h}=i,p=c,m=l,g=r.concat([s||o]),y=[];for(const v of a){const b=t.fields[v.name];if(!b||!b.isChanged||d&&!d.includes(v.name))continue;const x=n.concat([v.name]),w=g.concat([v.type.title||v.name]);y.push(...ZG({readOnly:m,hidden:p,...v.type},b,x,w,h))}return y.length<2?y:[{type:"group",key:er(n)||"root",fieldsetName:o,path:n,titlePath:g,changes:XG(y,g.length),readOnly:m,hidden:p}]}function mwn(e,t,n=[],r=[]){const i=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(i.length===0)return[];const a=Xbn(e),o=[],s=i.reduce((l,c)=>{const d=Ybn(c.diff,e),h=d.toType||d.fromType;if(!h)return console.warn("Could not determine schema type for item at %s",er(n)),l;const p=c6(c.diff.fromValue)||c6(c.diff.toValue)||t.items.indexOf(c),m=n.concat(p),g={itemDiff:c,parentDiff:t,parentSchema:e},y=r.concat({hasMoved:c.hasMoved,toIndex:c.toIndex,fromIndex:c.fromIndex,annotation:c.diff.action==="unchanged"?c.annotation:c.diff.annotation}),v=x=>(x.type==="field"&&gje(m,x.path)&&(x.itemDiff=c),x),b=ZG(h,c.diff,m,y,g).map(v);return a&&b.filter(UMe).forEach((x,w,C)=>{x.showHeader=C.length===1,x.showIndex=c.fromIndex!==c.toIndex&&c.hasMoved}),b.length===0?l.push(...KMe(h,c.diff,m,y,g)):l.push(...b),l},o);return s.length>1?[{type:"group",key:er(n)||"root",path:n,titlePath:r,changes:XG(s,r.length),schemaType:e}]:s}function KMe(e,t,n,r,{itemDiff:i,parentDiff:a,parentSchema:o}={}){const{fromValue:s,toValue:l,type:c}=t;if(c==="array"&&Mue(s)&&Mue(l))return[];let d;typeof s<"u"&&(d=O6(s,e)),!d&&typeof l<"u"&&(d=O6(l,e));let h=!0,p;const m=YMe(e,o);return m&&typeof m=="function"?p=m:m&&(p=m.component,h=typeof m.showHeader>"u"?h:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:i,parentDiff:a,titlePath:r,schemaType:e,showHeader:h,showIndex:!0,key:er(n)||"root",diffComponent:d?void 0:p,parentSchema:o}]}function XG(e,t=1){return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function Mue(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const Rue=e=>e.type==="field"&&e.diff.action==="added",ZMe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...ZMe(n))}),t},XMe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},gwn=(e,t)=>{const n=e[t],r=yje(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},ywn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function VR(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const i=ZMe(e),a=i.filter(Rue);i.filter(o=>!Rue(o)).forEach(o=>VR(o,t,n)),r.push(...Oue(t,a.map(o=>o.path).reverse()))}else e.diff.action==="added"?r.push(...Oue(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...bwn(e.itemDiff,e.parentDiff,e.path)):r.push(...xwn(e.diff,t,e.path));n.patch.execute(r)}function vwn(e,t,n){const r=e.toValue;return JMe(r,t,n)}function Oue(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>XMe(t[r],i))||n.push(vwn(e,t[r],t));return[{unset:[...new Set(n.map(er))]}]}function JMe(e,t,n=[],r){if(t.length<=0)throw new Error("Root has no ancestor");const i=t.slice(0,-1),a=sa(e,i),o=[i,...n.filter(s=>!XMe(s,i))];return QMe(a,i,n)?JMe(e,i,o):t}function bwn(e,t,n){const r=n.slice(0,-1),{parentValue:i,fromIndex:a,fromValue:o}=Swn(t,e);let s;if(a===0)s={before:er([...r,0])};else{const l=a-1,c=c6(i[l])||l;s={after:er([...r,c])}}return[{unset:[er(n)]},{insert:{...s,items:[o]}}]}function xwn(e,t,n){const r=lR(e.toValue,e.fromValue,ywn,n),i=r.filter(d=>d.op==="insert").map(({after:d,items:h})=>({insert:{after:er(d),items:h}})),a=r.filter(d=>d.op==="unset").reduce((d,h)=>d.concat(er(h.path)),[]),o=new Set,s=[];let l=!1;const c=r.filter(d=>d.op==="set").reduce((d,h)=>(l=!0,s.push(...wwn(h.path,t,o)),d[er(h.path)]=h.value,d),{});return[...s,...i,...a.length>0?[{unset:a}]:[],...l?[{set:c}]:[]]}function wwn(e,t,n){const r=t.fromValue,i=t.toValue,a=[];for(let o=1;o<=e.length;o++){const s=e.slice(0,o),l=er(s);if(n.has(l))continue;const c=e[o],d=En(c)||Ya(c),h=sa(r,s),p=$ue(h);if(d&&Array.isArray(h)&&!sa(i,e.slice(0,o+1))){const m=Wnn(h,c),g=h[m-1],y=sa(r,s.concat(c)),v=$u(g)?{_key:g._key}:m-1,b=er(s.concat(m<1?0:v));a.push({setIfMissing:{[l]:[]}}),a.push({insert:{after:b,items:[$ue(y)]}}),o++;continue}typeof p>"u"||(n.add(l),a.push({setIfMissing:{[l]:p}}))}return a}function Cwn(e,t,n){if(!wt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const i=[...t,gwn(e,r)];if(!QMe(e[r],i,n))return!1}return!0}function QMe(e,t,n){const r=n==null?void 0:n.some(a=>er(a)===er(t)),i=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||i||Xnn(e)||Cwn(e,t,n)}function $ue(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return $u(e)&&(t._key=e._key),Gh(e)&&(t._type=e._type),t}function Swn(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error(`Failed to find item at index ${t.fromIndex}`)}const Ewn=$.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`;class kwn extends f.Component{constructor(){super(...arguments);Y(this,"state",{})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n){console.error("Error rendering diff component: "),console.error(n)}render(){const{t:n}=this.props,{error:r}=this.state;return r?u.jsx(ie,{padding:3,radius:2,tone:"critical",children:u.jsxs(z,{children:[u.jsx(N,{size:1,children:u.jsx(Ta,{})}),u.jsxs(L,{paddingLeft:3,children:[u.jsx(N,{as:"h3",size:1,weight:"medium",children:n("changes.error-boundary.title")}),cl]})]})}):this.props.children}}const _wn={down:r9,right:i9};function JG(e){const{direction:t="right",...n}=e,r=_wn[t];return u.jsx(N,{muted:!0,size:1,...n,children:f.createElement(r)})}const YP=$.pre`
  overflow-x: auto;
  position: relative;
`,Twn=$.div`
  position: absolute;
  top: 0;
  right: 0;
`;function Awn(e){const{children:t,as:n,change:r,...i}=e,a=f.useRef(!1),[o,s]=f.useState(!1),l=f.useCallback(()=>s(h=>!h),[s]),c=f.useCallback(()=>a.current=!0,[]),d=f.useCallback(()=>a.current=!1,[a]);return f.useEffect(()=>{function h(p){const{metaKey:m,key:g}=p;m&&g==="i"&&a.current&&l()}return window.addEventListener("keydown",h,!1),()=>window.removeEventListener("keydown",h,!1)},[l]),u.jsx(L,{as:n,onMouseEnter:c,onMouseLeave:d,...i,children:o?u.jsx(jwn,{change:r}):t})}const qP=({title:e})=>u.jsx(L,{padding:3,display:"inline-block",as:Twn,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:e})});function jwn({change:e}){var n,r,i;const{t}=q();return u.jsxs(ne,{space:3,children:[u.jsxs(ie,{padding:3,tone:"transparent",as:YP,radius:1,children:[u.jsx(qP,{title:t("changes.inspector.meta-label")}),u.jsx(mi,{language:"json",size:1,children:Iwn({path:er(e.path),fromIndex:(n=e.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=e.itemDiff)==null?void 0:r.toIndex,hasMoved:(i=e.itemDiff)==null?void 0:i.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),u.jsxs(ie,{as:YP,tone:"critical",padding:3,radius:1,children:[u.jsx(qP,{title:t("changes.inspector.from-label")}),u.jsx(mi,{language:"json",size:1,children:Pue(e.diff.fromValue)})]}),u.jsx(ie,{children:u.jsx(JG,{direction:"down",align:"center"})}),u.jsxs(ie,{as:YP,tone:"positive",padding:3,radius:1,children:[u.jsx(qP,{title:t("changes.inspector.to-label")}),u.jsx(mi,{language:"json",size:1,children:Pue(e.diff.toValue)})]})]})}function Pue(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function Iwn(e){const t=[];return Object.entries(e).forEach(([n,r])=>{typeof r<"u"&&r!==null&&t.push(`${n}: ${r}`)}),t.join(`
`)}function Dwn(e){const{t}=q(),n=Fue(e.fromValue),r=Fue(e.toValue);return t(!n&&r?"changes.added-label":!r&&n?"changes.removed-label":"changes.changed-label")}function Fue(e){return e!==null&&typeof e<"u"&&e!==""}const Mwn={flexShrink:0},Rwn={alignItems:"stretch"},Nue={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},QG=f.forwardRef(function(e,t){const{align:n="top",layout:r="inline",from:i,to:a,style:o,...s}=e,l=zv(),c=r==="inline"?z:Gn,d=f.useMemo(()=>({...o,...r==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:`minmax(0, 1fr) ${Ce(l.sanity.space[5])} minmax(0, 1fr)`}}),[r,o,l]),h=r==="inline"?Mwn:Rwn;return u.jsxs(c,{...s,ref:t,style:d,"data-from-to-layout":!0,children:[i&&u.jsxs(u.Fragment,{children:[u.jsx(z,{align:Nue[n],style:h,children:i}),u.jsx(z,{align:"center",justify:"center",padding:2,children:u.jsx(JG,{})})]}),u.jsx(z,{align:Nue[n],style:h,children:a})]})}),KP={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function gk(e){const{align:t,cardClassName:n,diff:r,layout:i,path:a,previewComponent:o,schemaType:s}=e,{action:l}=r,c=Dwn(r);if(l==="unchanged")return u.jsx(ko,{className:n,style:KP,children:f.createElement(o,{schemaType:s,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&u.jsx(ko,{as:"del",className:n,diff:r,path:a,style:KP,children:f.createElement(o,{schemaType:s,value:r.fromValue})}),h=r.toValue!==void 0&&r.toValue!==null&&u.jsx(ko,{as:"ins",className:n,diff:r,path:a,style:KP,children:f.createElement(o,{schemaType:s,value:r.toValue})});return d&&!h?u.jsx(zo,{description:c,diff:r,path:a,children:d}):!d&&h?u.jsx(zo,{description:c,diff:r,path:a,children:h}):u.jsx(zo,{description:c,diff:r,path:a,children:u.jsx(QG,{align:t,from:d,layout:i,to:h})})}const Own=({value:e,schemaType:t})=>u.jsx(L,{padding:2,children:u.jsx(Db,{schemaType:t,value:e,layout:"default"})}),$wn=e=>{const{diff:t,schemaType:n}=e;return u.jsx(gk,{diff:t,schemaType:n,previewComponent:Own,layout:"grid"})},Pwn=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`,Fwn=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Ce(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Ce(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`,Nwn=$(he)`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`,eRe=f.forwardRef(function(e,t){const{selected:n,changeCount:r,...i}=e,{t:a}=q();return u.jsx(Nwn,{icon:UI,selected:n,text:a("changes.action.revert-changes-confirm-change",{count:r}),mode:"bleed",ref:t,tooltipProps:null,...i})});function Lwn({error:e}){const{t}=q();return u.jsx(ie,{tone:"critical",padding:3,children:u.jsxs(z,{align:"flex-start",children:[u.jsx(L,{children:u.jsx(N,{children:u.jsx(Ta,{})})}),u.jsx(L,{flex:1,paddingLeft:3,children:u.jsx(N,{size:1,as:"p",children:t(e.messageKey,{expectedType:e.expectedType,actualType:e.actualType})})})]})})}function Bwn(e){var j;const{change:t,hidden:n,readOnly:r}=e,i=t.diffComponent||$wn,{documentId:a,schemaType:o,rootDiff:s,isComparingCurrent:l,FieldWrapper:c=f.Fragment}=Pb(),d=fu(a,o.name),[h,p]=f.useState(!1),[m,g]=f.useState(!1),y=f.useRef(null),{t:v}=q(),[b,x]=ld({id:a,type:o.name,permission:"update"}),w=f.useCallback(()=>{VR(t,s,d)},[t,s,d]),C=f.useCallback(()=>{p(!0)},[]),S=f.useCallback(()=>{p(!1)},[]),E=f.useCallback(()=>{g(!0)},[]),k=f.useCallback(()=>{g(!1)},[]);xn(()=>p(!1),()=>[y.current]);const _=((j=t.parentSchema)==null?void 0:j.jsonType)==="array"?t.path.slice(0,-1):t.path,T=f.useMemo(()=>({path:t.path}),[t.path]);return f.useMemo(()=>n?null:u.jsxs(ne,{space:1,as:Pwn,children:[t.showHeader&&u.jsx($Me,{change:t,titlePath:t.titlePath}),u.jsx(c,{path:_,hasHover:m,children:u.jsxs(Awn,{change:t,as:Fwn,"data-revert-field-hover":m?"":void 0,"data-error":t.error?"":void 0,"data-revert-all-hover":!0,"data-ui":"field-diff-inspect-wrapper",children:[t.error?u.jsx(Lwn,{error:t.error}):u.jsx(kwn,{t:v,children:u.jsx(of.Provider,{value:T,children:u.jsx(i,{diff:t.diff,schemaType:t.schemaType})})}),l&&!x&&(b==null?void 0:b.granted)&&u.jsx(_n,{content:u.jsxs(ne,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:v("changes.action.revert-changes-description",{count:1})})}),u.jsxs(z,{gap:3,justify:"flex-end",children:[u.jsx(he,{mode:"ghost",onClick:S,text:v("changes.action.revert-all-cancel")}),u.jsx(he,{tone:"critical",onClick:w,text:v("changes.action.revert-changes-confirm-change",{count:1})})]})]}),open:h,padding:3,portal:!0,placement:"left",ref:y,children:u.jsx(eRe,{changeCount:1,onClick:C,onMouseEnter:E,onMouseLeave:k,selected:h,disabled:r,"data-testid":`single-change-revert-button-${t==null?void 0:t.key}`})})]})})]}),[n,t,c,_,m,v,T,i,l,x,b==null?void 0:b.granted,S,w,h,C,E,k,r])}function Vwn(){const e=f.useRef(null),[t,n]=f.useState(!1);return f.useEffect(()=>{const r=e.current;if(!r)return()=>{};const i=()=>n(!0),a=()=>n(!1);return r.addEventListener("mouseover",i),r.addEventListener("mouseout",a),()=>{r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",a)}},[]),[e,t]}const zwn=$.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`,Uwn=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Ce(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Ce(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`;function Hwn(e){const{change:t,readOnly:n,hidden:r,...i}=e,{titlePath:a,changes:o,path:s}=t,{path:l}=f.useContext(of),{documentId:c,schemaType:d,FieldWrapper:h,rootDiff:p,isComparingCurrent:m}=Pb(),{t:g}=q(),y=o.every(M=>UMe(M)&&NMe(M.schemaType)),v=gje(l,s),[b,x]=Vwn(),w=fu(c,d.name),[C,S]=f.useState(!1),E=f.useRef(null),[k,_]=ld({id:c,type:d.name,permission:"update"}),T=f.useCallback(()=>VR(t,p,w),[t,p,w]),j=f.useCallback(()=>{S(!0)},[]),A=f.useCallback(()=>{S(!1)},[]);xn(()=>S(!1),()=>[E.current]);const I=f.useMemo(()=>r?null:u.jsxs(ne,{space:1,as:Uwn,"data-ui":"group-change-content","data-revert-group-hover":x?"":void 0,"data-portable-text":y?"":void 0,children:[u.jsx(ne,{as:zwn,space:5,"data-ui":"group-change-list",children:o.map(M=>u.jsx(tRe,{change:M,readOnly:n,hidden:r},M.key))}),m&&!_&&(k==null?void 0:k.granted)&&u.jsx(_n,{content:u.jsxs(ne,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:g("changes.action.revert-changes-description",{count:o.length})})}),u.jsxs(z,{gap:3,justify:"flex-end",children:[u.jsx(he,{mode:"ghost",onClick:A,text:g("changes.action.revert-all-cancel")}),u.jsx(he,{tone:"critical",onClick:T,text:g("changes.action.revert-changes-confirm-change",{count:1})})]})]}),padding:3,portal:!0,placement:"left",open:C,ref:E,children:u.jsx(L,{children:u.jsx(eRe,{changeCount:o.length,onClick:j,ref:b,selected:C,disabled:n,"data-testid":`group-change-revert-button-${t.fieldsetName}`})})})]}),[o,A,C,t.fieldsetName,T,j,r,m,_,y,x,k==null?void 0:k.granted,n,b,g]);return r?null:u.jsxs(ne,{space:1,...i,children:[u.jsx($Me,{titlePath:a}),v||!h?I:u.jsx(h,{hasHover:x,path:t.path,children:I})]})}function tRe(e){var s,l;const{change:t,hidden:n,readOnly:r}=e,{value:i}=Pb(),a=M6({document:i,checkProperty:n||((s=t.schemaType)==null?void 0:s.hidden),checkPropertyKey:"hidden",value:t.type==="field"?t.diff.toValue:void 0}),o=M6({document:i,checkProperty:r||((l=t.schemaType)==null?void 0:l.readOnly),checkPropertyKey:"readOnly",value:t.type==="field"?t.diff.toValue:void 0});return a?null:t.type==="field"?u.jsx(Bwn,{change:t,readOnly:o}):t.type==="group"?u.jsx(Hwn,{change:t,"data-testid":`group-change-${t.fieldsetName}`,readOnly:o}):u.jsxs(N,{children:["Unknown change type: ",u.jsx("code",{children:t.type||"undefined"})]})}function L6(){const{t:e}=q();return u.jsxs(ne,{space:3,children:[u.jsx(N,{size:1,weight:"medium",as:"h3",children:e("changes.no-changes-title")}),u.jsx(N,{as:"p",size:1,muted:!0,children:e("changes.no-changes-description")})]})}function yk({diff:e,fields:t,schemaType:n}){const{documentId:r,isComparingCurrent:i,value:a}=Pb(),o=fu(r,n.name),{path:s}=f.useContext(of),l=s.length===0,[c,d]=f.useState(!1),[h,p]=f.useState(!1),{t:m}=q(),g=M6({document:a,value:void 0,checkProperty:n.readOnly,checkPropertyKey:"readOnly"});if(n.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[y,v]=ld({id:r,type:n.name,permission:"update"}),b=f.useMemo(()=>qMe(n,e,s,[],{fieldFilter:t}),[n,t,s,e]),x=f.useMemo(()=>t&&t.length===0?[]:Wwn(b),[b,t]),w=b[0],C=f.useCallback(()=>{VR(w,e,o),d(!1)},[w,e,o]),S=f.useCallback(()=>{d(!0)},[]),E=f.useCallback(()=>{p(!0)},[]),k=f.useCallback(()=>{p(!1)},[]),_=f.useCallback(()=>{d(!1)},[]),T=f.useRef(null);if(xn(()=>d(!1),()=>[T.current]),x.length===0)return l?u.jsx(L6,{}):null;const j=l&&x.length>1;return u.jsx(ie,{children:u.jsxs(ne,{space:5,children:[u.jsx(ne,{as:Ewn,space:5,children:x.map(A=>u.jsx("div",{children:u.jsx(tRe,{change:A,"data-revert-all-changes-hover":h?"":void 0,readOnly:g||(A==null?void 0:A.readOnly),hidden:A==null?void 0:A.hidden},A.key)},A.key))}),j&&i&&!v&&(y==null?void 0:y.granted)&&u.jsx(_n,{content:u.jsxs(ne,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:m("changes.action.revert-all-description",{count:x.length})})}),u.jsxs(z,{gap:3,justify:"flex-end",children:[u.jsx(he,{mode:"ghost",text:m("changes.action.revert-all-cancel"),onClick:_}),u.jsx(he,{tone:"critical",text:m("changes.action.revert-all-confirm"),onClick:C})]})]}),open:c,padding:3,placement:"left",portal:!0,ref:T,children:u.jsx(ne,{children:u.jsx(he,{tone:"critical",mode:"ghost",text:m("changes.action.revert-all-confirm"),icon:UI,onClick:S,onMouseEnter:E,onMouseLeave:k,disabled:g,size:"large"})})})]})})}function Wwn(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}const Lue=$.span`
  border-radius: ${({theme:e})=>Ce(e.sanity.radius[1])};
`,Bue=$(N)`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`;function Gwn(e){const{segment:t}=e,{text:n}=t,{t:r}=q();return t.action==="added"?u.jsx(ko,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:r("changes.added-label")},as:Lue,children:u.jsx(Bue,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?u.jsx(ko,{annotation:t.annotation,as:Lue,disableHoverEffect:!0,tooltip:{description:r("changes.removed-label")},children:u.jsx(Bue,{as:"del",children:n})}):u.jsx(ie,{as:"span",radius:2,style:{display:"inline"},children:n})}function Ywn(e){const{diff:t}=e;return u.jsx(u.Fragment,{children:(t.segments||[]).map((n,r)=>u.jsx(Gwn,{segment:n},r))})}const ZP=$(N)`
  color: inherit;
`;function B6(e){const{title:t,action:n,icon:r,children:i,markRemoved:a}=e;return u.jsxs(z,{padding:2,align:"center",children:[r&&u.jsx(L,{padding:2,children:u.jsx(ZP,{size:4,forwardedAs:a?"del":"div",children:f.createElement(r)})}),u.jsxs(ne,{space:2,paddingLeft:2,children:[u.jsx(ZP,{size:1,weight:"medium",forwardedAs:a?"del":"h3",textOverflow:"ellipsis",children:t}),n&&u.jsx("div",{children:n}),u.jsx(ZP,{size:0,textOverflow:"ellipsis",children:i})]})]})}$.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`;function nRe(e){const t=f.useRef(e.value);t.current=e.value;const n=f.useCallback(r=>sa(t.current,r),[t]);return u.jsx(yhe.Provider,{value:n,children:e.children})}function vk(){const e=f.useContext(yhe);if(!e)throw new Error("useGetFormValue must be used within a GetFormValueProvider");return e}const qwn={name:"copyField",useAction({path:e}){const t=vk(),{onCopy:n}=Ub(),{t:r}=q("copy-paste"),i=e.length===0,a=r("copy-paste.field-action-copy-button.document.title"),o=r("copy-paste.field-action-copy-button.field.title"),s=i?a:o,l=f.useCallback(()=>{const c=t([]);n(e,c,{context:{source:i?"documentFieldAction":"fieldAction"}})},[e,i,n,t]);return{type:"action",icon:Gl,onAction:l,title:s}}},Kwn={name:"pasteField",useAction({path:e}){const{t}=q("copy-paste"),n=vk(),r=e.length===0,i=t("copy-paste.field-action-paste-button.document.title"),a=t("copy-paste.field-action-paste-button.field.title"),o=r?i:a,{onPaste:s}=Ub(),l=f.useCallback(()=>{const c=n([]);s(e,c,{context:{source:r?"documentFieldAction":"fieldAction"}})},[n,s,e,r]);return{type:"action",icon:u9,onAction:l,title:o}}},Zwn=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_fieldActions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_fieldActions\` to be an array or a function, but received ${typeof r}`)},Xwn=[qwn,Kwn];function Jwn(e){const t=_r();return f.useEffect(()=>{console.error(`Scheduled publishing plugin is added by default, please remove this plugin from your config. 
        
If you have a custom date config, you can use the scheduledPublishing API to customize the date input.
        
See: https://www.sanity.io/docs/scheduled-publishing.
        `),t.push({id:"scheduled-publishing-deprecated",closable:!0,duration:6e4,status:"error",title:"Scheduled publishing plugin is deprecated",description:"The scheduled publishing plugin is now deprecated, you should remove the plugin from your configuration. If you have a custom date config, you can use the scheduledPublishing API to customize the date input. See: https://www.sanity.io/docs/scheduled-publishing."})},[t]),e.renderDefault(e)}const Qwn=Eb({name:"sanity/deprecated/scheduled-publishing",studio:{components:{layout:Jwn}}}),eCn=["scheduled-publishing"],Nb=({plugins:e=[],...t},n)=>{const r={config:t,path:[...n,t.name]},i=e.flatMap(o=>Nb(o,[...n,t.name])),a=i.find(o=>o.config.name==="scheduled-publishing");return a&&i.push({path:a.path,config:Qwn()}),[...i.filter(o=>!eCn.includes(o.config.name)),r]},Vue={referringDocuments:[],isLoading:!0};function rRe(e){const t=dl(),n=f.useMemo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(fe(r=>({referringDocuments:r,isLoading:!1})),Wi(Vue)),[t,e]);return ti(n,Vue)}const iRe=({asset:e,assetType:t,referringDocuments:n})=>{const{t:r}=q(),i=n.length;return u.jsxs(u.Fragment,{children:[u.jsx(ie,{borderBottom:i>0,marginTop:2,paddingBottom:2,marginBottom:1,children:u.jsx(N,{size:1,as:"h2",weight:"medium",children:u.jsx(gt,{t:r,i18nKey:`asset-source.usage-list.documents-using-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename,count:i}})})}),n.map(a=>u.jsx(tCn,{document:a},a._id))]})},tCn=({document:e})=>{const t=tn(),n=f.useCallback(r=>u.jsx(su,{...r,params:{id:e._id,type:e._type},intent:"edit"}),[e]);return u.jsx(ie,{as:n,radius:2,"data-as":"a",tabIndex:0,children:u.jsx(z,{align:"center",gap:2,children:u.jsx(Db,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:t.get(e._type)})})},e._id)},zue={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Uue={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Hue={height:"100%"},nCn=({asset:e,assetType:t,hasResults:n=!1})=>{const r=t==="image",{t:i}=q();return n?u.jsx(ie,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:u.jsxs(Gn,{columns:3,gap:[2,3,4],children:[u.jsxs(z,{gap:[3,4],align:"center",style:{gridColumn:r?"span 2":"span 3"},children:[u.jsx(N,{children:u.jsx(gr,{})}),u.jsx(N,{size:1,children:i(`asset-source.delete-dialog.usage-list.warning-${t}-is-in-use`,{context:e.originalFilename?"named":"unnamed",filename:e.originalFilename})})]}),r&&u.jsx(ie,{__unstable_checkered:!0,border:!0,radius:1,style:Uue,children:u.jsx(z,{align:"center",justify:"center",style:Hue,children:u.jsx("img",{src:`${e.url}?w=200`,style:zue,alt:i("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):u.jsx(ie,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:u.jsxs(Gn,{columns:3,gap:3,children:[u.jsx(z,{style:{gridColumn:r?"span 2":"span 3"},align:"center",children:u.jsx(N,{children:u.jsx(gt,{t:i,i18nKey:`asset-source.delete-dialog.usage-list.confirm-delete-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename}})})}),r&&u.jsx(ie,{__unstable_checkered:!0,border:!0,radius:1,style:Uue,children:u.jsx(z,{align:"center",justify:"center",style:Hue,children:u.jsx("img",{src:`${e.url}?w=200`,style:zue,alt:i("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})})};function aRe({asset:e,assetType:t,isDeleting:n=!1,onClose:r,onDelete:i}){const{isLoading:a,referringDocuments:o}=rRe(e._id),s=f.useMemo(()=>{const d=o.reduce((h,p)=>p._id.startsWith("drafts.")?h.concat(p._id.slice(7)):h,[]);return o.filter(h=>!d.includes(h._id))},[o]),l=s.length>0,{t:c}=q();return u.jsx(Ri,{__unstable_autoFocus:a,footer:{cancelButton:{onClick:r,text:c("asset-source.delete-dialog.action.cancel")},confirmButton:{disabled:l,icon:Jr,loading:n,onClick:i,text:c("asset-source.delete-dialog.action.delete")}},header:c("asset-source.delete-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:r,onClose:r,width:1,children:a?u.jsx(L,{padding:4,children:u.jsx(bn,{showText:!0})}):u.jsxs(ne,{paddingX:l?[2,3,4]:0,paddingY:l?[3,3,3,4]:0,space:1,children:[u.jsx(nCn,{asset:e,assetType:t,hasResults:l}),l&&u.jsx(iRe,{asset:e,referringDocuments:s,assetType:t})]})})}const rCn={portal:!0,placement:"right"};function oRe({isSelected:e,border:t=!0,onAction:n}){const r=e?"default":"bleed",i=e?"primary":"default",{t:a}=q();return u.jsx(Gt,{button:u.jsx(Si,{mode:t?"ghost":r,tone:t?"default":i}),id:"asset-menu",menu:u.jsxs(Ot,{children:[u.jsx(He,{text:a("asset-source.asset-list.menu.show-usage"),icon:Ss,onClick:()=>{n({type:"showUsage"})}}),u.jsx(He,{text:a("asset-source.asset-list.menu.delete"),icon:Jr,tone:"critical",onClick:()=>{n({type:"delete"})}})]}),popover:rCn})}function sRe({asset:e,assetType:t,onClose:n}){const{isLoading:r,referringDocuments:i}=rRe(e._id),a=f.useMemo(()=>{const s=i.reduce((l,c)=>c._id.startsWith("drafts.")?l.concat(c._id.slice(7)):l,[]);return i.filter(l=>!s.includes(l._id))},[i]),{t:o}=q();return u.jsx(Ri,{__unstable_autoFocus:!0,header:o("asset-source.asset-usage-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:n,onClose:n,width:1,children:r?u.jsx(bn,{showText:!0}):u.jsx(iRe,{asset:e,referringDocuments:a,assetType:t})})}const O5={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function iCn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function aCn(e){return O5!=null&&O5[e]?O5[e].title:iCn(e)}const V6=$.span`
  background-color: transparent;
  flex-shrink: 0;
`,m1=$(z)``,oCn=$(ie)`
  ${e=>e.isSelected&&de`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `}
`,Wue=$($t)`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  ${e=>e.isSelected&&de`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      ${V6} {
        --card-muted-fg-color: var(--card-bg-color);
      }

      ${m1} {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `}

  ${e=>!e.isSelected&&de`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `}
`,sCn=$(N)`
  overflow-wrap: anywhere;
`,Gue={position:"relative"},Yue={flexShrink:0},XP={minWidth:0},que={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},lCn=e=>{const t=Xt(qt),n=_r(),r=f.useRef(),[i,a]=f.useState(!1),[o,s]=f.useState(!1),[l,c]=f.useState(!1),[d,h]=f.useState(!1),{asset:p,onClick:m,onKeyPress:g,onDeleteFinished:y,isSelected:v,isMobile:b}=e,{originalFilename:x,_id:w,mimeType:C,size:S,_createdAt:E}=p,k=Xg(E,{useTemporalPhrase:!0}),_=aCn(C),T=eY({unitDisplay:"short",maximumFractionDigits:2}),j=$6(S,T),A=(x||"").length>37,{t:I}=q(),M=f.useCallback(()=>{s(!0)},[]),D=f.useCallback(Z=>{n.push({closable:!0,status:"error",title:I("asset-source.file.asset-list.delete-failed"),description:Z.message})},[I,n]),O=f.useCallback(()=>{n.push({status:"success",title:I("asset-source.file.asset-list.delete-successful")})},[I,n]),R=f.useCallback(()=>{c(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{c(!1),y==null||y(p._id),s(!1),O()},error:Z=>{c(!1),D(Z),console.error("Could not delete asset",Z)}})},[p._id,D,O,y,t.observable]),F=()=>{a(!1),s(!1)},P=()=>{a(!0)},V=()=>{h(!d)},U=Z=>{Z.type==="delete"&&M(),Z.type==="showUsage"&&P()},H=f.useMemo(()=>i&&u.jsx(sRe,{assetType:"file",asset:p,onClose:F}),[p,i]),W=f.useMemo(()=>o&&u.jsx(aRe,{assetType:"file",asset:p,onClose:F,onDelete:R,isDeleting:l}),[p,R,l,o]);return b?u.jsxs(ie,{paddingBottom:2,style:Gue,children:[u.jsxs(Gn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[u.jsx(Wue,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,radius:2,children:u.jsxs(z,{gap:2,flex:2,align:"center",children:[u.jsx(ie,{as:V6,padding:2,tone:"transparent",radius:2,children:u.jsx(N,{muted:!0,size:2,style:Yue,children:u.jsx(Pu,{})})}),u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:XP,children:x})]})}),u.jsx(z,{justify:"flex-end",align:"center",paddingRight:1,style:que,children:u.jsx($t,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?l9:Di})})]}),d&&u.jsxs(u.Fragment,{children:[u.jsxs(Gn,{marginTop:3,columns:3,gap:1,children:[u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:I("asset-source.file.asset-list.header.size")}),u.jsx(N,{size:1,muted:!0,children:j})]}),u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:I("asset-source.file.asset-list.header.type")}),u.jsx(N,{size:1,muted:!0,children:_})]}),u.jsxs(ne,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:I("asset-source.file.asset-list.header.date-added")}),u.jsx(N,{size:1,muted:!0,children:k})]})]}),u.jsxs(ne,{space:2,marginTop:3,children:[u.jsx($t,{fontSize:1,tone:"default",mode:"ghost",text:I("asset-source.file.asset-list.action.show-usage.title"),onClick:P,icon:Ss}),u.jsx($t,{fontSize:1,tone:"critical",mode:"ghost",text:I("asset-source.file.asset-list.action.delete.title"),icon:Jr,disabled:v,title:I(v?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:M})]})]}),H||W]}):u.jsxs(oCn,{asset:p,paddingBottom:1,style:Gue,radius:0,overflow:"hidden",isSelected:v,"aria-selected":"true",children:[u.jsxs(Gn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[u.jsx(Wue,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:g,title:I("asset-source.file.asset-list.item.select-file-tooltip",{filename:x}),isSelected:v,radius:2,children:u.jsxs(m1,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:g,"data-id":w,children:[u.jsx(ie,{as:V6,padding:2,tone:"transparent",radius:2,style:Yue,children:u.jsx(N,{muted:!0,size:2,children:u.jsx(Pu,{})})}),A&&u.jsx(bt,{content:x,children:u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:XP,children:x})}),!A&&u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:XP,children:x})]})}),u.jsx(m1,{align:"center",children:u.jsx(N,{size:1,muted:!0,children:j})}),u.jsx(m1,{align:"center",children:u.jsx(L,{children:u.jsx(sCn,{size:1,muted:!0,textOverflow:"ellipsis",children:_})})}),u.jsx(m1,{align:"center",children:u.jsx(N,{as:"time",size:1,muted:!0,dateTime:E,children:k})}),u.jsx(m1,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:que,children:u.jsx(oRe,{border:!1,isSelected:!1,onAction:U})})]}),H||W]})},uCn={paddingLeft:"2.2rem"},Kue={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function cCn(e){const t=s0()<2,{assets:n,onClick:r,onKeyPress:i,onDeleteFinished:a,selectedAssets:o,isLoading:s}=e,{t:l}=q();return u.jsxs(L,{children:[u.jsx(ie,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:t?u.jsx(Gn,{style:Kue,children:u.jsx(L,{flex:2,paddingLeft:5,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})})}):u.jsxs(Gn,{gap:1,style:Kue,children:[u.jsx(L,{flex:2,style:uCn,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.size")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.type")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.date-added")})})]})}),u.jsxs(ne,{children:[s&&n.length===0&&u.jsx(L,{paddingTop:4,paddingBottom:2,children:u.jsx(z,{justify:"center",children:u.jsx(Op,{muted:!0})})}),n.map(c=>u.jsx(lCn,{asset:c,isMobile:t,isSelected:o.some(d=>d._id===c._id),onClick:r,onKeyPress:i,onDeleteFinished:a},c._id))]})]})}const dCn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),fCn=$.img`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`,hCn=$(ie)`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`,z6=$.div`
  position: relative;
  display: inherit;
`,pCn=$.div`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    ${z6}:hover & {
      button {
        opacity: 1;
      }
    }

    ${z6}:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`,mCn=f.memo(function(e){const t=Xt(qt),n=_r(),r=f.useRef(),{asset:i,onClick:a,onKeyPress:o,onDeleteFinished:s,isSelected:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(!1),{t:y}=q();f.useEffect(()=>()=>{r.current&&r.current.unsubscribe()},[]);const v=f.useCallback(()=>{p(!0)},[p]),b=f.useCallback(()=>{d(!1),p(!1)},[d,p]),x=f.useCallback(()=>{d(!0)},[d]),w=f.useCallback(D=>{n.push({closable:!0,status:"error",title:y("asset-source.image.asset-list.delete-failed"),description:D.message})},[y,n]),C=f.useCallback(()=>{n.push({status:"success",title:y("asset-source.image.asset-list.delete-successful")})},[y,n]),S=f.useCallback(()=>{g(!0),r.current=t.observable.delete(i._id).subscribe({next:()=>{g(!1),s(i._id),p(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,s,t.observable]),E=f.useCallback(D=>{D.type==="delete"&&v(),D.type==="showUsage"&&x()},[v,x]),k=f.useMemo(()=>c&&u.jsx(sRe,{assetType:"file",asset:i,onClose:b}),[i,b,c]),_=f.useMemo(()=>h&&u.jsx(aRe,{assetType:"file",asset:i,onClose:b,onDelete:S,isDeleting:m}),[i,S,b,m,h]),{originalFilename:T,_id:j,url:A}=i,I=200*Math.max(1,dCn),M=A.includes(".gif")?`${A}?h=${I}&fit=max&fm=jpg`:`${A}?h=${I}&fit=max`;return u.jsxs(z6,{children:[u.jsx($t,{selected:l,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:o,padding:0,style:{padding:2},children:u.jsxs(hCn,{__unstable_checkered:!0,children:[u.jsx(fCn,{alt:T,src:M,onClick:a,"data-id":j}),m&&u.jsx(bn,{})]})}),u.jsx(pCn,{children:u.jsx(oRe,{isSelected:l,onAction:E})}),k||_]})}),gCn=$(Gn)`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`;function yCn(e){const{isLoading:t,assets:n,selectedAssets:r,onItemClick:i,onItemKeyPress:a,onDeleteFinished:o}=e;return u.jsxs(L,{padding:4,children:[u.jsx(gCn,{gap:2,children:n.map(s=>u.jsx(mCn,{asset:s,isSelected:r.some(l=>l._id===s._id),onClick:i,onKeyPress:a,onDeleteFinished:o},s._id))}),t&&n.length===0&&u.jsx(z,{justify:"center",children:u.jsx(Op,{muted:!0})}),!t&&n.length===0&&u.jsx(N,{align:"center",muted:!0})]})}const aT=200,lRe="sanity.imageAsset",vCn="sanity.fileAsset",bCn=e=>{const t=["image/*","audio/*","video/*"],n=e.split(",").map(r=>r.trim()).reduce((r,i)=>t.includes(i)?{...r,wildcards:`mimeType match '${i}' || ${r.wildcards}`}:i.indexOf(".")===0?{...r,extensions:`'${i.replace(".","")}', ${r.extensions}`}:{...r,mimes:`'${i}', ${r.mimes}`},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    ${n.wildcards}
    extension in [${n.extensions}] ||
    mimeType in [${n.mimes}]
  )`},xCn=(e=0,t=aT,n=lRe,r)=>{const i=r.length>0?bCn(r):"";return`
  *[_type == "${n}" ${i}] | order(_updatedAt desc) [${e}...${t}] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`},wCn=$(ie)`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`,CCn=function(e,t){const n=Xt(qt),r=f.useMemo(()=>n.withConfig({apiVersion:"2023-02-14"}),[n]),i=f.useRef(`default-asset-source-${BSe()}`),a=f.useRef(0),{t:o}=q(),s=f.useRef(),[l,c]=f.useState([]),[d,h]=f.useState(!1),[p,m]=f.useState(!1),[g,y]=f.useState(!0),{selectedAssets:v,assetType:b="image",dialogHeaderTitle:x,onClose:w,onSelect:C,accept:S}=e,E=S&&S==="image/*"&&b==="image",k=f.useCallback(O=>{const R=O*aT,F=R+aT,P=b==="image",V=P?"asset.image-list":"asset.file-list",U=P?lRe:vCn;y(!0),typeof S<"u"&&(s.current=r.observable.fetch(xCn(R,F,U,S),{},{tag:V}).subscribe(H=>{h(H.length<aT),c(W=>W.concat(H)),y(!1)}))},[b,S,r]),_=f.useCallback(O=>{c(R=>R.filter(F=>F._id!==O))},[c]),T=f.useCallback(O=>{l.find(R=>R._id===O)&&C([{kind:"assetDocumentId",value:O}])},[l,C]),j=f.useCallback(O=>{O.preventDefault();const R=O.currentTarget.getAttribute("data-id");if(!R)throw new Error("Missing data-id attribute on item");T(R)},[T]),A=f.useCallback(O=>{if(O.key==="Enter"){O.preventDefault();const R=O.currentTarget.getAttribute("data-id");if(!R)throw new Error("Missing data-id attribute on item");T(R)}},[T]),I=f.useCallback(()=>{w&&w()},[w]),M=f.useCallback(O=>{O.preventDefault(),k(++a.current)},[k]);f.useEffect(()=>(k(a.current),()=>{s.current&&s.current.unsubscribe()}),[k]),f.useEffect(()=>{!g&&(!a.current||a.current===0)&&m(!0)},[g]);const D=j0({style:"narrow"});return u.jsx(Ri,{__unstable_autoFocus:p,header:x||o("asset-source.dialog.default-title",{context:b}),id:i.current,onClickOutside:I,onClose:I,ref:t,width:2,children:u.jsxs(ne,{space:5,children:[!E&&!g&&(S==null?void 0:S.length)>0&&u.jsx(ie,{tone:"primary",padding:3,border:!0,radius:2,children:u.jsxs(z,{gap:3,align:"center",children:[u.jsx(N,{size:1,children:u.jsx(Df,{})}),u.jsx(N,{size:1,children:u.jsx(gt,{t:o,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:D.format(S.split(",").map(O=>O.trim()))}})})]})}),b==="file"&&u.jsx(cCn,{assets:l,onDeleteFinished:_,onClick:j,onKeyPress:A,isLoading:g,selectedAssets:v}),b==="image"&&u.jsx(yCn,{assets:l,onDeleteFinished:_,onItemClick:j,onItemKeyPress:A,isLoading:g,selectedAssets:v}),l.length>0&&!d&&u.jsx(wCn,{tone:"default",padding:4,children:u.jsx(z,{direction:"column",children:u.jsx(he,{type:"button",icon:FI,loading:g,onClick:M,size:"large",text:o("asset-source.dialog.load-more"),tone:"primary"})})})]})})},uRe=f.memo(f.forwardRef(CCn)),cRe={name:"sanity-default",title:"Uploaded files",i18nKey:"asset-source.file.title",component:uRe,icon:$I},dRe={name:"sanity-default",title:"Uploaded images",i18nKey:"asset-source.image.title",component:uRe,icon:Yl},SCn=[],ECn=[],kCn=[],_Cn=(e,{schema:t},n)=>{const r=t==null?void 0:t.types;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.types\` to be an array or a function, but received ${is(r)}`)},TCn=async(e,{document:t},n)=>{const r=t==null?void 0:t.productionUrl;return r?await r(e,n):e},ACn=(e,{tools:t},n)=>{if(!t)return e;if(typeof t=="function")return t(e,n);if(Array.isArray(t))return[...e,...t];throw new Error(`Expected \`tools\` to be an array or a function, but received ${is(t)}`)},jCn=(e,{schema:t},n)=>{const r=t==null?void 0:t.templates;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.templates\` to be an array or a function, but received ${is(r)}`)},ICn=(e,{i18n:t},n)=>{const r=t==null?void 0:t.locales;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`i18n.locales\` to be an array or a function, but received ${is(r)}`)},DCn=(e,{i18n:t},n)=>{const r=t==null?void 0:t.bundles;if(!r)return e;if(Array.isArray(r))return[...e,...r];if(typeof r=="function")return r(e,n);throw new Error(`Expected \`i18n.bundles\` to be an array or a function, but received ${typeof r}`)},MCn=(e,{document:t},n)=>{const r=t==null?void 0:t.badges;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.badges\` to be an array or a function, but received ${is(r)}`)},RCn=(e,{document:t},n)=>{const r=t==null?void 0:t.actions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.actions\` to be an array or a function, but received ${is(r)}`)},OCn=(e,{document:t},n)=>{const r=t==null?void 0:t.newDocumentOptions;if(!r)return e;if(typeof r!="function")throw new Error(`Expected \`document.resolveNewDocumentOptions\` to be a function, but received ${is(r)}`);return r(e,n)},$Cn=(e,{form:t},n)=>{var i;const r=(i=t==null?void 0:t.file)==null?void 0:i.assetSources;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`form.file.assetSources\` to be an array or a function, but received ${is(r)}`)},PCn=(e,{form:t},n)=>{var i;const r=(i=t==null?void 0:t.image)==null?void 0:i.assetSources;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`form.image.assetSources\` to be an array or a function, but received ${is(r)}`)},FCn=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_languageFilter;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_languageFilter\` to be an array or a function, but received ${is(r)}`)},NCn=(e,{document:t},n)=>{const r=t==null?void 0:t.inspectors;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.inspectors\` to be an array or a function, but received ${is(r)}`)},Zue=e=>{const{config:t,context:n,initialValue:r}=e;return Nb(t,[]).reduce((i,{config:a})=>{var s,l,c,d;const o=((l=(s=a.document)==null?void 0:s.comments)==null?void 0:l.enabled)??((d=(c=a.document)==null?void 0:c.unstable_comments)==null?void 0:d.enabled);if(!o&&typeof o!="boolean")return i;if(typeof o=="function")return o(n);if(typeof o=="boolean")return o;throw new Error(`Expected \`document.comments.enabled\` to be a boolean or a function, but received ${is(o)}`)},r)},LCn=e=>{const{config:t}=e;return Nb(t,[]).reduce((n,{config:r})=>{const i=r.__internal_tasks;if(!i)return n;if(typeof i=="object"&&i.footerAction)return i;throw new Error(`Expected \`__internal__tasks\` to be an object with footerAction, but received ${is(i)}`)},void 0)},BCn=e=>{const{config:t,initialValue:n}=e;return Nb(t,[]).reduce((r,{config:i})=>{var o,s;const a=(s=(o=i.search)==null?void 0:o.unstable_partialIndexing)==null?void 0:s.enabled;if(!a&&typeof a!="boolean")return r;if(typeof a=="boolean")return a;throw new Error(`Expected \`search.unstable_partialIndexing.enabled\` to be a boolean, but received ${is(a)}`)},n)},VCn=(e,{search:t})=>typeof(t==null?void 0:t.enableLegacySearch)<"u"?t.enableLegacySearch:e;function Ro({config:e,context:t,initialValue:n,propertyName:r,...i}){const a=Nb(e,[]);if("reducer"in i)return a.reduce((s,{config:l,path:c})=>{try{return i.reducer(s,l,t)}catch(d){throw new cse({propertyName:r,path:c,cause:d})}},n);const o=i.asyncReducer;return(async()=>{let s=n;for(const{config:l,path:c}of a)try{s=await o(s,l,t)}catch(d){throw new cse({propertyName:r,path:c,cause:d})}return s})()}function zCn(e){const{bundles:t}=e;function n(){}function r(i,a,o){const s=t.filter(l=>l.locale===i&&l.namespace===a);if(s.length===0){o(`No translations found for namespace "${a}", language "${i}"`,void 0);return}UCn(s).then(l=>o(null,l)).catch(l=>o(l,!0))}return{type:"backend",init:n,read:r}}async function UCn(e){const t=await Promise.all(e.map(async r=>({...r,resources:await HCn(r)}))),n={};for(const r of t){const i=r.deep??!0,a=r.overwrite??!0;i?fRe(n,r.resources,a):a?Object.assign(n,r.resources):Object.assign({},r.resources,n)}return n}async function HCn(e){if(typeof e.resources!="function")return e.resources;const t=await e.resources();return WCn(t)}function fRe(e,t,n=!1){for(const r in t){if(r==="__proto__"||r==="constructor")continue;if(!(r in e)){e[r]=t[r];continue}const i=e[r],a=t[r],o=Xue(i),s=Xue(a);if((o||s)&&n){e[r]=t[r];continue}if(o||s)continue;const l=Array.isArray(a),c=Array.isArray(i);if(l||c){n&&(e[r]=a);continue}fRe(i,a,n)}return e}function Xue(e){return typeof e=="string"||e instanceof String}function WCn(e){return GCn(e)?e.default:e}function GCn(e){return"default"in e&&typeof e.default=="object"&&mr(e.default)}function YCn(e){const{projectId:t,dataset:n,name:r}=e,i={projectId:t,dataset:n},a=Ro({config:e,context:i,propertyName:"i18n.locales",reducer:ICn,initialValue:[Dl]}),o=Ro({config:e,context:i,propertyName:"i18n.bundles",reducer:DCn,initialValue:KCn(a)});return qCn({locales:a,bundles:o,projectId:t,sourceName:r})}function qCn({locales:e,bundles:t,projectId:n,sourceName:r}){const i=new Set(t.map(l=>l.namespace)),a=ZCn(n,r,e,i),o=Z5e().use(zCn({bundles:t})).use(JQe);o.init(a).catch(l=>{console.error("Failed to initialize i18n backend: %s",l)});const s=e.map(XCn);return{source:{get currentLocale(){return s.find(l=>l.id===o.language)??Dl},loadNamespaces(l){const c=l.filter(d=>!o.hasLoadedNamespace(d));return c.length===0?Promise.resolve():o.loadNamespaces(c)},locales:s,t:cje(o.t)},i18next:o}}function KCn(e){const t=[];for(const n of e){if(n.bundles&&!Array.isArray(n.bundles))throw new Error(`Resource bundle for locale ${n.id} is not an array`);if(n.bundles)for(const r of n.bundles){if("locale"in r&&r.locale!==n.id)throw new Error(`Resource bundle inside locale ${n.id} has mismatching locale id`);if(!r.namespace)throw new Error(`Resource bundle for locale ${n.id} is missing namespace`);t.push("locale"in r?r:{...r,locale:n.id})}}return t}const Jue={ns:[hv],defaultNS:hv,partialBundledLanguages:!0,fallbackLng:Dl.id,lng:Dl.id,debug:xtn,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function ZCn(e,t,n,r){const i=Snn(e,t),a=n.find(l=>l.id===i),o=n[n.length-1],s=(a==null?void 0:a.id)??o.id??Jue.lng;return{...Jue,ns:Array.from(r),lng:s,supportedLngs:n.map(l=>l.id)}}function XCn(e){const{bundles:t,...n}=e;return n}function hRe(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function Kp(e,t){return e[t]}function JCn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const QCn=[{fieldPath:"_updatedAt",icon:Fa,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Fa,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Ss,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Wm,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Wm,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Wm,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:Ap,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Fa,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Fa,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:xm,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Pu,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Yl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:_9,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:a9,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Ss,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:xm,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:xm,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Di,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:xm,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:xm,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Hl(e={}){const t=Yp().id;return Pd.dateTimeFormat(t,e)}function eY(e={}){const t=Yp().id,n={unitDisplay:"long",...e,style:"unit"};return function(r,i){return Pd.numberFormat(t,{...n,unit:i}).format(r)}}function eSn({documentId:e,schemaType:t}){const n=da(),r=f.useMemo(()=>Mb(n,t,e,""),[e,n,t]),{draft:i,published:a,isLoading:o}=ti(r,{draft:null,isLoading:!0,published:null}),s=f.useMemo(()=>({_id:e,_type:t.name}),[e,t.name]),l=MG({draft:i,published:a,value:s});return o?u.jsx(qc,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):u.jsx(u.Fragment,{children:l.title||e.slice(0,8)})}function $5({value:e}){const t=Hl({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.date?new Date(e.date):null;return!n||!gf(n)?null:u.jsx(u.Fragment,{children:t.format(n)})}function tSn({value:e}){const t=eY();return u.jsx(u.Fragment,{children:t(Math.floor((e==null?void 0:e.unitValue)??0),e.unit)})}function Que({value:e}){const t=Hl({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.from?new Date(e.from):null,r=e!=null&&e.to?new Date(e.to):null;if(!r||!n||!gf(r)||!gf(n))return null;const i=t.format(n),a=t.format(r);return u.jsx(u.Fragment,{children:`${i}  ${a}`})}function Su({value:e}){const t=tn(),n=e._ref,r=t.get(e._type);return r?u.jsx(eSn,{documentId:n,schemaType:r}):null}function en(){const e=f.useContext($he);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Al({value:e,onChange:t}){const[n,r]=f.useState(e??""),{state:{fullscreen:i}}=en(),{t:a}=q(),o=f.useCallback(s=>{r(s.currentTarget.value);const l=parseFloat(s.currentTarget.value);t(Number.isFinite(l)?l:null)},[t]);return u.jsx(Lr,{fontSize:i?2:1,onChange:o,placeholder:a("search.filter-number-value-placeholder"),radius:2,step:"any",type:"number",value:n})}function pRe({onChange:e,value:t}){const[n,r]=f.useState((t==null?void 0:t.to)??""),[i,a]=f.useState((t==null?void 0:t.from)??""),{state:{fullscreen:o}}=en(),{t:s}=q(),l=f.useCallback(d=>{r(d.currentTarget.value);const h=parseFloat(d.currentTarget.value);e({to:Number.isFinite(h)?h:null,from:(t==null?void 0:t.from)??null})},[t==null?void 0:t.from,e]),c=f.useCallback(d=>{a(d.currentTarget.value);const h=parseFloat(d.currentTarget.value);e({to:(t==null?void 0:t.to)??null,from:Number.isFinite(h)?h:null})},[t==null?void 0:t.to,e]);return u.jsxs(z,{gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(Lr,{fontSize:o?2:1,onChange:c,placeholder:s("search.filter-number-min-value-placeholder"),radius:2,step:"any",type:"number",value:i})}),u.jsx(L,{flex:1,children:u.jsx(Lr,{fontSize:o?2:1,onChange:l,placeholder:s("search.filter-number-max-value-placeholder"),radius:2,step:"any",type:"number",value:n})})]})}function zR(e,t){const n=t.split("."),r=n[0];if(r&&Ui(e)){const i=e.fields.find(a=>a.name===r);if(i){const a=n.slice(1).join(".");return a?zR(i.type,a):i}}}const nSn=$(L)`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`;function mRe({documentId:e,layout:t,presence:n,schemaType:r,showBadge:i=!0}){const a=da(),o=f.useMemo(()=>Mb(a,r,e,""),[e,a,r]),{draft:s,published:l,isLoading:c}=ti(o,{draft:null,isLoading:!0,published:null}),d=f.useMemo(()=>({_id:e,_type:r.name}),[e,r.name]),h=f.useMemo(()=>c?null:u.jsxs(z,{align:"center",gap:3,children:[n&&n.length>0&&u.jsx(KW,{presence:n}),i&&u.jsx(ao,{children:r.title}),u.jsx(Ib,{draft:s,published:l})]}),[s,c,n,l,r.title,i]),p=u.jsx(Sv,{draft:s,published:l});return u.jsx(nSn,{children:u.jsx(ro,{...MG({draft:s,published:l,value:d}),isPlaceholder:c??!0,layout:t||"default",icon:r.icon,status:h,tooltip:p})})}function tY({disableIntentLink:e,documentId:t,documentType:n,layout:r,onClick:i,onItemSelect:a,...o}){const s=tn().get(n),l=Rb(t),c=f.useMemo(()=>({id:t,type:s==null?void 0:s.name}),[t,s==null?void 0:s.name]),{onClick:d,href:h}=XE({intent:"edit",params:c}),p=f.useCallback(m=>{a==null||a({_id:t,_type:n}),e||d(m),i==null||i()},[a,t,n,e,i,d]);return s?u.jsx(L,{...o,children:u.jsx(cg,{as:"a","data-as":"a",flex:1,href:e?void 0:h,onClick:p,radius:2,tabIndex:-1,children:u.jsx(mRe,{documentId:t,layout:r,presence:l,schemaType:s})})}):null}const rSn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),iSn="_debug_search_score",gRe=!1,aSn=1e3,yRe="k",oSn=rSn?"Cmd":"Ctrl",U6=kg.space[4],sSn=735,lSn=800,bk=5,Lb=3;function xk({allowEmptyQueries:e,terms:t}){const n=e?!0:t.query.length>0,r=!!t.filter,i=t.types.length>0;return n||r||i}function uSn(e,t){return UR(e).filter(n=>cSn(n,t)).sort(H6)}function UR(e){return yIe(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function H6(e,t){return(e.title??e.name).localeCompare(t.title??t.name)}function cSn(e,t){return!t||(e.title??e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const dSn=300,JP={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function fSn(e){return e!==null}function hSn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function vRe({allowEmptyQueries:e,initialState:t,onComplete:n,onError:r,onStart:i,schema:a}){const[o,s]=f.useState(t),l=Xt(qt),c=_R(),{enableLegacySearch:d=!1}=Vr().search,h=f.useMemo(()=>kR(UR(a),l,{tag:"search.global",unique:!0,enableLegacySearch:d,maxDepth:c}),[l,c,a,d]),p=UD(m=>m.pipe(Nt(fSn),fe(hSn),hr(kt),wz(g=>Qr((g==null?void 0:g.debounceTime)||dSn)),Qn(i),Ct(g=>ji(we({...JP,loading:!0,options:g.options,terms:g.terms}),Cdt(()=>xk({allowEmptyQueries:e,terms:g.terms}),h(g.terms,g.options).pipe(Qn(({hits:y,nextCursor:v})=>n==null?void 0:n({hits:y,nextCursor:v})),kn(y=>(r==null||r(y),we({...JP,error:y,loading:!1,options:g.options,terms:g.terms})))),we(sr).pipe(Qn(()=>n==null?void 0:n({hits:[],nextCursor:void 0})))),we({loading:!1}))),Qs((g,y)=>({...g,...y}),JP),Qn(s)));return{handleSearch:f.useCallback(m=>p(m),[p]),searchState:o}}const pSn=40;function bRe({availableCharacters:e=pSn,types:t}){if(t.length===0)return{remainingCount:0,types:[]};const n=t.reduce(function(){let r=e;return function(i,a,o){const s=ece(a);return r-=s.length,(o===0||e>s.length&&r>s.length)&&i.push(a),i}}(),[]);return{remainingCount:t.length-n.length,types:n.map(ece)}}function xRe({t:e,availableCharacters:t,types:n}){if(n.length===0)return e("search.document-type-list-all-types");const{remainingCount:r,types:i}=bRe({availableCharacters:t,types:n}),a=r>0?"search.document-type-list-truncated":"search.document-type-list";return e(a,{count:r,types:i,formatParams:{types:{style:"short",type:"unit"}}})}function ece(e){return e.title??e.name}const mSn=()=>!0,gSn=$(N)`
  word-break: break-word;
`,ySn=f.forwardRef(function({onSelect:e,types:t=[],value:n},r){const i=f.useRef(null),a=tn(),{state:{fullscreen:o}}=en(),{t:s}=q(),l=f.useId(),[c,d]=f.useState([]),{handleSearch:h,searchState:p}=vRe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:t}},onComplete:w=>{d(w.hits.map(({hit:C})=>({value:C._id,hit:C})))},schema:a}),m=f.useCallback(()=>{h({debounceTime:0,options:{limit:100},terms:{query:"",types:t}})},[h,t]),g=f.useCallback(w=>{h(w?{options:{limit:100},terms:{query:w||"",types:t}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:t}})},[h,t]),y=f.useCallback(w=>{var S;const C=(S=c.find(E=>E.value===w))==null?void 0:S.hit;C&&(e==null||e({_ref:pn(C._id),_type:C._type}))},[c,e]),v=f.useMemo(()=>{if(t.length===0)return s("search.action.search-all-types");const{remainingCount:w,types:C}=bRe({types:t}),S=w>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types";return s(S,{count:w,types:C,formatParams:{types:{style:"short",type:"unit"}}})},[t,s]),b=f.useCallback(w=>u.jsx(tY,{disableIntentLink:!0,documentId:w.value,documentType:w.hit._type,layout:"compact"}),[]),x=f.useCallback((w,C)=>{const{content:S,hidden:E,onMouseEnter:k,onMouseLeave:_}=w,T=c&&c.length>0;return u.jsx(_n,{constrainSize:!0,content:u.jsx("div",{ref:C,children:T?S:p.terms.query&&u.jsx(L,{padding:4,children:u.jsx(z,{align:"center",height:"fill",justify:"center",children:u.jsx(gSn,{align:"center",muted:!0,children:u.jsx(gt,{t:s,i18nKey:"new-document.no-results",values:{searchQuery:p.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:k,onMouseLeave:_,open:!p.loading&&!E,overflow:"auto",placement:"bottom-start",radius:Lb,referenceElement:i.current})},[c,p.loading,p.terms.query,s]);return u.jsx("div",{ref:i,children:u.jsx(xD,{"aria-label":v,filterOption:mSn,fontSize:o?2:1,id:l,loading:p.loading,openButton:{onClick:m},options:c,onQueryChange:g,onSelect:y,placeholder:v,radius:2,ref:r,renderOption:b,renderPopover:x,value:n==null?void 0:n._ref})})});function aC({fieldDefinition:e,onChange:t,value:n}){const{onClose:r,state:{documentTypesNarrowed:i}}=en(),a=tn(),{t:o}=q(),s=f.useCallback(h=>t(h),[t]),l=f.useMemo(()=>e?e.documentTypes.filter(h=>i.includes(h)).flatMap(h=>{const p=a.get(h);if(p){const m=zR(p,e.fieldPath);if(_s(m==null?void 0:m.type))return m==null?void 0:m.type.of.filter(Gs).flatMap(g=>g.to);if(Gs(m==null?void 0:m.type))return m==null?void 0:m.type.to}return[]}).reduce((h,p)=>(h.findIndex(m=>m.name===(p==null?void 0:p.name))<0&&h.push(p),h),[]):[],[i,e,a]),c=f.useCallback(()=>s(null),[s]),d=f.useCallback(()=>{r==null||r()},[r]);return u.jsx(L,{style:{width:"min(calc(100vw - 40px), 420px)"},children:n!=null&&n._ref&&(n!=null&&n._type)?u.jsxs(ne,{space:3,children:[u.jsx(ie,{padding:1,radius:1,shadow:1,children:u.jsx(tY,{documentId:n._ref,documentType:n._type,layout:"compact",onClick:d})}),u.jsx(he,{mode:"ghost",onClick:c,text:o("search.filter-reference-clear"),tone:"critical"})]}):u.jsx(ySn,{onSelect:s,types:l,value:n})})}function vSn({onClick:e,selected:t,title:n,value:r}){const i=f.useCallback(()=>e(r),[e,r]);let a=`${n}`;return typeof r<"u"&&n!==r&&(a+=` (${r})`),u.jsx(He,{onClick:i,pressed:t,tone:"default",text:a})}function Bj({fieldDefinition:e,onChange:t,value:n}){const r=f.useId(),{state:{documentTypesNarrowed:i}}=en(),{t:a}=q(),o=tn(),s=f.useMemo(()=>e?e.documentTypes.filter(c=>i.includes(c)).map(c=>{var h;const d=o.get(c);return d?(h=zR(d,e.fieldPath))==null?void 0:h.type.options:null}).filter(ua).map(c=>c.list).flatMap(c=>c==null?void 0:c.map(d=>bSn(d))).filter(ua).reduce((c,d)=>{const h=c.findIndex(p=>p.value===(d==null?void 0:d.value));if(h>-1){const p=c[h];c[h]={...c[h],title:Sa([...p.title,d.title]).sort()}}else c.push({...d,title:[d.title]});return c},[]):[],[i,e,o]),l=f.useCallback(c=>{t(c)},[t]);return u.jsx(Gt,{button:u.jsx(he,{mode:"ghost",iconRight:Di,text:n?String(n):a("search.filter-string-value-select-predefined-value")}),id:r||"",menu:u.jsx(Ot,{children:s.map((c,d)=>u.jsx(vSn,{onClick:l,selected:c.value===n,title:c.title.join(", "),value:c.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function bSn(e){return oI(e)?e:{title:x0(`${e}`),value:e}}const wRe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),CRe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),SRe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),ERe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function mt(e){return JSON.stringify(e)}const xSn={arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) == ${mt(t)}`:null,initialValue:null,inputComponent:Al,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) > ${mt(t)}`:null,icon:CRe,initialValue:null,inputComponent:Al,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) >= ${mt(t)}`:null,icon:wRe,initialValue:null,inputComponent:Al,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) < ${mt(t)}`:null,icon:ERe,initialValue:null,inputComponent:Al,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) <= ${mt(t)}`:null,icon:SRe,initialValue:null,inputComponent:Al,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) != ${mt(t)}`:null,initialValue:null,inputComponent:Al,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`count(${e}) > ${mt(t==null?void 0:t.from)} && count(${e}) < ${mt(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:pRe,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${mt(t)} in ${e}`:null,initialValue:null,inputComponent:Bj,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${mt(t)} in ${e})`:null,initialValue:null,inputComponent:Bj,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${mt(t._ref)} in ${e}[]._ref`:null,initialValue:null,inputComponent:aC,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`!(${mt(t._ref)} in ${e}[]._ref)`:null,initialValue:null,inputComponent:aC,type:"arrayReferenceNotIncludes"}};function HR({children:e,...t}){const n=f.useContext(Q5),{unstable_sources:r}=Vr();if("source"in t){const{source:i}=t;return u.jsx(Q5.Provider,{value:i,children:e})}if("name"in t){const{name:i}=t,a=r.find(o=>o.name===i);if(!a)throw new Error(`Could not find source with name \`${i}\` in current workspace`);return n===a?u.jsx(u.Fragment,{children:e}):u.jsx(Q5.Provider,{value:a,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Hn(){const e=f.useContext(Q5);if(!e)throw new Error("Could not find `source` context");return e}function wSn(e){const{t}=q();return u.jsx(L,{...e,children:u.jsxs(z,{align:"flex-start",gap:3,children:[u.jsx(Xr,{tone:"caution",children:u.jsx(gr,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Xr,{size:1,tone:"caution",weight:"medium",children:t("search.error.no-valid-asset-source-title")}),u.jsx(Xr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-only-default-description")}),u.jsx(Xr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-check-config-description")})]})]})})}function CSn({reference:e}){const t=da(),n=f.useCallback(r=>Xje(t,r),[t]);return u.jsx(CS,{observeAsset:n,reference:e,waitPlaceholder:u.jsx(ESn,{}),children:r=>u.jsx(SSn,{asset:r})})}function SSn({asset:e}){return u.jsx(ie,{padding:2,shadow:1,children:u.jsxs(z,{align:"center",justify:"space-between",wrap:"nowrap",children:[u.jsx(ie,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(N,{children:u.jsx(Dv,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:(e==null?void 0:e.originalFilename)||e._id}),u.jsx(N,{size:1,muted:!0,children:vDe(e.size)})]})]})})}function ESn(){return u.jsx(ie,{padding:2,shadow:1,children:u.jsxs(z,{align:"center",justify:"flex-start",children:[u.jsx(ie,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(N,{children:u.jsx(Dv,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(ur,{animated:!0,style:{width:"100%"},radius:1}),u.jsx(ur,{animated:!0,style:{width:"100%"},radius:1})]})]})})}const kSn=$(ie)`
  position: relative;
  padding-bottom: 100%;
`,_Sn=$.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`;function TSn({reference:e}){const t=da(),n=f.useCallback(r=>Zje(t,r),[t]);return u.jsx(CS,{observeAsset:n,reference:e,children:r=>u.jsx(ASn,{asset:r})})}function ASn({asset:e}){const[t,n]=f.useState(!1),r=`${e.url}?h=800&fit=max`,i=f.useCallback(()=>n(!0),[]);return u.jsxs(kSn,{__unstable_checkered:!0,border:!0,children:[!t&&u.jsx(bn,{fill:!0,showText:!0}),u.jsx(_Sn,{onLoad:i,src:r})]})}function jSn({reference:e}){return e?e._type.startsWith("sanity.fileAsset")?u.jsx(CSn,{reference:e}):e._type.startsWith("sanity.imageAsset")?u.jsx(TSn,{reference:e}):null:null}const ISn={file:"sanity.fileAsset",image:"sanity.imageAsset"},DSn=$(L)`
  width: min(calc(100vw - 40px), 320px);
`;function G1(e){return function({onChange:t,value:n}){const[r,i]=f.useState(null),[a,o]=f.useState(null);en();const{file:s,image:l}=Hn().form,{t:c}=q(),d=f.useMemo(()=>{switch(e){case"file":return s.assetSources.filter(C=>C.name===cRe.name);case"image":return l.assetSources.filter(C=>C.name===dRe.name);default:throw Error("Unknown asset source found")}},[s.assetSources,l.assetSources]),h=f.useId(),p=Xt(qt),m=f.useCallback(()=>{o(null),t(null)},[t]),g=f.useCallback(()=>{i(null)},[]),y=f.useCallback(C=>{const S=C[0];o(S),g()},[g]),v=f.useCallback(C=>i(C),[]);f.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&t({_ref:a.value,_type:ISn[e]})},[p,t,a]);const b=r==null?void 0:r.component,x=c(n?"search.filter-asset-change":"search.filter-asset-select",{context:e}),w=ir(e,"options.accept",e==="image"?"image/*":"");return u.jsx(DSn,{children:u.jsxs(ne,{space:3,children:[r&&b&&u.jsx(Pp,{children:u.jsx(b,{assetType:e,dialogHeaderTitle:c("search.action.select-asset",{context:e}),onClose:g,onSelect:y,selectedAssets:[],selectionType:"single",accept:w})}),n&&u.jsx(jSn,{reference:n}),u.jsxs(z,{gap:2,children:[d.length===0&&u.jsx(wSn,{padding:2}),d.length>0&&u.jsx(u.Fragment,{children:d.length>1?u.jsx(Gt,{button:u.jsx(he,{icon:n?fC:Ca,iconRight:Di,mode:"ghost",width:n?"fill":void 0,text:x}),id:h,menu:u.jsx(Ot,{children:d.map(C=>u.jsx(He,{icon:C.icon||Yl,onClick:()=>v(C),text:(C.i18nKey?c(C.i18nKey):C.title)||Vn(C.name)},C.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):u.jsx(he,{icon:n?fC:Ca,mode:"ghost",onClick:()=>v(d[0]),width:n?"fill":void 0,text:x})}),n&&u.jsx(he,{mode:"ghost",onClick:m,width:"fill",text:c("search.filter-asset-clear"),tone:"critical"})]})]})})}}const MSn={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${mt(t._ref)}`:null,initialValue:null,inputComponent:G1("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${mt(t._ref)}`:null,initialValue:null,inputComponent:G1("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${mt(t._ref)}`:null,initialValue:null,inputComponent:G1("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${mt(t._ref)}`:null,initialValue:null,inputComponent:G1("image"),label:"is not",type:"assetImageNotEqual"}};function RSn({onChange:e,value:t}){const{state:{fullscreen:n}}=en(),{t:r}=q(),i=f.useCallback(a=>{e(a.currentTarget.value==="true")},[e]);return u.jsxs(Xl,{fontSize:n?2:1,onChange:i,radius:2,value:String(t??!0),children:[u.jsx("option",{value:"true",children:r("search.filter-boolean-true")}),u.jsx("option",{value:"false",children:r("search.filter-boolean-false")})]})}const OSn={booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:({fieldPath:e,value:t})=>typeof t<"u"&&e?`${e} == ${mt(t)}`:null,initialValue:!0,inputComponent:RSn,type:"booleanEqual"}},$Sn=$(N)`
  cursor: default;
`;function nY({onChange:e,value:t}){const{t:n}=q();return u.jsxs(z,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[u.jsx(ne,{children:u.jsx($Sn,{muted:!0,onClick:e,size:1,weight:"medium",children:n("calendar.action.include-time-label")})}),u.jsx(bD,{checked:t,label:n("calendar.action.include-time-label"),onChange:e})]})}function rY(){const e=f.useContext(Kfe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}function PSn(e){const{t}=q(),n=Hl({month:"long",year:"numeric"}),{focusedDate:r}=rY(),{moveFocusedDate:i,onNowClick:a}=e,o=f.useCallback(()=>i(-1),[i]),s=f.useCallback(()=>i(1),[i]);return u.jsxs(z,{align:"center",flex:1,justify:"space-between",children:[u.jsx(Rn,{paddingLeft:2,space:1,children:u.jsx(N,{size:1,weight:"medium",children:ike(n.format(r))})}),u.jsxs(z,{align:"center",children:[u.jsx(he,{"aria-label":t("calendar.action.go-to-today-aria-label"),mode:"bleed",onClick:a,text:t("calendar.action.go-to-today")}),u.jsx(he,{icon:If,mode:"bleed",onClick:o,tooltipProps:{content:t("calendar.action.go-to-previous-month")}}),u.jsx(he,{icon:io,mode:"bleed",onClick:s,tooltipProps:{content:t("calendar.action.go-to-next-month")}})]})]})}const FSn=$.svg(({theme:e})=>de`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: ${e.sanity.color.card.enabled.border};
      stroke-width: 3;
      fill: none;
    }
  `),NSn=$(ie)`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`;function LSn({date:e,onSelect:t}){const n=f.useCallback(()=>{t(e)},[e,t]),{date:r,endDate:i,focusedDate:a,selectRange:o}=rY(),s=r&&Co(e,r),l=o&&r&&Co(e,r),c=o&&i&&Co(e,i),d=wM(e,a),h=a&&Co(e,a),p=Co(e,new Date),m=r&&i&&!l&&!c&&NA(e,r)&&YU(e,i);return u.jsxs(NSn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":s,"data-end-date":c?!0:void 0,"data-focused":h?"true":"","data-ui":"CalendarDay","aria-selected":s,"data-start-date":l?!0:void 0,"data-within-range":m?!0:void 0,forwardedAs:"button",onClick:n,paddingX:3,paddingY:2,radius:2,role:"button",selected:s||l||c,tabIndex:-1,tone:m?"primary":"default",children:[p&&u.jsx(FSn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:u.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),u.jsx(N,{align:"center",muted:!s&&!d,size:1,weight:d?"medium":"regular",children:e.getDate()})]})}const QP=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];LE(0,24);const BSn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VSn=[1,2,3,4,5,6],zSn=(e,t)=>{const n=vM(e);return yM({start:n,end:xM(n)},{weekStartsOn:t===7?0:t})},USn=e=>e.map(t=>[t,...VSn.map(n=>Yr(t,n))]),HSn=e=>{const{weekInfo:t}=Yp();return USn(zSn(e,t.firstDay)).map(n=>({number:bM(n[0]),days:n}))},WSn={1:QP,7:[QP[6],...QP.slice(0,6)]},GSn=$(Gn)`
  grid-template-columns: repeat(7, minmax(44px, auto));
`;function YSn({hidden:e,onSelect:t}){const{focusedDate:n,firstWeekDay:r}=rY(),{t:i}=q();return u.jsx(L,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:u.jsxs(GSn,{gapY:1,children:[WSn[r].map(a=>u.jsx(L,{paddingBottom:3,paddingTop:2,children:u.jsx(N,{align:"center",size:1,weight:"medium",children:i(a)})},a)),HSn(n).map((a,o)=>a.days.map((s,l)=>u.jsx(LSn,{date:s,onSelect:t},`${o}-${l}`)))]})})}const qSn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function KSn(e){const{date:t,endDate:n,onSelect:r,selectRange:i,selectTime:a}=e,[o,s]=f.useState(null),[l,c]=f.useState(!1),[d,h]=f.useState(t||new Date),p=f.useRef(t||null),m=f.useRef(n||null),{weekInfo:{firstDay:g}}=Yp(),y=f.useCallback(()=>{var S;(S=o==null?void 0:o.querySelector('[data-focused="true"]'))==null||S.focus()},[o]),v=f.useCallback(S=>{const E=XIt(S,{hours:S.getHours(),minutes:S.getMinutes(),seconds:0,milliseconds:0}),k=t&&YU(E,t),_=n&&NA(E,n);if(i){if(k||_){r({date:E,endDate:null});return}r(l?{date:t||null,endDate:E}:{date:E,endDate:t?null:n||null})}else r({date:E})},[t,n,r,l,i]),b=f.useCallback(()=>{const S=new Date;i?h(S):r({date:S})},[r,i,h]),x=f.useCallback(S=>{var E;if(BSn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){y();return}S.key==="ArrowUp"&&h(Yr(d,-7)),S.key==="ArrowDown"&&h(Yr(d,7)),S.key==="ArrowLeft"&&h(Yr(d,-1)),S.key==="ArrowRight"&&h(Yr(d,1)),(E=o==null?void 0:o.querySelector("[data-preserve-focus]"))==null||E.focus()}},[o,y,d,h]),w=f.useCallback(S=>h(NE(d,S)),[d,h]);f.useEffect(()=>{y()},[y]),f.useEffect(()=>{var S;(S=document.activeElement)!=null&&S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&y()},[y,d]),f.useEffect(()=>{var j,A;const S=(t==null?void 0:t.getTime())!==((j=p.current)==null?void 0:j.getTime()),E=(n==null?void 0:n.getTime())!==((A=m.current)==null?void 0:A.getTime()),k=S&&!E,_=!S&&E,T=t&&n&&NA(t,n);k&&(T&&(c(!0),r({date:t,endDate:null})),c(!!t),t&&h(t)),_&&(T&&(c(!0),r({date:n,endDate:null})),c(!!t&&!n),n&&h(n)),S&&E&&(c(!0),t&&h(t)),p.current=t||null,m.current=n||null},[t,n,r]);const C=f.useMemo(()=>({date:t,endDate:n,focusedDate:d,selectRange:i,selectTime:a,firstWeekDay:g}),[t,n,g,d,i,a]);return u.jsx(Kfe.Provider,{value:C,children:u.jsxs(L,{"data-ui":"Calendar",ref:s,children:[u.jsx(z,{children:u.jsx(L,{flex:1,children:u.jsx(PSn,{moveFocusedDate:w,onNowClick:b})})}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:x,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(YSn,{onSelect:v}),qSn]})]})})}function iY({date:e,endDate:t,onChange:n,selectRange:r,selectTime:i}){const a=f.useCallback(o=>{n(o)},[n]);return u.jsx(KSn,{date:e,endDate:t,onSelect:a,selectRange:r,selectTime:i})}const ZSn=$(L)(({$background:e,$smallClearButton:t})=>de`
    width: 100%;

    input + span {
      background: ${({theme:n})=>e?n.sanity.color.card.disabled.bg2:"transparent"};
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: ${t?"scale(0.8)":"scale(1)"};
      &:hover {
        opacity: 0.5;
      }
    }
  `),aY=f.forwardRef(function(e,t){const{$background:n,$smallClearButton:r,...i}=e;return u.jsx(ZSn,{$background:n,$smallClearButton:r,children:u.jsx(Lr,{...i,ref:t})})});function Wd({date:e,dateOnly:t,roundDay:n}){let r;switch(n){case"end":r=eS(e);break;case"start":r=bp(e);break;default:r=e;break}return t?r.toISOString().split("T")[0]:r.toISOString()}const P5={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function Vj({isDateTime:e,onChange:t,placeholderDate:n,isDateTimeFormat:r,value:i,...a}){const{t:o}=q(),s=r?P5.datetime.pattern:P5.date.pattern,[l,c]=f.useState(void 0),[d,h]=f.useState(()=>{if(!i)return"";const x=new Date(i);return _c(x,s)}),p=f.useMemo(()=>_c(n||new Date,s),[s,n]),m=f.useCallback(({dateString:x,triggerOnChange:w})=>{if(!x)return;const C=ZU(x,s,new Date),S=gf(C);S&&(w&&t(Wd({date:C,dateOnly:!e})),h(_c(C,s))),c(S?void 0:`Invalid ${e?"datetime":"date"}`)},[s,e,t]),g=f.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),y=f.useCallback(x=>{h(x.currentTarget.value)},[]),v=f.useCallback(()=>{t(null),c(void 0),h("")},[t]),b=f.useCallback(x=>{x.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return f.useEffect(()=>{const x=i&&new Date(i);x&&m({dateString:_c(x,s),triggerOnChange:!1})},[s,m,r,i]),u.jsx(bt,{content:o("calendar.error.must-be-in-format",{exampleDate:r?P5.datetime.exampleDate:P5.date.exampleDate}),disabled:!l,placement:"top",portal:!0,children:u.jsx(aY,{...a,clearButton:!!d,customValidity:l,onBlur:g,onChange:y,onClear:v,onKeyDown:b,placeholder:p,value:d})})}function WR({direction:e,isDateTime:t,onChange:n,value:r}){const{state:{fullscreen:i}}=en(),{t:a}=q(),o=f.useMemo(()=>{switch(e){case"after":return"end";case"before":return"start";default:return}},[e]),s=f.useCallback(({date:d})=>{let h=null;d&&(h=Wd({date:d,dateOnly:!t,roundDay:r!=null&&r.includeTime?void 0:o})),n({includeTime:r==null?void 0:r.includeTime,date:h})},[t,n,o,r==null?void 0:r.includeTime]),l=f.useCallback(()=>{const d=!(r!=null&&r.includeTime),h=r!=null&&r.date?new Date(r.date):null;let p=null;h&&(p=Wd({date:h,dateOnly:!t,roundDay:d?"start":o})),n({includeTime:d,date:p})},[t,n,o,r]),c=f.useCallback(d=>{n({includeTime:r==null?void 0:r.includeTime,date:d||null})},[n,r==null?void 0:r.includeTime]);return u.jsxs(ne,{space:3,children:[u.jsx(Vj,{"aria-label":a("search.filter-date-aria-label"),fontSize:i?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:c,radius:2,value:r==null?void 0:r.date}),u.jsx(iY,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:s,selectTime:t}),t&&u.jsx(nY,{onChange:l,value:!!(r!=null&&r.includeTime)})]})}function XSn(e){return u.jsx(WR,{...e,direction:"after",isDateTime:!1})}function JSn(e){return u.jsx(WR,{...e,direction:"before",isDateTime:!1})}function kRe({isDateTime:e,onChange:t,value:n}){const{state:{fullscreen:r}}=en(),{t:i}=q(),a=f.useCallback(({date:l})=>{if(l){const c=Wd({date:l,dateOnly:!e});t({includeTime:n==null?void 0:n.includeTime,date:c})}else t(null)},[e,t,n==null?void 0:n.includeTime]),o=f.useCallback(()=>{const l=!(n!=null&&n.includeTime),c=n!=null&&n.date?new Date(n.date):null;let d=null;c&&(d=Wd({date:c,dateOnly:!e})),t({includeTime:l,date:d})},[e,t,n]),s=f.useCallback(l=>{t({includeTime:n==null?void 0:n.includeTime,date:l||null})},[t,n==null?void 0:n.includeTime]);return u.jsxs(ne,{space:3,children:[u.jsx(Vj,{"aria-label":i("search.filter-date-aria-label"),fontSize:r?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:s,radius:2,value:n==null?void 0:n.date}),u.jsx(iY,{date:n!=null&&n.date?new Date(n.date):void 0,onChange:a,selectTime:e}),e&&u.jsx(nY,{onChange:o,value:!!(n!=null&&n.includeTime)})]})}function tce(e){return u.jsx(kRe,{...e,isDateTime:!1})}const QSn=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function nce({onChange:e,value:t}){const[n,r]=f.useState((t==null?void 0:t.unitValue)||""),i=f.useRef("day"),a=f.useRef((t==null?void 0:t.unitValue)||null),{t:o}=q(),{state:{fullscreen:s}}=en(),l=f.useCallback(()=>{e({unit:i==null?void 0:i.current,unitValue:a==null?void 0:a.current})},[e]),c=f.useCallback(h=>{i.current=h.currentTarget.value,l()},[l]),d=f.useCallback(h=>{r(h.currentTarget.value);const p=parseFloat(h.currentTarget.value);a.current=Number.isFinite(p)?p:null,l()},[l]);return u.jsxs(z,{gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(Lr,{"aria-label":o("search.filter-date-value-aria-label"),fontSize:s?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:n})}),u.jsx(L,{flex:1,children:u.jsx(Xl,{"aria-label":o("search.filter-date-unit-aria-label"),fontSize:s?2:1,onChange:c,radius:2,value:t==null?void 0:t.unit,children:QSn.map(h=>u.jsx("option",{value:h.unit,children:o(h.key)},h.key))})})]})}const eEn=-7;function _Re({isDateTime:e,onChange:t,value:n}){const{t:r}=q(),{state:{fullscreen:i}}=en(),a=f.useMemo(()=>Yr(new Date,eEn),[]),o=f.useMemo(()=>new Date,[]),s=f.useCallback(({date:h,endDate:p})=>{t(rce({date:h,endDate:p,includeTime:n==null?void 0:n.includeTime,isDateTime:e}))},[e,t,n==null?void 0:n.includeTime]),l=f.useCallback(()=>{const h=!(n!=null&&n.includeTime);t(rce({date:n!=null&&n.from?new Date(n.from):null,endDate:n!=null&&n.to?new Date(n.to):null,includeTime:h,isDateTime:e}))},[e,t,n]),c=f.useCallback(h=>{t({includeTime:n==null?void 0:n.includeTime,to:h||null,from:(n==null?void 0:n.from)||null})},[t,n]),d=f.useCallback(h=>{t({includeTime:n==null?void 0:n.includeTime,to:(n==null?void 0:n.to)||null,from:h||null})},[t,n]);return u.jsx("div",{children:u.jsxs(ne,{space:3,children:[u.jsxs(z,{direction:"column",gap:3,children:[u.jsx(Vj,{"aria-label":r("search.filter-date-range-start-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:d,placeholderDate:a,radius:2,value:n==null?void 0:n.from}),u.jsx(Vj,{"aria-label":r("search.filter-date-range-end-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:c,placeholderDate:o,radius:2,value:n==null?void 0:n.to})]}),u.jsx(iY,{date:n!=null&&n.from?new Date(n.from):void 0,endDate:n!=null&&n.to?new Date(n.to):void 0,onChange:s,selectRange:!0,selectTime:e}),e&&u.jsx(nY,{onChange:l,value:!!(n!=null&&n.includeTime)})]})})}function rce({date:e,endDate:t,includeTime:n,isDateTime:r}){return n?{includeTime:n,to:t?Wd({date:t,dateOnly:!r,roundDay:"start"}):null,from:e?Wd({date:e,dateOnly:!r,roundDay:"start"}):null}:{includeTime:n,to:t?Wd({date:t,dateOnly:!r,roundDay:"end"}):null,from:e?Wd({date:e,dateOnly:!r,roundDay:"start"}):null}}function tEn(e){return u.jsx(_Re,{...e,isDateTime:!1})}function nEn(e){return u.jsx(WR,{...e,direction:"after",isDateTime:!0})}function rEn(e){return u.jsx(WR,{...e,direction:"before",isDateTime:!0})}function ice(e){return u.jsx(kRe,{...e,isDateTime:!0})}function iEn(e){return u.jsx(_Re,{...e,isDateTime:!0})}const yl={dateAfter:{buttonValueComponent:$5,initialValue:null},dateBefore:{buttonValueComponent:$5,initialValue:null},dateEqual:{buttonValueComponent:$5,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:tSn},dateNotEqual:{buttonValueComponent:$5,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},aEn={dateAfter:{...yl.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} > ${mt(t==null?void 0:t.date)}`:null,inputComponent:XSn,type:"dateAfter"},dateBefore:{...yl.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} < ${mt(t==null?void 0:t.date)}`:null,inputComponent:JSn,type:"dateBefore"},dateEqual:{...yl.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} == ${mt(t.date)}`:null,inputComponent:tce,type:"dateEqual"},dateLast:{...yl.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?wte(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString().split("T")[0]:null;return r&&e?`${e} > ${mt(r)}`:null},inputComponent:nce,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{...yl.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} != ${mt(t.date)}`:null,inputComponent:tce,type:"dateNotEqual"},dateRange:{...yl.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:Que,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&(t!=null&&t.from)&&e?`${e} >= ${mt(t.from)} && ${e} <= ${mt(t.to)}`:null,initialValue:{includeTime:!1,to:xte().toISOString(),from:null},inputComponent:tEn,type:"dateRange"},dateTimeAfter:{...yl.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) > dateTime(${mt(t.date)})`:null,inputComponent:nEn,type:"dateTimeAfter"},dateTimeBefore:{...yl.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) < dateTime(${mt(t.date)})`:null,inputComponent:rEn,type:"dateTimeBefore"},dateTimeEqual:{...yl.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!gf(n)||!e)return null;const r=(t!=null&&t.includeTime?dte(n):bp(n)).toISOString(),i=(t!=null&&t.includeTime?fte(n):eS(n)).toISOString();return`dateTime(${e}) > dateTime(${mt(r)}) && dateTime(${e}) < dateTime(${mt(i)})`},inputComponent:ice,type:"dateTimeEqual"},dateTimeLast:{...yl.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?wte(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString():null;return r&&e?`dateTime(${e}) > dateTime(${mt(r)})`:null},initialValue:{unit:"day",unitValue:7},inputComponent:nce,type:"dateTimeLast"},dateTimeNotEqual:{...yl.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!gf(n)||!e)return null;const r=(t!=null&&t.includeTime?dte(n):bp(n)).toISOString(),i=(t!=null&&t.includeTime?fte(n):eS(n)).toISOString();return`dateTime(${e}) < dateTime(${mt(r)}) || dateTime(${e}) > dateTime(${mt(i)})`},inputComponent:ice,type:"dateTimeNotEqual"},dateTimeRange:{...yl.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:Que,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&(t!=null&&t.from)&&e?`dateTime(${e}) >= dateTime(${mt(t.from)}) && dateTime(${e}) <= dateTime(${mt(t.to)})`:null,initialValue:{includeTime:!1,to:xte().toISOString(),from:null},inputComponent:iEn,type:"dateTimeRange"}},oEn={defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:({fieldPath:e})=>e?`defined(${e})`:null,type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",i18nKey:"search.operator.not-defined",groqFilter:({fieldPath:e})=>e?`!defined(${e})`:null,type:"notDefined"}},sEn={numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} == ${mt(t)}`:null,initialValue:null,inputComponent:Al,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} > ${mt(t)}`:null,icon:CRe,initialValue:null,inputComponent:Al,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} >= ${mt(t)}`:null,icon:wRe,initialValue:null,inputComponent:Al,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} < ${mt(t)}`:null,icon:ERe,initialValue:null,inputComponent:Al,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} <= ${mt(t)}`:null,icon:SRe,initialValue:null,inputComponent:Al,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} != ${mt(t)}`:null,initialValue:null,inputComponent:Al,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`${e} > ${mt(t==null?void 0:t.from)} && ${e} < ${mt(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:pRe,type:"numberRange"}};function Pl({onChange:e,value:t}){const{state:{fullscreen:n}}=en(),{t:r}=q(),i=f.useCallback(a=>e(a.currentTarget.value||null),[e]);return u.jsx(Lr,{fontSize:n?2:1,onChange:i,placeholder:r("search.filter-string-value-placeholder"),radius:2,value:t||""})}const lEn={portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) == ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) match ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) != ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(pt::text(${e}) match ${mt(t)})`:null,initialValue:null,inputComponent:Pl,type:"portableTextNotMatches"}},uEn={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref == ${mt(t._ref)}`:null,initialValue:null,inputComponent:aC,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:Su,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref != ${mt(t._ref)}`:null,initialValue:null,inputComponent:aC,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:Su,groqFilter:({value:e})=>e!=null&&e._ref?`references(${mt(e._ref)})`:null,initialValue:null,inputComponent:G1("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:Su,groqFilter:({value:e})=>e!=null&&e._ref?`references(${mt(e._ref)})`:null,initialValue:null,inputComponent:G1("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:Su,groqFilter:({value:e})=>e!=null&&e._ref?`references(${mt(e._ref)})`:null,initialValue:null,inputComponent:aC,type:"referencesDocument"}},cEn={slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current == ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current match ${mt(t)}`:null,initialValue:null,inputComponent:Pl,label:"contains",type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current != ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e}.current match ${mt(t)})`:null,initialValue:null,inputComponent:Pl,type:"slugNotMatches"}},dEn={stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${mt(t)}`:null,initialValue:null,inputComponent:Bj,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${mt(t)}`:null,initialValue:null,inputComponent:Bj,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} match ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${mt(t)}`:null,initialValue:null,inputComponent:Pl,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e} match ${mt(t)})`:null,initialValue:null,inputComponent:Pl,type:"stringNotMatches"}},fEn={...xSn,...MSn,...OSn,...aEn,...oEn,...sEn,...lEn,...uEn,...cEn,...dEn},hEn=Object.values(fEn);function ace(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const pEn=$.text`
  font-family: ${({theme:e})=>e.sanity.fonts.text.family};
  font-weight: ${({theme:e})=>e.sanity.fonts.text.weights.medium};
  font-size: ${({theme:e})=>e.sanity.fonts.text.sizes[1].fontSize}px;
  transform: translateY(1px);
`;function mEn(e,t){const n=ace(`${e} ${t}`),r=G7.filter(m=>m!=="gray"),i=r[Math.floor(n*r.length)],a=["300","400","500","600","700"],o=ace(n.toString()),s=a[Math.floor(o*a.length)],l=rt[i][s].hex,c=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=I_e(l,.4),h=WUt(l,.4),p=Wie(l,"readable",d)?Wie(l,"readable",h)?YUt(l):h:d;return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[u.jsx("rect",{width:32,height:32,rx:2,fill:l}),u.jsx(pEn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:c})]})}const ri="comments",gEn={locale:"en-US",namespace:ri,resources:()=>Tf(()=>import("./resources-6d38ebf7.js"),[])};function yEn(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback(o=>{r(o)},[]),a=f.useMemo(()=>({authoringPath:n,setAuthoringPath:i}),[n,i]);return u.jsx(Qfe.Provider,{value:a,children:t})}function vEn(){return f.useContext(nhe)}function bEn(e){const{documentId:t,documentType:n,getCommentLink:r}=e||{},i=tn().get(n),{title:a}=Vr(),o=da(),s=f.useMemo(()=>!t||!i?we(null):Mb(o,i,t,""),[t,o,i]),l=ti(s),{published:c,draft:d}=l||{},h=(d==null?void 0:d.title)||(c==null?void 0:c.title)||"Sanity document";return{getNotificationValue:f.useCallback(({commentId:p})=>({documentTitle:h,url:r==null?void 0:r(p),workspaceTitle:a}),[h,r,a])}}function na(e,t){const{currentUser:n,document:r,parent:i,value:a}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:i,value:a,currentUser:n})===!0}function gc(e,t,n){if(t.length===0)return{...e||{},value:n};const[r,...i]=t,a=En(r)?r._key:String(r),o=(e==null?void 0:e.children)??{};return{value:e==null?void 0:e.value,children:{...o,[a]:gc(o[a]||{},i,n)}}}const oY=20,xEn=3,zh={name:"all-fields",title:"All fields",hidden:!1,i18n:{title:{key:"inputs.object.field-group-tabs.all-fields-title",ns:hv}}};function sY(e={},t){if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=xEn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function TRe(e,t,n){return n.name===zh.name?!0:t===void 0?!1:e.length===0&&n.name===zh.name?!0:zE(t).includes(n.name)}function oce(e){return typeof e>"u"||wt(e)}function wEn(e){return typeof e>"u"||Array.isArray(e)}function CEn(e){return typeof e>"u"||Array.isArray(e)}function SEn(e){return e.length===0||e.every(t=>wt(t))}function EEn(e){const t=new Set;return e.reduce((n,r,i)=>(t.has(r._key)&&n.push([i,r._key]),t.add(r._key),n),[])}function kEn(e){return"_key"in e}function _En(e){return e==null?void 0:e.every(t=>wt(t)&&kEn(t))}function wy(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!kt(e,t)}function sce(e){var d,h,p,m,g,y,v,b,x,w,C,S,E,k,_,T,j,A;const{parent:t,field:n,index:r}=e,i=Nc([...t.path,n.name]),a=dln(n.type,t.level+1),o=t.value,s=t.comparisonValue;if(!oce(o))throw new Error("Unexpected non-object value");const l=n.group?zE(n.group):[],c=TRe(t.groups,n.group,t.selectedGroup);if(Ui(n.type)){const I=o==null?void 0:o[n.name],M=wt(s)?s==null?void 0:s[n.name]:void 0;if(!oce(I))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:Cs(I),value:I}};const D={value:I,parent:t.value,document:t.document,currentUser:t.currentUser};if(na(n.type.hidden,D))return{kind:"hidden",key:`field-${n.name}`,name:n.name,index:r};const O=t.readOnly||na(n.type.readOnly,D),R=(h=(d=t.fieldGroupState)==null?void 0:d.children)==null?void 0:h[n.name],F=(m=(p=t.collapsedPaths)==null?void 0:p.children)==null?void 0:m[n.name],P=(y=(g=t.collapsedFieldSets)==null?void 0:g.children)==null?void 0:y[n.name],V=lY({schemaType:n.type,currentUser:t.currentUser,parent:t.value,document:t.document,value:I,changed:wy(I,M),comparisonValue:M,presence:t.presence,validation:t.validation,fieldGroupState:R,path:i,level:a,focusPath:t.focusPath,openPath:t.openPath,collapsedPaths:F,collapsedFieldSets:P,readOnly:O,changesOpen:t.changesOpen});if(V===null)return null;const U=sY(n.type.options,a),H=F?F.value:U.collapsed;return{kind:"field",key:`field-${n.name}`,name:n.name,index:r,inSelectedGroup:c,groups:l,open:Ha(i,t.openPath),field:V,collapsed:H,collapsible:U.collapsible}}else if(_s(n.type)){const I=o==null?void 0:o[n.name],M=wt(s)?s==null?void 0:s[n.name]:void 0;if(Af(n.type)){const D=typeof I<"u";if(D&&!wEn(I)){const H=Cs(I);return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:H,value:I}}}if(D&&!SEn(I))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"MIXED_ARRAY",schemaType:n.type,value:I}};if(D&&!_En(I))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"MISSING_KEYS",value:I,schemaType:n.type}};const O=D?EEn(I):[];if(O.length>0)return{kind:"error",key:n.name,fieldName:n.name,error:{type:"DUPLICATE_KEYS",duplicates:O,schemaType:n.type}};const R=(b=(v=t.fieldGroupState)==null?void 0:v.children)==null?void 0:b[n.name],F=(w=(x=t.collapsedPaths)==null?void 0:x.children)==null?void 0:w[n.name],P=(S=(C=t.collapsedFieldSets)==null?void 0:C.children)==null?void 0:S[n.name],V=t.readOnly||na(n.type.readOnly,{value:I,parent:t.value,document:t.document,currentUser:t.currentUser}),U=AEn({schemaType:n.type,parent:t.value,currentUser:t.currentUser,document:t.document,value:I,changed:wy(I,M),comparisonValue:M,fieldGroupState:R,focusPath:t.focusPath,openPath:t.openPath,presence:t.presence,validation:t.validation,collapsedPaths:F,collapsedFieldSets:P,level:a,path:i,readOnly:V});return U===null?null:{kind:"field",key:`field-${n.name}`,name:n.name,index:r,open:Ha(i,t.openPath),inSelectedGroup:c,groups:l,collapsible:!1,collapsed:!1,field:U}}else{if(!CEn(I)){const V=Cs(I);return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:V,value:I}}}const D=(k=(E=t.fieldGroupState)==null?void 0:E.children)==null?void 0:k[n.name],O=(T=(_=t.collapsedPaths)==null?void 0:_.children)==null?void 0:T[n.name],R=(A=(j=t.collapsedFieldSets)==null?void 0:j.children)==null?void 0:A[n.name],F=t.readOnly||na(n.type.readOnly,{value:I,parent:t.value,document:t.document,currentUser:t.currentUser}),P=TEn({changed:wy(I,M),comparisonValue:M,schemaType:n.type,parent:t.value,currentUser:t.currentUser,document:t.document,value:I,fieldGroupState:D,focusPath:t.focusPath,openPath:t.openPath,presence:t.presence,validation:t.validation,collapsedPaths:O,collapsedFieldSets:R,level:a,path:i,readOnly:F});return P===null?null:{kind:"field",key:`field-${n.name}`,name:n.name,index:r,inSelectedGroup:c,groups:l,open:Ha(i,t.openPath),collapsible:!1,collapsed:!1,field:P}}}else{const I=o==null?void 0:o[n.name],M=wt(s)?s==null?void 0:s[n.name]:void 0,D={value:I,parent:t.value,document:t.document,currentUser:t.currentUser};if(na(n.type.hidden,D))return null;const O=t.readOnly||na(n.type.readOnly,D),R=ARe({...t,comparisonValue:M,value:I,schemaType:n.type,path:i,readOnly:O});return{kind:"field",key:`field-${n.name}`,name:n.name,index:r,open:Ha(i,t.openPath),inSelectedGroup:c,groups:l,collapsible:!1,collapsed:!1,field:R}}}function lY(e,t=!0){var b;if(e.level===oY)return null;const n={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},r=e.readOnly||na(e.schemaType.readOnly,n),i=e.schemaType.groups||[],a=(b=i.find(x=>x.default)||zh)==null?void 0:b.name,o=[zh,...i].flatMap(x=>{var k;const w=na(x.hidden,n),C=x.name===(((k=e.fieldGroupState)==null?void 0:k.value)||a),S=e.changesOpen?x.name===zh.name:C,E=e.changesOpen?!S:!1;return w?[]:[{disabled:E,icon:x==null?void 0:x.icon,name:x.name,selected:S,title:x.title,i18n:x.i18n}]}),s=o.find(x=>x.selected),l=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(x=>({single:!0,field:x}))).flatMap((x,w)=>{var j,A,I;if(x.single){const M=x.field,D=sce({field:M,parent:{...e,readOnly:r,groups:o,selectedGroup:s},index:w});return D?[D]:[]}const C=x.fields.map(M=>M.name),S=na(x.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Wt(e.value,C)}),E=na(x.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Wt(e.value,C)}),k=x.fields.flatMap(M=>{if(S)return[{kind:"hidden",key:`field-${M.name}`,name:M.name,index:w}];const D=sce({field:M,parent:{...e,readOnly:r||E,groups:o,selectedGroup:s},index:w});return D?[D]:[]}),_=sY(x.options,e.level),T=((A=(((j=e.collapsedFieldSets)==null?void 0:j.children)||{})[x.name])==null?void 0:A.value)??_.collapsed;return[{kind:"fieldSet",key:`fieldset-${x.name}`,_inSelectedGroup:TRe(o,x.group,s),groups:x.group?zE(x.group):[],fieldSet:{path:Nc(e.path.concat(x.name)),name:x.name,title:x.title,description:x.description,hidden:!1,level:e.level+1,members:k.filter(M=>M.kind!=="hidden"),collapsible:_==null?void 0:_.collapsible,collapsed:T,columns:(I=x==null?void 0:x.options)==null?void 0:I.columns}}]}),c=i.length>0,d=e.presence.filter(x=>Sr(x.path,e.path)),h=d.length?d:rn,p=e.validation.filter(x=>Sr(x.path,e.path)).map(x=>({level:x.level,message:x.message,path:x.path})),m=l.filter(x=>x.kind!=="hidden");if(m.length===0&&t)return null;const g=c?o.flatMap(x=>x.name===zh.name||m.some(w=>w.kind==="error"?!1:w.kind==="field"?w.groups.includes(x.name):w.groups.includes(x.name)||w.fieldSet.members.some(C=>C.kind!=="error"&&C.groups.includes(x.name)))?x:[]):[],y=m.flatMap(x=>{if(x.kind==="error")return[x];if(x.kind==="field")return x.inSelectedGroup?[x]:[];const w=x.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...x,fieldSet:{...x.fieldSet,members:w}}]:[]}),v={value:e.value,changed:wy(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:r,path:e.path,id:Zt(e.path),level:e.level,focused:Sr(e.path,e.focusPath),focusPath:B7(e.path,e.focusPath),presence:h,validation:p,members:y,groups:g};return Object.defineProperty(v,"_allMembers",{value:l,enumerable:!1}),v}function TEn(e){if(e.level===oY)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(na(e.schemaType.hidden,t))return null;const n=e.readOnly||na(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>Sr(l.path,e.path)),a=i.length?i:rn,o=e.validation.filter(l=>Sr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,c)=>IEn({arrayItem:l,parent:e,index:c}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:Sr(e.path,e.focusPath),focusPath:B7(e.path,e.focusPath),path:e.path,id:Zt(e.path),level:e.level,validation:o,presence:a,members:s}}function AEn(e){if(e.level===oY)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(na(e.schemaType.hidden,t))return null;const n=e.readOnly||na(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>Sr(l.path,e.path)),a=i.length?i:rn,o=e.validation.filter(l=>Sr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,c)=>jEn({arrayItem:l,parent:e,index:c}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:Sr(e.path,e.focusPath),focusPath:B7(e.path,e.focusPath),path:e.path,id:Zt(e.path),level:e.level,validation:o,presence:a,members:s}}function jEn(e){var b,x,w,C,S,E;const{arrayItem:t,parent:n,index:r}=e,i=DR(n.schemaType,t),a=t._key;if(!i){const k=Cs(t);return{kind:"error",key:a,index:r,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:k,value:t,validTypes:n.schemaType.of}}}const o=Nc([...n.path,{_key:a}]),s=n.level+1,l={value:n.value,parent:e.parent,document:n.document,currentUser:n.currentUser},c=n.readOnly||na(n.schemaType.readOnly,l),d=(x=(b=n.fieldGroupState)==null?void 0:b.children)==null?void 0:x[a],h=(C=(w=n.collapsedPaths)==null?void 0:w.children)==null?void 0:C[a],p=(E=(S=n.collapsedFieldSets)==null?void 0:S.children)==null?void 0:E[a],m=Array.isArray(n.comparisonValue)&&n.comparisonValue.find(k=>k._key===t._key)||void 0,g=lY({schemaType:i,level:s,document:n.document,value:t,comparisonValue:m,changed:wy(t,m),path:o,focusPath:n.focusPath,openPath:n.openPath,currentUser:n.currentUser,collapsedPaths:h,collapsedFieldSets:p,presence:n.presence,validation:n.validation,fieldGroupState:d,readOnly:c},!1),y=sY(i.options,s),v=(h==null?void 0:h.value)??y.collapsed;return{kind:"item",key:a,index:r,open:Ha(o,n.openPath),collapsed:v,collapsible:!0,parentSchemaType:n.schemaType,item:g}}function IEn(e){var p,m;const{arrayItem:t,parent:n,index:r}=e,i=fdn(n.schemaType,t),a=Nc([...n.path,r]),o=(p=n.value)==null?void 0:p[r],s=(m=n.comparisonValue)==null?void 0:m[r],l=n.level+1,c=`${(i==null?void 0:i.name)||"invalid-type"}-${String(r)}`;if(!i)return{kind:"error",key:c,index:r,error:{type:"INVALID_ITEM_TYPE",validTypes:n.schemaType.of,resolvedValueType:Cs(i),value:o}};const d=n.readOnly||na(i.readOnly,{value:o,parent:n.value,document:n.document,currentUser:n.currentUser}),h=ARe({...n,path:a,schemaType:i,level:l,value:o,comparisonValue:s,readOnly:d});return{kind:"item",key:c,index:r,parentSchemaType:n.schemaType,open:Sr(a,n.openPath),item:h}}function ARe(e){const t=e.presence.filter(i=>Sr(i.path,e.path)),n=t.length?t:rn,r=e.validation.filter(i=>Sr(i.path,e.path)).map(i=>({level:i.level,message:i.message,path:i.path}));return{schemaType:e.schemaType,changed:wy(e.value,e.comparisonValue),value:e.value,level:e.level,id:Zt(e.path),readOnly:e.readOnly,focused:Sr(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function DEn(e){return lY(e)}function jRe(e,{comparisonValue:t,value:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:a,focusPath:o,openPath:s,presence:l,validation:c,readOnly:d,changesOpen:h}){const p=tr(),m=f.useRef(null);return f.useLayoutEffect(()=>{m.current=null},[e]),f.useMemo(()=>{const g=DEn({schemaType:e,document:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:a,value:n,comparisonValue:t,focusPath:o,openPath:s,readOnly:d,path:Nc([]),level:0,currentUser:p,presence:l,validation:c,changesOpen:h}),y=mR(m.current,g);return m.current=y,y},[e,n,r,i,a,t,o,s,d,p,l,c,h])}function MEn(e){return Ui(e.schemaType)}function REn(e){return Af(e.schemaType)}function IRe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function OEn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...DRe(e,t)]}function DRe(e,t){return t.length===0?[]:MEn(e)&&IRe(e)?MRe(e,t):REn(e)?RRe(e,t):[]}function MRe(e,t){var h,p;if(t.length===0)return[];const[n,...r]=t,i=e._allMembers.find(m=>m.kind==="fieldSet"&&m.fieldSet.members.some(g=>g.kind==="field"&&g.name===n)),a=(i?i.fieldSet.members:e._allMembers).find(m=>m!==null&&m.kind==="field"&&m.name===n),o=e.schemaType.fields.find(m=>m.name===n),s=(h=e.groups.find(m=>m.selected))==null?void 0:h.name,l=o&&zE(o.group)||[],c=s&&(s===zh.name||l.includes(s)),d=[];if(!c){const m=((p=e.groups.find(g=>l.includes(g.name)))==null?void 0:p.name)||zh.name;d.push({type:"setSelectedGroup",path:e.path,groupName:m})}return i&&d.push({type:"expandFieldSet",path:i.fieldSet.path}),a&&IRe(a.field)&&(aG(a)?d.push(...RRe(a.field,r)):tIe(a)&&d.push(...MRe(a.field,r))),d}function RRe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!En(n))throw new Error("Expected path segment to be an object with a _key property");const i=e.members.find(a=>a.key===n._key);return i?DRe(i.item,r):[]}const $En=/^\d+$/;function PEn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function FEn(e){const[t,n]=e.split("==");return{[t]:PEn(n)}}function NEn(e){return $En.test(e)?Number(e):e}function LEn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?FEn(t):NEn(t))}function r1(e){return LEn(e)}function ORe(e){return e.map(zEn)}function W6(e,t){return pr(t.map(n=>VEn(e,n)))}const BEn=e=>t=>!e.includes(t);function VEn(e,t){return pr(Object.keys(t).filter(BEn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:r1(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:r1(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:r1(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:r1(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:r1(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:r1(r),value:t[n][r],origin:e}:(console.warn(new Error(`Unsupported patch type: ${n}`)),null)).filter(Boolean)}))}function zEn(e){if(e.patchType!==Yg&&e.type)throw new Error(`Patch is missing "patchType" - import and use "${e.type}()" from "sanity/form"`);if(e.patchType!==Yg)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=L5e(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error(`Missing patch type in patch ${JSON.stringify(e)}`);return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}const UEn=f.memo(function(e){const{transform:t}=e,n=uu(),r=f.useCallback(a=>{const o=a.patches,s=t(o);n.onChange(Dt.from(s))},[n,t]),i=f.useMemo(()=>({...n,onChange:r}),[n,r]);return u.jsx(z7.Provider,{value:i,children:e.children})});function $Re(e,t){var i;const n=Zs(t),r=n[0];if(r&&Ui(e)){const a=(i=e==null?void 0:e.fields)==null?void 0:i.find(o=>o.name===r);if(a){const o=Zt(n.slice(1));return o?$Re(a.type,o):a}}}function HEn(e,t){if(typeof t=="number")return t;const n=pH(e,t);return n===-1?!1:n}function WEn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:i}=e,a=Zs(r),o=[];let s=null;return a.forEach((l,c)=>{var b,x,w,C,S,E,k;const d=a.slice(0,c+1),h=a.slice(0,c),p=$Re(n,Zt(d)),m=l.hasOwnProperty("_key"),g=sa(i,h),y=sa(i,d),v={document:i,currentUser:t,parent:g,value:y};if(m&&Array.isArray(g)){const _=HEn(g,l),T=typeof _=="number";o.push({invalid:_===!1,isArrayItem:!0,title:T?`#${Number(_)+1}`:"Unknown array item"});return}if(p!=null&&p.type){const _=na(p.type.hidden,v);o.push({invalid:_,isArrayItem:!1,title:Ru(p.type)}),s=p.type;return}if(_s(s)){const _=(b=sa(i,h))==null?void 0:b._type,T=(x=s==null?void 0:s.of)==null?void 0:x.find(O=>O.name===_),j=(w=T==null?void 0:T.fields)==null?void 0:w.find(O=>O.name===l);if(!_&&y){const O=(S=(C=s==null?void 0:s.of)==null?void 0:C.map(F=>F==null?void 0:F.fields).filter(Boolean).flat())==null?void 0:S.find(F=>(F==null?void 0:F.name)===l),R=na((E=O==null?void 0:O.type)==null?void 0:E.hidden,v);O&&(o.push({invalid:R,isArrayItem:!1,title:Ru(O==null?void 0:O.type)}),s=O==null?void 0:O.type);return}if(!j){o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const A=Ru(j==null?void 0:j.type),I=na((k=T==null?void 0:T.type)==null?void 0:k.hidden,v),M=na(j==null?void 0:j.type.hidden,v),D=I||M;o.push({invalid:D,isArrayItem:!1,title:A}),s=j==null?void 0:j.type;return}o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),o}function PRe(e){const t=f.useRef(e);return f.useMemo(()=>!kt(t.current,e),[e])}function O0(e){return e?e==null?void 0:e.some(t=>{var n;return Er(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>vi(r)?r.text:r.userId))}):!1}function GEn(e,t){var i,a;const n=(i=e==null?void 0:e.context)==null?void 0:i.intent,r=(a=t==null?void 0:t.context)==null?void 0:a.intent;if(r&&(!n||"preview"in r.params&&"preview"in n.params&&r.params.preview!==n.params.preview))return r}function Bb(e){var t,n,r,i,a,o;return e?!!(((r=(n=(t=e==null?void 0:e.target)==null?void 0:t.path)==null?void 0:n.selection)==null?void 0:r.type)==="text"&&((o=(a=(i=e==null?void 0:e.target)==null?void 0:i.path)==null?void 0:a.selection)!=null&&o.value)):!1}const lce=[];function YEn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:i,type:a}=e,o=t==null?void 0:t.filter(s=>!s.parentCommentId);return a==="task"?o.map(s=>{const l=t==null?void 0:t.filter(c=>c.parentCommentId===s._id);return{commentsCount:[s,...l].length,parentComment:s,replies:l,threadId:s.threadId,hasReferencedValue:!1,breadcrumbs:lce,fieldPath:""}}):a==="field"?o.map(s=>{var m,g,y;const l=WEn({currentUser:n,documentValue:r,fieldPath:((m=s.target.path)==null?void 0:m.field)||"",schemaType:i});let c=!1;if(Bb(s)&&(c=!!((g=s.target.path)!=null&&g.selection&&s.target.path.selection.value.some(v=>v.text))),l.some(v=>v.invalid))return;const d=t==null?void 0:t.filter(v=>v.parentCommentId===s._id),h=[s,...d].length,p=c;return{breadcrumbs:l,commentsCount:h,fieldPath:((y=s.target.path)==null?void 0:y.field)||"",parentComment:s,replies:d,threadId:s.threadId,hasReferencedValue:p}}).filter(Boolean):lce}const FRe=15;function uce(e,t){const n=yb(e,t),r=RM(n),i=ZEn(r);return{patches:OM(e,r,{margin:FRe}),levenshtein:i}}function qEn(e,t){return $M(t,e,{allowExceedingIndices:!0,margin:FRe})[0]}const G6="";function KEn(e){return e.children.map(t=>vi(t)?t.text.replaceAll(G6," "):"").join(G6)}const Eh=["",""],cce=new RegExp(`[${Eh.join("")}]`,"g"),dce=[];function NRe(e){const{value:t,comments:n}=e;if(!t||t.length===0)return dce;const r=n.filter(Bb),i=[];return r.forEach(a=>{var o,s;(s=(o=a.target.path)==null?void 0:o.selection)==null||s.value.forEach(l=>{const c=t.find(E=>E._key===l._key);if(!c||!Er(c))return;const d=l.text.replaceAll(cce,""),h=KEn(c),{patches:p}=uce(d,l.text),m=qEn(h,p),g=m.indexOf(Eh[0]),y=m.replaceAll(Eh[0],"").indexOf(Eh[1]),v=m.replaceAll(cce,""),b=l.text.slice(l.text.indexOf(Eh[0])+1,l.text.indexOf(Eh[1])),x=v.slice(g,y),{levenshtein:w}=uce(x,b),C=Math.round(x.length+b.length/2);let S=!1;if(x.length===0&&(S=!0),w>C&&(S=!0),g+1===y&&(S=!0),g!==-1&&y!==-1){let E=0,k=0,_=0,T=0;for(let j=0;j<v.length&&(v[j]===G6&&(j<=g&&(k=-1,E++),T=-1,_++),j<g&&k++,j<g+x.length&&T++,j!==g+x.length);j++);i.push({selection:{anchor:{path:[{_key:c._key},"children",{_key:c.children[E]._key}],offset:k},focus:{path:[{_key:c._key},"children",{_key:c.children[_]._key}],offset:T}},comment:a,range:{_key:c._key,text:S?"":m}})}})}),i.length===0?dce:i}function ZEn(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case kr:n+=o.length;break;case ar:r+=o.length;break;case Ht:t+=Math.max(n,r),n=0,r=0;break}}return t+=Math.max(n,r),t}const XEn=f.memo(function(e){const{children:t,commentId:n,currentHoveredCommentId:r,onClick:i,onHoverEnd:a,onHoverStart:o,selectedThreadId:s,threadId:l}=e,c=f.useRef(null),d=f.useRef(!1),h=f.useRef(null);f.useEffect(()=>{var E,k;const v=(E=c.current)==null?void 0:E.previousSibling,b=(k=c.current)==null?void 0:k.nextSibling;if(!v||!b){d.current=!1;return}const[x]=Object.keys(pce("")),w=v.getAttribute(x),C=b.getAttribute(x),S=!!(w&&C&&w===C);h.current=S?w:null,d.current=S},[]);const p=f.useCallback(()=>o(n),[n,o]),m=f.useCallback(()=>a(null),[a]),g=f.useCallback(()=>i(n),[n,i]),y=r===n||r===h.current&&d.current;return u.jsx(X$e,{isAdded:!0,isHovered:y||s===l,isNested:d.current,onClick:g,onMouseEnter:p,onMouseLeave:m,ref:c,...pce(l),children:t})});function JEn(e){const{comments:t,currentHoveredCommentId:n,onDecorationClick:r,onDecorationHoverEnd:i,onDecorationHoverStart:a,onDecorationMoved:o,selectedThreadId:s,value:l}=e;return NRe({comments:t,value:l}).map(({selection:c,comment:d,range:h})=>({component:({children:p})=>u.jsx(XEn,{commentId:d._id,currentHoveredCommentId:n,onClick:r,onHoverEnd:i,onHoverStart:a,selectedThreadId:s,threadId:d.threadId,children:p}),onMoved:o,selection:c,payload:{commentId:d._id,range:h}}))}function QEn(e){const{fragment:t,value:n,selection:r}=e;if(!r)throw new Error("Selection is required");const i=r.backward?{backward:!1,anchor:r.focus,focus:r.anchor}:r;return{type:"text",value:t.map(a=>{const o=n.find(y=>y._key===a._key);if(!Er(o))return{_key:a._key,text:""};const s=En(i.anchor.path[0])&&i.anchor.path[0]._key,l=En(i.focus.path[0])&&i.focus.path[0]._key,c=r2e([a]),d=Er(a)?a.children[0]:void 0,h=Er(a)?a.children[a.children.length-1]:void 0;let p="",m=-1;if(s===o._key)for(const y of o.children){if(m++,y._key===(d==null?void 0:d._key)){p+=vi(y)&&y.text.slice(0,Math.max(0,i.anchor.offset))||"";break}p+=y.text}let g="";if(l===o._key)for(const y of o.children.slice(m).reverse()){if(y._key===(h==null?void 0:h._key)){g=(vi(y)&&y.text.slice(i.focus.offset,y.text.length)||"")+g;break}g=y.text+g}return{_key:o._key,text:`${p}${Eh[0]}${c}${Eh[1]}${g}`}})}}function ekn(e,t){const n={};for(const r of e)n[r._key]={...r};for(const r of t)n[r._key]={...n[r._key],...r};return Object.values(n)}const fce=/\b(https?:\/\/[^\s,()]+(?:\.[^\s,()]+)*|www\.[^\s,()]+\.[^\s,()]{2,})\b/g;function tkn(e){e.stopPropagation()}function nkn(e){const t={href:e.startsWith("http")?e:`https://${e}`,target:"_blank",rel:"noopener noreferrer",key:e,onClick:tkn};return f.createElement("a",t,e)}const rkn=e=>typeof e=="string"?e.split(fce).flatMap(t=>t.match(fce)?nkn(t):t):e,ikn=[rkn];function akn(e){return Array.isArray(e)?e.flatMap(t=>{let n=[t];for(const r of ikn)n=n.flatMap(r);return n}):e}function Y6(e){if(e&&typeof e=="object"&&e.hasOwnProperty("_ref"))return{...e,_weak:!0};if(Array.isArray(e))return e.map(t=>Y6(t));if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(n=>{const r=e[n];typeof r=="object"&&r!==null?t[n]=Y6(r):t[n]=r}),t}return e}function okn(e){return Y6(e)}async function skn(e){const{activeTool:t,client:n,comment:r,currentUser:i,dataset:a,documentId:o,documentRevisionId:s,documentType:l,getIntent:c,getNotificationValue:d,getThreadLength:h,onCreate:p,onCreateError:m,projectId:g,createAddonDataset:y,workspace:v}=e,b=(r==null?void 0:r.id)||Ka(),x=i.id,w=((h==null?void 0:h(r.threadId))||0)+1;let C;if(r.type==="task"&&(C={_id:b,_type:"comment",authorId:x,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:v},notification:r.context.notification,tool:(t==null?void 0:t.name)||""},target:{document:{_ref:o,_type:"reference",_weak:!0},documentType:l}}),r.type==="field"){const{documentTitle:S="",url:E="",workspaceTitle:k=""}=d({commentId:b})||{},_={currentThreadLength:w,documentTitle:S,url:E,workspaceTitle:k},T=c==null?void 0:c({id:o,type:l,path:r.fieldPath}),j=okn(r.contentSnapshot);C={_id:b,_type:"comment",authorId:x,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:v},intent:T,notification:_,tool:(t==null?void 0:t.name)||""},contentSnapshot:j,target:{documentRevisionId:s||"",path:{field:r.fieldPath,selection:r.selection},document:{_dataset:a,_projectId:g,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:l}}}if(C){if(p==null||p(C),!n){try{const S=await y();if(!S)throw new Error("Failed to create addon dataset client");await S.create(C)}catch(S){throw m==null||m(C._id,S),S}return}try{await n.create(C)}catch(S){throw m==null||m(C._id,S),S}}}function lkn(e,t){return`${e}-${t}`}async function ukn(e){var h;const{client:t,currentUser:n,id:r,reaction:i,getComment:a,onUpdate:o}=e,s=((h=a==null?void 0:a(r))==null?void 0:h.reactions)||[],l=s.filter(p=>p.userId===n.id),c=lkn(n.id,i.shortName),d=l.find(p=>p._key===c&&p._optimisticState!=="removed");if(d){const p=s.map(m=>m._key===d._key?{...m,_optimisticState:"removed"}:m);o==null||o(r,{reactions:p}),await t.patch(r).unset([`reactions[_key=="${c}"]`]).commit();return}if(!d){const p={_key:c,addedAt:new Date().toISOString(),shortName:i.shortName,userId:n.id},m={...p,_optimisticState:"added"},g=s.concat(m).filter(y=>!(y._key===p._key&&y._optimisticState==="removed"));o==null||o(r,{reactions:g}),await t.patch(r).setIfMissing({reactions:[]}).append("reactions",[p]).commit()}}async function ckn(e){const{client:t,id:n,onRemove:r}=e;r==null||r(n),await Promise.all([t.delete({query:`*[_type == "comment" && parentCommentId == "${n}"]`}),t.delete(n)])}const dkn=1e3,fkn={trailing:!0,leading:!1},oT=new Map;function hkn(e){if(!oT.has(e)){const t=ab(LRe,dkn,fkn);return oT.set(e,t),t}return oT.get(e)}async function LRe(e){const{client:t,id:n,comment:r,transactionId:i,onUpdate:a}=e,o=i||Ka(),s=t==null?void 0:t.patch(n).set(r),l=t.transaction().transactionId(o).patch(s);a==null||a(n,r),r.status?(await l.commit(),await t.patch({query:`*[_type == "comment" && parentCommentId == "${n}"]`}).set({status:r.status}).commit()):await l.commit(),oT.delete(n)}async function pkn(e){const{id:t,comment:n,throttled:r}=e,i="message"in n,a={...n,lastEditedAt:new Date().toISOString()},o=i?a:n;if(!r){await LRe({...e,comment:o});return}await hkn(t)({...e,comment:o})}function mkn(e){const{client:t,currentUser:n,dataset:r,documentId:i,documentRevisionId:a,documentType:o,getComment:s,getThreadLength:l,onCreate:c,onCreateError:d,onRemove:h,onTransactionStart:p,onUpdate:m,projectId:g,createAddonDataset:y,workspace:v,getCommentLink:b}=e,x=vEn(),w=JE(f.useCallback(A=>typeof A.tool=="string"?A.tool:void 0,[])),C=q3n(),S=f.useMemo(()=>C.find(A=>A.name===w),[w,C]),{getNotificationValue:E}=bEn({documentId:i,documentType:o,getCommentLink:b}),k=f.useCallback(async A=>{n!=null&&n.id&&await skn({activeTool:S,client:t,comment:A,currentUser:n,dataset:r,documentId:i,documentRevisionId:a,documentType:o,getIntent:x,getNotificationValue:E,getThreadLength:l,onCreate:c,onCreateError:d,projectId:g,createAddonDataset:y,workspace:v})},[S,t,n,r,i,a,o,x,E,l,c,d,g,y,v]),_=f.useCallback(async A=>{t&&await ckn({client:t,id:A,onRemove:h})},[t,h]),T=f.useCallback(async(A,I,M)=>{if(!t)return;const{throttled:D}=M||{},O=Ka();p(A,O),await pkn({client:t,comment:I,throttled:D,id:A,onUpdate:m,transactionId:O})},[t,p,m]),j=f.useCallback(async(A,I)=>{!t||!(n!=null&&n.id)||await ukn({client:t,currentUser:n,id:A,reaction:I,getComment:s,onUpdate:m})},[t,n,s,m]);return f.useMemo(()=>({operation:{create:k,react:j,remove:_,update:T}}),[k,_,T,j])}function GR(){const e=f.useContext(ehe);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function gkn(){const e=f.useContext(Qfe);if(!e)throw new Error("useCommentsAuthoringPath: missing context value");return e}function Zp(){return f.useContext(the)}function ykn(){const e=f.useContext(rhe);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}const YR={behavior:"smooth",inline:"center",scrollMode:"if-needed"},vkn={...YR,block:"start"},bkn={...YR,block:"center"},xkn={...YR,block:"center"},wkn={...YR,block:"center"},Ckn={comment:wkn,field:xkn,group:vkn,"inline-comment":bkn};function wk(e){const t=/[[\]_"_=.]/g;return e.replace(t,"")}function hce(e){return{"data-comments-comment-id":wk(e)}}function Skn(e){return{"data-comments-field-id":wk(e)}}function Ekn(e){return{"data-comments-group-id":wk(e)}}function pce(e){return{"data-comments-inline-comment-id":wk(e)}}function uY(e){const{boundaryElement:t}=e||{},[n,r]=f.useState(null),i=f.useMemo(()=>({...Ckn[(n==null?void 0:n.type)||"comment"],boundary:t}),[t,n==null?void 0:n.type]),a=f.useCallback(c=>{r({type:"comment",id:c})},[]),o=f.useCallback(c=>{r({type:"group",id:c})},[]),s=f.useCallback(c=>{r({type:"field",id:c})},[]),l=f.useCallback(c=>{r({type:"inline-comment",id:c})},[]);return f.useEffect(()=>{const c=requestAnimationFrame(()=>{if(!n)return;const{type:d,id:h}=n,p=document==null?void 0:document.querySelector(`[data-comments-${d}-id="${wk(h)}"]`);p&&Rg(p,i)});return()=>{cancelAnimationFrame(c)}},[i,n]),f.useMemo(()=>({scrollToComment:a,scrollToField:s,scrollToGroup:o,scrollToInlineComment:l}),[a,s,o,l])}function cY(){const e=f.useContext(ihe);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}const kkn=ci({name:"Comment Link Copied",version:1,description:"The link to a comment is copied"}),_kn=ci({name:"Comment Viewed From Link",version:1,description:"A comment is viewed from a link"}),Tkn=ci({name:"Comment List View Changed",version:1,description:"The view of the comment list is changed"});function Akn(){const e=Qo(),t=f.useCallback(()=>{e.log(kkn)},[e]),n=f.useCallback(()=>{e.log(_kn)},[e]),r=f.useCallback(i=>{e.log(Tkn,{view:i})},[e]);return f.useMemo(()=>({commentLinkCopied:t,commentListViewChanged:r,commentViewedFromLink:n}),[t,r,n])}function dY(){return f.useContext(ahe)||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function jkn(e,t){const{enabled:n,isLoading:r,error:i}=Tk("studioComments"),{enabled:a}=Hn().document.comments,o=f.useMemo(()=>a({documentType:t,documentId:pn(e)}),[e,t,a]);return f.useMemo(()=>r||!o||i?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"},[r,o,i,n])}function Ikn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function Dkn(e,t){var n;switch(t.type){case"COMMENTS_SET":{const r=Ikn(t.comments);return{...e,comments:r}}case"COMMENT_ADDED":{const r=t.payload,i=r,a={[r._id]:{...e.comments[r._id],...i,_state:r._state||void 0,_createdAt:r._createdAt||new Date().toISOString()}};return{...e,comments:{...e.comments,...a}}}case"COMMENT_RECEIVED":{const r=t.payload;return{...e,comments:{...e.comments,[r._id]:r}}}case"COMMENT_DELETED":{const{[t.id]:r,...i}=e.comments;return Object.keys(i).forEach(a=>{i[a].parentCommentId===t.id&&delete i[a]}),{...e,comments:i}}case"COMMENT_UPDATED":{const r=t.payload,i=r._id,a=e.comments[i],o=((n=a==null?void 0:a.reactions)==null?void 0:n.filter(d=>d==null?void 0:d._optimisticState))||[],s=r.reactions||[],l=ekn(o,s),c={...a,...r,reactions:l};return{...e,comments:{...e.comments,[i]:c}}}default:return e}}const Mkn={comments:{}},Rkn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},Okn="_createdAt",$kn="desc",Pkn=['_type == "comment"',"target.document._ref == $documentId"],Fkn=`{
  _createdAt,
  _id,
  authorId,
  contentSnapshot,
  context,
  lastEditedAt,
  message,
  parentCommentId,
  reactions,
  status,
  target,
  threadId
}`,Nkn=`order(${Okn} ${$kn})`,mce=`*[${Pkn.join(" && ")}] ${Fkn} | ${Nkn}`;function Lkn(e){const{client:t,documentId:n,onLatestTransactionIdReceived:r,transactionsIdMap:i}=e,[a,o]=f.useReducer(Dkn,Mkn),[s,l]=f.useState(t!==null),[c,d]=f.useState(null),h=f.useRef(!1),p=f.useMemo(()=>({documentId:pn(n)}),[n]),m=f.useCallback(async()=>{if(!t){l(!1);return}try{const v=await t.fetch(mce,p);o({type:"COMMENTS_SET",comments:v}),l(!1)}catch(v){d(v)}},[t,p]),g=f.useCallback(async v=>{var b;if(v.type==="welcome"&&!h.current&&(l(!0),await m(),l(!1),h.current=!0),v.type==="reconnect"&&(l(!0),h.current=!1),v.type==="mutation"){if(v.transition==="appear"){const x=v.result;x&&o({type:"COMMENT_RECEIVED",payload:x})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const x=v.result,w=((b=v.result)==null?void 0:b._id)||"",C=v.transactionId,S=i.get(w),E=C===S;if(!E&&S)return;x&&(o({type:"COMMENT_UPDATED",payload:x}),E&&r(w))}}},[m,r,i]),y=f.useMemo(()=>t?t.observable.listen(mce,p,Rkn).pipe(kn(v=>(d(v),we(v)))):we(),[t,p]);return f.useEffect(()=>{const v=y.subscribe(g);return()=>{v==null||v.unsubscribe()}},[g,y]),{data:f.useMemo(()=>Object.values(a.comments),[a.comments]),dispatch:o,error:c,loading:s}}const q6=[],Bkn={open:q6,resolved:q6},BRe=f.memo(function(e){const{children:t,documentId:n,documentType:r,isCommentsOpen:i,onCommentsOpen:a,sortOrder:o,type:s,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isConnecting:h,onPathOpen:p}=e,m=Zp(),[g,y]=f.useState("open"),{client:v,createAddonDataset:b,isCreatingDataset:x}=rO(),w=pn(n),C=iO(w,r,"low"),S=tn().get(r),E=tr(),{name:k,dataset:_,projectId:T}=Vr(),j=f.useMemo(()=>C.draft||C.published,[C.draft,C.published]),A=f.useMemo(()=>j==null?void 0:j._rev,[j]),I=f.useMemo(()=>new Map,[]),M=f.useCallback(K=>{I.delete(K)},[I]),{dispatch:D,data:O=q6,error:R,loading:F}=Lkn({documentId:w,client:v,transactionsIdMap:I,onLatestTransactionIdReceived:M}),P=f.useCallback((K,Q)=>{I.set(K,Q)},[I]),V=f.useCallback(K=>m.mode==="upsell"&&K==="resolved"?null:y(K),[y,m]),U=P$e(f.useMemo(()=>({documentValue:j,permission:"read"}),[j])),H=f.useMemo(()=>{if(!S||!E)return Bkn;const K=fb(O,["_createdAt"],[o]),Q=YEn({comments:K,currentUser:E,documentValue:j,schemaType:S,type:s});return{open:Q.filter(ee=>ee.parentComment.status==="open"),resolved:Q.filter(ee=>ee.parentComment.status==="resolved")}},[E,O,j,S,o,s]),W=f.useCallback(K=>H.open.filter(Q=>Q.threadId===K).length,[H.open]),Z=f.useCallback(K=>O==null?void 0:O.find(Q=>Q._id===K),[O]),J=f.useCallback(K=>{var ee,se;const Q=((se=(ee=O==null?void 0:O.find(le=>le._id===K._id))==null?void 0:ee._state)==null?void 0:se.type)==="createError";D({type:"COMMENT_ADDED",payload:{...K,_state:Q?{type:"createRetrying"}:void 0}})},[O,D]),re=f.useCallback((K,Q)=>{D({type:"COMMENT_UPDATED",payload:{_id:K,...Q}})},[D]),G=f.useCallback((K,Q)=>{D({type:"COMMENT_UPDATED",payload:{_id:K,_state:{error:Q,type:"createError"}}})},[D]),{operation:te}=mkn(f.useMemo(()=>({client:v,currentUser:E,dataset:_,documentId:w,documentRevisionId:A,documentType:r,getComment:Z,getThreadLength:W,projectId:T,schemaType:S,workspace:k,createAddonDataset:b,onCreate:J,onCreateError:G,onUpdate:re,onTransactionStart:P,getCommentLink:l}),[v,E,_,w,A,r,Z,W,T,S,k,b,J,G,re,P,l])),X=f.useMemo(()=>({documentId:n,documentType:r,isCreatingDataset:x,status:g,setStatus:V,getComment:Z,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isCommentsOpen:i,onCommentsOpen:a,isConnecting:h,onPathOpen:p,comments:{data:H,error:R,loading:F||x||h||!1},operation:{create:te.create,react:te.react,remove:te.remove,update:te.update},mentionOptions:U}),[n,r,x,g,V,Z,l,c,d,i,a,h,p,H,R,F,te.create,te.react,te.remove,te.update,U]);return u.jsx(ehe.Provider,{value:X,children:t})}),VRe=f.memo(function(e){const{children:t,documentId:n,documentType:r}=e,i=jkn(n,r);return u.jsx(the.Provider,{value:i,children:t})});f.memo(function(e){const{children:t,getIntent:n}=e;return u.jsx(nhe.Provider,{value:n,children:t})});const Vkn=1,zRe=`sanityStudio:comments:inspector:onboarding:dismissed:v${Vkn}`,zkn=e=>{try{window.localStorage.setItem(zRe,JSON.stringify(e))}catch{}},Ukn=()=>{try{const e=window.localStorage.getItem(zRe);return e?JSON.parse(e):!1}catch{return!1}};function Hkn(e){const{children:t}=e,[n,r]=f.useState(Ukn()),i=f.useCallback(()=>{r(!0),zkn(!0)},[r]),a=f.useMemo(()=>({setDismissed:i,isDismissed:n}),[i,n]);return u.jsx(rhe.Provider,{value:a,children:t})}const Wkn=f.memo(function(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback(o=>{kt(n,o)||r(o)},[n]),a=f.useMemo(()=>({selectedPath:n,setSelectedPath:i}),[n,i]);return u.jsx(ihe.Provider,{value:a,children:t})}),gce={inlineIcon:(e,t,n)=>{var a,o,s,l;if(!Er(n))return n;const r=!!(((a=n.children[t-1])==null?void 0:a._type)==="span"&&((o=n.children[t-1])!=null&&o.text)),i=!!(((s=n.children[t+1])==null?void 0:s._type)==="span"&&((l=n.children[t+1])!=null&&l.text));return{...e,hasTextRight:i,hasTextLeft:r}}},Gkn=e=>e.map(t=>{if(Er(t)&&t._type==="block"){const n=t.children.map((r,i)=>gce[r._type]?gce[r._type](r,i,t):r);return{...t,children:n}}return t}),Ykn=$(L)`
  height: 1px;
  background: var(--card-border-color);
  width: 100%;
`,qkn=$.div`
  // Remove margin top of first element
  > div:first-child {
    margin-top: 0;
  }
  // Remove margin bottom to last box.
  > [data-ui='Box']:last-child {
    margin-bottom: 0;
  }
`,Kkn=$(N)(e=>e.accent?`
    --card-icon-color: var(--card-accent-fg-color);
    `:""),URe=$.span`
  color: var(--card-accent-fg-color);
  --card-icon-color: var(--card-accent-fg-color);
`,Zkn=$.span(({theme:e})=>{const{weights:t}=e.sanity.fonts.text;return de`
    font-weight: ${t.semibold};
  `}),Xkn=$(L9)`
  &[data-sanity-icon] {
    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */
    margin-left: ${e=>e.$hasTextLeft?"0":""};
    margin-right: ${e=>e.$hasTextRight?"0":""};
  }
`,Jkn=$.a`
  font-weight: 600;
  color: ${e=>e.useTextColor?"var(--card-muted-fg-color) !important":""};
`,Qkn=$.span`
  > svg {
    display: inline;
    font-size: calc(21 / 16 * 1rem) !important;
    margin: -0.375rem 0 !important;
    *[stroke] {
      stroke: currentColor;
    }
  }
`,e2n=e=>u.jsx(URe,{children:e}),yce=e=>{const[t,n]=f.useState("");return f.useEffect(()=>{const r=new AbortController,i=r.signal;return fetch(e.icon.url,{signal:i}).then(a=>{if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a.text()}).then(a=>n(a)).catch(a=>{a.name!=="AbortError"&&console.error(a)}),()=>{r.abort()}},[e.icon.url]),u.jsx(Qkn,{dangerouslySetInnerHTML:{__html:t}})};function F5(e){const{children:t}=e;return u.jsx(L,{paddingX:2,marginBottom:4,children:u.jsx(N,{size:1,muted:!0,children:t})})}function t2n(e){const{children:t}=e;return u.jsx(L,{paddingX:2,marginY:4,children:u.jsx(Gi,{size:2,as:"h2",children:t})})}const n2n={block:{normal:({children:e})=>u.jsx(F5,{children:e}),h2:({children:e})=>u.jsx(t2n,{children:e})},list:{bullet:({children:e})=>e,number:({children:e})=>u.jsx(u.Fragment,{children:e}),checkmarks:({children:e})=>u.jsx(u.Fragment,{children:e})},listItem:{bullet:({children:e})=>u.jsx(F5,{children:e}),number:({children:e})=>u.jsx(F5,{children:e}),checkmarks:({children:e})=>u.jsx(F5,{children:e})},marks:{strong:({children:e})=>u.jsx("strong",{children:e}),semibold:({children:e})=>u.jsx(Zkn,{children:e}),link:e=>u.jsxs(Jkn,{href:e.value.href,rel:"noopener noreferrer",target:"_blank",useTextColor:e.value.useTextColor,children:[e.children,e.value.showIcon&&u.jsx(Ss,{style:{marginLeft:"2px"}})]}),accent:e=>u.jsx(URe,{children:e.children})},types:{inlineIcon:e=>u.jsx(Kv,{condition:e.value.accent,wrapper:e2n,children:e.value.sanityIcon?u.jsx(Xkn,{symbol:e.value.sanityIcon,$hasTextLeft:e.value.hasTextLeft,$hasTextRight:e.value.hasTextRight}):u.jsx(yce,{icon:e.value.icon})}),divider:()=>u.jsx(L,{marginY:3,children:u.jsx(L,{paddingY:3,children:u.jsx(Ykn,{})})}),iconAndText:e=>u.jsxs(z,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[u.jsxs(z,{gap:2,style:{flexShrink:0},children:[u.jsx(Kkn,{size:1,accent:e.value.accent,children:e.value.sanityIcon?u.jsx(L9,{symbol:e.value.sanityIcon}):u.jsx(yce,{icon:e.value.icon})}),u.jsx(N,{size:1,weight:"semibold",accent:e.value.accent,children:e.value.title})]}),u.jsx(N,{size:1,muted:!0,accent:e.value.accent,children:e.value.text})]})}};function qR(e){const t=f.useMemo(()=>Gkn(e.blocks),[e.blocks]);return u.jsx(ie,{tone:"default",children:u.jsx(qkn,{children:u.jsx(a2e,{value:t,components:n2n,onMissingComponent:!1})})})}const r2n=$(he)(({theme:e})=>{const{space:t}=Te(e);return`
      position: absolute;
      top: ${t[3]}px;
      right: ${t[3]}px;
      z-index: 20;
      background: transparent;
      border-radius: 9999px;
      box-shadow: none;
      color: ${Gd.hex};
      --card-fg-color: ${Gd.hex};
      :hover {
        --card-fg-color: ${Gd.hex};
      }
    `}),i2n=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 200px;
`;function fY(e){var a,o;const{data:t,onClose:n,onPrimaryClick:r,onSecondaryClick:i}=e;return u.jsxs(Ri,{id:"upsell-dialog",onClose:n,onClickOutside:n,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,footer:{cancelButton:(a=t.secondaryButton)!=null&&a.text?{text:t.secondaryButton.text,mode:"bleed",tone:"default",iconRight:Wc,...t.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.secondaryButton.url},onClick:i}:void 0,confirmButton:{text:(o=t.ctaButton)==null?void 0:o.text,mode:"default",tone:"primary",...t.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.ctaButton.url},onClick:r}},children:[u.jsx(r2n,{icon:Nr,mode:"bleed",tone:"default",onClick:n,tabIndex:-1,tooltipProps:null}),t.image&&u.jsx(i2n,{src:t.image.asset.url,alt:t.image.asset.altText??""}),u.jsx(L,{padding:3,marginTop:2,children:u.jsx(ne,{space:4,paddingBottom:2,children:u.jsx(qR,{blocks:t.descriptionText})})})]})}const th="comments",vce={interpolate:/{{([\s\S]+?)}}/g},bce="www.sanity.io";function a2n(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=Ek(),o=Qo(),s=Xt(qt),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(wv,{feature:th,type:"modal"}),dialogPrimaryClicked:()=>o.log(xv,{feature:th,type:"modal"}),panelViewed:g=>o.log(vv,{feature:th,type:"inspector",source:g}),panelDismissed:()=>o.log(bv,{feature:th,type:"inspector"}),panelPrimaryClicked:()=>o.log(xv,{feature:th,type:"inspector"}),panelSecondaryClicked:()=>o.log(wv,{feature:th,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(bv,{feature:th,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/comments"}).subscribe({next:y=>{if(y)try{const v=dv(y.ctaButton.url,vce);y.ctaButton.url=v({baseUrl:bce,projectId:a});const b=dv(y.secondaryButton.url,vce);y.secondaryButton.url=b({baseUrl:bce,projectId:a}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(vv,{feature:th,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(ahe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(fY,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function o2n(e){const{documentId:t,documentType:n}=e;return Zp().mode!==null?u.jsx(xce,{...e}):u.jsx(VRe,{documentId:t,documentType:n,children:u.jsx(xce,{...e})})}function xce(e){return Zp().enabled?u.jsx(Wkn,{children:u.jsx(yEn,{children:e.renderDefault(e)})}):e.renderDefault(e)}const ww="sanity/comments",jd="yellow",K6=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],zj={":-1:":"",":+1:":"",":eyes:":"",":heart:":"",":heavy_plus_sign:":"",":rocket:":""},s2n=$(ne)`
  width: 320px;
`;function l2n(e){const{count:t,currentUser:n,fieldTitle:r,isCreatingDataset:i,mentionOptions:a,onChange:o,onClick:s,onClose:l,onCommentAdd:c,onDiscard:d,onInputKeyDown:h,open:p,value:m}=e,{t:g}=q(ri),y=f.useRef(null),[v,b]=f.useState(null),x=f.useRef(null),w=t>0,C=f.useCallback(()=>{p&&(l(),v==null||v.focus())},[v,p,l]),S=f.useCallback(()=>{c(),C()},[C,c]),E=f.useMemo(()=>O0(m),[m]),k=f.useCallback(()=>{var I;if(!E){C();return}(I=x.current)==null||I.discardDialogController.open()},[C,E]),_=f.useCallback(I=>{I.isDefaultPrevented()||h&&h(I)},[h]),T=f.useCallback(()=>{var I;(I=x.current)==null||I.discardDialogController.close()},[]),j=f.useCallback(()=>{var I;(I=x.current)==null||I.discardDialogController.close(),C(),d()},[C,d]),A=f.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),k())},[k]);return xn(!p&&k,()=>[y.current]),w?u.jsx(bt,{portal:!0,placement:"top",content:g("field-button.content",{count:t}),children:u.jsx($t,{"aria-label":g("field-button.aria-label-open"),mode:"bleed",onClick:s,padding:2,space:2,children:u.jsxs(z,{align:"center",gap:2,children:[u.jsx(N,{size:1,children:u.jsx(RI,{})}),u.jsx(N,{size:0,children:t>9?"9+":t})]})})}):u.jsx(_n,{constrainSize:!0,content:u.jsx(s2n,{padding:2,space:4,children:u.jsx(F0,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:a,onChange:o,onDiscardCancel:T,onDiscardConfirm:j,onKeyDown:_,onSubmit:S,placeholder:u.jsx(gt,{t:g,i18nKey:"compose.add-comment-input-placeholder",values:{field:r}}),readOnly:i,ref:x,value:m})}),fallbackPlacements:["bottom-end"],open:p,placement:"right-start",portal:!0,ref:y,onKeyDown:A,children:u.jsx("div",{children:u.jsx(he,{"aria-label":g("field-button.aria-label-add"),disabled:i,icon:jI,mode:"bleed",onClick:s,ref:b,selected:p,tooltipProps:{content:g("field-button.title"),placement:"top"}})})})}const eF=new Map,u2n=[],c2n={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function d2n(e){const{enabled:t,mode:n}=Zp();return t?u.jsx(p2n,{...e,mode:n}):e.renderDefault(e)}const f2n=$(Mi.div)(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=rt[jd][r.dark?900:50].hex;return de`
    mix-blend-mode: ${r.dark?"screen":"multiply"};
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    left: -${n[2]}px;
    bottom: -${n[2]}px;
    right: -${n[2]}px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + ${n[2]*2}px);
    height: calc(100% + ${n[2]*2}px);
    background-color: ${i};
  `}),h2n=$(ne)`
  position: relative;
`;function p2n(e){const{mode:t}=e,n=tr(),{element:r}=l0(),i=f.useRef(null),{comments:a,isCommentsOpen:o,isCreatingDataset:s,mentionOptions:l,onCommentsOpen:c,operation:d,setStatus:h,status:p}=GR(),{upsellData:m,handleOpenDialog:g}=dY(),{selectedPath:y,setSelectedPath:v}=cY(),{authoringPath:b,setAuthoringPath:x}=gkn(),{scrollToGroup:w}=uY({boundaryElement:r}),C=f.useMemo(()=>Ru(e.schemaType),[e.schemaType]),S=f.useMemo(()=>Zt(e.path),[e.path]),E=eF.get(S)||null,[k,_]=f.useState(E),T=f.useMemo(()=>b===S,[b,S]),j=f.useMemo(()=>!o||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===S,[o,y==null?void 0:y.fieldPath,y==null?void 0:y.origin,S]),A=f.useMemo(()=>a.data.open.filter(U=>U.threadId===(y==null?void 0:y.threadId)).some(U=>Bb(U.parentComment)),[a.data.open,y==null?void 0:y.threadId]),I=f.useMemo(()=>a.data.open.map(U=>U.fieldPath===S?U.commentsCount:0).reduce((U,H)=>U+H,0)||0,[a.data.open,S]),M=I>0,D=f.useCallback(()=>{_(null),eF.delete(S)},[S]),O=f.useCallback(()=>{var U;if(M){p==="resolved"&&h("open"),x(null),c==null||c();const H=(U=a.data.open.find(W=>W.fieldPath===Zt(e.path)))==null?void 0:U.threadId;H&&(v({threadId:H,origin:"form",fieldPath:Zt(e.path)}),w(H));return}if(t==="upsell"){m?g("field_action"):c==null||c();return}x(T?null:S)},[a.data.open,g,M,T,t,c,e.path,w,x,v,h,p,S,m]),R=f.useCallback(()=>{if(k){const U=Ka(),H={type:"field",fieldPath:Zt(e.path),message:k,parentCommentId:void 0,status:"open",threadId:U,reactions:u2n};d.create(H),c==null||c(),p==="resolved"&&h("open"),D(),v({threadId:U,origin:"form",fieldPath:Zt(e.path)}),w(U)}},[c,d,e.path,D,w,v,h,p,k]),F=f.useCallback(()=>x(null),[x]),P=f.useCallback(U=>{_(U),eF.set(S,U)},[S]),V=f.useMemo(()=>({button:n&&u.jsx(l2n,{count:Number(I),currentUser:n,fieldTitle:C,isCreatingDataset:s,mentionOptions:l,onChange:P,onClick:O,onClose:F,onCommentAdd:R,onDiscard:D,open:T,value:k}),hasComments:M,isAddingComment:T}),[n,I,C,s,l,P,O,F,R,D,T,k,M]);return u.jsxs(h2n,{...Skn(Zt(e.path)),ref:i,children:[e.renderDefault({...e,__internal_comments:V}),u.jsx(sl,{children:j&&!A&&u.jsx(f2n,{animate:"animate",exit:"exit",initial:"initial",variants:c2n})})]})}function m2n(e){if(!e||!e.length)return null;const t=e.map(o=>o.getBoundingClientRect()),n=Math.min(...t.map(o=>o.x))||0,r=Math.min(...t.map(o=>o.y))||0,i=Math.max(...t.map(o=>o.right))||0,a=Math.max(...t.map(o=>o.bottom))||0;return{x:n,y:r,width:i-n,height:a-r,top:r,right:i,bottom:a,left:n}}function g2n(e){const{scrollElement:t,disabled:n,selector:r}=e,[i,a]=f.useState(null),o=f.useCallback(()=>{if(n)return;const s=document==null?void 0:document.querySelectorAll(r);if(!s)return;const l=m2n(Array.from(s));a(l)},[n,r]);return f.useEffect(o,[o]),f.useEffect(()=>{if(!(n||!t))return t.addEventListener("wheel",o),()=>{t.removeEventListener("wheel",o)}},[o,n,t]),i}function y2n(e){const{scrollElement:t,disabled:n,selector:r}=e,i=g2n({scrollElement:t,disabled:n,selector:r});return f.useMemo(()=>i?{getBoundingClientRect:()=>i}:null,[i])}function v2n(){const e=window.getSelection();let t=null;return e&&e.rangeCount>0&&(t=e.getRangeAt(0)),(t==null?void 0:t.getBoundingClientRect())||null}const b2n=$(Mi(_n))`
  user-select: none;
`,x2n=["bottom","top"],w2n={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function C2n(e){const{disabled:t,onClick:n,onClickOutside:r,referenceElement:i}=e,a=f.useRef(null),{t:o}=q(ri);xn(r,()=>[a.current]);const s=o("inline-add-comment-button.disabled-overlap-title"),l=o("inline-add-comment-button.title");return u.jsx(b2n,{animate:"visible",content:u.jsx(he,{"data-testid":"inline-comment-button",disabled:t,icon:t?lFn:jI,mode:"bleed",onClick:n,ref:a,text:t?s:l}),contentEditable:!1,fallbackPlacements:x2n,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:i,variants:w2n})}const S2n=["bottom","top"],E2n=Mi(_n),k2n=$(ne)`
  width: 250px;
`,_2n={hidden:{opacity:0},visible:{opacity:1}};function T2n(e){const{currentUser:t,mentionOptions:n,onChange:r,onClickOutside:i,onDiscardConfirm:a,onSubmit:o,referenceElement:s,value:l}=e,c=f.useRef(null),d=f.useRef(null),h=f.useCallback(()=>{var m;(m=c.current)==null||m.discardDialogController.close(),a()},[a]),p=f.useCallback(()=>{var m;(m=c.current)==null||m.discardDialogController.close()},[]);return xn(()=>{var m;if(O0(l)){(m=c.current)==null||m.discardDialogController.open();return}i()},()=>[d.current]),u.jsx(E2n,{animate:"visible",content:u.jsx(k2n,{padding:2,ref:d,children:u.jsx(F0,{currentUser:t,focusLock:!0,focusOnMount:!0,mentionOptions:n,onChange:r,onDiscardCancel:p,onDiscardConfirm:h,onSubmit:o,ref:c,value:l})}),"data-ui":"InlineCommentInputPopover",fallbackPlacements:S2n,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:s,variants:_2n})}const vl=[],A2n="sanity.assist.instruction.prompt";function j2n(e){const{enabled:t,mode:n}=Zp(),r=e.schemaType.name===A2n;return!t||r?e.renderDefault(e):u.jsx(I2n,{...e,mode:n})}const I2n=f.memo(function(e){var Je,ot;const{mode:t}=e,n=tr(),r=Ff(),{comments:i,getComment:a,mentionOptions:o,onCommentsOpen:s,operation:l,setStatus:c,status:d}=GR(),{setSelectedPath:h,selectedPath:p}=cY(),{scrollToComment:m,scrollToGroup:g}=uY(),{handleOpenDialog:y}=dY(),v=f.useRef(null),b=f.useRef(!1),[x,w]=f.useState(null),[C,S]=f.useState(null),[E,k]=f.useState(null),[_,T]=f.useState(null),[j,A]=f.useState(null),[I,M]=f.useState(null),[D,O]=f.useState(!1),[R,F]=f.useState(null),[P,V]=f.useState(!1),[U,H]=f.useState(vl),W=f.useMemo(()=>Zt(e.path),[e.path]),Z=f.useCallback(()=>{const $e=v2n();A($e)},[]),J=f.useCallback(()=>{T(null),A(null),k(null),S(null),O(!1),w(null)},[]),re=f.useCallback(()=>{if(t==="upsell"){y("pte");return}k(_)},[_,y,t]),G=f.useCallback(()=>{J()},[J]),te=f.useMemo(()=>i.data.open.filter($e=>$e.fieldPath===W).filter($e=>Bb($e.parentComment)).map($e=>$e.parentComment),[i.data.open,W]),X=f.useCallback(()=>v.current?Me.getFragment(v.current):vl,[]),K=f.useCallback(()=>{if(!E||!v.current)return;const $e=X()||vl,Le=Me.getValue(v.current);if(!Le)return;const Oe=QEn({fragment:$e,selection:E,value:Le}),qe=Ka();l.create({type:"field",contentSnapshot:$e,fieldPath:W,message:C,parentCommentId:void 0,reactions:vl,selection:Oe,status:"open",threadId:qe}),s==null||s(),d==="resolved"&&c("open"),h({fieldPath:W,threadId:qe,origin:"form"}),g(qe),J()},[E,X,l,W,C,s,d,h,g,J,c]),Q=f.useCallback($e=>{var Oe;const Le=a($e);Le&&(h({fieldPath:((Oe=Le.target.path)==null?void 0:Oe.field)||"",threadId:Le.threadId,origin:"form"}),s==null||s(),m(Le._id))},[a,s,m,h]),ee=f.useCallback($e=>{var Oe;const Le=($e==null?void 0:$e.anchor.offset)!==($e==null?void 0:$e.focus.offset);if(!((Oe=X())!=null&&Oe.every(Er))||!Le){O(!1);return}b.current||Z(),T($e),O(!0)},[X,Z]),se=f.useMemo(()=>t0(ee,200),[ee]),le=f.useCallback(()=>{b.current=!0},[]),oe=f.useCallback(()=>{b.current=!1,Z()},[Z]),ue=f.useCallback($e=>{var nt;const{rangeDecoration:Le,newSelection:Oe}=$e,qe=(nt=Le.payload)==null?void 0:nt.commentId;H(_t=>_t.map(wn=>{var We;return((We=wn.payload)==null?void 0:We.commentId)===qe?{...Le,selection:Oe,payload:{...Le.payload,dirty:!0}}:wn}))},[]),ye=f.useCallback(()=>{const $e=U.filter(Le=>{var Oe;return(Oe=Le.payload)==null?void 0:Oe.dirty});$e.length!==0&&($e.forEach(Le=>{var Pn,Ei,on,br,Ke;const Oe=(Pn=Le.payload)==null?void 0:Pn.commentId,qe=a(Oe||"");if(!qe||!v.current)return;const nt=Me.getValue(v.current)||vl,[_t]=NRe({comments:[qe],value:nt}),wn=_t!=null&&_t.range?[_t.range]:vl,We=_t?[...((on=(Ei=qe.target.path)==null?void 0:Ei.selection)==null?void 0:on.value.filter(Bt=>{var jn;return Bt._key!==((jn=wn[0])==null?void 0:jn._key)}).concat(wn).flat())||vl]:vl,yt={target:{...qe.target,path:{...((br=qe.target)==null?void 0:br.path)||{},field:((Ke=qe.target.path)==null?void 0:Ke.field)||"",selection:{type:"text",value:We}}}};l.update(qe._id,yt)}),H(Le=>Le.map(Oe=>{var qe,nt;return(nt=(qe=$e.find(_t=>{var wn,We;return((wn=_t.payload)==null?void 0:wn.commentId)===((We=Oe.payload)==null?void 0:We.commentId)}))==null?void 0:qe.payload)!=null&&nt.dirty?{...Oe,payload:{...Oe.payload,dirty:!1}}:Oe}).filter(Oe=>Oe.selection!==null)))},[U,a,l]),Ee=f.useCallback($e=>{if(!v.current)return vl;const Le=Me.getValue(v.current)||vl;return JEn({comments:$e,currentHoveredCommentId:I,onDecorationClick:Q,onDecorationHoverEnd:M,onDecorationHoverStart:M,onDecorationMoved:ue,selectedThreadId:(p==null?void 0:p.threadId)||null,value:Le})},[I,Q,ue,p==null?void 0:p.threadId]),ke=f.useCallback($e=>{$e.type==="mutation"&&ye(),$e.type==="selection"&&se($e.selection)},[se,ye]),ge=f.useMemo(()=>E?{component:({children:$e})=>u.jsx(X$e,{isAuthoring:!0,ref:w,children:$e}),selection:E}:null,[E]),je=f.useMemo(()=>[...(e==null?void 0:e.rangeDecorations)||vl,...ge?[ge]:vl,...U],[U,ge,e==null?void 0:e.rangeDecorations]),Ve=f.useMemo(()=>!_||U.length===0?!1:U.some($e=>{if(!v.current)return!1;const Le=Me.isSelectionsOverlapping(v.current,_,$e.selection),Oe=Me.isSelectionsOverlapping(v.current,$e.selection,_);return Le||Oe}),[U,_]),xe=P?document.body:((Je=r.elements)==null?void 0:Je.documentScrollElement)||document.body,me=P?((ot=r.elements)==null?void 0:ot.documentScrollElement)||document.body:R,Se=y2n({scrollElement:xe,disabled:!E||!x,selector:'[data-inline-comment-state="authoring"]'}),ve=f.useMemo(()=>j?{getBoundingClientRect:()=>j}:null,[j]);f.useEffect(()=>{if(_)return xe==null||xe.addEventListener("wheel",Z),()=>{xe==null||xe.removeEventListener("wheel",Z)}},[_,xe,Z]),f.useEffect(()=>{const $e=Ee(te);H(Le=>$e.map(Oe=>{var nt;const qe=Le.find(_t=>{var wn,We;return((wn=_t.payload)==null?void 0:wn.commentId)===((We=Oe.payload)==null?void 0:We.commentId)});return(nt=qe==null?void 0:qe.payload)!=null&&nt.dirty?{...Oe,payload:{...Oe.payload,dirty:qe.payload.dirty}}:Oe}))},[Ee,te]);const _e=!!(_&&D&&ve&&!b.current),Ze=!!(E&&Se);return u.jsxs(u.Fragment,{children:[u.jsx(hf,{element:me,children:u.jsxs(sl,{children:[Ze&&n&&u.jsx(T2n,{currentUser:n,mentionOptions:o,onChange:S,onClickOutside:J,onDiscardConfirm:G,onSubmit:K,referenceElement:Se,value:C}),_e&&!Ze&&u.jsx(C2n,{disabled:Ve,onClick:re,onClickOutside:J,referenceElement:ve})]})}),u.jsx(ne,{ref:F,onMouseDown:le,onMouseUp:oe,children:e.renderDefault({...e,onEditorChange:ke,editorRef:v,rangeDecorations:je,onFullScreenChange:V})})]})});function D2n(e){return zm(e.schemaType)}function M2n(e){return D2n(e)?u.jsx(j2n,{...e}):e.renderDefault(e)}const R2n="https://snty.link/comments-beta-feedback",O2n=$.span`
  margin-right: 0.2em;
`,$2n=$.a`
  white-space: nowrap;
`,P2n=$(ie)({position:"relative",zIndex:1});function F2n(){const{t:e}=q(ri);return u.jsx(P2n,{padding:4,children:u.jsxs(N,{muted:!0,size:1,children:[e("feature-feedback.title")," ",u.jsxs($2n,{href:R2n,target:"_blank",rel:"noreferrer",children:[u.jsxs(O2n,{children:[e("feature-feedback.link")," "]})," ",u.jsx(Wc,{})]})]})})}const N2n=$(ie)({position:"relative",zIndex:1,lineHeight:0}),L2n=f.forwardRef(function(e,t){const{t:n}=q(ri),{onClose:r,onViewChange:i,view:a,mode:o}=e,s=f.useCallback(()=>i("open"),[i]),l=f.useCallback(()=>i("resolved"),[i]);return u.jsx(N2n,{ref:t,children:u.jsxs(z,{padding:2,children:[u.jsx(z,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:u.jsx(N,{as:"h1",size:1,weight:"medium",children:n("feature-name")})}),u.jsxs(z,{flex:"none",padding:1,gap:2,children:[u.jsx(Gt,{id:"comment-status-menu-button",button:u.jsx(he,{text:n(a==="open"?"status-filter.status-open":"status-filter.status-resolved"),mode:"bleed",iconRight:Di}),menu:u.jsxs(Ot,{style:{width:"180px"},children:[u.jsx(He,{iconRight:a==="open"?_a:void 0,onClick:s,text:n("status-filter.status-open-full")}),u.jsx(He,{iconRight:a==="resolved"?_a:void 0,onClick:l,text:n("status-filter.status-resolved-full"),tooltipProps:o==="upsell"?{content:n("status-filter.status-resolved-full-upsell")}:void 0,disabled:o==="upsell"})]}),popover:{placement:"bottom-end"}}),u.jsx(he,{"aria-label":n("close-pane-button-text-aria-label"),icon:Nr,mode:"bleed",onClick:r,tooltipProps:{content:n("close-pane-button-text")}})]})]})})}),B2n=$(qo)`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`;function V2n(e){const{enabled:t,mode:n}=Zp();return t?u.jsx(B2n,{children:u.jsx(z2n,{...e,mode:n})}):null}function z2n(e){const{t}=q(ri),{onClose:n,mode:r}=e,[i,a]=f.useState(!1),[o,s]=f.useState(null),[l,c]=f.useState(!1),[d,h]=f.useState(null),p=f.useRef(null),m=tr(),{comments:g,getComment:y,isCreatingDataset:v,mentionOptions:b,setStatus:x,status:w,operation:C,selectedCommentId:S,getCommentLink:E,onClearSelectedComment:k,onPathOpen:_}=GR(),T=f.useRef(S),j=f.useRef(!1),A=_r().push,{isTopLayer:I}=Ts(),{scrollToComment:M,scrollToField:D,scrollToInlineComment:O}=uY(),{selectedPath:R,setSelectedPath:F}=cY(),{isDismissed:P,setDismissed:V}=ykn(),U=Akn(),{upsellData:H,telemetryLogs:W}=dY(),Z=f.useMemo(()=>g.data[w],[g,w]),{loading:J}=g,re=f.useCallback(xe=>{x(xe),F(null),U.commentListViewChanged(xe)},[F,x,U]),G=f.useCallback(()=>{n(),F(null)},[n,F]),te=f.useMemo(()=>E?xe=>{navigator.clipboard.writeText(E(xe)).then(()=>{A({closable:!0,status:"info",title:t("copy-link-success-message")})}).catch(()=>{A({closable:!0,status:"error",title:t("copy-link-error-message")})}),U.commentLinkCopied()}:void 0,[E,A,t,U]),X=f.useCallback(xe=>{var Se;const me=y(xe);me&&C.create({type:"field",fieldPath:((Se=me.target.path)==null?void 0:Se.field)||"",id:me._id,message:me.message,parentCommentId:me.parentCommentId,reactions:me.reactions||[],status:me.status,threadId:me.threadId})},[y,C]),K=f.useCallback(()=>{l||(a(!1),s(null))},[l]),Q=f.useCallback(xe=>{if(F(xe),xe==null?void 0:xe.fieldPath){const me=Zs(xe.fieldPath);_==null||_(me),D(xe.fieldPath),g.data.open.filter(Se=>Se.threadId===(xe==null?void 0:xe.threadId)).some(Se=>Bb(Se.parentComment))&&xe.threadId&&O(xe.threadId)}},[g.data.open,_,D,O,F]),ee=f.useCallback(xe=>{var Se;const me=((Se=xe==null?void 0:xe.payload)==null?void 0:Se.fieldPath)||"";C.create({type:"field",fieldPath:me,message:xe.message,parentCommentId:xe.parentCommentId,reactions:xe.reactions,status:xe.status,threadId:xe.threadId}),F({fieldPath:me,origin:"inspector",threadId:xe.threadId})},[C,F]),se=f.useCallback(xe=>{var me;C.create({...xe,type:"field",fieldPath:((me=xe==null?void 0:xe.payload)==null?void 0:me.fieldPath)||""})},[C]),le=f.useCallback((xe,me)=>{C.update(xe,me)},[C]),oe=f.useCallback(xe=>{var ve;const me=Z.find(_e=>{var Ze;return((Ze=_e.parentComment)==null?void 0:Ze._id)===xe}),Se=!!(me&&((ve=me==null?void 0:me.replies)==null?void 0:ve.length)>0);a(!0),s({commentId:xe,isParent:Se})},[Z]),ue=f.useCallback(async xe=>{try{c(!0),await C.remove(xe),K()}catch(me){h(me)}finally{c(!1)}},[K,C]),ye=f.useCallback((xe,me)=>{var Se;if(C.update(xe,{status:me}),me==="open"){x("open");const ve=y(xe);if(!ve)return;F({fieldPath:((Se=ve.target.path)==null?void 0:Se.field)||null,origin:"inspector",threadId:ve.threadId||null}),M(xe)}},[y,C,M,F,x]),Ee=f.useCallback((xe,me)=>{C.react(xe,me)},[C]),ke=f.useCallback(()=>{R&&I&&F(null)},[I,R,F]);xn(xe=>{var me;xe.target instanceof HTMLElement&&((me=xe.target)!=null&&me.hasAttribute("data-slate-string"))||ke()},()=>[p.current]);const[ge,je]=f.useState(!1);f.useEffect(()=>{if(!(ge||r!=="upsell"))return je(!0),(R==null?void 0:R.origin)==="form"?W.panelViewed("field_action"):T.current?W.panelViewed("link"):W.panelViewed("document_action"),()=>{W.panelDismissed()}},[ge,r,R==null?void 0:R.origin,W]),f.useEffect(()=>{var me;const xe=y(T.current||"");!J&&xe&&j.current===!1&&(x(xe.status||"open"),F({fieldPath:((me=xe.target.path)==null?void 0:me.field)||null,origin:"url",threadId:xe.threadId||null}),M(xe._id),j.current=!0,T.current=void 0,k==null||k(),U.commentViewedFromLink())},[y,J,k,M,F,x,U]);const Ve=f.useMemo(()=>r==="upsell"&&H?u.jsx(H4n,{data:H,onPrimaryClick:W.panelPrimaryClicked,onSecondaryClick:W.panelSecondaryClicked}):null,[r,W.panelPrimaryClicked,W.panelSecondaryClicked,H]);return u.jsxs(f.Fragment,{children:[o&&i&&u.jsx(G$e,{...o,error:d,loading:l,onClose:K,onConfirm:ue}),u.jsxs(z,{direction:"column",flex:1,height:"fill",onClick:ke,overflow:"hidden",ref:p,children:[u.jsx(U4n,{onDismiss:V,open:!P,placement:"left-start",children:u.jsx(L2n,{onClose:G,onViewChange:re,view:w,mode:r})}),m&&u.jsx(L4n,{beforeListNode:Ve,comments:Z,currentUser:m,error:g.error,loading:J,mentionOptions:b,mode:r,onCopyLink:te,onCreateRetry:X,onDelete:oe,onEdit:le,onNewThreadCreate:ee,onPathSelect:Q,onReactionSelect:Ee,onReply:se,onStatusChange:ye,readOnly:v,selectedPath:R,status:w}),r==="default"&&u.jsx(F2n,{})]})]})}function U2n(){const{t:e}=q(ri),{enabled:t}=Zp();return{hidden:!t,icon:RI,showAsAction:!0,title:e("feature-name")}}const H2n={name:ww,component:V2n,useMenuItem:U2n};function W2n(e){const{enabled:t,isLoading:n}=Tk("studioComments");return u.jsx(POe,{children:u.jsx(Hkn,{children:u.jsx(Kv,{condition:!t&&!n,wrapper:r=>u.jsx(a2n,{children:r}),children:e.renderDefault(e)})})})}const G2n=Eb({name:"sanity/comments",document:{inspectors:[H2n],components:{unstable_layout:o2n}},form:{components:{field:d2n,input:M2n}},studio:{components:{layout:W2n}},i18n:{bundles:[gEn]}}),HRe="scheduled-publishing::time-zone",Uj={publish:{actionName:"Publishing",badgeColor:"primary",badgeTone:"positive"},unpublish:{actionName:"Unpublishing",badgeColor:"danger",badgeTone:"critical"}},ES={scheduled:{title:"Upcoming"},succeeded:{title:"Completed"},cancelled:{title:"Failed"}},kS=Object.keys(ES).filter(e=>!!e),WRe=55,Y2n="This document has validation warnings.",hY="This document has validation errors that should be resolved before its publish date.",q2n="This schedule failed to run.",K2n="Forbidden. Please check that your project has access to Scheduled Publishing.",Cy={SMALL:"d MMM yy',' p",MEDIUM:"d MMMM yyyy',' p",LARGE:"iiii',' d MMMM yyyy',' p"},Z2n={enabled:!0,inputDateTimeFormat:"dd/MM/yyyy HH:mm"},X2n="schedules",J2n="Schedules",GRe=e=>{const{description:t,title:n}=e;return u.jsx(ie,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"critical",children:u.jsxs(z,{align:"center",gap:4,children:[u.jsx(N,{size:2,children:u.jsx(Ta,{})}),u.jsxs(Rn,{space:2,children:[u.jsx(N,{size:1,weight:"semibold",children:n}),t&&u.jsx(N,{size:1,children:t})]})]})})};var Q2n=[{name:"Pacific/Niue",alternativeName:"Niue Time",group:["Pacific/Niue"],continentCode:"OC",continentName:"Oceania",countryName:"Niue",countryCode:"NU",mainCities:["Alofi"],rawOffsetInMinutes:-660,abbreviation:"NUT",rawFormat:"-11:00 Niue Time - Alofi"},{name:"Pacific/Midway",alternativeName:"Samoa Time",group:["Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Midway"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Midway"},{name:"Pacific/Pago_Pago",alternativeName:"Samoa Time",group:["Pacific/Pago_Pago","US/Samoa","Pacific/Samoa","Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"American Samoa",countryCode:"AS",mainCities:["Pago Pago"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Pago Pago"},{name:"Pacific/Rarotonga",alternativeName:"Cook Islands Time",group:["Pacific/Rarotonga"],continentCode:"OC",continentName:"Oceania",countryName:"Cook Islands",countryCode:"CK",mainCities:["Avarua"],rawOffsetInMinutes:-600,abbreviation:"CKT",rawFormat:"-10:00 Cook Islands Time - Avarua"},{name:"America/Adak",alternativeName:"Hawaii-Aleutian Time",group:["America/Adak","US/Aleutian","America/Atka"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Adak"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Adak"},{name:"Pacific/Honolulu",alternativeName:"Hawaii-Aleutian Time",group:["Pacific/Honolulu","US/Hawaii","Pacific/Johnston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Honolulu","East Honolulu","Pearl City","Hilo"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Honolulu, East Honolulu, Pearl City, Hilo"},{name:"Pacific/Tahiti",alternativeName:"Tahiti Time",group:["Pacific/Tahiti"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Faaa","Papeete","Punaauia"],rawOffsetInMinutes:-600,abbreviation:"TAHT",rawFormat:"-10:00 Tahiti Time - Faaa, Papeete, Punaauia"},{name:"Pacific/Marquesas",alternativeName:"Marquesas Time",group:["Pacific/Marquesas"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Marquesas"],rawOffsetInMinutes:-570,abbreviation:"MART",rawFormat:"-09:30 Marquesas Time - Marquesas"},{name:"America/Anchorage",alternativeName:"Alaska Time",group:["America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","US/Alaska"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Anchorage","Juneau","Fairbanks","Eagle River"],rawOffsetInMinutes:-540,abbreviation:"AKST",rawFormat:"-09:00 Alaska Time - Anchorage, Juneau, Fairbanks, Eagle River"},{name:"Pacific/Gambier",alternativeName:"Gambier Time",group:["Pacific/Gambier"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Gambier"],rawOffsetInMinutes:-540,abbreviation:"GAMT",rawFormat:"-09:00 Gambier Time - Gambier"},{name:"America/Los_Angeles",alternativeName:"Pacific Time",group:["America/Los_Angeles","US/Pacific"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Los Angeles","San Diego","San Jose","San Francisco"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Los Angeles, San Diego, San Jose, San Francisco"},{name:"America/Tijuana",alternativeName:"Pacific Time",group:["America/Tijuana","Mexico/BajaNorte","America/Ensenada","America/Santa_Isabel"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Tijuana","Mexicali","Ensenada","Rosarito"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Tijuana, Mexicali, Ensenada, Rosarito"},{name:"America/Vancouver",alternativeName:"Pacific Time",group:["America/Vancouver","Canada/Pacific"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Vancouver","Surrey","Okanagan","Victoria"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Vancouver, Surrey, Okanagan, Victoria"},{name:"Pacific/Pitcairn",alternativeName:"Pitcairn Time",group:["Pacific/Pitcairn"],continentCode:"OC",continentName:"Oceania",countryName:"Pitcairn",countryCode:"PN",mainCities:["Adamstown"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pitcairn Time - Adamstown"},{name:"America/Hermosillo",alternativeName:"Mexican Pacific Time",group:["America/Hermosillo","America/Mazatlan","Mexico/BajaSur"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Hermosillo","Culiacn","Ciudad Obregn","Mazatln"],rawOffsetInMinutes:-420,abbreviation:"GMT-7",rawFormat:"-07:00 Mexican Pacific Time - Hermosillo, Culiacn, Ciudad Obregn, Mazatln"},{name:"America/Edmonton",alternativeName:"Mountain Time",group:["America/Cambridge_Bay","America/Edmonton","America/Inuvik","America/Yellowknife","Canada/Mountain"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Calgary","Edmonton","Red Deer","Sherwood Park"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Calgary, Edmonton, Red Deer, Sherwood Park"},{name:"America/Ciudad_Juarez",alternativeName:"Mountain Time",group:["America/Ciudad_Juarez"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Ciudad Jurez"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Ciudad Jurez"},{name:"America/Denver",alternativeName:"Mountain Time",group:["America/Boise","America/Denver","Navajo","US/Mountain","America/Shiprock"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Denver","El Paso","Albuquerque","Colorado Springs"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Denver, El Paso, Albuquerque, Colorado Springs"},{name:"America/Phoenix",alternativeName:"Mountain Time",group:["America/Phoenix","US/Arizona","America/Creston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Phoenix","Tucson","Mesa","Chandler"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Phoenix, Tucson, Mesa, Chandler"},{name:"America/Whitehorse",alternativeName:"Yukon Time",group:["America/Creston","America/Dawson","America/Dawson_Creek","America/Fort_Nelson","America/Whitehorse","Canada/Yukon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Whitehorse","Fort St. John","Creston","Dawson"],rawOffsetInMinutes:-420,abbreviation:"YT",rawFormat:"-07:00 Yukon Time - Whitehorse, Fort St. John, Creston, Dawson"},{name:"America/Belize",alternativeName:"Central Time",group:["America/Belize"],continentCode:"NA",continentName:"North America",countryName:"Belize",countryCode:"BZ",mainCities:["Belize City","San Ignacio","San Pedro","Orange Walk"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Belize City, San Ignacio, San Pedro, Orange Walk"},{name:"America/Chicago",alternativeName:"Central Time",group:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","US/Central","US/Indiana-Starke","America/Knox_IN"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Chicago","Houston","San Antonio","Dallas"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Chicago, Houston, San Antonio, Dallas"},{name:"America/Guatemala",alternativeName:"Central Time",group:["America/Guatemala"],continentCode:"NA",continentName:"North America",countryName:"Guatemala",countryCode:"GT",mainCities:["Guatemala City","Villa Nueva","Mixco","Cobn"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Guatemala City, Villa Nueva, Mixco, Cobn"},{name:"America/Managua",alternativeName:"Central Time",group:["America/Managua"],continentCode:"NA",continentName:"North America",countryName:"Nicaragua",countryCode:"NI",mainCities:["Managua","Len","Masaya","Chinandega"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Managua, Len, Masaya, Chinandega"},{name:"America/Mexico_City",alternativeName:"Central Time",group:["America/Bahia_Banderas","America/Chihuahua","America/Merida","America/Mexico_City","America/Monterrey","Mexico/General"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Mexico City","Iztapalapa","Len de los Aldama","Puebla"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Mexico City, Iztapalapa, Len de los Aldama, Puebla"},{name:"America/Matamoros",alternativeName:"Central Time",group:["America/Matamoros","America/Ojinaga"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Reynosa","Heroica Matamoros","Nuevo Laredo","Piedras Negras"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Reynosa, Heroica Matamoros, Nuevo Laredo, Piedras Negras"},{name:"America/Costa_Rica",alternativeName:"Central Time",group:["America/Costa_Rica"],continentCode:"NA",continentName:"North America",countryName:"Costa Rica",countryCode:"CR",mainCities:["San Jos","Limn","San Francisco","Alajuela"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Jos, Limn, San Francisco, Alajuela"},{name:"America/El_Salvador",alternativeName:"Central Time",group:["America/El_Salvador"],continentCode:"NA",continentName:"North America",countryName:"El Salvador",countryCode:"SV",mainCities:["San Salvador","Soyapango","San Miguel","Santa Ana"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Salvador, Soyapango, San Miguel, Santa Ana"},{name:"America/Regina",alternativeName:"Central Time",group:["America/Regina","America/Swift_Current","Canada/Saskatchewan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Saskatoon","Regina","Prince Albert","Moose Jaw"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Saskatoon, Regina, Prince Albert, Moose Jaw"},{name:"America/Tegucigalpa",alternativeName:"Central Time",group:["America/Tegucigalpa"],continentCode:"NA",continentName:"North America",countryName:"Honduras",countryCode:"HN",mainCities:["Tegucigalpa","San Pedro Sula","La Ceiba","Choloma"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Tegucigalpa, San Pedro Sula, La Ceiba, Choloma"},{name:"America/Winnipeg",alternativeName:"Central Time",group:["America/Rankin_Inlet","America/Resolute","America/Winnipeg","Canada/Central","America/Rainy_River"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Winnipeg","Brandon","Steinbach","Kenora"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Winnipeg, Brandon, Steinbach, Kenora"},{name:"Pacific/Easter",alternativeName:"Easter Island Time",group:["Pacific/Easter","Chile/EasterIsland"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Easter"],rawOffsetInMinutes:-360,abbreviation:"EAST",rawFormat:"-06:00 Easter Island Time - Easter"},{name:"Pacific/Galapagos",alternativeName:"Galapagos Time",group:["Pacific/Galapagos"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Galapagos"],rawOffsetInMinutes:-360,abbreviation:"GALT",rawFormat:"-06:00 Galapagos Time - Galapagos"},{name:"America/Rio_Branco",alternativeName:"Acre Time",group:["America/Eirunepe","America/Rio_Branco","Brazil/Acre","America/Porto_Acre"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Rio Branco","Cruzeiro do Sul","Senador Guiomard","Sena Madureira"],rawOffsetInMinutes:-300,abbreviation:"ACT",rawFormat:"-05:00 Acre Time - Rio Branco, Cruzeiro do Sul, Senador Guiomard, Sena Madureira"},{name:"America/Bogota",alternativeName:"Colombia Time",group:["America/Bogota"],continentCode:"SA",continentName:"South America",countryName:"Colombia",countryCode:"CO",mainCities:["Bogot","Cali","Medelln","Barranquilla"],rawOffsetInMinutes:-300,abbreviation:"COT",rawFormat:"-05:00 Colombia Time - Bogot, Cali, Medelln, Barranquilla"},{name:"America/Havana",alternativeName:"Cuba Time",group:["America/Havana","Cuba"],continentCode:"NA",continentName:"North America",countryName:"Cuba",countryCode:"CU",mainCities:["Havana","Santiago de Cuba","Camagey","Holgun"],rawOffsetInMinutes:-300,abbreviation:"CST",rawFormat:"-05:00 Cuba Time - Havana, Santiago de Cuba, Camagey, Holgun"},{name:"America/Atikokan",alternativeName:"Eastern Time",group:["America/Atikokan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Atikokan"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Atikokan"},{name:"America/Cancun",alternativeName:"Eastern Time",group:["America/Cancun"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Cancn","Chetumal","Playa del Carmen","Cozumel"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cancn, Chetumal, Playa del Carmen, Cozumel"},{name:"America/Grand_Turk",alternativeName:"Eastern Time",group:["America/Grand_Turk"],continentCode:"NA",continentName:"North America",countryName:"Turks and Caicos Islands",countryCode:"TC",mainCities:["Cockburn Town"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cockburn Town"},{name:"America/Cayman",alternativeName:"Eastern Time",group:["America/Cayman"],continentCode:"NA",continentName:"North America",countryName:"Cayman Islands",countryCode:"KY",mainCities:["George Town","West Bay"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - George Town, West Bay"},{name:"America/Jamaica",alternativeName:"Eastern Time",group:["America/Jamaica","Jamaica"],continentCode:"NA",continentName:"North America",countryName:"Jamaica",countryCode:"JM",mainCities:["Kingston","New Kingston","Spanish Town","Portmore"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Kingston, New Kingston, Spanish Town, Portmore"},{name:"America/Nassau",alternativeName:"Eastern Time",group:["America/Nassau"],continentCode:"NA",continentName:"North America",countryName:"Bahamas",countryCode:"BS",mainCities:["Nassau","Lucaya","Freeport","Killarney"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Nassau, Lucaya, Freeport, Killarney"},{name:"America/New_York",alternativeName:"Eastern Time",group:["America/Detroit","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Kentucky/Louisville","America/Kentucky/Monticello","America/New_York","US/Michigan","US/East-Indiana","America/Indianapolis","America/Fort_Wayne","America/Louisville","US/Eastern"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["New York City","Brooklyn","Queens","Philadelphia"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - New York City, Brooklyn, Queens, Philadelphia"},{name:"America/Panama",alternativeName:"Eastern Time",group:["America/Panama","America/Atikokan","America/Cayman","America/Coral_Harbour"],continentCode:"NA",continentName:"North America",countryName:"Panama",countryCode:"PA",mainCities:["Panam","San Miguelito","Juan Daz","David"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Panam, San Miguelito, Juan Daz, David"},{name:"America/Port-au-Prince",alternativeName:"Eastern Time",group:["America/Port-au-Prince"],continentCode:"NA",continentName:"North America",countryName:"Haiti",countryCode:"HT",mainCities:["Port-au-Prince","Carrefour","Delmas 73","Port-de-Paix"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Port-au-Prince, Carrefour, Delmas 73, Port-de-Paix"},{name:"America/Toronto",alternativeName:"Eastern Time",group:["America/Iqaluit","America/Toronto","America/Pangnirtung","Canada/Eastern","America/Nassau","America/Montreal","America/Nipigon","America/Thunder_Bay"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Toronto","Montral","Ottawa","Mississauga"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Toronto, Montral, Ottawa, Mississauga"},{name:"America/Guayaquil",alternativeName:"Ecuador Time",group:["America/Guayaquil"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Quito","Guayaquil","Cuenca","Santo Domingo de los Colorados"],rawOffsetInMinutes:-300,abbreviation:"ECT",rawFormat:"-05:00 Ecuador Time - Quito, Guayaquil, Cuenca, Santo Domingo de los Colorados"},{name:"America/Lima",alternativeName:"Peru Time",group:["America/Lima"],continentCode:"SA",continentName:"South America",countryName:"Peru",countryCode:"PE",mainCities:["Lima","Callao","Arequipa","Trujillo"],rawOffsetInMinutes:-300,abbreviation:"PET",rawFormat:"-05:00 Peru Time - Lima, Callao, Arequipa, Trujillo"},{name:"America/Manaus",alternativeName:"Amazon Time",group:["America/Boa_Vista","America/Campo_Grande","America/Cuiaba","America/Manaus","America/Porto_Velho","Brazil/West"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Manaus","Campo Grande","Cuiab","Porto Velho"],rawOffsetInMinutes:-240,abbreviation:"AMT",rawFormat:"-04:00 Amazon Time - Manaus, Campo Grande, Cuiab, Porto Velho"},{name:"America/St_Kitts",alternativeName:"Atlantic Time",group:["America/St_Kitts"],continentCode:"NA",continentName:"North America",countryName:"Saint Kitts and Nevis",countryCode:"KN",mainCities:["Basseterre"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Basseterre"},{name:"America/Blanc-Sablon",alternativeName:"Atlantic Time",group:["America/Blanc-Sablon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Blanc-Sablon"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Blanc-Sablon"},{name:"America/Montserrat",alternativeName:"Atlantic Time",group:["America/Montserrat"],continentCode:"NA",continentName:"North America",countryName:"Montserrat",countryCode:"MS",mainCities:["Brades","Plymouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Brades, Plymouth"},{name:"America/Barbados",alternativeName:"Atlantic Time",group:["America/Barbados"],continentCode:"NA",continentName:"North America",countryName:"Barbados",countryCode:"BB",mainCities:["Bridgetown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Bridgetown"},{name:"America/Port_of_Spain",alternativeName:"Atlantic Time",group:["America/Port_of_Spain"],continentCode:"NA",continentName:"North America",countryName:"Trinidad and Tobago",countryCode:"TT",mainCities:["Chaguanas","Mon Repos","San Fernando","Port of Spain"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Chaguanas, Mon Repos, San Fernando, Port of Spain"},{name:"America/Martinique",alternativeName:"Atlantic Time",group:["America/Martinique"],continentCode:"NA",continentName:"North America",countryName:"Martinique",countryCode:"MQ",mainCities:["Fort-de-France","Le Lamentin","Le Robert","Sainte-Marie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Fort-de-France, Le Lamentin, Le Robert, Sainte-Marie"},{name:"America/St_Lucia",alternativeName:"Atlantic Time",group:["America/St_Lucia"],continentCode:"NA",continentName:"North America",countryName:"Saint Lucia",countryCode:"LC",mainCities:["Gros Islet","Castries"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gros Islet, Castries"},{name:"America/St_Barthelemy",alternativeName:"Atlantic Time",group:["America/St_Barthelemy"],continentCode:"NA",continentName:"North America",countryName:"Saint Barthelemy",countryCode:"BL",mainCities:["Gustavia"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gustavia"},{name:"America/Halifax",alternativeName:"Atlantic Time",group:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","Canada/Atlantic"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Halifax","Moncton","Sydney","Dartmouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Halifax, Moncton, Sydney, Dartmouth"},{name:"Atlantic/Bermuda",alternativeName:"Atlantic Time",group:["Atlantic/Bermuda"],continentCode:"NA",continentName:"North America",countryName:"Bermuda",countryCode:"BM",mainCities:["Hamilton"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Hamilton"},{name:"America/St_Vincent",alternativeName:"Atlantic Time",group:["America/St_Vincent"],continentCode:"NA",continentName:"North America",countryName:"Saint Vincent and the Grenadines",countryCode:"VC",mainCities:["Kingstown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kingstown"},{name:"America/Kralendijk",alternativeName:"Atlantic Time",group:["America/Kralendijk"],continentCode:"NA",continentName:"North America",countryName:"Bonaire, Saint Eustatius and Saba ",countryCode:"BQ",mainCities:["Kralendijk"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kralendijk"},{name:"America/Guadeloupe",alternativeName:"Atlantic Time",group:["America/Guadeloupe"],continentCode:"NA",continentName:"North America",countryName:"Guadeloupe",countryCode:"GP",mainCities:["Les Abymes","Baie-Mahault","Le Gosier","Petit-Bourg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Les Abymes, Baie-Mahault, Le Gosier, Petit-Bourg"},{name:"America/Marigot",alternativeName:"Atlantic Time",group:["America/Marigot"],continentCode:"NA",continentName:"North America",countryName:"Saint Martin",countryCode:"MF",mainCities:["Marigot"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Marigot"},{name:"America/Aruba",alternativeName:"Atlantic Time",group:["America/Aruba"],continentCode:"NA",continentName:"North America",countryName:"Aruba",countryCode:"AW",mainCities:["Oranjestad","Noord","Tanki Leendert","San Nicolas"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Oranjestad, Noord, Tanki Leendert, San Nicolas"},{name:"America/Lower_Princes",alternativeName:"Atlantic Time",group:["America/Lower_Princes"],continentCode:"NA",continentName:"North America",countryName:"Sint Maarten",countryCode:"SX",mainCities:["Philipsburg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Philipsburg"},{name:"America/Tortola",alternativeName:"Atlantic Time",group:["America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"British Virgin Islands",countryCode:"VG",mainCities:["Road Town"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Road Town"},{name:"America/Dominica",alternativeName:"Atlantic Time",group:["America/Dominica"],continentCode:"NA",continentName:"North America",countryName:"Dominica",countryCode:"DM",mainCities:["Roseau"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Roseau"},{name:"America/St_Thomas",alternativeName:"Atlantic Time",group:["America/St_Thomas"],continentCode:"NA",continentName:"North America",countryName:"U.S. Virgin Islands",countryCode:"VI",mainCities:["Saint Croix","Charlotte Amalie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Croix, Charlotte Amalie"},{name:"America/Grenada",alternativeName:"Atlantic Time",group:["America/Grenada"],continentCode:"NA",continentName:"North America",countryName:"Grenada",countryCode:"GD",mainCities:["Saint George's"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint George's"},{name:"America/Antigua",alternativeName:"Atlantic Time",group:["America/Antigua"],continentCode:"NA",continentName:"North America",countryName:"Antigua and Barbuda",countryCode:"AG",mainCities:["Saint Johns"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Johns"},{name:"America/Puerto_Rico",alternativeName:"Atlantic Time",group:["America/Puerto_Rico","America/Virgin","America/Anguilla","America/Antigua","America/Aruba","America/Blanc-Sablon","America/Curacao","America/Dominica","America/Grenada","America/Guadeloupe","America/Kralendijk","America/Lower_Princes","America/Marigot","America/Montserrat","America/Port_of_Spain","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"Puerto Rico",countryCode:"PR",mainCities:["San Juan","Bayamn","Carolina","Ponce"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - San Juan, Bayamn, Carolina, Ponce"},{name:"America/Santo_Domingo",alternativeName:"Atlantic Time",group:["America/Santo_Domingo"],continentCode:"NA",continentName:"North America",countryName:"Dominican Republic",countryCode:"DO",mainCities:["Santo Domingo","Santiago de los Caballeros","Santo Domingo Oeste","Santo Domingo Este"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Santo Domingo, Santiago de los Caballeros, Santo Domingo Oeste, Santo Domingo Este"},{name:"America/Anguilla",alternativeName:"Atlantic Time",group:["America/Anguilla"],continentCode:"NA",continentName:"North America",countryName:"Anguilla",countryCode:"AI",mainCities:["The Valley"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - The Valley"},{name:"America/Thule",alternativeName:"Atlantic Time",group:["America/Thule"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Thule"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Thule"},{name:"America/Curacao",alternativeName:"Atlantic Time",group:["America/Curacao"],continentCode:"NA",continentName:"North America",countryName:"Curacao",countryCode:"CW",mainCities:["Willemstad"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Willemstad"},{name:"America/La_Paz",alternativeName:"Bolivia Time",group:["America/La_Paz"],continentCode:"SA",continentName:"South America",countryName:"Bolivia",countryCode:"BO",mainCities:["La Paz","Santa Cruz de la Sierra","Cochabamba","Sucre"],rawOffsetInMinutes:-240,abbreviation:"BOT",rawFormat:"-04:00 Bolivia Time - La Paz, Santa Cruz de la Sierra, Cochabamba, Sucre"},{name:"America/Santiago",alternativeName:"Chile Time",group:["America/Santiago","Chile/Continental"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Santiago","Puente Alto","Antofagasta","Via del Mar"],rawOffsetInMinutes:-240,abbreviation:"CLT",rawFormat:"-04:00 Chile Time - Santiago, Puente Alto, Antofagasta, Via del Mar"},{name:"America/Guyana",alternativeName:"Guyana Time",group:["America/Guyana"],continentCode:"SA",continentName:"South America",countryName:"Guyana",countryCode:"GY",mainCities:["Georgetown","Linden","New Amsterdam"],rawOffsetInMinutes:-240,abbreviation:"GYT",rawFormat:"-04:00 Guyana Time - Georgetown, Linden, New Amsterdam"},{name:"America/Asuncion",alternativeName:"Paraguay Time",group:["America/Asuncion"],continentCode:"SA",continentName:"South America",countryName:"Paraguay",countryCode:"PY",mainCities:["Asuncin","Ciudad del Este","San Lorenzo","Capiat"],rawOffsetInMinutes:-240,abbreviation:"PYT",rawFormat:"-04:00 Paraguay Time - Asuncin, Ciudad del Este, San Lorenzo, Capiat"},{name:"America/Caracas",alternativeName:"Venezuela Time",group:["America/Caracas"],continentCode:"SA",continentName:"South America",countryName:"Venezuela",countryCode:"VE",mainCities:["Caracas","Maracaibo","Maracay","Valencia"],rawOffsetInMinutes:-240,abbreviation:"VET",rawFormat:"-04:00 Venezuela Time - Caracas, Maracaibo, Maracay, Valencia"},{name:"America/St_Johns",alternativeName:"Newfoundland Time",group:["America/St_Johns","Canada/Newfoundland"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["St. John's","Mount Pearl","Corner Brook","Conception Bay South"],rawOffsetInMinutes:-210,abbreviation:"NST",rawFormat:"-03:30 Newfoundland Time - St. John's, Mount Pearl, Corner Brook, Conception Bay South"},{name:"America/Argentina/Buenos_Aires",alternativeName:"Argentina Time",group:["America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Argentina/ComodRivadavia","America/Cordoba","America/Rosario","America/Jujuy","America/Mendoza"],continentCode:"SA",continentName:"South America",countryName:"Argentina",countryCode:"AR",mainCities:["Buenos Aires","Crdoba","Rosario","Mar del Plata"],rawOffsetInMinutes:-180,abbreviation:"ART",rawFormat:"-03:00 Argentina Time - Buenos Aires, Crdoba, Rosario, Mar del Plata"},{name:"America/Sao_Paulo",alternativeName:"Brasilia Time",group:["America/Araguaina","America/Bahia","America/Belem","America/Fortaleza","America/Maceio","America/Recife","America/Santarem","America/Sao_Paulo","Brazil/East"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["So Paulo","Rio de Janeiro","Belo Horizonte","Salvador"],rawOffsetInMinutes:-180,abbreviation:"BRT",rawFormat:"-03:00 Brasilia Time - So Paulo, Rio de Janeiro, Belo Horizonte, Salvador"},{name:"Antarctica/Palmer",alternativeName:"Chile Time",group:["Antarctica/Palmer","Antarctica/Rothera"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Palmer","Rothera"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Palmer, Rothera"},{name:"America/Punta_Arenas",alternativeName:"Chile Time",group:["America/Punta_Arenas"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Punta Arenas","Puerto Natales"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Punta Arenas, Puerto Natales"},{name:"Atlantic/Stanley",alternativeName:"Falkland Islands Time",group:["Atlantic/Stanley"],continentCode:"SA",continentName:"South America",countryName:"Falkland Islands",countryCode:"FK",mainCities:["Stanley"],rawOffsetInMinutes:-180,abbreviation:"FKST",rawFormat:"-03:00 Falkland Islands Time - Stanley"},{name:"America/Cayenne",alternativeName:"French Guiana Time",group:["America/Cayenne"],continentCode:"SA",continentName:"South America",countryName:"French Guiana",countryCode:"GF",mainCities:["Cayenne","Matoury","Saint-Laurent-du-Maroni","Kourou"],rawOffsetInMinutes:-180,abbreviation:"GFT",rawFormat:"-03:00 French Guiana Time - Cayenne, Matoury, Saint-Laurent-du-Maroni, Kourou"},{name:"America/Miquelon",alternativeName:"St. Pierre & Miquelon Time",group:["America/Miquelon"],continentCode:"NA",continentName:"North America",countryName:"Saint Pierre and Miquelon",countryCode:"PM",mainCities:["Saint-Pierre"],rawOffsetInMinutes:-180,abbreviation:"PM",rawFormat:"-03:00 St. Pierre & Miquelon Time - Saint-Pierre"},{name:"America/Paramaribo",alternativeName:"Suriname Time",group:["America/Paramaribo"],continentCode:"SA",continentName:"South America",countryName:"Suriname",countryCode:"SR",mainCities:["Paramaribo","Lelydorp"],rawOffsetInMinutes:-180,abbreviation:"SRT",rawFormat:"-03:00 Suriname Time - Paramaribo, Lelydorp"},{name:"America/Montevideo",alternativeName:"Uruguay Time",group:["America/Montevideo"],continentCode:"SA",continentName:"South America",countryName:"Uruguay",countryCode:"UY",mainCities:["Montevideo","Salto","Paysand","Las Piedras"],rawOffsetInMinutes:-180,abbreviation:"UYT",rawFormat:"-03:00 Uruguay Time - Montevideo, Salto, Paysand, Las Piedras"},{name:"America/Scoresbysund",alternativeName:"East Greenland Time",group:["America/Scoresbysund"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Scoresbysund"],rawOffsetInMinutes:-120,abbreviation:"EGT",rawFormat:"-02:00 East Greenland Time - Scoresbysund"},{name:"America/Noronha",alternativeName:"Fernando de Noronha Time",group:["America/Noronha","Brazil/DeNoronha"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Noronha"],rawOffsetInMinutes:-120,abbreviation:"FNT",rawFormat:"-02:00 Fernando de Noronha Time - Noronha"},{name:"Atlantic/South_Georgia",alternativeName:"South Georgia Time",group:["Atlantic/South_Georgia"],continentCode:"AN",continentName:"Antarctica",countryName:"South Georgia and the South Sandwich Islands",countryCode:"GS",mainCities:["Grytviken"],rawOffsetInMinutes:-120,abbreviation:"GST",rawFormat:"-02:00 South Georgia Time - Grytviken"},{name:"America/Nuuk",alternativeName:"West Greenland Time",group:["America/Nuuk","America/Godthab"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Nuuk"],rawOffsetInMinutes:-120,abbreviation:"WGT",rawFormat:"-02:00 West Greenland Time - Nuuk"},{name:"Atlantic/Azores",alternativeName:"Azores Time",group:["Atlantic/Azores"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Ponta Delgada"],rawOffsetInMinutes:-60,abbreviation:"AZOT",rawFormat:"-01:00 Azores Time - Ponta Delgada"},{name:"Atlantic/Cape_Verde",alternativeName:"Cape Verde Time",group:["Atlantic/Cape_Verde"],continentCode:"AF",continentName:"Africa",countryName:"Cabo Verde",countryCode:"CV",mainCities:["Praia","Mindelo","Espargos","Assomada"],rawOffsetInMinutes:-60,abbreviation:"CVT",rawFormat:"-01:00 Cape Verde Time - Praia, Mindelo, Espargos, Assomada"},{name:"Africa/Abidjan",alternativeName:"Greenwich Mean Time",group:["Africa/Abidjan","Iceland","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Nouakchott","Africa/Ouagadougou","Atlantic/Reykjavik","Atlantic/St_Helena","Africa/Timbuktu"],continentCode:"AF",continentName:"Africa",countryName:"Ivory Coast",countryCode:"CI",mainCities:["Abidjan","Abobo","Bouak","Korhogo"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Abidjan, Abobo, Bouak, Korhogo"},{name:"Africa/Bamako",alternativeName:"Greenwich Mean Time",group:["Africa/Bamako"],continentCode:"AF",continentName:"Africa",countryName:"Mali",countryCode:"ML",mainCities:["Bamako","Sikasso","Koutiala","Sgou"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bamako, Sikasso, Koutiala, Sgou"},{name:"Africa/Bissau",alternativeName:"Greenwich Mean Time",group:["Africa/Bissau"],continentCode:"AF",continentName:"Africa",countryName:"Guinea-Bissau",countryCode:"GW",mainCities:["Bissau","Gab","Bafat"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bissau, Gab, Bafat"},{name:"Africa/Conakry",alternativeName:"Greenwich Mean Time",group:["Africa/Conakry"],continentCode:"AF",continentName:"Africa",countryName:"Guinea",countryCode:"GN",mainCities:["Conakry","Camayenne","Nzrkor","Kankan"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Conakry, Camayenne, Nzrkor, Kankan"},{name:"Africa/Dakar",alternativeName:"Greenwich Mean Time",group:["Africa/Dakar"],continentCode:"AF",continentName:"Africa",countryName:"Senegal",countryCode:"SN",mainCities:["Dakar","Pikine","Touba","This"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dakar, Pikine, Touba, This"},{name:"America/Danmarkshavn",alternativeName:"Greenwich Mean Time",group:["America/Danmarkshavn"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Danmarkshavn"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Danmarkshavn"},{name:"Europe/Isle_of_Man",alternativeName:"Greenwich Mean Time",group:["Europe/Isle_of_Man"],continentCode:"EU",continentName:"Europe",countryName:"Isle of Man",countryCode:"IM",mainCities:["Douglas"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Douglas"},{name:"Europe/Dublin",alternativeName:"Greenwich Mean Time",group:["Europe/Dublin","Eire"],continentCode:"EU",continentName:"Europe",countryName:"Ireland",countryCode:"IE",mainCities:["Dublin","South Dublin","Cork","Limerick"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dublin, South Dublin, Cork, Limerick"},{name:"Africa/Freetown",alternativeName:"Greenwich Mean Time",group:["Africa/Freetown"],continentCode:"AF",continentName:"Africa",countryName:"Sierra Leone",countryCode:"SL",mainCities:["Freetown","Bo","Kenema","Koidu"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Freetown, Bo, Kenema, Koidu"},{name:"Atlantic/St_Helena",alternativeName:"Greenwich Mean Time",group:["Atlantic/St_Helena"],continentCode:"AF",continentName:"Africa",countryName:"Saint Helena",countryCode:"SH",mainCities:["Jamestown"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Jamestown"},{name:"Africa/Accra",alternativeName:"Greenwich Mean Time",group:["Africa/Accra"],continentCode:"AF",continentName:"Africa",countryName:"Ghana",countryCode:"GH",mainCities:["Kumasi","Accra","Tamale","Takoradi"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Kumasi, Accra, Tamale, Takoradi"},{name:"Africa/Lome",alternativeName:"Greenwich Mean Time",group:["Africa/Lome"],continentCode:"AF",continentName:"Africa",countryName:"Togo",countryCode:"TG",mainCities:["Lom","Sokod","Kara","Atakpam"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Lom, Sokod, Kara, Atakpam"},{name:"Europe/London",alternativeName:"Greenwich Mean Time",group:["Europe/London","GB","GB-Eire","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Belfast"],continentCode:"EU",continentName:"Europe",countryName:"United Kingdom",countryCode:"GB",mainCities:["London","Birmingham","Liverpool","Glasgow"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - London, Birmingham, Liverpool, Glasgow"},{name:"Africa/Monrovia",alternativeName:"Greenwich Mean Time",group:["Africa/Monrovia"],continentCode:"AF",continentName:"Africa",countryName:"Liberia",countryCode:"LR",mainCities:["Monrovia","Gbarnga","Buchanan","Ganta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Monrovia, Gbarnga, Buchanan, Ganta"},{name:"Africa/Nouakchott",alternativeName:"Greenwich Mean Time",group:["Africa/Nouakchott"],continentCode:"AF",continentName:"Africa",countryName:"Mauritania",countryCode:"MR",mainCities:["Nouakchott","Nouadhibou","Kiffa","Dar Naim"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Nouakchott, Nouadhibou, Kiffa, Dar Naim"},{name:"Africa/Ouagadougou",alternativeName:"Greenwich Mean Time",group:["Africa/Ouagadougou"],continentCode:"AF",continentName:"Africa",countryName:"Burkina Faso",countryCode:"BF",mainCities:["Ouagadougou","Bobo-Dioulasso","Koudougou","Saaba"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Ouagadougou, Bobo-Dioulasso, Koudougou, Saaba"},{name:"Atlantic/Reykjavik",alternativeName:"Greenwich Mean Time",group:["Atlantic/Reykjavik","Iceland"],continentCode:"EU",continentName:"Europe",countryName:"Iceland",countryCode:"IS",mainCities:["Reykjavk","Kpavogur","Hafnarfjrur","Reykjanesbr"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Reykjavk, Kpavogur, Hafnarfjrur, Reykjanesbr"},{name:"Europe/Jersey",alternativeName:"Greenwich Mean Time",group:["Europe/Jersey"],continentCode:"EU",continentName:"Europe",countryName:"Jersey",countryCode:"JE",mainCities:["Saint Helier"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Helier"},{name:"Europe/Guernsey",alternativeName:"Greenwich Mean Time",group:["Europe/Guernsey"],continentCode:"EU",continentName:"Europe",countryName:"Guernsey",countryCode:"GG",mainCities:["Saint Peter Port"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Peter Port"},{name:"Africa/Banjul",alternativeName:"Greenwich Mean Time",group:["Africa/Banjul"],continentCode:"AF",continentName:"Africa",countryName:"Gambia",countryCode:"GM",mainCities:["Serekunda","Brikama","Bununka Kunda","Sukuta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Serekunda, Brikama, Bununka Kunda, Sukuta"},{name:"Africa/Sao_Tome",alternativeName:"Greenwich Mean Time",group:["Africa/Sao_Tome"],continentCode:"AF",continentName:"Africa",countryName:"Sao Tome and Principe",countryCode:"ST",mainCities:["So Tom"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - So Tom"},{name:"Antarctica/Troll",alternativeName:"Greenwich Mean Time",group:["Antarctica/Troll"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Troll"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Troll"},{name:"Africa/Casablanca",alternativeName:"Western European Time",group:["Africa/Casablanca"],continentCode:"AF",continentName:"Africa",countryName:"Morocco",countryCode:"MA",mainCities:["Casablanca","Rabat","Fes","Tangier"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Casablanca, Rabat, Fes, Tangier"},{name:"Africa/El_Aaiun",alternativeName:"Western European Time",group:["Africa/El_Aaiun"],continentCode:"AF",continentName:"Africa",countryName:"Western Sahara",countryCode:"EH",mainCities:["Laayoune","Dakhla","Boujdour"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Laayoune, Dakhla, Boujdour"},{name:"Atlantic/Canary",alternativeName:"Western European Time",group:["Atlantic/Canary"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Las Palmas de Gran Canaria","Santa Cruz de Tenerife","La Laguna","Telde"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Las Palmas de Gran Canaria, Santa Cruz de Tenerife, La Laguna, Telde"},{name:"Europe/Lisbon",alternativeName:"Western European Time",group:["Atlantic/Madeira","Europe/Lisbon","Portugal"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Lisbon","Porto","Amadora","Braga"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Lisbon, Porto, Amadora, Braga"},{name:"Atlantic/Faroe",alternativeName:"Western European Time",group:["Atlantic/Faroe","Atlantic/Faeroe"],continentCode:"EU",continentName:"Europe",countryName:"Faroe Islands",countryCode:"FO",mainCities:["Trshavn"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Trshavn"},{name:"Africa/Windhoek",alternativeName:"Central Africa Time",group:["Africa/Windhoek"],continentCode:"AF",continentName:"Africa",countryName:"Namibia",countryCode:"NA",mainCities:["Windhoek","Rundu","Walvis Bay","Swakopmund"],rawOffsetInMinutes:60,abbreviation:"CAT",rawFormat:"+01:00 Central Africa Time - Windhoek, Rundu, Walvis Bay, Swakopmund"},{name:"Africa/Algiers",alternativeName:"Central European Time",group:["Africa/Algiers"],continentCode:"AF",continentName:"Africa",countryName:"Algeria",countryCode:"DZ",mainCities:["Algiers","Oran","Constantine","Annaba"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Algiers, Oran, Constantine, Annaba"},{name:"Europe/Amsterdam",alternativeName:"Central European Time",group:["Europe/Amsterdam"],continentCode:"EU",continentName:"Europe",countryName:"The Netherlands",countryCode:"NL",mainCities:["Amsterdam","Rotterdam","The Hague","Utrecht"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Amsterdam, Rotterdam, The Hague, Utrecht"},{name:"Europe/Andorra",alternativeName:"Central European Time",group:["Europe/Andorra"],continentCode:"EU",continentName:"Europe",countryName:"Andorra",countryCode:"AD",mainCities:["Andorra la Vella","les Escaldes"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Andorra la Vella, les Escaldes"},{name:"Europe/Belgrade",alternativeName:"Central European Time",group:["Europe/Belgrade","Europe/Ljubljana","Europe/Podgorica","Europe/Sarajevo","Europe/Skopje","Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Serbia",countryCode:"RS",mainCities:["Belgrade","Ni","Novi Sad","Zemun"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Belgrade, Ni, Novi Sad, Zemun"},{name:"Europe/Berlin",alternativeName:"Central European Time",group:["Europe/Berlin","Europe/Busingen","Arctic/Longyearbyen","Europe/Copenhagen","Europe/Oslo","Europe/Stockholm","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Germany",countryCode:"DE",mainCities:["Berlin","Hamburg","Munich","Kln"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Berlin, Hamburg, Munich, Kln"},{name:"Europe/Bratislava",alternativeName:"Central European Time",group:["Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Slovakia",countryCode:"SK",mainCities:["Bratislava","Koice","Nitra","Preov"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Bratislava, Koice, Nitra, Preov"},{name:"Europe/Brussels",alternativeName:"Central European Time",group:["Europe/Brussels","Europe/Amsterdam","Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Belgium",countryCode:"BE",mainCities:["Brussels","Antwerpen","Gent","Charleroi"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Brussels, Antwerpen, Gent, Charleroi"},{name:"Europe/Budapest",alternativeName:"Central European Time",group:["Europe/Budapest"],continentCode:"EU",continentName:"Europe",countryName:"Hungary",countryCode:"HU",mainCities:["Budapest","Debrecen","Szeged","Miskolc"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Budapest, Debrecen, Szeged, Miskolc"},{name:"Europe/Copenhagen",alternativeName:"Central European Time",group:["Europe/Copenhagen"],continentCode:"EU",continentName:"Europe",countryName:"Denmark",countryCode:"DK",mainCities:["Copenhagen","rhus","Odense","Aalborg"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Copenhagen, rhus, Odense, Aalborg"},{name:"Europe/Gibraltar",alternativeName:"Central European Time",group:["Europe/Gibraltar"],continentCode:"EU",continentName:"Europe",countryName:"Gibraltar",countryCode:"GI",mainCities:["Gibraltar"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Gibraltar"},{name:"Europe/Ljubljana",alternativeName:"Central European Time",group:["Europe/Ljubljana"],continentCode:"EU",continentName:"Europe",countryName:"Slovenia",countryCode:"SI",mainCities:["Ljubljana","Maribor","Kranj","Celje"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Ljubljana, Maribor, Kranj, Celje"},{name:"Arctic/Longyearbyen",alternativeName:"Central European Time",group:["Arctic/Longyearbyen"],continentCode:"EU",continentName:"Europe",countryName:"Svalbard and Jan Mayen",countryCode:"SJ",mainCities:["Longyearbyen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Longyearbyen"},{name:"Europe/Luxembourg",alternativeName:"Central European Time",group:["Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Luxembourg",countryCode:"LU",mainCities:["Luxembourg","Esch-sur-Alzette","Dudelange"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Luxembourg, Esch-sur-Alzette, Dudelange"},{name:"Europe/Madrid",alternativeName:"Central European Time",group:["Africa/Ceuta","Europe/Madrid"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Madrid","Barcelona","Valencia","Sevilla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Madrid, Barcelona, Valencia, Sevilla"},{name:"Europe/Monaco",alternativeName:"Central European Time",group:["Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"Monaco",countryCode:"MC",mainCities:["Monaco","Monte-Carlo"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Monaco, Monte-Carlo"},{name:"Europe/Oslo",alternativeName:"Central European Time",group:["Europe/Oslo","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Norway",countryCode:"NO",mainCities:["Oslo","Bergen","Trondheim","Stavanger"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Oslo, Bergen, Trondheim, Stavanger"},{name:"Europe/Paris",alternativeName:"Central European Time",group:["Europe/Paris","Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"France",countryCode:"FR",mainCities:["Paris","Marseille","Lyon","Toulouse"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Paris, Marseille, Lyon, Toulouse"},{name:"Europe/Podgorica",alternativeName:"Central European Time",group:["Europe/Podgorica"],continentCode:"EU",continentName:"Europe",countryName:"Montenegro",countryCode:"ME",mainCities:["Podgorica","Niki","Herceg Novi","Pljevlja"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Podgorica, Niki, Herceg Novi, Pljevlja"},{name:"Europe/Prague",alternativeName:"Central European Time",group:["Europe/Prague","Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Czechia",countryCode:"CZ",mainCities:["Prague","Brno","Ostrava","Pilsen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Prague, Brno, Ostrava, Pilsen"},{name:"Europe/Rome",alternativeName:"Central European Time",group:["Europe/Rome","Europe/San_Marino","Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Italy",countryCode:"IT",mainCities:["Rome","Milan","Naples","Turin"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Rome, Milan, Naples, Turin"},{name:"Europe/San_Marino",alternativeName:"Central European Time",group:["Europe/San_Marino"],continentCode:"EU",continentName:"Europe",countryName:"San Marino",countryCode:"SM",mainCities:["San Marino"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Marino"},{name:"Europe/Malta",alternativeName:"Central European Time",group:["Europe/Malta"],continentCode:"EU",continentName:"Europe",countryName:"Malta",countryCode:"MT",mainCities:["San Pawl il-Baar","Birkirkara","Mosta","Sliema"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Pawl il-Baar, Birkirkara, Mosta, Sliema"},{name:"Europe/Sarajevo",alternativeName:"Central European Time",group:["Europe/Sarajevo"],continentCode:"EU",continentName:"Europe",countryName:"Bosnia and Herzegovina",countryCode:"BA",mainCities:["Sarajevo","Banja Luka","Zenica","Tuzla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Sarajevo, Banja Luka, Zenica, Tuzla"},{name:"Europe/Skopje",alternativeName:"Central European Time",group:["Europe/Skopje"],continentCode:"EU",continentName:"Europe",countryName:"North Macedonia",countryCode:"MK",mainCities:["Skopje","Kumanovo","Prilep","Bitola"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Skopje, Kumanovo, Prilep, Bitola"},{name:"Europe/Stockholm",alternativeName:"Central European Time",group:["Europe/Stockholm"],continentCode:"EU",continentName:"Europe",countryName:"Sweden",countryCode:"SE",mainCities:["Stockholm","Gteborg","Malm","Uppsala"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Stockholm, Gteborg, Malm, Uppsala"},{name:"Europe/Tirane",alternativeName:"Central European Time",group:["Europe/Tirane"],continentCode:"EU",continentName:"Europe",countryName:"Albania",countryCode:"AL",mainCities:["Tirana","Durrs","Elbasan","Vlor"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tirana, Durrs, Elbasan, Vlor"},{name:"Africa/Tunis",alternativeName:"Central European Time",group:["Africa/Tunis"],continentCode:"AF",continentName:"Africa",countryName:"Tunisia",countryCode:"TN",mainCities:["Tunis","Sfax","Sousse","Kairouan"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tunis, Sfax, Sousse, Kairouan"},{name:"Europe/Vaduz",alternativeName:"Central European Time",group:["Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Liechtenstein",countryCode:"LI",mainCities:["Vaduz"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vaduz"},{name:"Europe/Vatican",alternativeName:"Central European Time",group:["Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Vatican",countryCode:"VA",mainCities:["Vatican City"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vatican City"},{name:"Europe/Vienna",alternativeName:"Central European Time",group:["Europe/Vienna"],continentCode:"EU",continentName:"Europe",countryName:"Austria",countryCode:"AT",mainCities:["Vienna","Graz","Linz","Favoriten"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vienna, Graz, Linz, Favoriten"},{name:"Europe/Warsaw",alternativeName:"Central European Time",group:["Europe/Warsaw","Poland"],continentCode:"EU",continentName:"Europe",countryName:"Poland",countryCode:"PL",mainCities:["Warsaw","d","Krakw","Wrocaw"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Warsaw, d, Krakw, Wrocaw"},{name:"Europe/Zagreb",alternativeName:"Central European Time",group:["Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Croatia",countryCode:"HR",mainCities:["Zagreb","Split","Rijeka","Osijek"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zagreb, Split, Rijeka, Osijek"},{name:"Europe/Zurich",alternativeName:"Central European Time",group:["Europe/Zurich","Europe/Busingen","Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Switzerland",countryCode:"CH",mainCities:["Zrich","Genve","Basel","Lausanne"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zrich, Genve, Basel, Lausanne"},{name:"Africa/Bangui",alternativeName:"West Africa Time",group:["Africa/Bangui"],continentCode:"AF",continentName:"Africa",countryName:"Central African Republic",countryCode:"CF",mainCities:["Bangui","Bimbo","Bgoua","Carnot"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bangui, Bimbo, Bgoua, Carnot"},{name:"Africa/Malabo",alternativeName:"West Africa Time",group:["Africa/Malabo"],continentCode:"AF",continentName:"Africa",countryName:"Equatorial Guinea",countryCode:"GQ",mainCities:["Bata","Malabo","Ebebiyin"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bata, Malabo, Ebebiyin"},{name:"Africa/Brazzaville",alternativeName:"West Africa Time",group:["Africa/Brazzaville"],continentCode:"AF",continentName:"Africa",countryName:"Republic of the Congo",countryCode:"CG",mainCities:["Brazzaville","Pointe-Noire","Dolisie","Nkayi"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Brazzaville, Pointe-Noire, Dolisie, Nkayi"},{name:"Africa/Porto-Novo",alternativeName:"West Africa Time",group:["Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Benin",countryCode:"BJ",mainCities:["Cotonou","Abomey-Calavi","Porto-Novo","Parakou"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Cotonou, Abomey-Calavi, Porto-Novo, Parakou"},{name:"Africa/Douala",alternativeName:"West Africa Time",group:["Africa/Douala"],continentCode:"AF",continentName:"Africa",countryName:"Cameroon",countryCode:"CM",mainCities:["Douala","Yaound","Bamenda","Bafoussam"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Douala, Yaound, Bamenda, Bafoussam"},{name:"Africa/Kinshasa",alternativeName:"West Africa Time",group:["Africa/Kinshasa"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Kinshasa","Kikwit","Masina","Mbandaka"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Kinshasa, Kikwit, Masina, Mbandaka"},{name:"Africa/Lagos",alternativeName:"West Africa Time",group:["Africa/Lagos","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Niamey","Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Nigeria",countryCode:"NG",mainCities:["Lagos","Kano","Ibadan","Abuja"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Lagos, Kano, Ibadan, Abuja"},{name:"Africa/Libreville",alternativeName:"West Africa Time",group:["Africa/Libreville"],continentCode:"AF",continentName:"Africa",countryName:"Gabon",countryCode:"GA",mainCities:["Libreville","Port-Gentil","Franceville","Owendo"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Libreville, Port-Gentil, Franceville, Owendo"},{name:"Africa/Luanda",alternativeName:"West Africa Time",group:["Africa/Luanda"],continentCode:"AF",continentName:"Africa",countryName:"Angola",countryCode:"AO",mainCities:["Luanda","Lubango","Huambo","Benguela"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Luanda, Lubango, Huambo, Benguela"},{name:"Africa/Ndjamena",alternativeName:"West Africa Time",group:["Africa/Ndjamena"],continentCode:"AF",continentName:"Africa",countryName:"Chad",countryCode:"TD",mainCities:["N'Djamena","Moundou","Abch","Sarh"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - N'Djamena, Moundou, Abch, Sarh"},{name:"Africa/Niamey",alternativeName:"West Africa Time",group:["Africa/Niamey"],continentCode:"AF",continentName:"Africa",countryName:"Niger",countryCode:"NE",mainCities:["Niamey","Maradi","Zinder","Tahoua"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Niamey, Maradi, Zinder, Tahoua"},{name:"Africa/Bujumbura",alternativeName:"Central Africa Time",group:["Africa/Bujumbura"],continentCode:"AF",continentName:"Africa",countryName:"Burundi",countryCode:"BI",mainCities:["Bujumbura","Gitega","Ngozi","Rumonge"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Bujumbura, Gitega, Ngozi, Rumonge"},{name:"Africa/Gaborone",alternativeName:"Central Africa Time",group:["Africa/Gaborone"],continentCode:"AF",continentName:"Africa",countryName:"Botswana",countryCode:"BW",mainCities:["Gaborone","Francistown","Mogoditshane","Maun"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Gaborone, Francistown, Mogoditshane, Maun"},{name:"Africa/Harare",alternativeName:"Central Africa Time",group:["Africa/Harare"],continentCode:"AF",continentName:"Africa",countryName:"Zimbabwe",countryCode:"ZW",mainCities:["Harare","Bulawayo","Chitungwiza","Mutare"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Harare, Bulawayo, Chitungwiza, Mutare"},{name:"Africa/Juba",alternativeName:"Central Africa Time",group:["Africa/Juba"],continentCode:"AF",continentName:"Africa",countryName:"South Sudan",countryCode:"SS",mainCities:["Juba","Winejok","Yei","Malakal"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Juba, Winejok, Yei, Malakal"},{name:"Africa/Khartoum",alternativeName:"Central Africa Time",group:["Africa/Khartoum"],continentCode:"AF",continentName:"Africa",countryName:"Sudan",countryCode:"SD",mainCities:["Khartoum","Omdurman","Nyala","Port Sudan"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Khartoum, Omdurman, Nyala, Port Sudan"},{name:"Africa/Kigali",alternativeName:"Central Africa Time",group:["Africa/Kigali"],continentCode:"AF",continentName:"Africa",countryName:"Rwanda",countryCode:"RW",mainCities:["Kigali","Gisenyi","Butare","Gitarama"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Kigali, Gisenyi, Butare, Gitarama"},{name:"Africa/Blantyre",alternativeName:"Central Africa Time",group:["Africa/Blantyre"],continentCode:"AF",continentName:"Africa",countryName:"Malawi",countryCode:"MW",mainCities:["Lilongwe","Blantyre","Mzuzu","Zomba"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lilongwe, Blantyre, Mzuzu, Zomba"},{name:"Africa/Lubumbashi",alternativeName:"Central Africa Time",group:["Africa/Lubumbashi"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Lubumbashi","Mbuji-Mayi","Kananga","Kisangani"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lubumbashi, Mbuji-Mayi, Kananga, Kisangani"},{name:"Africa/Lusaka",alternativeName:"Central Africa Time",group:["Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Zambia",countryCode:"ZM",mainCities:["Lusaka","Ndola","Kitwe","Chipata"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lusaka, Ndola, Kitwe, Chipata"},{name:"Africa/Maputo",alternativeName:"Central Africa Time",group:["Africa/Maputo","Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Mozambique",countryCode:"MZ",mainCities:["Maputo","Matola","Nampula","Beira"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Maputo, Matola, Nampula, Beira"},{name:"Europe/Athens",alternativeName:"Eastern European Time",group:["Europe/Athens"],continentCode:"EU",continentName:"Europe",countryName:"Greece",countryCode:"GR",mainCities:["Athens","Thessalonki","Ptra","Piraeus"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Athens, Thessalonki, Ptra, Piraeus"},{name:"Asia/Beirut",alternativeName:"Eastern European Time",group:["Asia/Beirut"],continentCode:"AS",continentName:"Asia",countryName:"Lebanon",countryCode:"LB",mainCities:["Beirut","Ras Bayrt","Tripoli","Sidon"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Beirut, Ras Bayrt, Tripoli, Sidon"},{name:"Europe/Bucharest",alternativeName:"Eastern European Time",group:["Europe/Bucharest"],continentCode:"EU",continentName:"Europe",countryName:"Romania",countryCode:"RO",mainCities:["Bucharest","Sector 3","Iai","Sector 6"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Bucharest, Sector 3, Iai, Sector 6"},{name:"Africa/Cairo",alternativeName:"Eastern European Time",group:["Africa/Cairo","Egypt"],continentCode:"AF",continentName:"Africa",countryName:"Egypt",countryCode:"EG",mainCities:["Cairo","Alexandria","Giza","Shubr al Khaymah"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Cairo, Alexandria, Giza, Shubr al Khaymah"},{name:"Europe/Chisinau",alternativeName:"Eastern European Time",group:["Europe/Chisinau","Europe/Tiraspol"],continentCode:"EU",continentName:"Europe",countryName:"Moldova",countryCode:"MD",mainCities:["Chisinau","Tiraspol","Bli","Bender"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Chisinau, Tiraspol, Bli, Bender"},{name:"Asia/Hebron",alternativeName:"Eastern European Time",group:["Asia/Gaza","Asia/Hebron"],continentCode:"AS",continentName:"Asia",countryName:"Palestinian Territory",countryCode:"PS",mainCities:["East Jerusalem","Gaza","Khn Ynis","Jably"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - East Jerusalem, Gaza, Khn Ynis, Jably"},{name:"Europe/Helsinki",alternativeName:"Eastern European Time",group:["Europe/Helsinki","Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Finland",countryCode:"FI",mainCities:["Helsinki","Espoo","Tampere","Oulu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Helsinki, Espoo, Tampere, Oulu"},{name:"Europe/Kaliningrad",alternativeName:"Eastern European Time",group:["Europe/Kaliningrad"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Kaliningrad","Chernyakhovsk","Sovetsk","Baltiysk"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kaliningrad, Chernyakhovsk, Sovetsk, Baltiysk"},{name:"Europe/Kyiv",alternativeName:"Eastern European Time",group:["Europe/Kyiv","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Kiev"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Kyiv","Kharkiv","Odesa","Dnipro"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kyiv, Kharkiv, Odesa, Dnipro"},{name:"Europe/Mariehamn",alternativeName:"Eastern European Time",group:["Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Aland Islands",countryCode:"AX",mainCities:["Mariehamn"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Mariehamn"},{name:"Asia/Nicosia",alternativeName:"Eastern European Time",group:["Asia/Famagusta","Asia/Nicosia","Europe/Nicosia"],continentCode:"EU",continentName:"Europe",countryName:"Cyprus",countryCode:"CY",mainCities:["Nicosia","Limassol","Larnaca","Strvolos"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Nicosia, Limassol, Larnaca, Strvolos"},{name:"Europe/Riga",alternativeName:"Eastern European Time",group:["Europe/Riga"],continentCode:"EU",continentName:"Europe",countryName:"Latvia",countryCode:"LV",mainCities:["Riga","Daugavpils","Liepja","Jelgava"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Riga, Daugavpils, Liepja, Jelgava"},{name:"Europe/Sofia",alternativeName:"Eastern European Time",group:["Europe/Sofia"],continentCode:"EU",continentName:"Europe",countryName:"Bulgaria",countryCode:"BG",mainCities:["Sofia","Plovdiv","Varna","Burgas"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Sofia, Plovdiv, Varna, Burgas"},{name:"Europe/Tallinn",alternativeName:"Eastern European Time",group:["Europe/Tallinn"],continentCode:"EU",continentName:"Europe",countryName:"Estonia",countryCode:"EE",mainCities:["Tallinn","Tartu","Narva","Prnu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tallinn, Tartu, Narva, Prnu"},{name:"Africa/Tripoli",alternativeName:"Eastern European Time",group:["Africa/Tripoli","Libya"],continentCode:"AF",continentName:"Africa",countryName:"Libya",countryCode:"LY",mainCities:["Tripoli","Benghazi","Misratah","Zliten"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tripoli, Benghazi, Misratah, Zliten"},{name:"Europe/Vilnius",alternativeName:"Eastern European Time",group:["Europe/Vilnius"],continentCode:"EU",continentName:"Europe",countryName:"Lithuania",countryCode:"LT",mainCities:["Vilnius","Kaunas","Klaipda","iauliai"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Vilnius, Kaunas, Klaipda, iauliai"},{name:"Asia/Jerusalem",alternativeName:"Israel Time",group:["Asia/Jerusalem","Israel","Asia/Tel_Aviv"],continentCode:"AS",continentName:"Asia",countryName:"Israel",countryCode:"IL",mainCities:["Jerusalem","Tel Aviv","West Jerusalem","Haifa"],rawOffsetInMinutes:120,abbreviation:"IST",rawFormat:"+02:00 Israel Time - Jerusalem, Tel Aviv, West Jerusalem, Haifa"},{name:"Africa/Johannesburg",alternativeName:"South Africa Time",group:["Africa/Johannesburg","Africa/Maseru","Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"South Africa",countryCode:"ZA",mainCities:["Johannesburg","Cape Town","Durban","Soweto"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Johannesburg, Cape Town, Durban, Soweto"},{name:"Africa/Mbabane",alternativeName:"South Africa Time",group:["Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"Eswatini",countryCode:"SZ",mainCities:["Manzini","Mbabane","Lobamba"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Manzini, Mbabane, Lobamba"},{name:"Africa/Maseru",alternativeName:"South Africa Time",group:["Africa/Maseru"],continentCode:"AF",continentName:"Africa",countryName:"Lesotho",countryCode:"LS",mainCities:["Maseru","Maputsoe","Mohale's Hoek","Mafeteng"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Maseru, Maputsoe, Mohale's Hoek, Mafeteng"},{name:"Asia/Kuwait",alternativeName:"Arabian Time",group:["Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Kuwait",countryCode:"KW",mainCities:["Al Amad","awall","As Slimyah","ab as Slim"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Al Amad, awall, As Slimyah, ab as Slim"},{name:"Asia/Bahrain",alternativeName:"Arabian Time",group:["Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Bahrain",countryCode:"BH",mainCities:["Ar Rif","Manama","Al Muharraq","Dr Kulayb"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Ar Rif, Manama, Al Muharraq, Dr Kulayb"},{name:"Asia/Baghdad",alternativeName:"Arabian Time",group:["Asia/Baghdad"],continentCode:"AS",continentName:"Asia",countryName:"Iraq",countryCode:"IQ",mainCities:["Baghdad","Al Mawil al Jaddah","Al Barah al Qadmah","Mosul"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Baghdad, Al Mawil al Jaddah, Al Barah al Qadmah, Mosul"},{name:"Asia/Qatar",alternativeName:"Arabian Time",group:["Asia/Qatar","Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Qatar",countryCode:"QA",mainCities:["Doha","Ar Rayyn","Al Mar al Atq","Al Manrah"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Doha, Ar Rayyn, Al Mar al Atq, Al Manrah"},{name:"Asia/Riyadh",alternativeName:"Arabian Time",group:["Asia/Riyadh","Antarctica/Syowa","Asia/Aden","Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Saudi Arabia",countryCode:"SA",mainCities:["Jeddah","Riyadh","Mecca","Medina"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Jeddah, Riyadh, Mecca, Medina"},{name:"Asia/Aden",alternativeName:"Arabian Time",group:["Asia/Aden"],continentCode:"AS",continentName:"Asia",countryName:"Yemen",countryCode:"YE",mainCities:["Sanaa","Aden","Al udaydah","Taiz"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Sanaa, Aden, Al udaydah, Taiz"},{name:"Asia/Amman",alternativeName:"Asia/Amman",group:["Asia/Amman"],continentCode:"AS",continentName:"Asia",countryName:"Jordan",countryCode:"JO",mainCities:["Amman","Zarqa","Irbid","Russeifa"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Amman - Amman, Zarqa, Irbid, Russeifa"},{name:"Asia/Damascus",alternativeName:"Asia/Damascus",group:["Asia/Damascus"],continentCode:"AS",continentName:"Asia",countryName:"Syria",countryCode:"SY",mainCities:["Aleppo","Damascus","Homs","Latakia"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Damascus - Aleppo, Damascus, Homs, Latakia"},{name:"Africa/Addis_Ababa",alternativeName:"East Africa Time",group:["Africa/Addis_Ababa"],continentCode:"AF",continentName:"Africa",countryName:"Ethiopia",countryCode:"ET",mainCities:["Addis Ababa","Jijiga","Gonder","Mek'ele"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Addis Ababa, Jijiga, Gonder, Mek'ele"},{name:"Indian/Antananarivo",alternativeName:"East Africa Time",group:["Indian/Antananarivo"],continentCode:"AF",continentName:"Africa",countryName:"Madagascar",countryCode:"MG",mainCities:["Antananarivo","Toamasina","Antsirabe","Mahajanga"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Antananarivo, Toamasina, Antsirabe, Mahajanga"},{name:"Africa/Asmara",alternativeName:"East Africa Time",group:["Africa/Asmara"],continentCode:"AF",continentName:"Africa",countryName:"Eritrea",countryCode:"ER",mainCities:["Asmara","Keren","Himora","Massawa"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Asmara, Keren, Himora, Massawa"},{name:"Africa/Dar_es_Salaam",alternativeName:"East Africa Time",group:["Africa/Dar_es_Salaam"],continentCode:"AF",continentName:"Africa",countryName:"Tanzania",countryCode:"TZ",mainCities:["Dar es Salaam","Mwanza","Arusha","Mbeya"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Dar es Salaam, Mwanza, Arusha, Mbeya"},{name:"Africa/Djibouti",alternativeName:"East Africa Time",group:["Africa/Djibouti"],continentCode:"AF",continentName:"Africa",countryName:"Djibouti",countryCode:"DJ",mainCities:["Djibouti","Ali Sabih","Dikhil","Tadjoura"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Djibouti, Ali Sabih, Dikhil, Tadjoura"},{name:"Africa/Kampala",alternativeName:"East Africa Time",group:["Africa/Kampala"],continentCode:"AF",continentName:"Africa",countryName:"Uganda",countryCode:"UG",mainCities:["Kampala","Gulu","Lira","Mbarara"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Kampala, Gulu, Lira, Mbarara"},{name:"Indian/Mayotte",alternativeName:"East Africa Time",group:["Indian/Mayotte"],continentCode:"AF",continentName:"Africa",countryName:"Mayotte",countryCode:"YT",mainCities:["Mamoudzou","Koungou","Labattoir","Kaouni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mamoudzou, Koungou, Labattoir, Kaouni"},{name:"Africa/Mogadishu",alternativeName:"East Africa Time",group:["Africa/Mogadishu"],continentCode:"AF",continentName:"Africa",countryName:"Somalia",countryCode:"SO",mainCities:["Mogadishu","Borama","Hargeysa","Berbera"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mogadishu, Borama, Hargeysa, Berbera"},{name:"Indian/Comoro",alternativeName:"East Africa Time",group:["Indian/Comoro"],continentCode:"AF",continentName:"Africa",countryName:"Comoros",countryCode:"KM",mainCities:["Moroni","Moutsamoudou","Fomboni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Moroni, Moutsamoudou, Fomboni"},{name:"Africa/Nairobi",alternativeName:"East Africa Time",group:["Africa/Nairobi","Africa/Addis_Ababa","Africa/Asmara","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Kampala","Africa/Mogadishu","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Africa/Asmera"],continentCode:"AF",continentName:"Africa",countryName:"Kenya",countryCode:"KE",mainCities:["Nairobi","Kakamega","Mombasa","Nakuru"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Nairobi, Kakamega, Mombasa, Nakuru"},{name:"Europe/Minsk",alternativeName:"Moscow Time",group:["Europe/Minsk"],continentCode:"EU",continentName:"Europe",countryName:"Belarus",countryCode:"BY",mainCities:["Minsk","Homyel'","Hrodna","Mahilyow"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Minsk, Homyel', Hrodna, Mahilyow"},{name:"Europe/Moscow",alternativeName:"Moscow Time",group:["Europe/Kirov","Europe/Moscow","Europe/Volgograd","W-SU"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Moscow","Saint Petersburg","Nizhniy Novgorod","Kazan"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Moscow, Saint Petersburg, Nizhniy Novgorod, Kazan"},{name:"Europe/Simferopol",alternativeName:"Moscow Time",group:["Europe/Simferopol"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Sevastopol","Simferopol","Kerch","Yevpatoriya"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Sevastopol, Simferopol, Kerch, Yevpatoriya"},{name:"Antarctica/Syowa",alternativeName:"Syowa Time",group:["Antarctica/Syowa"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Syowa"],rawOffsetInMinutes:180,abbreviation:"SYOT",rawFormat:"+03:00 Syowa Time - Syowa"},{name:"Europe/Istanbul",alternativeName:"Turkey Time",group:["Europe/Istanbul","Turkey","Asia/Istanbul"],continentCode:"AS",continentName:"Asia",countryName:"Turkey",countryCode:"TR",mainCities:["Istanbul","Ankara","Bursa","zmir"],rawOffsetInMinutes:180,abbreviation:"TRT",rawFormat:"+03:00 Turkey Time - Istanbul, Ankara, Bursa, zmir"},{name:"Asia/Tehran",alternativeName:"Iran Time",group:["Asia/Tehran","Iran"],continentCode:"AS",continentName:"Asia",countryName:"Iran",countryCode:"IR",mainCities:["Tehran","Mashhad","Isfahan","Karaj"],rawOffsetInMinutes:210,abbreviation:"IRST",rawFormat:"+03:30 Iran Time - Tehran, Mashhad, Isfahan, Karaj"},{name:"Asia/Yerevan",alternativeName:"Armenia Time",group:["Asia/Yerevan"],continentCode:"AS",continentName:"Asia",countryName:"Armenia",countryCode:"AM",mainCities:["Yerevan","Gyumri","Vanadzor","Vagharshapat"],rawOffsetInMinutes:240,abbreviation:"AMT",rawFormat:"+04:00 Armenia Time - Yerevan, Gyumri, Vanadzor, Vagharshapat"},{name:"Asia/Baku",alternativeName:"Azerbaijan Time",group:["Asia/Baku"],continentCode:"AS",continentName:"Asia",countryName:"Azerbaijan",countryCode:"AZ",mainCities:["Baku","Sumqayt","Ganja","Lankaran"],rawOffsetInMinutes:240,abbreviation:"AZT",rawFormat:"+04:00 Azerbaijan Time - Baku, Sumqayt, Ganja, Lankaran"},{name:"Asia/Tbilisi",alternativeName:"Georgia Time",group:["Asia/Tbilisi"],continentCode:"AS",continentName:"Asia",countryName:"Georgia",countryCode:"GE",mainCities:["Tbilisi","Batumi","Kutaisi","Rustavi"],rawOffsetInMinutes:240,abbreviation:"GET",rawFormat:"+04:00 Georgia Time - Tbilisi, Batumi, Kutaisi, Rustavi"},{name:"Asia/Dubai",alternativeName:"Gulf Time",group:["Asia/Dubai","Asia/Muscat","Indian/Mahe","Indian/Reunion"],continentCode:"AS",continentName:"Asia",countryName:"United Arab Emirates",countryCode:"AE",mainCities:["Dubai","Abu Dhabi","Sharjah","Al Ain City"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Dubai, Abu Dhabi, Sharjah, Al Ain City"},{name:"Asia/Muscat",alternativeName:"Gulf Time",group:["Asia/Muscat"],continentCode:"AS",continentName:"Asia",countryName:"Oman",countryCode:"OM",mainCities:["Muscat","Seeb","Bawshar","Ibr"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Muscat, Seeb, Bawshar, Ibr"},{name:"Indian/Mauritius",alternativeName:"Mauritius Time",group:["Indian/Mauritius"],continentCode:"AF",continentName:"Africa",countryName:"Mauritius",countryCode:"MU",mainCities:["Port Louis","Vacoas","Beau Bassin-Rose Hill","Curepipe"],rawOffsetInMinutes:240,abbreviation:"MUT",rawFormat:"+04:00 Mauritius Time - Port Louis, Vacoas, Beau Bassin-Rose Hill, Curepipe"},{name:"Indian/Reunion",alternativeName:"Runion Time",group:["Indian/Reunion"],continentCode:"AF",continentName:"Africa",countryName:"Reunion",countryCode:"RE",mainCities:["Saint-Denis","Saint-Paul","Saint-Pierre","Le Tampon"],rawOffsetInMinutes:240,abbreviation:"RET",rawFormat:"+04:00 Runion Time - Saint-Denis, Saint-Paul, Saint-Pierre, Le Tampon"},{name:"Europe/Samara",alternativeName:"Samara Time",group:["Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Samara","Saratov","Tolyatti","Izhevsk"],rawOffsetInMinutes:240,abbreviation:"SAMT",rawFormat:"+04:00 Samara Time - Samara, Saratov, Tolyatti, Izhevsk"},{name:"Indian/Mahe",alternativeName:"Seychelles Time",group:["Indian/Mahe"],continentCode:"AF",continentName:"Africa",countryName:"Seychelles",countryCode:"SC",mainCities:["Victoria"],rawOffsetInMinutes:240,abbreviation:"SCT",rawFormat:"+04:00 Seychelles Time - Victoria"},{name:"Asia/Kabul",alternativeName:"Afghanistan Time",group:["Asia/Kabul"],continentCode:"AS",continentName:"Asia",countryName:"Afghanistan",countryCode:"AF",mainCities:["Kabul","Hert","Mazr-e Sharf","Kandahr"],rawOffsetInMinutes:270,abbreviation:"AFT",rawFormat:"+04:30 Afghanistan Time - Kabul, Hert, Mazr-e Sharf, Kandahr"},{name:"Asia/Almaty",alternativeName:"East Kazakhstan Time",group:["Asia/Almaty","Asia/Qostanay"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Almaty","Shymkent","Karagandy","Taraz"],rawOffsetInMinutes:300,abbreviation:"ALMT",rawFormat:"+05:00 East Kazakhstan Time - Almaty, Shymkent, Karagandy, Taraz"},{name:"Indian/Kerguelen",alternativeName:"French Southern & Antarctic Time",group:["Indian/Kerguelen"],continentCode:"AN",continentName:"Antarctica",countryName:"French Southern Territories",countryCode:"TF",mainCities:["Port-aux-Franais"],rawOffsetInMinutes:300,abbreviation:"FSAT",rawFormat:"+05:00 French Southern & Antarctic Time - Port-aux-Franais"},{name:"Indian/Maldives",alternativeName:"Maldives Time",group:["Indian/Maldives","Indian/Kerguelen"],continentCode:"AS",continentName:"Asia",countryName:"Maldives",countryCode:"MV",mainCities:["Male"],rawOffsetInMinutes:300,abbreviation:"MVT",rawFormat:"+05:00 Maldives Time - Male"},{name:"Antarctica/Mawson",alternativeName:"Mawson Time",group:["Antarctica/Mawson","Antarctica/Vostok"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Mawson","Vostok"],rawOffsetInMinutes:300,abbreviation:"MAWT",rawFormat:"+05:00 Mawson Time - Mawson, Vostok"},{name:"Asia/Karachi",alternativeName:"Pakistan Time",group:["Asia/Karachi"],continentCode:"AS",continentName:"Asia",countryName:"Pakistan",countryCode:"PK",mainCities:["Karachi","Lahore","Faisalabad","Rawalpindi"],rawOffsetInMinutes:300,abbreviation:"PKT",rawFormat:"+05:00 Pakistan Time - Karachi, Lahore, Faisalabad, Rawalpindi"},{name:"Asia/Dushanbe",alternativeName:"Tajikistan Time",group:["Asia/Dushanbe"],continentCode:"AS",continentName:"Asia",countryName:"Tajikistan",countryCode:"TJ",mainCities:["Dushanbe","Isfara","Istaravshan","Klob"],rawOffsetInMinutes:300,abbreviation:"TJT",rawFormat:"+05:00 Tajikistan Time - Dushanbe, Isfara, Istaravshan, Klob"},{name:"Asia/Ashgabat",alternativeName:"Turkmenistan Time",group:["Asia/Ashgabat","Asia/Ashkhabad"],continentCode:"AS",continentName:"Asia",countryName:"Turkmenistan",countryCode:"TM",mainCities:["Ashgabat","Trkmenabat","Daoguz","Mary"],rawOffsetInMinutes:300,abbreviation:"TMT",rawFormat:"+05:00 Turkmenistan Time - Ashgabat, Trkmenabat, Daoguz, Mary"},{name:"Asia/Tashkent",alternativeName:"Uzbekistan Time",group:["Asia/Samarkand","Asia/Tashkent"],continentCode:"AS",continentName:"Asia",countryName:"Uzbekistan",countryCode:"UZ",mainCities:["Tashkent","Namangan","Samarkand","Andijon"],rawOffsetInMinutes:300,abbreviation:"UZT",rawFormat:"+05:00 Uzbekistan Time - Tashkent, Namangan, Samarkand, Andijon"},{name:"Asia/Aqtobe",alternativeName:"West Kazakhstan Time",group:["Asia/Aqtau","Asia/Aqtobe","Asia/Atyrau","Asia/Oral","Asia/Qyzylorda"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Aktobe","Kyzylorda","Oral","Atyrau"],rawOffsetInMinutes:300,abbreviation:"AQTT",rawFormat:"+05:00 West Kazakhstan Time - Aktobe, Kyzylorda, Oral, Atyrau"},{name:"Asia/Yekaterinburg",alternativeName:"Yekaterinburg Time",group:["Asia/Yekaterinburg"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yekaterinburg","Chelyabinsk","Ufa","Perm"],rawOffsetInMinutes:300,abbreviation:"YEKT",rawFormat:"+05:00 Yekaterinburg Time - Yekaterinburg, Chelyabinsk, Ufa, Perm"},{name:"Asia/Colombo",alternativeName:"India Time",group:["Asia/Colombo"],continentCode:"AS",continentName:"Asia",countryName:"Sri Lanka",countryCode:"LK",mainCities:["Colombo","Dehiwala-Mount Lavinia","Maharagama","Jaffna"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Colombo, Dehiwala-Mount Lavinia, Maharagama, Jaffna"},{name:"Asia/Kolkata",alternativeName:"India Time",group:["Asia/Kolkata","Asia/Calcutta"],continentCode:"AS",continentName:"Asia",countryName:"India",countryCode:"IN",mainCities:["Mumbai","Delhi","Bengaluru","Hyderbd"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Mumbai, Delhi, Bengaluru, Hyderbd"},{name:"Asia/Kathmandu",alternativeName:"Nepal Time",group:["Asia/Kathmandu","Asia/Katmandu"],continentCode:"AS",continentName:"Asia",countryName:"Nepal",countryCode:"NP",mainCities:["Kathmandu","Bharatpur","Ptan","Birgaj"],rawOffsetInMinutes:345,abbreviation:"NPT",rawFormat:"+05:45 Nepal Time - Kathmandu, Bharatpur, Ptan, Birgaj"},{name:"Asia/Dhaka",alternativeName:"Bangladesh Time",group:["Asia/Dhaka","Asia/Dacca"],continentCode:"AS",continentName:"Asia",countryName:"Bangladesh",countryCode:"BD",mainCities:["Dhaka","Chattogram","Khulna","Rangpur"],rawOffsetInMinutes:360,abbreviation:"BST",rawFormat:"+06:00 Bangladesh Time - Dhaka, Chattogram, Khulna, Rangpur"},{name:"Asia/Thimphu",alternativeName:"Bhutan Time",group:["Asia/Thimphu","Asia/Thimbu"],continentCode:"AS",continentName:"Asia",countryName:"Bhutan",countryCode:"BT",mainCities:["Thimphu","Phuntsholing","Tsirang","Punkha"],rawOffsetInMinutes:360,abbreviation:"BTT",rawFormat:"+06:00 Bhutan Time - Thimphu, Phuntsholing, Tsirang, Punkha"},{name:"Asia/Urumqi",alternativeName:"China Time",group:["Asia/Urumqi","Asia/Kashgar"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["rmqi","Shihezi","Korla","Aksu"],rawOffsetInMinutes:360,abbreviation:"CST",rawFormat:"+06:00 China Time - rmqi, Shihezi, Korla, Aksu"},{name:"Indian/Chagos",alternativeName:"Indian Ocean Time",group:["Indian/Chagos"],continentCode:"AS",continentName:"Asia",countryName:"British Indian Ocean Territory",countryCode:"IO",mainCities:["Chagos"],rawOffsetInMinutes:360,abbreviation:"IOT",rawFormat:"+06:00 Indian Ocean Time - Chagos"},{name:"Asia/Bishkek",alternativeName:"Kyrgyzstan Time",group:["Asia/Bishkek"],continentCode:"AS",continentName:"Asia",countryName:"Kyrgyzstan",countryCode:"KG",mainCities:["Bishkek","Osh","Jalal-Abad","Karakol"],rawOffsetInMinutes:360,abbreviation:"KGT",rawFormat:"+06:00 Kyrgyzstan Time - Bishkek, Osh, Jalal-Abad, Karakol"},{name:"Asia/Omsk",alternativeName:"Omsk Time",group:["Asia/Omsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Omsk","Tara","Kalachinsk","Isilkul"],rawOffsetInMinutes:360,abbreviation:"OMST",rawFormat:"+06:00 Omsk Time - Omsk, Tara, Kalachinsk, Isilkul"},{name:"Indian/Cocos",alternativeName:"Cocos Islands Time",group:["Indian/Cocos"],continentCode:"AS",continentName:"Asia",countryName:"Cocos Islands",countryCode:"CC",mainCities:["West Island"],rawOffsetInMinutes:390,abbreviation:"CCT",rawFormat:"+06:30 Cocos Islands Time - West Island"},{name:"Asia/Yangon",alternativeName:"Myanmar Time",group:["Asia/Yangon","Indian/Cocos","Asia/Rangoon"],continentCode:"AS",continentName:"Asia",countryName:"Myanmar",countryCode:"MM",mainCities:["Yangon","Mandalay","Nay Pyi Taw","Mawlamyine"],rawOffsetInMinutes:390,abbreviation:"MMT",rawFormat:"+06:30 Myanmar Time - Yangon, Mandalay, Nay Pyi Taw, Mawlamyine"},{name:"Indian/Christmas",alternativeName:"Christmas Island Time",group:["Indian/Christmas"],continentCode:"OC",continentName:"Oceania",countryName:"Christmas Island",countryCode:"CX",mainCities:["Flying Fish Cove"],rawOffsetInMinutes:420,abbreviation:"CXT",rawFormat:"+07:00 Christmas Island Time - Flying Fish Cove"},{name:"Antarctica/Davis",alternativeName:"Davis Time",group:["Antarctica/Davis"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Davis"],rawOffsetInMinutes:420,abbreviation:"DAVT",rawFormat:"+07:00 Davis Time - Davis"},{name:"Asia/Hovd",alternativeName:"Hovd Time",group:["Asia/Hovd"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulaangom","Khovd","lgii","Altai"],rawOffsetInMinutes:420,abbreviation:"HOVT",rawFormat:"+07:00 Hovd Time - Ulaangom, Khovd, lgii, Altai"},{name:"Asia/Bangkok",alternativeName:"Indochina Time",group:["Asia/Bangkok","Asia/Phnom_Penh","Asia/Vientiane","Indian/Christmas"],continentCode:"AS",continentName:"Asia",countryName:"Thailand",countryCode:"TH",mainCities:["Bangkok","Samut Prakan","Mueang Nonthaburi","Chon Buri"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Bangkok, Samut Prakan, Mueang Nonthaburi, Chon Buri"},{name:"Asia/Ho_Chi_Minh",alternativeName:"Indochina Time",group:["Asia/Ho_Chi_Minh","Asia/Saigon"],continentCode:"AS",continentName:"Asia",countryName:"Vietnam",countryCode:"VN",mainCities:["Ho Chi Minh City","Da Nang","Bin Ha","Cn Th"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Ho Chi Minh City, Da Nang, Bin Ha, Cn Th"},{name:"Asia/Phnom_Penh",alternativeName:"Indochina Time",group:["Asia/Phnom_Penh"],continentCode:"AS",continentName:"Asia",countryName:"Cambodia",countryCode:"KH",mainCities:["Phnom Penh","Takeo","Siem Reap","Battambang"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Phnom Penh, Takeo, Siem Reap, Battambang"},{name:"Asia/Vientiane",alternativeName:"Indochina Time",group:["Asia/Vientiane"],continentCode:"AS",continentName:"Asia",countryName:"Laos",countryCode:"LA",mainCities:["Vientiane","Savannakhet","Pakse","Thakhk"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Vientiane, Savannakhet, Pakse, Thakhk"},{name:"Asia/Novosibirsk",alternativeName:"Novosibirsk Time",group:["Asia/Barnaul","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Tomsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Novosibirsk","Krasnoyarsk","Barnaul","Tomsk"],rawOffsetInMinutes:420,abbreviation:"NOVT",rawFormat:"+07:00 Novosibirsk Time - Novosibirsk, Krasnoyarsk, Barnaul, Tomsk"},{name:"Asia/Jakarta",alternativeName:"Western Indonesia Time",group:["Asia/Jakarta","Asia/Pontianak"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jakarta","Surabaya","Bekasi","Bandung"],rawOffsetInMinutes:420,abbreviation:"WIB",rawFormat:"+07:00 Western Indonesia Time - Jakarta, Surabaya, Bekasi, Bandung"},{name:"Antarctica/Casey",alternativeName:"Australian Western Time",group:["Antarctica/Casey"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Casey"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Casey"},{name:"Australia/Perth",alternativeName:"Australian Western Time",group:["Australia/Perth","Australia/West"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Perth","Mandurah","Bunbury","Baldivis"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Perth, Mandurah, Bunbury, Baldivis"},{name:"Asia/Brunei",alternativeName:"Brunei Darussalam Time",group:["Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Brunei",countryCode:"BN",mainCities:["Bandar Seri Begawan","Sengkurong","Mentiri","Kuala Belait"],rawOffsetInMinutes:480,abbreviation:"BNT",rawFormat:"+08:00 Brunei Darussalam Time - Bandar Seri Begawan, Sengkurong, Mentiri, Kuala Belait"},{name:"Asia/Makassar",alternativeName:"Central Indonesia Time",group:["Asia/Makassar","Asia/Ujung_Pandang"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Makassar","Samarinda","Denpasar","Balikpapan"],rawOffsetInMinutes:480,abbreviation:"WITA",rawFormat:"+08:00 Central Indonesia Time - Makassar, Samarinda, Denpasar, Balikpapan"},{name:"Asia/Macau",alternativeName:"China Time",group:["Asia/Macau","Asia/Macao"],continentCode:"AS",continentName:"Asia",countryName:"Macao",countryCode:"MO",mainCities:["Macau","Taipa","Luhuan","Lai Chi Van"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Macau, Taipa, Luhuan, Lai Chi Van"},{name:"Asia/Shanghai",alternativeName:"China Time",group:["Asia/Shanghai","PRC","Asia/Chongqing","Asia/Harbin","Asia/Chungking"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["Shanghai","Beijing","Shenzhen","Guangzhou"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Shanghai, Beijing, Shenzhen, Guangzhou"},{name:"Asia/Hong_Kong",alternativeName:"Hong Kong Time",group:["Asia/Hong_Kong","Hongkong"],continentCode:"AS",continentName:"Asia",countryName:"Hong Kong",countryCode:"HK",mainCities:["Hong Kong","New Territories","Kowloon","Hong Kong Island"],rawOffsetInMinutes:480,abbreviation:"HKT",rawFormat:"+08:00 Hong Kong Time - Hong Kong, New Territories, Kowloon, Hong Kong Island"},{name:"Asia/Irkutsk",alternativeName:"Irkutsk Time",group:["Asia/Irkutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Irkutsk","Ulan-Ude","Bratsk","Angarsk"],rawOffsetInMinutes:480,abbreviation:"IRKT",rawFormat:"+08:00 Irkutsk Time - Irkutsk, Ulan-Ude, Bratsk, Angarsk"},{name:"Asia/Kuala_Lumpur",alternativeName:"Malaysia Time",group:["Asia/Kuala_Lumpur","Asia/Kuching","Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Malaysia",countryCode:"MY",mainCities:["Kuala Lumpur","Petaling Jaya","Klang","Johor Bahru"],rawOffsetInMinutes:480,abbreviation:"MYT",rawFormat:"+08:00 Malaysia Time - Kuala Lumpur, Petaling Jaya, Klang, Johor Bahru"},{name:"Asia/Manila",alternativeName:"Philippine Time",group:["Asia/Manila"],continentCode:"AS",continentName:"Asia",countryName:"Philippines",countryCode:"PH",mainCities:["Quezon City","Davao","Manila","Caloocan City"],rawOffsetInMinutes:480,abbreviation:"PHT",rawFormat:"+08:00 Philippine Time - Quezon City, Davao, Manila, Caloocan City"},{name:"Asia/Singapore",alternativeName:"Singapore Time",group:["Asia/Singapore","Singapore","Asia/Kuala_Lumpur"],continentCode:"AS",continentName:"Asia",countryName:"Singapore",countryCode:"SG",mainCities:["Singapore","Ulu Bedok","Bedok New Town","Tampines Estate"],rawOffsetInMinutes:480,abbreviation:"SGT",rawFormat:"+08:00 Singapore Time - Singapore, Ulu Bedok, Bedok New Town, Tampines Estate"},{name:"Asia/Taipei",alternativeName:"Taipei Time",group:["Asia/Taipei","ROC"],continentCode:"AS",continentName:"Asia",countryName:"Taiwan",countryCode:"TW",mainCities:["Taipei","Kaohsiung","Taichung","Tainan"],rawOffsetInMinutes:480,abbreviation:"TWT",rawFormat:"+08:00 Taipei Time - Taipei, Kaohsiung, Taichung, Tainan"},{name:"Asia/Ulaanbaatar",alternativeName:"Ulaanbaatar Time",group:["Asia/Choibalsan","Asia/Ulaanbaatar","Asia/Ulan_Bator"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulan Bator","Erdenet","Darhan","Mrn"],rawOffsetInMinutes:480,abbreviation:"ULAT",rawFormat:"+08:00 Ulaanbaatar Time - Ulan Bator, Erdenet, Darhan, Mrn"},{name:"Australia/Eucla",alternativeName:"Australian Central Western Time",group:["Australia/Eucla"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Eucla"],rawOffsetInMinutes:525,abbreviation:"ACWST",rawFormat:"+08:45 Australian Central Western Time - Eucla"},{name:"Asia/Dili",alternativeName:"East Timor Time",group:["Asia/Dili"],continentCode:"OC",continentName:"Oceania",countryName:"Timor Leste",countryCode:"TL",mainCities:["Dili","Maliana","Suai","Likis"],rawOffsetInMinutes:540,abbreviation:"TLT",rawFormat:"+09:00 East Timor Time - Dili, Maliana, Suai, Likis"},{name:"Asia/Jayapura",alternativeName:"Eastern Indonesia Time",group:["Asia/Jayapura"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jayapura","Ambon","Sorong","Ternate"],rawOffsetInMinutes:540,abbreviation:"WIT",rawFormat:"+09:00 Eastern Indonesia Time - Jayapura, Ambon, Sorong, Ternate"},{name:"Asia/Tokyo",alternativeName:"Japan Time",group:["Asia/Tokyo","Japan"],continentCode:"AS",continentName:"Asia",countryName:"Japan",countryCode:"JP",mainCities:["Tokyo","Yokohama","Osaka","Nagoya"],rawOffsetInMinutes:540,abbreviation:"JST",rawFormat:"+09:00 Japan Time - Tokyo, Yokohama, Osaka, Nagoya"},{name:"Asia/Pyongyang",alternativeName:"Korean Time",group:["Asia/Pyongyang"],continentCode:"AS",continentName:"Asia",countryName:"North Korea",countryCode:"KP",mainCities:["Pyongyang","Hamhng","Nampo","Sunchn"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Pyongyang, Hamhng, Nampo, Sunchn"},{name:"Asia/Seoul",alternativeName:"Korean Time",group:["Asia/Seoul","ROK"],continentCode:"AS",continentName:"Asia",countryName:"South Korea",countryCode:"KR",mainCities:["Seoul","Busan","Incheon","Daegu"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Seoul, Busan, Incheon, Daegu"},{name:"Pacific/Palau",alternativeName:"Palau Time",group:["Pacific/Palau"],continentCode:"OC",continentName:"Oceania",countryName:"Palau",countryCode:"PW",mainCities:["Ngerulmud"],rawOffsetInMinutes:540,abbreviation:"PWT",rawFormat:"+09:00 Palau Time - Ngerulmud"},{name:"Asia/Chita",alternativeName:"Yakutsk Time",group:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Chita","Yakutsk","Blagoveshchensk","Belogorsk"],rawOffsetInMinutes:540,abbreviation:"YAKT",rawFormat:"+09:00 Yakutsk Time - Chita, Yakutsk, Blagoveshchensk, Belogorsk"},{name:"Australia/Adelaide",alternativeName:"Australian Central Time",group:["Australia/Adelaide","Australia/Broken_Hill","Australia/South","Australia/Yancowinna"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Adelaide","Adelaide Hills","Mount Gambier","Morphett Vale"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Adelaide, Adelaide Hills, Mount Gambier, Morphett Vale"},{name:"Australia/Darwin",alternativeName:"Australian Central Time",group:["Australia/Darwin","Australia/North"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Darwin","Alice Springs","Palmerston"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Darwin, Alice Springs, Palmerston"},{name:"Australia/Brisbane",alternativeName:"Australian Eastern Time",group:["Australia/Brisbane","Australia/Lindeman","Australia/Queensland"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Brisbane","Gold Coast","Logan City","Townsville"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Brisbane, Gold Coast, Logan City, Townsville"},{name:"Australia/Sydney",alternativeName:"Australian Eastern Time",group:["Antarctica/Macquarie","Australia/Hobart","Australia/Melbourne","Australia/Sydney","Australia/Tasmania","Australia/Currie","Australia/Victoria","Australia/ACT","Australia/NSW","Australia/Canberra"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Sydney","Melbourne","Canberra","Newcastle"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Sydney, Melbourne, Canberra, Newcastle"},{name:"Pacific/Guam",alternativeName:"Chamorro Time",group:["Pacific/Guam","Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Guam",countryCode:"GU",mainCities:["Dededo Village","Yigo Village","Tamuning-Tumon-Harmon Village","Tamuning"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Dededo Village, Yigo Village, Tamuning-Tumon-Harmon Village, Tamuning"},{name:"Pacific/Saipan",alternativeName:"Chamorro Time",group:["Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Northern Mariana Islands",countryCode:"MP",mainCities:["Saipan"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Saipan"},{name:"Pacific/Chuuk",alternativeName:"Chuuk Time",group:["Pacific/Chuuk","Pacific/Truk","Pacific/Yap"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Chuuk"],rawOffsetInMinutes:600,abbreviation:"CHUT",rawFormat:"+10:00 Chuuk Time - Chuuk"},{name:"Antarctica/DumontDUrville",alternativeName:"Dumont-dUrville Time",group:["Antarctica/DumontDUrville"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["DumontDUrville"],rawOffsetInMinutes:600,abbreviation:"DDUT",rawFormat:"+10:00 Dumont-dUrville Time - DumontDUrville"},{name:"Pacific/Port_Moresby",alternativeName:"Papua New Guinea Time",group:["Pacific/Port_Moresby","Antarctica/DumontDUrville","Pacific/Chuuk","Pacific/Yap","Pacific/Truk"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Port Moresby","Lae","Mount Hagen","Popondetta"],rawOffsetInMinutes:600,abbreviation:"PGT",rawFormat:"+10:00 Papua New Guinea Time - Port Moresby, Lae, Mount Hagen, Popondetta"},{name:"Asia/Vladivostok",alternativeName:"Vladivostok Time",group:["Asia/Ust-Nera","Asia/Vladivostok"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Khabarovsk","Vladivostok","Khabarovsk Vtoroy","Komsomolsk-on-Amur"],rawOffsetInMinutes:600,abbreviation:"VLAT",rawFormat:"+10:00 Vladivostok Time - Khabarovsk, Vladivostok, Khabarovsk Vtoroy, Komsomolsk-on-Amur"},{name:"Australia/Lord_Howe",alternativeName:"Lord Howe Time",group:["Australia/Lord_Howe","Australia/LHI"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Lord Howe"],rawOffsetInMinutes:630,abbreviation:"LHST",rawFormat:"+10:30 Lord Howe Time - Lord Howe"},{name:"Pacific/Bougainville",alternativeName:"Bougainville Time",group:["Pacific/Bougainville"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Arawa"],rawOffsetInMinutes:660,abbreviation:"BST",rawFormat:"+11:00 Bougainville Time - Arawa"},{name:"Pacific/Kosrae",alternativeName:"Kosrae Time",group:["Pacific/Kosrae","Pacific/Pohnpei"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Kosrae","Palikir - National Government Center"],rawOffsetInMinutes:660,abbreviation:"KOST",rawFormat:"+11:00 Kosrae Time - Kosrae, Palikir - National Government Center"},{name:"Pacific/Noumea",alternativeName:"New Caledonia Time",group:["Pacific/Noumea"],continentCode:"OC",continentName:"Oceania",countryName:"New Caledonia",countryCode:"NC",mainCities:["Nouma","Mont-Dore","Dumba"],rawOffsetInMinutes:660,abbreviation:"NCT",rawFormat:"+11:00 New Caledonia Time - Nouma, Mont-Dore, Dumba"},{name:"Pacific/Norfolk",alternativeName:"Norfolk Island Time",group:["Pacific/Norfolk"],continentCode:"OC",continentName:"Oceania",countryName:"Norfolk Island",countryCode:"NF",mainCities:["Kingston"],rawOffsetInMinutes:660,abbreviation:"NFT",rawFormat:"+11:00 Norfolk Island Time - Kingston"},{name:"Asia/Sakhalin",alternativeName:"Sakhalin Time",group:["Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yuzhno-Sakhalinsk","Magadan","Korsakov","Kholmsk"],rawOffsetInMinutes:660,abbreviation:"SAKT",rawFormat:"+11:00 Sakhalin Time - Yuzhno-Sakhalinsk, Magadan, Korsakov, Kholmsk"},{name:"Pacific/Guadalcanal",alternativeName:"Solomon Islands Time",group:["Pacific/Guadalcanal","Pacific/Pohnpei","Pacific/Ponape"],continentCode:"OC",continentName:"Oceania",countryName:"Solomon Islands",countryCode:"SB",mainCities:["Honiara"],rawOffsetInMinutes:660,abbreviation:"SBT",rawFormat:"+11:00 Solomon Islands Time - Honiara"},{name:"Pacific/Efate",alternativeName:"Vanuatu Time",group:["Pacific/Efate"],continentCode:"OC",continentName:"Oceania",countryName:"Vanuatu",countryCode:"VU",mainCities:["Port-Vila"],rawOffsetInMinutes:660,abbreviation:"VUT",rawFormat:"+11:00 Vanuatu Time - Port-Vila"},{name:"Pacific/Fiji",alternativeName:"Fiji Time",group:["Pacific/Fiji"],continentCode:"OC",continentName:"Oceania",countryName:"Fiji",countryCode:"FJ",mainCities:["Nasinu","Suva","Lautoka","Nadi"],rawOffsetInMinutes:720,abbreviation:"FJT",rawFormat:"+12:00 Fiji Time - Nasinu, Suva, Lautoka, Nadi"},{name:"Pacific/Tarawa",alternativeName:"Gilbert Islands Time",group:["Pacific/Tarawa","Pacific/Funafuti","Pacific/Majuro","Pacific/Wake","Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Tarawa"],rawOffsetInMinutes:720,abbreviation:"GILT",rawFormat:"+12:00 Gilbert Islands Time - Tarawa"},{name:"Pacific/Majuro",alternativeName:"Marshall Islands Time",group:["Pacific/Kwajalein","Pacific/Majuro","Kwajalein"],continentCode:"OC",continentName:"Oceania",countryName:"Marshall Islands",countryCode:"MH",mainCities:["Majuro","Kwajalein","RMI Capitol"],rawOffsetInMinutes:720,abbreviation:"MHT",rawFormat:"+12:00 Marshall Islands Time - Majuro, Kwajalein, RMI Capitol"},{name:"Pacific/Nauru",alternativeName:"Nauru Time",group:["Pacific/Nauru"],continentCode:"OC",continentName:"Oceania",countryName:"Nauru",countryCode:"NR",mainCities:["Yaren"],rawOffsetInMinutes:720,abbreviation:"NRT",rawFormat:"+12:00 Nauru Time - Yaren"},{name:"Pacific/Auckland",alternativeName:"New Zealand Time",group:["Pacific/Auckland","NZ","Antarctica/McMurdo","Antarctica/South_Pole"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Auckland","Wellington","Christchurch","Manukau City"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - Auckland, Wellington, Christchurch, Manukau City"},{name:"Antarctica/McMurdo",alternativeName:"New Zealand Time",group:["Antarctica/McMurdo"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["McMurdo"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - McMurdo"},{name:"Asia/Kamchatka",alternativeName:"Petropavlovsk-Kamchatski Time",group:["Asia/Anadyr","Asia/Kamchatka"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Petropavlovsk-Kamchatsky","Yelizovo","Vilyuchinsk","Anadyr"],rawOffsetInMinutes:720,abbreviation:"PETT",rawFormat:"+12:00 Petropavlovsk-Kamchatski Time - Petropavlovsk-Kamchatsky, Yelizovo, Vilyuchinsk, Anadyr"},{name:"Pacific/Funafuti",alternativeName:"Tuvalu Time",group:["Pacific/Funafuti"],continentCode:"OC",continentName:"Oceania",countryName:"Tuvalu",countryCode:"TV",mainCities:["Funafuti"],rawOffsetInMinutes:720,abbreviation:"TVT",rawFormat:"+12:00 Tuvalu Time - Funafuti"},{name:"Pacific/Wake",alternativeName:"Wake Island Time",group:["Pacific/Wake"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Wake"],rawOffsetInMinutes:720,abbreviation:"WAKT",rawFormat:"+12:00 Wake Island Time - Wake"},{name:"Pacific/Wallis",alternativeName:"Wallis & Futuna Time",group:["Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Wallis and Futuna",countryCode:"WF",mainCities:["Mata-Utu"],rawOffsetInMinutes:720,abbreviation:"WFT",rawFormat:"+12:00 Wallis & Futuna Time - Mata-Utu"},{name:"Pacific/Chatham",alternativeName:"Chatham Time",group:["Pacific/Chatham","NZ-CHAT"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Chatham"],rawOffsetInMinutes:765,abbreviation:"CHAST",rawFormat:"+12:45 Chatham Time - Chatham"},{name:"Pacific/Apia",alternativeName:"Apia Time",group:["Pacific/Apia"],continentCode:"OC",continentName:"Oceania",countryName:"Samoa",countryCode:"WS",mainCities:["Apia"],rawOffsetInMinutes:780,abbreviation:"WST",rawFormat:"+13:00 Apia Time - Apia"},{name:"Pacific/Kanton",alternativeName:"Phoenix Islands Time",group:["Pacific/Kanton","Pacific/Enderbury"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kanton"],rawOffsetInMinutes:780,abbreviation:"PHOT",rawFormat:"+13:00 Phoenix Islands Time - Kanton"},{name:"Pacific/Fakaofo",alternativeName:"Tokelau Time",group:["Pacific/Fakaofo"],continentCode:"OC",continentName:"Oceania",countryName:"Tokelau",countryCode:"TK",mainCities:["Fakaofo"],rawOffsetInMinutes:780,abbreviation:"TKT",rawFormat:"+13:00 Tokelau Time - Fakaofo"},{name:"Pacific/Tongatapu",alternativeName:"Tonga Time",group:["Pacific/Tongatapu"],continentCode:"OC",continentName:"Oceania",countryName:"Tonga",countryCode:"TO",mainCities:["Nukualofa"],rawOffsetInMinutes:780,abbreviation:"TOT",rawFormat:"+13:00 Tonga Time - Nukualofa"},{name:"Pacific/Kiritimati",alternativeName:"Line Islands Time",group:["Pacific/Kiritimati"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kiritimati"],rawOffsetInMinutes:840,abbreviation:"LINT",rawFormat:"+14:00 Line Islands Time - Kiritimati"}];function e5n({alternativeName:e,mainCities:t,rawOffsetInMinutes:n,currentTimeOffsetInMinutes:r},{useCurrentOffset:i=!1}={}){return`${t5n(i?r:n).padStart(6,"+")} ${e} - ${t.join(", ")}`}function t5n(e){const t=Math.abs(e),[n,r]=[Math.floor(t/60),t%60].map(a=>a.toString().padStart(2,"0")),i=`${n}:${r}`;return`${e>=0?"+":"-"}${i}`}const n5n=/^[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?$/,r5n={year:0,month:1,day:2,hour:3,minute:4,second:5};function i5n(e){return!!(e&&e.match(n5n))}function a5n(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,o,s,l,c]=r;return[o,i,a,s,l,c]}function o5n(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:a,value:o}=n[i],s=r5n[a];typeof s<"u"&&(r[s]=parseInt(o,10))}return r}function s5n(e){return new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function l5n(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function u5n(e){if(!i5n(e))return!1;const t=new Date(Date.now());let n;try{n=s5n(e)}catch{return!1}const[r,i,a,o,s,l]=n.formatToParts?o5n(n,t):a5n(n,t),c=l5n({year:r,month:i,day:a,hour:o,minute:s,second:l,millisecond:0});let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(c-d)/(60*1e3)}function c5n(e){return Q2n.reduce(function(t,n){const r=n.name,i=u5n(r);if(i===!1)return t;const a={...n,currentTimeOffsetInMinutes:i};return t.push({...a,currentTimeFormat:e5n(a,{useCurrentOffset:!0})}),t},[]).sort((t,n)=>d5n(t,n)||wce(t.alternativeName,n.alternativeName)||wce(t.mainCities[0],n.mainCities[0]))}function d5n(e,t){return e.currentTimeOffsetInMinutes-t.currentTimeOffsetInMinutes}function wce(e,t){return typeof e=="string"&&typeof t=="string"?e.localeCompare(t):0}function Cce(e,t,n){var r=p5n(e,n.timeZone,n.locale);return r.formatToParts?f5n(r,t):h5n(r,t)}function f5n(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function h5n(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function p5n(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function m5n(e,t){var n=b5n(t);return n.formatToParts?y5n(n,e):v5n(n,e)}var g5n={year:0,month:1,day:2,hour:3,minute:4,second:5};function y5n(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=g5n[n[i].type];a>=0&&(r[a]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function v5n(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var tF={};function b5n(e){if(!tF[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";tF[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return tF[e]}function pY(e,t,n,r,i,a,o){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,a,o),s}var Sce=36e5,x5n=6e4,nF={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function KR(e,t,n){var r,i;if(!e||(r=nF.timezoneZ.exec(e),r))return 0;var a;if(r=nF.timezoneHH.exec(e),r)return a=parseInt(r[1],10),Ece(a)?-(a*Sce):NaN;if(r=nF.timezoneHHMM.exec(e),r){a=parseInt(r[2],10);var o=parseInt(r[3],10);return Ece(a,o)?(i=Math.abs(a)*Sce+o*x5n,r[1]==="+"?-i:i):NaN}if(S5n(e)){t=new Date(t||Date.now());var s=n?t:w5n(t),l=Z6(s,e),c=n?l:C5n(t,l,e);return-c}return NaN}function w5n(e){return pY(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Z6(e,t){var n=m5n(e,t),r=pY(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),a=i%1e3;return i-=a>=0?a:1e3+a,r-i}function C5n(e,t,n){var r=e.getTime(),i=r-t,a=Z6(new Date(i),n);if(t===a)return t;i-=a-t;var o=Z6(new Date(i),n);return a===o?a:Math.max(a,o)}function Ece(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var kce={};function S5n(e){if(kce[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),kce[e]=!0,!0}catch{return!1}}var E5n=60*1e3,k5n={X:function(e,t,n,r){var i=rF(r.timeZone,e);if(i===0)return"Z";switch(t){case"X":return _ce(i);case"XXXX":case"XX":return g1(i);case"XXXXX":case"XXX":default:return g1(i,":")}},x:function(e,t,n,r){var i=rF(r.timeZone,e);switch(t){case"x":return _ce(i);case"xxxx":case"xx":return g1(i);case"xxxxx":case"xxx":default:return g1(i,":")}},O:function(e,t,n,r){var i=rF(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+_5n(i,":");case"OOOO":default:return"GMT"+g1(i,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return Cce("short",e,r);case"zzzz":default:return Cce("long",e,r)}}};function rF(e,t){var n=e?KR(e,t,!0)/E5n:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function Hj(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function g1(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=Hj(Math.floor(i/60),2),o=Hj(Math.floor(i%60),2);return r+a+n+o}function _ce(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Hj(Math.abs(e)/60,2)}return g1(e,t)}function _5n(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+Hj(a,2)}var T5n=k5n,YRe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,iF=36e5,Tce=6e4,A5n=2,No={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:YRe};function Wj(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?A5n:cVt(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=j5n(e),a=I5n(i.date,r),o=a.year,s=a.restDateString,l=D5n(s,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),d=0,h;if(i.time&&(d=M5n(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=KR(i.timeZone||n.timeZone,new Date(c+d)),isNaN(h))return new Date(NaN)}else h=Mie(new Date(c+d)),h=Mie(new Date(c+d+h));return new Date(c+d+h)}else return new Date(NaN)}function j5n(e){var t={},n=No.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=No.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var i=No.timeZone.exec(r);i?(t.time=r.replace(i[1],""),t.timeZone=i[1].trim()):t.time=r}return t}function I5n(e,t){var n=No.YYY[t],r=No.YYYYY[t],i;if(i=No.YYYY.exec(e)||r.exec(e),i){var a=i[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(i=No.YY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function D5n(e,t){if(t===null)return null;var n,r,i,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=No.MM.exec(e),n)return r=new Date(0),i=parseInt(n[1],10)-1,jce(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=No.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return $5n(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=No.MMDD.exec(e),n){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return jce(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=No.Www.exec(e),n)return a=parseInt(n[1],10)-1,Ice(t,a)?Ace(t,a):new Date(NaN);if(n=No.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Ice(t,a,l)?Ace(t,a,l):new Date(NaN)}return null}function M5n(e){var t,n,r;if(t=No.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),aF(n)?n%24*iF:NaN;if(t=No.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),aF(n,r)?n%24*iF+r*Tce:NaN;if(t=No.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return aF(n,r,i)?n%24*iF+r*Tce+i*1e3:NaN}return null}function Ace(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=t*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var R5n=[31,28,31,30,31,30,31,31,30,31,30,31],O5n=[31,29,31,30,31,30,31,31,30,31,30,31];function qRe(e){return e%400===0||e%4===0&&e%100!==0}function jce(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=qRe(e);if(r&&n>O5n[t]||!r&&n>R5n[t])return!1}return!0}function $5n(e,t){if(t<1)return!1;var n=qRe(e);return!(n&&t>366||!n&&t>365)}function Ice(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function aF(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var P5n=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function F5n(e,t,n){var r=String(t),i=n||{},a=r.match(P5n);if(a){var o=Wj(i.originalDate||e,i);r=a.reduce(function(s,l){if(l[0]==="'")return s;var c=s.indexOf(l),d=s[c-1]==="'",h=s.replace(l,"'"+T5n[l[0]](o,l,null,i)+"'");return d?h.substring(0,c-1)+h.substring(c+1):h},r)}return BVt(e,r,i)}function X6(e,t,n){var r=Wj(e,n),i=KR(t,r,!0),a=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function KRe(e,t,n,r){var i=s_e(r);return i.timeZone=t,i.originalDate=e,F5n(X6(e,t),n,i)}function N5n(e,t,n){if(typeof e=="string"&&!e.match(YRe)){var r=s_e(n);return r.timeZone=t,Wj(e,r)}var i=Wj(e,n),a=pY(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=KR(t,new Date(a));return new Date(a+o)}const Os=e=>{const{body:t,title:n}=e;return u.jsxs(ne,{paddingY:1,space:3,children:[u.jsxs(Rn,{space:2,children:[u.jsx(Fa,{}),n&&u.jsx(N,{size:2,weight:"semibold",children:n})]}),t&&u.jsx(N,{size:1,children:t})]})},J6="scheduled-publishing:";gi(J6);function ZR(e){const t=`${J6}${e}`;return gi&&gi.enabled(t)?gi(t):gi(J6)}function L5n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}function y1(e){let t;return L5n(e)?e.response.statusCode===403?t=K2n:t=e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}const B5n=ZR("useScheduleOperation"),oC=c5n().map(e=>({abbreviation:e.abbreviation,alternativeName:e.alternativeName,mainCities:e.mainCities.join(", "),name:e.name,namePretty:e.name.replaceAll("_"," "),offset:e.currentTimeFormat.split(" ")[0],value:`${e.currentTimeFormat} ${e.abbreviation} ${e.name}`}));function Q6(){return oC.find(e=>e.name===Intl.DateTimeFormat().resolvedOptions().timeZone)||oC.find(e=>e.abbreviation==="GMT")||oC[0]}function Dce(){const e=localStorage.getItem(HRe);try{if(e)return JSON.parse(e)}catch{}return Q6()}const oo=()=>{const e=f.useMemo(()=>Dce(),[]),[t,n]=f.useState(e),r=_r();f.useEffect(()=>{const c=()=>{n(Dce())};return window.addEventListener("timeZoneEventUpdate",c),()=>{window.removeEventListener("timeZoneEventUpdate",c)}},[]);const i=f.useCallback(({date:c,format:d=Cy.LARGE,includeTimeZone:h,prefix:p})=>{let m=d;return p&&(m=`'${p}'${d}`),h&&(m=`${d} (zzzz)`),KRe(c,t.name,m)},[t.name]),a=f.useCallback(()=>X6(new Date,t.name),[t.name]),o=f.useCallback(c=>{B5n("handleNewValue:",c),n(d=>{try{d.name!==c.name&&(localStorage.setItem(HRe,JSON.stringify(c)),window.dispatchEvent(new Event("timeZoneEventUpdate"))),r.push({closable:!0,description:u.jsx(Os,{body:`${c.alternativeName} (${c.namePretty})`,title:"Time zone updated"}),duration:15e3,status:"info"})}catch(h){console.error(h),r.push({closable:!0,description:u.jsx(Os,{body:y1(h),title:"Unable to update time zone"}),status:"error"})}return c})},[r]),s=f.useCallback(c=>X6(c,t.name),[t.name]),l=f.useCallback(c=>N5n(c,t.name),[t.name]);return{formatDateTz:i,getCurrentZoneDate:a,setTimeZone:o,timeZone:t,utcToCurrentZoneDate:s,zoneDateToUtc:l}},V5n=$.span(({theme:e})=>de`
    color: ${e.sanity.color.base.fg};
    font-weight: 500;
    margin-left: 1em;
  `),z5n=$.span(({theme:e})=>de`
    color: ${e.sanity.color.input.default.readOnly.fg};
    margin-left: 1em;
  `),U5n=e=>{const{onClose:t}=e,{setTimeZone:n,timeZone:r}=oo(),[i,a]=f.useState(r),o=f.useCallback(m=>{const g=oC.find(y=>y.value===m);a(g)},[]),s=f.useCallback(()=>{a(Q6())},[]),l=f.useCallback(()=>{i&&n(i),t==null||t()},[t,i,n]),c=(i==null?void 0:i.name)!==r.name,d=f.useMemo(()=>(i==null?void 0:i.name)===Q6().name,[i]),h=f.useCallback(m=>u.jsx(ie,{as:"button",padding:3,children:u.jsxs(N,{size:1,textOverflow:"ellipsis",children:[u.jsxs("span",{children:["GMT",m.offset]}),u.jsx(V5n,{children:m.alternativeName}),u.jsx(z5n,{children:m.mainCities})]})}),[]),p=f.useCallback((m,g)=>g?`${g.alternativeName} (${g.namePretty})`:"",[]);return u.jsx(Ri,{footer:{confirmButton:{text:"Update time zone",disabled:!c||!i,onClick:l,tone:"primary"}},header:"Select time zone",id:"time-zone",onClose:t,width:1,children:u.jsxs(ne,{padding:4,space:5,children:[u.jsx(N,{size:1,children:"The selected time zone will change how dates are represented in schedules."}),u.jsxs(ne,{space:3,children:[u.jsxs(z,{align:"center",justify:"space-between",children:[u.jsxs(Rn,{space:2,children:[u.jsx(N,{size:1,weight:"semibold",children:"Time zone"}),d&&u.jsx(N,{muted:!0,size:1,children:"local time"})]}),!d&&u.jsx(N,{size:1,weight:"medium",children:u.jsx("a",{onClick:s,style:{cursor:"pointer"},children:"Select local time zone"})})]}),u.jsx(xD,{fontSize:2,icon:Ca,id:"timezone",onChange:o,openButton:!0,options:oC,padding:4,placeholder:"Search for a city or time zone",popover:{boundaryElement:document.querySelector("body"),constrainSize:!0,placement:"bottom-start"},renderOption:h,renderValue:p,tabIndex:-1,value:i==null?void 0:i.value})]})]})})};function ZRe(){const[e,t]=f.useState(!1),n=f.useCallback(()=>{t(!1)},[]),r=f.useCallback(()=>{t(!0)},[]);return{visible:e,show:r,hide:n}}function H5n(){const{visible:e,show:t,hide:n}=ZRe();return{DialogTimeZone:e?U5n:null,dialogProps:{onClose:n,visible:e},dialogTimeZoneShow:t,hide:n}}const XRe=e=>{const{useElementQueries:t}=e,{timeZone:n}=oo(),{DialogTimeZone:r,dialogProps:i,dialogTimeZoneShow:a}=H5n();return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(bt,{content:`Displaying schedules in ${n.alternativeName} (GMT${n.offset})`,portal:!0,children:u.jsx("div",{children:t?u.jsxs(u.Fragment,{children:[u.jsx(L,{className:"button-small",children:u.jsx(he,{icon:K1,mode:"bleed",onClick:a,text:`${n.abbreviation}`})}),u.jsx(L,{className:"button-large",children:u.jsx(he,{icon:K1,mode:"bleed",onClick:a,text:`${n.alternativeName} (${n.namePretty})`})})]}):u.jsx(he,{icon:K1,mode:"bleed",onClick:a,text:`${n.alternativeName} (${n.namePretty})`})})})]})},JRe=$(vD)`
  .button-small {
    display: block;
  }
  .button-large {
    display: none;
  }

  &[data-eq-min~='2'] {
    .button-small {
      display: none;
    }
    .button-large {
      display: block;
    }
  }
`,Uh=()=>{},ys=Uh(),oF=Object,Wn=e=>e===ys,kc=e=>typeof e=="function",Sp=(e,t)=>({...e,...t}),W5n=e=>kc(e.then),N5=new WeakMap;let G5n=0;const _S=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,a;if(oF(e)===e&&!r&&n!=RegExp){if(i=N5.get(e),i)return i;if(i=++G5n+"~",N5.set(e,i),n==Array){for(i="@",a=0;a<e.length;a++)i+=_S(e[a])+",";N5.set(e,i)}if(n==oF){i="#";const o=oF.keys(e).sort();for(;!Wn(a=o.pop());)Wn(e[a])||(i+=a+":"+_S(e[a])+",");N5.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Fd=new WeakMap,sF={},L5={},mY="undefined",XR=typeof window!=mY,e7=typeof document!=mY,Y5n=()=>XR&&typeof window.requestAnimationFrame!=mY,QRe=(e,t)=>{const n=Fd.get(e);return[()=>!Wn(t)&&e.get(t)||sF,r=>{if(!Wn(t)){const i=e.get(t);t in L5||(L5[t]=i),n[5](t,Sp(i,r),i||sF)}},n[6],()=>!Wn(t)&&t in L5?L5[t]:!Wn(t)&&e.get(t)||sF]};let t7=!0;const q5n=()=>t7,[n7,r7]=XR&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Uh,Uh],K5n=()=>{const e=e7&&document.visibilityState;return Wn(e)||e!=="hidden"},Z5n=e=>(e7&&document.addEventListener("visibilitychange",e),n7("focus",e),()=>{e7&&document.removeEventListener("visibilitychange",e),r7("focus",e)}),X5n=e=>{const t=()=>{t7=!0,e()},n=()=>{t7=!1};return n7("online",t),n7("offline",n),()=>{r7("online",t),r7("offline",n)}},J5n={isOnline:q5n,isVisible:K5n},Q5n={initFocus:Z5n,initReconnect:X5n},Mce=!Xe.useId,TS=!XR||"Deno"in window,e_n=e=>Y5n()?window.requestAnimationFrame(e):setTimeout(e,1),lF=TS?f.useEffect:f.useLayoutEffect,uF=typeof navigator<"u"&&navigator.connection,Rce=!TS&&uF&&(["slow-2g","2g"].includes(uF.effectiveType)||uF.saveData),gY=e=>{if(kc(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?_S(e):"",[e,t]};let t_n=0;const i7=()=>++t_n,eOe=0,tOe=1,nOe=2,n_n=3;var Ux={__proto__:null,ERROR_REVALIDATE_EVENT:n_n,FOCUS_EVENT:eOe,MUTATE_EVENT:nOe,RECONNECT_EVENT:tOe};async function rOe(...e){const[t,n,r,i]=e,a=Sp({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=a.populateCache;const s=a.rollbackOnError;let l=a.optimisticData;const c=p=>typeof s=="function"?s(p):s!==!1,d=a.throwOnError;if(kc(n)){const p=n,m=[],g=t.keys();for(const y of g)!/^\$(inf|sub)\$/.test(y)&&p(t.get(y)._k)&&m.push(y);return Promise.all(m.map(h))}return h(n);async function h(p){const[m]=gY(p);if(!m)return;const[g,y]=QRe(t,m),[v,b,x,w]=Fd.get(t),C=()=>{const M=v[m];return(kc(a.revalidate)?a.revalidate(g().data,p):a.revalidate!==!1)&&(delete x[m],delete w[m],M&&M[0])?M[0](nOe).then(()=>g().data):g().data};if(e.length<3)return C();let S=r,E;const k=i7();b[m]=[k,0];const _=!Wn(l),T=g(),j=T.data,A=T._c,I=Wn(A)?j:A;if(_&&(l=kc(l)?l(I,j):l,y({data:l,_c:I})),kc(S))try{S=S(I)}catch(M){E=M}if(S&&W5n(S))if(S=await S.catch(M=>{E=M}),k!==b[m][0]){if(E)throw E;return S}else E&&_&&c(E)&&(o=!0,y({data:I,_c:ys}));if(o&&!E)if(kc(o)){const M=o(S,I);y({data:M,error:ys,_c:ys})}else y({data:S,error:ys,_c:ys});if(b[m][1]=i7(),Promise.resolve(C()).then(()=>{y({_c:ys})}),E){if(d)throw E;return}return S}}const Oce=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},r_n=(e,t)=>{if(!Fd.has(e)){const n=Sp(Q5n,t),r={},i=rOe.bind(ys,e);let a=Uh;const o={},s=(d,h)=>{const p=o[d]||[];return o[d]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},l=(d,h,p)=>{e.set(d,h);const m=o[d];if(m)for(const g of m)g(h,p)},c=()=>{if(!Fd.has(e)&&(Fd.set(e,[r,{},{},{},i,l,s]),!TS)){const d=n.initFocus(setTimeout.bind(ys,Oce.bind(ys,r,eOe))),h=n.initReconnect(setTimeout.bind(ys,Oce.bind(ys,r,tOe)));a=()=>{d&&d(),h&&h(),Fd.delete(e)}}};return c(),[e,i,c,a]}return[e,Fd.get(e)[4]]},i_n=(e,t,n,r,i)=>{const a=n.errorRetryCount,o=i.retryCount,s=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Wn(a)&&o>a||setTimeout(r,s,i)},a_n=(e,t)=>_S(e)==_S(t),[iOe,o_n]=r_n(new Map),s_n=Sp({onLoadingSlow:Uh,onSuccess:Uh,onError:Uh,onErrorRetry:i_n,onDiscarded:Uh,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Rce?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Rce?5e3:3e3,compare:a_n,isPaused:()=>!1,cache:iOe,mutate:o_n,fallback:{}},J5n),l_n=(e,t)=>{const n=Sp(e,t);if(t){const{use:r,fallback:i}=e,{use:a,fallback:o}=t;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=Sp(i,o))}return n},u_n=f.createContext({}),c_n="$inf$",aOe=XR&&window.__SWR_DEVTOOLS_USE__,d_n=aOe?window.__SWR_DEVTOOLS_USE__:[],f_n=()=>{aOe&&(window.__SWR_DEVTOOLS_REACT__=Xe)},h_n=e=>kc(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],p_n=()=>Sp(s_n,f.useContext(u_n)),m_n=e=>(t,n,r)=>e(t,n&&((...i)=>{const[a]=gY(t),[,,,o]=Fd.get(iOe);if(a.startsWith(c_n))return n(...i);const s=o[a];return Wn(s)?n(...i):(delete o[a],s)}),r),g_n=d_n.concat(m_n),y_n=e=>function(...t){const n=p_n(),[r,i,a]=h_n(t),o=l_n(n,a);let s=e;const{use:l}=o,c=(l||[]).concat(g_n);for(let d=c.length;d--;)s=c[d](s);return s(r,i||o.fetcher||null,o)},v_n=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};f_n();const $ce=Xe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),cF={dedupe:!0},b_n=(e,t,n)=>{const{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:h,keepPreviousData:p}=n,[m,g,y,v]=Fd.get(r),[b,x]=gY(e),w=f.useRef(!1),C=f.useRef(!1),S=f.useRef(b),E=f.useRef(t),k=f.useRef(n),_=()=>k.current,T=()=>_().isVisible()&&_().isOnline(),[j,A,I,M]=QRe(r,b),D=f.useRef({}).current,O=Wn(o)?n.fallback[b]:o,R=(se,le)=>{for(const oe in D){const ue=oe;if(ue==="data"){if(!i(se[ue],le[ue])&&(!Wn(se[ue])||!i(re,le[ue])))return!1}else if(le[ue]!==se[ue])return!1}return!0},F=f.useMemo(()=>{const se=!b||!t?!1:Wn(s)?_().isPaused()||a?!1:Wn(l)?!0:l:s,le=ge=>{const je=Sp(ge);return delete je._k,se?{isValidating:!0,isLoading:!0,...je}:je},oe=j(),ue=M(),ye=le(oe),Ee=oe===ue?ye:le(ue);let ke=ye;return[()=>{const ge=le(j());return R(ge,ke)?(ke.data=ge.data,ke.isLoading=ge.isLoading,ke.isValidating=ge.isValidating,ke.error=ge.error,ke):(ke=ge,ge)},()=>Ee]},[r,b]),P=ZVt.useSyncExternalStore(f.useCallback(se=>I(b,(le,oe)=>{R(oe,le)||se()}),[r,b]),F[0],F[1]),V=!w.current,U=m[b]&&m[b].length>0,H=P.data,W=Wn(H)?O:H,Z=P.error,J=f.useRef(W),re=p?Wn(H)?J.current:H:W,G=U&&!Wn(Z)?!1:V&&!Wn(s)?s:_().isPaused()?!1:a?Wn(W)?!1:l:Wn(W)||l,te=!!(b&&t&&V&&G),X=Wn(P.isValidating)?te:P.isValidating,K=Wn(P.isLoading)?te:P.isLoading,Q=f.useCallback(async se=>{const le=E.current;if(!b||!le||C.current||_().isPaused())return!1;let oe,ue,ye=!0;const Ee=se||{},ke=!y[b]||!Ee.dedupe,ge=()=>Mce?!C.current&&b===S.current&&w.current:b===S.current,je={isValidating:!1,isLoading:!1},Ve=()=>{A(je)},xe=()=>{const Se=y[b];Se&&Se[1]===ue&&delete y[b]},me={isValidating:!0};Wn(j().data)&&(me.isLoading=!0);try{if(ke&&(A(me),n.loadingTimeout&&Wn(j().data)&&setTimeout(()=>{ye&&ge()&&_().onLoadingSlow(b,n)},n.loadingTimeout),y[b]=[le(x),i7()]),[oe,ue]=y[b],oe=await oe,ke&&setTimeout(xe,n.dedupingInterval),!y[b]||y[b][1]!==ue)return ke&&ge()&&_().onDiscarded(b),!1;je.error=ys;const Se=g[b];if(!Wn(Se)&&(ue<=Se[0]||ue<=Se[1]||Se[1]===0))return Ve(),ke&&ge()&&_().onDiscarded(b),!1;const ve=j().data;je.data=i(ve,oe)?ve:oe,ke&&ge()&&_().onSuccess(oe,b,n)}catch(Se){xe();const ve=_(),{shouldRetryOnError:_e}=ve;ve.isPaused()||(je.error=Se,ke&&ge()&&(ve.onError(Se,b,ve),(_e===!0||kc(_e)&&_e(Se))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||T())&&ve.onErrorRetry(Se,b,ve,Ze=>{const Je=m[b];Je&&Je[0]&&Je[0](Ux.ERROR_REVALIDATE_EVENT,Ze)},{retryCount:(Ee.retryCount||0)+1,dedupe:!0})))}return ye=!1,Ve(),!0},[b,r]),ee=f.useCallback((...se)=>rOe(r,S.current,...se),[]);if(lF(()=>{E.current=t,k.current=n,Wn(H)||(J.current=H)}),lF(()=>{if(!b)return;const se=Q.bind(ys,cF);let le=0;const oe=v_n(b,m,(ue,ye={})=>{if(ue==Ux.FOCUS_EVENT){const Ee=Date.now();_().revalidateOnFocus&&Ee>le&&T()&&(le=Ee+_().focusThrottleInterval,se())}else if(ue==Ux.RECONNECT_EVENT)_().revalidateOnReconnect&&T()&&se();else{if(ue==Ux.MUTATE_EVENT)return Q();if(ue==Ux.ERROR_REVALIDATE_EVENT)return Q(ye)}});return C.current=!1,S.current=b,w.current=!0,A({_k:x}),G&&(Wn(W)||TS?se():e_n(se)),()=>{C.current=!0,oe()}},[b]),lF(()=>{let se;function le(){const ue=kc(c)?c(j().data):c;ue&&se!==-1&&(se=setTimeout(oe,ue))}function oe(){!j().error&&(d||_().isVisible())&&(h||_().isOnline())?Q(cF).then(le):le()}return le(),()=>{se&&(clearTimeout(se),se=-1)}},[c,d,h,b]),f.useDebugValue(re),a&&Wn(W)&&b){if(!Mce&&TS)throw new Error("Fallback data is required when using suspense in SSR.");E.current=t,k.current=n,C.current=!1;const se=v[b];if(!Wn(se)){const le=ee(se);$ce(le)}if(Wn(Z)){const le=Q(cF);Wn(re)||(le.status="fulfilled",le.value=!0),$ce(le)}else throw Z}return{mutate:ee,get data(){return D.data=!0,re},get error(){return D.error=!0,Z},get isValidating(){return D.isValidating=!0,X},get isLoading(){return D.isLoading=!0,K}}},x_n=y_n(b_n);function w_n({children:e}){const{enabled:t,isLoading:n}=Tk("scheduledPublishing"),{scheduledPublishing:r}=Vr(),i=r.enabled,a=f.useMemo(()=>!i||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"},[t,n,i]);return u.jsx(Mhe.Provider,{value:a,children:e})}function $0(){const e=f.useContext(Mhe);if(!e)throw new Error("useScheduledPublishingEnabled must be used within a ScheduledPublishingEnabledProvider");return e}function Zg(e){return(e==null?void 0:e.executedAt)||(e==null?void 0:e.executeAt)}function a7({reverseOrder:e}={reverseOrder:!1}){return function(t,n){const r=Zg(t),i=Zg(n);return r===i?0:r===null?1:i===null?-1:(r>i?1:-1)*(e?-1:1)}}const Hx=ZR("useScheduleOperation");function C_n(){const e=Xt({apiVersion:"2022-09-01"});return f.useMemo(()=>S_n(e),[e])}function S_n(e){const{dataset:t,projectId:n}=e.config();function r({date:l,documentId:c}){Hx("_create:",c);const d=new Date(l);return d.setSeconds(0),d.setMilliseconds(0),e.request({body:{documents:[{documentId:c}],executeAt:d,name:d},method:"POST",uri:`/schedules/${n}/${t}`})}function i({scheduleId:l}){return Hx("_delete:",l),e.request({method:"DELETE",uri:`/schedules/${n}/${t}/${l}`})}function a({scheduleIds:l}){Hx("_deleteMultiple:",l);const c=l.map(d=>i({scheduleId:d}));return Promise.allSettled(c)}function o({scheduleId:l}){return Hx("_publish:",l),e.request({method:"POST",uri:`/schedules/${n}/${t}/${l}/publish`})}function s({documentSchedule:l,scheduleId:c}){return Hx("_update:",c,l),e.request({body:l,method:"PATCH",uri:`/schedules/${n}/${t}/${c}`})}return{create:r,delete:i,deleteMultiple:a,publish:o,update:s}}var wd=(e=>(e.create="scheduleCreate",e.delete="scheduleDelete",e.deleteMultiple="scheduleDeleteMultiple",e.publish="schedulePublish",e.update="scheduleUpdate",e))(wd||{});function Pce(e,t){return`${t} ${e}${t===1?"":"s"}`}const Wx=(e,t)=>new CustomEvent(e,t);function Ck(){const e=_r(),{formatDateTz:t}=oo(),n=C_n();async function r({date:l,displayToast:c=!0,documentId:d}){try{const h=await n.create({date:l,documentId:d});window.dispatchEvent(Wx("scheduleCreate",{detail:{date:l,documentId:d}})),c&&(h!=null&&h.executeAt)&&e.push({closable:!0,description:u.jsx(Os,{body:t({date:new Date(h.executeAt),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule created"}),duration:15e3,status:"success"})}catch(h){c&&e.push({closable:!0,description:u.jsx(Os,{body:y1(h),title:"Unable to create schedule"}),duration:15e3,status:"error"})}}async function i({displayToast:l=!0,schedule:c}){try{await n.delete({scheduleId:c==null?void 0:c.id}),window.dispatchEvent(Wx("scheduleDelete",{detail:{scheduleId:c==null?void 0:c.id}})),l&&e.push({closable:!0,description:u.jsx(Os,{title:"Schedule deleted"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:u.jsx(Os,{body:y1(d),title:"Unable to delete schedule"}),duration:15e3,status:"error"})}}async function a({displayToast:l=!0,schedules:c}){try{const d=c.map(v=>v.id),h=await n.deleteMultiple({scheduleIds:d}),{fulfilledIds:p,rejectedReasons:m}=h.reduce((v,b,x)=>(b.status==="fulfilled"&&v.fulfilledIds.push(c[x].id),b.status==="rejected"&&v.rejectedReasons.push(`[${c[x].id}]: ${b.reason}`),v),{fulfilledIds:[],rejectedReasons:[]}),g=p.length,y=m.length;(p==null?void 0:p.length)>0&&window.dispatchEvent(Wx("scheduleDeleteMultiple",{detail:{scheduleIds:p}})),l&&((p==null?void 0:p.length)>0&&e.push({closable:!0,description:u.jsx(Os,{title:`${Pce("schedule",g)} deleted`}),status:"success"}),(m==null?void 0:m.length)>0&&e.push({closable:!0,description:u.jsx(Os,{body:m==null?void 0:m.toString(),title:`Unable to delete ${Pce("schedule",y)}`}),duration:15e3,status:"error"}))}catch(d){l&&e.push({closable:!0,description:u.jsx(Os,{body:y1(d),title:"Unable to delete schedules"}),duration:15e3,status:"error"})}}async function o({displayToast:l=!0,schedule:c}){try{const d=c.id;await n.publish({scheduleId:d}),window.dispatchEvent(Wx("schedulePublish",{detail:{scheduleId:d}})),l&&e.push({closable:!0,description:u.jsx(Os,{title:"Document published"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:u.jsx(Os,{body:y1(d),title:"Unable to publish schedule"}),duration:15e3,status:"error"})}}async function s({date:l,displayToast:c=!0,scheduleId:d}){try{await n.update({documentSchedule:{executeAt:l},scheduleId:d}),window.dispatchEvent(Wx("scheduleUpdate",{detail:{date:l,scheduleId:d}})),c&&e.push({closable:!0,description:u.jsx(Os,{body:t({date:new Date(l),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule updated"}),duration:15e3,status:"success"})}catch(h){c&&e.push({closable:!0,description:u.jsx(Os,{body:y1(h),title:"Unable to update schedule"}),duration:15e3,status:"error"})}}return{createSchedule:r,deleteSchedule:i,deleteSchedules:a,publishSchedule:o,updateSchedule:s}}function E_n(){const e=Xt({apiVersion:"2022-09-01"}),{dataset:t,projectId:n}=e.config();return`/schedules/${n}/${t}`}function k_n(e){const t=Xt({apiVersion:"2022-09-01"});return f.useCallback(()=>t.request({query:e.params,method:"GET",uri:e.url}),[t,e])}const __n=[];function JR({documentId:e,state:t}={}){const{mode:n}=$0(),r=f.useMemo(()=>({refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:n==="default"?1e4:void 0,revalidateIfStale:n==="default",revalidateOnReconnect:n==="default"}),[n]),i=E_n(),a=f.useMemo(()=>({params:{documentIds:e,state:t},url:i}),[i,e,t]),o=k_n(a),{data:s,error:l,mutate:c}=x_n(a,o,r),d=f.useCallback(y=>{c(v=>{var b;return{schedules:(b=v==null?void 0:v.schedules)==null?void 0:b.filter(x=>x.id!==y.detail.scheduleId)}},!0)},[c]),h=f.useCallback(y=>{c(v=>{var b;return{schedules:(b=v==null?void 0:v.schedules)==null?void 0:b.filter(x=>!y.detail.scheduleIds.includes(x.id))}},!0)},[c]),p=f.useCallback(y=>{c(v=>{const b=(v==null?void 0:v.schedules)||[],x=b.findIndex(w=>w.id===y.detail.scheduleId);return{schedules:[...b.slice(0,x),{...b[x],executeAt:new Date().toISOString(),state:"succeeded"},...b.slice(x+1)]}},!0)},[c]),m=f.useCallback(y=>{c(v=>{const b=(v==null?void 0:v.schedules)||[],x=b.findIndex(w=>w.id===y.detail.scheduleId);return{schedules:[...b.slice(0,x),{...b[x],executeAt:y.detail.date},...b.slice(x+1)]}},!0)},[c]);f.useEffect(()=>(window.addEventListener(wd.delete,d),window.addEventListener(wd.deleteMultiple,h),window.addEventListener(wd.publish,p),window.addEventListener(wd.update,m),()=>{window.removeEventListener(wd.delete,d),window.removeEventListener(wd.deleteMultiple,h),window.removeEventListener(wd.publish,p),window.removeEventListener(wd.update,m)}),[d,h,p,m]);const g=f.useMemo(()=>{var y;return(y=s==null?void 0:s.schedules)==null?void 0:y.sort(a7())},[s==null?void 0:s.schedules]);return{error:l,isInitialLoading:!l&&!s,schedules:g||__n}}const T_n=[];function A_n({children:e,value:t}){const[n,r]=f.useState(t.sortBy||"executeAt"),{utcToCurrentZoneDate:i}=oo(),a=f.useCallback(d=>function(h){const p=Zg(h);if(!p)return!1;const m=new Date(p),g=i(m);return Co(g,d)},[i]),o=f.useCallback(d=>function(h){return h.state===d},[]),s=f.useMemo(()=>t.schedules.filter(d=>t.selectedDate?a(t.selectedDate)(d):o(t.scheduleState)(d)).sort((d,h)=>{if(n==="createdAt")return d[n]<h[n]?1:-1;if(n==="executeAt"){const p=!(t.scheduleState==="scheduled"||t.selectedDate);return a7({reverseOrder:p})(d,h)}return 1})||[],[o,t.schedules,t.scheduleState,t.selectedDate,n,a]),l=f.useCallback(d=>t.schedules.filter(a(d)).sort(a7()),[t.schedules,a]),c=f.useMemo(()=>({activeSchedules:s,schedules:t.schedules||T_n,schedulesByDate:l,scheduleState:t.scheduleState,selectedDate:t.selectedDate,setSortBy:r,sortBy:n}),[s,l,n,t.scheduleState,t.schedules,t.selectedDate]);return u.jsx(Ohe.Provider,{value:c,children:e})}function Sk(){const e=f.useContext(Ohe);if(e===void 0)throw new Error("useSchedules must be used within a SchedulesProvider");return e}function oOe(e,t){return f.useMemo(()=>e.filter(n=>n.state===t),[e,t])}const j_n=e=>{const{selected:t,schedules:n,state:r}=e,i=oOe(n,r).length,a=i>0,o=r==="cancelled",{href:s,onClick:l}=NH({state:{state:r}});return u.jsx($t,{as:"a",href:s,mode:"bleed",onClick:l,selected:t,tone:o?"critical":"default",padding:2,children:u.jsxs(z,{gap:2,align:"center",children:[u.jsx(N,{size:1,weight:"medium",children:ES[r].title}),a&&u.jsx(N,{size:0,children:i})]})})},I_n=e=>{const{onClearDate:t,selectedDate:n}=e,{navigate:r}=ts(),{schedules:i,scheduleState:a}=Sk(),o=l=>{r(l)},s=oOe(i,a);return u.jsxs(u.Fragment,{children:[u.jsxs(L,{display:["block","block","none"],children:[n&&u.jsx(he,{iconRight:Nr,onClick:t,text:_c(n,"d MMMM yyyy"),tone:"primary"}),a&&u.jsx(Gt,{button:u.jsx(he,{iconRight:D9,mode:"ghost",text:`${ES[a].title} (${(s==null?void 0:s.length)||0})`,tone:"default"}),id:"state",menu:u.jsx(Ot,{style:{minWidth:"175px"},children:kS.map(l=>u.jsx(He,{iconRight:l===a?_a:void 0,onClick:o.bind(void 0,{state:l}),text:ES[l].title},l))}),placement:"bottom"})]}),u.jsxs(L,{display:["none","none","block"],children:[n&&u.jsx(he,{iconRight:Nr,onClick:t,text:_c(n,"d MMMM yyyy"),tone:"primary"}),a&&u.jsx(z,{gap:2,children:kS.map(l=>u.jsx(j_n,{schedules:i,selected:a===l,state:l},l))})]})]})},D_n=$.img(e=>{const{media:t}=Te(e.theme),n=Pt(t,e.$direction,r=>({width:r==="row"?"50%":"100%",height:r==="row"?"auto":"180px"}));return de`
    object-fit: cover;
    ${n}
  `}),M_n=$(L)`
  margin: auto 0;
`,R_n=[3,3,5];function yY(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r,layout:i="vertical"}=e,a=["column","column",i==="horizontal"?"row":"column"];return u.jsx(ie,{radius:3,overflow:"hidden",border:!0,children:u.jsxs(z,{direction:a,gap:2,children:[t.image&&u.jsx(D_n,{src:t.image.asset.url,alt:t.image.asset.altText??"",$direction:a}),u.jsxs(M_n,{paddingX:3,paddingY:i==="horizontal"?R_n:3,children:[u.jsx(ne,{space:4,children:u.jsx(qR,{blocks:t.descriptionText})}),u.jsxs(z,{gap:2,justify:"flex-end",marginTop:5,children:[t.secondaryButton.text&&u.jsx(he,{mode:"bleed",text:t.secondaryButton.text,tone:"primary",iconRight:Wc,...t.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.secondaryButton.url},onClick:r}),u.jsx(he,{text:t.ctaButton.text,tone:"primary",...t.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.ctaButton.url},onClick:n})]})]})]})})}function Ek(){return Hn().projectId}const vv=ci({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),bv=ci({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),xv=ci({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),wv=ci({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),nh="scheduled_publishing",Fce={interpolate:/{{([\s\S]+?)}}/g},Nce="www.sanity.io";function O_n(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=Ek(),o=Qo(),s=Xt(qt),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(wv,{feature:nh,type:"modal"}),dialogPrimaryClicked:()=>o.log(xv,{feature:nh,type:"modal"}),panelViewed:g=>o.log(vv,{feature:nh,type:"inspector",source:g}),panelDismissed:()=>o.log(bv,{feature:nh,type:"inspector"}),panelPrimaryClicked:()=>o.log(xv,{feature:nh,type:"inspector"}),panelSecondaryClicked:()=>o.log(wv,{feature:nh,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(bv,{feature:nh,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/scheduled-publishing"}).subscribe({next:y=>{if(y)try{const v=dv(y.ctaButton.url,Fce);y.ctaButton.url=v({baseUrl:Nce,projectId:a});const b=dv(y.secondaryButton.url,Fce);y.secondaryButton.url=b({baseUrl:Nce,projectId:a}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(vv,{feature:nh,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(Rhe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(fY,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function sOe(){return f.useContext(Rhe)}const $_n=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M54 26C54 28.7614 49.0751 31 43 31C36.9249 31 32 28.7614 32 26C32 23.2386 36.9249 7 43 7C49.0751 7 54 23.2386 54 26Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M65 71.5V57M65 71.5L60.5789 69.0132M65 71.5L60.5789 73.9868M65 57L57 52.5L54 54.1875M65 57V42.5M65 57L57 47M65 57L58.1586 60.8483M65 57L60.5789 67.5M65 42.5L57 38L54 39.6875M65 42.5L57 47M65 42.5V27.5M57 47L65 27.5M57 47L54 39.6875M57 47L54 45.3125M57 47L54 50.75M57 23L65 27.5M57 23L54 24.6875V39.6875M57 23V60M65 27.5L57 32L54 30.3125",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M54 76C54 78.7614 49.0751 81 43 81C36.9249 81 32 78.7614 32 76M54 76H60.5V63L54 57M54 76V57M32 76H25V63L32 57M32 76V57M32 26V57M54 26V57M54 45C54 47.7614 49.0751 50 43 50V35C49.0751 35 54 32.7614 54 30",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M43 45.5701H44.8976L45.8465 43.1981L46.9679 42.7335L49.3162 43.7399L50.658 42.3981L49.6516 40.0499L50.1161 38.9284L52.4882 37.9795V36.0819L50.1161 35.1331L49.6516 34.0116M47.1334 34.9653C47.5197 35.5597 47.7441 36.269 47.7441 37.0307C47.7441 39.1268 46.0449 40.826 43.9488 40.826C43.6212 40.826 43.3033 40.7845 43 40.7064",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M63.5464 78.6739L64.9606 78.0321L67.4355 78.5135L68.6174 78.2913L69.6174 77.1566H71.6174L72.6174 78.2913L73.7994 78.5135L76.2743 78.0321L77.6885 78.6739M63.5464 78.6739L64.607 79.7972L64.1174 80.3336L63.5464 80.4373M63.5464 78.6739V80.4373M77.6885 78.6739L76.6278 79.7972L77.1174 80.3336L77.6885 80.4373M77.6885 78.6739V80.4373M63.5464 80.4373L61.6174 80.7875V81.6952L64.1174 82.1491L64.607 82.6855L63.5464 83.8088L64.9606 84.4506L67.4355 83.9693L68.6174 84.1915L69.6174 85.3261H71.6174L72.6174 84.1915L73.7994 83.9693L76.2743 84.4506L77.6885 83.8088L76.6278 82.6855L77.1174 82.1491L79.6174 81.6952V80.7875L77.6885 80.4373",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M79.6174 81.4647V84.7162L77.6885 85.0664M76.2743 87.4716L77.6885 86.8298V85.0664M76.2743 87.4716L73.7994 86.9902L72.6174 87.2124L71.6174 88.3471M76.2743 87.4716V84.7162M61.6174 81.4647V84.7162L63.5464 85.0664M71.6174 88.3471H69.6174M71.6174 88.3471V85.3261M69.6174 88.3471L68.6174 87.2124L67.4355 86.9902L64.9606 87.4716M69.6174 88.3471V85.3261M64.9606 87.4716L64.2535 87.1507L63.5464 86.8298V85.0664M64.9606 87.4716V84.6825M63.5464 84.039V85.0664M77.6885 84.039V85.0664",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M73.6174 81.2412C73.6174 81.9932 72.2743 82.6028 70.6174 82.6028C68.9606 82.6028 67.6174 81.9932 67.6174 81.2412C67.6174 80.4892 68.9606 79.8796 70.6174 79.8796C72.2743 79.8796 73.6174 80.4892 73.6174 81.2412Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M90 85.3616C90 86.1136 88.6569 86.7232 87 86.7232C85.3431 86.7232 84 86.1136 84 85.3616M90 85.3616C90 84.6096 88.6569 84 87 84C85.3431 84 84 84.6096 84 85.3616M90 85.3616V87.3616C90 88.1136 88.6569 88.7232 87 88.7232C85.3431 88.7232 84 88.1136 84 87.3616V85.3616",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M82 89.8648C82 90.3425 81.3284 90.7297 80.5 90.7297C79.6716 90.7297 79 90.3425 79 89.8648M82 89.8648C82 89.3872 81.3284 89 80.5 89C79.6716 89 79 89.3872 79 89.8648M82 89.8648V91.1352C82 91.6128 81.3284 92 80.5 92C79.6716 92 79 91.6128 79 91.1352V89.8648",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M52.7555 46.7289L52.5381 45.0136L51.2951 44.6903L50.2695 46.0824L49.4558 46.1956L48.0892 45.1364L46.9817 45.7867L47.2408 47.4962L46.7455 48.1517L45.0302 48.3691L44.7069 49.612M51.1084 47.9593C49.8968 47.6442 48.6622 48.2485 48.1434 49.3385",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M39 80.5L38 83.5C38 84.8807 40.2386 86 43 86C45.7614 86 48 84.8807 48 83.5L47 80.5",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32 77L31 80C31 81.3807 33.2386 82.5 36 82.5C36.9107 82.5 37.7646 82.3783 38.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M54 77L55 80C55 81.3807 52.7614 82.5 50 82.5C49.0893 82.5 48.2354 82.3783 47.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Lce=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35 84.5L41.7308 67H50V69.5M65 84.5L58.2692 67M32 65H42.5H50H57.5H81V23H19V65H24",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M84 16V23H16V16M84 16H16M84 16L82 14H18L16 16",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65H18L17 67H83L82 65H32",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("circle",{cx:"50",cy:"72",r:"2",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 63C24 61.8954 24.8954 61 26 61H30C31.1046 61 32 61.8954 32 63V67H24V63Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65C24 63.8954 24.8954 63 26 63H30C31.1046 63 32 63.8954 32 65V67H24V65Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28 44.9975C31.0617 44.62 33.5601 42.4793 35.2478 39.995C36.199 38.5947 36.9116 37.0761 36.9653 35.3597C36.9973 34.3355 36.8332 33.1459 35.8944 32.5454C35.3035 32.1675 34.4935 32.0285 33.8044 32.0022C32.7788 31.9631 32.1643 32.4357 31.8489 33.4197C30.3123 38.2145 33.0184 42.7025 36.3911 45.8977C38.1152 47.531 40.0746 48.9275 42.1179 50.1294C43.9867 51.2287 46.003 52.2595 48.1189 52.7885C48.9466 52.9954 50.4951 53.3913 51.3211 52.954C52.3579 52.4051 51.8285 49.7323 51.7091 48.9809C51.3862 46.9486 50.7293 45.0311 49.8726 43.1662C49.3791 42.0918 48.7948 40.8004 47.9999 39.8967C47.4959 39.3237 47.1331 39.4889 47.1101 40.2278C47.0699 41.5204 47.5768 42.7535 48.3103 43.7973C50.633 47.1024 54.4924 49.4656 58.2792 50.6985C59.9643 51.2471 61.8953 51.7306 63.6853 51.6193C65.3845 51.5137 65.6225 50.1321 65.7287 48.655C65.9958 44.9405 64.9629 40.7695 62.6403 37.7963C61.615 36.4839 60.3547 35.6334 58.6879 35.4476C57.7554 35.3437 56.665 35.3303 55.7391 35.5097C54.8073 35.6903 54.0162 36.297 54.3371 37.3462C54.6464 38.3572 55.8044 39.0666 56.6444 39.5759C57.983 40.3876 59.4813 40.9898 61.0262 41.2624C63.2658 41.6576 65.1745 41.1715 67.141 40.1346C67.9966 39.6835 68.8825 39.1795 69.4379 38.3861",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),P_n=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35.5034 34.5961C35.6531 34.1763 35.8628 33.792 36.1352 33.4478C37.6813 31.4827 40.9503 31.2145 44.9898 32.3554M35.5034 34.5961L24.12 78.5806C23.4656 81.1092 26.1309 83.2083 28.4357 81.9796L68.4485 60.6484M35.5034 34.5961C34.2315 38.1622 37.2902 44.2842 43.0792 50.0342M68.4485 60.6484C68.8174 60.4078 69.1391 60.118 69.4084 59.7777C70.9736 57.7883 70.4521 54.4677 68.3472 50.7308M68.4485 60.6484C65.1795 62.7806 58.1999 61.0522 51.0413 56.4338M49.3164 55.2667C48.6043 54.7622 47.8933 54.2299 47.1867 53.6707C46.3331 52.9953 45.5161 52.3044 44.7387 51.6037M49.3164 55.2667C49.8913 55.674 50.4669 56.0632 51.0413 56.4338M49.3164 55.2667C52.3445 53.1871 58.7283 49.8329 66.4965 47.8874M51.0413 56.4338C55.9305 53.432 62.4593 51.6876 68.3472 50.7308M43.0792 50.0342C43.6098 50.5612 44.1634 51.0852 44.7387 51.6037M43.0792 50.0342C44.4006 45.7138 45.8116 38.387 44.9898 32.3554M44.7387 51.6037C47.6743 44.2968 48.7135 38.3712 48.6643 33.6916M63.9622 36.487C63.2905 34.23 62.35 29.5386 63.9622 28.8293C65.9774 27.9426 68.5569 33.5045 70.8139 32.2148C73.0709 30.9251 69.4435 27.7814 70.8139 25.2019C72.1842 22.6224 79.6002 28.4262 81.2123 23.4285C82.502 19.4304 79.7614 16.6574 78.2298 15.7708M66.4965 47.8874C70.7697 46.8171 75.462 46.1731 80.2449 46.4019L80.2449 49.7068C77.5329 49.6936 73.1535 49.9498 68.3472 50.7308M66.4965 47.8874C64.45 45.1054 61.6564 42.2264 58.3003 39.5859C55.0633 37.039 51.7429 35.0416 48.6643 33.6916M48.6643 33.6916C48.5822 25.8794 45.4671 21.5396 43.0792 20.043L39.941 23.4285C42.9851 25.0774 44.4569 28.4441 44.9898 32.3554",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32.2094 47.3001C31.0515 50.5465 34.6857 56.6214 40.9597 61.5862C47.2404 66.5562 53.9958 68.696 56.8839 66.8122",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.8867 60.1903C28.1245 62.3275 30.5169 66.3267 34.6472 69.595C38.7818 72.8669 43.229 74.2755 45.1303 73.0354",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M26.2718 70.2225C25.8147 71.5039 27.2491 73.9016 29.7254 75.8611C32.2044 77.8228 34.8707 78.6673 36.0106 77.9238",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.0529 44.1724C29.5354 43.1981 32.3735 40.6904 31.8652 38.4538C31.2298 35.6581 22.8425 38.9622 22.7155 36.5477C22.5884 34.1331 27.0361 30.575 26.909 28.6688C26.7819 26.7626 18.6489 30.8291 18.6489 26.8896C18.6489 23.738 21.36 22.1029 22.7155 21.6793",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"21.8833",y:"50.1122",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 21.8833 50.1122)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"16.0527",y:"36.722",width:"3.03077",height:"3.03077",transform:"rotate(4.36851 16.0527 36.722)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"27.9448",y:"22.8353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 27.9448 22.8353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"53.7065",y:"33.443",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 53.7065 33.443)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"67.3447",y:"13.743",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 67.3447 13.743)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"74.9219",y:"54.6584",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 74.9219 54.6584)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"70.3755",y:"66.7814",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 70.3755 66.7814)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"77.9526",y:"78.9045",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 77.9526 78.9045)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"82.4985",y:"62.2353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 82.4985 62.2353)",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),F_n=e=>{const{scheduleState:t,selectedDate:n}=e;let r,i,a;switch(t){case"succeeded":{i="When a scheduled document is successfully published it moves to this list view.",a="No completed scheduled publications ... yet",r=$_n;break}case"cancelled":{i="Schedules can fail for several reasons, for example when their documents are deleted. When they do, they show up here.",a="No failed scheduled publications",r=P_n;break}case"scheduled":{i="When editing a document, create a new scheduled publication from the menu next to the Publish button.",a="No upcoming scheduled publications",r=Lce;break}}return n&&(i="No schedules for this date.",a=_c(n,"d MMMM yyyy"),r=Lce),u.jsx(ie,{paddingX:6,paddingBottom:8,paddingTop:7,radius:2,shadow:1,children:u.jsxs(ne,{space:4,children:[u.jsx(z,{justify:"center",children:r&&u.jsx(r,{})}),u.jsxs(ne,{space:4,children:[a&&u.jsx(Gi,{align:"center",size:1,children:a}),i&&u.jsx(N,{align:"center",size:1,children:i})]})]})})},N_n=e=>e.liveEdit===!0;function L_n(e,t,n,r){const i=N_n(t)?we({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ca(n)},t),a=e.observeForPreview({_type:"reference",_ref:pn(n)},t);return Hi([i,a]).pipe(fe(([o,s])=>({draft:o.snapshot?{title:r,...o.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),Wi({draft:null,isLoading:!0,published:null}))}function QR(e){var t;return(t=e.documents)==null?void 0:t[0]}function lOe(e){var t;return(t=QR(e))==null?void 0:t.documentId.replaceAll("drafts.","")}function B_n(e,t){const n=da(),[r,i]=f.useState({});return f.useEffect(()=>{if(!t)return;const a=L_n(n,t,e,"").subscribe(o=>{i(o)});return()=>{a==null||a.unsubscribe()}},[n,t,e]),r}function tn(){return Hn().schema}function uOe(e){const t=QR(e),n=tn(),r=t.documentType;return f.useMemo(()=>{if(r)return n.get(r)},[r,n])}function V_n(e){const t=tn();return f.useMemo(()=>t.get(e),[e,t])}const z_n=$(vD)`
  .date-small {
    display: inline;
  }
  .date-medium {
    display: none;
  }
  .date-large {
    display: none;
  }

  &[data-eq-min~='1'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: inline;
    }
    .date-large {
      display: none;
    }
  }

  &[data-eq-min~='2'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: none;
    }
    .date-large {
      display: inline;
    }
  }
`;function U_n({children:e,value:t}){return u.jsx(she.Provider,{value:t,children:e})}function H_n(){const e=f.useContext(she);if(e===void 0)throw new Error("useDocumentActionProps must be used within a DocumentActionPropsProvider");return e}function cOe(e){const[t,n]=f.useState(!1),[r,i]=f.useState(e&&(e!=null&&e.executeAt)?{date:e.executeAt}:null),a=f.useCallback(o=>{const s=(e==null?void 0:e.executeAt)&&new Date(e.executeAt).getTime()===new Date(o==null?void 0:o.date).getTime();i(o),n(!s)},[e==null?void 0:e.executeAt]);return{formData:r,isDirty:t,onFormChange:a}}function W_n(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,customValidation:a,onSelect:o,selected:s}=e,l=f.useMemo(()=>a?a(eS(t)):!0,[t,a]),c=f.useCallback(()=>{l&&o(t)},[t,l,o]);return u.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:u.jsx(ie,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",disabled:!l,role:"button",tabIndex:-1,onClick:c,padding:3,radius:2,selected:s,tone:i||s?"primary":"default",children:u.jsx(N,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const G_n=["January","February","March","April","May","June","July","August","September","October","November","December"],Y_n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q_n=LE(0,24),K_n=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z_n=[1,2,3,4,5,6],X_n=e=>{const t=vM(e);return yM({start:t,end:xM(t)})},J_n=e=>e.map(t=>[t,...Z_n.map(n=>Yr(t,n))]),Q_n=e=>J_n(X_n(e)).map(t=>({number:bM(t[0]),days:t}));function eTn(e){const{getCurrentZoneDate:t}=oo(),{customValidation:n}=e;return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Gn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Y_n.map(r=>u.jsx(L,{paddingY:2,children:u.jsx(N,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),Q_n(e.date).map((r,i)=>r.days.map((a,o)=>{const s=e.focused&&Co(a,e.focused),l=e.selected&&Co(a,e.selected),c=Co(a,t()),d=e.focused&&wM(a,e.focused);return u.jsx(W_n,{date:a,focused:s,isCurrentMonth:d,isToday:c,customValidation:n,onSelect:e.onSelect,selected:l},`${i}-${o}`)}))]})})}const tTn={dayPresets:!1,timePresets:!1},nTn=({onChange:e,...t})=>{const n=f.useCallback(r=>{const i=parseInt(r.currentTarget.value,10);isNaN(i)||e(i)},[e]);return u.jsx($R,{...t,onChange:n,inputMode:"numeric"})},rTn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),iTn=f.forwardRef(function(e,t){const{getCurrentZoneDate:n,zoneDateToUtc:r}=oo(),{selectTime:i,onFocusedDateChange:a,selectedDate:o=n(),focusedDate:s=o,timeStep:l=1,onSelect:c,customValidation:d,...h}=e,p=f.useCallback(_=>a(r(_)),[a,r]),m=f.useCallback(_=>p(Kke(XU(s,_),1)),[s,p]),g=f.useCallback(_=>m(Number(_.currentTarget.value)),[m]),y=f.useCallback(_=>p(NE(s,_)),[s,p]),v=f.useCallback(_=>p(Zke(s,_)),[s,p]),b=f.useCallback(_=>{c(r(Qd(ag(_,o.getHours()),o.getMinutes())))},[c,o,r]),x=f.useCallback(_=>{const T=Number(_.currentTarget.value);c(r(Qd(o,T)))},[c,o,r]),w=f.useCallback(_=>{const T=Number(_.currentTarget.value);c(r(ag(o,T)))},[c,o,r]);f.useCallback((_,T)=>{c(r(ag(Qd(o,T),_)))},[c,o,r]);const C=f.useRef(null);f.useImperativeHandle(t,()=>C.current);const S=f.useCallback(()=>{var _,T;(T=(_=C.current)==null?void 0:_.querySelector('[data-focused="true"]'))==null||T.focus()},[C]),E=f.useCallback(_=>{var T,j;if(K_n.includes(_.key)){if(_.preventDefault(),_.currentTarget.hasAttribute("data-calendar-grid")){S();return}_.key==="ArrowUp"&&a(r(Yr(s,-7))),_.key==="ArrowDown"&&a(r(Yr(s,7))),_.key==="ArrowLeft"&&a(r(Yr(s,-1))),_.key==="ArrowRight"&&a(r(Yr(s,1))),(j=(T=C.current)==null?void 0:T.querySelector("[data-preserve-focus]"))==null||j.focus()}},[r,C,S,a,s]);f.useEffect(()=>{S()},[S]),f.useEffect(()=>{var _;(_=document.activeElement)!=null&&_.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&S()},[C,S,s]);const k=f.useCallback(()=>c(new Date),[c]);return u.jsxs(L,{"data-ui":"Calendar",...h,ref:C,children:[u.jsxs(L,{padding:2,children:[u.jsxs(z,{children:[u.jsx(L,{flex:1,children:u.jsx(aTn,{moveFocusedDate:y,onChange:g,value:s==null?void 0:s.getMonth()})}),u.jsx(L,{marginLeft:2,children:u.jsx(oTn,{moveFocusedDate:y,onChange:v,value:s.getFullYear()})})]}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:E,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(eTn,{date:s,focused:s,customValidation:d,onSelect:b,selected:o}),rTn]})]}),i&&u.jsxs(L,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(z,{align:"center",children:[u.jsxs(z,{align:"center",flex:1,children:[u.jsx(L,{children:u.jsx(Xl,{"aria-label":"Select hour",value:o==null?void 0:o.getHours(),onChange:w,children:q_n.map(_=>u.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})}),u.jsx(L,{paddingX:1,children:u.jsx(N,{children:":"})}),u.jsx(L,{children:u.jsx(Xl,{"aria-label":"Select minutes",value:o==null?void 0:o.getMinutes(),onChange:x,children:LE(0,60,l).map(_=>u.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})})]}),u.jsx(L,{marginLeft:2,children:u.jsx($t,{text:"Set to current time",mode:"bleed",onClick:k})})]}),tTn.timePresets]})]})});function aTn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback(()=>t(-1),[t]),a=f.useCallback(()=>t(1),[t]);return u.jsxs(z,{flex:1,children:[u.jsx($t,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:If,paddingX:2,radius:0}),u.jsx(L,{flex:1,children:u.jsx(Xl,{radius:0,value:r,onChange:n,children:G_n.map((o,s)=>u.jsx("option",{value:s,children:o},s))})}),u.jsx($t,{"aria-label":"Go to next month",mode:"bleed",icon:io,onClick:a,paddingX:2,radius:0})]})}function oTn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback(()=>t(-12),[t]),a=f.useCallback(()=>t(12),[t]);return u.jsxs(z,{children:[u.jsx($t,{"aria-label":"Previous year",onClick:i,mode:"bleed",icon:If,paddingX:2,radius:0}),u.jsx(nTn,{value:r,onChange:n,radius:0,style:{width:65}}),u.jsx($t,{"aria-label":"Next year",onClick:a,mode:"bleed",icon:io,paddingX:2,radius:0})]})}const sTn=f.forwardRef(function(e,t){const{utcToCurrentZoneDate:n}=oo(),{value:r=new Date,onChange:i,customValidation:a,...o}=e,[s,l]=f.useState(),c=f.useCallback(d=>{i(d),l(void 0)},[i]);return u.jsx(iTn,{...o,ref:t,selectedDate:n(r),onSelect:c,focusedDate:n(s||r),onFocusedDateChange:l,customValidation:a})}),lTn=f.forwardRef(function(e,t){const{value:n,inputValue:r,customValidation:i,onInputChange:a,onChange:o,selectTime:s,timeStep:l,...c}=e,d=f.useRef(null),h=f.useRef(null),p=f.useRef(null);f.useImperativeHandle(t,()=>h.current);const[m,g]=f.useState(!1),y=Ff();xn(()=>g(!1),()=>[d.current]);const v=f.useCallback(()=>{var C,S;(C=h.current)==null||C.focus(),(S=h.current)==null||S.select()},[h]),b=f.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),x=f.useCallback(()=>g(!0),[]),w=u.jsx(L,{style:{padding:"5px"},children:u.jsx($t,{ref:p,icon:Fa,mode:"bleed",padding:2,onClick:x,style:{display:"block"},"data-testid":"select-date-button"})});return u.jsx($R,{ref:h,...c,value:r,onChange:a,suffix:m?u.jsx(Zl,{zOffset:1e3,children:u.jsx(_n,{constrainSize:!0,content:u.jsx(L,{overflow:"auto",children:u.jsx(Yu,{onDeactivation:v,children:u.jsx(sTn,{selectTime:s,timeStep:l,onKeyUp:b,value:n,onChange:o,customValidation:i})})}),"data-testid":"date-input-dialog",fallbackPlacements:["bottom","bottom-start","top-end","top","top-start"],floatingBoundary:y.element,open:!0,placement:"bottom-end",portal:!0,radius:2,ref:d,children:w})}):w})}),uTn=f.forwardRef(function(e,t){const{value:n,markers:r,title:i,description:a,placeholder:o,parseInputValue:s,formatInputValue:l,deserialize:c,serialize:d,selectTime:h,timeStep:p,readOnly:m,level:g,onChange:y,customValidation:v,...b}=e,[x,w]=f.useState(null);f.useEffect(()=>{w(null)},[n]);const{zoneDateToUtc:C}=oo(),S=typeof n>"u",E=f.useCallback(M=>{const D=M.currentTarget.value,O=D===""?null:s(D);O===null?(y(null),S&&x&&w(null)):O.isValid?y(d(C(O.date))):w(D)},[S,C,x,d,y,s]),k=f.useCallback(M=>{y(M?d(M):null)},[d,y]),_=f.useRef(null);f.useImperativeHandle(t,()=>_.current);const T=f.useId(),j=x?s(x):n?c(n):null,A=x||(j!=null&&j.isValid?l(j.date):n),I=f.useMemo(()=>r.map(M=>{var D;return{level:M.level,path:M.path,message:M.message??((D=M.item)==null?void 0:D.message)}}),[r]);return u.jsx(I0,{validation:j!=null&&j.error?[...I,{level:"error",message:j.error,path:[]}]:I,title:i,level:g,description:a,inputId:T,children:m?u.jsx(Lr,{value:A,readOnly:!0}):u.jsx(lTn,{...b,id:T,selectTime:h,timeStep:p,placeholder:o||`e.g. ${l(new Date)}`,ref:_,value:j==null?void 0:j.date,inputValue:A||"",readOnly:!!m,onInputChange:E,onChange:k,customValidity:j==null?void 0:j.error,customValidation:v})})});function cTn(e){return e instanceof Date&&!isNaN(e.valueOf())}function dTn(e={}){return{customValidation:e.customValidation||function(){return!0},customValidationMessage:e.customValidationMessage||"Invalid date.",calendarTodayLabel:e.calendarTodayLabel||"Today",timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function dOe(e){return e.toISOString()}function fTn(e){const t=new Date(e);return cTn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function hTn(e,t){if(!t||t===1)return e;const n=Yke(e),r=Vke(n),i=r%t;return dOe(i!==0?Qd(n,r-i):n)}const pTn=f.forwardRef(function(e,t){const{type:n,onChange:r,...i}=e,{title:a,description:o,placeholder:s}=n,{scheduledPublishing:l}=Vr(),c=l.inputDateTimeFormat,{getCurrentZoneDate:d,timeZone:h}=oo(),{customValidation:p,customValidationMessage:m,timeStep:g}=dTn(n.options),y=f.useCallback(x=>{let w=x;w!==null&&g>1&&(w=hTn(w,g)),r(w)},[r,g]),v=f.useCallback(x=>KRe(x,h.name,`${c}`),[c,h.name]),b=f.useCallback(x=>{const w=ZU(x,`${c}`,d());return gf(w)?p(w)?{isValid:!0,date:w}:{isValid:!1,error:m}:{isValid:!1,error:`Invalid date. Must be in the format "${c}"`}},[p,m,d,c]);return u.jsx(uTn,{...i,onChange:y,ref:t,selectTime:!0,timeStep:g,title:a,description:o,placeholder:s,serialize:dOe,deserialize:fTn,formatInputValue:v,customValidation:p,parseInputValue:b})}),mTn=e=>{const{onChange:t,value:n}=e,{getCurrentZoneDate:r}=oo(),[i,a]=f.useState();return u.jsx(ne,{space:4,children:u.jsx(ie,{children:u.jsx(pTn,{level:0,markers:[],onChange:o=>{o&&t&&(t({date:o}),a(o))},type:{name:"date",options:{customValidation:o=>o>r(),customValidationMessage:"Date cannot be in the past."},title:"Date and time"},value:i===void 0?n==null?void 0:n.date:i})})})};function fOe(e){const{onChange:t,value:n}=e;return u.jsxs(ne,{space:4,children:[e.children,u.jsx(mTn,{onChange:t,value:n})]})}const hOe=e=>{const{title:t}=e;return u.jsx(JRe,{children:u.jsxs(z,{align:"center",children:[t,u.jsx("input",{style:{opacity:0,position:"absolute",width:0},tabIndex:-1,type:"button"}),u.jsx(L,{marginLeft:2,style:{marginTop:"-1em",marginBottom:"-1em"},children:u.jsx(XRe,{useElementQueries:!0})})]})})},gTn=e=>{const{onClose:t,schedule:n}=e,{updateSchedule:r}=Ck(),{formData:i,isDirty:a,onFormChange:o}=cOe(n),s=f.useCallback(()=>{i!=null&&i.date&&r({date:i.date,scheduleId:n.id}).then(t)},[n.id,r,t,i==null?void 0:i.date]);return u.jsx(Ri,{footer:{confirmButton:{text:"Update",disabled:!a,onClick:s}},header:u.jsx(hOe,{title:"Edit schedule"}),id:"time-zone",onClose:t,width:1,children:u.jsx(fOe,{onChange:o,value:i})})};function pOe(e){const{visible:t,show:n,hide:r}=ZRe();return{DialogScheduleEdit:t?gTn:null,dialogProps:{onClose:r,schedule:e,visible:t},dialogScheduleEditShow:n,hide:r}}const yTn=[];function Ql({currentUser:e,context:t}){const{t:n}=q(),r=j0({style:"short",type:"unit"}),i=(e==null?void 0:e.roles)||yTn,a=f.useCallback(()=>u.jsx(u.Fragment,{children:r.formatToParts(i.map(o=>o.title||Vn(o.name))).map((o,s)=>o.type==="element"?u.jsx("code",{children:o.value},`${o.value}-${s}`):u.jsx(f.Fragment,{children:o.value},`${o.value}-${s}`))}),[i,r]);return u.jsxs(L,{children:[u.jsxs(Rn,{space:2,children:[u.jsx(N,{size:0,children:u.jsx(sf,{})}),u.jsx(N,{size:1,weight:"medium",children:n("insufficient-permissions-message.title")})]}),u.jsx(Rn,{marginTop:4,children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:n,context:t})})}),u.jsx(Rn,{marginTop:4,marginBottom:1,children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"insufficient-permissions-message.roles",t:n,components:{Roles:a}})})})]})}const B5=e=>{const{currentUser:t,hasPermission:n,icon:r,onClick:i,permissionsOperationLabel:a,title:o,tone:s,disabled:l}=e;return u.jsx(bt,{content:u.jsx(L,{paddingX:2,paddingY:1,children:u.jsx(Ql,{currentUser:t,context:a})}),disabled:n,placement:"left",portal:!0,children:u.jsx("div",{children:u.jsx(He,{disabled:!n||l,icon:r,onClick:i,text:o,tone:s})})})},vTn=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a}=e,{mode:o}=$0(),s=QR(i),l=tr(),[c,d]=ld({id:s.documentId,type:a==null?void 0:a.name,permission:"publish"}),{deleteSchedule:h,publishSchedule:p}=Ck(),m=!d&&!(c!=null&&c.granted),g=()=>{r==null||r()},y=()=>{h({schedule:i}).then(()=>n==null?void 0:n())},v=()=>{p({schedule:i})};return l?u.jsxs(u.Fragment,{children:[(t==null?void 0:t.edit)&&u.jsx(B5,{currentUser:l,hasPermission:!m,icon:Fa,onClick:g,permissionsOperationLabel:"edit-schedules",title:"Edit schedule",disabled:o==="upsell"}),(t==null?void 0:t.execute)&&u.jsx(B5,{currentUser:l,hasPermission:!m,icon:Hm,onClick:v,permissionsOperationLabel:"execute-schedules",title:"Publish now",disabled:o==="upsell"}),(t==null?void 0:t.delete)&&u.jsx(B5,{currentUser:l,hasPermission:!m,icon:Jr,onClick:y,permissionsOperationLabel:"delete-schedules",title:"Delete schedule",tone:"critical",disabled:o==="upsell"}),(t==null?void 0:t.clear)&&u.jsx(B5,{currentUser:l,hasPermission:!m,icon:Ap,onClick:y,permissionsOperationLabel:"delete-schedules",title:"Clear completed schedule",disabled:o==="upsell"})]}):null},mOe=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a}=e;return u.jsx(Gt,{button:u.jsx(Si,{}),id:"contextMenu",menu:u.jsx(Ot,{children:u.jsx(vTn,{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a})}),placement:"left",popover:{portal:!0,tone:"default"}})},gOe={validation:[],isValidating:!1};function bTn(e=gOe.validation){const t=e.filter(P7).length>0,n=e.filter(Wfe).length>0;let r="default";return n&&(r="default"),t&&(r="critical"),{markers:e,validationTone:r,hasError:t,hasWarning:n}}function eO(e){return f.useMemo(()=>bTn(e),[e])}const xTn={validation:[],isValidating:!1};function Vb(e,t){const n=dl(),r=f.useMemo(()=>n.pair.validation(e,t),[t,n.pair,e]);return ti(r,xTn)}const wTn=1500;function CTn({schedule:e,updateValidation:t}){const n=uOe(e),r=lOe(e);return!r||!(n!=null&&n.name)?null:u.jsx(STn,{id:r,schemaName:n.name,updateValidation:t})}function STn({id:e,schemaName:t,updateValidation:n}){const[r,i]=f.useState(!1);return f.useEffect(()=>{const a=setTimeout(()=>{i(!0)},wTn);return()=>{clearTimeout(a)}},[]),r?u.jsx(ETn,{id:e,schemaName:t,updateValidation:n}):null}function ETn({id:e,schemaName:t,updateValidation:n}){const r=Vb(e,t);return f.useEffect(()=>{r.isValidating||n(r)},[n,r]),null}function tO(e){return f.useMemo(()=>e?e.replaceAll("drafts.",""):void 0,[e])}const Bce=$(N)`
  white-space: initial;
`,kTn={error:"critical",warning:"caution",info:"primary"};function dF(e){var c;const{marker:t,onClick:n,path:r,truncate:i}=e,a=f.useCallback(()=>{n&&n(t.path)},[t.path,n]),o=kTn[t==null?void 0:t.level]||void 0,s=t.message??((c=t.item)==null?void 0:c.message),l=u.jsxs(z,{children:[u.jsx(L,{children:u.jsxs(N,{size:1,children:[t.level==="error"&&u.jsx(Ta,{}),t.level==="warning"&&u.jsx(gr,{}),t.level==="info"&&u.jsx(Df,{})]})}),u.jsxs(ne,{space:2,flex:1,paddingLeft:3,children:[r&&u.jsx(Bce,{size:1,weight:"semibold",children:r}),s&&u.jsx(Bce,{muted:!0,size:1,textOverflow:i?"ellipsis":void 0,children:s})]})]});return u.jsx(u0,{padding:1,onClick:a,radius:2,tone:o,children:u.jsx(L,{padding:2,children:l})})}function _Tn(e){const{documentType:t,kind:n,validation:r,onFocus:i,onClose:a,truncate:o}=e,s=r.filter(P7),l=r.filter(Wfe),c=r.filter(sFe),d=f.useCallback((y=[])=>{i&&i(y),a&&a()},[i,a]),h=y=>{const v=t&&t.fields,b=v&&v.find(x=>x.name===y[0]);return b&&b.type.title||""},p=s.length>0,m=l.length>0,g=c.length>0;return!p&&!m&&!g?null:u.jsxs(ui,{width:0,"data-kind":n,"data-testid":"validation-list",children:[p&&s.map((y,v)=>u.jsx(dF,{truncate:o,path:h(y.path),marker:y,onClick:d},v)),m&&l.map((y,v)=>u.jsx(dF,{truncate:o,path:h(y.path),marker:y,onClick:d},v)),g&&c.map((y,v)=>u.jsx(dF,{truncate:o,path:h(y.path),marker:y,onClick:d},v))]})}const TTn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0,placement:"bottom-end"};function yOe(e){const{type:t,markers:n,menuHeader:r,documentId:i}=e,a=ts(),{hasError:o,hasWarning:s}=eO(n),l=o||s?"visible":"hidden",c=f.useId()||"",d=tO(i),h=f.useCallback(p=>{d&&a.navigateIntent("edit",{id:d,path:encodeURIComponent(Zt(p))})},[a,d]);return u.jsx(Gt,{id:c||"",button:u.jsx(he,{tooltipProps:{content:"Show validation issues"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:o?Ta:gr,style:{visibility:l},tone:o?"critical":"default"}),menu:u.jsx(Ot,{padding:1,children:u.jsx(ui,{width:0,children:u.jsxs(ne,{space:1,children:[r??null,u.jsx(_Tn,{documentType:t,validation:n,onFocus:h})]})})}),popover:TTn})}const ATn=e=>{const{date:t,useElementQueries:n}=e,{formatDateTz:r}=oo(),i=Djt(t,new Date,{addSuffix:!0}),a=r({date:t,format:Cy.LARGE}),o=r({date:t,format:Cy.MEDIUM}),s=r({date:t,format:Cy.SMALL});return u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(bt,{content:i,portal:!0,children:u.jsx("span",{children:n?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"date-small",children:s}),u.jsx("span",{className:"date-medium",children:o}),u.jsx("span",{className:"date-large",children:a})]}):a})})})},jTn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0},Vce=e=>{const{stateReason:t}=e;return u.jsx(Gt,{id:"stateReason",button:u.jsx(he,{tooltipProps:{content:"Schedule failed"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:Ta,tone:"critical"}),menu:u.jsx(Ot,{padding:1,children:u.jsxs(ui,{padding:2,width:0,children:[u.jsx(N,{size:1,children:q2n}),u.jsxs(z,{gap:3,marginTop:4,padding:1,children:[u.jsx(N,{size:1,style:{color:hg[700].hex},children:u.jsx(Ta,{})}),u.jsx(N,{size:1,style:{color:hg[700].hex},weight:"medium",children:t})]})]})}),popover:jTn})},ITn=e=>{const{id:t}=e;return u.jsx(nl,{user:t,withTooltip:!0})},DTn=$(L)`
  width: 9px;
`,vY=e=>{const{children:t,contextMenu:n,linkComponent:r,onClick:i,previewState:a,publishedDocumentId:o,schedule:s,schemaType:l,useElementQueries:c}=e,{mode:d}=$0(),[h,p]=f.useState(gOe),{validation:m}=h,{hasError:g,validationTone:y}=eO(m),{formatDateTz:v}=oo(),b=Zg(s),x=b?new Date(b):null;return u.jsx(ie,{padding:1,radius:2,shadow:1,tone:y,style:d==="upsell"&&s.state==="scheduled"?{opacity:.7}:void 0,children:u.jsxs(z,{align:"center",gap:1,justify:"space-between",children:[u.jsx(bt,{delay:{open:400},placement:"bottom-end",content:u.jsx(Sv,{draft:a==null?void 0:a.draft,published:a==null?void 0:a.published}),disabled:!(a!=null&&a.draft)&&!(a!=null&&a.published),children:u.jsx(ie,{__unstable_focusRing:!0,as:r||void 0,"data-as":i||r?"a":void 0,flex:1,onClick:i,padding:1,radius:2,tabIndex:0,tone:y,children:u.jsxs(z,{align:"center",gap:3,justify:"flex-start",paddingLeft:t?0:[1,2],children:[t&&u.jsx(L,{style:{flexBasis:"auto",flexGrow:1},children:t}),s.action==="unpublish"&&u.jsx(z,{style:{flexShrink:0},children:u.jsx(ao,{fontSize:0,mode:"outline",tone:Uj[s.action].badgeTone,children:s.action})}),u.jsx(L,{display:["block","none"],style:{flexShrink:0,width:"90px"},children:u.jsx(ne,{space:2,children:x?u.jsxs(u.Fragment,{children:[u.jsx(N,{size:1,children:v({date:x,format:"dd/MM/yyyy"})}),u.jsx(N,{size:1,children:v({date:x,format:"p"})})]}):u.jsx(N,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})})}),u.jsx(L,{display:["none","block"],style:{flexShrink:0,maxWidth:"250px",width:t?"35%":"auto"},children:x?u.jsx(ATn,{date:x,useElementQueries:c}):u.jsx(N,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})}),!t&&u.jsx(L,{style:{visibility:"hidden"},children:u.jsx(ro,{isPlaceholder:!0})}),u.jsxs(z,{align:"center",style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(L,{display:["none","none","block"],marginX:3,style:{flexShrink:0},children:u.jsx(ITn,{id:s==null?void 0:s.author})}),u.jsx(L,{display:["none","block"],marginX:[2,2,3],style:{flexShrink:0},children:a!=null&&a.draft||a!=null&&a.published?u.jsx(Ib,{draft:a==null?void 0:a.draft,published:a==null?void 0:a.published}):u.jsx(DTn,{})})]})]})})}),u.jsxs(z,{justify:"center",style:{width:"38px"},children:[s.state==="scheduled"&&u.jsxs(L,{children:[u.jsx(CTn,{schedule:s,updateValidation:p}),u.jsx(yOe,{markers:m,type:l,documentId:o,menuHeader:u.jsx(L,{padding:2,children:u.jsx(N,{size:1,children:g?hY:Y2n})})})]}),s.state==="cancelled"&&u.jsx(Vce,{stateReason:s.stateReason})]}),s.state==="cancelled"&&u.jsx(Vce,{stateReason:s.stateReason}),n&&u.jsx(L,{style:{flexShrink:0},paddingRight:2,children:n})]})})},MTn=e=>{const{schedule:t,schemaType:n}=e,{DialogScheduleEdit:r,dialogProps:i,dialogScheduleEditShow:a}=pOe(t),{onComplete:o}=H_n(),s=f.useMemo(()=>lOe(t),[t]);return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(vY,{contextMenu:u.jsx(mOe,{actions:{delete:!0,edit:!0},onDelete:o,onEdit:a,schedule:t,schemaType:n}),onClick:a,publishedDocumentId:s,schedule:t,schemaType:n})]})},RTn=e=>{const{onDelete:t,schedule:n}=e,{deleteSchedule:r}=Ck();return u.jsx(Gt,{button:u.jsx(Si,{}),id:"contextMenu",menu:u.jsx(Ot,{children:u.jsx(He,{icon:Jr,onClick:()=>{r({schedule:n}).then(()=>t==null?void 0:t())},text:"Delete schedule",tone:"critical"})}),placement:"left",popover:{portal:!0,tone:"default"}})},OTn=({schedule:e})=>u.jsx(vY,{contextMenu:u.jsx(RTn,{schedule:e}),schedule:e,useElementQueries:!0,children:u.jsx(ro,{icon:Fl,layout:"default",subtitle:u.jsx("em",{children:"It may have been deleted"}),title:u.jsx("em",{style:{color:hg[600].hex},children:"Document not found"})})}),$Tn=e=>{const{previewState:t,schedule:n,schemaType:r}=e,i=t.draft||t.published,a=n.state==="succeeded",o=n.state==="scheduled",{DialogScheduleEdit:s,dialogProps:l,dialogScheduleEditShow:c}=pOe(n),d=tO(i==null?void 0:i._id),h=f.useMemo(()=>{const p=f.forwardRef((m,g)=>u.jsx(su,{...m,intent:"edit",params:{type:r.name,id:i&&pn(i==null?void 0:i._id)},ref:g}));return p.displayName="ForwardRef(LinkComponent)",p},[r,i]);return u.jsxs(u.Fragment,{children:[s&&u.jsx(s,{...l}),u.jsx(vY,{contextMenu:u.jsx(mOe,{actions:{clear:a,delete:!a,edit:o,execute:o},onEdit:c,schedule:n,schemaType:r}),linkComponent:h,previewState:t,publishedDocumentId:d,schedule:n,schemaType:r,useElementQueries:!0,children:t.isLoading?u.jsx(ro,{icon:r==null?void 0:r.icon,isPlaceholder:t.isLoading,layout:"default"}):u.jsx(Db,{layout:"default",schemaType:r,value:i})})]})},vOe=e=>{const{schedule:t,type:n}=e,r=QR(t),i=uOe(t),a=B_n(r==null?void 0:r.documentId,i),o=!(a.draft||a.published)&&!a.isLoading,s=f.useMemo(()=>!i||o?u.jsx(OTn,{schedule:t}):n==="document"?u.jsx(MTn,{schedule:t,schemaType:i}):n==="tool"?u.jsx($Tn,{previewState:a,schedule:t,schemaType:i}):null,[o,n,a,t,i]);return u.jsx(z_n,{children:s})},PTn=200;function FTn(e){const{item:{content:t,virtualRow:n},measureElement:r}=e,i=f.useMemo(()=>({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${n.start}px)`}),[n]);return u.jsx(L,{"data-index":n.index,paddingBottom:2,ref:r,style:i,children:typeof t=="string"?u.jsx(LTn,{content:t}):u.jsx(NTn,{schedule:t})},n.key)}function NTn({schedule:e}){const[t,n]=f.useState(u.jsx(BTn,{}));return f.useEffect(()=>{let r=!0;const i=setTimeout(()=>{r&&n(u.jsx(vOe,{schedule:e,type:"tool"}))},PTn);return()=>{r=!1,clearTimeout(i)}},[e]),t}function LTn({content:e}){return u.jsx(z,{align:"flex-end",paddingBottom:2,paddingTop:4,children:u.jsx(Uv,{muted:!0,size:1,children:e})})}function BTn(){return u.jsx(ie,{padding:1,radius:2,shadow:1,children:u.jsx(ie,{padding:1,children:u.jsx(ro,{isPlaceholder:!0})})})}function zce(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}const VTn=()=>{const{activeSchedules:e,scheduleState:t,sortBy:n}=Sk(),{measureElement:r,virtualList:i,totalSize:a,containerRef:o}=zTn(e,n),{deleteSchedules:s}=Ck(),l=()=>{s({schedules:e||[]})};return f.useEffect(()=>{var c;(c=o==null?void 0:o.current)==null||c.scrollTo(0,0)},[t,n,o]),u.jsxs(L,{paddingBottom:6,paddingTop:1,paddingX:4,ref:o,style:{position:"relative",overflowX:"hidden",overflowY:"auto",height:"100%",boxSizing:"border-box"},children:[u.jsx(L,{style:{height:`${a}px`,width:"100%",position:"relative"},children:i.map(c=>u.jsx(FTn,{item:c,measureElement:r},c.key))}),t==="succeeded"&&u.jsx(z,{justify:"center",marginTop:6,children:u.jsx(he,{icon:Ap,mode:"ghost",onClick:l,text:"Clear all completed schedules"})})]})};function zTn(e,t){const n=f.useRef(null),r=f.useMemo(()=>{const o=[];return e.forEach((s,l)=>{if(t=="executeAt"){const c=e[l-1],d=Zg(c),h=l>0&&d?zce(d):null,p=Zg(s),m=p?zce(p):null;m!==h&&o.push(m||"No date specified")}o.push(s)}),o},[e,t]),i=ez({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>50,overscan:5}),a=i.getVirtualItems().map(o=>{const s=r[o.index];return{content:s,key:typeof s=="string"?s:s.id,virtualRow:o}});return{containerRef:n,measureElement:i.measureElement,totalSize:i.getTotalSize(),virtualList:a}}const Uce=$(ui)`
  width: auto;
`,UTn=()=>{const{activeSchedules:e,selectedDate:t,scheduleState:n}=Sk(),{upsellData:r,telemetryLogs:i}=sOe(),{mode:a}=$0(),o=a==="upsell"&&n==="scheduled";return u.jsxs(L,{style:{height:"100%"},children:[a==="upsell"&&r&&u.jsx(Uce,{width:1,padding:4,paddingBottom:1,children:u.jsx(yY,{layout:"horizontal",data:r,onPrimaryClick:i.panelPrimaryClicked,onSecondaryClick:i.panelSecondaryClicked})}),e.length===0?u.jsx(Uce,{width:1,padding:4,paddingTop:4,children:u.jsx(F_n,{scheduleState:n,selectedDate:t})}):u.jsxs(u.Fragment,{children:[o&&u.jsx(ie,{margin:4,marginBottom:2,padding:3,tone:"caution",radius:3,shadow:1,children:u.jsxs(z,{gap:3,align:"center",children:[u.jsx(N,{size:1,children:u.jsx(gr,{})}),u.jsx(N,{size:1,children:"Your scheduled documents won't be published automatically unless you upgrade your plan. You can still publish them manually."})]})}),u.jsx(L,{paddingTop:o?0:4,children:u.jsx(VTn,{})})]})]})},HTn=()=>{const{setSortBy:e,sortBy:t}=Sk();return u.jsx(Gt,{button:u.jsx(Si,{}),id:"sort",menu:u.jsxs(Ot,{style:{minWidth:"250px"},children:[u.jsx(He,{icon:Oy,iconRight:t==="createdAt"?_a:void 0,onClick:()=>e("createdAt"),text:"Sort by time added"}),u.jsx(He,{icon:Oy,iconRight:t==="executeAt"?_a:void 0,onClick:()=>e("executeAt"),text:"Sort by time scheduled"})]})})},fF=e=>{const{mode:t="default",selected:n}=e;return u.jsx(L,{style:{...t==="default"?{background:kw[n?100:300].hex}:{},...t==="failed"?{background:hg[500].hex}:{},borderRadius:"2px",height:"2px",width:"100%"}})};function WTn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:a,selected:o}=e,{schedulesByDate:s}=Sk(),l=s(t),c=f.useCallback(()=>{a(o?void 0:t)},[t,a,o]);let d;i||o?d="primary":(uAt(t),d="default");const h=l.length>0,{completed:p,failed:m,upcoming:g}=f.useMemo(()=>({completed:l.filter(y=>y.state==="succeeded"),failed:l.filter(y=>y.state==="cancelled"),upcoming:l.filter(y=>y.state==="scheduled")}),[l]);return u.jsx("div",{"aria-selected":o,"data-ui":"CalendarDay",children:u.jsx(bt,{content:u.jsx(GTn,{date:t,schedules:l}),disabled:!h,portal:!0,children:u.jsxs(ie,{"aria-label":t.toDateString(),"aria-pressed":o,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:c,paddingX:3,paddingY:4,radius:2,selected:o,style:{position:"relative"},tone:d,children:[u.jsx(N,{size:1,style:{opacity:!o&&!r?.35:1,textAlign:"center"},children:o?u.jsx(Nr,{}):t.getDate()}),u.jsx(L,{style:{bottom:2,left:2,position:"absolute",right:2},children:u.jsxs(z,{align:"center",gap:1,justify:"center",children:[p.length>0&&u.jsx(fF,{selected:o}),g.length>0&&u.jsx(fF,{selected:o}),m.length>0&&u.jsx(fF,{mode:"failed",selected:o})]})})]})})})}function GTn(e){const{date:t,schedules:n=[]}=e,{formatDateTz:r}=oo(),i=n.reduce((a,o)=>(a[o.state].push(o),a),{cancelled:[],succeeded:[],scheduled:[]});return u.jsxs(L,{padding:3,children:[u.jsx(L,{marginBottom:4,children:u.jsx(N,{size:1,weight:"medium",children:_c(t,"d MMMM yyyy")})}),u.jsx(ne,{space:3,children:Object.keys(i).map(a=>{const o=i[a];return o.length===0?null:u.jsxs(ne,{space:2,children:[u.jsx(Uv,{muted:!0,size:0,children:ES[a].title}),u.jsx(ne,{space:1,children:o.filter(s=>s.executeAt).map(s=>{const l=Zg(s);return l?u.jsxs(Rn,{space:2,children:[u.jsx(L,{style:{width:"60px"},children:u.jsx(N,{size:1,weight:"regular",children:r({date:new Date(l),format:"p"})})}),u.jsx(z,{align:"center",style:{flexShrink:0,opacity:s.action==="unpublish"?1:0},children:u.jsx(ao,{fontSize:0,mode:"outline",tone:Uj[s.action].badgeTone,children:s.action})})]},s.id):null})})]},a)})})]})}const YTn=["January","February","March","April","May","June","July","August","September","October","November","December"],qTn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],KTn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZTn=[1,2,3,4,5,6],XTn=e=>{const t=vM(e);return yM({start:t,end:xM(t)})},JTn=e=>e.map(t=>[t,...ZTn.map(n=>Yr(t,n))]),QTn=e=>JTn(XTn(e)).map(t=>({number:bM(t[0]),days:t}));function eAn(e){const{getCurrentZoneDate:t}=oo();return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Gn,{style:{gridGap:"1px",gridTemplateColumns:"repeat(7, 1fr)"},children:[qTn.map(n=>u.jsx(ie,{paddingY:3,children:u.jsx(Uv,{size:1,style:{textAlign:"center"},children:n.slice(0,1)})},n)),QTn(e.date).map((n,r)=>n.days.map((i,a)=>{const o=e.focused&&Co(i,e.focused),s=e.selected&&Co(i,e.selected),l=Co(i,t()),c=e.focused&&wM(i,e.focused);return u.jsx(WTn,{date:i,focused:o,isCurrentMonth:c,isToday:l,onSelect:e.onSelect,selected:s},`${r}-${a}`)}))]})})}const tAn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),nAn=f.forwardRef(function(e,t){const{focusedDate:n,onFocusedDateChange:r,onSelect:i,selectedDate:a,...o}=e,{zoneDateToUtc:s}=oo(),l=f.useCallback(b=>r(s(b)),[r,s]),c=f.useCallback(b=>l(NE(n,b)),[n,l]),d=f.useCallback(b=>{if(b){const x=s(Qd(ag(b,b.getHours()),b.getMinutes()));i(x),r(x)}else i(void 0)},[i,s,r]),h=f.useRef(null);f.useImperativeHandle(t,()=>h.current);const p=f.useCallback(()=>{var b,x;(x=(b=h.current)==null?void 0:b.querySelector('[data-focused="true"]'))==null||x.focus()},[h]),m=f.useCallback(b=>{var x,w;if(KTn.includes(b.key)){if(b.preventDefault(),b.currentTarget.hasAttribute("data-calendar-grid")){p();return}b.key==="ArrowUp"&&r(s(Yr(n,-7))),b.key==="ArrowDown"&&r(s(Yr(n,7))),b.key==="ArrowLeft"&&r(s(Yr(n,-1))),b.key==="ArrowRight"&&r(s(Yr(n,1))),(w=(x=h.current)==null?void 0:x.querySelector("[data-preserve-focus]"))==null||w.focus()}},[h,p,r,n,s]);f.useEffect(()=>{p()},[p]),f.useEffect(()=>{var b;(b=document.activeElement)!=null&&b.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&p()},[h,p,n]);const g=f.useCallback(()=>{const b=new Date;i(b),r(b)},[i,r]),y=f.useCallback(()=>c(-1),[c]),v=f.useCallback(()=>c(1),[c]);return u.jsxs(L,{"data-ui":"Calendar",...o,ref:h,children:[u.jsx(z,{align:"center",paddingLeft:4,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${WRe}px`,position:"sticky",top:0},children:u.jsxs(z,{align:"center",flex:1,justify:"space-between",children:[u.jsxs(N,{weight:"medium",size:1,children:[YTn[n==null?void 0:n.getMonth()]," ",n==null?void 0:n.getFullYear()]}),u.jsx(z,{paddingRight:3,gap:2,children:u.jsxs(Ja,{children:[u.jsx(he,{icon:If,mode:"bleed",onClick:y,tooltipProps:{content:"Previous month"}}),u.jsx(he,{icon:io,mode:"bleed",onClick:v,tooltipProps:{content:"Next month"}})]})})]})}),u.jsx(L,{children:u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:m,overflow:"hidden",paddingBottom:1,paddingX:1,tabIndex:0,children:[u.jsx(eAn,{date:n,focused:n,onSelect:d,selected:a}),tAn]})}),u.jsx(L,{flex:1,style:{borderBottom:"1px solid var(--card-border-color)"},children:u.jsx(he,{mode:"bleed",onClick:g,width:"fill",text:"Today"})})]})}),rAn=e=>{const{onSelect:t,selectedDate:n}=e,{getCurrentZoneDate:r,utcToCurrentZoneDate:i}=oo(),[a,o]=f.useState(n||r()),s=f.useCallback(l=>{o(i(l))},[i]);return u.jsx(nAn,{focusedDate:a,onFocusedDateChange:s,onSelect:t,selectedDate:n})},Hce=$(L)`
  flex-direction: column;
  &:not(:last-child) {
    border-right: 1px solid var(--card-border-color);
  }
`,iAn=[],Wce="yyyy-MM-dd";function aAn(){const e=ts(),{sanity:t}=zv(),{error:n,isInitialLoading:r,schedules:i=iAn}=JR(),a=f.useRef(),o=e.state.state,s=e.state.date?ZU(e.state.date,Wce,new Date):void 0;f.useEffect(()=>{e.state.state&&(a.current=e.state.state)},[e.state.state]),oAn(e,o,s);const{formatDateTz:l}=oo(),c=f.useMemo(()=>({schedules:i,scheduleState:o,selectedDate:s}),[i,o,s]),d=()=>{e.navigate({state:(a==null?void 0:a.current)||kS[0]})};return u.jsx(A_n,{value:c,children:u.jsx(z,{direction:"column",height:"fill",flex:1,overflow:"hidden",children:u.jsxs(z,{flex:1,height:"fill",children:[u.jsx(Hce,{display:["none",null,null,"flex"],style:{position:"sticky",top:0,width:"350px"},children:u.jsx(rAn,{onSelect:h=>{h?e.navigate({date:l({date:h,format:Wce})}):e.navigate({state:(a==null?void 0:a.current)||kS[0]})},selectedDate:s})}),u.jsxs(Hce,{display:"flex",flex:1,overflow:"hidden",children:[u.jsx(JRe,{style:{background:t.color.card.enabled.bg,position:"sticky",top:0,zIndex:1},children:u.jsx(z,{align:"center",paddingLeft:4,paddingRight:3,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${WRe}px`},children:u.jsxs(z,{align:"center",flex:1,justify:"space-between",children:[u.jsx(I_n,{onClearDate:d,selectedDate:s}),u.jsxs(z,{align:"center",gap:1,children:[u.jsx(XRe,{useElementQueries:!0}),u.jsx(HTn,{})]})]})})}),u.jsxs(z,{direction:"column",flex:1,children:[n&&u.jsx(L,{paddingTop:4,paddingX:4,children:u.jsx(GRe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."})}),u.jsx(L,{flex:1,children:r?u.jsx(L,{padding:4,children:u.jsx(N,{muted:!0,children:"Loading..."})}):u.jsx(UTn,{})})]})]})]})})})}function oAn(e,t,n){f.useEffect(()=>{!t&&!n&&e.navigate({state:kS[0]},{replace:!0})},[n,e,t])}const sAn=e=>{const{buttonText:t="Action",disabled:n,icon:r,onAction:i,onComplete:a,tone:o="positive"}=e;return u.jsxs(z,{width:"full",gap:3,justify:"flex-end",children:[u.jsx(he,{mode:"bleed",onClick:a,text:"Cancel"}),i&&u.jsx(he,{disabled:n,icon:r,onClick:i,text:t,tone:o})]})};function lAn({id:e,schemaType:t}){return u.jsxs(ne,{space:4,children:[u.jsxs(N,{size:1,children:["Schedule this document to be published at any time in the future.",u.jsx("br",{}),"Any edits in the meantime will be added to the scheduled document."]}),u.jsx(N,{size:1,children:"Visit the Schedules page to get an overview of all schedules."}),u.jsx(uAn,{id:e,type:t})]})}function uAn({id:e,type:t}){const n=tO(e),r=V_n(t),i=Vb(n,t),{hasError:a}=eO(i.validation);return a?u.jsx(ie,{padding:2,radius:1,shadow:1,tone:"critical",children:u.jsxs(z,{gap:1,align:"center",children:[u.jsx(yOe,{markers:i.validation,type:r,documentId:n}),u.jsx(N,{size:1,children:hY})]})}):null}const cAn=e=>{const{schedules:t}=e;return u.jsx(ne,{space:4,children:t.length===0?u.jsx(L,{children:u.jsx(N,{size:1,children:"No schedules"})}):u.jsx(ne,{space:2,children:t.map(n=>u.jsx(vOe,{schedule:n,type:"document"},n.id))})})},dAn=ZR("ScheduleAction"),Gce=e=>{const{draft:t,id:n,liveEdit:r,onComplete:i,published:a,type:o}=e,s=tr(),[l,c]=ld({id:n,type:o,permission:"publish"}),{createSchedule:d}=Ck(),{enabled:h,mode:p}=$0(),{handleOpenDialog:m}=sOe(),[g,y]=f.useState(!1),{formData:v,onFormChange:b}=cOe(),{error:x,isInitialLoading:w,schedules:C}=JR({documentId:n,state:"scheduled"});dAn("schedules",C);const S=C&&C.length>0,E=t!==null||a!==null,k=!c&&!(l!=null&&l.granted),_=f.useCallback(()=>{p==="upsell"?m("document_action"):y(!0)},[p,m]),T=f.useCallback(()=>{v!=null&&v.date&&d({date:v.date,documentId:n}).then(i)},[i,d,n,v==null?void 0:v.date]),j=S?"Edit Schedule":"Schedule";if(k)return{disabled:!0,icon:Fa,label:j,title:u.jsx(Ql,{currentUser:s,context:"edit-schedules"})};let A="This document doesn't exist yet";E&&(A=null),w&&(A="Loading schedules"),r&&(A="Live Edit is enabled for this content type and publishing happens automatically as you make changes");const I={content:x?u.jsx(GRe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."}):u.jsx(U_n,{value:e,children:S?u.jsx(cAn,{schedules:C}):u.jsx(fOe,{onChange:b,value:v,children:u.jsx(lAn,{id:n,schemaType:o})})}),footer:!S&&u.jsx(sAn,{buttonText:"Schedule",disabled:!(v!=null&&v.date),icon:DI,onAction:T,onComplete:i,tone:"primary"}),header:u.jsx(hOe,{title:j}),onClose:i,type:"dialog"};return h?{dialog:g&&I,disabled:w||!E||r,label:j,icon:Fa,onHandle:_,title:A&&u.jsx(L,{style:{maxWidth:"315px"},children:A})}:null};function fAn(e){return e.findIndex(t=>t.action==="publish")<0?[Gce,...e]:e.flatMap(t=>t.action==="publish"?[t,Gce]:t)}const hAn=ZR("ScheduledBadge"),pAn=e=>{const{schedules:t}=JR({documentId:e.id,state:"scheduled"});hAn("schedules",t);const n=t==null?void 0:t[0];if(!n||!n.executeAt)return null;const r=_c(new Date(n.executeAt),Cy.LARGE);return{color:Uj[n.action].badgeColor,label:"Scheduled",title:`${Uj[n.action].actionName} on ${r} (local time)`}};function mAn(e){return[...e,pAn]}function gAn(e){const{id:t,markers:n}=e,r=tO(t),{hasError:i}=eO(n),{schedules:a}=JR({documentId:r,state:"scheduled"}),{mode:o}=$0();return a.length>0?u.jsxs(L,{marginBottom:4,children:[o==="upsell"&&u.jsx(ie,{tone:"caution",padding:3,radius:3,shadow:1,marginBottom:3,children:u.jsxs(z,{align:"center",gap:3,padding:1,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(gr,{})}),u.jsx(N,{muted:!0,size:1,weight:"medium",children:"Scheduled publishing is not available on your current plan"})]})}),u.jsx(ie,{padding:3,radius:1,shadow:1,tone:i?"critical":"primary",style:o==="upsell"?{opacity:.7}:void 0,children:u.jsxs(ne,{space:2,children:[u.jsxs(z,{align:"center",gap:3,marginBottom:1,padding:1,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(Fa,{})}),u.jsxs(N,{muted:!0,size:1,children:[u.jsx("span",{style:{fontWeight:600},children:"Upcoming schedule"})," (local time)"]})]}),u.jsx(ne,{space:2,children:a.map(s=>{if(!s.executeAt)return null;const l=_c(new Date(s.executeAt),Cy.LARGE);return u.jsxs(Rn,{space:2,children:[u.jsx(N,{muted:!0,size:1,children:l}),u.jsx(z,{style:{opacity:s.action==="unpublish"?1:0},children:u.jsx(ao,{fontSize:0,mode:"outline",children:s.action})})]},s.id)})}),i&&u.jsx(L,{marginTop:3,children:u.jsx(N,{muted:!0,size:1,weight:"regular",children:hY})})]})})]}):null}function yAn(e){const{value:t,validation:n,children:r}=e,i=t,a=f.useMemo(()=>n.map(o=>({level:o.level,path:o.path,item:{message:o.message},message:o.message})),[n]);return u.jsxs(u.Fragment,{children:[i!=null&&i._id?u.jsx(gAn,{id:i._id,markers:a}):null,r]})}const vAn=e=>{const{schemaType:t}=e;return bOe(t).name==="document"?u.jsx(yAn,{...e,children:e.renderDefault(e)}):e.renderDefault(e)};function bOe(e){return e.type?bOe(e.type):e}function bAn(e){const{enabled:t,mode:n}=$0();return t?u.jsx(Kv,{condition:n==="upsell",wrapper:r=>u.jsx(O_n,{children:r}),children:e.renderDefault(e)}):e.renderDefault(e)}function xAn(e){return u.jsx(w_n,{children:u.jsx(bAn,{...e})})}const xOe="sanity/scheduled-publishing",wAn=Eb({name:xOe,document:{actions:e=>fAn(e),badges:e=>mAn(e)},form:{components:{input:vAn}},studio:{components:{layout:xAn}},tools:e=>[...e,{name:X2n,title:J2n,icon:Fa,component:aAn,router:ga.create("/",[ga.create("/state/:state"),ga.create("/date/:date")])}]}),Tr="tasks",CAn={locale:"en-US",namespace:Tr,resources:()=>Tf(()=>import("./resources2-39fa94b9.js"),[])};function SAn({children:e}){var a;const{enabled:t,isLoading:n}=Tk("sanityTasks"),r=(a=Vr().tasks)==null?void 0:a.enabled,i=f.useMemo(()=>!r||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"},[t,n,r]);return u.jsx(Lhe.Provider,{value:i,children:e})}function du(){return f.useContext(Lhe)}function EAn({children:e,isLastPane:t}){return u.jsx(bhe.Provider,{value:t,children:e})}function kAn(){return f.useContext(bhe)}function _An(e){const[t,n]=f.useState(null),r=P$e({documentValue:t,permission:"read"}),i=f.useMemo(()=>({mentionOptions:r,selectedDocument:t,setSelectedDocument:n}),[r,t,n]);return u.jsx(xhe.Provider,{value:i,children:e.children})}function kk(){const e=f.useContext(xhe);if(!e)throw new Error("useMentionUser must be used within a MentionUserProvider");return e}const TAn=ci({name:"Task Created",version:1,description:"A task is created"}),AAn=ci({name:"Task Status Changed",version:1,description:"Task status changed"}),jAn=ci({name:"Task Duplicated",version:1,description:"A task is duplicated"}),IAn=ci({name:"Task Removed",version:1,description:"A task is removed"}),DAn=ci({name:"Task Link Copied",version:1,description:"The link to a task is copied"}),MAn=ci({name:"Task Link Opened",version:1,description:"User visited the studio through a link with a task"}),wOe={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function RAn(e,t){switch(t.type){case"TOGGLE_TASKS_VIEW":return t.payload===!1?{...wOe,isOpen:t.payload}:{...e,isOpen:t.payload};case"CREATE_TASK":return{...e,viewMode:"create",selectedTask:Ka()};case"EDIT_TASK":return{...e,viewMode:"edit",selectedTask:t.payload.id};case"EDIT_DRAFT":return{...e,viewMode:"draft",selectedTask:t.payload.id};case"DUPLICATE_TASK":return{...e,viewMode:"duplicate",selectedTask:Ka(),duplicateTaskValues:t.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...e,viewMode:"list",activeTabId:t.payload};case"NAVIGATE_TO_LIST":return{...e,viewMode:"list"};default:return e}}const OAn=({children:e})=>{const[t,n]=f.useReducer(RAn,wOe),r=ts(),i=_r(),a=Qo(),o=f.useCallback(m=>{switch(m.type){case"list":n({type:"NAVIGATE_TO_LIST"});break;case"create":n({type:"CREATE_TASK"});break;case"edit":n({type:"EDIT_TASK",payload:{id:m.id}});break;case"duplicate":n({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:m.duplicateTaskValues}});break;case"draft":n({type:"EDIT_DRAFT",payload:{id:m.id}});break}},[]),s=f.useCallback(m=>{n({type:"SET_ACTIVE_TAB",payload:m})},[]),l=f.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!1})},[]),c=f.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!0})},[]),d=f.useCallback(()=>{const m=new URL(window.location.href);m.searchParams.set("sidebar","tasks"),m.searchParams.set("viewMode",t.viewMode),t.selectedTask&&m.searchParams.set("selectedTask",t.selectedTask),navigator.clipboard.writeText(m.toString()).then(()=>{i.push({closable:!0,status:"info",title:"Copied link to clipboard"}),a.log(DAn)}).catch(()=>{i.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})})},[t.selectedTask,t.viewMode,a,i]),h=new URLSearchParams(r.state._searchParams).toString();f.useEffect(()=>{if(h){const m=new URLSearchParams(h);if(m.get("sidebar")!=="tasks")return;n({type:"TOGGLE_TASKS_VIEW",payload:!0});const g=m.get("viewMode"),y=m.get("selectedTask");g==="edit"&&y&&(n({type:"EDIT_TASK",payload:{id:y}}),a.log(MAn))}},[h,a]);const p=f.useMemo(()=>({state:t,setViewMode:o,setActiveTab:s,handleCloseTasks:l,handleOpenTasks:c,handleCopyLinkToTask:d}),[l,d,c,s,o,t]);return u.jsx(Bhe.Provider,{value:p,children:e})};function fl(){return f.useContext(Bhe)||$An}const $An={state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null};function PAn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function FAn(e,t){switch(t.type){case"TASKS_SET":{const n=PAn(t.tasks);return{...e,tasks:n}}case"TASK_ADDED":{const n=t.payload,r=n,i={[n._id]:{...e.tasks[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};return{...e,tasks:{...e.tasks,...i}}}case"TASK_RECEIVED":{const n=t.payload;return{...e,tasks:{...e.tasks,[n._id]:n}}}case"TASK_DELETED":{const{[t.id]:n,...r}=e.tasks;return{...e,tasks:r}}case"TASK_UPDATED":{const n=t.payload,r=n._id,i={...e.tasks[r],...n};return{...e,tasks:{...e.tasks,[r]:i}}}default:return e}}const NAn={tasks:{}},LAn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},BAn="_createdAt",VAn="desc",zAn=['_type == "tasks.task"'],UAn=`{
  ...,
}`,HAn=`order(${BAn} ${VAn})`,Yce=`*[${zAn.join(" && ")}] ${UAn} | ${HAn}`;function WAn(e){const{client:t}=rO(),{documentId:n}=e,[r,i]=f.useReducer(FAn,NAn),[a,o]=f.useState(t!==null),[s,l]=f.useState(null),c=f.useMemo(()=>({documentId:n?pn(n):null}),[n]),d=f.useCallback(async()=>{if(!t){o(!1);return}try{const m=await t.fetch(Yce,c);i({type:"TASKS_SET",tasks:m}),o(!1)}catch(m){l(m)}},[t,c]),h=f.useCallback(async m=>{if(m.type==="welcome"&&(o(!0),await d(),o(!1)),m.type==="reconnect"&&o(!0),m.type==="mutation"){if(m.transition==="appear"){const g=m.result;g&&i({type:"TASK_RECEIVED",payload:g})}if(m.transition==="disappear"&&i({type:"TASK_DELETED",id:m.documentId}),m.transition==="update"){const g=m.result;g&&i({type:"TASK_UPDATED",payload:g})}}},[d]),p=f.useMemo(()=>t?t.observable.listen(Yce,c,LAn).pipe(kn(m=>(l(m),we(m)))):we(),[t,c]);return f.useEffect(()=>{const m=p.subscribe(h);return()=>{m==null||m.unsubscribe()}},[h,p]),{data:f.useMemo(()=>Object.values(r.tasks),[r.tasks]),dispatch:i,error:s,isLoading:a}}const GAn=[];function YAn(e){const{children:t}=e,[n,r]=f.useState(null),{data:i=GAn,isLoading:a}=WAn({}),o=f.useMemo(()=>t0(r,1e3),[]),s=f.useMemo(()=>({activeDocument:n,setActiveDocument:o,isLoading:a,data:i??[]}),[n,i,a,o]);return u.jsx(Nhe.Provider,{value:s,children:t})}function P0(){return f.useContext(Nhe)||{activeDocument:null,setActiveDocument:()=>null,data:[],isLoading:!1}}const rh="tasks",qce={interpolate:/{{([\s\S]+?)}}/g},Kce="www.sanity.io",qAn="2024-04-19";function KAn(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=Ek(),o=Qo(),s=Xt({apiVersion:qAn}),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(wv,{feature:rh,type:"modal"}),dialogPrimaryClicked:()=>o.log(xv,{feature:rh,type:"modal"}),panelViewed:g=>o.log(vv,{feature:rh,type:"inspector",source:g}),panelDismissed:()=>o.log(bv,{feature:rh,type:"inspector"}),panelPrimaryClicked:()=>o.log(xv,{feature:rh,type:"inspector"}),panelSecondaryClicked:()=>o.log(wv,{feature:rh,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(bv,{feature:rh,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/tasks"}).subscribe({next:y=>{if(y)try{const v=dv(y.ctaButton.url,qce);y.ctaButton.url=v({baseUrl:Kce,projectId:a});const b=dv(y.secondaryButton.url,qce);y.secondaryButton.url=b({baseUrl:Kce,projectId:a}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(vv,{feature:rh,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(Vhe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(fY,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function COe(){return f.useContext(Vhe)||ZAn}const ZAn={upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}};function SOe(){const{handleOpenTasks:e,setViewMode:t}=fl(),{enabled:n,mode:r}=du(),{handleOpenDialog:i}=COe(),a=f.useCallback(()=>{r==="upsell"?i("document_action"):(e(),t({type:"create"}))},[e,t,r,i]),{t:o}=q(Tr);return f.useMemo(()=>n?{icon:XS,label:o("actions.create.text"),title:o("actions.create.text"),group:["paneActions"],onHandle:a}:null,[n,a,o])}SOe.displayName="TaskCreateAction";function XAn(e){const{documentId:t,documentType:n}=e,r=kAn(),{setActiveDocument:i}=P0();return f.useEffect(()=>(t&&r&&n&&(i==null||i({documentId:pn(t),documentType:n})),()=>{r&&(i==null||i(null))}),[t,n,r,i]),null}function JAn(e){const{enabled:t}=du();return t?u.jsx(XAn,{...e}):null}function QAn(e){var r,i;const t=(r=e.value)==null?void 0:r._id,n=(i=e.value)==null?void 0:i._type;return u.jsxs(u.Fragment,{children:[u.jsx(JAn,{documentId:t,documentType:n}),e.renderDefault(e)]})}const ejn=$.div`
  position: relative;
  [data-ui='Badge'] {
    position: absolute;
    top: -2px;
    right: -2px;
  }
`;function tjn(){const{data:e,activeDocument:t}=P0(),{handleOpenTasks:n,setActiveTab:r}=fl(),i=s0(),a=f.useMemo(()=>t!=null&&t.documentId?e.filter(l=>{var c;return((c=l.target)==null?void 0:c.document._ref)===t.documentId&&l.status==="open"&&l.createdByUser}):[],[t,e]),o=f.useCallback(()=>{n(),r("document")},[n,r]),{t:s}=q(Tr);return a.length===0?null:i<3?u.jsxs(ejn,{children:[u.jsx(he,{mode:"bleed",icon:XS,size:"large",onClick:o,tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:a.length})}}),u.jsx(ao,{tone:"primary",fontSize:0,children:a.length})]}):u.jsx(he,{mode:"bleed",tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:a.length})},text:s("document.footer.open-tasks.text",{count:a.length}),onClick:o})}function EOe({documentId:e,documentType:t,dataset:n,projectId:r}){return{documentType:t,document:{_ref:pn(e),_type:"crossDatasetReference",_dataset:n,_projectId:r,_weak:!0}}}function Gj(e){if(!e)return[];const t=[];return e==null||e.forEach(n=>{Er(n)&&n.children.forEach(r=>{r._type==="mention"&&typeof r.userId=="string"&&!t.includes(r.userId)&&t.push(r.userId)})}),t}const kOe="2024-03-05",Cv=[{value:"open",title:"To Do",icon:u.jsx(mg,{})},{value:"closed",title:"Done",icon:u.jsx(Ap,{})}],njn=["title","status","assignedTo","dueBy","target","description"],rjn=2*60*1e3;function ijn(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push(n);continue}if(!njn.includes(n.field)){t.push(n);continue}if(r.author===n.author&&r.field===n.field){const i=new Date(r.timestamp),a=new Date(n.timestamp);if(Math.abs(i.getTime()-a.getTime())<=rjn){r.to=n.to,r.timestamp=n.timestamp;continue}}t.push(n)}return t}function ajn(e){const{_rev:t,...n}=e;return n}function ojn(e,t,n){let r=ajn(e);const i=[];let a=r;for(const l of t){const{timestamp:c,effects:d}=l,h=l.documentIDs[0],p=d[h];!p||!p.revert||(a=Tj(r,p.revert),n.forEach(m=>{(a==null?void 0:a[m])!==(r==null?void 0:r[m])&&i.push({field:m,from:a==null?void 0:a[m],to:r==null?void 0:r[m],timestamp:c,author:l.author})}),r=a)}const o=i.sort((l,c)=>l.timestamp.localeCompare(c.timestamp)),s=o.findIndex(l=>l.field==="createdByUser");return ijn(o.slice(s+1))}function sjn(e){const[t,n]=f.useState([]),r=Xt({apiVersion:kOe}),{dataset:i,token:a}=r.config(),o="tag=sanity.studio.tasks.history&effectFormat=mendoza&excludeContent=true&includeIdentifiedDocumentsOnly=true&reverse=true",s=pn((e==null?void 0:e._id)??""),l=r.getUrl(`/data/history/${i}/transactions/${s}?${o}`),c=f.useCallback(async d=>{try{if(!s)return;const h=[],p=(await jMe(l,a)).getReader();let m;for(;m=await p.read(),!m.done;){if("error"in m.value)throw new Error(m.value.error.description||m.value.error.type);h.push(m.value)}const g=["createdByUser","title","description","dueBy","assignedTo","status","target"],y=await ojn(d,[...h],g);n(y)}catch(h){console.error("Failed to fetch and parse activity log",h)}},[l,a,s]);return f.useEffect(()=>{c(e)},[c,e._rev]),{changes:t}}function bY(e){const{documentId:t,documentType:n}=e||{},r=tn().get(n),i=da(),a=f.useMemo(()=>!t||!r?we(null):Mb(i,r,t,""),[t,i,r]),o=ti(a),s=(o==null?void 0:o.isLoading)??!0,{published:l,draft:c}=o||{},d=(c==null?void 0:c.title)||(l==null?void 0:l.title),h=(c==null?void 0:c.subtitle)||(l==null?void 0:l.subtitle),p=(c==null?void 0:c.description)||(l==null?void 0:l.description),m=(c==null?void 0:c.media)||(l==null?void 0:l.media);return{isLoading:s,value:{title:d,subtitle:h,media:m,description:p}}}function _Oe(){const{client:e,createAddonDataset:t}=rO(),n=tr(),r=f.useCallback(async o=>{if(!n)throw new Error("No current user found. Unable to create task.");const s={...o,authorId:n.id,_type:"tasks.task"};if(!e)try{const l=await t();if(!l)throw new Error("No addon client found. Unable to create task.");return await l.create(s)}catch(l){throw l}try{return await e.create(s)}catch(l){throw l}},[e,t,n]),i=f.useCallback(async(o,s)=>{try{if(!e)throw new Error("No client. Unable to create task.");return await e.patch(o).set(s).commit()}catch(l){throw l}},[e]),a=f.useCallback(async o=>{try{if(!e)throw new Error("No client. Unable to create task.");await e.delete(o)}catch(s){throw s}},[e]);return f.useMemo(()=>({create:r,edit:i,remove:a}),[r,i,a])}function TOe({id:e,onError:t,onRemoved:n}){const[r,i]=f.useState("idle"),[a,o]=f.useState(!1),[s,l]=f.useState(null),c=_Oe(),d=f.useCallback(async()=>{try{i("loading"),await c.remove(e),n==null||n(),i("idle"),await new Promise(m=>setTimeout(m,300)),o(!1)}catch(m){t==null||t(m.message),l(m.message),i("error")}finally{i("idle")}},[e,c,t,n]),h=f.useCallback(()=>{o(!0)},[o]),p=f.useCallback(()=>{o(!1)},[o]);return{removeStatus:r,showDialog:a,error:s,handleRemove:d,handleOpenDialog:h,handleCloseDialog:p}}const ljn={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},ujn={minimal:!0,useTemporalPhrase:!0},xY=$.strong`
  font-weight: 600;
`,wY=$.span`
  white-space: nowrap;
`;function AOe(e){const t=new Date(e),n=Hl(ljn).format(t);return{timeAgo:Xg(t||"",ujn),formattedDate:n}}function jOe({userId:e}){const[t,n]=od(e);return n?u.jsx(ur,{style:{width:"15ch"}}):u.jsx(xY,{children:t==null?void 0:t.displayName})}const cjn={month:"short",day:"numeric"};function Zce({date:e}){const t=new Date(e),n=Hl(cjn).format(t);return u.jsx(xY,{children:u.jsx(wY,{children:n})})}const djn=$.span`
  > a {
    color: var(--card-fg-muted-color);
    text-decoration: underline;
    text-underline-offset: 1px;
    font-weight: 600;
  }
`;function fjn({target:e}){const t=tn(),n=e.document._ref,r=e.documentType,i=t.get(r),{isLoading:a,value:o}=bY({documentId:n,documentType:r});return a?u.jsx(ur,{style:{width:"15ch"}}):i?u.jsx(djn,{children:u.jsx(su,{intent:"edit",params:{id:n,type:r},children:o==null?void 0:o.title})}):null}function hjn(e){var t,n;switch(e.field){case"status":{const r=(t=Cv.find(i=>i.value===e.to))==null?void 0:t.title;return{text:"changed status to",icon:((n=Cv.find(i=>i.value===e.to))==null?void 0:n.icon)||u.jsx(mg,{}),changeTo:u.jsx(xY,{children:r})}}case"target":return e.to?{text:"set target content to",icon:u.jsx(Ss,{}),changeTo:u.jsx(fjn,{target:e.to})}:{text:"removed target content",icon:u.jsx(Ss,{}),changeTo:void 0};case"dueBy":return e.from?e.to?{text:"changed the due date to",icon:u.jsx(Fa,{}),changeTo:u.jsx(Zce,{date:e.to})}:{text:"removed the due date",icon:u.jsx(Fa,{}),changeTo:void 0}:{text:"set the due date to",icon:u.jsx(Fa,{}),changeTo:u.jsx(Zce,{date:e.to})};case"assignedTo":return e.to?{text:"assigned to",icon:u.jsx($y,{}),changeTo:u.jsx(jOe,{userId:e.to})}:{text:"unassigned this task",icon:u.jsx($y,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:u.jsx(Lc,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:u.jsx(Lc,{}),changeTo:void 0};default:return{text:"",icon:u.jsx(mg,{})}}}const pjn=f.memo(function(e){const{activity:t}=e,{formattedDate:n,timeAgo:r}=AOe(t.timestamp),{icon:i,text:a,changeTo:o}=hjn(t);return u.jsxs(z,{gap:1,children:[u.jsx(L,{marginTop:1,marginLeft:1,marginRight:3,children:u.jsx(L,{marginRight:1,children:u.jsx(N,{children:i})})}),u.jsxs(N,{muted:!0,size:1,children:[u.jsx(jOe,{userId:t.author})," ",a," ",o," "," ",u.jsx(bt,{content:n,placement:"top-end",children:u.jsx(wY,{children:u.jsx("time",{dateTime:n,children:r})})})]})]})},(e,t)=>e.activity.timestamp===t.activity.timestamp),Xce=$.div(e=>{var n,r;const t=Te(e.theme);return de`
      min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
      min-width: ${(r=t.avatar.sizes[e.$size])==null?void 0:r.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      ${e.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":""};
      ${e.$removeBg?"--card-avatar-gray-bg-color: transparent;":""}
    `}),mjn=$(qc)(e=>{var n,r;const t=Te(e.theme);return de`
    height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
    width: ${(r=t.avatar.sizes[e.$size])==null?void 0:r.size}px;
    border-radius: 50%;
  `});function zb(e){const{user:t,size:n=0,border:r=!0}=e,[i,a]=od((t==null?void 0:t.id)||"");return a?u.jsx(mjn,{$size:n,animated:!0}):!t||!i?u.jsx(Xce,{$size:n,$border:r,children:u.jsx(N,{size:n,children:u.jsx($y,{})})}):u.jsx(bt,{content:i.displayName,disabled:!e.withTooltip,portal:!0,fallbackPlacements:["top","top-start"],placement:"top-end",children:u.jsx(Xce,{$size:n,$removeBg:!!(i!=null&&i.imageUrl),children:u.jsx(nl,{user:i,size:n,...i!=null&&i.imageUrl?{color:void 0}:{},...e.withTooltip?{title:null}:{}})})})}const gjn=$(z)`
  height: 100%;
`,yjn=$.div`
  width: 100%;
`;function CY({avatarPaddingTop:e=1,userId:t,children:n}){return u.jsxs(z,{children:[u.jsx(L,{marginRight:3,paddingTop:e,children:u.jsx(zb,{user:{id:t},size:0})}),u.jsx(gjn,{align:"center",flex:1,children:u.jsx(yjn,{children:n})})]})}function vjn(e){const{mentionOptions:t,currentUser:n,onSubmit:r}=e,{mode:i}=du(),[a,o]=f.useState(null),s=f.useRef(null),l=f.useMemo(()=>O0(a),[a]),c=f.useCallback(y=>{o(y)},[]),d=f.useCallback(()=>{l&&(r(a),o(null))},[l,r,a]),h=f.useCallback(()=>{var y;(y=s.current)==null||y.discardDialogController.close()},[]),p=f.useCallback(()=>{var y;(y=s.current)==null||y.discardDialogController.close(),o(null)},[]),m=f.useCallback(y=>{var v,b;y.key==="Escape"&&(y.preventDefault(),y.stopPropagation(),l?(v=s.current)==null||v.discardDialogController.open():((b=s.current)==null||b.discardDialogController.close(),o(null)))},[l]),{t:g}=q(Tr);return u.jsx(CY,{userId:n.id,avatarPaddingTop:3,children:u.jsx(ie,{tone:"transparent",radius:3,padding:2,children:u.jsx(F0,{withAvatar:!1,currentUser:n,expandOnFocus:!0,mentionOptions:t,onChange:c,onDiscardConfirm:p,onDiscardCancel:h,onKeyDown:m,onSubmit:d,readOnly:i==="upsell",placeholder:g(i==="upsell"?"panel.comment.placeholder.upsell":"panel.comment.placeholder"),ref:s,value:a})})})}const bjn={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},xjn=$.div(e=>{const t=Te(e.theme);return de`
    [data-ui='CommentsListItem'] {
      padding-right: ${t.space[2]}px;
    }

    // Increase the padding when the comment input is focused
    [data-ui='CommentInputEditableWrap']:focus-within {
      padding-bottom: ${t.space[2]}px;
    }
  `});function wjn(e){const{parentComment:t}=e,{mode:n}=du();return u.jsx(CY,{userId:t.authorId,avatarPaddingTop:3,children:u.jsx(xjn,{children:u.jsx(e3e,{...e,avatarConfig:bjn,canReply:!0,isSelected:!1,mode:n??"default"})})})}const Cjn=$(ur)`
  max-width: 15ch;
  width: '100%';
`,Sjn=f.memo(function(e){const{createdAt:t,authorId:n}=e,[r,i]=od(n),{timeAgo:a,formattedDate:o}=AOe(t),{t:s}=q(Tr);return u.jsx(CY,{userId:n,children:u.jsx(z,{align:"center",paddingTop:1,children:u.jsxs(N,{size:1,muted:!0,children:[u.jsxs("strong",{style:{fontWeight:600},children:[i?u.jsx(Cjn,{}):(r==null?void 0:r.displayName)??s("panel.activity.unknown-user")," "]}),s("panel.activity.created-fragment")," "," ",u.jsx(bt,{content:o,placement:"top-end",children:u.jsx(wY,{children:u.jsx("time",{dateTime:t,children:a})})})]})})})},(e,t)=>e.createdAt===t.createdAt);function Ejn(e){var s,l;const{value:t,onChange:n,path:r,currentUserId:i}=e,a=(s=t.subscribers)!=null&&s.includes(i)?"Unsubscribe":"Subscribe",o=f.useCallback(()=>{const c=t.subscribers||[];c.includes(i)||n(ft(c.concat(i),r)),c.includes(i)&&n(ft(c.filter(d=>d!==i),r))},[t.subscribers,i,n,r]);return u.jsxs(z,{gap:1,align:"center",children:[u.jsx(he,{mode:"bleed",text:a,onClick:o}),t.subscribers&&((l=t.subscribers)==null?void 0:l.length)>0&&u.jsx(_jn,{subscriberIds:t.subscribers})]})}const kjn=[];function _jn(e){const{subscriberIds:t}=e,n=f.useMemo(()=>(t==null?void 0:t.filter(Boolean))||kjn,[t]);return u.jsx(sl,{initial:!1,children:u.jsx(yE,{maxLength:3,size:0,children:n.map(r=>u.jsx(Mi.div,{exit:{opacity:0,translateX:"2px",scale:.9},animate:{opacity:1,translateX:0,scale:1,transition:{type:"just",duration:.2}},initial:{opacity:0,translateX:"2px",scale:.9},children:u.jsx(zb,{user:{id:r},size:0})},r))})})}const hF=[],Tjn={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},Ajn=$(Mi(ne))``;function jjn(e){const{value:t,onChange:n,path:r,activityData:i=[]}=e,a=tr(),{title:o,basePath:s}=Vr(),{comments:l,mentionOptions:c,operation:d,getComment:h}=GR(),[p,m]=f.useState(null),[g,y]=f.useState(null),[v,b]=f.useState(!1),x=l.loading,w=l.data.open,C=f.useCallback((R,F)=>{const P=new URL(`${window.location.origin}${s?`${s}/`:""}`);P.searchParams.set("sidebar","tasks"),P.searchParams.set("selectedTask",t==null?void 0:t._id),P.searchParams.set("viewMode","edit"),P.searchParams.set("commentId",F);const V=Gj(R),U=Array.from(new Set([...t.subscribers||[],...V]));return{documentTitle:t.title||"Sanity task",url:P.toString(),workspaceTitle:o,subscribers:U}},[s,t==null?void 0:t._id,t.title,o,t.subscribers]),S=f.useCallback(R=>{const F=Ka(),P=C(R,F),V={id:F,type:"task",message:R,parentCommentId:void 0,reactions:hF,status:"open",threadId:Ka(),context:{notification:P}};n(ft(P.subscribers,["subscribers"])),d.create(V)},[d,C,n]),E=f.useCallback(R=>{const F=Ka(),P=C(R.message,F);n(ft(P.subscribers,["subscribers"])),d.create({id:F,type:"task",message:R.message,parentCommentId:R.parentCommentId,reactions:hF,status:"open",threadId:R.threadId,context:{notification:P}})},[d,C,n]),k=f.useCallback(R=>{const F=h(R);if(!F)return;const P=C(F.message,F._id);n(ft(P.subscribers,["subscribers"])),d.create({type:"task",id:F._id,message:F.message,parentCommentId:F.parentCommentId,reactions:F.reactions||hF,status:F.status,threadId:F.threadId,context:{notification:P}})},[h,d,C,n]),_=f.useCallback((R,F)=>{d.react(R,F)},[d]),T=f.useCallback(R=>m(R),[]),j=f.useCallback(()=>m(null),[]),A=f.useCallback(async R=>{try{b(!0),y(null),await d.remove(R),m(null)}catch(F){y(F)}finally{b(!1)}},[d]),I=f.useCallback((R,F)=>{d.update(R,F)},[d]),M=f.useMemo(()=>{const R=i.map(P=>({_type:"activity",payload:P,timestamp:P.timestamp})),F=w.map(P=>({_type:"comment",payload:P,timestamp:P.parentComment._createdAt}));return R.concat(F).sort((P,V)=>new Date(P.timestamp).getTime()-new Date(V.timestamp).getTime())},[i,w]),{t:D}=q(Tr),O=f.useMemo(()=>{var F;const R=w.find(P=>{var V;return((V=P.parentComment)==null?void 0:V._id)===p});return!!(R&&((F=R==null?void 0:R.replies)==null?void 0:F.length)>0)},[p,w]);return u.jsxs(u.Fragment,{children:[p&&u.jsx(G$e,{commentId:p,error:g,isParent:O,loading:v,onClose:j,onConfirm:A}),u.jsxs(ne,{space:5,children:[u.jsxs(z,{align:"center",children:[u.jsx(L,{flex:1,children:u.jsx(N,{size:2,weight:"semibold",children:D("panel.activity.title")})}),(a==null?void 0:a.id)&&u.jsx(Ejn,{currentUserId:a.id,value:t,onChange:n,path:r})]}),x&&u.jsx(bn,{showText:!0,title:"Loading activity"}),u.jsx(sl,{children:!x&&u.jsxs(Ajn,{animate:"visible",initial:"hidden",space:4,variants:Tjn,children:[t.createdByUser&&u.jsx(ne,{paddingBottom:1,children:u.jsx(Sjn,{createdAt:t.createdByUser,authorId:t.authorId})}),a&&u.jsxs(ne,{space:4,marginTop:1,children:[M.map(R=>R._type==="activity"?u.jsx(pjn,{activity:R.payload},R.timestamp):u.jsx(wjn,{currentUser:a,mentionOptions:c,onCreateRetry:k,onDelete:T,onEdit:I,onReactionSelect:_,onReply:E,parentComment:R.payload.parentComment,replies:R.payload.replies},R.payload.parentComment._id)),u.jsx(vjn,{currentUser:a,mentionOptions:c,onSubmit:S})]})]})})]})]})}function Ijn(e){const{user:t,onSelect:n,pressed:r}=e,{t:i}=q(Tr),a=f.useCallback(()=>n(t.id),[t,n]);return u.jsx(u0,{onClick:a,padding:1,disabled:!t.granted,pressed:r,children:u.jsxs(z,{align:"center",gap:3,children:[u.jsxs(z,{align:"center",gap:2,flex:1,children:[u.jsx(zb,{user:t.id?t:void 0,size:1}),u.jsx(N,{size:1,textOverflow:"ellipsis",title:t.displayName,children:t.displayName})]}),!t.granted&&u.jsx(ao,{fontSize:1,mode:"outline",children:i("form.input.assignee.unauthorized.text")})]})})}const Djn=$(Ot)`
  width: 308px;
  border-radius: 3px;
`,Mjn=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Rjn={id:"",displayName:"No assignee",granted:!0};function Ojn({onSelect:e,value:t=""}){const[n,r]=f.useState(""),{mentionOptions:i}=kk(),a=f.useRef(null),o=[Rjn].concat(i.data||[]),s=f.useCallback(p=>{r(p.currentTarget.value)},[]),l=f.useMemo(()=>{var m,g;if(!n)return o||[];const p=ev(n).toLocaleLowerCase();return((g=(m=o==null?void 0:o.map(y=>({...y,searchName:ev(y.displayName||"").toLocaleLowerCase()})))==null?void 0:m.filter(y=>y==null?void 0:y.searchName.includes(p)))==null?void 0:g.sort((y,v)=>{const b=y.searchName.startsWith(p),x=v.searchName.startsWith(p);return b&&!x?-1:!b&&x?1:0}))||[]},[o,n]),c=f.useCallback(p=>u.jsx(Ijn,{user:p,onSelect:e,pressed:p.id===t},p.id),[e,t]),d=f.useCallback(p=>{var m;p.target!==a.current&&(Mjn.includes(p.key)||((m=a.current)==null||m.focus()))},[]),{t:h}=q(Tr);return i.loading?u.jsx(ui,{width:0,children:u.jsx(bn,{showText:!0})}):u.jsxs("div",{onKeyDown:d,children:[u.jsx(Lr,{placeholder:h("form.input.assignee.search.placeholder"),autoFocus:!0,border:!1,onChange:s,value:n,fontSize:1,icon:$y,ref:a,name:"assigneeSearch",autoComplete:"off"}),u.jsx("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:l.length===0?u.jsx(L,{padding:3,children:u.jsx(N,{align:"center",size:1,muted:!0,children:h("form.input.assignee.search.no-users.text")})}):l.map(c)})]})}function IOe(e){const{onSelect:t,menuButton:n,value:r}=e;return u.jsx(Gt,{button:n,id:"assign-user-menu",menu:u.jsx(Djn,{children:u.jsx(Ojn,{onSelect:t,value:r})}),popover:{placement:"bottom",fallbackPlacements:["bottom"],portal:!0,constrainSize:!0}})}const $jn=$(ie)(e=>{const t=Te(e.theme);return de`
    &[data-as='button'] {
      border: 1px solid var(--card-border-color);
      &:focus-within {
        border: 1px solid var(--card-focus-ring-color);
      }
      --card-muted-fg-color: ${t.color.input.default.enabled.placeholder};
    }
  `});function Pjn(e){const{value:t,onChange:n}=e,{mentionOptions:r}=kk(),i=f.useMemo(()=>{var l;return(l=r.data)==null?void 0:l.find(c=>c.id===t)},[r.data,t]),a=f.useCallback(l=>n(ft(l)),[n]),{t:o}=q(Tr),s=f.useMemo(()=>{if(t){if(r.loading)return u.jsx(ur,{animated:!0,style:{width:"10ch"}});if(i)return i.displayName||i.email;if(!i)return o("form.input.assignee.user-not-found.text")}return o("form.input.assignee.search.placeholder")},[r.loading,i,t,o]);return u.jsx(IOe,{onSelect:a,value:t,menuButton:u.jsx($jn,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:u.jsxs(z,{align:"center",gap:3,children:[u.jsxs(z,{align:"center",gap:1,flex:1,children:[u.jsx(zb,{user:i,size:1,border:!1}),u.jsx(N,{size:1,textOverflow:"ellipsis",muted:!i,children:s})]}),t&&i&&!i.granted&&u.jsx(ao,{fontSize:1,mode:"outline",children:o("form.input.assignee.unauthorized.text")})]})})})}const Fjn=$($t)`
  padding: 3px 6px;
`;function Njn(e){const{value:t,onChange:n,path:r}=e,i=hk(["subscribers"]),{mentionOptions:a}=kk(),o=f.useMemo(()=>{var d;return(d=a.data)==null?void 0:d.find(h=>h.id===t)},[a.data,t]),{t:s}=q(Tr),l=f.useCallback(d=>{n(ft(d,r)),i&&!i.includes(d)&&d&&n(ft([...i,d],["subscribers"]))},[n,r,i]),c=f.useMemo(()=>{if(t){if(a.loading)return u.jsx(ur,{animated:!0,style:{width:"10ch"}});if(o)return o.displayName||o.email;if(!o)return s("form.input.assignee.user-not-found.text")}return s("form.input.assignee.no-user-assigned.text")},[a.loading,o,t,s]);return u.jsx(IOe,{onSelect:l,value:t,menuButton:u.jsx(Fjn,{mode:"ghost",padding:0,children:u.jsx(bt,{content:s(t?"form.input.assignee.user-assigned.tooltip":"form.input.assignee.no-user-assigned.tooltip"),children:u.jsxs(z,{align:"center",gap:3,children:[u.jsxs(z,{align:"center",gap:2,flex:1,children:[u.jsx(zb,{user:o,size:0}),u.jsx(L,{children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:c})})]}),t&&o&&!o.granted&&u.jsx(ao,{fontSize:1,mode:"outline",children:s("form.input.assignee.unauthorized.text")})]})})})})}const Ljn=e=>cb(e,Vp),Bjn=e=>tM(e,Vp);function Vjn(e){var w;const{value:t,onChange:n,path:r}=e,{t:i}=q(),{t:a}=q(Tr),[o,s]=f.useState(!1),l=f.useRef(null),c=f.useRef(null),d=Hl({dateStyle:"long"}),h=f.useMemo(()=>{if(!t)return{short:"----",full:"----"};const C=d.format(new Date(t)),[S]=C.split(",");return{short:S,full:C}},[d,t]);xn(()=>s(!1),()=>[l.current]);const p=f.useCallback(C=>{C.key==="Escape"&&s(!1)},[]),m=f.useCallback(()=>s(C=>!C),[]),g=f.useMemo(()=>SG(i),[i]),y=f.useCallback(C=>{n(C?ft(Ljn(C),r):vt(r)),s(!1)},[n,r]),v=Bjn(t),b=f.useCallback(()=>{var C;(C=c.current)==null||C.focus()},[c]),x=((w=v==null?void 0:v.date)==null?void 0:w.getFullYear())===new Date().getFullYear();return u.jsx(_n,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:l,content:u.jsx(L,{overflow:"auto",children:u.jsxs(Yu,{onDeactivation:b,children:[u.jsx(eDe,{calendarLabels:g,selectTime:!1,timeStep:1,onKeyUp:p,value:v.date,onChange:y}),t&&u.jsx(z,{justify:"flex-start",padding:3,paddingTop:0,children:u.jsx(he,{mode:"bleed",text:a("form.input.date.buttons.remove.text"),onClick:()=>y(null),tone:"critical"})})]})}),open:o,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:u.jsx(he,{icon:Fa,mode:"ghost",text:x?h.short:h.full,onClick:m,ref:c,tooltipProps:{content:a(t?"form.input.date.buttons.tooltip":"form.input.date.buttons.empty.tooltip")}})})}const zjn=$(N)`
  word-break: break-word;
`;function Ujn(e){const{children:t}=e;return u.jsx(L,{paddingTop:2,paddingBottom:3,children:u.jsx(zjn,{size:1,children:t})})}const Hjn=e=>{const{children:t}=e;return u.jsx(Ujn,{children:t})},Wjn=$.div(e=>{const t=Te(e.theme),n=e.$mode==="edit"?t.space[1]:t.space[3],r=e.$mode==="edit"?120:200;return de`
    /* select CommentInputEditableWrap and change the padding */
    [data-ui='CommentInputEditableWrap'] {
      overflow: hidden;
      padding: ${e.$mode==="edit"?`${n}px 0px`:`${n}px ${t.space[2]}px`};
      min-height: ${Math.max(e.$minHeight+n,r)}px !important;
    }
    #comment-input-root {
      box-shadow: ${e.$mode==="edit"?"none":""};
    }
    [data-ui='CommentInputActions'] {
      display: none !important;
    }
  `});function Gjn(e){const{value:t,mode:n,inputProps:{onChange:r}}=e,i=t,a=tr(),{mentionOptions:o}=kk(),s=f.useCallback(y=>r(ft(y)),[r]),[l,c]=f.useState(null),[d,h]=f.useState(200),p=f.useCallback(y=>{const v=y.querySelector('[role="textbox"]');if(!v)return;const b=v.scrollHeight;h(b)},[]),m=f.useCallback(y=>{y&&f.startTransition(()=>{c(y)})},[]),{t:g}=q(Tr);return f.useEffect(()=>{l&&p(l)},[i,p,l]),a?u.jsx(Wjn,{$mode:n,ref:m,$minHeight:d,children:u.jsx(F0,{expandOnFocus:!1,currentUser:a,mentionOptions:o,onChange:s,value:i??[],withAvatar:!1,placeholder:g("form.input.description.placeholder"),onDiscardConfirm:()=>null,renderBlock:Hjn})}):null}const DOe=$.div(e=>{const t=Te(e.theme);return de`
    // Reset the padding of the field header content box
    [data-ui='fieldHeaderContentBox'] {
      padding: 0;
      label {
        font-weight: ${t.font.text.weights.regular};
      }
    }
  `});function Jce(e){return u.jsx(DOe,{children:e.renderDefault(e)})}const Yjn=f.forwardRef(function(e,t){var l;const{t:n}=q(Tr),{value:r,options:i,...a}=e,o=i.find(c=>c.value===r),s=(l=Cv.find(c=>c.value===r))==null?void 0:l.icon;return u.jsx(he,{...a,ref:t,tooltipProps:{content:n("form.input.status.button.tooltip")},icon:s,text:(o==null?void 0:o.title)||r,tone:"default",mode:"ghost"})});function qjn(e){const{value:t,onChange:n,options:r,path:i}=e,a=Qo(),o=f.useCallback(s=>{n(ft(s,i)),a.log(AAn,{from:t,to:s})},[n,i,a,t]);return u.jsx(Gt,{button:u.jsx(Yjn,{value:t,options:r}),id:"reference-menuButton",menu:u.jsx(Ot,{children:r.map(s=>{var d;const l=t===s.value,c=(d=Cv.find(h=>h.value===s.value))==null?void 0:d.icon;return u.jsx(He,{icon:typeof s.value=="string"&&c||mg,text:s.title||s.value,pressed:l,iconRight:l&&u.jsx(_a,{}),onClick:()=>o(s.value)},s.title)})})})}function Kjn(){return u.jsx("div",{children:"Config errors"})}function SY({children:e}){return u.jsx(A$e,{LoadingComponent:bn,ConfigErrorsComponent:Kjn,children:e})}const Zjn=$(ie)(e=>{const t=Te(e.theme);return de`
    &:focus {
      border: 1px solid var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      border: 1px solid var(--card-focus-ring-color);
    }
    &:hover {
      border-color: ${t.color.input.default.hovered.border};
    }
  `}),Xjn=$(N)(e=>`
      color: ${Te(e.theme).color.input.default.enabled.placeholder};
      margin-left: 3px;
  `),Jjn=$(ie)`
  position: relative;
  [data-ui='show-on-hover'] {
    opacity: 0;
    position: absolute;
    right: 6px;
    top: 4px;
    display: flex;
  }
  &:focus-within,
  &:hover {
    padding-right: 36px;
    /* Hides the preview status dot, the button will take it's position. */
    [data-testid='compact-preview__status'] {
      opacity: 0;
    }
    [data-ui='show-on-hover'] {
      transition: opacity 200ms;
      opacity: 1;
    }
  }
`,Qjn=$(su)(()=>de`
    text-decoration: none;
    width: 100%;
    overflow: hidden;
    cursor: pointer;
    &:focus {
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
  `);function eIn(e){const{value:t,handleRemove:n}=e,r=t.document._ref,i=t.documentType,a=tn().get(t.documentType),o=Rb(r),{t:s}=q(Tr),l=f.useMemo(()=>f.forwardRef(function(c,d){return u.jsx(Qjn,{...c,intent:"edit",params:{id:r,type:i},ref:d})}),[r,i]);return a?u.jsx(Jjn,{border:!0,radius:2,children:u.jsxs(z,{gap:1,align:"center",justify:"space-between",children:[u.jsx(ie,{as:l,radius:2,"data-as":"button",children:u.jsx(mRe,{documentId:t.document._ref,layout:"compact",presence:o,schemaType:a,showBadge:!1})}),u.jsx("div",{"data-ui":"show-on-hover",children:u.jsx(he,{icon:Nr,mode:"bleed",onClick:n,tooltipProps:{content:s("form.input.target.buttons.remove.text")}})})]})}):u.jsx(N,{children:s("form.input.target.error.schema-not-found")})}function tIn(e){const[t,n]=f.useState(!1),{dataset:r,projectId:i}=Vr(),{mode:a,inputProps:{onChange:o},value:s}=e,l=s,c=f.useCallback(y=>{o(ft(EOe({documentId:y._id,documentType:y._type,dataset:r,projectId:i})))},[r,i,o]),d=f.useCallback(()=>{o(vt())},[o]),h=f.useCallback(()=>{n(!0)},[n]),p=f.useCallback(()=>{n(!1)},[n]),m=f.useCallback(y=>{(y.key==="Enter"||y.key===" ")&&n(!0)},[]),{t:g}=q(Tr);return u.jsx(ie,{borderBottom:a==="edit",paddingBottom:a==="edit"?4:0,children:u.jsx(DOe,{children:u.jsx(Zl,{zOffset:100,children:u.jsxs(SY,{children:[u.jsxs(ne,{space:2,children:[a==="create"&&u.jsx(L,{"data-ui":"fieldHeaderContentBox",children:u.jsx(JW,{description:e.description,inputId:e.inputId,title:e.title,validation:e.validation,deprecated:void 0})}),l?u.jsx(eIn,{value:l,handleRemove:d}):u.jsx(Zjn,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:h,onKeyDown:m,tabIndex:0,children:u.jsxs(z,{gap:1,justify:"flex-start",align:"center",children:[u.jsx(L,{paddingX:1,children:u.jsx(N,{size:1,children:u.jsx(Pu,{})})}),u.jsx(Xjn,{size:1,children:g("form.input.target.search.placeholder")})]})})]}),u.jsx(jY,{children:u.jsx(i$e,{open:t,onClose:p,onItemSelect:c,disableIntentLink:!0})})]})})})})}const nIn=$.div(e=>`
      display: grid;
      grid-template-columns: 1fr;
      padding-top: ${Te(e.theme).space[3]}px;
    `),rIn=$.textarea(e=>{const{color:t,font:n}=Te(e.theme);return de`
    resize: none;
    overflow: hidden;
    appearance: none;
    background: none;
    border: 0;
    padding: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${n.text.family};
    font-weight: ${n.text.weights.semibold};
    font-size: ${n.text.sizes[3].fontSize}px;
    line-height: ${n.text.sizes[3].lineHeight}px;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;
    transition: height 500ms;
    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    color: ${t.input.default.enabled.fg};

    &::placeholder {
      color: ${t.input.default.enabled.placeholder};
    }
  `});function MOe(e){const{value:t,onChange:n,placeholder:r,path:i}=e,a=f.useRef(null);f.useEffect(()=>{a.current&&(a.current.style.height="auto",a.current.style.height=`${a.current.scrollHeight}px`)},[t]);const o=f.useCallback(s=>{const l=s.currentTarget.value;return l||n(vt(i)),n(ft(l.replace(/\n/g,""),i))},[n,i]);return u.jsx(nIn,{children:u.jsx(rIn,{ref:a,autoFocus:!t,value:t,placeholder:r,onChange:o,rows:1})})}function iIn(e){const{value:t,inputProps:n}=e,{onChange:r,schemaType:i}=n;return u.jsx(MOe,{value:t,onChange:r,placeholder:i.placeholder})}const aIn=e=>{const t=e.subscribers||[];return Gj(e.description).forEach(n=>{t.includes(n)||t.push(n)}),e.assignedTo&&(t.includes(e.assignedTo)||t.push(e.assignedTo)),t};function oIn(e){const[t,n]=f.useState(!1),{onChange:r}=e,{setViewMode:i,setActiveTab:a}=fl(),o=_r(),s=Qo(),[l,c]=f.useState(!1),d=f.useCallback(()=>c(w=>!w),[]),h=e.value,p=f.useCallback(()=>{i({type:"list"})},[i]),{handleRemove:m,removeStatus:g}=TOe({id:h._id,onRemoved:p}),{t:y}=q(Tr),{data:v}=P0(),b=v.find(w=>w._id===h._id);f.useEffect(()=>{t&&(b!=null&&b.createdByUser)&&(s.log(TAn),o.push({closable:!0,status:"success",title:y("form.status.success")}),n(!1),l?i({type:"create"}):a("subscribed"))},[t,b==null?void 0:b.createdByUser]),f.useEffect(()=>{let w=null;return t&&(w=setTimeout(()=>{n(!1),o.push({closable:!0,status:"error",title:y("form.status.error.creation-failed")})},1e4)),()=>{w&&clearTimeout(w)}},[t]);const x=f.useCallback(async()=>{if(n(!0),!(h!=null&&h.title)){o.push({closable:!0,status:"error",title:y("form.status.error.title-required")});return}r([ft(aIn(h),["subscribers"]),ft(new Date().toISOString(),["createdByUser"])])},[h,r,y,o]);return u.jsxs(u.Fragment,{children:[e.renderDefault(e),u.jsx(L,{paddingY:5,children:u.jsxs(z,{paddingTop:1,gap:4,children:[h._rev&&u.jsx(he,{onClick:m,mode:"bleed",icon:Jr,tooltipProps:{content:y("buttons.discard.text")},disabled:g==="loading",loading:g==="loading"}),u.jsxs(z,{align:"center",gap:2,justify:"flex-end",flex:1,children:[u.jsx(bD,{onChange:d,checked:l}),u.jsx(N,{size:1,muted:!0,children:y("form.input.create-more.text")})]}),u.jsx(he,{text:y("buttons.create.text"),onClick:x,disabled:t,loading:t})]})})]})}function sIn(e){const{handleCloseDialog:t,handleRemove:n,removeStatus:r,showDialog:i}=e,{t:a}=q(Tr);return i?u.jsx(Ri,{id:"remove-task",header:a("dialog.remove-task.title"),onClose:t,footer:{cancelButton:{text:a("dialog.remove-task.buttons.cancel.text"),onClick:t},confirmButton:{text:a("dialog.remove-task.buttons.confirm.text"),tone:"critical",onClick:n,loading:r==="loading"}},children:u.jsx(ne,{space:3,children:u.jsx(N,{as:"p",children:a("dialog.remove-task.body")})})}):null}const lIn=$(z)(e=>{const t=Te(e.theme);return de`
    column-gap: ${t.space[2]}px;
    row-gap: ${t.space[3]}px;
  `});function uIn({id:e,value:t}){const{setViewMode:n,handleCopyLinkToTask:r}=fl(),{mode:i}=du(),a=Qo(),o=f.useCallback(()=>{n({type:"list"}),a.log(IAn)},[n,a]),s=TOe({id:e,onRemoved:o}),l=f.useCallback(()=>{n({type:"duplicate",duplicateTaskValues:t}),a.log(jAn)},[n,a,t]),{t:c}=q(Tr);return u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingTop:3,children:u.jsx(Gt,{id:"edit-task-menu",button:u.jsx(Si,{}),popover:{placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},menu:u.jsxs(Ot,{children:[u.jsx(He,{text:c("menuitem.duplicate.text"),icon:Gl,onClick:l,tooltipProps:i==="upsell"?{content:c("menuitem.duplicate.upsell-tooltip")}:void 0,disabled:i==="upsell"}),u.jsx(He,{text:c("menuitem.copylink.text"),icon:Ss,onClick:r}),u.jsx(fr,{}),u.jsx(He,{text:c("menuitem.delete.text"),icon:Jr,onClick:s.handleOpenDialog,tone:"critical"})]})})}),u.jsx(sIn,{...s})]})}function cIn(e){var s,l,c,d,h,p;const t=e.schemaType.fields.find(m=>m.name==="status"),n=e.value,r=tr(),{t:i}=q(Tr),a=sjn(n).changes,o=f.useCallback(m=>{const g=n.subscribers||[];e.onChange(m),r&&(g.includes(r.id)||e.onChange(ft([...g,r.id],["subscribers"])))},[r,e,n.subscribers]);if(!t)throw new Error("Status field not found");return(s=e.value)!=null&&s._id?u.jsxs(u.Fragment,{children:[u.jsxs(z,{align:"flex-start",gap:3,children:[u.jsx(ne,{flex:1,children:u.jsx(MOe,{onChange:o,value:(l=e.value)==null?void 0:l.title,path:["title"],placeholder:i("form.input.title.placeholder")})}),u.jsx(uIn,{id:(c=e.value)==null?void 0:c._id,value:n})]}),u.jsx(ie,{borderTop:!0,marginTop:3,children:u.jsx(lIn,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:u.jsxs(Ja,{children:[u.jsx(qjn,{value:(d=e.value)==null?void 0:d.status,path:["status"],onChange:o,options:t.type.options.list}),u.jsx(Njn,{value:(h=e.value)==null?void 0:h.assignedTo,onChange:o,path:["assignedTo"]}),u.jsx(Vjn,{value:(p=e.value)==null?void 0:p.dueBy,onChange:o,path:["dueBy"]})]})})}),e.renderDefault(e),u.jsx(BRe,{documentId:n._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:u.jsx(SY,{children:u.jsx(ie,{borderTop:!0,paddingTop:4,marginTop:4,paddingBottom:6,children:u.jsx(jjn,{value:n,onChange:e.onChange,path:["subscribers"],activityData:a})})})})]}):u.jsx(bn,{})}function dIn(e){const t=e.value,n=tr(),r=f.useCallback(i=>{if(!n||i.some(c=>c.path[0]==="subscribers")||i.some(c=>c.path[0]==="context"&&c.path[1]==="notification"))return i;const a=t.subscribers||[],o=[...a],s=i.find(c=>c.path[0]==="assignedTo");s&&s.type==="set"&&typeof s.value=="string"&&!o.includes(s.value)&&o.push(s.value),o.includes(n.id)||o.push(n.id);const l=i.find(c=>c.path[0]==="description"&&c.type==="set");if(l){const c=Gj(t.description),d=l.type==="set"?l.value:void 0;Gj(d).filter(h=>!c.includes(h)).forEach(h=>{o.includes(h)||o.push(h)})}return o.length!==a.length&&i.push(ft(o,["subscribers"])),i},[n,t.subscribers,t.description]);return u.jsx(UEn,{transform:r,children:u.jsx(cIn,{...e})})}function fIn(e,t,n=""){let r=window.location.origin;t&&(r+=t),n&&(r+=`/${n}`);const i=new URL(`${r}/`);return i.searchParams.set("sidebar","tasks"),i.searchParams.set("selectedTask",e),i.searchParams.set("viewMode","edit"),i.toString()}function hIn(e){var w,C;const{inputProps:t}=e,{onChange:n}=t,r=JE(f.useCallback(S=>typeof S.tool=="string"?S.tool:void 0,[])),{target:i,_id:a,context:o,_rev:s}=hk([]),{title:l,basePath:c}=Vr(),d=Xt(qt),h=f.useMemo(()=>IE(d),[d]),p=((w=i==null?void 0:i.document)==null?void 0:w._ref)??"",m=(i==null?void 0:i.documentType)??"",{isLoading:g,value:y}=bY({documentId:p,documentType:m}),v=(y==null?void 0:y.title)||null,b=db(y==null?void 0:y.media)?h.image(y.media).width(96).height(96).url():null,x=f.useMemo(()=>{var E;const S=(E=o==null?void 0:o.notification)==null?void 0:E.url;return{url:S&&cl?S:fIn(a,c,r),workspaceTitle:l,targetContentImageUrl:b,targetContentTitle:v}},[(C=o==null?void 0:o.notification)==null?void 0:C.url,a,c,r,l,b,v]);return f.useEffect(()=>{p&&m&&g||s&&(fg(o==null?void 0:o.notification,x)||n(ft(x,["notification"])))},[s,o,p,m,x,g,n]),null}function pIn(e){return u.jsx(SY,{children:u.jsx(hIn,{...e})})}const Qce=e=>un({type:"object",name:"target",title:"Target",components:{field:t=>u.jsx(tIn,{...t,mode:e})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:({id:t,type:n})=>`intent/edit/id=${t};type=${n}/`,to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),ede=e=>un({type:"array",name:"description",title:"Description",components:{field:t=>u.jsx(Gjn,{...t,mode:e})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]}),mIn=e=>_p({type:"document",name:"tasks.task",liveEdit:!0,components:{input:e==="edit"?dIn:oIn},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:iIn},hidden:e==="edit"},...e==="edit"?[Qce(e),ede(e)]:[ede(e),Qce(e)],{type:"string",name:"assignedTo",title:"Assign to",placeholder:"Select assignee",components:{field:Jce,input:Pjn},hidden:e==="edit"},{type:"date",name:"dueBy",title:"Deadline",placeholder:"yyyy-mm-dd",components:{field:Jce},hidden:e==="edit"},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:Cv.map(t=>({value:t.value,title:t.title}))},hidden:!0},{type:"object",name:"context",components:{field:pIn},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]});function gIn({children:e,mode:t,addonDataset:n}){const r=Xt({apiVersion:kOe}).config().apiHost,i="",a=Hn(),o=f.useMemo(()=>({basePath:i,dataset:n,name:`addon-dataset-${n}`,projectId:a.projectId,apiHost:r,schema:{types:[mIn(t)]}}),[a.projectId,t,r,n,i]),{workspaces:s}=f.useMemo(()=>$Oe(o,{basePath:i}),[o,i]),l=T$e(s[0]);return l?u.jsx(CIe,{workspace:l,children:u.jsx(HR,{source:l.unstable_sources[0],children:u.jsx(MMe,{children:e})})}):null}function yIn(e){const{client:t,ready:n,createAddonDataset:r}=rO(),i=t==null?void 0:t.config().dataset;return f.useEffect(()=>{!i&&n&&r()},[i,n,r]),i?u.jsx(gIn,{...e,addonDataset:i}):u.jsx(bn,{})}function vIn(e){const{documentType:t="tasks.task",documentId:n,initialValue:r={}}=e,i=tn().get(t);if(!i)throw new Error(`Schema type for '${t}' not found`);const{validation:a}=Vb(n,t),o=Wa(a),[s,l]=f.useState([]),[c,d]=f.useState([]),[h,p]=f.useState(),[m,g]=f.useState(),[y,v]=f.useState(),[b]=f.useState([]),x=f.useCallback(R=>{l(R)},[l]),w=f.useCallback(()=>{l([])},[]),C=f.useCallback((R,F)=>{p(P=>gc(P,R,F))},[]),S=f.useCallback((R,F)=>{g(P=>gc(P,R,F))},[]),E=f.useCallback((R,F)=>v(P=>gc(P,R,F)),[]),{patch:k}=fu(n,t),_=f.useRef(()=>{throw new Error("Nope")});_.current=R=>{k.execute(ORe(R.patches),r)};const T=f.useCallback(R=>_.current(R),[]),j=j$e(n,t),A=iO(n,t),I=(A==null?void 0:A.draft)||(A==null?void 0:A.published)||r,M=jRe(i,{value:I,comparisonValue:I,readOnly:!1,changesOpen:!1,presence:b,focusPath:s,openPath:c,collapsedPaths:h,collapsedFieldSets:m,fieldGroupState:y,validation:o}),D=A.ready&&j==="connected",O=f.useMemo(()=>Vje(),[]);return M===null||!D?{loading:!0}:{id:"root",onChange:T,__internal_patchChannel:O,__internal_fieldActions:void 0,onPathFocus:x,onPathOpen:d,onPathBlur:w,onFieldGroupSelect:E,onSetFieldSetCollapsed:S,onSetPathCollapsed:C,collapsedPaths:h,collapsedFieldSets:m,focusPath:M.focusPath,changed:M.changed,focused:M.focused,groups:M.groups,validation:M.validation,members:M.members,presence:M.presence,schemaType:i,value:M.value}}const bIn={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,delay:.2}}},xIn=$(Mi.div)(e=>{const t=Te(e.theme);return`
    // Update spacing for the form builder
    & > [data-ui='Stack'] {
      grid-gap: ${Ce(t.space[4])};
    }
`}),wIn=({documentId:e,initialValue:t})=>{var s,l;const n=vIn({documentType:"tasks.task",documentId:e,initialValue:t}),{setSelectedDocument:r}=kk(),i=n.loading||(s=n.value)==null?void 0:s.target,a=(l=i==null?void 0:i.document)==null?void 0:l._ref,o=i==null?void 0:i.documentType;return f.useEffect(()=>{r(a&&o?{_id:a,_type:o}:null)},[a,o,r]),u.jsx(L,{children:n.loading?u.jsx(bn,{showText:!0}):u.jsx(xIn,{id:"wrapper",initial:"hidden",animate:"visible",variants:bIn,children:u.jsx(GDe,{...n})})})};function CIn(){const e=tr(),{activeDocument:t}=P0(),{dataset:n,projectId:r}=Vr(),{state:{selectedTask:i,viewMode:a,duplicateTaskValues:o}}=fl(),s=f.useMemo(()=>{if(e&&i){if(a==="duplicate")return{...o,title:`${o==null?void 0:o.title} (copy)`,createdByUser:void 0,_id:i,_type:"tasks.task",authorId:e.id,status:"open"};if(a==="create")return{_id:i,_type:"tasks.task",authorId:e.id,status:"open",subscribers:[e.id],target:t?EOe({documentId:t.documentId,documentType:t.documentType,dataset:n,projectId:r}):void 0}}},[t,e,n,o,r,i,a]);return e?i?u.jsx(_An,{children:u.jsx(yIn,{mode:a==="edit"?"edit":"create",children:u.jsx(wIn,{documentId:i,currentUser:e,initialValue:s})})}):null:u.jsx(bn,{showText:!0,title:"Loading current user"})}const SIn={open:{assigned:{heading:"empty-state.status.list.open.assigned.heading",text:"empty-state.status.list.open.assigned.text"},document:{heading:"empty-state.status.list.open.document.heading",text:""},subscribed:{heading:"empty-state.status.list.open.subscribed.heading",text:"empty-state.status.list.open.subscribed.text"}},closed:{assigned:{heading:"empty-state.status.list.closed.assigned.heading",text:"empty-state.status.list.closed.assigned.text"},document:{heading:"empty-state.status.list.closed.document.heading",text:""},subscribed:{heading:"empty-state.status.list.closed.subscribed.heading",text:"empty-state.status.list.closed.subscribed.text"}}};function EIn({status:e}){const{state:{activeTabId:t}}=fl(),{t:n}=q(Tr),{heading:r,text:i}=SIn[e][t];return u.jsxs(ne,{space:3,children:[u.jsx(N,{size:1,weight:"semibold",children:n(r)}),u.jsx(N,{size:1,children:n(i)})]})}const kIn={assigned:{heading:"empty-state.list.assigned.heading",text:"empty-state.list.assigned.text"},subscribed:{heading:"empty-state.list.subscribed.heading",text:"empty-state.list.subscribed.text"},document:{heading:"empty-state.list.document.heading",text:"empty-state.list.document.text"},noActiveDocument:{heading:"empty-state.list.no-active-document.heading",text:"empty-state.list.no-active-document.text"}},_In=$.div`
  max-width: 268px;
  margin: 0 auto;
  height: 100%;
  margin-top: 40%;
`,tde=$(N)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  animation: fadeIn 0.2s ease-in-out;
`;function TIn(){const{activeDocument:e}=P0(),{mode:t}=du(),{state:{activeTabId:n},setViewMode:r}=fl(),i=!e&&n==="document"?"noActiveDocument":n,{heading:a,text:o}=kIn[i],{t:s}=q(Tr),l=f.useCallback(()=>{r({type:"create"})},[r]);return u.jsx(_In,{children:u.jsxs(z,{direction:"column",gap:3,align:"center",flex:1,justify:"center",children:[u.jsx(tde,{size:1,weight:"semibold",children:s(a)},i),u.jsx(L,{paddingBottom:6,paddingTop:1,children:u.jsx(tde,{size:1,align:"center",children:s(o)},i)}),t!=="upsell"&&u.jsx(he,{icon:wa,text:s("empty-state.list.create-new"),onClick:l})]})})}const AIn=$(su)(e=>`
  text-decoration: underline;
  text-decoration-color: ${Te(e.theme).color.input.default.enabled.border};
  text-underline-offset: 2px;
`);function jIn({documentId:e,documentType:t}){const n=tn().get(t),{isLoading:r,value:i}=bY({documentId:e,documentType:t}),a=f.useMemo(()=>f.forwardRef(function(o,s){return u.jsx(AIn,{...o,intent:"edit",params:{id:e,type:t},ref:s})}),[e,t]);return n?u.jsxs(z,{align:"center",gap:2,children:[u.jsx(N,{size:1,children:u.jsx(Pu,{})}),r?u.jsx(ur,{size:1,muted:!0}):u.jsx(N,{size:1,as:a,weight:"medium",style:{maxWidth:"20ch"},textOverflow:"ellipsis",children:(i==null?void 0:i.title)||"Untitled"})]}):null}function IIn(e){const t=_Oe(),{documentId:n,status:r}=e,[i,a]=f.useState(r==="closed"),[o,s]=f.useState(!1),l=f.useCallback(async c=>{const d=c.target.checked;a(d),s(!0);try{d?await t.edit(n,{status:"closed"}):d||await t.edit(n,{status:"open"})}catch(h){console.error("An error occurred while updating the task status",h)}finally{s(!1)}},[n,t]);return u.jsx(z,{children:o?u.jsx("div",{style:{height:"17px",width:"17px"},children:u.jsx(Op,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):u.jsx($p,{onChange:l,checked:i,disabled:o})})}const DIn=$($t)`
  width: 100%;
  max-width: 100%;
`,MIn=$(z)`
  /* Checkbox width is 17px and first row gap is 12px. */
  margin-left: 29px;
`;function RIn(e){var t;if((t=e==null?void 0:e.document)!=null&&t._ref)return{_ref:e==null?void 0:e.document._ref,_type:e==null?void 0:e.documentType}}function OIn({dueBy:e}){const t=Hl({dateStyle:"medium"}),n=Hl({month:"short",day:"numeric"}),r=Hl({weekday:"long"}),i=f.useMemo(()=>{const d=new Date(e);return{fullDate:t.format(d),monthAndDay:n.format(d),day:r.format(d),isDueByToday:OIt(d),isDueThisWeek:RIt(d)}},[r,e,t,n]),{fullDate:a,monthAndDay:o,day:s,isDueByToday:l,isDueThisWeek:c}=i;return u.jsx(bt,{content:a,children:u.jsx(ie,{tone:l?"critical":"transparent",padding:1,radius:2,children:u.jsx(z,{align:"center",gap:2,children:u.jsx(N,{as:"time",size:1,dateTime:e,muted:!0,children:l?"Today":c?s:o})})})})}function $In(e){const{assignedTo:t,title:n,dueBy:r,target:i,onSelect:a,documentId:o,status:s}=e,l=f.useMemo(()=>RIn(i),[i]);return u.jsxs(ne,{space:3,children:[u.jsxs(z,{align:"center",gap:1,children:[u.jsx(L,{children:u.jsx(IIn,{documentId:o,status:s})}),u.jsx(z,{flex:1,children:u.jsx(DIn,{onClick:a,mode:"bleed",padding:2,children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n||"Untitled"})})}),u.jsx(zb,{user:t?{id:t}:void 0,withTooltip:!0})]}),(r||l)&&u.jsxs(MIn,{align:"center",gap:2,paddingX:0,children:[r&&u.jsx(OIn,{dueBy:r}),l&&u.jsx(L,{marginLeft:1,children:u.jsx(jIn,{documentId:l._ref,documentType:l._type})})]})]})}const PIn=[],FIn=e=>{var t;return(t=Cv.find(n=>n.value===e))==null?void 0:t.title},NIn=$(z)`
  [data-ui='summary-icon'] {
    transition: transform 0.2s;
    transform: rotate(-90deg);
  }
  &[open] [data-ui='summary-icon'] {
    transform: rotate(0);
  }
  > summary::-webkit-details-marker {
    display: none;
  }
`,LIn=$(L)`
  list-style: none;
`;function nde(e){const{status:t,tasks:n,onTaskSelect:r}=e;return u.jsxs(NIn,{forwardedAs:"details",direction:"column",open:t==="open",children:[u.jsx(LIn,{forwardedAs:"summary",paddingY:1,children:u.jsxs(z,{align:"center",gap:1,paddingY:1,children:[u.jsx(N,{size:1,weight:"medium",muted:!0,children:FIn(t)}),u.jsx(N,{muted:!0,size:1,children:u.jsx(Di,{"data-ui":"summary-icon"})})]})}),u.jsx(ne,{space:4,marginTop:3,paddingBottom:5,children:(n==null?void 0:n.length)>0?n.map((i,a)=>{const o=a<n.length-1;return u.jsxs(f.Fragment,{children:[u.jsx($In,{documentId:i._id,title:i.title,dueBy:i.dueBy,assignedTo:i.assignedTo,target:i.target,onSelect:()=>r(i._id),status:i.status}),o&&u.jsx(fr,{})]},i._id)}):u.jsx(EIn,{status:t})})]})}function BIn(e){var o,s;const{items:t=PIn,onTaskSelect:n}=e,r=f.useMemo(()=>t.reduce((l,c)=>(l[c.status]||(l[c.status]=[]),l[c.status].push(c),l),{}),[t]),i=((o=r.open)==null?void 0:o.length)>0,a=((s=r.closed)==null?void 0:s.length)>0;return u.jsx(ne,{space:4,flex:1,children:!i&&!a?u.jsx(TIn,{}):u.jsxs(u.Fragment,{children:[u.jsx(nde,{status:"open",tasks:r.open,onTaskSelect:n}),u.jsx(nde,{status:"closed",tasks:r.closed,onTaskSelect:n})]})})}function VIn(){const{upsellData:e,telemetryLogs:{panelPrimaryClicked:t,panelSecondaryClicked:n}}=COe();return e?u.jsx(ui,{width:1,children:u.jsx(L,{marginBottom:6,children:u.jsx(yY,{data:e,onPrimaryClick:t,onSecondaryClick:n})})}):null}const zIn="https://snty.link/tasks-feedback",UIn=$.span`
  margin-right: 0.2em;
`,HIn=$.a`
  white-space: nowrap;
  > [data-sanity-icon] {
    --card-icon-color: var(--card-link-color);
  }
`;function WIn(e){return u.jsxs(HIn,{href:zIn,target:"_blank",rel:"noreferrer",children:[u.jsx(UIn,{children:e.children})," ",u.jsx(Wc,{})]})}function GIn(){const{t:e}=q(Tr);return u.jsx(L,{padding:4,children:u.jsx(N,{muted:!0,size:1,children:u.jsx(gt,{i18nKey:"list.feedback.text",t:e,components:{Link:WIn}})})})}const YIn={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function qIn({activeTabId:e,onChange:t}){const{t:n}=q(Tr),r=f.useMemo(()=>[{id:"assigned",label:n("tab.assigned.label")},{id:"subscribed",label:n("tab.subscribed.label")},{id:"document",label:n("tab.document.label")}],[n]),i=f.useCallback(a=>{t(a.id)},[t]);return u.jsx(Yv,{space:2,style:YIn,children:r.map(a=>u.jsx(BC,{"aria-controls":`${a.id}-panel`,id:`${a.id}-tab`,onClick:()=>i(a),selected:a.id===e,children:u.jsx(N,{size:1,weight:"medium",children:a.label})},`${a.id}-tab`))})}const KIn=$.div(e=>`
    height: 25px;
    width: 1px;
    background-color: ${Te(e.theme).color.input.default.enabled.border};
  `);function ZIn(e){const{items:t}=e,{state:n,setViewMode:r}=fl(),{selectedTask:i}=n,a=t.filter(d=>d.status==="open"),o=a.findIndex(d=>d._id===i),s=f.useCallback(()=>{const d=o>0?a[o-1]._id:a[a.length-1]._id;r({type:"edit",id:d})},[o,a,r]),l=f.useCallback(()=>{const d=o<a.length-1?a[o+1]._id:a[0]._id;r({type:"edit",id:d})},[o,a,r]),{t:c}=q(Tr);return a.length?u.jsx(Ja,{children:u.jsxs(z,{gap:1,align:"center",children:[u.jsx(he,{tooltipProps:{content:c("buttons.previous.tooltip")},mode:"bleed",icon:If,onClick:s}),u.jsx(bt,{content:c("panel.navigation.tooltip"),children:u.jsx(L,{paddingY:2,children:u.jsxs(N,{size:1,children:[o+1," / ",a.length]})})}),u.jsx(he,{tooltipProps:{content:c("buttons.next.tooltip")},mode:"bleed",icon:io,onClick:l}),u.jsx(KIn,{})]})}):null}const XIn={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0},JIn=$(Ot)`
  width: 220px;
`;function QIn(e){const{isSelected:t,item:n,onSelect:r}=e,i=f.useCallback(()=>{r(n._id)},[n._id,r]),a=t?_a:void 0,o=n.title||"Untitled";return u.jsx(He,{iconRight:a,onClick:i,pressed:t,selected:t,text:o})}function eDn(){const{data:e}=P0(),{state:t,setViewMode:n}=fl(),{viewMode:r,selectedTask:i}=t,a=tr(),o=f.useMemo(()=>a!=null&&a.id?e.filter(c=>{const d=c.authorId===a.id,h=!c.createdByUser,p=c._updatedAt!==c._createdAt,m=r==="create"?c._id!==i:!0;return d&&h&&m&&p}):[],[e,i,a==null?void 0:a.id,r]),s=f.useCallback(c=>{n({type:"draft",id:c})},[n]),{t:l}=q(Tr);return o.length?u.jsx(Gt,{button:u.jsx(he,{text:l("buttons.draft.text"),mode:"ghost",iconRight:Di}),id:"edit-task-menu",menu:u.jsxs(JIn,{children:[u.jsx(L,{padding:3,children:u.jsx(N,{size:1,weight:"semibold",children:l("panel.drafts.title")})}),u.jsx(fr,{}),o==null?void 0:o.map(c=>u.jsx(QIn,{isSelected:i===c._id,item:c,onSelect:s},c._id))]}),popover:XIn}):null}function tDn(e){const{items:t}=e,{mode:n}=du(),{state:r,setViewMode:i,handleCloseTasks:a}=fl(),{viewMode:o,activeTabId:s}=r,l=f.useCallback(()=>{i({type:"create"})},[i]),c=f.useCallback(()=>{i({type:"list"})},[i]),{t:d}=q(Tr);return u.jsxs(z,{justify:"space-between",align:"center",gap:1,children:[u.jsx(z,{align:"center",flex:1,children:o==="list"?u.jsx(L,{padding:2,children:u.jsx(N,{size:2,weight:"semibold",children:d("panel.title")})}):u.jsxs(u.Fragment,{children:[u.jsx($t,{mode:"bleed",space:2,padding:2,onClick:c,children:u.jsx(N,{size:1,children:d("panel.title")})}),u.jsx(io,{}),u.jsx(L,{paddingX:2,children:u.jsx(N,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:o==="create"||o==="draft"?d("panel.create.title"):s})})]})}),(o==="create"||o==="draft")&&u.jsx(eDn,{}),o==="edit"&&u.jsx(ZIn,{items:t}),u.jsxs(z,{gap:1,children:[o==="list"&&u.jsx(he,{icon:wa,onClick:l,mode:"bleed",text:d("buttons.new.text"),disabled:n==="upsell",tooltipProps:n==="upsell"?{content:d("buttons.new.upsell-tooltip")}:void 0}),u.jsx(he,{tooltipProps:{content:d("panel.close.tooltip")},iconRight:Nr,mode:"bleed",onClick:a})]})]})}const nDn=$(ie)`
  flex: 1;
  flex-direction: column;
`,rDn=$(ne)`
  border-bottom: 1px solid var(--card-border-color);
`,iDn=$(z)`
  overflow-y: scroll;
  overflow-x: hidden;
`;function aDn(){const{mode:e}=du(),{activeDocument:t,data:n,isLoading:r}=P0(),{state:i,setActiveTab:a,setViewMode:o}=fl(),{activeTabId:s,viewMode:l,selectedTask:c}=i,d=tr(),h=f.useCallback(g=>o({type:"edit",id:g}),[o]),p=f.useMemo(()=>n.filter(g=>{var y,v;return g.createdByUser?s==="assigned"?g.assignedTo===(d==null?void 0:d.id):s==="subscribed"?(d==null?void 0:d.id)&&((y=g.subscribers)==null?void 0:y.includes(d.id)):s==="document"?(t==null?void 0:t.documentId)&&((v=g.target)==null?void 0:v.document._ref)===t.documentId:!1:!1}),[t==null?void 0:t.documentId,s,n,d]),m=f.useMemo(()=>l!=="list"?u.jsx(CIn,{},c):r?u.jsx(z,{align:"center",justify:"center",children:u.jsx(Op,{})}):u.jsxs(u.Fragment,{children:[e==="upsell"&&u.jsx(VIn,{}),u.jsx(BIn,{items:p,onTaskSelect:h})]}),[p,r,h,c,l,e]);return u.jsxs(nDn,{display:"flex",height:"fill",flex:1,overflow:"hidden",children:[u.jsxs(rDn,{space:3,padding:3,sizing:"border",children:[u.jsx(tDn,{items:p}),l==="list"&&!r&&u.jsx(qIn,{activeTabId:s,onChange:a})]}),u.jsx(iDn,{direction:"column",flex:1,overflow:"auto",padding:3,paddingTop:4,paddingX:4,sizing:"border",children:m}),l==="list"&&u.jsx(GIn,{})]})}function oDn(){const{enabled:e}=du();return e?u.jsx(aDn,{}):null}const sDn={hidden:{opacity:0},visible:{opacity:1}},lDn={duration:.2},ROe=1,OOe=2,uDn=$(z)(({theme:e})=>{const t=e.sanity.media;return de`
    min-height: 100%;

    @media (max-width: ${t[OOe]}px) {
      position: relative;
    }
  `}),cDn=$(Mi(qo))(({theme:e})=>{const t=e.sanity.media;return de`
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 360px;
    border-left: 1px solid var(--card-border-color);
    box-sizing: border-box;
    overflow: hidden;

    box-shadow:
      0px 6px 8px -4px var(--card-shadow-umbra-color),
      0px 12px 17px -1px var(--card-shadow-penumbra-color);

    @media (max-width: ${t[OOe]}px) {
      bottom: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    @media (max-width: ${t[ROe]}px) {
      border-left: 0;
      min-width: 100%;
      left: 0;
    }
  `});function dDn(e){const t=s0(),{state:{isOpen:n}}=fl(),r=t<=ROe&&n;return u.jsxs(uDn,{sizing:"border",height:"fill",children:[u.jsx(L,{flex:1,height:"fill",overflow:r?"hidden":"auto",children:e.renderDefault(e)}),u.jsx(sl,{initial:!1,children:n&&u.jsx(cDn,{animate:"visible",zOffset:100,height:"fill",initial:"hidden",transition:lDn,variants:sDn,children:u.jsx(oDn,{})})})]})}function fDn(e){const{enabled:t}=du();return t?u.jsx(dDn,{...e}):e.renderDefault(e)}const hDn=e=>{const{enabled:t,mode:n}=du();return t?u.jsx(POe,{children:u.jsx(Kv,{condition:n==="upsell",wrapper:r=>u.jsx(KAn,{children:r}),children:u.jsx(YAn,{children:u.jsx(OAn,{children:e.renderDefault(e)})})})}):e.renderDefault(e)};function pDn(e){return u.jsx(SAn,{children:u.jsx(hDn,{...e})})}const mDn=[];function gDn(e){const{handleOpenTasks:t,handleCloseTasks:n,state:{isOpen:r}}=fl(),{t:i}=q(Tr),a=f.useCallback(()=>{r?n():t()},[r,t,n]),o=f.useMemo(()=>[...(e==null?void 0:e.__internal_actions)||mDn,{icon:j9,location:"topbar",name:"tasks-topbar",onAction:a,selected:r,title:i("actions.open.text")},{icon:XS,location:"sidebar",name:"tasks-sidebar",onAction:a,selected:r,title:i("actions.open.text")}],[a,r,e==null?void 0:e.__internal_actions,i]);return e.renderDefault({...e,__internal_actions:o})}function yDn(e){const{enabled:t}=du();return t?u.jsx(gDn,{...e}):e.renderDefault(e)}const vDn="sanity/tasks",bDn=Eb({name:"sanity/tasks",__internal_tasks:{footerAction:u.jsx(tjn,{})},document:{actions:e=>[...e,SOe].filter(Boolean)},studio:{components:{layout:pDn,navbar:yDn,activeToolLayout:fDn}},form:{components:{input:e=>{var t;return e.id==="root"&&((t=e.schemaType.type)==null?void 0:t.name)==="document"?u.jsx(QAn,{...e}):e.renderDefault(e)}}},i18n:{bundles:[CAn]}}),xDn=[G2n(),bDn(),wAn()];function wDn(e,t){return xDn.filter(n=>n.name===xOe?e.scheduledPublishing.enabled&&!!(t!=null&&t.length):n.name===vDn?e.tasks.enabled:!0)}function CDn(e){return{tasks:{enabled:!0,...e.unstable_tasks,...e.tasks},scheduledPublishing:{...Z2n,...e.scheduledPublishing}}}function SDn({config:e,context:t}){return Ro({propertyName:"schema.types",config:e,context:t,initialValue:[],reducer:_Cn})}class nO extends Error{constructor(t){super("SchemaError"),this.schema=t,this.name="SchemaError"}}const EDn=e=>e.severity==="error";function kDn(e,t,n=""){return ka.isValidElementType(e)?f.createElement(e):f.isValidElement(e)?e:mEn(t,n)}const pF=new WeakMap;function $Oe(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new $l({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=jDn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{tnn({workspaces:r})}catch(i){throw new $l({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(pF.has(i))return pF.get(i);const a=CDn(i),{unstable_sources:o=[],...s}=i,l=[s,...o].map(({plugins:h,...p})=>({...p,plugins:[...h??[],...wDn(a,h)]})).map(h=>{const{projectId:p,dataset:m}=h;let g;try{g=SDn({config:h,context:{projectId:p,dataset:m}})}catch(S){throw new $l({name:h.name,type:"source",causes:[S]})}const y=Scn({name:h.name,types:g}),v=y._validation,b=v==null?void 0:v.filter(S=>S.problems.some(EDn));if(v&&(b!=null&&b.length))throw new nO(y);const x=_Dn(h),w=YCn(h),C=x.state.pipe(fe(({client:S,authenticated:E,currentUser:k})=>ADn({config:h,client:S,currentUser:k,schema:y,authenticated:E,auth:x,i18n:w})),la(1));return{name:h.name,projectId:h.projectId,dataset:h.dataset,title:h.title||Vn(h.name),auth:x,schema:y,i18n:w.source,source:C}}),c=s.title||Vn(s.name),d={type:"workspace-summary",auth:l[0].auth,basePath:IDn(n,s.basePath),dataset:s.dataset,schema:l[0].schema,i18n:l[0].i18n,customIcon:!!s.icon,icon:kDn(s.icon,c,`${s.projectId} ${s.dataset}`),name:s.name||"default",projectId:s.projectId,theme:s.theme||kg,title:c,subtitle:s.subtitle,__internal:{sources:l},__internal_serverDocumentActions:i.__internal_serverDocumentActions,...a};return pF.set(i,d),d})}}function _Dn(e){if(krn(e.auth))return e.auth;const t=e.unstable_clientFactory||NCe,{projectId:n,dataset:r,apiHost:i}=e;return jrn({apiHost:i,...e.auth,clientFactory:t,dataset:r,projectId:n})}function TDn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:i,requestTagPrefix:a="sanity.studio"}=n.config(),o=`${`${i.replace(/\/+$/,"")}/socket/${r}`.replace(/^http/,"ws")}?tag=${a}`,s=t.token?{token$:t.token}:{};return kqt(o,s)}function ADn({config:e,client:t,currentUser:n,schema:r,authenticated:i,auth:a,i18n:o}){var S,E,k,_,T,j;const{dataset:s,projectId:l}=e,c=TDn(t,a),d=[],h={},p=A=>{if(!A||!A.apiVersion)throw new Error("Missing required `apiVersion` option");return h[A.apiVersion]||(h[A.apiVersion]=t.withConfig(A)),h[A.apiVersion]},m={client:t,getClient:p,currentUser:n,dataset:s,projectId:l,schema:r,i18n:o.source},g=t;m.client=[...Object.keys(t),...Object.keys(g.__proto__)].reduce((A,I)=>{const M=Object.hasOwnProperty.call(t,I)?g[I]:g.__proto__[I];return Object.defineProperty(A,I,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),M}})},{});let y;try{y=Ro({config:e,context:m,propertyName:"schema.templates",reducer:jCn,initialValue:r.getTypeNames().filter(A=>!/^sanity\./.test(A)).map(A=>r.get(A)).filter(ua).filter(A=>{var I;return((I=A.type)==null?void 0:I.name)==="document"}).map(A=>({id:A.name,schemaType:A.name,title:A.title||A.name,icon:A.icon,value:A.initialValue||{_type:A.name}}))})}catch(A){throw new $l({name:e.name,type:"source",causes:[A]})}let v;try{v=Ro({config:e,context:m,initialValue:[],propertyName:"tools",reducer:ACn})}catch(A){throw new $l({name:e.name,type:"source",causes:[A]})}if(v.some(({name:A})=>A==="tool"))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const b=y.filter(A=>{var I;return!((I=A.parameters)!=null&&I.length)}).map(A=>({templateId:A.id,description:A.description,icon:A.icon,title:A.title})),x=y.reduce((A,I)=>(A.set(I.id,I),A),new Map),w=A=>{const{schemaType:I}=A,M=Ro({config:e,context:{...m,creationContext:A},initialValue:b,propertyName:"document.resolveNewDocumentOptions",reducer:OCn}),D=[];if(D.length)throw new $l({name:e.name,type:"source",causes:D});return M.map((O,R)=>{const F=x.get(O.templateId);if(!F)throw new Error(`Could not find template with ID \`${O.templateId}\``);const P=r.get(F.schemaType);if(!P)throw new Error(`Could not find matching schema type \`${F.schemaType}\` for template \`${F.id}\``);const V=O.title||F.title,U=(P==null?void 0:P.title)===V||P==null?void 0:P.title;return{id:`${O.templateId}-${R}`,templateId:O.templateId,type:"initialValueTemplateItem",title:V,i18n:O.i18n||F.i18n,subtitle:O.subtitle||U,description:O.description||F.description,icon:O.icon||F.icon||(P==null?void 0:P.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:F.schemaType}}).filter(O=>{var R;return!I||A.type==="document"?!0:I===((R=x.get(O.templateId))==null?void 0:R.schemaType)})};let C;try{C=w({type:"global"})}catch(A){d.push(A)}if(d.length)throw new $l({name:e.name,type:"source",causes:d});return{type:"source",name:e.name,title:e.title||Vn(e.name),schema:r,getClient:p,dataset:s,projectId:l,tools:v,currentUser:n,authenticated:i,templates:y,auth:a,i18n:o.source,__internal_tasks:LCn({config:e}),document:{actions:A=>Ro({config:e,context:{...m,...A},initialValue:ECn,propertyName:"document.actions",reducer:RCn}),badges:A=>Ro({config:e,context:{...m,...A},initialValue:SCn,propertyName:"document.badges",reducer:MCn}),unstable_fieldActions:A=>Ro({config:e,context:{...m,...A},initialValue:Xwn,propertyName:"document.unstable_fieldActions",reducer:Zwn}),inspectors:A=>Ro({config:e,context:{...m,...A},initialValue:rn,propertyName:"document.inspectors",reducer:NCn}),resolveProductionUrl:A=>Ro({config:e,context:{...m,...A},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:TCn}),resolveNewDocumentOptions:w,unstable_languageFilter:A=>Ro({config:e,context:{...m,...A},initialValue:kCn,propertyName:"document.unstable_languageFilter",reducer:FCn}),unstable_comments:{enabled:A=>Zue({context:A,config:e,initialValue:!0})},comments:{enabled:A=>Zue({context:A,config:e,initialValue:!0})}},form:{file:{assetSources:Ro({config:e,context:m,initialValue:[cRe],propertyName:"formBuilder.file.assetSources",reducer:$Cn}),directUploads:((E=(S=e.form)==null?void 0:S.file)==null?void 0:E.directUploads)===void 0?!0:e.form.file.directUploads},image:{assetSources:Ro({config:e,context:m,initialValue:[dRe],propertyName:"formBuilder.image.assetSources",reducer:PCn}),directUploads:((_=(k=e.form)==null?void 0:k.image)==null?void 0:_.directUploads)===void 0?!0:e.form.image.directUploads}},search:{filters:QCn,operators:hEn,unstable_partialIndexing:{enabled:BCn({config:e,initialValue:((j=(T=e.search)==null?void 0:T.unstable_partialIndexing)==null?void 0:j.enabled)??!1})},enableLegacySearch:Ro({config:e,context:m,reducer:VCn,propertyName:"enableLegacySearch",initialValue:!0})},__internal:{bifur:c,i18next:o.i18next,staticInitialValueTemplateItems:C,options:e},beta:{treeArrayEditing:{enabled:!1}}}}function jDn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new $l({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function IDn(e,t){return`/${[e,t||""].map(n=>n.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/")}`}function DDn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}=e;return f.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}),[t,n,r,i,a,o])}function MDn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}=e;return{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}}function RDn({config:e,children:t,basePath:n,LoadingComponent:r}){const[i,a]=f.useState(null);return f.useEffect(()=>{a($Oe(e,{basePath:n}).workspaces)},[n,e]),i===null?u.jsx(r,{}):u.jsx(Yhe.Provider,{value:i,children:t})}function ODn({children:e,history:t}){return u.jsx(Dhe.Provider,{value:t,children:e})}function $Dn(){const e=f.useContext(Dhe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const PDn=f.memo(function({children:e,history:t,activeWorkspace:n,setActiveWorkspace:r}){const i=f.useMemo(()=>({activeWorkspace:n,setActiveWorkspace:r}),[n,r]);return u.jsx(qfe.Provider,{value:i,children:u.jsx(ODn,{history:t,children:e})})});function FDn(e){const t=e.map(r=>r.basePath.slice(1).split("/")).reduce((r,i)=>{for(let a=0;a<r.length;a++){const o=r[a],s=i[a].toLowerCase();if(o!==s)return r.slice(0,a)}return r});function n([r,...i]){return r?`(\\/${rW(r)}${n(i)}(\\/|$))?`:""}return new RegExp(`^${n(t)}$`,"i")}function NDn({pathname:e,workspaces:t,basePathRegex:n}){const[r]=t;for(const{workspace:i,basePath:a,basePathRegex:o}of t)if(o.test(e)||a==="/")return{type:"match",workspace:i};return e==="/"?{type:"redirect",pathname:r.basePath}:n.test(e)?{type:"redirect",pathname:r.basePath}:{type:"not-found"}}function LDn(e){return f.useMemo(()=>BDn(e),[e])}function BDn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp(`^${rW(n)}(\\/|$)`,"i")}})}function VDn(e,t){const n=LDn(t),r=f.useMemo(()=>FDn(n),[n]),[i]=f.useState(()=>e.location.pathname),a=f.useMemo(()=>({subscribe:o=>e.listen(o),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>i,selector:o=>NDn({basePathRegex:r,pathname:o,workspaces:n}),isEqual:(o,s)=>{if(o.type!==s.type)return!1;switch(o.type){case"match":return o.workspace===s.workspace;case"redirect":return o.pathname===s.pathname;case"not-found":return!0;default:throw new Error(`Unknown type: ${o.type}`)}}}),[r,e,i,n]);return nW.useSyncExternalStoreWithSelector(a.subscribe,a.getSnapshot,a.getServerSnapshot,a.selector,a.isEqual)}const zDn=()=>typeof document>"u"?iqt():rqt();function UDn({children:e,LoadingComponent:t,NotFoundComponent:n,unstable_history:r}){const i=ok(),a=f.useMemo(()=>r||zDn(),[r]),o=f.useCallback(c=>{const d=i.find(h=>h.name===c);d&&a.push(d.basePath)},[a,i]),s=f.useCallback(()=>{o(i[0].name)},[o,i]),l=VDn(a,i);switch(f.useEffect(()=>{l.type==="redirect"&&a.replace(l.pathname)},[a,l]),l.type){case"match":return u.jsx(PDn,{activeWorkspace:l.workspace,history:a,setActiveWorkspace:o,children:e});case"redirect":return u.jsx(t,{});case"not-found":return u.jsx(n,{onNavigateToDefaultWorkspace:s});default:throw new Error(`Unknown type: ${l.type}`)}}function Xp(){const e=f.useContext(qfe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}const mF="v2023-11-13";function HDn(e){const{children:t}=e,{dataset:n,projectId:r}=Vr(),i=Xt(qt),[a,o]=f.useState(null),[s,l]=f.useState(!1),[c,d]=f.useState(!1),h=f.useCallback(async()=>{var y,v;return(v=(y=await i.withConfig({apiVersion:mF}).request({uri:`/projects/${r}/datasets?datasetProfile=comments&addonFor=${n}`,tag:"sanity.studio"}))==null?void 0:y[0])==null?void 0:v.name},[n,i,r]),p=f.useCallback(y=>i.withConfig({apiVersion:mF,dataset:y,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[i,r]),m=f.useCallback(async()=>{var y;l(!0);try{const v=await h();if(v){const b=p(v);return o(b),l(!1),b}}catch{}try{const v=(y=await i.withConfig({apiVersion:mF}).request({uri:`/comments/${n}/setup`,method:"POST"}))==null?void 0:y.datasetName;if(!v)return l(!1),null;const b=p(v);return o(b),b}catch(v){throw v}finally{l(!1)}},[n,h,p,i]);f.useEffect(()=>{h().then(y=>{if(!y)return;const v=p(y);o(v)}).finally(()=>{d(!0)})},[h,p]);const g=f.useMemo(()=>({client:a,createAddonDataset:m,isCreatingDataset:s,ready:c}),[a,m,s,c]);return u.jsx(V7.Provider,{value:g,children:t})}function POe(e){return f.useContext(V7)?e.children:u.jsx(HDn,{...e})}function rO(){const e=f.useContext(V7);if(!e)throw new Error("useAddonDataset: missing context value");return e}function FOe(){return jqe()?"dark":"light"}function NOe({children:e,scheme:t}){const n=FOe();return u.jsx(FC,{scheme:t==="system"?n:t,theme:kg,children:e})}const rde="sanityStudio:ui:colorScheme";function WDn({children:e,onSchemeChange:t,scheme:n}){return n?u.jsx(YDn,{scheme:n,onSchemeChange:t,children:e}):u.jsx(GDn,{onSchemeChange:t,children:e})}function GDn({children:e,onSchemeChange:t}){const n=f.useMemo(()=>{let i;const a=new Set;return{subscribe:o=>(i||(i=ide(localStorage.getItem(rde))||"system"),a.add(o),()=>{a.delete(o)}),getSnapshot:()=>i,setSnapshot:o=>{i=ide(o);for(const s of a)s()},getServerSnapshot:()=>"system"}},[]),r=f.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return f.useEffect(()=>{typeof t=="function"&&t(r),localStorage.setItem(rde,r)},[t,r]),u.jsx(lI.Provider,{value:n.setSnapshot,children:u.jsx(uI.Provider,{value:r,children:u.jsx(NOe,{scheme:r,children:e})})})}function ide(e){switch(e){case"dark":case"light":return e;default:return"system"}}function YDn({children:e,onSchemeChange:t,scheme:n}){return u.jsx(lI.Provider,{value:typeof t=="function"?t:!1,children:u.jsx(uI.Provider,{value:n,children:u.jsx(NOe,{scheme:n,children:e})})})}function LOe(){const e=f.useContext(lI);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function BOe(){const e=f.useContext(uI);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function Gf(){const e=BOe(),t=FOe();return e==="system"?t:e}function VOe(e,t){const n=BOe();return f.useMemo(()=>[{title:t("user-menu.color-scheme.system-title"),name:"system",label:t("user-menu.color-scheme.system-description"),selected:n==="system",onSelect:()=>e("system"),icon:h9},{title:t("user-menu.color-scheme.dark-title"),name:"dark",label:t("user-menu.color-scheme.dark-description"),selected:n==="dark",onSelect:()=>e("dark"),icon:k9},{title:t("user-menu.color-scheme.light-title"),name:"light",label:t("user-menu.color-scheme.light-description"),selected:n==="light",onSelect:()=>e("light"),icon:$9}],[n,e,t])}function zOe(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Ep(e,t){return t?e[t]:void 0}function qDn(e,t){var n;return(n=Ep(e,t))==null?void 0:n.initialValue}function o7(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function sm({fieldDefinitions:e,filterDefinitions:t,filters:n,operatorDefinitions:r}){return n.filter(i=>_k({filter:i,filterDefinitions:t,fieldDefinitions:e,operatorDefinitions:r})).map(i=>{var a;return(a=Ep(r,i.operatorType))==null?void 0:a.groqFilter({fieldPath:KDn({filter:i,fieldDefinitions:e,filterDefinitions:t}),value:i==null?void 0:i.value})}).filter(i=>!T5t(i)).filter(ua).join(" && ")}function Sf(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Lo(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function lm({fieldDefinitions:e,filters:t,types:n}){const r=n.map(s=>s.name),i=Object.values(e).filter(s=>t.map(l=>l==null?void 0:l.fieldId).includes(s.id)).filter(s=>s.documentTypes.length>0).map(s=>s.documentTypes),a=MA(...i),o=[];return r.length>0&&o.push(r),a.length>0&&o.push(a),MA(...o).sort()}function KDn({filter:e,fieldDefinitions:t,filterDefinitions:n}){const r=Sf(t,e),i=Kp(n,e.filterName);if(i)switch(i.type){case"field":return r==null?void 0:r.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function _k({filter:e,filterDefinitions:t,fieldDefinitions:n,operatorDefinitions:r}){const i=Kp(t,e.filterName),a=Ep(r,e.operatorType),o=Sf(n,e);return!(!i||!a||e.fieldId&&!o||i.type==="field"&&(!(o!=null&&o.fieldPath)||!e.fieldId||!a.groqFilter({fieldPath:o.fieldPath,value:e.value}))||i.type==="pinned"&&!a.groqFilter({fieldPath:i.fieldPath,value:e.value}))}const ZDn=Qi("escape"),XDn=500,JDn=$.div`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`;function EY({anchorElement:e,children:t,onClose:n}){const{isTopLayer:r}=Ts(),i=f.useCallback(o=>{ZDn(o)&&r&&n()},[r,n]);Yo(i);const a=QDn(e||null);return u.jsxs(u.Fragment,{children:[u.jsx(JDn,{onClick:n}),u.jsx(Yu,{autoFocus:!1,returnFocus:!0,children:u.jsx(ie,{display:"flex",overflow:"hidden",radius:Lb,style:{maxHeight:`min(calc(100vh - ${a}px - ${bk}px - ${U6}px), ${XDn}px`,zIndex:1},children:u.jsx(z,{children:t})})})]})}function gF(e){const t=e.getBoundingClientRect();return t.y+t.height+bk}function QDn(e){const[t,n]=f.useState(e&&gF(e)),r=f.useCallback(()=>{e&&n(gF(e))},[e]);return f.useEffect(()=>{e&&n(gF(e))},[e]),f.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const eMn=$(L)`
  border-bottom: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,tMn=$(z)`
  box-sizing: border-box;
`,UOe=f.forwardRef(function({ariaInputLabel:e,onChange:t,onClear:n,typeFilter:r},i){const{state:{fullscreen:a}}=en(),{t:o}=q();return u.jsx(eMn,{children:u.jsx(tMn,{align:"center",flex:1,padding:1,children:u.jsx(aY,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":e,autoComplete:"off",border:!1,clearButton:!!r,fontSize:a?2:1,icon:Ca,muted:!0,onChange:t,onClear:n,placeholder:o("search.filter-placeholder"),ref:i,spellCheck:!1,radius:2,value:r})})})});function nMn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,schema:r,titleFilter:i,types:a,t:o}){const s=Object.values(t).filter(c=>oMn(c,i)).map(c=>{const d=Kp(n,c.filterName);return d?o7(d,c.id):null}).filter(ua),l=iMn({fieldDefinitions:t,filterDefinitions:n,titleFilter:i});return e.length===0?[...l,...AS({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:o("search.filter-all-fields-header"),id:"field"})]:[...l,...rMn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:s,schema:r,types:a,t:o})]}function AS({fieldDefinitions:e,filterDefinitions:t,filters:n,id:r,headerTitle:i,tone:a}){const o={title:i||"",tone:a||"default",type:"header"},s=n.map(l=>({fieldDefinition:Sf(e,l),filterDefinition:Kp(t,l.filterName),filter:l,group:r,tone:a||"default",type:"filter"}));return s.length>0?[...i?[o]:[],...s]:[]}function rMn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:r,schema:i,types:a,t:o}){const s=r.filter(d=>{const h=Sf(t,d);return uMn(e,h)}),l=e.length>1&&a.length>1?AS({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:o("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],c=e.map(d=>{const h=i.get(d);return{title:(h==null?void 0:h.title)||Vn(h==null?void 0:h.name)||"(Unknown type)",documentType:d}}).sort((d,h)=>d.title.localeCompare(h.title)).map(({documentType:d,title:h})=>{const p=r.filter(m=>{const g=Sf(t,m);return aMn([d],g)});return AS({fieldDefinitions:t,filterDefinitions:n,filters:p,id:h,headerTitle:h})}).flat();return[...l,...c]}function iMn({fieldDefinitions:e,filterDefinitions:t,titleFilter:n}){const r=Object.values(t).filter(lMn).filter(a=>ade(a,n)).map(a=>o7(a)),i=Object.values(t).filter(sMn).filter(a=>ade(a,n)).reduce((a,o)=>(a[o.group]=a[o.group]||[],a[o.group].push(o7(o)),a),{});return[...AS({fieldDefinitions:e,filterDefinitions:t,filters:r,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(([a,o])=>AS({fieldDefinitions:e,filterDefinitions:t,filters:o,headerTitle:a,id:a,tone:"primary"}))]}function aMn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function oMn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function ade(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function sMn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function lMn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function uMn(e,t){return Dg(e,(t==null?void 0:t.documentTypes)||[]).length===0}function HOe({filter:e,maxLength:t}){const{state:{definitions:n}}=en(),r=f.useMemo(()=>{const i=Kp(n.filters,e.filterName);switch(i==null?void 0:i.type){case"field":{const a=Sf(n.fields,e);return a!=null&&a.titlePath?a.titlePath[a.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[n,e]);return r?t&&r.length>t?u.jsxs("span",{children:[r.slice(0,t),""]}):u.jsx("span",{children:r}):null}function cMn({filter:e}){var r;const{state:{definitions:t}}=en(),n=(r=Kp(t.filters,e.filterName))==null?void 0:r.icon;return n?f.createElement(n):u.jsx(Fl,{})}function WOe({filter:e}){var r;const{state:{definitions:t}}=en(),n=Sf(t.fields,e);return u.jsxs(ne,{space:2,children:[(n==null?void 0:n.titlePath)&&((r=n.titlePath)==null?void 0:r.length)>1&&u.jsx(L,{marginLeft:4,children:u.jsx(N,{muted:!0,size:0,children:n.titlePath.slice(0,-1).map((i,a)=>u.jsxs(f.Fragment,{children:[u.jsx("span",{children:i}),a!==n.titlePath.length-2&&u.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:u.jsx(io,{})})]},a))})}),u.jsxs(z,{align:"flex-start",gap:3,children:[u.jsx(L,{style:{flexShrink:0},children:u.jsx(N,{size:1,children:u.jsx(cMn,{filter:e})})}),u.jsx(N,{size:1,weight:"medium",children:u.jsx(HOe,{filter:e})})]})]})}function GOe(e){return f.isValidElement(e)?dMn(ZZt(e)):typeof e=="string"?e:""}function dMn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const yF=10;function fMn({children:e,fieldDefinition:t,filterDefinition:n,visible:r}){const{state:{documentTypesNarrowed:i}}=en(),{t:a}=q(),o=tn(),s=f.useMemo(()=>t!=null&&t.documentTypes?t.documentTypes.map(c=>{const d=o.get(c);return(d==null?void 0:d.title)||Vn(d==null?void 0:d.name)}).filter(ua).sort():[],[t==null?void 0:t.documentTypes,o]),l=f.useMemo(()=>{if(t!=null&&t.documentTypes){const c=t.documentTypes.map(h=>{const p=o.get(h);if(p){const m=zR(p,t.fieldPath);return(m==null?void 0:m.type.description)&&GOe(m==null?void 0:m.type.description)}return null}).filter(ua).sort(),d=Sa(c);if(d.length===1)return d[0]}},[t==null?void 0:t.documentTypes,t==null?void 0:t.fieldPath,o]);return u.jsx(bt,{content:u.jsx(ie,{tone:"default",radius:2,style:{maxWidth:"250px"},children:u.jsxs(ne,{space:4,children:[t&&u.jsxs(ne,{space:3,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-name")}),u.jsx(Xr,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:t==null?void 0:t.name})]}),l&&u.jsxs(ne,{space:3,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-description")}),u.jsx(N,{muted:!0,size:1,children:ese(l,256)})]}),(n==null?void 0:n.description)&&u.jsx(N,{muted:!0,size:1,children:ese(n.description,256)}),!i.length&&s.length>0&&u.jsxs(ne,{space:2,children:[u.jsxs(z,{align:"center",gap:1,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-used-in-document-types")}),u.jsx(ie,{padding:1,radius:2,tone:"transparent",children:u.jsx(N,{size:1,muted:!0,children:s.length})})]}),u.jsxs(N,{size:1,weight:"regular",muted:!0,children:[s.slice(0,yF).join(", "),(s==null?void 0:s.length)>yF?` +${s.length-yF} more`:""]})]})]})}),disabled:!r,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}const hMn=f.memo(function({item:e,onClose:t,...n}){const{dispatch:r,state:{filters:i}}=en(),a=f.useCallback(()=>{r({filter:e.filter,type:"TERMS_FILTERS_ADD"}),t==null||t()},[r,e.filter,t]),o=!!i.find(l=>Lo(l)===Lo(e.filter)),s=!!(e.fieldDefinition||e.filterDefinition.description);return u.jsx(L,{...n,children:u.jsx($t,{disabled:o,fontSize:1,justify:"flex-start",mode:"bleed",onClick:o?void 0:a,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:e==null?void 0:e.tone,children:u.jsx(fMn,{fieldDefinition:e.fieldDefinition,filterDefinition:e.filterDefinition,visible:s,children:u.jsx(L,{padding:3,children:u.jsx(WOe,{filter:e.filter})})})})})}),pMn=f.memo(function({item:e}){return u.jsx(L,{paddingTop:1,children:u.jsx(ie,{borderBottom:!0,paddingX:2,paddingY:3,tone:e==null?void 0:e.tone,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:e.title})})})}),mMn={width:"300px"};function gMn({onClose:e}){const[t,n]=f.useState(null),[r,i]=f.useState(""),{t:a}=q(),o=f.useCallback(b=>i(b.currentTarget.value),[i]),s=f.useCallback(()=>i(""),[]),l=tn(),{state:{documentTypesNarrowed:c,definitions:d,filters:h,terms:{types:p}}}=en(),m=f.useMemo(()=>nMn({documentTypesNarrowed:c,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:r,types:p,t:a}),[c,d.fields,d.filters,l,r,p,a]),g=f.useCallback(b=>b.type==="filter"?u.jsx(hMn,{item:b,onClose:e,paddingBottom:1}):b.type==="header"?u.jsx(pMn,{item:b}):null,[e]),y=f.useCallback(b=>{const x=m[b];return x.type!=="filter"||!!h.find(w=>Lo(w)===Lo(x.filter))},[m,h]),v=f.useCallback(b=>{const x=m[b];switch(x.type){case"filter":return[...x.group?[x.group]:[],Lo(x.filter)].join("-");case"header":return`${x.type}-${x.title}`;default:return b}},[m]);return u.jsxs(z,{direction:"column",style:mMn,children:[u.jsx(UOe,{ariaInputLabel:a("search.filter-by-title-aria-label"),onChange:o,onClear:s,ref:n,typeFilter:r}),u.jsxs(z,{children:[m.length>0&&u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:a("search.filters-aria-label",{count:m.length}),autoFocus:"input",getItemDisabled:y,getItemKey:v,inputElement:t,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:g}),m.length==0&&u.jsx(L,{padding:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:a("search.filter-no-matches-found",{filter:r})})})]})]})}function ode(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),i=f.useRef(null),{t:a}=q(),{state:{fullscreen:o}}=en(),s=f.useCallback(()=>t(!1),[]),l=f.useCallback(()=>t(!0),[]);return xn(s,()=>[n,i.current]),u.jsx(_n,{__unstable_margins:[bk,0,0,0],content:u.jsx(EY,{anchorElement:n,onClose:s,children:u.jsx(gMn,{onClose:s})}),open:e,placement:"bottom-start",radius:Lb,ref:i,portal:!0,children:u.jsx(he,{icon:wa,mode:"bleed",onClick:l,size:o?"large":"default",ref:r,selected:e,text:a("search.action.add-filter")})})}const yMn=f.memo(function({selected:e,type:t,...n}){const{dispatch:r}=en(),i=f.useCallback(()=>{r({type:"TERMS_TYPE_ADD",schemaType:t})},[r,t]),a=f.useCallback(()=>{r({type:"TERMS_TYPE_REMOVE",schemaType:t})},[r,t]),o=f.useCallback(()=>{e?a():i()},[i,a,e]);return u.jsx(L,{...n,children:u.jsx(he,{iconRight:e&&_a,justify:"flex-start",mode:"bleed",onClick:o,width:"fill",size:"large",tabIndex:-1,text:t.title??t.name,tone:e?"primary":"default"},t.title??t.name)})}),vMn=$(L)`
  border-top: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,bMn={width:"250px"};function xMn(){const[e,t]=f.useState(null),[n,r]=f.useState(""),i=f.useRef(null),{t:a}=q(),o=tn(),{dispatch:s,state:{terms:{types:l}}}=en(),[c,d]=f.useState(l),h=CMn(o,l,c,n),p=f.useCallback(w=>r(w.currentTarget.value),[r]),m=f.useCallback(()=>r(""),[]),g=f.useCallback(()=>{var w,C;d([]),s({type:"TERMS_TYPES_CLEAR"}),(w=i==null?void 0:i.current)==null||w.focusInputElement(),(C=i==null?void 0:i.current)==null||C.scrollToIndex(0)},[s]),y=f.useCallback(w=>{const C=h[w];switch(C.type){case"divider":return`${C.type}-${w}`;case"header":return`${C.type}-${C.title}`;case"item":return`${C.type}-${C.item.name}`;default:return w}},[h]),v=f.useCallback(w=>w.type==="divider"?u.jsx(L,{paddingY:1,children:u.jsx(fr,{})}):w.type==="header"?u.jsx(L,{margin:2,padding:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:w.title})}):w.type==="item"?u.jsx(yMn,{paddingBottom:1,selected:w.selected,type:w.item}):null,[]),b=f.useCallback(w=>h[w].type!=="item",[h]),x=f.useCallback(w=>{const C=h[w];return C.type==="item"&&C.selected},[h]);return u.jsxs(z,{direction:"column",style:bMn,children:[u.jsx(UOe,{ariaInputLabel:a("search.action.filter-by-document-type-aria-label"),onChange:p,onClear:m,ref:t,typeFilter:n}),u.jsxs(z,{children:[h.length>0&&u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:a("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:y,inputElement:e,itemHeight:37,items:h,overscan:20,padding:1,paddingBottom:0,ref:i,renderItem:v}),!h.length&&u.jsx(L,{padding:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:a("search.document-types-no-matches-found",{filter:n})})})]}),!n&&l.length>0&&u.jsx(wMn,{onClick:g,selectedTypes:l})]})}function wMn({onClick:e,selectedTypes:t}){const{t:n}=q();return u.jsx(vMn,{padding:1,children:u.jsx(ne,{children:u.jsx(he,{"aria-label":n("search.action.clear-type-filters-aria-label"),"data-name":"type-filter-button",disabled:t.length===0,mode:"bleed",onClick:e,text:n("search.action.clear-type-filters-label"),tone:"primary"})})})}function CMn(e,t,n,r){return f.useMemo(()=>{const[i,a]=oM(uSn(e,r),c=>n.includes(c)),o=i.length>0,s=i.length>0,l=[];return o&&l.push({title:"Selected",type:"header"}),i.forEach(c=>l.push({item:c,selected:t.includes(c),type:"item"})),o&&s&&l.push({type:"divider"}),a.forEach(c=>l.push({item:c,selected:t.includes(c),type:"item"})),l},[e,t,n,r])}const SMn=["top-start","bottom-start"];function EMn(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),i=f.useRef(null),{state:{fullscreen:a,terms:{types:o}}}=en(),{t:s}=q(),l=f.useCallback(()=>t(!1),[]),c=f.useCallback(()=>t(!0),[]);xn(l,()=>[n,i.current]);const d=f.useMemo(()=>xRe({types:o,t:s}),[o,s]);return u.jsx(_n,{__unstable_margins:[bk,0,0,0],content:u.jsx(EY,{anchorElement:n,onClose:l,children:u.jsx(xMn,{})}),open:e,placement:"bottom-start",fallbackPlacements:SMn,portal:!0,radius:Lb,ref:i,children:u.jsx(he,{iconRight:Di,mode:"ghost",onClick:c,size:a?"large":"default",ref:r,selected:e,text:d,tone:"default"})})}const vF=$(L)`
  flex-shrink: ${({$flexShrink:e=0})=>e};
`;function YOe({filter:e,fontSize:t=1,showContent:n=!0}){const{t:r}=q(),{state:{definitions:i,fullscreen:a}}=en(),o=Ep(i.operators,e.operatorType),s=o==null?void 0:o.buttonValueComponent,l=e.value,c=f.useMemo(()=>({Field:()=>u.jsx(vF,{$flexShrink:a?1:0,children:u.jsx(Xr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:u.jsx(HOe,{filter:e,maxLength:a?25:40})})}),Operator:({children:d})=>n?u.jsx(vF,{$flexShrink:0,children:u.jsx(Xr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"regular",children:d})}):null,Value:({children:d})=>n?u.jsx(vF,{$flexShrink:1,children:u.jsx(Xr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:s?u.jsx(s,{value:l}):d})}):null}),[e,t,a,n,s,l]);if(o!=null&&o.descriptionKey||console.warn("Missing `descriptionKey` for operator `%s`",e.operatorType),!n||!(o!=null&&o.descriptionKey)){const d=c.Field;return u.jsx(z,{align:"center",gap:1,children:u.jsx(d,{})})}return u.jsx(z,{align:"center",gap:1,children:u.jsx(gt,{t:r,i18nKey:o==null?void 0:o.descriptionKey,components:c,values:kMn(e)})})}function kMn(e){const t={};return typeof e.value=="number"&&(t.count=e.value),bF(e.value)&&(t.value=e.value),wt(e.value)&&"from"in e.value&&bF(e.value.from)&&(t.from=e.value.from),wt(e.value)&&"to"in e.value&&bF(e.value.to)&&(t.to=e.value.to),t}function bF(e){return typeof e=="string"||typeof e=="number"}function _Mn(e){const{t}=q();return u.jsx(L,{...e,children:u.jsxs(z,{align:"flex-start",gap:3,children:[u.jsx(Xr,{tone:"critical",children:u.jsx(Ta,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Xr,{size:1,tone:"critical",weight:"medium",children:t("search.error.display-filter-title")}),u.jsx(Xr,{size:1,tone:"critical",children:t("search.error.display-filter-description")})]})]})})}function TMn({onClick:e,operator:t,selected:n}){const r=f.useCallback(()=>e(t.type),[e,t.type]),{t:i}=q();return u.jsx(He,{onClick:r,pressed:n,tone:"default",text:i(t.nameKey),iconRight:t==null?void 0:t.icon})}function AMn({filter:e,operator:t}){var l;const n=f.useId(),{t:r}=q(),{dispatch:i,state:a}=en(),o=(l=Kp(a.definitions.filters,e.filterName))==null?void 0:l.operators,s=f.useCallback(c=>{i({filterKey:Lo(e),operatorType:c,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,e]);return!t||!o||o.length<=1?null:u.jsx(Rn,{children:u.jsx(Gt,{button:u.jsx(he,{mode:"ghost",iconRight:Di,text:r(t.nameKey)}),id:n||"",menu:u.jsx(Ot,{children:o.map((c,d)=>{if(c.type==="item"){const h=Ep(a.definitions.operators,c.name);return h?u.jsx(TMn,{onClick:s,operator:h,selected:t.type===c.name},d):null}return c.type==="divider"?u.jsx(fr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function jMn({filter:e}){const[t,n]=f.useState(null),{dispatch:r,state:{definitions:i,fullscreen:a}}=en(),o=Kp(i.filters,e.filterName),s=Ep(i.operators,e.operatorType),l=Sf(i.fields,e),c=Lo(e),d=f.useCallback(()=>{r({filterKey:Lo(e),type:"TERMS_FILTERS_REMOVE"})},[r,e]),h=f.useCallback(g=>{r({filterKey:c,type:"TERMS_FILTERS_SET_VALUE",value:g})},[r,c]),p=f.useCallback(g=>{n(g)},[]),m=s==null?void 0:s.inputComponent;return t?u.jsx(_Mn,{padding:4}):u.jsx(Wv,{onCatch:p,children:u.jsx(Yu,{autoFocus:!A0,returnFocus:!0,children:u.jsxs(z,{direction:"column-reverse",children:[m&&u.jsx(ie,{borderTop:!0,padding:3,children:u.jsx(m,{fieldDefinition:l,onChange:h,value:e.value},e.operatorType)}),u.jsx(ie,{padding:3,children:u.jsxs(ne,{space:3,children:[u.jsxs(z,{align:"flex-start",gap:3,justify:"space-between",children:[u.jsx(L,{paddingLeft:1,paddingRight:2,paddingY:1,children:u.jsx(WOe,{filter:e})}),a&&u.jsx(he,{icon:Jr,mode:"bleed",onClick:d,tone:"critical",tooltipProps:{content:"Remove filter"}})]}),(o==null?void 0:o.description)&&u.jsx(ie,{border:!0,padding:3,radius:2,tone:"transparent",children:u.jsx(N,{muted:!0,size:1,children:o.description})}),u.jsx(AMn,{filter:e,operator:s})]})})]})})})}const IMn=$(z)`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`;function DMn({filter:e}){return u.jsxs(IMn,{direction:"column",children:[u.jsx(jMn,{filter:e}),gRe]})}const MMn=$($t)`
  border-radius: ${({theme:e})=>`0 ${Ce(e.sanity.radius[2])} ${Ce(e.sanity.radius[2])} 0`};
`,RMn=$(ie)`
  position: absolute;
  right: 0;
`,OMn=$.div`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`,$Mn=$($t)`
  border: none;
  width: 100%;
`;function PMn({filter:e,initialOpen:t}){const[n,r]=f.useState(t),[i,a]=f.useState(null),o=f.useRef(null),{dispatch:s,state:{definitions:l,fullscreen:c}}=en(),{t:d}=q(),h=f.useCallback(()=>r(!1),[]),p=f.useCallback(()=>r(!0),[]),m=f.useCallback(()=>s({filterKey:Lo(e),type:"TERMS_FILTERS_REMOVE"}),[s,e]),g=f.useCallback(v=>{["Backspace","Delete"].includes(v.key)&&m()},[m]);xn(h,()=>[i,o.current]);const y=_k({fieldDefinitions:l.fields,filter:e,filterDefinitions:l.filters,operatorDefinitions:l.operators});return u.jsx(_n,{__unstable_margins:[bk,0,0,0],content:u.jsx(EY,{anchorElement:i,onClose:h,children:u.jsx(DMn,{filter:e})}),constrainSize:!0,open:n,overflow:"auto",placement:"bottom-start",portal:!0,radius:Lb,ref:o,children:u.jsxs(OMn,{children:[u.jsx(ie,{__unstable_focusRing:!0,display:"flex",radius:2,tone:y?"primary":"transparent",children:u.jsx($Mn,{mode:"bleed",onClick:p,onKeyDown:g,paddingLeft:c?3:2,paddingRight:c?3:5,paddingY:c?3:2,ref:a,children:u.jsx(YOe,{filter:e,showContent:y})})}),!c&&u.jsx(RMn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:y?"primary":"transparent",children:u.jsx(MMn,{"aria-label":d("search.action.remove-filter-aria-label"),fontSize:1,icon:Nr,mode:"bleed",onClick:m,onKeyDown:g,padding:2,radius:2})})]})})}function kY({showTypeFilter:e=!0}){const{dispatch:t,state:{filters:n,fullscreen:r,lastAddedFilter:i,terms:{types:a}}}=en(),{t:o}=q(),s=f.useRef(!1),l=f.useCallback(()=>{e&&t({type:"TERMS_TYPES_CLEAR"}),t({type:"TERMS_FILTERS_CLEAR"})},[t,e]),c=n.length>0||e&&a.length>0;f.useEffect(()=>{s.current=!0},[]);const d=i&&Lo(i),h=()=>u.jsx(he,{mode:"bleed",onClick:l,size:r?"large":"default",text:o("search.action.clear-filters"),tone:"critical"});return u.jsxs(u.Fragment,{children:[u.jsxs(z,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[u.jsxs(z,{flex:1,gap:2,wrap:"wrap",children:[e&&u.jsx(EMn,{}),n==null?void 0:n.map(p=>{const m=Lo(p);return u.jsx(PMn,{filter:p,initialOpen:s.current&&d===m},m)}),!r&&u.jsx(ode,{})]}),c&&!r&&u.jsx(h,{})]}),r&&u.jsxs(z,{justify:"space-between",paddingBottom:2,paddingX:2,children:[u.jsx(ode,{}),c&&u.jsx(h,{})]}),gRe]})}const FMn=Tp`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NMn=$(Ov)`
  animation: ${FMn} 500ms linear infinite;
`,LMn=$.div`
  line-height: 0;
  position: relative;
`,_Y=f.forwardRef(function({ariaInputLabel:e,onClose:t},n){const r=f.useRef(!1),{t:i}=q(),{dispatch:a,state:{filters:o,filtersVisible:s,fullscreen:l,result:{loading:c},terms:d}}=en(),{types:h,query:p}=d,m=xk({terms:d}),g=i(e||m?"search.search-results-aria-label":"search.recent-searches-aria-label"),y=f.useCallback(()=>a({type:"FILTERS_VISIBLE_SET",visible:!s}),[a,s]),v=f.useCallback(w=>a({type:"TERMS_QUERY_SET",query:w.currentTarget.value}),[a]),b=f.useCallback(()=>{a({type:"TERMS_QUERY_SET",query:""})},[a]);f.useEffect(()=>{l||a({type:"FILTERS_VISIBLE_SET",visible:!0})},[a,l]),f.useEffect(()=>{r.current=!0},[]);const x=o.length>0||h.length>0;return u.jsx(ie,{flex:"none",children:u.jsxs(z,{align:"center",flex:1,gap:l?2:1,padding:l?2:1,children:[l&&u.jsx(he,{"aria-label":i("search.action.close-search-aria-label"),icon:Iv,mode:"bleed",onClick:t,size:"large",tooltipProps:{content:i("search.action.close-search-aria-label")}}),u.jsx(L,{flex:1,children:u.jsx(aY,{__unstable_disableFocusRing:!0,$background:l,$smallClearButton:l,"aria-label":g,autoComplete:"off",border:!1,clearButton:!!p,fontSize:[2,2,1],icon:c?NMn:Ca,onChange:v,onClear:b,placeholder:i("search.placeholder"),radius:2,ref:n,spellCheck:!1,value:p})}),l&&u.jsx(LMn,{children:u.jsx(Ak,{"aria-expanded":s,"aria-label":i("search.action.toggle-filters-aria-label",{context:s?"hide":"show"}),icon:OI,mode:"bleed",onClick:y,selected:s,size:"large",tone:x?"primary":void 0,tooltipProps:{content:i("search.action.toggle-filters-label",{context:s?"hide":"show"})}})})]})})}),BMn=Qi(`mod+${yRe}`),VMn=Qi("escape");function zMn({open:e,onClose:t,onOpen:n}){const{isTopLayer:r}=Ts(),i=f.useCallback(()=>{t==null||t()},[t]),a=f.useCallback(o=>{BMn(o)&&(o.preventDefault(),e?i():n==null||n()),VMn(o)&&e&&r&&i()},[i,r,e,n]);Yo(a)}function qOe({children:e,hasValidTerms:t,onClose:n,onOpen:r,open:i}){const a=f.useRef(!1),{dispatch:o,searchCommandList:s,setOnClose:l,state:{result:c}}=en(),d=f.useCallback(()=>{o({index:(s==null?void 0:s.getTopIndex())??-1,type:"LAST_ACTIVE_INDEX_SET"}),n()},[o,n,s]);return zMn({onClose:d,onOpen:r,open:i}),f.useEffect(()=>{l(()=>d)},[d,l]),f.useEffect(()=>{(!t||c.loaded)&&a.current&&o({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[o,t,c.loaded]),f.useEffect(()=>{!t&&a.current&&!i&&o({type:"ORDERING_RESET"})},[o,t,i]),f.useEffect(()=>{a!=null&&a.current||(a.current=!0)},[]),e}const UMn=3;function KOe(e,t){var o;const n=UR(e).map(s=>s.name),{documentTypes:r,objectTypes:i}=(((o=e._original)==null?void 0:o.types)||[]).filter(s=>sde(s)?n.includes(s.name):!0).filter(s=>s.name!=="slug").filter(s=>!s.name.startsWith("sanity.")).reduce((s,l)=>(sde(l)&&(s.documentTypes[l.name]=l),JOe(l)&&(s.objectTypes[l.name]=l),s),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},a=JCn(t);return WMn(a,r,i)}function ZOe(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function HMn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function WMn(e,t,n){function r({acc:i,defType:a,depth:o=0,documentType:s,prevFieldPath:l,prevTitlePath:c}){var w;const d=o<=UMn,h=a.name.startsWith("_"),p=a!=null&&a.title?GOe(a.title):Vn(a.name),m=l?`${l}.${a.name}`:a.name,g=c?[...c,p]:[p];if(!d)return;const y=n[a.type],v=t[a.type],b=JOe(a)?a:null,x=v||y||b;if(x){(w=x==null?void 0:x.fields)==null||w.forEach(C=>r({acc:i,defType:C,depth:o+1,documentType:s,prevFieldPath:m,prevTitlePath:g}));return}e.includes(a.type)&&i.push({documentTypes:s&&!h?[s]:[],fieldPath:m,filterName:ZMn(a),id:"",name:a.name,titlePath:g,title:p,type:a.type})}return Object.values(t).reduce((i,a)=>{const o=a.fields.reduce((s,l)=>(r({acc:s,defType:l,documentType:a.name}),s),[]);return i.push(...o),i},[]).reduce((i,a)=>{const o=i.findIndex(s=>s.fieldPath===a.fieldPath&&s.title===a.title&&s.type===a.type);return o>-1?i[o]={...i[o],documentTypes:[...i[o].documentTypes,...a.documentTypes]}:i.push(a),i},[]).map(GMn).sort(XMn)}function GMn(e){return{...e,id:HMn(e)}}function YMn(e){var t;return XOe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function XOe(e){return e.type==="array"}function sde(e){return e.type==="document"}function JOe(e){return e.type==="object"}function qMn(e){return e.type==="string"}function KMn(e){var t;return qMn(e)&&((t=e.options)!=null&&t.list)?e.options.list.length>0:!1}function ZMn(e){if(KMn(e))return"stringList";if(XOe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(YMn(e))return"arrayList"}return e.type}function XMn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}const QOe=2,JMn="studio.search.recent",Gx={version:QOe,recentSearches:[]};function QMn(){const e=OMe(),t=Xt(qt),{dataset:n}=t.config(),r=f.useMemo(()=>`${JMn}.${n}`,[n]),[i,a]=f.useState(Gx),o=f.useMemo(()=>e.getKey(r),[e,r]);f.useEffect(()=>{const l=o.pipe(Wi(Gx),fe(c=>c?(c==null?void 0:c.version)!==QOe?(e.setKey(r,Gx),Gx):c:Gx)).subscribe({next:a});return()=>l==null?void 0:l.unsubscribe()},[o,e,r]);const s=f.useCallback(l=>{a(l),e.setKey(r,l)},[e,r]);return f.useMemo(()=>[i,s],[s,i])}const eRn=5,e$e=2;function TY(){const[e,t]=QMn(),n=tn(),{search:{operators:r,filters:i}}=Hn(),{fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s}=f.useMemo(()=>({fieldDefinitions:ZOe(KOe(n,i)),filterDefinitions:hRe(i),operatorDefinitions:zOe(r)}),[i,r,n]);return{addSearch:(l,c)=>{const d=(c||[]).map(m=>({fieldId:m.fieldId,filterName:m.filterName,operatorType:m.operatorType,value:m.value})).filter(m=>_k({fieldDefinitions:a,filter:m,filterDefinitions:o,operatorDefinitions:s})),h={created:new Date().toISOString(),filters:d,terms:{query:l.query.trim(),typeNames:l.types.map(m=>m.name)}},p={version:e$e,recentSearches:[h,...e.recentSearches.filter(m=>!kt(Qa(m,"created"),Qa(h,"created")))].slice(0,eRn)};return t(p),Yx({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:p,setStoredSearch:t})},getRecentSearches:()=>Yx({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t}),removeSearch:()=>{const l={...e,recentSearches:[]};return t(l),Yx({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:l,setStoredSearch:t})},removeSearchAtIndex:l=>{if(l<0||l>e.recentSearches.length)return Yx({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t});const c={...e,recentSearches:[...e.recentSearches.slice(0,l),...e.recentSearches.slice(l+1)]};return t(c),Yx({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:c,setStoredSearch:t})}}}function Yx({schema:e,fieldDefinitions:t,filterDefinitions:n,operatorDefinitions:r,storedSearch:i,setStoredSearch:a}){return tRn({studioSchema:e,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:r,storedSearch:i,setStoredSearch:a}).recentSearches.filter(o=>!!o.terms).map((o,s)=>({__recent:{index:s,timestamp:new Date(o.created).getTime()},filters:o.filters,query:o.terms.query,types:o.terms.typeNames.map(l=>e.get(l)).filter(l=>!!(l&&l.jsonType==="object"))}))}function tRn({fieldDefinitions:e,filterDefinitions:t,operatorDefinitions:n,studioSchema:r,storedSearch:i,setStoredSearch:a}){const o=UR(r).map(c=>c.name),s=i.recentSearches.filter(c=>c.terms.typeNames.every(d=>o.includes(d))&&c.filters.every(d=>_k({fieldDefinitions:e,filter:d,filterDefinitions:t,operatorDefinitions:n}))),l={version:e$e,recentSearches:s};return l.recentSearches.length<i.recentSearches.length&&a(l),l}function nRn(){const{t:e}=q();return u.jsx(z,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:u.jsx(Rn,{space:3,children:u.jsx(N,{muted:!0,children:u.jsx(gt,{t:e,i18nKey:"search.instructions",components:{ControlsIcon:()=>u.jsx(OI,{style:{padding:"0 0.25rem"}},0)}})})})})}function rRn({availableCharacters:e,types:t}){const{t:n}=q(),r=f.useMemo(()=>xRe({availableCharacters:e,types:t,t:n}),[e,t,n]);return u.jsx(ie,{border:!0,padding:2,radius:2,children:u.jsx(N,{muted:!0,size:1,children:r})})}const iRn=$(ie)`
  cursor: default;
`;function aRn({filter:e}){return u.jsx(iRn,{border:!0,padding:2,radius:2,tone:"primary",children:u.jsx(YOe,{filter:e})})}const oRn=40,t$e=$($t)`
  border-radius: ${({theme:e})=>Ce(e.sanity.radius[2])};
  cursor: default;
  width: 100%;
`,sRn=$(L)`
  flex-shrink: 3;
`,lRn=$(z)`
  flex-shrink: 2;
`,uRn=$.div`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    ${t$e}:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`;function cRn({index:e,maxVisibleTypePillChars:t=oRn,value:n,...r}){var c;const{dispatch:i}=en(),a=TY(),o=t-n.query.length,s=f.useCallback(()=>{i({type:"TERMS_SET",filters:n==null?void 0:n.filters,terms:n}),a&&(a==null||a.addSearch(n,n==null?void 0:n.filters))},[i,a,n]),l=f.useCallback(d=>{d.stopPropagation(),a&&(a==null||a.removeSearchAtIndex(e))},[e,a]);return u.jsx(L,{...r,children:u.jsx(t$e,{mode:"bleed",onClick:s,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:u.jsxs(z,{align:"stretch",children:[u.jsxs(Rn,{paddingY:2,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(DI,{})}),u.jsx(N,{children:""})]}),u.jsxs(z,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[n.query&&u.jsx(lRn,{align:"center",paddingY:2,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:n.query})}),n.types.length>0&&u.jsx(sRn,{children:u.jsx(rRn,{availableCharacters:o,types:n.types})}),(c=n==null?void 0:n.filters)==null?void 0:c.map((d,h)=>u.jsx(aRn,{filter:d},h))]}),u.jsx(z,{align:"center",children:u.jsx(uRn,{onClick:l,children:u.jsx(z,{padding:2,children:u.jsx(N,{size:1,children:u.jsx(Nr,{})})})})})]})})})}const dRn=36,fRn=20,hRn=40,pRn=$(ie)`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`;function n$e({inputElement:e}){const{dispatch:t,state:{filtersVisible:n,fullscreen:r}}=en(),i=TY(),a=f.useMemo(()=>i==null?void 0:i.getRecentSearches(),[i]),o=f.useRef(null),{t:s}=q(),l=f.useCallback(()=>{var m;i&&i.removeSearch(),(m=o==null?void 0:o.current)==null||m.focusInputElement()},[i]),c=s0(),d=f.useMemo(()=>c<2?fRn:hRn,[c]),h=f.useCallback((m,{virtualIndex:g})=>u.jsx(cRn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m}),[d]),p=!!a.length;return u.jsx(pRn,{borderTop:p||!p&&!n&&r,flex:1,children:a.length>0?u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingBottom:2,paddingTop:4,paddingX:3,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:s("search.recent-searches-label")})}),u.jsx(L,{children:u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:s("search.recent-searches-aria-label"),inputElement:e,initialIndex:0,itemHeight:dRn,items:a,paddingX:2,paddingY:1,renderItem:h})}),u.jsx(L,{paddingBottom:2,paddingTop:1,paddingX:2,children:u.jsx(he,{mode:"bleed",onClick:l,tone:"default",text:s("search.action.clear-recent-searches"),muted:!0})})]}):!n&&r&&u.jsx(nRn,{})})}function mRn(){const{t:e}=q();return u.jsx(ui,{width:0,children:u.jsxs(ne,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[u.jsx(N,{align:"center",muted:!0,size:1,weight:"medium",children:e("search.no-results-title")}),u.jsx(N,{align:"center",muted:!0,size:1,children:e("search.no-results-help-description")})]})})}const gRn=$(N)`
  &:not([data-muted]) {
    &[data-tone='default'] {
      --card-fg-color: var(--card-badge-default-fg-color);
    }
    &[data-tone='primary'] {
      --card-fg-color: var(--card-badge-primary-fg-color);
    }
    &[data-tone='positive'] {
      --card-fg-color: var(--card-badge-positive-fg-color);
    }
    &[data-tone='caution'] {
      --card-fg-color: var(--card-badge-caution-fg-color);
    }
    &[data-tone='critical'] {
      --card-fg-color: var(--card-badge-critical-fg-color);
    }
  }

  &[data-dimmed] {
    opacity: 0.3;
  }
`,Xr=f.forwardRef(function(e,t){const{tone:n,dimmed:r,muted:i,...a}=e;return u.jsx(gRn,{"data-ui":"TextWithTone","data-dimmed":r?"":void 0,"data-muted":i?"":void 0,"data-tone":n,muted:i,ref:t,...a})});function yRn(){const{t:e}=q();return u.jsxs(z,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[u.jsx(L,{marginBottom:1,children:u.jsx(Xr,{tone:"critical",children:u.jsx(gr,{})})}),u.jsx(Xr,{size:2,tone:"critical",weight:"medium",children:e("search.error.unspecified-error-title")}),u.jsx(Xr,{size:1,tone:"critical",children:e("search.error.unspecified-error-help-description")})]})}const AY=({enableLegacySearch:e})=>({createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",...e?{sort:{direction:"desc",field:"_updatedAt"}}:{},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}}),vRn=$(z)`
  box-sizing: border-box;
`;function lde(e){return e.type==="divider"}function bRn({ordering:e}){const{t}=q(),{dispatch:n,state:{ordering:r}}=en(),i=f.useCallback(()=>{n({ordering:e,type:"ORDERING_SET"})},[n,e]),a=f.useMemo(()=>kt(r,e),[r,e]);return u.jsx(He,{onClick:i,pressed:a,tone:"default",text:t(e.titleKey)})}function xRn(){const{t:e}=q(),{enableLegacySearch:t=!1}=Vr().search,{state:{ordering:n}}=en(),r=f.useId(),i=f.useMemo(()=>{const o=AY({enableLegacySearch:t});return[o.relevance,{type:"divider"},o.createdAsc,o.createdDesc,{type:"divider"},o.updatedAsc,o.updatedDesc]},[t]),a=i.find(o=>kt(n,o)&&!lde(o));return a?u.jsx(ie,{borderBottom:!0,children:u.jsx(vRn,{align:"center",flex:1,padding:2,children:u.jsx(Gt,{button:u.jsx(he,{mode:"bleed",icon:Oy,text:e(a.titleKey)}),id:r||"",menu:u.jsx(Ot,{children:i.map((o,s)=>lde(o)?u.jsx(fr,{},s):u.jsx(bRn,{ordering:o},s))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}const wRn=$(ie)`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`;function CRn({data:e}){const{score:t}=e;let n="default";t<=.1?n="critical":t>=.5&&(n="primary");const r=e.stories.filter(i=>i.score>0);return u.jsx(u.Fragment,{children:u.jsx(bt,{content:u.jsx(ne,{space:2,children:r.length?u.jsx(u.Fragment,{children:r.map(i=>u.jsxs(Rn,{space:3,children:[u.jsx(mi,{size:0,weight:"medium",children:i.path}),u.jsx(mi,{size:0,children:i.why})]},i.path))}):u.jsx(mi,{size:0,children:"No matches"})}),placement:"bottom-start",portal:!0,children:u.jsx(wRn,{padding:1,shadow:1,tone:n,children:u.jsxs(mi,{size:0,children:["score: ",t]})})})})}const SRn=57,ERn=4,kRn=$(z)`
  opacity: ${({$loading:e})=>e?.5:1};
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`;function r$e({disableIntentLink:e,inputElement:t,onItemSelect:n}){const{dispatch:r,onClose:i,setSearchCommandList:a,state:{debug:o,filters:s,fullscreen:l,lastActiveIndex:c,result:d,terms:h}}=en(),{t:p}=q(),m=TY(),g=!!d.hits.length,y=!d.hits.length&&d.loaded,v=d.error,b=f.useCallback(()=>{m&&m.addSearch(h,s),i==null||i()},[s,i,m,h]),x=f.useCallback(()=>{r({type:"PAGE_INCREMENT"})},[r]),w=f.useCallback(C=>u.jsxs(u.Fragment,{children:[u.jsx(tY,{disableIntentLink:e,documentId:pn(C.hit._id)||"",documentType:C.hit._type,onClick:b,onItemSelect:n,paddingY:1}),o&&u.jsx(CRn,{data:C})]}),[o,e,b,n]);return u.jsx(z,{children:u.jsx(ie,{borderTop:l||!!(v||g||y),flex:1,children:u.jsxs(z,{direction:"column",height:"fill",children:[g&&u.jsx(xRn,{}),u.jsx(kRn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?u.jsx(yRn,{}):u.jsxs(u.Fragment,{children:[g&&u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:p("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:c,inputElement:t,itemHeight:SRn,items:d.hits,overscan:ERn,onEndReached:x,paddingX:2,paddingY:1,ref:a,renderItem:w}),y&&u.jsx(mRn,{})]})})]})})})}const ude={duration:.4,type:"spring"},_Rn={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},TRn={open:{opacity:1},closed:{opacity:0}},cde=12,ARn=$(Mi(ie))`
  background-color: var(--card-backdrop-color);
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`,jRn=$(Mi(ie))`
  display: flex !important;
  flex-direction: column;
  left: 50%;
  max-height: min(
    calc(100vh - ${cde}vh - ${U6}px),
    ${sSn}px
  );
  position: absolute;
  top: ${cde}vh;
  width: min(calc(100vw - ${U6*2}px), ${lSn}px);
`;function i$e({disableFocusLock:e,disableIntentLink:t,onClose:n,onItemSelect:r,onOpen:i,open:a}){const[o,s]=f.useState(null),l=f.useRef(null),{isTopLayer:c,zIndex:d}=Ts();q();const{onClose:h,state:{filtersVisible:p,terms:m}}=en(),g=xk({terms:m});return xn(c&&a&&!!h&&h,()=>[l.current]),u.jsx(qOe,{hasValidTerms:g,onClose:n,onOpen:i,open:a,children:u.jsx(sl,{children:a&&u.jsx(Pp,{children:u.jsxs(Yu,{autoFocus:!A0,disabled:e,returnFocus:!0,children:[u.jsx(ARn,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:d},transition:ude,variants:TRn}),u.jsxs(jRn,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:Lb,ref:l,shadow:2,style:{zIndex:d},transition:ude,variants:_Rn,children:[u.jsx(_Y,{onClose:n,ref:s}),p&&u.jsx(ie,{borderTop:!0,flex:"none",children:u.jsx(kY,{})}),g?u.jsx(r$e,{inputElement:o,onItemSelect:r,disableIntentLink:t}):u.jsx(n$e,{inputElement:o})]})]})})})})}function a$e(e){return typeof e.__recent<"u"}const s7="core:studio:navbar:search:";gi(s7);function IRn(e){const t=`${s7}${e}`;return gi&&gi.enabled(t)?gi(t):gi(s7)}function DRn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(iSn)}function MRn({currentUser:e,fullscreen:t,definitions:n,pagination:r,enableLegacySearch:i}){return{currentUser:e,debug:DRn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:t,lastActiveIndex:-1,ordering:AY({enableLegacySearch:i}).relevance,...r,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:n,enableLegacySearch:i}}const RRn=IRn("reducer");function ORn(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),RRn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:AY({enableLegacySearch:e.enableLegacySearch}).relevance,terms:um(e.terms),result:{...e.result,hasLocal:!1}};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:um(e.terms),result:{...e.result,hasLocal:!1}};case"PAGE_INCREMENT":return{...e,cursor:e.nextCursor??e.cursor,nextCursor:null,terms:um(e.terms)};case"SEARCH_CLEAR":return{...e,cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,nextCursor:t.nextCursor??null,result:{...e.result,error:null,hasLocal:!0,hits:e.result.hasLocal?$Rn([...e.result.hits,...t.hits]):t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:qDn(e.definitions.operators,t.filter.operatorType)},i=[...e.filters,r];return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:i,types:e.terms.types}),filters:i,lastAddedFilter:r,terms:{...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:i,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(a=>Lo(a)===t.filterKey),i=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:i,types:e.terms.types}),filters:i,terms:{...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:i,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(c=>Lo(c)===t.filterKey),i=Ep(e.definitions.operators,r==null?void 0:r.operatorType),a=Ep(e.definitions.operators,t.operatorType),o=a==null?void 0:a.initialValue,s=(i==null?void 0:i.inputComponent)!=(a==null?void 0:a.inputComponent),l=e.filters.map(c=>Lo(c)===t.filterKey?{...c,operatorType:t.operatorType,...s?{value:o}:{}}:c);return{...e,filters:l,terms:{...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(i=>Lo(i)===t.filterKey?{...i,value:t.value}:i);return{...e,filters:r,terms:{...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_QUERY_SET":return{...e,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:um({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],i=[...e.terms.types||[],...t.terms.types].sort(H6);return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:r,types:i}),filters:r,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:{...t.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(H6),i=lm({fieldDefinitions:e.definitions.fields,filters:[],types:r}),a=e.filters.filter(o=>{const s=Sf(e.definitions.fields,o);return s?s.documentTypes.length===0?!0:i.every(l=>s.documentTypes.findIndex(c=>c===l)>-1):!0});return{...e,documentTypesNarrowed:i,filters:a,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:um({...e.terms,filter:sm({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:a}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(i=>i!==t.schemaType);return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:um({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:lm({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:um({...e.terms,types:[]})}}default:return e}}function um(e){if(a$e(e)){const{__recent:t,...n}=e;return n}return e}function $Rn(e){const t=e.reduce((n,r)=>{const i=pn(r.hit._id);return{...n,[i]:r}},{});return Object.values(t)}function jY({children:e,fullscreen:t}){const[n,r]=f.useState(null),[i,a]=f.useState(null),o=tn(),s=tr(),{search:{operators:l,filters:c,enableLegacySearch:d}}=Hn(),{fieldDefinitions:h,filterDefinitions:p,operatorDefinitions:m}=f.useMemo(()=>({fieldDefinitions:ZOe(KOe(o,c)),filterDefinitions:hRe(c),operatorDefinitions:zOe(l)}),[c,l,o]),g=f.useMemo(()=>MRn({currentUser:s,fullscreen:t,definitions:{fields:h,operators:m,filters:p},pagination:{cursor:null,nextCursor:null},enableLegacySearch:d}),[s,h,p,t,m,d]),[y,v]=f.useReducer(ORn,g),{documentTypesNarrowed:b,filters:x,ordering:w,cursor:C,result:S,terms:E}=y,k=f.useRef(!1),_=f.useRef(g.ordering),T=f.useRef(g.cursor),j=f.useRef(g.terms),{handleSearch:A,searchState:I}=vRe({initialState:{...S,terms:E},onComplete:F=>v({...F,type:"SEARCH_REQUEST_COMPLETE"}),onError:F=>v({error:F,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>v({type:"SEARCH_REQUEST_START"}),schema:o}),M=xk({terms:E}),D=b.map(F=>o.get(F)),O=x.filter(F=>_k({fieldDefinitions:h,filter:F,filterDefinitions:p,operatorDefinitions:m}));f.useEffect(()=>{var U,H;const F=!kt(w,_.current),P=C!==T.current,V=!kt(E,j.current);if(F||P||V){let W="findability-sort:";(w!=null&&w.customMeasurementLabel||w.sort)&&(W+=(w==null?void 0:w.customMeasurementLabel)||`${(U=w.sort)==null?void 0:U.field} ${(H=w.sort)==null?void 0:H.direction}`),A({options:{comments:[...a$e(E)?[`findability-recent-search:${E.__recent.index}`]:[],`findability-selected-types:${E.types.length}`,W,"findability-source: global",`findability-filter-count:${O.length}`],limit:aSn,skipSortByScore:w.ignoreScore,...w.sort?{sort:[w.sort]}:{},cursor:C||void 0},terms:{...E,...D?{types:D}:{}}}),T.current=C}_.current=w,j.current=E},[O.length,x,D,A,M,w,I.terms,E,C]),f.useEffect(()=>{!M&&(k!=null&&k.current)&&S.hits.length>0&&v({type:"SEARCH_CLEAR"}),k.current=!0},[v,M,S.hits,E.query,E.types]);const R=f.useMemo(()=>({dispatch:v,onClose:n,searchCommandList:i,setSearchCommandList:a,setOnClose:r,state:{...y,fullscreen:t}}),[t,n,i,y]);return u.jsx($he.Provider,{value:R,children:e})}const dde=f.forwardRef(function({onClick:e},t){const{t:n}=q();return u.jsx(he,{"aria-label":n("search.action-open-aria-label"),"data-testid":"studio-search",icon:Ca,tooltipProps:{content:n("search.button.tooltip"),hotkeys:[oSn,yRe.toUpperCase()],portal:!0},onClick:e,mode:"bleed",ref:t})}),PRn=$(ie)`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`,FRn=$(L)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`;function NRn({onClose:e,onOpen:t,open:n}){const[r,i]=f.useState(null),a=Gf(),{state:{filtersVisible:o,terms:s}}=en(),l=xk({terms:s});return u.jsx(qOe,{hasValidTerms:l,onClose:e,onOpen:t,open:n,children:n&&u.jsx(Pp,{children:u.jsx(Yu,{autoFocus:!A0,returnFocus:!0,children:u.jsx(FRn,{children:u.jsxs(PRn,{display:"flex",height:"fill",scheme:a,tone:"default",children:[u.jsx(_Y,{onClose:e,ref:i}),o&&u.jsx(ie,{borderTop:!0,flex:"none",children:u.jsx(kY,{})}),l?u.jsx(r$e,{inputElement:r}):u.jsx(n$e,{inputElement:r})]})})})})})}function LRn(e){const{activeTool:t}=e;return f.createElement(t.component,{tool:t})}function BRn(){return u.jsx(ie,{height:"fill",children:u.jsx(z,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(ui,{width:0,children:u.jsx(ie,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(z,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsxs(ne,{flex:1,marginLeft:3,space:3,children:[u.jsx(N,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),u.jsx(N,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function VRn(e){const{reason:t="Redirecting"}=e;return u.jsx(ie,{height:"fill",children:u.jsx(z,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(ui,{width:0,children:u.jsx(ie,{padding:4,radius:2,shadow:1,tone:"primary",children:u.jsxs(z,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(PI,{})})}),u.jsx(ne,{flex:1,marginLeft:3,space:3,children:u.jsx(N,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function zRn(e){const{toolName:t}=e;return u.jsx(ie,{height:"fill",children:u.jsx(z,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(ui,{width:0,children:u.jsx(ie,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(z,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(gr,{})})}),u.jsx(ne,{flex:1,marginLeft:3,space:3,children:u.jsxs(N,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",u.jsx("code",{children:t})]})})]})})})})})}const IY=()=>{if(typeof document>"u"||!("querySelectorAll"in document))return!1;const e=document.querySelectorAll('script[type="importmap"]');return Array.from(e).some(t=>t.textContent?"sanity"in(JSON.parse(t.textContent).imports||{}):!1)};function o$e(e){let t=[],n;const r=dTe(e),i=async l=>n?a(l):(typeof n>"u"&&t.push(l),{}),a=async l=>r.send(l),o=async l=>{n=l,l&&await s(),t=[]},s=async()=>{await Promise.all(t.map(a)).catch(l=>{console.error("Failed to send buffered events from transport: ",l)})};return{flush:async()=>r.flush(),send:i,setConsent:o}}const s$e="https://8914c8dde7e1ebce191f15af8bf6b7b9@sentry.sanity.io/4507342122123264",URn=!("__sanityErrorChannel"in sje),Yj=kb&&!!localStorage.getItem("SANITY_DEBUG_ERROR_REPORTING"),HRn=typeof window<"u",fde={dsn:s$e,release:jl,environment:"production",debug:Yj,enabled:HRn&&!cl,transport:o$e},hde=[iTe(),rTe(),mTe({eventTarget:!1}),pTe({console:!1}),gTe({onerror:!0,onunhandledrejection:!0}),bTe(),aTe(),ZRn(),vTe()];function WRn(){let e,t;function n(){var c;if(e||!Yj&&!IY()||!Yj&&URn)return;const s=iGt(),l=s&&((c=Ea())==null?void 0:c.getOptions().dsn)===s$e;if(s&&!l){e=Ea(),t=Hc();return}if(l){e=new uTe({...fde,stackParser:fTe,integrations:hde,beforeSend:pde,transport:o$e}),t=new vf,t.setClient(e),e.init();return}tqt({...fde,defaultIntegrations:!1,integrations:hde,beforeSend:pde}),e=Ea(),t=Hc()}function r(s,l={}){if(!e)return console.warn("[reportError] called before reporter is initialized, skipping"),null;const{reactErrorInfo:c={},errorBoundary:d}=l,{componentStack:h}=c,p={};h&&(p.react={componentStack:h});const m={handled:"no"};d&&(m.errorBoundary=d);let g=null;return G_e(()=>{if(h&&l$e(s)){const y=new Error(s.message);y.name=`${d||"ErrorBoundary"} ${s.name}`,y.stack=h,qRn(s,y)}g=K_e(s,{mechanism:{handled:!1},captureContext:{contexts:p,tags:m}})}),g?{eventId:g}:null}function i(s){return!!s&&"setConsent"in s&&typeof s.setConsent=="function"}function a(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!0)}function o(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!1)}return{initialize:n,reportError:r,enable:a,disable:o}}const GRn=Object.prototype.toString;function l$e(e){switch(GRn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return YRn(e,Error)}}function YRn(e,t){try{return e instanceof t}catch{return!1}}function qRn(e,t){const n=new WeakMap;function r(i,a){if(!n.has(i)){if(l$e(i.cause)){n.set(i,!0),r(i.cause,a);return}i.cause=a}}r(e,t)}function KRn(e){var t;for(const n of((t=e.exception)==null?void 0:t.values)||[])n.mechanism&&(n.mechanism.handled=!1)}function pde(e){return KRn(e),e}function ZRn(){const e=[];return{name:"SanityDedupe",processEvent(t){if(t.type)return t;try{if(XRn(t,e))return Yj&&console.warn("[sanity/sentry] Dropping error from being reported because it is a duplicate"),null}catch{}return e.length>10&&e.shift(),e.push(t),t}}}function XRn(e,t){for(const n of t){const r=mde(e),i=mde(n);if(r&&i&&r!==i)continue;const a=Math.floor(e.timestamp||0),o=Math.floor(n.timestamp||0);if(Math.abs(a-o)<300)return!0}return!1}function mde(e){if(e.message)return e.message;if(e.exception){for(const t of e.exception.values||[])if(t.value)return t.value}}const l7=WRn(),JRn="https://www.sanity.io/docs/workspaces",u$e=Gp(e=>Hi(e.map(t=>t.auth.state.pipe(fe(n=>[t.name,n])))).pipe(fe(t=>Object.fromEntries(t)))),u7={"logged-in":"","logged-out":"Signed out","no-access":""},QRn=$.div`
  width: ${e=>e.$size==="small"?"25px":"41px"};
  height: ${e=>e.$size==="small"?"25px":"41px"};

  svg {
    width: 100%;
    height: 100%;
  }
`,DY=({icon:e,size:t="small"})=>{const n=f.useMemo(()=>c$e(e),[e]);return u.jsx(QRn,{$size:t,children:n})},c$e=e=>{if(ka.isValidElementType(e))return f.createElement(e);if(f.isValidElement(e))return e};function gde(e){const{state:t,subtitle:n,selected:r,title:i,icon:a,iconRight:o}=e,s=f.useMemo(()=>c$e(o),[o]);return u.jsxs(z,{align:"center",flex:"none",gap:3,children:[u.jsx(DY,{icon:a,size:"small"}),u.jsxs(ne,{flex:1,space:2,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:i}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&u7[t]&&u.jsx(L,{paddingLeft:1,children:u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:u7[t]})}),(r||s)&&u.jsxs(z,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&u.jsx(N,{children:u.jsx(_a,{})}),s&&u.jsx(N,{muted:!0,children:s})]})]})}const yde=[{url:"https://slack.sanity.io/",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],eOn=$(N)`
  a {
    color: inherit;
  }
`;function vde(e){const{children:t,footer:n,header:r}=e;return q(),u.jsxs(ne,{space:6,children:[u.jsx(ie,{border:!0,radius:3,overflow:"auto",children:u.jsxs(ne,{children:[typeof r=="object"&&u.jsx(L,{children:r}),typeof r=="string"&&u.jsx(L,{paddingY:4,children:u.jsx(Gi,{align:"center",size:1,children:r})}),u.jsx(L,{paddingX:1,children:u.jsx(ie,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&u.jsx(L,{children:n})]})}),u.jsxs(z,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[u.jsx(N,{size:3,children:u.jsx(ETe,{})}),u.jsx(z,{align:"center",gap:2,children:yde.map((i,a)=>u.jsxs(f.Fragment,{children:[u.jsx(eOn,{muted:!0,size:1,children:u.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:i.title})}),a<yde.length-1&&u.jsx(N,{size:1,muted:!0,children:""})]},i.title))})]})]})}function tOn(){var d;const e=ok(),{activeWorkspace:t,setActiveWorkspace:n}=Xp(),[r]=u$e(e),[i,a]=f.useState((t==null?void 0:t.name)||null),o=e.length===1?e[0]:e.find(h=>h.name===i),s=(d=o==null?void 0:o.auth)==null?void 0:d.LoginComponent,l=f.useCallback(()=>a(null),[]),{t:c}=q();return r?s&&o?u.jsxs(ne,{space:2,children:[e.length>1&&u.jsx(z,{children:u.jsx(he,{icon:Iv,mode:"bleed",onClick:l,text:c("workspaces.action.choose-another-workspace")})}),u.jsx(vde,{header:u.jsx(L,{padding:3,children:u.jsx(gde,{icon:o.icon,title:o.title,subtitle:o==null?void 0:o.subtitle})}),children:u.jsx(ne,{padding:2,paddingBottom:3,paddingTop:4,children:u.jsx(s,{projectId:o.projectId,redirectPath:window.location.pathname.startsWith(o.basePath)?`${window.location.pathname}${window.location.search}`:o.basePath},i)})})]}):u.jsx(vde,{header:c("workspaces.choose-your-workspace-label"),footer:u.jsx(ne,{padding:1,children:u.jsx(he,{as:"a",href:JRn,icon:wa,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:c("workspaces.action.add-workspace")})}),children:u.jsx(ne,{space:1,paddingX:1,paddingY:2,children:e.map(h=>{const p=r[h.name].authenticated?"logged-in":h.auth.LoginComponent?"logged-out":"no-access";return u.jsx(ie,{as:"button",radius:2,padding:2,onClick:()=>{p==="logged-in"&&h.name!==t.name&&n(h.name),p==="logged-out"&&a(h.name)},children:u.jsx(gde,{icon:h==null?void 0:h.icon,iconRight:io,state:p,subtitle:h==null?void 0:h.subtitle,title:(h==null?void 0:h.title)||h.name})},h.name)})})}):u.jsx(bn,{showText:!0})}const nOn=$(Ot)`
  max-width: 350px;
  min-width: 250px;
`,rOn={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end"};function d$e(){const e=ok(),{activeWorkspace:t}=Xp(),[n]=u$e(e),{t:r}=q();if(!(e.length>1))return null;const i=!n;return u.jsx(Gt,{button:u.jsx(z,{children:u.jsx(bt,{content:r("workspaces.select-workspace-tooltip"),disabled:i,portal:!0,children:u.jsx($t,{disabled:i,mode:"bleed",padding:2,width:"fill",children:u.jsxs(z,{align:"center",gap:2,children:[u.jsx(L,{children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:t.title})}),u.jsx(N,{size:1,children:u.jsx(Di,{})})]})})})}),id:"workspace-menu",menu:!i&&n?u.jsx(nOn,{children:e.map(a=>{const o=n[a.name].authenticated?"logged-in":a.auth.LoginComponent?"logged-out":"no-access",s=a.name===t.name;return u.jsx(He,{as:"a",href:a.basePath,badgeText:u7[o],iconRight:s?_a:void 0,pressed:s,preview:u.jsx(DY,{icon:a.icon,size:"small"}),selected:s,__unstable_subtitle:a.subtitle,__unstable_space:1,text:(a==null?void 0:a.title)||a.name},a.name)})}):void 0,popover:rOn})}function f$e(){return u.jsx(ie,{height:"fill",overflow:"auto",paddingX:4,children:u.jsx(z,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:u.jsx(ui,{width:0,children:u.jsx(tOn,{})})})})}function iOn(){return u.jsx(u.Fragment,{children:"TODO: implement config errors screen"})}const aOn=$.label`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`;function oOn(e){const{projectId:t}=e,n=window.location.origin,r=f.useMemo(()=>{const i=new URL(`https://sanity.io/manage/project/${t}/api`);return i.searchParams.set("cors","add"),i.searchParams.set("origin",n),i.searchParams.set("credentials",""),i.toString()},[n,t]);return f.useEffect(()=>{const i=()=>{window.location.reload()};return window.addEventListener("focus",i),()=>{window.removeEventListener("focus",i)}},[]),u.jsx(ie,{height:"fill",children:u.jsx(Ri,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:{confirmButton:{text:"Continue",iconRight:Wc,as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},children:u.jsxs(ne,{space:4,children:[u.jsxs(N,{children:["To access your content, you need to ",u.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),u.jsx(aOn,{"aria-hidden":"true",children:"CORS URL to be added"}),u.jsx(Lr,{value:n,readOnly:!0})]})})})}function MY(){const[e,t]=f.useState(null),[n,r]=f.useState(null);if(n)throw n;const{activeWorkspace:i}=Xp(),a=f.useCallback(()=>{var l,c;(c=(l=i.auth).logout)==null||c.call(l)},[i]);f.useEffect(()=>{const l=i.auth.state.subscribe({next:({currentUser:c})=>{t(c)},error:r});return()=>{l.unsubscribe()}},[i]);const o=WW(e==null?void 0:e.provider),s=o?` through ${o}`:"";return u.jsx(ie,{height:"fill",children:u.jsx(Ri,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:{confirmButton:{text:"Sign out",onClick:a,tone:"default"}},children:u.jsxs(ne,{space:4,children:[u.jsx(N,{children:"You are not authorized to access this studio. Please contact someone with access to invite you to this project."}),u.jsxs(N,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",u.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),s,"."]})]})})})}function sOn(e){return u.jsx(ie,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:u.jsx(z,{direction:"row",justify:"center",flex:1,align:"center",children:u.jsxs(ne,{space:4,children:[u.jsx(Gi,{as:"h1",children:"Workspace not found"}),u.jsx(Rn,{children:u.jsx(he,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const bde=150;function lOn(){const[e,t]=f.useState(null),[n,r]=f.useState(),[i,a]=f.useState(),o=_r(),[s,l]=f.useState(null),[c,d]=f.useState(),[h,p]=f.useState(!0),[m,g]=f.useState(!1),[y,v]=f.useState(!1),[b,x]=f.useState(!1),[w,C]=f.useState(!1),[S,E]=f.useState(!1),[k,_]=f.useState(),[T,j]=f.useState(0),{activeWorkspace:A}=Xp(),I=f.useCallback(()=>{var R,F;(F=(R=A.auth).logout)==null||F.call(R)},[A]);f.useEffect(()=>{const R=A.auth.state.subscribe({next:({client:F,currentUser:P})=>{a(F.config().projectId),r(F.withConfig({apiVersion:"2024-07-01"})),t(P)},error:l});return()=>{R.unsubscribe()}},[A]),f.useEffect(()=>{!n||!i||n.request({url:"/access/requests/me"}).then(R=>{if(R&&(R!=null&&R.length)){const F=R.filter(P=>P.resourceId===i);if(F.find(P=>P.status==="declined")){E(!0);return}if(F.find(P=>P.status==="pending"&&NA(yL(new Date(P.createdAt),2),new Date))){v(!0);return}F.find(P=>P.status==="pending"&&YU(yL(new Date(P.createdAt),2),new Date))&&x(!0)}}).catch(R=>{console.error(R),l(!0)}).finally(()=>{p(!1)})},[n,i]);const M=f.useCallback(()=>{!n||!i||(g(!0),n.request({url:`/access/project/${i}/requests`,method:"post",body:{note:k,requestUrl:window==null?void 0:window.location.href}}).then(R=>{R&&v(!0)}).catch(R=>{var V,U,H;const F=(V=R==null?void 0:R.response)==null?void 0:V.statusCode,P=(H=(U=R==null?void 0:R.response)==null?void 0:U.body)==null?void 0:H.message;F===429&&(C(!0),d(P)),F===409?(E(!0),d(P)):o.push({title:"There was a problem submitting your request.",status:P})}).finally(()=>{g(!1)}))},[k,i,n,o]),D=WW(e==null?void 0:e.provider),O=D?` through ${D}`:"";return h?u.jsx(bn,{}):s?u.jsx(MY,{}):u.jsx(ie,{height:"fill",children:u.jsx(Ri,{id:"not-authorized-dialog",header:"Not authorized",width:1,children:u.jsxs(L,{children:[u.jsxs(ne,{space:4,children:[u.jsxs(N,{children:["You are not authorized to access this studio (currently signed in as"," ",u.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),O,")."]}),w||y||S?u.jsx(ie,{tone:y?"transparent":"caution",padding:3,radius:2,shadow:1,children:u.jsxs(N,{size:1,children:[w&&!y&&u.jsx(u.Fragment,{children:c??`You've reached the limit for access requests across all projects. Please wait
                      before submitting more requests or contact an admin for assistance.`}),y&&u.jsx(u.Fragment,{children:"Your request to access this project is pending approval."}),S&&u.jsx(u.Fragment,{children:c??"Your request to access this project has been declined."})]})}):u.jsxs(u.Fragment,{children:[u.jsx(N,{children:b?u.jsx(u.Fragment,{children:"Your previous request has expired. You may again request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."}):u.jsx(u.Fragment,{children:"You can request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."})}),u.jsxs(ne,{space:3,paddingBottom:0,children:[u.jsx(Lr,{maxLength:bde,disabled:m,onKeyDown:R=>{R.key==="Enter"&&M()},onChange:R=>{_(R.currentTarget.value),j(R.currentTarget.value.length)},value:k,placeholder:"Add your note"}),u.jsx(N,{align:"right",muted:!0,size:1,children:`${T}/${bde}`})]})]})]}),u.jsxs(z,{align:"center",justify:"space-between",paddingTop:4,children:[u.jsx(he,{mode:"bleed",text:"Sign out",tone:"default",onClick:I,size:"large"}),!w&&!S&&u.jsx(he,{mode:"default",text:y?"Request sent":"Request access",disabled:y||m,loading:m,tone:"default",onClick:M,size:"large"})]})]})})})}function uOn(e){return e.map(t=>t.kind==="type"?`${t.name||"<unnamed>"}(${t.type})`:t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function cOn(e){var n;const t=(n=e._validation)==null?void 0:n.filter(r=>r.problems.some(i=>i.severity==="warning"));(t==null?void 0:t.length)!==0&&(console.groupCollapsed(` Schema has ${t==null?void 0:t.length} warnings`),t==null||t.forEach(r=>{const i=uOn(r.path);console.group(`%cAt ${i}`,"color: #FF7636"),r.problems.forEach(a=>{console.log(a.message)}),console.groupEnd()}),console.groupEnd())}const dOn={error:"critical",warning:"caution"},xde=$.code`
  && {
    background: none;
    color: inherit;
  }
`,fOn=$(N)`
  white-space: pre-line;
`;function h$e(e){const{problemGroups:t}=e;q();const n=f.useMemo(()=>{const r=[];for(const i of t)for(const a of i.problems)r.push({group:i,problem:a});return r},[t]);return u.jsx(ne,{as:"ul",space:4,children:n.map(({group:r,problem:i},a)=>{const o=i.severity==="error",s=i.severity==="warning",l=hOn(r);return u.jsxs(ie,{border:!0,padding:4,radius:2,tone:dOn[i.severity],children:[u.jsxs(z,{children:[u.jsx(L,{marginRight:3,children:u.jsxs(N,{muted:!0,size:1,children:[o&&u.jsx(Ta,{}),s&&u.jsx(gr,{})]})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,weight:"medium",children:l?u.jsxs(u.Fragment,{children:[x0(l.type),' type "',l.name,'"']}):null})})]}),u.jsx(L,{marginTop:4,children:u.jsx(ie,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx($V,{separator:u.jsx(N,{muted:!0,size:1,children:""}),children:r.path.map((c,d)=>{if(c.kind==="type"){const h=`${pOn(c.name||`<anonymous ${c.type}>`)}:${c.type}`;return u.jsx(N,{title:h,size:1,textOverflow:"ellipsis",children:u.jsx(xde,{children:h})},d)}return c.kind==="property"?u.jsx(N,{title:c.name,size:1,textOverflow:"ellipsis",children:u.jsx(xde,{children:c.name})},d):null})})})}),u.jsx(L,{as:"ul",marginTop:4,children:u.jsx(L,{as:"li",children:u.jsxs(ne,{space:3,children:[u.jsx(fOn,{muted:!0,size:1,children:i.message}),i.helpId&&u.jsx(N,{muted:!0,size:1,children:u.jsx("a",{href:txe(i.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},a)})})}function hOn(e){const t=e.path[0];return t.kind==="type"?{name:t.name||`<anonymous ${t.type}>`,type:t.type}:null}function pOn(e){return e!=null&&e.startsWith("<unnamed_type_@_index")?`[${e.slice(1,-1).split("_")[4]}]`:e}function mOn({schema:e}){var n;const t=((n=e._validation)==null?void 0:n.filter(r=>r.problems.some(i=>i.severity==="error")))||[];return f.useEffect(()=>cOn(e),[e]),u.jsx(ie,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:u.jsx(ui,{width:1,children:u.jsxs(ne,{space:5,children:[u.jsx(Gi,{as:"h1",children:"Schema errors"}),u.jsx(h$e,{problemGroups:t})]})})})}const wde={componentStack:null,error:null,eventId:null};function p$e({children:e,heading:t="An error occured"}){const[{error:n,eventId:r},i]=f.useState(wde),a=wt(n)&&typeof n.message=="string"&&n.message,o=wt(n)&&typeof n.stack=="string"&&n.stack,s=f.useCallback(()=>i(wde),[]),l=f.useCallback(c=>{const d=l7.reportError(c.error,{reactErrorInfo:c.info,errorBoundary:"StudioErrorBoundary"});i({error:c.error,componentStack:c.info.componentStack,eventId:(d==null?void 0:d.eventId)||null})},[]);return _Te(s),n instanceof hR?u.jsx(oOn,{projectId:n==null?void 0:n.projectId}):n instanceof nO?u.jsx(mOn,{schema:n.schema}):n?u.jsx(ie,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:u.jsx(ui,{width:3,children:u.jsxs(ne,{space:4,children:[u.jsx(Gi,{children:t}),u.jsx("div",{children:u.jsx(he,{onClick:s,text:"Retry",tone:"default"})}),u.jsx(ie,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:u.jsxs(ne,{space:4,children:[a&&u.jsx(mi,{size:1,children:u.jsxs("strong",{children:["Error: ",a]})}),o&&u.jsx(mi,{size:1,children:o}),r&&u.jsxs(mi,{size:1,children:["Event ID: ",r]})]})})]})})}):u.jsx(Wv,{onCatch:l,children:e})}const gOn=$(ie)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`;function yOn(){const e=EOn();return u.jsx(e,{})}function vOn(){var C;const{name:e,title:t,tools:n}=Vr(),r=ts(),i=JE(f.useCallback(S=>typeof S.tool=="string"?S.tool:void 0,[])),a=f.useMemo(()=>n.find(S=>S.name===i),[i,n]),[o,s]=f.useState(!1),[l,c]=f.useState(null),[d,h]=f.useState(!1),p=f.useMemo(()=>{const S=t||Vn(e);return i?`${Vn(i)} | ${S}`:S},[i,e,t]),m=!!(a!=null&&a.controlsDocumentTitle);f.useEffect(()=>{m||(document.title=p)},[p,m]);const g=f.useCallback(S=>{s(S)},[]),y=f.useCallback(S=>{h(S)},[]),v=f.useMemo(()=>({searchFullscreenOpen:o,searchFullscreenPortalEl:l,searchOpen:d,onSearchFullscreenOpenChange:g,onSearchOpenChange:y}),[o,l,d,g,y]),b=SOn(),x=kOn(),w=!a&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&n.some(S=>S.name==="structure");return f.useEffect(()=>{w&&r.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[w,r]),u.jsxs(z,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[u.jsx(whe.Provider,{value:v,children:u.jsx(b,{})}),w&&u.jsx(VRn,{}),n.length===0&&u.jsx(BRn,{}),n.length>0&&!a&&i&&!w&&u.jsx(zRn,{toolName:i}),o&&u.jsx(gOn,{ref:c,overflow:"auto"}),u.jsx(p$e,{heading:`The ${a==null?void 0:a.name} tool crashed`,children:u.jsx(ie,{flex:1,hidden:o,children:a&&i&&u.jsx(jUt,{scope:i,__unsafe_disableScopedSearchParams:(C=a.router)==null?void 0:C.__unsafe_disableScopedSearchParams,children:u.jsx(f.Suspense,{fallback:u.jsx(bn,{showText:!0}),children:u.jsx(x,{activeTool:a})})})})},a==null?void 0:a.name)]})}function bOn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function xOn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function wOn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function COn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.activeToolLayout}function m$e(){return lu({defaultComponent:z$n,pick:bOn})}function SOn(){return lu({defaultComponent:$$n,pick:xOn})}function EOn(){return lu({defaultComponent:vOn,pick:wOn})}function kOn(){return lu({defaultComponent:LRn,pick:COn})}function _On(){var d;const e=((d=tn()._validation)==null?void 0:d.filter(h=>h.problems.some(p=>p.severity==="warning")))||[],t=Gf(),{t:n}=q(),r=f.useId(),[i,a]=f.useState(!1),[o,s]=f.useState(null),l=f.useCallback(()=>a(!0),[]),c=f.useCallback(()=>{a(!1),o&&o.focus()},[o]);return e.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx(Ak,{icon:gr,mode:"bleed",onClick:l,ref:s,selected:i,tone:"caution","aria-label":n("configuration-issues.button.label"),tooltipProps:{scheme:t,content:n("configuration-issues.button.tooltip")}}),i&&u.jsx(Ri,{header:"Configuration issues",width:2,onClickOutside:c,onClose:c,scheme:t,id:r,children:u.jsxs(ne,{space:4,children:[u.jsxs(ne,{space:3,children:[u.jsxs(N,{as:"h2",size:1,weight:"medium",children:["Found ",e.length," schema warnings"]})," ",u.jsx(N,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),u.jsx(h$e,{problemGroups:e})]})})]})}const g$e=ci({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),TOn=ci({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),Cde=ci({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function Cw({showOnLoad:e,dialogId:t}){return e&&t.toLowerCase()==="free-upgrade-popover"?"trialStarted":e&&t.toLowerCase()==="trial-ending-popover"?"trialEndingSoon":e&&t.toLowerCase()==="project-downgraded-to-free"?"trialEnded":!e&&t.toLowerCase()==="after-trial-upgrade"?"postTrial":"trialActive"}const AOn=$(he)`
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 20;
  background: transparent;
  border-radius: 9999px;
  box-shadow: none;
  color: white;
  --card-fg-color: white;
  :hover {
    --card-fg-color: white;
  }
`,jOn=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 196px;
`,IOn=$(Ri)`
  > [data-ui='DialogCard'] {
    max-width: 22.5rem;
  }
`;function DOn({onClose:e,onOpenNext:t,onOpenUrlCallback:n,content:r,open:i}){var c,d,h,p;function a(){e("xClick")}function o(){e("outsideClick")}function s(){e("ctaClicked")}const l=Gf();return i?u.jsxs(IOn,{id:"free-trial-modal",onClose:e,onClickOutside:o,padding:!1,__unstable_hideCloseButton:!0,scheme:l,footer:{cancelButton:(c=r.secondaryButton)!=null&&c.text?{text:r.secondaryButton.text,mode:"bleed",tone:"default",onClick:a}:void 0,confirmButton:{text:(d=r.ctaButton)==null?void 0:d.text,mode:"default",tone:"primary",...((h=r.ctaButton)==null?void 0:h.action)==="openUrl"?{href:r.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:n}:{onClick:((p=r.ctaButton)==null?void 0:p.action)==="openNext"?t:s}}},children:[u.jsx(AOn,{icon:Nr,mode:"bleed",tone:"default",onClick:a,tabIndex:-1,tooltipProps:null}),r.image&&u.jsx(jOn,{src:r.image.asset.url,alt:r.image.asset.altText??""}),u.jsxs(z,{padding:3,direction:"column",children:[u.jsx(L,{paddingX:2,marginTop:3,children:u.jsx(Gi,{size:2,children:r.headingText})}),u.jsx(L,{marginTop:4,paddingBottom:3,children:u.jsx(qR,{blocks:r.descriptionText})})]})]}):null}const MOn=$.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,ROn=({daysLeft:e,totalDays:t})=>{const n=t-e,r=Math.round(n/t*100),i=10,a=2*Math.PI*i,o=a*((100-r)/100),s=1.2,l=i*2+s;return u.jsx(ie,{children:u.jsx(MOn,{children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:`0 0 ${l} ${l}`,style:{transform:"rotate(-90deg)"},children:[u.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:r>75?dT[600].hex:Qhe[400].hex}),u.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:"var(--card-border-color)",strokeDasharray:a,strokeDashoffset:o})]})})})},OOn=f.forwardRef(function({toggleShowContent:e,daysLeft:t,totalDays:n},r){const{t:i}=q();return u.jsxs(he,{mode:"bleed",onClick:e,ref:r,tooltipProps:{content:t?i("free-trial.tooltip.days-count",{count:t}):i("free-trial.tooltip.trial-finished")},children:[u.jsx(N,{size:0,children:u.jsx(II,{})}),t>0&&u.jsx(ROn,{daysLeft:t,totalDays:n})]})}),$On=f.forwardRef(function({toggleShowContent:e,daysLeft:t},n){const{t:r}=q();return u.jsx(he,{ref:n,icon:II,justify:"flex-start",mode:"bleed",size:"large",onClick:e,text:t?r("user-menu.action.free-trial",{count:t}):r("user-menu.action.free-trial-finished")})}),POn=()=>{const e=f.useContext(ghe);if(!e)throw new Error("useFreeTrial must be used within a FreeTrialProvider");return e},FOn=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`;function NOn({content:e,handleClose:t,handleOpenNext:n}){var r,i,a,o;return u.jsx(ie,{radius:3,overflow:"hidden",width:0,children:u.jsxs(ui,{width:0,children:[e.image&&u.jsx(FOn,{src:e.image.asset.url,alt:e.image.asset.altText??""}),u.jsxs(z,{padding:3,direction:"column",children:[u.jsx(L,{paddingX:2,marginTop:3,children:u.jsx(Gi,{size:1,children:e.headingText})}),u.jsx(L,{marginTop:4,children:u.jsx(qR,{blocks:e.descriptionText})})]}),u.jsxs(z,{width:"full",gap:3,justify:"flex-end",padding:3,children:[((r=e.secondaryButton)==null?void 0:r.text)&&u.jsx(he,{mode:"bleed",text:e.secondaryButton.text,tone:"default",onClick:()=>t("xClick")}),u.jsx(he,{mode:"default",tooltipProps:null,text:(i=e.ctaButton)==null?void 0:i.text,autoFocus:!0,tone:"primary",...((a=e.ctaButton)==null?void 0:a.action)==="openUrl"?{href:e.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:((o=e.ctaButton)==null?void 0:o.action)==="openNext"?n:()=>t("ctaClicked")}})]})]})})}function y$e({type:e}){const{data:t,showDialog:n,showOnLoad:r,toggleShowContent:i}=POn(),a=Gf(),o=Qo(),[s,l]=f.useState(null),[c,d]=f.useState(!1);f.useEffect(()=>{s&&d(!0)},[s]);const h=f.useCallback(()=>i(!0),[i]),p=f.useCallback(()=>{s==null||s.focus(),i(!1)},[i,s]),m=f.useCallback(w=>C=>{const S=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);S&&o.log(TOn,{dialogId:S.id,dialogRevision:S._rev,dialogType:w,source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Cw({showOnLoad:r,dialogId:S.id}),dialogDismissAction:C}),p()},[t,p,r,o]),g=f.useCallback(w=>()=>{const C=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);C&&o.log(Cde,{dialogId:C.id,dialogRevision:C._rev,dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Cw({showOnLoad:r,dialogId:C.id}),dialogCtaType:w==="openURL"?"upgrade":"learnMore"}),h()},[t,h,o,r]),y=f.useCallback(()=>{t!=null&&t.showOnLoad&&o.log(Cde,{dialogId:t.showOnLoad.id,dialogRevision:t.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Cw({showOnLoad:!0,dialogId:t.showOnLoad.id}),dialogCtaType:"learnMore"}),h()},[t==null?void 0:t.showOnLoad,t==null?void 0:t.daysLeft,h,o]),v=f.useCallback(()=>{t!=null&&t.showOnClick&&o.log(g$e,{dialogId:t.showOnClick.id,dialogRevision:t.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Cw({showOnLoad:!0,dialogId:t.showOnClick.id})}),h()},[t==null?void 0:t.showOnClick,t==null?void 0:t.daysLeft,o,h]);if(!(t!=null&&t.id))return null;const b=r?t.showOnLoad:t.showOnClick;if(!b)return null;const x=e==="sidebar"?u.jsx($On,{toggleShowContent:v,daysLeft:t.daysLeft,ref:l}):u.jsx(OOn,{toggleShowContent:v,daysLeft:t.daysLeft,totalDays:t.totalDays,ref:l});return(b==null?void 0:b.dialogType)==="popover"?u.jsx(_n,{open:n&&c,size:0,scheme:a,radius:3,portal:!0,placement:e==="sidebar"?"top":"bottom-end",content:u.jsx(NOn,{content:b,handleClose:m("popover"),handleOpenNext:y}),children:x}):u.jsxs(u.Fragment,{children:[x,u.jsx(DOn,{content:b,onClose:m("modal"),onOpenNext:g("openNext"),onOpenUrlCallback:g("openURL"),open:n})]})}const LOn=({children:e})=>{var m;const t=ts(),[n,r]=f.useState(null),[i,a]=f.useState(!1),[o,s]=f.useState(!1),l=Xt({apiVersion:"2023-12-11"}),c=Qo();f.useEffect(()=>{const g=n==null?void 0:n.showOnLoad;i&&o&&g&&c.log(g$e,{dialogId:g.id,dialogRevision:g._rev,dialogTrialStage:Cw({showOnLoad:o,dialogId:g.id}),dialogTrigger:o?"auto":"fromClick",dialogType:g.dialogType,source:"studio",trialDaysLeft:n.daysLeft})},[i,n,o,c]);const d=new URLSearchParams(t.state._searchParams).toString();f.useEffect(()=>{const g=new URLSearchParams(d),y=new URLSearchParams;y.append("studioVersion",jl);const v=g.get("trialState");v&&y.append("trialState",v);const b=g.get("seenBefore");b&&y.append("seenBefore",b);const x=y.get("trialState")?"/journey/trial/override":"/journey/trial",w=l.observable.request({url:`${x}?${y.toString()}`}).subscribe(C=>{r(C),C!=null&&C.showOnLoad&&(s(!0),a(!0))},()=>{});return()=>{w.unsubscribe()}},[l,d]);const h=f.useCallback((g=!1)=>{var y;o?(s(!1),a(g),(y=n==null?void 0:n.showOnLoad)!=null&&y.id&&l.request({url:`/journey/trial/${n==null?void 0:n.showOnLoad.id}`,method:"POST"})):a(v=>!v)},[l,o,(m=n==null?void 0:n.showOnLoad)==null?void 0:m.id]),p=f.useMemo(()=>({data:n,showDialog:i,toggleShowContent:h,showOnLoad:o}),[n,i,o,h]);return u.jsx(ghe.Provider,{value:p,children:e})};function BOn(){return u.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"100%",height:"100%",fill:"#EC5446"}),u.jsx("path",{d:"M10.1637 8.5498C10.1637 11.3854 11.9461 13.0725 15.5143 13.9622L19.2955 14.8235C22.6725 15.5855 24.729 17.4783 24.729 20.5619C24.7553 21.9053 24.3107 23.2168 23.4698 24.2765C23.4698 21.1999 21.8499 19.5376 17.9425 18.538L14.2299 17.7086C11.257 17.0423 8.9623 15.4863 8.9623 12.1368C8.94666 10.8433 9.36932 9.58143 10.1637 8.5498Z",fill:"white"}),u.jsx("path",{d:"M21.1463 19.8069C22.7591 20.8206 23.4662 22.2384 23.4662 24.2729C22.1313 25.953 19.7861 26.8958 17.0297 26.8958C12.3899 26.8958 9.1427 24.6521 8.42111 20.7533H12.8769C13.4506 22.5432 14.9695 23.3726 16.9972 23.3726C19.4722 23.3726 21.1175 22.0753 21.1499 19.7998",fill:"#F8B1AA"}),u.jsx("path",{d:"M12.4801 12.7536C11.7436 12.3236 11.1394 11.7057 10.7316 10.9656C10.3238 10.2255 10.1276 9.3907 10.1638 8.54984C11.4518 6.88396 13.6923 5.8667 16.4235 5.8667C21.1499 5.8667 23.8848 8.31945 24.5595 11.7717H20.2732C19.8006 10.4107 18.6172 9.35089 16.4596 9.35089C14.1541 9.35089 12.5811 10.6694 12.4909 12.7536",fill:"#F8B1AA"})]})}const Sde=25,v$e=2,VOn=$(ie).attrs({overflow:"hidden",radius:v$e})`
  height: ${Sde}px;
  width: ${Sde}px;
`,zOn=$(ie)`
  border-radius: ${({theme:e})=>Ce(e.sanity.radius[v$e])};
  display: flex;
  outline: none;
  text-decoration: none;
  &:focus-visible {
    box-shadow: ${({theme:e})=>TR({base:e.sanity.color.base,focusRing:{...e.sanity.focusRing,offset:1}})};
  }
`;function b$e(){const e=ok(),{activeWorkspace:t}=Xp(),{href:n,onClick:r}=NH({state:{}}),i=e.length>1;return u.jsx(zOn,{as:"a",href:n,onClick:r,children:u.jsxs(z,{align:"center",children:[u.jsx(VOn,{children:u.jsx(z,{align:"center",height:"fill",justify:"center",children:i||t.customIcon?u.jsx(DY,{icon:t.icon,size:"small"}):u.jsx(BOn,{})})}),!i&&u.jsx(L,{paddingX:2,children:u.jsx(N,{size:1,weight:"medium",children:t.title})})]})})}function UOn({setScheme:e}){const{t}=q(),n=VOe(e,t);return u.jsx(ie,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:u.jsx(ne,{as:"ul",space:1,children:n.map(({icon:r,label:i,name:a,onSelect:o,selected:s,title:l})=>u.jsx(ne,{as:"li",children:u.jsx(he,{"aria-label":i,icon:r,iconRight:s&&u.jsx(_a,{}),justify:"flex-start",mode:"bleed",onClick:o,selected:s,size:"large",text:l})},a))})})}function HOn(){return VW(),null}function WOn(){const{currentUser:e,projectId:t}=Vr(),n=!!(e&&uje(e,"administrator")),{t:r}=q();return u.jsx(ie,{borderTop:!0,flex:"none",padding:2,children:u.jsxs(ne,{as:"ul",space:1,children:[u.jsx(ne,{as:"li",children:u.jsx(y$e,{type:"sidebar"})}),u.jsx(ne,{as:"li",children:u.jsx(he,{"aria-label":r("user-menu.action.manage-project-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}`,icon:MI,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.manage-project")})}),n&&u.jsx(ne,{as:"li",children:u.jsx(he,{"aria-label":r("user-menu.action.invite-members-aria-label"),as:"a",href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,icon:KS,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.invite-members")})})]})})}const Ede={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},GOn={open:{opacity:1},closed:{opacity:0}},YOn={open:{x:"0%"},closed:{x:"-100%"}},qOn=$(qo)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,KOn=$(Mi(ie))`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`,ZOn=$(Mi(ie))`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`,XOn=f.memo(function(e){const{__internal_actions:t,activeToolName:n,isOpen:r,onClose:i,tools:a}=e,o=LOe(),{auth:s,currentUser:l}=Vr(),c=ok(),d=m$e(),{t:h}=q(),p=f.useCallback(y=>{y.key==="Escape"&&i()},[i]),m=f.useCallback(y=>{y==null||y(),i()},[i]),g=f.useMemo(()=>{var y;return(y=t==null?void 0:t.filter(v=>v.location==="sidebar"))==null?void 0:y.map(v=>u.jsx(he,{icon:v==null?void 0:v.icon,justify:"flex-start",mode:"bleed",onClick:()=>m(v.onAction),selected:v.selected,size:"large",text:v.title,width:"fill"},v.name))},[t,m]);return u.jsx(sl,{children:r&&u.jsx(Yu,{returnFocus:!0,children:u.jsxs(qOn,{onKeyDown:p,children:[u.jsx(KOn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:i,transition:Ede,variants:GOn}),u.jsxs(ZOn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Ede,variants:YOn,children:[u.jsx(ie,{borderBottom:!0,children:u.jsxs(ne,{space:3,padding:3,children:[u.jsxs(z,{align:"center",children:[u.jsx(z,{flex:1,align:"center",paddingRight:2,children:u.jsxs(z,{flex:1,align:"center",children:[u.jsx(nl,{size:1,user:"me"}),u.jsx(L,{flex:1,marginLeft:3,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),u.jsx(he,{icon:Nr,mode:"bleed",onClick:i,tooltipProps:{content:h("user-menu.close-menu")}})]}),c.length>1&&u.jsxs(z,{flex:1,gap:1,children:[u.jsx(b$e,{}),u.jsx(d$e,{})]})]})}),u.jsxs(z,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[u.jsx(ie,{flex:"none",padding:2,children:u.jsx(d,{activeToolName:n,closeSidebar:i,context:"sidebar",isSidebarOpen:r,tools:a})}),u.jsxs(z,{direction:"column",children:[g&&u.jsx(ie,{flex:"none",padding:2,children:u.jsx(ne,{space:1,children:g})}),o&&u.jsx(UOn,{setScheme:o}),u.jsx(HOn,{}),u.jsx(WOn,{})]})]}),s.logout&&u.jsx(ie,{flex:"none",padding:2,borderTop:!0,children:u.jsx(ne,{children:u.jsx(he,{iconRight:VI,justify:"flex-start",mode:"bleed",onClick:s.logout,size:"large",text:h("user-menu.action.sign-out")})})})]})]})})})});function JOn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(r=>n.includes(r))}function QOn(e,t,n){const r=t.title.toLowerCase(),i=n.title.toLowerCase(),a=e.trim().toLowerCase();return r.startsWith(a)&&!i.startsWith(a)?-1:i.startsWith(a)&&!r.startsWith(a)?1:r.includes(a)&&!i.includes(a)?-1:i.includes(a)&&!r.includes(a)?1:0}function e$n(e,t,n){return e.map(r=>({...r,title:n({...r,title:(r==null?void 0:r.title)||r.id}).title})).sort((r,i)=>r.title.localeCompare(i.title)).filter(r=>JOn(t,r)).sort((r,i)=>QOn(t,r,i))}const t$n=$(_n)(()=>de`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),n$n=$(Ri)(()=>de`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `),kde=$(z)``,r$n=$(ie)`
  min-height: max-content;
`,i$n=$(ie)`
  min-height: max-content;
`,a$n=$(z)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),x$e=33;function o$n(e){const{option:t,currentUser:n,onClick:r,preview:i}=e,a=f.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:o,href:s}=XE({intent:"create",params:a}),l=f.useCallback(d=>{o(d),r(t)},[o,r,t]),{title:c}=id(t);return u.jsx(bt,{disabled:t.hasPermission,portal:!0,content:u.jsx(Ql,{currentUser:n,context:"create-document"}),children:u.jsx("div",{children:u.jsx(ie,{as:t.hasPermission?"a":"button","data-testid":`create-new-${t.templateId}`,disabled:!t.hasPermission,href:s,marginBottom:1,onClick:l,padding:i==="inline"?3:4,radius:2,children:u.jsx(N,{size:i==="inline"?1:void 0,children:c})})})},t.id)}const _de=$(z)`
  min-height: 100px;
`;function Tde(e){const{currentUser:t,loading:n,onDocumentClick:r,options:i,preview:a,searchQuery:o,textInputElement:s}=e,{t:l}=q(),c=i.length>0&&!n,d=f.useCallback(()=>{r()},[r]),h=f.useCallback(m=>{var g;return((g=i[m])==null?void 0:g.hasPermission)===!1},[i]),p=f.useCallback(m=>u.jsx(o$n,{currentUser:t,onClick:d,option:m,preview:a},m.id),[t,d,a]);return n?u.jsx(bn,{showText:!0}):!c&&o?u.jsx(_de,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(N,{align:"center",muted:!0,size:1,children:u.jsx(gt,{t:l,i18nKey:"new-document.no-results",values:{searchQuery:o}})})}):c?u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:l("new-document.new-document"),autoFocus:A0?void 0:"input",getItemDisabled:h,inputElement:s,itemHeight:x$e,items:i,overscan:5,padding:a==="inline"?1:2,paddingBottom:0,renderItem:p}):u.jsx(_de,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(N,{align:"center",muted:!0,size:1,children:l("new-document.no-document-types-found")})})}const s$n=10;function l$n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:i}=e,[a,o]=f.useState(!1),[s,l]=f.useState(""),c=f.useRef(null),d=f.useRef(null),[h,p]=f.useState(null),[m,g]=f.useState(null),{t:y}=q(),v=dR(i),b=Gf(),x=tr(),w=tn(),C=i.length>0,S=!t||!C,E=y("new-document.filter-placeholder"),k=y("new-document.title"),_=y("new-document.open-dialog-aria-label"),T=f.useMemo(()=>i.filter(H=>{const W=w.get(H.schemaType);return W&&!Gfe(W)}),[i,w]),j=f.useMemo(()=>e$n(T,s,v),[T,s,v]),A=f.useCallback(H=>{l(H.currentTarget.value)},[]),I=f.useCallback(()=>o(H=>!H),[]),M=f.useCallback(()=>{o(!1),l(""),h==null||h.focus()},[h]),D=f.useCallback(H=>{H.key==="ArrowDown"&&!a&&o(!0)},[a]),O=f.useCallback(H=>{(H.key==="Escape"||H.key==="Tab")&&a&&M()},[M,a]);xn(a&&M,()=>[h,d.current,c.current]);const R=f.useMemo(()=>({currentUser:x,loading:r,onDocumentClick:I,options:j,searchQuery:s,preview:n==="popover"?"inline":"default",textInputElement:m}),[x,j,I,r,n,m,s]),F=f.useMemo(()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:s,disabled:r,icon:Ca,onChange:A,placeholder:E,ref:g}),[A,r,E,s]),P=f.useMemo(()=>({"aria-label":_,"data-testid":"new-document-button",disabled:S||r,icon:wa,text:y("new-document.button"),mode:"ghost",onClick:I,ref:p,selected:a}),[S,I,r,a,_,y]),V=f.useMemo(()=>C?t?u.jsx(N,{size:1,children:y("new-document.create-new-document-label")}):u.jsx(Ql,{currentUser:x,context:"create-any-document"}):u.jsx(N,{size:1,children:y("new-document.no-document-types-label")}),[t,x,C,y]),U=f.useMemo(()=>({content:V,disabled:r||a,scheme:b}),[r,a,b,V]);return n==="dialog"?u.jsxs(u.Fragment,{children:[u.jsx(bt,{...U,children:u.jsx("div",{children:u.jsx(he,{...P})})}),a&&u.jsx(n$n,{header:k,id:"create-new-document-dialog",onClickOutside:M,onClose:M,ref:d,scheme:b,width:1,children:u.jsxs(kde,{direction:"column",flex:1,height:"fill",children:[u.jsx(i$n,{padding:2,borderBottom:!0,children:u.jsx(Lr,{"data-testid":"new-document-button-search-input",...F})}),u.jsx(z,{direction:"column",overflow:"hidden",children:u.jsx(Tde,{...R})})]})})]}):u.jsx(t$n,{constrainSize:!0,onKeyDown:O,open:a,portal:!0,radius:3,ref:c,scheme:b,content:u.jsxs(kde,{direction:"column",flex:1,forwardedAs:Yu,height:"fill",returnFocus:!0,children:[u.jsx(r$n,{sizing:"border",children:u.jsx(ne,{children:u.jsx(ie,{borderBottom:!0,padding:1,children:u.jsx(Lr,{...F,fontSize:1,radius:1})})})}),u.jsx(a$n,{$itemHeight:x$e,$maxDisplayedItems:s$n,direction:"column",overflow:"hidden",children:u.jsx(Tde,{...R})})]}),children:u.jsx("div",{children:u.jsx(bt,{...U,children:u.jsx("div",{children:u.jsx(he,{...P,"aria-expanded":a,"aria-haspopup":"true",onKeyDown:D})})})})})}function u$n(){const{__internal:{staticInitialValueTemplateItems:e}}=Hn(),[t,n]=BG({templateItems:e}),r=(t==null?void 0:t.some(a=>e.some(o=>o.id===a.id)))||!1,i=f.useMemo(()=>e.map(a=>{var o;return{...a,title:(a==null?void 0:a.title)||a.id,hasPermission:((o=t==null?void 0:t.find(s=>s.id===a.id))==null?void 0:o.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:i}}const c$n=f.memo(function(e){const{presence:t,focused:n,onFocus:r}=e,[i,a]=f.useState(null),{t:o}=q(),s=fb(t.locations||[],["lastActiveAt"],["desc"]).find(h=>h.documentId),l=!!(s!=null&&s.documentId);f.useEffect(()=>{n&&i&&(i.focus(),i.setAttribute("data-selected","")),n||(i==null||i.removeAttribute("data-selected"))},[i,n]);const c=f.useCallback(()=>{r(t.user.id)},[r,t.user.id]),d=f.useMemo(()=>f.forwardRef(function(h,p){return s!=null&&s.path?u.jsx(su,{...h,intent:"edit",params:{id:s==null?void 0:s.documentId,path:Zt(s==null?void 0:s.path)},ref:p}):null}),[s]);return u.jsx(He,{as:s?d:"div","data-as":"a",disabled:!l,onFocus:c,preview:u.jsx(nl,{size:1,user:t.user},t.user.id),ref:a,text:t.user.displayName,tooltipProps:l?void 0:{content:o("presence.not-in-a-document"),placement:"left"}})}),d$n=$(Ot)`
  max-width: 260px;
`,f$n=$(ne)`
  position: sticky;
  bottom: 0;
  background-color: var(--card-bg-color);
`;function h$n(){const e=Pbn(),{projectId:t}=Vr(),n=Gf(),{t:r}=q(),i=e.length>0,[a,o]=f.useState(),s=f.useCallback(p=>{o(p)},[]),l=f.useCallback(()=>{o("")},[]),c=f.useCallback(()=>{o("")},[]),d=f.useMemo(()=>u.jsx(Ak,{icon:N9,"aria-label":r("presence.aria-label"),mode:"bleed",tone:i?"positive":void 0,tooltipProps:{content:r("presence.tooltip-content")}}),[i,r]),h=f.useMemo(()=>({constrainSize:!0,fallbackPlacements:["bottom"],placement:"bottom",portal:!0,scheme:n}),[n]);return u.jsx(Gt,{button:d,"aria-label":r("presence.aria-label"),id:"global-presence-menu",menu:u.jsxs(d$n,{children:[i&&e.map(p=>u.jsx(c$n,{focused:a===p.user.id,onFocus:s,presence:p},p.user.id)),!i&&u.jsx(L,{padding:3,children:u.jsxs(ne,{space:3,children:[u.jsx(N,{weight:"medium",size:1,children:r("presence.no-one-else-title")}),u.jsx(N,{size:1,muted:!0,children:r("presence.no-one-else-description")})]})}),u.jsxs(f$n,{space:1,children:[u.jsx(fr,{}),u.jsx(He,{as:"a",href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,icon:KS,onFocus:l,rel:"noopener noreferrer",target:"_blank",text:r("presence.action.manage-members")})]})]}),onClose:c,popover:h})}function p$n(e,t){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:[`sanity@${jl}`],locale:t},tag:"module.version-check",json:!0})}function m$n(){const e=Xt({apiVersion:"1"}),t=Yp().id,n=f.useMemo(()=>p$n(e,t),[e,t]);return lje(n)}function g$n({error:e,isLoading:t,value:n}){var l;const r=(l=n==null?void 0:n.resources)==null?void 0:l.sectionArray,i=n==null?void 0:n.latestVersion,a=IY(),{t:o}=q();if(t)return u.jsx(bn,{showText:!0});const s=u.jsxs(u.Fragment,{children:[u.jsx(He,{as:"a",text:o("help-resources.action.join-our-community"),href:"https://www.sanity.io/exchange/community",target:"_blank"}),u.jsx(He,{as:"a",text:o("help-resources.action.help-and-support"),href:"https://www.sanity.io/contact/support",target:"_blank"}),u.jsx(He,{as:"a",text:o("help-resources.action.contact-sales"),href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),u.jsx(fr,{})]});return u.jsxs(u.Fragment,{children:[(n===void 0||e)&&u.jsx("div",{children:s}),!e&&(r==null?void 0:r.map(c=>c?u.jsx(y$n,{subSection:c},c._key):null)),u.jsxs(L,{padding:3,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:o("help-resources.studio-version",{studioVersion:jl})}),!e&&i&&!a&&u.jsx(L,{paddingTop:2,children:u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:o("help-resources.latest-sanity-version",{latestVersion:i})})})]})]})}function y$n({subSection:e}){var t;return u.jsxs(u.Fragment,{children:[(t=e==null?void 0:e.items)==null?void 0:t.map(n=>{if(!n||!n.title)return null;switch(n._type){case"externalLink":return n.url?u.jsx(He,{as:"a",tone:"default",text:n.title,href:n.url,target:"_blank"},n._key):null;case"internalAction":return n.type?n.type==="show-welcome-modal"&&u.jsx(He,{text:n.title},n._key):null;default:return null}}),u.jsx(fr,{})]})}const v$n=$(Ot)`
  max-width: 300px;
  min-width: 200px;
`;function b$n(){const{t:e}=q(),{value:t,error:n,isLoading:r}=m$n();return u.jsx(Gt,{button:u.jsx(he,{"aria-label":e("help-resources.title"),icon:gg,mode:"bleed",tooltipProps:{content:e("help-resources.title")}}),id:"menu-button-resources",menu:u.jsx(v$n,{"data-testid":"menu-button-resources",children:u.jsx(g$n,{error:n,isLoading:r,value:t})}),popover:{constrainSize:!0}})}function x$n(){return VW(),null}function w$n({setScheme:e}){const{t}=q(),n=VOe(e,t);return u.jsxs(u.Fragment,{children:[u.jsx(fr,{}),n.map(({icon:r,label:i,name:a,onSelect:o,selected:s,title:l})=>u.jsx(He,{"aria-label":i,icon:r,onClick:o,pressed:s,text:l,iconRight:s&&u.jsx(_a,{}),"data-testid":`color-scheme-${a}`},a))]})}const C$n=$.div`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`,S$n=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("g",{clipPath:"url(#clip0)",children:[u.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),u.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),u.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),u.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),E$n=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("g",{clipPath:"url(#clip0)",children:u.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),k$n=u.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),u.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),u.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),_$n=({provider:e})=>{const t=e==null?void 0:e.startsWith("saml-");return u.jsxs(C$n,{"data-logo":t?"saml":e,children:[e==="google"&&S$n,e==="github"&&E$n,e==="sanity"&&u.jsx(kTe,{}),t&&k$n]})};function T$n(){const{currentUser:e,projectId:t}=Vr(),n=!!(e&&uje(e,"administrator")),{t:r}=q();return u.jsxs(u.Fragment,{children:[u.jsx(fr,{}),u.jsx(He,{as:"a","aria-label":r("user-menu.action.manage-project-aria-label"),href:`https://sanity.io/manage/project/${t}`,target:"_blank",text:r("user-menu.action.manage-project"),icon:MI}),n&&u.jsx(He,{as:"a","aria-label":r("user-menu.action.invite-members-aria-label"),href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,target:"_blank",text:r("user-menu.action.invite-members"),icon:KS})]})}const A$n=$(Ot)`
  min-width: 200px;
  max-width: 300px;
`,j$n=$(L)`
  position: relative;
  min-width: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
  min-height: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
`;function I$n(){const{currentUser:e,auth:t}=Vr(),n=Gf(),r=LOe(),i=WW(e==null?void 0:e.provider),{t:a}=q(),o=f.useMemo(()=>({placement:"bottom",portal:!0,preventOverflow:!0,scheme:n,constrainSize:!0}),[n]);return u.jsx(Gt,{button:u.jsx($t,{mode:"bleed",padding:0,radius:"full",children:u.jsx(nl,{size:1,user:"me"})}),id:"user-menu",menu:u.jsxs(A$n,{"data-testid":"user-menu",children:[u.jsx(ie,{padding:2,children:u.jsxs(z,{align:"center",children:[u.jsx(bt,{disabled:!i,portal:!0,content:a("user-menu.login-provider",{providerTitle:i}),children:u.jsxs(j$n,{marginRight:3,children:[u.jsx(nl,{size:2,user:"me"}),(e==null?void 0:e.provider)&&u.jsx(_$n,{provider:e.provider})]})}),u.jsxs(ne,{space:2,flex:1,children:[u.jsx(N,{size:1,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),r&&u.jsx(w$n,{setScheme:r}),u.jsx(x$n,{}),u.jsx(T$n,{}),t.logout&&u.jsxs(u.Fragment,{children:[u.jsx(fr,{}),u.jsx(He,{iconRight:VI,text:a("user-menu.action.sign-out"),disabled:!t.logout,...t.logout&&{onClick:t.logout}})]})]}),popover:o})}const D$n=[],M$n=$(qo)`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`,R$n=$(ie)`
  line-height: 0;
`,O$n=$(Gn)`
  grid-template-columns: auto auto auto;
  @media screen and (min-width: ${({theme:e})=>`${e.sanity.media[3]}px`}) {
    grid-template-columns: 1fr auto 1fr;
  }
`;function $$n(e){const{__internal_actions:t=D$n}=e,{name:n,tools:r}=Vr(),i=JE(),a=s0(),o=typeof i.tool=="string"?i.tool:void 0,s=u$n(),{t:l}=q(),{onSearchFullscreenOpenChange:c,onSearchOpenChange:d,searchFullscreenOpen:h,searchFullscreenPortalEl:p,searchOpen:m}=f.useContext(whe),g=m$e(),[y,v]=f.useState(!1),b=f.useRef(i),x=f.useRef(n);f.useEffect(()=>{(b.current.tool!==i.tool||n!==x.current)&&v(!1),b.current=i,x.current=n},[n,i]);const[w,C]=f.useState(null),[S,E]=f.useState(null),k=f.useMemo(()=>({resources:a>1,collapsedPresenceMenu:a<=1,loginStatus:a>1,searchFullscreen:a<=1,configIssues:a>1&&cl,newDocumentFullscreen:a<=1,tools:a>=3}),[a]);f.useEffect(()=>{c(h)},[h,c]),f.useEffect(()=>{k.searchFullscreen?d(!1):c(!1)},[c,d,k.searchFullscreen]);const _=f.useCallback(()=>{d(!0)},[d]),T=f.useCallback(()=>{c(!0)},[c]),j=f.useCallback(()=>{d(!1)},[d]),A=f.useCallback(()=>{c(!1),S==null||S.focus()},[c,S]),I=f.useCallback(()=>{v(!1),w==null||w.focus()},[w]),M=f.useCallback(()=>{v(!0)},[]),D=f.useMemo(()=>{var O;return k.tools?(O=t==null?void 0:t.filter(R=>R.location==="topbar"))==null?void 0:O.map(R=>u.jsx(he,{iconRight:R==null?void 0:R.icon,mode:"bleed",onClick:R==null?void 0:R.onAction,selected:R.selected,text:R.title},R.name)):null},[t,k.tools]);return u.jsx(LOn,{children:u.jsxs(M$n,{zOffset:100,"data-search-open":h,children:[u.jsx(R$n,{borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:u.jsxs(O$n,{gap:1,children:[u.jsx(Ja,{children:u.jsxs(z,{align:"center",gap:2,justify:"flex-start",children:[u.jsxs(z,{align:"center",gap:2,children:[!k.tools&&u.jsx(he,{mode:"bleed",icon:E9,onClick:M,ref:C,tooltipProps:{content:l("user-menu.open-menu"),placement:"bottom"}}),u.jsxs(z,{gap:1,children:[u.jsx(b$e,{}),u.jsx(d$e,{})]})]}),u.jsx(l$n,{...s,modal:k.newDocumentFullscreen?"dialog":"popover"}),!k.searchFullscreen&&u.jsx(dde,{onClick:_,ref:E})]})}),u.jsx(z,{align:"center",justify:"center",children:k.tools&&u.jsx(g,{activeToolName:o,closeSidebar:I,context:"topbar",isSidebarOpen:!1,tools:r})}),u.jsx(Ja,{children:u.jsxs(z,{align:"center",gap:1,justify:"flex-end",children:[u.jsxs(z,{gap:1,children:[u.jsx(Zl,{children:u.jsx(jY,{fullscreen:k.searchFullscreen,children:u.jsx(hf,{element:document.body,children:k.searchFullscreen?u.jsx(Gv,{element:p,children:u.jsx(NRn,{onClose:A,onOpen:T,open:h})}):u.jsx(i$e,{onClose:j,onOpen:_,open:m})})})}),k.tools&&u.jsx(y$e,{type:"topbar"}),k.configIssues&&u.jsx(_On,{}),k.resources&&u.jsx(b$n,{}),u.jsx(h$n,{}),k.searchFullscreen&&u.jsx(dde,{onClick:T,ref:E}),D]}),k.tools&&u.jsx(L,{flex:"none",marginLeft:1,children:u.jsx(I$n,{})})]})})]})}),!k.tools&&u.jsx(XOn,{__internal_actions:t,activeToolName:o,isOpen:y,onClose:I,tools:r})]})})}function P$n(e){return!!e}const F$n=$(NDe)`
  list-style: none;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
`,N$n=$(z)`
  opacity: 0;
  height: 0.1px;
  overflow: hidden;
`,L$n=f.forwardRef(function(e,t){const{children:n,gap:r,menuButtonProps:i,disableRestoreFocusOnClose:a,onMenuClose:o,collapsed:s,...l}=e,[c,d]=f.useState(null),[h,p]=f.useState([]),[m,g]=f.useState(!1),y=f.useMemo(()=>f.Children.toArray(n).filter(P$n),[n]),v=f.useMemo(()=>s||!m?null:y.filter(S=>!h.some(E=>E.key===S.key)),[y,s,h,m]),b=f.useMemo(()=>({root:c,threshold:1,rootMargin:"1px"}),[c]),x=f.useMemo(()=>(i==null?void 0:i.button)||u.jsx(Si,{}),[i]),w=f.useMemo(()=>s?y:y.filter(({key:S})=>h.find(E=>E.key===S)),[y,h,s]),C=f.useCallback((S,E)=>{const k=h.some(T=>T.key===E.key);m||g(!0);const _=S.isIntersecting;!k&&!_&&p(T=>[...T,E]),k&&_&&p(T=>T.filter(j=>j.key!==E.key))},[h,m,g,p]);return u.jsxs(z,{direction:"column",ref:t,sizing:"border",style:{position:"relative"},...l,children:[u.jsxs(z,{justify:"center",gap:r,flex:1,children:[v,(h.length>0||s)&&u.jsx(_G,{disableRestoreFocusOnClose:a,menuButton:x,menuButtonProps:i,menuOptions:w,onMenuClose:o})]}),u.jsxs(N$n,{justify:"flex-start",gap:r,ref:d,"data-hidden":!0,"aria-hidden":"true",children:[f.cloneElement(x,{disabled:!0,"aria-hidden":!0}),y==null?void 0:y.map(S=>u.jsx(F$n,{options:b,onIntersectionChange:E=>C(E[0],S),children:f.cloneElement(S,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},`${S.key}_observer`))]})]})}),w$e=f.forwardRef(function(e,t){const{name:n,...r}=e,i=JE(f.useCallback(()=>({tool:n,[n]:void 0}),[n]));return u.jsx(GM,{state:i,...r,ref:t})});function B$n(e){const{activeToolName:t,tools:n}=e,r=Gf(),[i,a]=f.useState(null);U$e({rootElement:i,navigation:["arrows"]});const o=f.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),s=f.useMemo(()=>n.map((l,c)=>{const d=(l==null?void 0:l.title)||Vn(l.name),h=f.forwardRef(function(p,m){return u.jsx(w$e,{...p,ref:m,name:l.name,children:p.children})});return u.jsx(he,{as:h,"data-as":"a",mode:"bleed",selected:t===l.name,text:d},`${l.name}-${c}`)}),[t,n]);return u.jsx(z,{justify:"center",marginX:4,children:u.jsx(L$n,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:o,ref:a,children:s})})}function V$n(e){const{activeToolName:t,isVisible:n,tools:r}=e;return f.useMemo(()=>u.jsx(ne,{as:"ul",space:1,children:r.map(i=>{const a=(i==null?void 0:i.title)||Vn(i.name),o=f.forwardRef(function(s,l){return u.jsx(w$e,{...s,ref:l,name:i.name,children:s.children})});return u.jsx(ne,{as:"li",children:u.jsx(he,{as:o,justify:"flex-start",mode:"bleed",selected:t===i.name,size:"large",tabIndex:n?0:-1,text:a})},i.name)})}),[t,n,r])}function z$n(e){const{context:t,isSidebarOpen:n,tools:r,...i}=e;return r.length<=1?null:t==="sidebar"?u.jsx(V$n,{isVisible:n,tools:r,...i}):u.jsx(B$n,{tools:r,...i})}const U$n=ci({name:"Field Copied",version:1,description:'User clicked the "Copy field" button in the field action menu or used the Ctrl+C shortcut'}),H$n=ci({name:"Field Pasted",version:1,description:'User clicked the "Paste field" button in the field action menu or used the Ctrl+V shortcut'});function C$e(e,t){var i;if(!t)return;const n=Zs(t),r=n[0];if(r&&Ui(e)){const a=(i=e==null?void 0:e.fields)==null?void 0:i.find(o=>o.name===r);if(a){const o=Zt(n.slice(1));return o?C$e(a.type,o):a}}}function sC(e,t,n){if(!e)return;let r=e;return t.forEach((i,a)=>{const o=t.slice(0,a+1);if(En(i)||Ya(i)){const l=r,c=sa(n,o),d=DR(l,c);if(d){r=d;return}}const s=C$e(r,Zt(o.length>1?o.slice(-1):o));s!=null&&s.type&&(r=s.type)}),r}const jS="web application/vnd.sanity-clipboard-item+json",qj="text/html",Ade="text/plain",W$n=typeof ClipboardItem<"u"&&"supports"in ClipboardItem&&ClipboardItem.supports(jS),S$e="sanity-clipboard-base64";async function G$n(){const e=await navigator.clipboard.read();for(const t of e){const n=await q$n(t);if(n)return n}return null}async function Y$n(e){const t=c7(e.value),n=X$n(t),r=K$n(JSON.stringify(e)),i=new ClipboardItem({...W$n&&{[jS]:new Blob([JSON.stringify(e)],{type:jS})},[qj]:new Blob([`<p data-${S$e}="${r}">${n}</p>`],{type:qj}),[Ade]:new Blob([t],{type:Ade})});try{return await navigator.clipboard.write([i]),!0}catch(a){return console.error(`Failed to write to clipboard: ${a.message}`,a),!1}}async function q$n(e){if(e.types.includes(jS)){const r=await(await e.getType(jS)).text();return JSON.parse(r)}if(!e.types.includes(qj))return null;const t=await(await e.getType(qj)).text(),n=new DOMParser().parseFromString(t,"text/html");try{const r=n.querySelector(`[data-${S$e}]`);if(!r)return null;const{sanityClipboardBase64:i}=r.dataset;return i?JSON.parse(Z$n(i)):null}catch{return null}}function K$n(e){const t=new TextEncoder().encode(e);let n="";for(let r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Z$n(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder().decode(n)}function X$n(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent}function c7(e){return e?lg(e)?e:Number.isFinite(e)?e.toString():Array.isArray(e)?e.map(c7).filter(Boolean).join(", "):typeof e=="object"?Object.entries(e).map(([t,n])=>t.startsWith("_")?"":c7(n)).filter(Boolean).join(", "):"":""}function yc(e){return!!(e==null||Array.isArray(e)&&e.length===0)}function jde(e){return!!(e instanceof HTMLElement&&e.isContentEditable||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)}function J$n(){if(typeof window>"u"||!window.getSelection)return!1;const e=window.getSelection();return e!==null&&!e.isCollapsed}function Ide(e){return e.length===0||e.length===1&&e[0]===""}async function Q$n(e,t,n,r,i){if(!n.filter)return!0;const a=await EIe(n,e,r,i);if(!a.filter)return!0;try{const o=a.params||{},s=`*[${a.filter}]`,l=dU(s,o),c=await(await eEe(l,{params:o,dataset:[t]})).get();return!yc(c)}catch(o){return console.error("Error evaluating GROQ filter:",o),!1}}function e3n(e){if(e.length===0)return"object";const t=e[e.length-1];return En(t)||Ya(t)||af(t)?"object":t}function t3n(e,t){return!!(typeof e=="string"&&t.includes("string")||typeof e=="number"&&(t.includes("number")||t.includes("string"))||typeof e=="boolean"&&t.includes("boolean"))}function E$e(e,t){return wt(e)&&wt(t)&&(e.jsonType==="number"&&t.jsonType==="string"||E$e(e.type,t.type))}function n3n(e){return e.of.map(t=>t.jsonType)}function k$e(e,t){return wt(e)&&wt(t)&&(e.jsonType==="number"&&iI(t)&&n3n(t).includes("string")||k$e(e.type,t.type))}const r3n=()=>rf(12);async function i3n({sourceRootSchemaType:e,sourcePath:t,sourceValue:n,sourceRootPath:r=[],targetRootSchemaType:i,targetRootValue:a,targetRootPath:o,targetValue:s,targetPath:l,keyGenerator:c=r3n,options:d={validateReferences:!0,validateAssets:!0,client:void 0}}){const h=[];if(!e)throw new Error("Source root schema type is not defined");if(!i)throw new Error("Target root schema type is not defined");const p=sC(e,t,n),m=sC(i,l,s);if(!p)throw new Error("Could not find source schema type at path");if(!m)throw new Error("Could not find target schema type at path");if(i.readOnly||m.readOnly)return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.read-only-target.description"}}]};if(cC(p)&&q1(m)||q1(p)&&cC(m))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:e.name,targetSchemaType:i.name}}}]};const g=p.jsonType,y=m.jsonType,v=xU(r),b=typeof v<"u"&&Ya(v),x=t.length===0&&g==="array"&&!Array.isArray(n)&&b,w=(["number","string","boolean"].includes(g)||x)&&iI(m),C=g==="object"&&Af(m);if(!(g===y||E$e(p,m)||k$e(p,m)||w||C))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.schema-type-incompatible.description"}}]};const S=sa(n,t);if(p.jsonType==="object"&&m.jsonType==="object")return RY({sourceValue:S,targetSchemaType:m,targetRootValue:a,targetRootPath:o,targetPath:[],errors:h,keyGenerator:c,options:d});if(p.jsonType==="array"&&m.jsonType==="array"){const E=x&&!Array.isArray(S)?[S]:S;return d7({sourceValue:E,targetSchemaType:m,targetRootValue:a,targetRootPath:o,errors:h,options:d,keyGenerator:c})}if(w||C){let E;C&&Gh(S)&&S._type==="object"||!Gh(S)?E=e3n(r):Gh(S)?E=S._type:E="object";const k=C&&!Array.isArray(S)?[{...S,_type:E,_key:c()}]:[S];return d7({sourceValue:Array.isArray(S)?S:k,targetSchemaType:m,targetRootValue:a,targetRootPath:o,errors:h,options:d,keyGenerator:c})}return _$e({sourceValue:S,targetSchemaType:m,errors:h})}async function RY({sourceValue:e,targetSchemaType:t,targetPath:n,targetRootValue:r,targetRootPath:i,errors:a,keyGenerator:o,options:s}){var C,S,E,k;if(yc(e))return{targetValue:void 0,errors:a};const l={_type:t.name,...e&&typeof e=="object"&&"_key"in e?{_key:o()}:{}},c=qN(e)&&Us(e.asset)?e.asset._ref:void 0,d=Gh(e)?e._type:void 0,h=c&&p1t(c),p=c&&m1t(c),m=(d==="image"||h)&&!q1(t),g=(d==="file"||p)&&!cC(t);if(Gh(e)&&(m||g))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:d,targetSchemaType:t.name}}}),{targetValue:void 0,errors:a};if(s!=null&&s.validateAssets&&s.client&&(q1(t)||cC(t))&&((C=t.options)!=null&&C.accept)&&qN(e)&&Us(e.asset)){const _=(S=e.asset)==null?void 0:S._ref;if(!_)return{targetValue:void 0,errors:a};try{const T=q1(t)?"sanity.imageAsset":"sanity.fileAsset",j=await s.client.fetch("*[_type == $type &&_id == $ref][0]{mimeType, originalFilename}",{ref:_,type:T});if(!j)return{targetValue:void 0,errors:a};const A={type:j.mimeType,name:j.originalFilename},I=j.mimeType;if(!Ij(A,t.options.accept))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-incompatible.description",args:{mimeType:I}}}),{targetValue:void 0,errors:a}}catch(T){return console.error("Error fetching asset document:",T),a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-validation-failed.description"}}),{targetValue:void 0,errors:a}}}if(Gs(t)){const _=t.to.map(T=>T.name);if(s!=null&&s.validateReferences&&s.client&&Us(e))try{const T=(E=t.options)!=null&&E.filter?"*[_id in $ids]|order(_updatedAt)[0]":"*[_id in $ids]|order(_updatedAt)[0]{_id, _type}",{publishedId:j,draftId:A}=NW(e._ref),I=await s.client.fetch(T,{ids:[j,A]});if(!I&&!t.weak)return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:e._ref}}}),{targetValue:void 0,errors:a};if(I&&!_.includes(I._type))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-type-incompatible.description",args:{sourceReferenceType:I._type,targetReferenceTypes:_.join(", ")}}}),{targetValue:void 0,errors:a};if(s.client&&((k=t.options)!=null&&k.filter)){const M=D=>s.client.withConfig(D);if(!await Q$n(r||{},I,t.options,i,M))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-filter-incompatible.description"}}),{targetValue:void 0,errors:a}}}catch(T){return console.error("Error fetching reference document:",T),a.push({level:"error",sourceValue:l,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:e._ref}}}),{targetValue:void 0,errors:a}}}const y={},v=L7(t)&&Er(e)&&!yc(e.markDefs);if(v){const _=e.markDefs||[];_.filter(T=>T._key).forEach(T=>{y[T._key]=o()}),l.markDefs=_.map(T=>({...T,_key:y[T._key]}))}const b=t.fields;for(const _ of b){const T=_.type,j=_s(T),A=Ui(T);if(aI(T)){const I=e?e[_.name]:void 0,M=_$e({sourceValue:I,targetSchemaType:T,errors:a});yc(M.targetValue)||(l[_.name]=M.targetValue)}else if(A){const I=await RY({sourceValue:sa(e,n.concat(_.name)),targetPath:[],targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:a,options:s,keyGenerator:o});yc(I.targetValue)||(l[_.name]=Dde(I.targetValue))}else if(j){const I=e?e[_.name]:void 0,M=await d7({sourceValue:I,targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:a,options:s,keyGenerator:o});if(v&&_.name==="markDefs"&&!yc(l.markDefs))continue;yc(M.targetValue)||(l[_.name]=M.targetValue)}}const x=sa(l,n),w=Dde(x);return Object.keys(y).length>0&&Er(w)&&(w.children=w.children.map(_=>vi(_)&&_.marks?{..._,marks:[..._.marks.map(T=>y[T]||T)]}:_)),Gs(t)&&t.weak&&(w._weak=!0),Gs(t)&&Us(e)&&e._strengthenOnPublish&&(w._weak=!0,w._strengthenOnPublish=e._strengthenOnPublish),{targetValue:w,errors:a}}async function d7({sourceValue:e,targetSchemaType:t,targetRootValue:n,targetRootPath:r,errors:i,options:a,keyGenerator:o}){let s;const l=e;if(!l||!Array.isArray(l))return{targetValue:void 0,errors:[{level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.array-type-incompatible.description",args:{type:typeof l}}}]};const c=iI(t),d=Af(t);if(c){const h=t.of.map(y=>y.jsonType),p=h.includes("number"),m=l.filter(y=>t3n(y,h)).map(y=>!p&&typeof y=="number"?`${y}`:y),g=l.filter(y=>!m.includes(!p&&typeof y=="number"?`${y}`:y));g.length>0&&g.forEach(y=>{i.push({level:m.length>0?"warning":"error",sourceValue:y,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:typeof y}}})}),m.length>0&&(s=m)}if(d){const h=e,p=h.filter(g=>t.of.some(y=>y.name===g._type)),m=h.filter(g=>!t.of.some(y=>y.name===g._type));p.length===0?s=void 0:s=(await Promise.all(p.map(g=>RY({sourceValue:g,targetSchemaType:t.of.find(y=>y.name===g._type),targetPath:[],targetRootValue:n,targetRootPath:r,errors:i,options:a,keyGenerator:o})))).map(g=>g.targetValue).filter(g=>!yc(g)),m.length>0&&m.forEach(g=>{i.push({level:p.length>0?"warning":"error",sourceValue:g,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:g._type||typeof g}}})})}return{targetValue:s,errors:i}}function _$e({sourceValue:e,targetSchemaType:t,errors:n}){var s,l;let r;const i=e;if(typeof i>"u")return{targetValue:void 0,errors:n};const a=t.jsonType===typeof i,o=typeof i=="number"&&t.jsonType==="string";if(a||o){const c=typeof i=="string"||typeof i=="number";if((ap(t)||F7(t))&&c){const d=((l=(s=t.options)==null?void 0:s.list)==null?void 0:l.map(h=>typeof h=="string"||typeof h=="number"?h:h.value))||[];d.length>0&&!d.includes(i)&&n.push({level:"error",sourceValue:i,i18n:{key:"copy-paste.on-paste.validation.string-value-incompatible.description",args:{value:i,allowedStrings:d}}})}r=o?`${i}`:i}else n.push({level:"error",sourceValue:i,i18n:{key:"copy-paste.on-paste.validation.primitive-type-incompatible.description",args:{type:typeof i}}});return{targetValue:r,errors:n}}function Dde(e){const t=["_id","_createdAt","_updatedAt","_rev","_weak"];return Object.keys(e).reduce((n,r)=>t.includes(r)?n:{...n,[r]:e[r]},{})}const a3n=({children:e})=>{const t=_r(),n=Qo(),r=tn(),{t:i}=q("copy-paste"),a=Xt(qt),[o,s]=f.useState(null),l=f.useCallback(({documentId:p,documentType:m,schemaType:g,onChange:y})=>{const v={documentId:pn(p),documentType:m,schemaType:g,onChange:y};s(b=>kt(b,v)?b:v)},[]),c=f.useCallback(async(p,m,g)=>{var O,R;if(!o)return;const{documentId:y,documentType:v,schemaType:b}=o,x=sC(b,p,m);if(!x){t.push({status:"error",title:i("copy-paste.on-copy.validation.schema-type-incompatible.title",{path:Zt(p)})});return}const w=((O=x.type)==null?void 0:O.name)==="document",C=sa(m,p);if(yc(C)){t.push({status:"warning",title:i("copy-paste.on-copy.validation.no-value.title")});return}const S=p.length>0?xU(p):void 0,E=S&&(En(S)||Ya(S)),k=g.context.source==="arrayItem"||E||g.patchType==="append",_=k&&E?p.slice(0,-1):p,T=k?"append":"replace",j=E&&!Array.isArray(C),A=g.context.source==="arrayItem",I={type:"sanityClipboardItem",documentId:y,documentType:v,isDocument:w,schemaTypeName:x.name,valuePath:_,value:j?[C]:C,patchType:T};if(n.log(U$n,{context:((R=g==null?void 0:g.context)==null?void 0:R.source)||"unknown",schemaTypes:[x.jsonType]}),!await Y$n(I)){t.push({status:"error",title:i("copy-paste.on-copy.validation.clipboard-not-supported.title")});return}const M=x.title||b.name||"unknown",D=A?i("copy-paste.on-copy.validation.copy-item_one-success.title",{typeName:M}):i("copy-paste.on-copy.validation.copy-field_one-success.title",{fieldName:M});t.push({status:"success",title:w?i("copy-paste.on-copy.validation.copy-document-success.title",{fieldNames:M}):D})},[o,n,t,i]),d=f.useCallback(async(p,m,g)=>{var T,j;if(!o)return;const{schemaType:y,onChange:v}=o,b=sC(y,p,m),x=await G$n();if(!x){t.push({status:"info",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}if(!x.documentType){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const w=r.get(x.documentType);if(!w){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const C=[],S=[],E=sC(w,x.valuePath,m);if(!E){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:Zt(x.valuePath)})});return}if(!y){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:Zt(p)})});return}const k=b.title||b.name,_={sourceRootSchemaType:E,sourcePath:[],sourceRootPath:x.valuePath,sourceValue:x.value,targetRootSchemaType:b,targetPath:[],targetRootPath:p,targetRootValue:m,options:{validateAssets:!0,validateReferences:!0,client:a}};S.push(E.jsonType);try{const{targetValue:A,errors:I}=await i3n(_),M=I.filter(U=>U.level!=="warning"),D=yc(A);if(M.length>0){const U=i(M[0].i18n.key,M[0].i18n.args);t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title"),description:U});return}if(I.length>0&&!D){const U=I.map(H=>i(H.i18n.key,H.i18n.args)).join(", ");t.push({status:"warning",title:i("copy-paste.on-paste.validation.partial-warning.title"),description:U})}if(D){t.push({status:"warning",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}const O=(x==null?void 0:x.patchType)||"replace",R=x.schemaTypeName!=="array"&&b.jsonType==="array"||O==="append",F=R&&p.length>0&&b.jsonType==="array",P=R&&p.length>0?[...p.slice(0,-1),`${(T=p.slice(-1))==null?void 0:T[0]}[-1]`]:p,V=b.jsonType==="array"?[Vo([],p)]:[];C.push({patches:F?[...V,Hd(A,"after",P)]:[...V,ft(A,p)],targetSchemaTypeTitle:k})}catch(A){t.push({status:"error",title:A.message});return}if(n.log(H$n,{context:((j=g==null?void 0:g.context)==null?void 0:j.source)||"unknown",schemaTypes:S}),C.length){const A=pr(C.map(({patches:M})=>M)),I=C.map(M=>M.targetSchemaTypeTitle).join('", "');if(v(Dt.from(A)),x.isDocument){t.push({status:"success",title:i("copy-paste.on-paste.validation.document-paste-success.title",{fieldNames:I})});return}C.length===1&&t.push({status:"success",title:i("copy-paste.on-paste.validation.field_one-paste-success.title",{fieldName:I})})}},[o,r,n,t,a,i]),h=f.useMemo(()=>({setDocumentMeta:l,onCopy:c,onPaste:d}),[c,d,l]);return u.jsx(ohe.Provider,{value:h,children:e})},Ub=()=>{const e=f.useContext(ohe);if(!e)throw new Error("useCopyPaste must be used within a CopyPasteProvider");return e},Mde=12,o3n=4;function s3n(e){const t=encodeURIComponent(e);return`url("data:image/svg+xml,${`%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='${t}' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='${t}' stroke-linecap='round'/%3E%3C/svg%3E%0A`}")`}const l3n=VLe(e=>{const{color:t,font:n}=Te(e.theme);return de`
    ::-webkit-resizer {
      background-image: ${s3n(t.icon)};
      background-repeat: no-repeat;
      background-position: bottom right;
    }

    ::-webkit-scrollbar {
      width: ${Mde}px;
      height: ${Mde}px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-clip: content-box;
      background-color: var(--card-border-color, ${t.border});
      border: ${o3n}px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: var(--card-muted-fg-color, ${t.muted.fg});
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    *::selection {
      background-color: ${fI(t.focusRing,.3)};
    }

    html {
      background-color: ${t.bg};
    }

    body {
      scrollbar-gutter: stable;
    }

    #sanity {
      font-family: ${n.text.family};
    }

    b {
      font-weight: ${n.text.weights.medium};
    }

    strong {
      font-weight: ${n.text.weights.medium};
    }
  `}),Rde=sje.__sanityErrorChannel;function u3n(){const{push:e}=_r();return f.useEffect(()=>{if(Rde)return Rde.subscribe(t=>{t.error&&(c3n(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function c3n(e){return e instanceof nO||e instanceof hR||e instanceof $l}function d3n({children:e,AuthenticateComponent:t=f$e,LoadingComponent:n=bn,NotAuthenticatedComponent:r=MY}){const[i,a]=f.useState(null);if(i)throw i;const[o,s]=f.useState("loading"),[l,c]=f.useState(),{activeWorkspace:d}=Xp();return f.useEffect(()=>{var h,p;(p=(h=d.auth).handleCallbackUrl)==null||p.call(h).catch(a)},[d.auth]),f.useEffect(()=>{const h=d.auth.state.subscribe({next:({authenticated:p,currentUser:m})=>{var g;if(((g=m==null?void 0:m.roles)==null?void 0:g.length)===0){s("unauthorized"),m!=null&&m.provider&&c(m.provider);return}s(p?"logged-in":"logged-out")},error:a});return()=>{h.unsubscribe()}},[d]),o==="loading"?u.jsx(n,{}):o==="unauthorized"?!l||l==="sanity"?u.jsx(r,{}):u.jsx(lOn,{}):o==="logged-out"?u.jsx(t,{}):u.jsx(u.Fragment,{children:e})}const f3n={toast:[100,11e3]},h3n={apiVersion:"2023-12-18"};function p3n(e){const{errorReporter:t}=e,n=Xt(h3n);return f.useEffect(()=>{const r=n.observable.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.error-reporting"}).subscribe({next:i=>{(i==null?void 0:i.status)==="granted"?t.enable():t.disable()},error:i=>{console.error("Error fetching telemetry status",i)}});return()=>r.unsubscribe()},[n,t]),null}const m3n="v1",g3n="https://sanity-cdn.com",y3n=`${g3n}/${m3n}/modules/`,v3n=async(e,t)=>{try{const n=`t${Math.floor(Date.now()/1e3)}`;return(await fetch(`${y3n}${e}/default/^${t}/${n}`,{headers:{accept:"application/json"}})).json().then(r=>r.packageVersion)}catch(n){console.error("Failed to fetch latest version for package",e,"Error:",n);return}},b3n=async e=>{const t=await Promise.all(Object.entries(e).map(async([n,r])=>[n,await v3n(n,r)]));return Object.fromEntries(t)},x3n=1e3*30,w3n=1e3*60*30,xF={sanity:jl};function C3n({children:e}){const t=_r(),{t:n}=q(),r=f.useRef(null),i=IY(),a=f.useCallback(()=>{const o=()=>{window.location.reload()};t.push({id:"new-package-available",title:n("package-version.new-package-available.title"),description:u.jsx(ne,{space:2,paddingBottom:2,children:u.jsx(L,{children:u.jsx(he,{size:"large","aria-label":n("package-version.new-package-available.reload-button"),onClick:o,text:n("package-version.new-package-available.reload-button"),tone:"primary"})})}),closable:!0,status:"info",duration:1e3*60*60*24*24})},[t,n]);return f.useEffect(()=>{if(!i)return;const o=()=>{r.current&&r.current+w3n>Date.now()||b3n(xF).then(l=>{r.current=Date.now(),l&&Object.entries(l).some(([c,d])=>!d||!xF[c]?!1:rVt.gt(d,xF[c]))&&a()})};o();const s=setInterval(o,x3n);return()=>clearInterval(s)},[i,a]),u.jsx(u.Fragment,{children:e})}const S3n=V8t();function E3n(e){const t=Xt({apiVersion:"v2023-12-18"}),n=t.config().projectId,r=f.useMemo(()=>Y8t(S3n,{flushInterval:3e4,resolveConsent:()=>t.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.studio"}),sendEvents:i=>t.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:n,batch:i}}),sendBeacon:i=>navigator.sendBeacon(t.getUrl("/intake/batch"),JSON.stringify({projectId:n,batch:i}))}),[t,n]);return f.useEffect(()=>{r.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},studioVersion:jl,plugins:Vqt(e.config).flatMap(i=>{var a;return((a=i.plugins)==null?void 0:a.flatMap(o=>({name:o.name||"<unnamed>"})))||[]})})},[e.config,r.logger]),u.jsx(aVt,{store:r,children:e.children})}kg.fonts.code.family,kg.fonts.text.family,e_.hex,Gd.hex,Jx[500].hex,Gd.hex,e_.hex,kw[500].hex,kw[500].hex,kw[500].hex,hg[500].hex,Jx[500].hex,UF[500].hex,dT[500].hex,Jx[500].hex,Jx[500].hex,UF[500].hex,dT[500].hex,hg[500].hex,e_.hex,Gd.hex;const V5=upe(),k3n=e=>e.__themer===!0;function Ode(e){return{...V5,v2:e.v2,fonts:k3n(e)?V5.fonts:e.fonts??V5.fonts,color:e.color??V5.color}}function _3n({children:e}){const t=Xp().activeWorkspace.theme;if(t.__legacy){const n=t.__dark?"dark":"light";return u.jsx(lI.Provider,{value:!1,children:u.jsx(uI.Provider,{value:n,children:u.jsx(FC,{scheme:n,theme:Ode(t),children:u.jsx(Zl,{children:e})})})})}return u.jsx(FC,{theme:Ode(t),children:u.jsx(Zl,{children:e})})}$(z)``;$(L).attrs({padding:4})``;function T3n(e){const{basePath:t="/",tools:n}=e,r=ga.create("/:tool",i=>{let a=n.find(o=>o.name===i.tool);return!a&&i.tool==="desk"&&(a=n.find(o=>o.name==="structure")),a?ga.scope(a.name,"/",a.router):ga.create("/")});return ga.create(t,[ga.intents("/intent"),r])}function OY(e){const t={}.toolSwitcher||{},n=t.order||[],r=t.hidden||[];if(!n.length&&!r.length)return e;const i=e.reduce((s,l)=>{const c=l.title||"<unknown>";if(!l.name)return console.warn(`Tool "${c}" does not have the required "name" property`),s;if(s[l.name]){const h=s[l.name].tool.title;return console.warn(`Tools with duplicate name "${l.name}" found ("${c}" and "${h}")`),s}const d=n.indexOf(l.name);return s[l.name]={tool:l,index:d===-1?1/0:d},s},{}),a=s=>r.indexOf(s.name)===-1,o=e.filter(a);return o.sort((s,l)=>{const c=i[s.name],d=i[l.name],h=c?c.index:1/0,p=d?d.index:1/0;return h===p?0:h-p}),o}const A3n=["template"],j3n=["mode"];function I3n(e,t){const n=OY(e)[0];return!t||t.tool||!n?t:Object.assign({},t,{tool:n.name})}function D3n(e,t){return t&&(OY(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function M3n(e,t){return I3n(e,D3n(e,t))}function R3n(e,t,n){var p;const{intent:r,params:i,payload:a}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!wt(i))throw new Error("intent params must be a string");const o=OY(e),s=t!=null&&t.tool?o.find(m=>m.name===t.tool):null,l=s?o.filter(m=>m!==s):o;let c=[];r==="create"?c=A3n:r==="edit"&&(c=j3n);const d={score:-1,tool:null},{tool:h}=(s?[s,...l]:o).reduce((m,g)=>{if(!g||typeof g.canHandleIntent!="function")return m;const y=g.canHandleIntent(r,i,t&&t[g.name]);if(typeof y=="boolean")return y&&m.score<0?{score:0,tool:g}:m;if(!wt(y))return m;const v=c.reduce((b,x)=>x in i&&y[x]===!0?b+1:b,0);return v>m.score?{score:v,tool:g}:m},d);if(h!=null&&h.getIntentState){const m=h.getIntentState(r,i,t&&t[h.name],a),{_searchParams:g,...y}=m,v={...t,_searchParams:n._searchParams,tool:h.name,[h.name]:y};return(p=h.router)!=null&&p.__unsafe_disableScopedSearchParams?v._searchParams=g:y._searchParams=g,{type:"state",isNotFound:!1,state:v}}return{type:"intent",isNotFound:!0,intent:{name:r,params:i}}}function O3n(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function $3n({children:e,LoadingComponent:t,workspace:n}){const{basePath:r,tools:i}=n,a=$Dn(),o=f.useMemo(()=>T3n({basePath:r,tools:i}),[r,i]),[s,l]=P3n(a,o,i);return s?u.jsx(_Ut,{onNavigate:l,router:o,state:s,children:e}):u.jsx(t,{})}function P3n(e,t,n){const r=f.useMemo(()=>{const s=t.getBasePath(),l=new RegExp(`^${rW(s)}(\\/|$)`,"i"),c=d=>s==="/"?!0:l.test(d);return{subscribe:d=>e.listen(d),getSnapshot:()=>`${e.location.pathname}${e.location.search||""}`,getServerSnapshot:()=>null,selector:d=>typeof d=="string"&&c(d)?O3n(t,d):null}},[e,t]),i=nW.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,r.selector,kt),a=f.useRef(i);f.useEffect(()=>{var s;if((i==null?void 0:i.type)==="state"&&!((s=i.state)!=null&&s.intent)){const l=M3n(n,i.state);l&&l!==i.state&&e.replace(t.encode(l))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),f.useEffect(()=>{const s=$de(i,t,n,a);s?e.replace(s):a.current=i},[i,e,t,n]);const o=f.useMemo(()=>({path:s,replace:l})=>{const c=r.selector(s),d=$de(c,t,n,a),h=typeof d=="string"?d:s;l?e.replace(h):e.push(h)},[e,t,r,n]);return[(i==null?void 0:i.state)??null,o]}function $de(e,t,n,r){var i,a;if((e==null?void 0:e.type)==="state"&&((i=e.state)!=null&&i.intent)){const o=R3n(n,((a=r.current)==null?void 0:a.type)==="state"?r.current.state:{},e.state);if((o==null?void 0:o.type)==="state")return t.encode(o.state)}return null}function T$e(e){const[t,n]=f.useState(null);if(t)throw t;const[r,i]=f.useState(null);return f.useEffect(()=>{const a=Hi(e.__internal.sources.map(({source:o})=>o.pipe(kn(s=>{if(s instanceof $l)return we(s);throw s})))).pipe(fe(o=>{const s=o.filter(l=>l instanceof $l);if(s.length)throw new $l({name:e.name,causes:s,type:"workspace"});return o}),fe(([o,...s])=>({...e,...o,unstable_sources:[o,...s],type:"workspace"}))).subscribe({next:i,error:n});return()=>a.unsubscribe()},[e]),r}function F3n({children:e,LoadingComponent:t}){const{activeWorkspace:n}=Xp(),r=T$e(n);return r?u.jsx(CIe,{workspace:r,children:u.jsx(HR,{source:r.unstable_sources[0],children:u.jsx($3n,{LoadingComponent:t,workspace:r,children:e})})}):u.jsx(t,{})}function A$e({ConfigErrorsComponent:e,...t}){const[{error:n},r]=f.useState({error:null});if(n)throw n;return u.jsx(Wv,{onCatch:r,children:u.jsx(F3n,{...t})})}yg.registerLanguage(KUt);yg.registerLanguage(U9e);yg.registerLanguage(XUt);yg.registerLanguage(QUt);yg.registerLanguage(tHt);function N3n({children:e,config:t,basePath:n,onSchemeChange:r,scheme:i,unstable_history:a,unstable_noAuthBoundary:o}){l7.initialize();const s=f.useMemo(()=>u.jsx(A$e,{LoadingComponent:bn,ConfigErrorsComponent:iOn,children:u.jsx(E3n,{config:t,children:u.jsx(knn,{children:u.jsxs(C3n,{children:[u.jsx(p3n,{errorReporter:l7}),u.jsx(MMe,{children:e})]})})})}),[e,t]);return u.jsx(WDn,{onSchemeChange:r,scheme:i,children:u.jsxs(Bbe,{paddingY:7,zOffset:f3n.toast,children:[u.jsx(u3n,{}),u.jsx(p$e,{children:u.jsx(RDn,{config:t,basePath:n,LoadingComponent:bn,children:u.jsx(UDn,{unstable_history:a,NotFoundComponent:sOn,LoadingComponent:bn,children:u.jsx(_3n,{children:u.jsx(crn,{children:o?s:u.jsx(d3n,{LoadingComponent:bn,AuthenticateComponent:f$e,NotAuthenticatedComponent:MY,children:s})})})})})})]})})}function Pde(e){const{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_globalStyles:a,unstable_history:o,unstable_noAuthBoundary:s}=e;return u.jsxs(N3n,{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_history:o,unstable_noAuthBoundary:s,children:[a&&u.jsx(l3n,{}),u.jsx(yOn,{})]})}function L3n(e,t,n=!1){if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:i=!1,basePath:a}=r,o=nje(e);return o.render(i?u.jsx(f.StrictMode,{children:u.jsx(Pde,{config:t,basePath:a,unstable_globalStyles:!0})}):u.jsx(Pde,{config:t,basePath:a,unstable_globalStyles:!0})),()=>o.unmount()}function Xt(e){const t=Hn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const Fde="connecting";function j$e(e,t){const n=dl(),r=f.useMemo(()=>n.pair.documentEvents(e,t).pipe(fe(i=>i.type),fe(i=>i!=="reconnect"),Ct(i=>i?we("connected"):Qr(200).pipe(BD("reconnecting"))),Wi(Fde),hr()),[t,n.pair,e]);return ti(r,Fde)}function I$e(){return Hn().dataset}function fu(e,t){const n=dl(),r=f.useMemo(()=>n.pair.editOperations(e,t),[t,n.pair,e]);return ti(r)}function D$e(e,t){const n=dl(),r=f.useMemo(()=>n.pair.operationEvents(e,t),[t,n.pair,e]);return ti(r)}function iO(e,t,n="default"){const r=dl(),i=f.useMemo(()=>{if(n==="low"){const a=r.pair.editState(e,t).pipe(Ho());return Bn(a.pipe($a(1)),a.pipe(oCe(1),wz(()=>Qr(1e3))))}return r.pair.editState(e,t)},[t,r.pair,n,e]);return ti(i)}const f7=[],Nde={enabled:!0,error:null,features:f7,isLoading:!0};function B3n({versionedClient:e}){return e.observable.request({uri:"/features",tag:"features"})}const wF=new Map;function Tk(e){const t=Xt(qt),{projectId:n}=Hn();if(!wF.get(n)){const i=B3n({versionedClient:t}).pipe(la());wF.set(n,i)}const r=f.useMemo(()=>(wF.get(n)||we(f7)).pipe(fe((i=[])=>({isLoading:!1,enabled:!!(i!=null&&i.includes(e)),features:i,error:null})),Wi(Nde),kn(i=>we({isLoading:!1,enabled:!1,features:f7,error:i}))),[e,n]);return ti(r,Nde)}const V3n=Qi("mod+c"),z3n=Qi("mod+v");function U3n({value:e,element:t,focusPath:n}){const r=f.useRef(n||[]),i=f.useRef(e);i.current=e,f.useEffect(()=>{r.current=n||[]},[n]);const{onCopy:a,onPaste:o}=Ub(),s=f.useCallback(l=>{const c=l.target;if(V3n(l)){if(jde(c)||J$n()||Ide(r.current))return;l.preventDefault(),l.stopPropagation(),a(r.current,i.current,{context:{source:"keyboardShortcut"}})}if(z3n(l)){if(jde(c)||Ide(r.current)||tun(c))return;l.stopPropagation(),l.preventDefault(),o(r.current,i.current,{context:{source:"keyboardShortcut"}})}},[a,o]);f.useEffect(()=>(t==null||t.addEventListener("keydown",s),()=>{t==null||t.removeEventListener("keydown",s)}),[t,s,o])}const Lde=1e3*5,H3n=1e3*20,M$e=1e3*60,Bde=M$e*60,R$e={month:"short",day:"numeric"},O$e={...R$e,year:"numeric"},W3n={...O$e,hour:"numeric",minute:"numeric"};function Xg(e,t={}){const n=G3n(e,t),[,r]=f.useReducer(i=>i+1,0);return f.useEffect(()=>{let i;function a(o){i=window.setTimeout(()=>{r(),i=window.setTimeout(()=>a(o),o)},o)}return n.refreshInterval!==null&&a(n.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[r,n.refreshInterval]),n.timestamp}function G3n(e,t={}){const{t:n}=q(),r=Yp().id,{timeZone:i,minimal:a}=t,o=e instanceof Date?e:new Date(e),s=!!t.useTemporalPhrase,l=f.useCallback(function(b,x){const w=x==="day"&&Math.abs(b)===1,C=x==="week"&&Math.abs(b)===1;return s||w?Pd.relativeTimeFormat(r,{style:a&&!C?"short":"long",numeric:"auto"}).format(b,x):Pd.numberFormat(r,{style:"unit",unit:x,unitDisplay:a?"short":"long"}).format(Math.abs(b))},[r,s,a]);if(!o.getTime())return{timestamp:"",refreshInterval:null};const c=t.relativeTo||Date.now(),d=Mke(c,o),h=EAt(c,o);if(d||h)return t.minimal&&h===0?{timestamp:Pd.dateTimeFormat(r,{...R$e,timeZone:i}).format(o),refreshInterval:null}:t.minimal?{timestamp:Pd.dateTimeFormat(r,{...O$e,timeZone:i}).format(o),refreshInterval:null}:{timestamp:Pd.dateTimeFormat(r,{...W3n,timeZone:i}).format(o),refreshInterval:null};const p=SAt(o,c);if(p)return{timestamp:l(p,"week"),refreshInterval:Bde};const m=Dke(o,c);if(m)return{timestamp:l(m,"day"),refreshInterval:Bde};const g=bAt(o,c);if(g)return{timestamp:l(g,"hour"),refreshInterval:M$e};const y=xAt(o,c);if(y)return{timestamp:l(y,"minute"),refreshInterval:H3n};const v=Rke(o,c);return Math.abs(v)>10?{timestamp:l(v,"second"),refreshInterval:Lde}:{timestamp:n("relative-time.just-now"),refreshInterval:Lde}}const Y3n={isSyncing:!0},Vde={isSyncing:!1};function $$e(e,t){const n=dl(),r=f.useMemo(()=>n.pair.consistencyStatus(e,t).pipe(fe(i=>i?Vde:Y3n)),[n.pair,t,e]);return ti(r,Vde)}function Hb(){return Hn().templates}function q3n(){return Hn().tools}const zde={data:[],error:null,loading:!0};let Ude=null;function P$e(e){const{documentValue:t,permission:n}=e,r=$bn(),i=VG(),a=Xt(qt),[o,s]=f.useState(zde),l=f.useMemo(()=>{const c=r.get().pipe(fe(p=>{var m;return(m=p.members)==null?void 0:m.filter(g=>!g.isRobot)})).pipe(Ct(async p=>{const m=p.map(({id:g})=>g);return await i.getUsers(m)}),fe(p=>p.map(m=>({displayName:m.displayName,id:m.id,granted:!1})))),d=Ude,h=d?we(d):a.observable.fetch('*[_type == "system.group"]');return mdt([c,h]).pipe(Mt(async([p,m])=>{d||(Ude=m);const g=p==null?void 0:p.map(async y=>{const v=[...m.map(x=>x.members.includes(y.id)?x.grants:[])].flat(),{granted:b}=await TMe(y.id,v,n,t);return{...y,granted:b}});return await Promise.all(g||[])})).pipe(fe(p=>({error:null,loading:!1,data:Bp(p,"displayName")})))},[a.observable,t,r,i,n]);return f.useEffect(()=>{const c=we(zde),d=ji(c,l).subscribe({next:s,error:h=>{s({data:[],error:h,loading:!1})}});return()=>{d.unsubscribe()}},[l]),o}const CF=$(N)`
  white-space: nowrap;
`;function Sv({absoluteDate:e,draft:t,published:n,singleLine:r}){const{t:i}=q(),a=t&&"_updatedAt"in t?t._updatedAt:"",o=n&&"_updatedAt"in n?n._updatedAt:"",s=Hl({dateStyle:"medium",timeStyle:"short"}),l=a&&s.format(new Date(a)),c=o&&s.format(new Date(o)),d=Xg(a||"",{minimal:!0,useTemporalPhrase:!0}),h=Xg(o||"",{minimal:!0,useTemporalPhrase:!0}),p=e?c:h,m=e?l:d;return u.jsxs(z,{align:r?"center":"flex-start","data-testid":"pane-footer-document-status",direction:r?"row":"column",gap:2,wrap:"nowrap",children:[!p&&u.jsx(CF,{size:1,weight:"medium",children:i("document-status.not-published")}),p&&u.jsx(CF,{size:1,weight:"medium",children:i("document-status.published",{date:p})}),m&&u.jsx(CF,{muted:!0,size:1,wrap:"nowrap",children:i("document-status.edited",{date:m})})]})}const Hde=new WeakMap;let K3n=0;function F$e(e){const t=Hde.get(e);if(t)return t;const n=`${e.name||e.displayName||"<anonymous>"}-${K3n++}`;return Hde.set(e,n),n}function Z3n({hook:e,id:t}){const n=({args:i,handleNext:a,handleReset:o})=>{const s=e({...i,onComplete:()=>{o(t)}});return f.useEffect(()=>(a(t,s),()=>{a(t,null)}),[a,s]),null},{displayName:r="HookState"}=e;return n.displayName=r,f.memo(n,(i,a)=>i.args===a.args)}const N$e=f.memo(({hooks:e,keys:t,args:n,handleNext:r,handleReset:i})=>{const a=f.useMemo(()=>e.map(o=>{const s=F$e(o),l=t[s]||0;return[Z3n({hook:o,id:s}),`${s}-${l}`]}),[e,t]);return u.jsx(u.Fragment,{children:a.map(([o,s])=>u.jsx(o,{args:n,handleNext:r,handleReset:i},s))})});N$e.displayName="Memo(HookCollectionState)";function X3n(e){const[t,n]=f.useState({}),r=f.useCallback(i=>{n(a=>({...a,[i]:(a[i]||0)+1})),e==null||e()},[e]);return{keys:t,handleReset:r}}const J3n=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},Q3n=e=>clearTimeout(e),ePn=typeof requestIdleCallback>"u"?J3n:requestIdleCallback,tPn=typeof cancelIdleCallback>"u"?Q3n:cancelIdleCallback,nPn={trailing:!0};function Wde(e,{hooks:t}){return t.map(n=>{const r=F$e(n);return e.get(r)}).filter(ua)}function rPn({hooks:e,group:t}){const[n]=f.useState(()=>new Map),[r,i]=f.useState(()=>Wde(n,{hooks:e})),a=f.useRef(0),o=f.useCallback(()=>{tPn(a.current),a.current=ePn(()=>{i(Wde(n,{hooks:e}))})},[e,n]),s=btn(o,60,nPn),l=f.useCallback((c,d)=>{let h=!0;const p=(d==null?void 0:d.group)||["default"];if(d===null||t&&!p.includes(t))n.delete(c);else{if(n.has(c)){const m=n.get(c);h=!fg(m,d)}n.set(c,d)}h&&s()},[t,s,n]);return{states:r,handleNext:l}}const L$e=f.memo(e=>{const{hooks:t,args:n,children:r,group:i,onReset:a}=e,{handleReset:o,keys:s}=X3n(a),{states:l,handleNext:c}=rPn({hooks:t,group:i}),d=f.useMemo(()=>r({states:l}),[r,l]);return u.jsxs(u.Fragment,{children:[u.jsx(N$e,{hooks:t,keys:s,args:n,handleNext:c,handleReset:o}),d]})});L$e.displayName="Memo(GetHookCollectionState)";const B$e=L$e,iPn=$(ui)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return Pt(r,e.$width,i=>({width:i==="auto"?"none":Ce(n[i]),maxWidth:"100%"}))}),aPn=f.forwardRef(function(e,t){const{width:n,...r}=e,i=Ae(n);return u.jsx(iPn,{...r,"data-ui":"PopoverContainer",$width:i,ref:t})}),oPn=$(_n)(()=>de`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `),sPn=$(qo)(e=>{const t=e.theme.sanity.radius[3];return de`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: ${t}px;
    border-top-right-radius: ${t}px;
  `});function lPn(e){const{children:t,header:n,onClose:r,referenceElement:i,containerRef:a,width:o}=e,s=f.useCallback(()=>{r(),i==null||i.focus()},[r,i]);return u.jsx(oPn,{portal:!0,constrainSize:!0,content:u.jsx(aPn,{width:o,children:u.jsx(Yu,{autoFocus:!0,children:u.jsxs(ne,{ref:a,children:[u.jsx(sPn,{children:u.jsx(L,{padding:2,paddingLeft:4,children:u.jsxs(z,{align:"center",gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n})}),u.jsx(he,{icon:Nr,mode:"bleed",onClick:s,tooltipProps:{content:"Close"}})]})})}),u.jsx(L,{padding:4,children:t})]})})}),open:!0,referenceElement:i})}const uPn=$(ie)(()=>de`
    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `),cg=f.forwardRef(function(e,t){const{children:n,selected:r,as:i,...a}=e,o=f.useMemo(()=>({selected:r}),[r]);return u.jsx(uPn,{"data-ui":"PreviewCard",...a,forwardedAs:i,ref:t,selected:r,children:u.jsx(OFe.Provider,{value:o,children:n})})}),cPn=$(cg)`
  /* this is a hack to avoid layout jumps while previews are loading
there's probably better ways of solving this */
  min-height: 36px;
`,Aa={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}},V$e=$.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:i}=e,a=t.width||0,o=t.width||0,s=Aa[n].icon;return de`
    position: relative;
    width: ${i?"100%":Ce(a)};
    height: ${i?"100%":Ce(o)};
    min-width: ${i?void 0:Ce(a)};
    border-radius: ${({theme:l})=>Ce(l.sanity.radius[r])};
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      // Shared styles for SVG icons
      color: var(--card-icon-color);
      display: block;
      flex: 1;

      // Specific styles for non Sanity icons
      &:not([data-sanity-icon]) {
        height: 1em;
        width: 1em;
        max-width: 1em;
        max-height: 1em;
      }

      // Specific styles for Sanity icons
      &[data-sanity-icon] {
        display: block;
        font-size: calc(${s} / 16 * 1em);
      }
    }

    & > span[data-border] {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.1;
      border-radius: inherit;
      pointer-events: none;
    }
  `});V$e.displayName="Styled(MediaWrapper)";function Wb(e){const{border:t=!0,dimensions:n,layout:r,media:i,radius:a=1,responsive:o=!1,styles:s}=e;return u.jsxs(V$e,{$dimensions:n,$layout:r,$radius:a,$responsive:o,className:s==null?void 0:s.media,"data-testid":"Media",children:[dPn({dimensions:n,layout:r,media:i}),t&&u.jsx("span",{"data-border":!0})]})}function dPn(e){const{dimensions:t,layout:n,media:r,styles:i}=e;return ka.isValidElementType(r)?f.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?u.jsx(N,{as:"span",className:i==null?void 0:i.mediaString,size:1,children:r}):f.isValidElement(r)?r:null}function fPn(e,t,n){return ka.isValidElementType(e)?f.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?u.jsx("div",{children:e}):e}function ia(e,t,n){return typeof e=="string"?e:ka.isValidElementType(e)?f.createElement(e,{layout:t}):e||n}const hPn={...Aa.compact.media,aspect:1,fit:"crop",dpr:zc()},Gde=$(z)`
  height: ${Ce(Aa.compact.media.height)};
  box-sizing: content-box;
`,pPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(160)};
  width: 80%;
`;function mPn(e){const{children:t,isPlaceholder:n,media:r,status:i,title:a}=e,{t:o}=q(),s=i&&u.jsx(L,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:ia(i,"compact")});return n?u.jsx(Gde,{align:"center","data-testid":"default-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:u.jsxs(z,{align:"center",flex:1,gap:2,children:[r&&u.jsx(qc,{animated:!0,radius:2,style:Aa.compact.media}),u.jsx(ne,{"data-testid":"compact-preview__heading",flex:1,space:2,children:u.jsx(pPn,{})}),s]})}):u.jsxs(Gde,{align:"center","data-testid":"compact-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:[u.jsxs(z,{align:"center",flex:1,gap:2,children:[r&&u.jsx(Wb,{border:!1,dimensions:hPn,layout:"compact",media:r}),u.jsx(ne,{"data-testid":"compact-preview__header",flex:1,space:2,children:u.jsxs(N,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[a&&ia(a,"compact"),!a&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:o("preview.default.title-fallback")})]})}),s]}),t&&u.jsx(L,{marginLeft:1,children:t})]})}const gPn={...Aa.default.media,aspect:1,fit:"crop",dpr:zc()},Yde=$(z)`
  height: ${Ce(Aa.default.media.height)};
  box-sizing: content-box;
`,yPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(160)};
  width: 80%;
`,vPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(120)};
  width: 60%;
`;function z$e(e){const{title:t,subtitle:n,media:r,status:i,isPlaceholder:a,children:o,styles:s}=e,{t:l}=q(),c=Cht(s==null?void 0:s.root,!!n&&(s==null?void 0:s.hasSubtitle)),d=i&&u.jsx(L,{className:s==null?void 0:s.status,"data-testid":"default-preview__status",children:ia(i,"default")});return a?u.jsx(Yde,{align:"center",className:s==null?void 0:s.placeholder,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(z,{align:"center",flex:1,gap:2,children:[r&&u.jsx(L,{flex:"none",children:u.jsx(qc,{animated:!0,radius:1,style:Aa.default.media})}),u.jsxs(ne,{"data-testid":"default-preview__heading",flex:1,space:2,children:[u.jsx(yPn,{}),u.jsx(vPn,{})]}),u.jsx(L,{flex:"none",padding:1,children:d})]})}):u.jsx(Yde,{align:"center",className:c,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(z,{align:"center",flex:1,gap:2,children:[r&&u.jsx(L,{flex:"none",children:u.jsx(Wb,{dimensions:gPn,layout:"default",media:r,styles:s})}),u.jsxs(ne,{className:s==null?void 0:s.heading,"data-testid":"default-preview__header",flex:1,space:2,children:[u.jsxs(N,{className:s==null?void 0:s.title,size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[t&&ia(t,"default"),!t&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("preview.default.title-fallback")})]}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",className:s==null?void 0:s.subtitle,children:ia(n,"default")})]}),u.jsx(L,{flex:"none",padding:1,children:d}),o&&u.jsx("div",{className:s==null?void 0:s.children,children:o})]})})}const qde=$(z).attrs({align:"center"})`
  height: ${Ce(Aa.detail.media.height)};
`,bPn=$(L)`
  white-space: nowrap;
`,xPn=$(qc).attrs({animated:!0,radius:2})`
  width: ${Ce(Aa.detail.media.width)};
  height: ${Ce(Aa.detail.media.height)};
`,wPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(160)}; /* 80% of 200px */
  width: 80%;
`,CPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(120)}; /* 60% of 200px */
  width: 60%;
`,SPn=$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(180)}; /* 90% of 200px */
  width: 90%;
`,EPn=$(N)(({theme:e})=>{const{fonts:t}=e.sanity,n=t.text.sizes[1],r=2,i=n.lineHeight*r;return de`
    & > span {
      max-height: ${Ce(i)};

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: ${r};
      -webkit-box-orient: vertical;
    }
  `}),kPn={...Aa.detail.media,fit:"crop",aspect:1,dpr:zc()};function _Pn(e){const{title:t,subtitle:n,description:r,mediaDimensions:i=kPn,media:a,status:o,children:s,isPlaceholder:l}=e,{t:c}=q(),d=o&&u.jsx(bPn,{marginLeft:3,paddingRight:1,children:ia(o,"detail")});return l?u.jsx(qde,{"data-testid":"detail-preview",paddingLeft:a?2:3,paddingRight:2,paddingY:2,children:u.jsxs(z,{align:"center",flex:1,gap:3,children:[a&&u.jsx(xPn,{"data-testid":"detail-preview__media"}),u.jsx(z,{align:"center","data-testid":"detail-preview__header",flex:1,children:u.jsxs(ne,{flex:1,space:2,children:[u.jsx(wPn,{}),u.jsx(CPn,{}),r&&u.jsx(L,{marginTop:1,children:u.jsx(SPn,{})})]})}),d]})}):u.jsx(qde,{"data-testid":"detail-preview",paddingLeft:a?2:3,paddingRight:2,paddingY:2,children:u.jsxs(z,{align:"center",flex:1,gap:3,children:[a&&u.jsx(Wb,{dimensions:i,layout:"detail",media:a}),u.jsxs(z,{align:"center","data-testid":"detail-preview__header",flex:1,children:[u.jsxs(ne,{flex:1,space:2,children:[u.jsxs(N,{textOverflow:"ellipsis",size:1,style:{color:"inherit"},weight:"medium",children:[t&&ia(t,"detail"),!t&&u.jsx(u.Fragment,{children:c("preview.default.title-fallback")})]}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ia(n,"detail")}),r&&u.jsx(L,{marginTop:1,children:u.jsx(EPn,{muted:!0,size:1,children:ia(r,"detail")})})]}),d]}),s]})})}const yu=43,$Y=3,TPn=$.svg`
  width: ${yu}px;
  height: ${yu}px;
  transform: rotate(-90deg);
`,APn=$.circle(({theme:e})=>{const{color:t}=e.sanity;return de`
    fill: none;
    stroke: ${rt.gray[t.dark?900:100].hex};
    stroke-width: ${$Y}px;
  `}),jPn=$.circle(({theme:e})=>{const{color:t}=e.sanity;return de`
    fill: none;
    stroke: ${rt.blue[t.dark?400:500].hex};
    stroke-width: ${$Y}px;
    transition: stroke-dashoffset 75ms;
  `});function IPn(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=yu/2-$Y/2,i=2*Math.PI*r,a=(100-n)/100*i,o=`${yu/2} ${yu/2} ${yu} ${yu}`;return u.jsxs(TPn,{viewBox:o,children:[u.jsx(APn,{cx:yu,cy:yu,r}),u.jsx(jPn,{cx:yu,cy:yu,r,style:{strokeDasharray:i,strokeDashoffset:`${a}px`}})]})}const DPn=.5,MPn=$(ie)`
  overflow: hidden;
  overflow: clip;
`,RPn=$(ie)(({theme:e})=>{const{color:t}=e.sanity;return de`
    height: ${DPn}rem;
    background: ${rt.blue[t.dark?400:500].hex};
    transition: transform 75ms;
  `});function OPn(e){const{value:t}=e;return u.jsx(MPn,{radius:5,children:u.jsx(RPn,{radius:5,style:{transform:`translate3d(${t-100}%, 0, 0)`}})})}const $Pn=$(L)`
  position: relative;
`,PPn=$(z).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`,FPn=$(qc).attrs({animated:!0,radius:2})`
  width: 100%;
  height: 100%;
`,NPn=$(z).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`,LPn=$(ne).attrs({space:2})`
  max-width: ${Ce(200)};
`,BPn={...Aa.media.media,aspect:1,fit:"crop",dpr:zc()};function VPn(e){const{media:t,mediaDimensions:n=BPn,children:r,isPlaceholder:i,progress:a=-1,subtitle:o,title:s,withBorder:l=!0,withRadius:c=!0}=e,d=n.aspect||1,h=f.useMemo(()=>({paddingBottom:`${100/d}%`}),[d]),p=f.useMemo(()=>!s||!o?null:u.jsxs(LPn,{children:[s&&u.jsx(N,{align:"center",size:1,weight:"medium",children:ia(s,"media")}),o&&u.jsx(N,{align:"center",muted:!0,size:1,children:ia(o,"media")})]}),[o,s]);return u.jsx(L,{padding:2,children:u.jsxs($Pn,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[u.jsx("div",{style:h}),u.jsx(bt,{content:p,disabled:!p,placement:"top",portal:!0,children:u.jsxs(PPn,{children:[i?u.jsx(FPn,{}):u.jsx(Wb,{border:l,dimensions:n,layout:"media",media:t,radius:c?1:0,responsive:!0}),typeof a=="number"&&a>-1&&u.jsx(NPn,{children:u.jsx(IPn,{value:a})})]})}),r]})})}const zPn=$(z).attrs({align:"center"})`
  height: ${Ce(Aa.block.media.height)};
  white-space: nowrap;
  position: relative;
  z-index: 1;
`,UPn=$(ie)`
  overflow: hidden;
  position: relative;
  padding-bottom: ${({$ratio:e})=>e}%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,HPn=$(L).attrs({overflow:"hidden"})`
  border-radius: ${({theme:e})=>e.sanity.radius[1]}px;
`,WPn={...Aa.blockImage.media,fit:"fillmax",dpr:zc()},GPn=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function YPn(e){const{actions:t,title:n,subtitle:r,description:i,fallbackTitle:a="Untitled",mediaDimensions:o=WPn,media:s,children:l,status:c}=e;return u.jsxs(HPn,{children:[u.jsxs(ne,{children:[u.jsxs(zPn,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[u.jsxs(ne,{flex:1,space:2,children:[(n||a)&&u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?ia(n,"block"):a}),r&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ia(r,"block")})]}),u.jsxs(z,{gap:1,paddingLeft:1,children:[c&&u.jsx(L,{paddingX:2,paddingY:3,children:ia(c,"block")}),t]})]}),u.jsx(UPn,{$ratio:GPn(o),__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:u.jsx(Wb,{border:!1,dimensions:o,layout:"blockImage",media:s,radius:0,responsive:!0})})]}),i&&u.jsx(L,{paddingX:2,paddingY:3,children:u.jsx(N,{muted:!0,size:1,children:ia(i,"block")})}),l&&u.jsx("div",{children:l})]})}const qPn={...Aa.block.media,aspect:1,fit:"crop",dpr:zc()},KPn=$(z).attrs({align:"center"})`
  min-height: ${Ce(Aa.block.media.height)};
`;function ZPn(e){const{actions:t,title:n,subtitle:r,description:i,mediaDimensions:a=qPn,media:o,status:s,children:l}=e;return u.jsxs(ne,{"data-testid":"block-preview",space:1,children:[u.jsxs(KPn,{"data-testid":"block-preview__header",children:[o&&u.jsx(Wb,{dimensions:a,layout:"block",media:o}),u.jsxs(L,{flex:1,paddingLeft:o?2:1,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?ia(n,"block"):"Untitled"}),r&&u.jsx(L,{marginTop:2,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ia(r,"block")})}),i&&u.jsx(L,{marginTop:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ia(i,"block")})})]}),u.jsxs(z,{gap:1,paddingLeft:1,children:[s&&u.jsx(L,{paddingX:2,paddingY:3,children:ia(s,"block")}),t]})]}),l&&u.jsx("div",{"data-testid":"block-preview__children",children:l})]})}const XPn=$.span`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`,JPn=$.span`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: ${({theme:e})=>Ce(e.sanity.radius[1])};
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: ${({theme:e})=>Ce(e.sanity.radius[1])};
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`,QPn=$(N).attrs({forwardedAs:"span"})(({theme:e})=>{const t=e.sanity.fonts.text,n=t.sizes[1];return de`
    font-size: calc(${n.fontSize} / 16 * 1em);
    font-weight: ${t.weights.medium};
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: ${n.lineHeight/n.fontSize};
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `}),eFn={...Aa.inline.media,fit:"crop",aspect:1,dpr:zc()};function tFn(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:i=eFn}=e;return u.jsxs(XPn,{"data-testid":"inline-preview",children:[r&&u.jsxs(JPn,{"data-testid":"inline-preview-media",children:[fPn(r,"inline",i),u.jsx("span",{})]}),u.jsx(QPn,{"data-testid":"inline-preview-title",size:1,children:ia(t,"inline",n)})]})}({...Aa.default.media,dpr:zc()});$(L)`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`;$(z).attrs({align:"center"})`
  height: ${Ce(Aa.default.media.height)};
`;$(ur).attrs({animated:!0,radius:1})`
  max-width: ${Ce(160)};
  width: 80%;
`;$(ur).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Ce(120)};
  width: 60%;
`;const nFn=["aria-hidden","disabled","href"],rFn='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function iFn(e){return[...e.querySelectorAll(rFn)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function U$e(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:i=["arrows"],pause:a=!1,rootElement:o}=e,[s,l]=f.useState(-1),[c,d]=f.useState([]),h=c.length,p=h-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",g=t==="horizontal"?"ArrowLeft":"ArrowUp",y=f.useCallback(()=>{if(o){const x=iFn(o);d(x)}},[o]),v=f.useCallback(x=>{l(x)},[]),b=f.useCallback(x=>{if(a)return;const w=()=>{x.preventDefault(),l(S=>{const E=(S+p)%h;return!r&&E===p?S:E})},C=()=>{x.preventDefault(),l(S=>{const E=(S+1)%h;return!r&&E===0?S:E})};x.key==="Tab"&&i.includes("tab")&&(x.shiftKey?w():C()),i.includes("arrows")&&(x.key===g&&w(),x.key===m&&C())},[a,g,i,m,p,h,r]);f.useEffect(()=>{y()},[y,n,t]),f.useEffect(()=>{const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0,attributeFilter:nFn}),()=>{x.disconnect()}},[c,y,o]),f.useEffect(()=>{var x;c.forEach((w,C)=>{C===s?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>v(C),w.onblur=()=>v(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>v(C))}),s===-1&&c&&((x=c[n==="last"?p:0])==null||x.setAttribute("tabIndex","0"))},[c,s,v,n,p]),f.useEffect(()=>(o==null||o.addEventListener("keydown",b),()=>{o==null||o.removeEventListener("keydown",b)}),[b,o])}const aFn=$(he)`
  position: relative;
  // The children in button is rendered inside a span, we need to absolutely position it.
  & > span:nth-child(2) {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 0;
  }
`,oFn=$.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),Ak=f.forwardRef(function(e,t){const{disabled:n,icon:r,"aria-label":i,mode:a="bleed",text:o,tone:s,...l}=e,c=zv(),d=s&&c.sanity.color.solid[s],h=f.useMemo(()=>({backgroundColor:d==null?void 0:d.enabled.bg}),[d]);return u.jsx(aFn,{"data-ui":"StatusButton",...l,"aria-label":i,disabled:!!n,mode:a,ref:t,text:o,icon:r,children:s&&u.jsx(oFn,{style:h})})}),PY=f.forwardRef(function({children:e,content:t,disabled:n,...r},i){return u.jsx(bt,{...r,content:t,disabled:n||!t,ref:i,children:u.jsx("div",{children:e})})}),H$e=f.forwardRef((e,t)=>{const{push:n}=_r();return f.useImperativeHandle(t,()=>({push:n})),null});H$e.displayName="ForwardRef(ImperativeToast)";function W$e(){return f.useContext(PFe)}function Ef({children:e,zOffset:t}){const n=W$e()[t];return u.jsx(Zl,{zOffset:n,children:e})}function sFn(e){return{thread:{title:e("delete-thread.title"),body:e("delete-thread.body"),confirmButtonText:e("delete-thread.confirm")},comment:{title:e("delete-comment.title"),body:e("delete-comment.body"),confirmButtonText:e("delete-comment.confirm")}}}function G$e(e){const{isParent:t,onClose:n,commentId:r,onConfirm:i,loading:a,error:o}=e,{t:s}=q(ri),l=sFn(s),{title:c,body:d,confirmButtonText:h}=l[t?"thread":"comment"],p=f.useCallback(()=>{i(r)},[r,i]);return u.jsx(Ri,{footer:{cancelButton:{onClick:n},confirmButton:{loading:a,onClick:p,text:h,tone:"critical"}},header:c,id:"delete-comment-dialog",onClose:n,width:0,children:u.jsxs(ne,{space:4,children:[u.jsx(N,{size:1,children:d}),o&&u.jsx(Xr,{tone:"critical",children:s("delete-dialog.error")})]})})}const lFn=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"})]})});f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});const uFn=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),Y$e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"})]})}),cFn=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kde=$(jV)`
  svg > ellipse {
    stroke: transparent;
  }
`,dFn=/[^\p{Alpha}\p{White_Space}]/gu,fFn=new RegExp("\\p{White_Space}+","u");function hFn(e){const t=e.replace(dFn,"").split(fFn);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function aO(e){const{user:t,...n}=e,r=t,i=f.useMemo(()=>hFn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?u.jsx(Kde,{initials:i,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):u.jsx(Kde,{...n})}const v1=$.div(e=>{var r;const t=Te(e.theme),{$size:n=1}=e;return de`
    min-width: ${(r=t.avatar.sizes[n])==null?void 0:r.size}px;
  `}),pFn=un({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),mFn=un({type:"block",name:"block",of:[pFn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),gFn=hFe({type:"array",name:"body",of:[mFn]}),yFn=hH.compile({name:"comments",types:[gFn]}),vFn=yFn.get("body"),bFn=$.span(({theme:e})=>{var i,a,o;const{regular:t}=((i=e.sanity.fonts)==null?void 0:i.text.weights)||{},{hovered:n}=((a=e.sanity.color)==null?void 0:a.card)||{},{bg:r}=((o=e.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de`
    font-weight: ${t};
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: ${n.bg};
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: ${r};
    }
  `});function q$e(e){const{selected:t,userId:n}=e,[r,i]=od(n),a=tr();return!r||i?u.jsx(ur,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}):u.jsx(bt,{portal:!0,content:u.jsxs(z,{align:"center",gap:2,children:[u.jsx(z,{children:u.jsx(aO,{user:r})}),u.jsx(N,{size:1,children:r.displayName})]}),children:u.jsxs(bFn,{"data-selected":t,"data-active":(a==null?void 0:a.id)===n,children:["@",r.displayName]})})}const xFn=$(N)`
  word-break: break-word;
`;function K$e(e){const{children:t}=e;return u.jsx(xFn,{size:1,children:t})}const wFn=e=>{const{children:t}=e;return u.jsx(K$e,{children:t})},CFn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?u.jsx(q$e,{selected:r,userId:n==null?void 0:n.userId}):t},SFn=9999999;function EFn(e){const{t}=q(ri),{onClose:n,onConfirm:r}=e,i=f.useCallback(o=>{o.stopPropagation(),n()},[n]),a=f.useCallback(o=>{o.stopPropagation(),r()},[r]);return u.jsx(TV,{tone:"default",children:u.jsx(rA,{zOffset:SFn,children:u.jsx(Ri,{header:t("discard.header"),id:"discard-comment-dialog",onClose:n,width:0,onClickOutside:n,footer:{cancelButton:{onClick:i},confirmButton:{onClick:a,text:t("discard.button-confirm"),tone:"critical"}},children:u.jsx(N,{size:1,children:t("discard.text")})})})})}const kFn=$(z)``,_Fn={width:"50%"};function TFn(e){const{user:t,onSelect:n}=e,[r]=od(t.id),{t:i}=q(ri),a=u.jsx(aO,{user:r,status:t.granted?void 0:"inactive"}),o=r?u.jsx(N,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):u.jsx(ur,{size:1,style:_Fn}),s=f.useCallback(()=>{n(t.id)},[n,t.id]);return u.jsx(ie,{as:"button",disabled:!t.granted,onClick:s,padding:2,radius:2,children:u.jsxs(z,{align:"center",gap:3,children:[u.jsxs(kFn,{align:"center",gap:2,flex:1,children:[a,u.jsx(L,{children:o})]}),!t.granted&&u.jsx(ao,{fontSize:1,mode:"outline",children:i("mentions.unauthorized-user")})]})})}const Zde=[],AFn=$(ne)({maxWidth:"220px"}),Xde=41,jFn=4,IFn=7,DFn=$(z)({maxHeight:Xde*IFn+jFn*2+Xde/2}),MFn=f.forwardRef(function(e,t){const{t:n}=q(ri),{loading:r,onSelect:i,options:a=[],inputElement:o}=e,[s,l]=f.useState(""),c=f.useRef(null);f.useImperativeHandle(t,()=>({setSearchTerm(g){l(g)}}),[]);const d=f.useCallback(g=>u.jsx(TFn,{user:g,onSelect:i}),[i]),h=f.useCallback(g=>{var y;return!((y=a==null?void 0:a[g])!=null&&y.granted)},[a]),p=f.useMemo(()=>{var y,v;if(!s)return a||Zde;const g=ev(s).toLocaleLowerCase();return((v=(y=a==null?void 0:a.map(b=>({...b,displayName:ev(b.displayName||"").toLocaleLowerCase()})))==null?void 0:y.filter(b=>{var x;return(x=b==null?void 0:b.displayName)==null?void 0:x.includes(g)}))==null?void 0:v.sort((b,x)=>{var S,E;const w=(S=b.displayName)==null?void 0:S.startsWith(g),C=(E=x.displayName)==null?void 0:E.startsWith(g);return w&&!C?-1:!w&&C?1:0}))||Zde},[a,s]);if(r)return u.jsx(AFn,{children:u.jsx(bn,{showText:!0})});const m=o||void 0;return u.jsxs(z,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&u.jsx(L,{padding:5,children:u.jsx(N,{align:"center",size:1,muted:!0,children:n("mentions.no-users-found")})}),p.length>0&&u.jsx(DFn,{direction:"column",flex:1,overflow:"hidden",children:u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:n("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:h,inputElement:m,itemHeight:41,items:p,padding:1,ref:c,renderItem:d})})]})});function Z$e(){const e=f.useContext(Jfe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}const RFn={passive:!0};function OFn(e){const{disabled:t,rootElement:n}=e,[r,i]=f.useState(null),a=f.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),o=f.useCallback(()=>{if(t){i(null);return}const s=window.getSelection();if(!s||!s.isCollapsed||s.rangeCount===0)return;const l=s.getRangeAt(0);if(!(n!=null&&n.contains(l.commonAncestorContainer))){i(null);return}const c=l==null?void 0:l.getBoundingClientRect();c&&i(c)},[t,n]);return f.useEffect(()=>(document.addEventListener("selectionchange",o,RFn),()=>{document.removeEventListener("selectionchange",o)}),[o]),a}const $Fn=["bottom","top"],PFn={outline:"none"},Jde=[],FFn=$.span(e=>{const{color:t}=Te(e.theme);return de`
    color: ${t.input.default.enabled.placeholder};
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `}),NFn=$(_n)(({theme:e})=>{const{space:t,radius:n}=e.sanity;return de`
    &[data-placement='bottom'] {
      transform: translateY(${t[1]}px);
    }

    &[data-placement='top'] {
      transform: translateY(-${t[1]}px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: ${n[3]}px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `});function LFn(e){const{t}=q(ri),{focusLock:n,onFocus:r,onBlur:i,onKeyDown:a,onSubmit:o,placeholder:s=t("compose.create-comment-placeholder"),renderBlock:l}=e,c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=f.useRef(null),m=w0(),{canSubmit:g,closeMentions:y,insertMention:v,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:w,onBeforeInput:C,value:S}=Z$e(),E=OFn({disabled:!x,rootElement:d.current}),k=f.useCallback(()=>u.jsx(FFn,{children:s}),[s]);xn(x&&y,()=>[c.current]);const _=f.useCallback(A=>{switch(A.key){case"Enter":if(A.shiftKey)break;if(x){A.preventDefault(),A.stopPropagation(),y();break}o&&g&&(A.preventDefault(),A.stopPropagation(),o());break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(A.preventDefault(),A.stopPropagation(),y());break}a&&a(A)},[g,y,x,a,o]),T=f.useMemo(()=>{if(m)return;const A=(S||Jde).slice(-1)[0],I=Er(A)?A.children.slice(-1)[0]:void 0;if(!I)return;const M={path:[{_key:A._key},"children",{_key:I._key}],offset:vi(I)?I.text.length:0};return{focus:M,anchor:M}},[S,m]);f.useEffect(()=>{var A;(A=p.current)==null||A.setSearchTerm(w)},[w]),f.useEffect(()=>{x&&m&&!kt(m.anchor,m.focus)&&y()},[x,y,m]);const j=u.jsx(MFn,{inputElement:h.current,loading:b.loading,onSelect:v,options:b.data||Jde,ref:p});return u.jsxs("div",{ref:d,children:[u.jsx(NFn,{arrow:!1,constrainSize:!0,content:j,disabled:!x,fallbackPlacements:$Fn,open:x,placement:"bottom",ref:c,referenceElement:E}),u.jsx($5e,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:C,onBlur:i,onFocus:r,onKeyDown:_,ref:h,renderBlock:l,renderChild:CFn,renderPlaceholder:k,selection:T,style:PFn,tabIndex:n?0:void 0})]})}const sT=$(L)`
  max-height: 20vh;
  overflow-y: auto;
`,BFn=$(fr)({height:20,width:1});function SF(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const VFn=$(ie)(({theme:e})=>{const{color:t,input:n,radius:r}=Te(e),i=r[2];return de`
    border-radius: ${i}px;
    box-shadow: var(--input-box-shadow);

    --input-box-shadow: ${SF({color:t.input.default.enabled.border,width:n.border.width})};

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      ${sT} {
        min-height: 1em;
      }

      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */
      --input-box-shadow: ${SF({color:"var(--card-focus-ring-color)",width:n.border.width})};
    }

    &:focus-within {
      ${sT} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      ${sT} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
    &:hover {
      --input-box-shadow: ${SF({color:t.input.default.hovered.border,width:n.border.width})};
    }
  `}),zFn=$.div(e=>{var t;return`
    min-height: ${(t=Te(e.theme).avatar.sizes[1])==null?void 0:t.size}px;
    display: flex;
    align-items: center;
  `});function UFn(e){const{avatarSize:t=1,currentUser:n,focusLock:r,onBlur:i,onFocus:a,onKeyDown:o,onSubmit:s,placeholder:l,renderBlock:c,withAvatar:d}=e,[h]=od(n.id),{canSubmit:p,expandOnFocus:m,focused:g,hasChanges:y,insertAtChar:v,openMentions:b,readOnly:x}=Z$e(),{t:w}=q(ri),C=d?u.jsx(zFn,{children:u.jsx(aO,{user:h,size:t})}):null,S=f.useCallback(E=>{E.stopPropagation(),v(),b()},[v,b]);return u.jsxs(z,{align:"flex-start",gap:2,children:[C,u.jsx(VFn,{id:"comment-input-root","data-expand-on-focus":m&&!p?"true":"false","data-focused":g?"true":"false",flex:1,sizing:"border",tone:x?"transparent":"default",children:u.jsxs(ne,{children:[u.jsx(sT,{"data-ui":"CommentInputEditableWrap",paddingX:1,paddingY:2,sizing:"border",children:u.jsx(LFn,{focusLock:r,onBlur:i,onFocus:a,onKeyDown:o,onSubmit:s,placeholder:l,renderBlock:c})}),u.jsx(z,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:u.jsxs(Ja,{children:[u.jsx(he,{"aria-label":w("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:x,icon:uFn,mode:"bleed",type:"button",onClick:S,tooltipProps:{content:w("compose.mention-user-tooltip")}}),s&&u.jsxs(u.Fragment,{children:[u.jsx(BFn,{}),u.jsx(he,{"aria-label":w("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!p||!y||x,icon:cFn,mode:y&&p?"default":"bleed",onClick:s,tone:y&&p?"primary":"default",tooltipProps:{content:w("compose.send-comment-tooltip")}})]})]})})]})})]})}function HFn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:i=!1,mentionOptions:a,onMentionMenuOpenChange:o,value:s,readOnly:l}=e,c=qi(),[d,h]=f.useState(!1),[p,m]=f.useState(""),[g,y]=f.useState(null),v=f.useMemo(()=>O0(s),[s]),b=PRe(s),x=f.useCallback(()=>{l||Me.focus(c)},[c,l]),w=f.useCallback(()=>{h(!1),m(""),y(null)},[]),C=f.useCallback(()=>{h(!0),m(""),h(!0),y(Me.getSelection(c))},[c]),S=f.useCallback(T=>{const j=Me.getSelection(c),A=j?j.focus.offset:0,I=Me.focusChild(c),M=vi(I)&&I||void 0,D=T.inputType==="insertText",O=T.inputType==="deleteContentBackward",R=D&&T.data==="@",F=(M==null?void 0:M.text.slice(0,Math.max(0,A)).lastIndexOf("@"))||0,P=(M==null?void 0:M.text.slice(A-1,A))===" ",V=D&&T.data===" "&&!p;if(R&&(A<1||P)){C();return}if(V||O&&((M==null?void 0:M.text.length)===1||F===((M==null?void 0:M.text.length)||0)-1)){w();return}if(vi(I)){let U=I.text.slice(F+1,A);D&&(U+=T.data),O&&(U=U.slice(0,Math.max(0,U.length-1))),m(U)}},[w,c,p,C]),E=f.useCallback(()=>{h(!0),Me.focus(c),Me.insertChild(c,c.schemaTypes.span,{text:"@"}),y(Me.getSelection(c))},[c]);jo(d,()=>o==null?void 0:o(d));const k=f.useCallback(T=>{var M;const j=c.schemaTypes.inlineObjects.find(D=>D.name==="mention"),[A,I]=g&&Me.findByPath(c,g.focus.path)||[];if(A&&vi(A)&&I&&j){Me.focus(c);const D=(M=Me.getSelection(c))==null?void 0:M.focus.offset;typeof D<"u"&&(Me.delete(c,{anchor:{path:I,offset:A.text.lastIndexOf("@")},focus:{path:I,offset:D}},{mode:"selected"}),Me.insertChild(c,j,{userId:T}),Me.insertChild(c,c.schemaTypes.span,{text:" "}))}},[c,g]),_=f.useMemo(()=>({canSubmit:v,closeMentions:w,editor:c,expandOnFocus:n,focused:r,focusEditor:x,focusOnMount:i,hasChanges:b,insertAtChar:E,insertMention:k,mentionOptions:a,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:S,openMentions:C,readOnly:!!l,value:s}),[v,w,c,n,r,x,i,b,E,k,a,d,p,S,C,l,s]);return u.jsx(Jfe.Provider,{value:_,children:t})}const EF=[],WFn={behavior:"smooth",block:"center",inline:"center"},F0=f.forwardRef(function(e,t){const{avatarSize:n,currentUser:r,expandOnFocus:i,focusLock:a=!1,focusOnMount:o,mentionOptions:s,onBlur:l,onChange:c,onDiscardCancel:d,onDiscardConfirm:h,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:g,onSubmit:y,placeholder:v,readOnly:b,renderBlock:x=wFn,value:w=EF,withAvatar:C=!0}=e,[S,E]=f.useState(!1),k=f.useRef(null),_=f.useRef(null),[T,j]=f.useState(!1),A=f.useRef(null),I=f.useRef(null),M=f.useRef(null),[D,O]=f.useState(rj()),R=f.useCallback(()=>{requestAnimationFrame(()=>{k.current&&Me.focus(k.current)})},[]),F=f.useCallback(()=>{O(rj())},[]),P=f.useCallback(J=>{if(J.type==="ready"&&o&&R(),J.type==="focus"&&E(!0),J.type==="blur"&&E(!1),J.type==="patch"&&k.current){const re=Me.getValue(k.current);c(re||EF)}},[o,c,R]),V=f.useCallback(()=>{var J;(J=_.current)==null||J.scrollIntoView(WFn)},[]),U=f.useCallback(()=>{y==null||y(),F(),R(),V()},[y,R,F,V]),H=f.useCallback(()=>{h(),F()},[h,F]),W=f.useMemo(()=>({open:()=>{j(!0)},close:()=>{j(!1),R()}}),[R]);f.useImperativeHandle(t,()=>({focus:R,blur(){k.current&&Me.blur(k.current)},scrollTo:V,reset:F,discardDialogController:W}),[W,R,F,V]);const Z=f.useCallback(J=>{if(!a)return;const re=J.target,G=M.current;if(G&&re===A.current){RV(G);return}G&&re===I.current&&Tg(G)},[a]);return u.jsxs(u.Fragment,{children:[T&&d&&u.jsx(EFn,{onClose:d,onConfirm:H}),u.jsx(ne,{ref:_,"data-testid":"comment-input",onFocus:Z,children:u.jsx(Me,{onChange:P,readOnly:b,ref:k,schemaType:vFn,value:w||EF,children:u.jsxs(HFn,{expandOnFocus:i,focused:S,focusOnMount:o,mentionOptions:s,onMentionMenuOpenChange:g,readOnly:b,value:w,children:[a&&u.jsx("div",{ref:A,tabIndex:0}),u.jsx(ne,{ref:M,children:u.jsx(UFn,{avatarSize:n,currentUser:r,focusLock:a,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:y&&U,placeholder:v,renderBlock:x,withAvatar:C})}),a&&u.jsx("div",{ref:I,tabIndex:0})]})},D)})]})}),GFn=$.span(({theme:e})=>{var l;const t=(l=e.sanity.v2)==null?void 0:l.color._dark,n=rt[jd][t?800:100].hex,r=rt[jd][t?700:300].hex,i=rt[jd][t?700:200].hex,a=rt[jd][t?600:400].hex,o=rt[jd][t?700:200].hex,s=rt[jd][t?600:400].hex;return de`
    box-sizing: border-box;
    transition:
      background-color 100ms ease,
      border-color 100ms ease;

    // Make sure that child elements appropriately blend with the
    // background of the highlight span
    * {
      mix-blend-mode: ${t?"screen":"multiply"};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {
      background-color: ${n};
      border-bottom: 2px solid ${r};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {
      background-color: ${o};
      border-bottom: 2px solid ${s};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {
      background-color: ${i};
      border-bottom: 2px solid ${a};
    }

    &[data-inline-comment-state='authoring'] {
      background-color: ${n};
      border-bottom: 2px solid ${r};
    }
  `}),X$e=f.forwardRef(function(e,t){const{children:n,isAdded:r,isAuthoring:i,isHovered:a,isNested:o,...s}=e;return u.jsx(GFn,{...s,"data-hovered":a?"true":"false","data-inline-comment-nested":o?"true":"false","data-inline-comment-state":r?"added":i?"authoring":void 0,ref:t,children:n})}),YFn=$(ne)(()=>de`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `),qFn=[];function bl(e){const t=f.useMemo(()=>akn(e.children),[e.children]);return u.jsx(K$e,{children:t})}const KFn={block:{normal:bl,h1:bl,h2:bl,h3:bl,h4:bl,h5:bl,h6:bl,blockquote:bl,code:bl},list:{bullet:f.Fragment,number:f.Fragment,checkmarks:f.Fragment},listItem:{bullet:bl,number:bl,checkmarks:bl},marks:{strong:f.Fragment,em:f.Fragment,code:f.Fragment,underline:f.Fragment,strikeThrough:f.Fragment,link:f.Fragment},types:{mention:e=>{var t;return u.jsx(q$e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function ZFn(e){const{blocks:t}=e;return u.jsx(YFn,{children:u.jsx(a2e,{value:t||qFn,components:KFn})})}const qx=3,FY=$(N)`
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', 'EmojiOne Color', 'Android Emoji', sans-serif;
`,XFn=6;function JFn(e){const{options:t,onSelect:n}=e,{t:r}=q(ri),[i,a]=f.useState([]),[o,s]=f.useState(null),[l,c]=f.useState(0),d=f.useCallback(p=>{const m=i.length;p.key==="ArrowRight"&&c(g=>(g+1)%m),p.key==="ArrowLeft"&&c(g=>(g-1+m)%m)},[i.length]),h=f.useCallback(p=>{const m=i.indexOf(p.currentTarget);c(m),n(t[m])},[i,n,t]);return f.useEffect(()=>{if(o){const p=o.querySelectorAll("button");a(Array.from(p))}},[o]),f.useEffect(()=>{i.length>0&&i[l].focus()},[i,l]),u.jsx(Gn,{columns:XFn,gap:1,onKeyDown:d,ref:s,role:"menu",children:t.map(p=>{const m=zj[p.shortName];return u.jsx($t,{"aria-label":r("reactions.react-with-aria-label",{reactionName:p.title||p.shortName}),mode:"bleed",onClick:h,padding:2,role:"menuitem",tabIndex:-1,children:u.jsx(FY,{align:"center",size:2,children:m})},p.shortName)})})}const QFn=["top","bottom"];function J$e(e){const{onMenuClose:t,onMenuOpen:n,onSelect:r,options:i,readOnly:a,renderMenuButton:o,mode:s}=e,[l,c]=f.useState(null),d=f.useRef(null),[h,p]=f.useState(!1),{t:m}=q(ri),g=f.useCallback(()=>{const C=!h;p(C),C?n==null||n():t==null||t()},[t,n,h]),y=f.useCallback(()=>{h&&(p(!1),t==null||t())},[h,t]),v=f.useCallback(()=>{h&&(y(),l==null||l.focus())},[l,y,h]),b=f.useCallback(C=>{const{key:S,shiftKey:E}=C;(E&&S==="Tab"||S==="Escape"||S==="Tab")&&v()},[v]);xn(y,()=>[d.current,l]);const x=f.useCallback(C=>{r(C),y()},[y,r]),w=f.useMemo(()=>{const C=o({open:h,tooltipContent:m(s==="upsell"?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:m});return f.cloneElement(C,{"aria-expanded":h,"aria-haspopup":"true",disabled:a||s==="upsell",id:"reactions-menu-button",onClick:g,ref:c})},[g,h,a,o,m,s]);return u.jsx(_n,{constrainSize:!0,content:u.jsx(ie,{"aria-labelledby":"reactions-menu-button",onKeyDown:b,padding:1,radius:3,tone:"default",children:u.jsx(JFn,{onSelect:x,options:i})}),fallbackPlacements:QFn,open:h,placement:"bottom",portal:!0,ref:d,tone:"default",children:w})}const e4n=1,t4n=$(ne)`
  max-width: 180px;
`,n4n=$.div`
  display: inline-block;
`,Y1=$(N).attrs({size:e4n})`
  display: inline-block !important;

  & > span {
    white-space: break-spaces;
  }
`,r4n=$(L)`
  line-height: 1;
  text-align: center;
`,Qde=/^\S+/;function efe(e){const{currentUserId:t,isFirst:n,userId:r}=e,[i]=od(r),{t:a}=q(ri);return t===r?a("reactions.user-list.you",{context:n?"leading":void 0,replace:{name:i==null?void 0:i.displayName}}):(i==null?void 0:i.displayName)||a("reactions.user-list.unknown-user-fallback-name")}function i4n(e){const{children:t,...n}=e;return u.jsx(bt,{content:u.jsx(o4n,{...n}),placement:"bottom",portal:!0,children:u.jsx("div",{children:t})})}function a4n({currentUserId:e,userIds:t}){const n=j0({style:"long",type:"conjunction"});if(t.length===0)return null;const r=n.formatToParts(t),i=[];for(let a=0;a<r.length;a++){const o=r[a];if(o.type==="literal"){i.push(u.jsx(Y1,{children:o.value},`literal-${a}`));continue}const s=r[a+1];if(s&&s.type==="literal"&&Qde.test(s.value)){const[l=""]=s.value.match(Qde)||[];i.push(u.jsxs(n4n,{children:[u.jsx(Y1,{weight:"medium",children:u.jsx(efe,{currentUserId:e,isFirst:a===0,userId:o.value})}),u.jsx(Y1,{children:l})]},o.value)),s.value=s.value.slice(l.length);continue}i.push(u.jsx(Y1,{weight:"medium",children:u.jsx(efe,{currentUserId:e,isFirst:a===0,userId:o.value})},o.value))}return i}function o4n(e){const{currentUser:t,reactionName:n,userIds:r}=e,{t:i}=q(ri),a=f.useCallback(()=>t?u.jsx(a4n,{currentUserId:t.id,userIds:r}):null,[t,r]);return u.jsxs(t4n,{padding:1,children:[u.jsx(z,{justify:"center",paddingBottom:2,paddingTop:1,children:u.jsx(FY,{size:4,children:zj[n]})}),u.jsx(r4n,{children:u.jsx(gt,{t:i,i18nKey:"reactions.users-reacted-with-reaction",values:{reactionName:n},components:{UserList:a,ReactionName:()=>u.jsx(Y1,{muted:!0,children:n}),Text:({children:o})=>u.jsxs(u.Fragment,{children:[u.jsx(Y1,{muted:!0,children:o})," ",u.jsx("wbr",{})," "]})}})})]})}const tfe=$(ie)`
  background: none;
`;function s4n(e){const t=e.reduce((n,r)=>{const{shortName:i}=r;return n[i]||(n[i]=[]),n[i].push(r),n},{});return Object.entries(t).sort(([n],[r])=>{const i=e.findIndex(o=>o.shortName===n),a=e.findIndex(o=>o.shortName===r);return i-a})}const l4n=({open:e,tooltipContent:t})=>u.jsx($t,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:e,children:u.jsx(z,{paddingX:3,paddingY:2,children:u.jsx(bt,{animate:!0,content:t,disabled:e,children:u.jsx(N,{size:1,children:u.jsx(Y$e,{})})})})}),u4n=f.memo(function(e){const{currentUser:t,onSelect:n,reactions:r,readOnly:i,mode:a}=e,o=f.useCallback(h=>{const p=K6.find(m=>m.shortName===h);p&&n(p)},[n]),s=f.useMemo(()=>r.filter(h=>h.userId===(t==null?void 0:t.id)).map(h=>h.shortName),[t==null?void 0:t.id,r]),l=f.useMemo(()=>s4n(r).filter(([h])=>zj[h]),[r]),c=f.useRef(Object.keys(Object.fromEntries(l))),d=f.useMemo(()=>{const h=l.sort(([p],[m])=>{const g=c.current.indexOf(p),y=c.current.indexOf(m);return g===-1?1:y===-1?-1:g-y});return c.current=h.map(([p])=>p),h},[l]);return u.jsx(z,{align:"center",gap:1,wrap:"wrap",children:u.jsxs(Ja,{children:[d.map(([h,p])=>{const m=s.includes(h),g=p.map(v=>v.userId),y=zj[h];return u.jsx(i4n,{currentUser:t,reactionName:h,userIds:g,children:u.jsx(tfe,{tone:"default",children:u.jsx($t,{disabled:i||a==="upsell",mode:"ghost",onClick:()=>o(h),padding:2,radius:"full",selected:m,tone:m?"primary":"default",children:u.jsxs(z,{align:"center",gap:1,children:[u.jsx(FY,{size:1,children:y}),u.jsx(N,{size:0,weight:m?"semibold":"medium",children:p==null?void 0:p.length})]})})})},h)}),u.jsx(tfe,{tone:"default",children:u.jsx(J$e,{mode:a,onSelect:h=>o(h.shortName),options:K6,readOnly:i,renderMenuButton:l4n})})]})})}),c4n=({open:e,tooltipContent:t,t:n})=>u.jsx(he,{"aria-label":n("list-item.context-menu-add-reaction-aria-label"),icon:Y$e,mode:"bleed",selected:e,tooltipProps:{content:t}}),d4n={placement:"bottom-end"},f4n=$(ie)`
  &:empty {
    display: none;
  }
`;function h4n(e){const{canDelete:t,canEdit:n,isParent:r,mode:i,onCopyLink:a,onDeleteStart:o,onEditStart:s,onMenuClose:l,onMenuOpen:c,onReactionSelect:d,onStatusChange:h,readOnly:p,status:m}=e,g=!!(a||o||s),{t:y}=q(ri),v=!!(t||n||a);return u.jsx(Ja,{children:u.jsx(z,{children:u.jsxs(f4n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[d&&u.jsx(J$e,{mode:i,onMenuClose:l,onMenuOpen:c,onSelect:d,options:K6,readOnly:p,renderMenuButton:c4n}),r&&h&&u.jsx(he,{"aria-label":y(m==="open"?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:p,icon:m==="open"?Ap:fC,mode:"bleed",onClick:h,tooltipProps:{content:y(m==="open"?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),v&&u.jsx(Gt,{id:"comment-actions-menu",button:u.jsx(Si,{"aria-label":y("list-item.open-menu-aria-label"),disabled:p,hidden:!g}),onOpen:c,onClose:l,menu:u.jsxs(Ot,{children:[u.jsx(He,{hidden:!n,icon:Lc,onClick:s,text:y("list-item.edit-comment"),tooltipProps:i==="upsell"?{content:y("list-item.edit-comment-upsell")}:void 0,disabled:i==="upsell"}),u.jsx(He,{hidden:!t,icon:Jr,onClick:o,text:y("list-item.delete-comment"),tone:"critical"}),a&&u.jsx(fr,{hidden:!t&&!n}),u.jsx(He,{hidden:!a,icon:Ss,onClick:a,text:y("list-item.copy-link")})]}),popover:d4n})]})})})}function p4n(e,t=250){return e.length<=t?e:`${e.slice(0,t)}...`}const m4n=$(L).attrs({marginLeft:1,marginRight:2})`
  &:not([data-hidden]) {
    display: inline;
  }
`,g4n=$(ne)(({theme:e,$hasReferencedValue:t})=>{var a;const n=(a=e.sanity.v2)==null?void 0:a.color._dark,r=t?jd:"gray",i=n?rt[r][700].hex:rt[r][300].hex;return de`
    border-left: 2px solid ${i};
    word-break: break-word;
  `});function y4n(e){const{hasReferencedValue:t,value:n}=e,{t:r}=q(ri),i=r("list-item.missing-referenced-value-tooltip-content"),a=f.useMemo(()=>{if(Array.isArray(n)&&(n==null?void 0:n.filter(Er).length)>0){const o=n==null?void 0:n.map(r2e).join(" ");return p4n(o)}return null},[n]);return a?u.jsx(g4n,{$hasReferencedValue:!!t,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:u.jsx(z,{align:"flex-start",children:u.jsxs(N,{size:1,muted:!0,children:[!t&&u.jsx(bt,{content:i,children:u.jsx(m4n,{children:u.jsx(C9,{})})}),a]})})}):null}const nfe=e=>e.stopPropagation(),Sw=$(L)``,v4n={width:"50%"},b4n=[],rfe=$(N)(({theme:e})=>{const t=e.sanity.color.dark,n=rt.gray[t?200:800].hex;return de`
    min-width: max-content;
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),x4n=$(z)(e=>{var n;const t=Te(e.theme);return de`
    min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
  `}),w4n=$(N)(({theme:e})=>{const t=e.sanity.color.dark,n=rt.gray[t?200:800].hex;return de`
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),C4n=$(ne)`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`,S4n=$(z)(e=>{var n;const t=Te(e.theme);return de`
    min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
  `}),E4n=$(ie)`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`,k4n=$(ne)(({theme:e})=>{const{space:t}=e.sanity;return de`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      ${Sw} {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(${t[1]}px, -${t[1]}px);
      }

      ${Sw} {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        ${Sw} {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      ${Sw} {
        opacity: 1;
      }
    }
  `}),_4n={useTemporalPhrase:!0};function ife(e){var $e;const{avatarSize:t=1,canDelete:n,canEdit:r,comment:i,currentUser:a,hasError:o,hasReferencedValue:s,intent:l,isParent:c,isRetrying:d,mentionOptions:h,mode:p,onCopyLink:m,onCreateRetry:g,onDelete:y,onEdit:v,onInputKeyDown:b,onReactionSelect:x,onStatusChange:w,readOnly:C,withAvatar:S=!0}=e,{_createdAt:E,authorId:k,message:_,_id:T,lastEditedAt:j}=i,[A]=od(k),{t:I}=q(ri),[M,D]=f.useState(_),[O,R]=f.useState(!1),F=f.useRef(null),P=f.useRef(_),[V,U]=f.useState(!1),H=f.useRef(null),W=PRe(M),Z=f.useMemo(()=>O0(M),[M]),J=f.useMemo(()=>{var Le;return(((Le=i==null?void 0:i.reactions)==null?void 0:Le.filter(Oe=>(Oe==null?void 0:Oe._optimisticState)!=="removed"))||b4n).filter(Oe=>"userId"in Oe&&"shortName"in Oe)},[i==null?void 0:i.reactions]),re=!!(J!=null&&J.length),G=E?new Date(E):new Date,te=j?new Date(j):null,X=Xg(G,_4n),K=Hl({dateStyle:"full",timeStyle:"medium"}),Q=K.format(G),ee=te?K.format(te):null,se=o||d;f.useEffect(()=>{O||(P.current=_,D(_))},[O,_]);const le=f.useCallback(()=>U(!0),[]),oe=f.useCallback(()=>U(!1),[]),ue=f.useCallback(()=>m==null?void 0:m(T),[T,m]),ye=f.useCallback(Le=>{Le.stopPropagation(),g==null||g(T)},[T,g]),Ee=f.useCallback(()=>y(T),[T,y]),ke=f.useCallback(()=>{R(!1),D(P.current)},[]),ge=f.useCallback(()=>{var Le;if(!Z||!W){ke();return}(Le=H.current)==null||Le.discardDialogController.open()},[ke,W,Z]),je=f.useCallback(Le=>{Le.isDefaultPrevented()||(Le.key==="Escape"&&(Le.preventDefault(),Le.stopPropagation(),ge()),b&&b(Le))},[b,ge]),Ve=f.useCallback(()=>{var Le;(Le=H.current)==null||Le.discardDialogController.close()},[]),xe=f.useCallback(()=>{var Le;(Le=H.current)==null||Le.discardDialogController.close(),ke()},[ke]),me=f.useCallback(Le=>{x==null||x(T,Le)},[T,x]),Se=f.useCallback(()=>{v(T,{message:M}),R(!1)},[T,v,M]),ve=f.useCallback(()=>{w==null||w(T,i.status==="open"?"resolved":"open")},[T,i.status,w]),_e=f.useCallback(()=>{R(Le=>!Le)},[]),Ze=f.useCallback(()=>U(!1),[]),Je=f.useCallback(Le=>{Le.key==="Escape"&&!W&&ke()},[ke,W]);jo(O,Ze),xn(!W&&ke,()=>[F.current]);const ot=A!=null&&A.displayName?u.jsx(N,{size:1,weight:"medium",textOverflow:"ellipsis",title:A.displayName,children:A.displayName}):u.jsx(ur,{size:1,style:v4n});return u.jsxs(k4n,{"data-menu-open":V?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:Je,ref:F,space:4,children:[u.jsxs(C4n,{space:1,"data-muted":se,children:[u.jsxs(x4n,{align:"center",gap:qx,flex:1,$size:t,children:[S&&u.jsx(aO,{user:A,size:t}),u.jsxs(z,{direction:"column",gap:2,paddingY:l?2:0,children:[u.jsx(z,{align:"center",paddingBottom:($e=i.context)!=null&&$e.intent?0:1,sizing:"border",flex:1,children:u.jsxs(z,{align:"flex-end",gap:2,children:[u.jsx(L,{flex:1,children:ot}),!se&&u.jsxs(z,{align:"center",gap:1,children:[u.jsx(rfe,{muted:!0,size:0,children:u.jsx("time",{dateTime:G.toISOString(),title:Q,children:X})}),ee&&te&&u.jsx(rfe,{muted:!0,size:0,title:ee,children:u.jsxs("time",{dateTime:te.toISOString(),title:ee,children:["(",I("list-item.layout-edited"),")"]})})]})]})}),l&&u.jsx(L,{flex:1,children:u.jsx(w4n,{muted:!0,size:0,textOverflow:"ellipsis",children:u.jsx(gt,{t:I,i18nKey:"list-item.layout-context",values:{title:l.title,intent:"edit"},components:{IntentLink:({children:Le})=>l?u.jsx(su,{params:l.params,intent:l.name,children:Le}):void 0}})})})]}),!O&&!se&&u.jsx(Sw,{"data-root-menu":c?"true":"false",onClick:nfe,children:u.jsx(h4n,{canDelete:n,canEdit:r,isParent:c,mode:p,onCopyLink:m?ue:void 0,onDeleteStart:Ee,onEditStart:_e,onMenuClose:oe,onMenuOpen:le,onReactionSelect:me,onStatusChange:w?ve:void 0,readOnly:C,status:i.status})})]}),Bb(i)&&!!(i!=null&&i.contentSnapshot)&&u.jsxs(z,{gap:qx,marginBottom:3,children:[S&&u.jsx(v1,{$size:t}),u.jsx(y4n,{hasReferencedValue:s,value:i==null?void 0:i.contentSnapshot})]}),O&&u.jsxs(z,{align:"flex-start",gap:2,children:[S&&u.jsx(v1,{$size:t}),u.jsx(ne,{flex:1,children:u.jsx(F0,{currentUser:a,focusOnMount:!0,mentionOptions:h,onChange:D,onDiscardCancel:Ve,onDiscardConfirm:xe,onKeyDown:je,onSubmit:Se,readOnly:C,ref:H,value:M,withAvatar:!1})})]}),!O&&u.jsxs(z,{gap:qx,children:[S&&u.jsx(v1,{$size:t}),u.jsx(ZFn,{blocks:_})]}),re&&u.jsxs(z,{gap:qx,marginTop:2,children:[S&&u.jsx(v1,{$size:t}),u.jsx(L,{onClick:nfe,children:u.jsx(u4n,{currentUser:a,mode:p,onSelect:me,reactions:J,readOnly:C})})]})]}),se&&u.jsxs(S4n,{gap:qx,$size:t,children:[S&&u.jsx(v1,{$size:t}),u.jsxs(z,{align:"center",gap:1,flex:1,children:[u.jsxs(N,{muted:!0,size:1,children:[o&&I("list-item.layout-failed-sent"),d&&I("list-item.layout-posting")]}),u.jsx(z,{hidden:d,children:u.jsx(E4n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:ye,padding:1,radius:2,tone:"primary",children:u.jsx(N,{size:1,muted:!0,children:I("list-item.layout-retry")})})})]})]})]})}const Q$e=$(ie).attrs({padding:3,radius:3,sizing:"border"})(e=>{const{theme:t}=e,n=t.sanity.color.dark,r=rt[jd][n?900:50].hex,i=rt.gray[n?900:50].hex;return de`
      background-color: ${i};

      &[data-active='true'] {
        background-color: ${r};
      }
    `}),i1=[],Kx=5,T4n={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},A4n=$(Q$e)(()=>de`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 2px var(--card-focus-ring-color);
    }

    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `),j4n=$(he)(({theme:e})=>{const{medium:t}=e.sanity.fonts.text.weights;return de`
    font-weight: ${t};
  `}),I4n=$.button`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`,e3e=f.memo(function(e){var K,Q,ee,se,le;const{avatarConfig:t=T4n,canReply:n,currentUser:r,hasReferencedValue:i,innerPadding:a,isSelected:o,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onKeyDown:m,onPathSelect:g,onReactionSelect:y,onReply:v,onStatusChange:b,parentComment:x,readOnly:w,replies:C=i1}=e,{t:S}=q(ri),[E,k]=f.useState(i1),[_,T]=f.useState(!0),j=f.useRef(!1),A=f.useRef(null),{isTopLayer:I}=Ts(),M=f.useMemo(()=>O0(E),[E]),[D,O]=f.useState(!1),R=f.useCallback(()=>O(!0),[]),F=f.useCallback(()=>O(!1),[]),P=f.useCallback(()=>{var ue;const oe={message:E,parentCommentId:x._id,status:(x==null?void 0:x.status)||"open",threadId:x.threadId,reactions:i1,payload:{fieldPath:((ue=x.target.path)==null?void 0:ue.field)||""}};v==null||v(oe),k(i1)},[v,x._id,x==null?void 0:x.status,(K=x.target.path)==null?void 0:K.field,x.threadId,E]),V=f.useCallback(()=>{var oe;if(!M){k(i1);return}(oe=A.current)==null||oe.discardDialogController.open()},[M]),U=f.useCallback(oe=>{oe.isDefaultPrevented()||oe.key==="Escape"&&(oe.preventDefault(),oe.stopPropagation(),V())},[V]),H=f.useCallback(()=>{var oe;(oe=A.current)==null||oe.discardDialogController.close()},[]),W=f.useCallback(()=>{var oe,ue;k(i1),(oe=A.current)==null||oe.discardDialogController.close(),(ue=A.current)==null||ue.focus()},[]),Z=f.useCallback(oe=>{var ue;oe.stopPropagation(),I&&(g==null||g({fieldPath:((ue=x.target.path)==null?void 0:ue.field)||"",origin:"inspector",threadId:x.threadId}))},[I,g,(Q=x.target.path)==null?void 0:Q.field,x.threadId]),J=f.useCallback(oe=>{oe.stopPropagation(),T(!1),j.current=!0},[]),re=f.useMemo(()=>_?C==null?void 0:C.slice(-Kx):C,[C,_]),G=f.useMemo(()=>C?C.length>Kx:!1,[C]),te=f.useMemo(()=>`${(C==null?void 0:C.length)-Kx} more ${(C==null?void 0:C.length)-Kx===1?"comment":"comments"}`,[C==null?void 0:C.length]);f.useEffect(()=>{C.length>Kx&&!j.current&&T(!0)},[C]);const X=f.useMemo(()=>re.map(oe=>{var ue,ye;return u.jsx(ne,{as:"li",...hce(oe._id),children:u.jsx(ife,{avatarSize:t.avatarSize,canDelete:oe.authorId===r.id,canEdit:oe.authorId===r.id,comment:oe,currentUser:r,hasError:((ue=oe._state)==null?void 0:ue.type)==="createError",isRetrying:((ye=oe._state)==null?void 0:ye.type)==="createRetrying",intent:GEn(x,oe),mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onInputKeyDown:U,onReactionSelect:y,readOnly:w,withAvatar:t.threadCommentsAvatar})},oe._id)}),[t.threadCommentsAvatar,t.avatarSize,r,U,s,c,d,h,p,y,x,w,re,l]);return u.jsxs(A4n,{"data-active":o?"true":"false","data-hovered":D?"true":"false","data-testid":"comments-list-item","data-ui":"CommentsListItem",onClick:Z,onMouseEnter:R,onMouseLeave:F,children:[u.jsx(I4n,{"data-ui":"GhostButton","aria-label":S("list-item.go-to-field-button.aria-label")}),u.jsxs(ne,{as:"ul",padding:a,paddingBottom:n?void 0:1,space:4,children:[u.jsx(ne,{as:"li",...hce(x._id),children:u.jsx(ife,{avatarSize:t.avatarSize,canDelete:x.authorId===r.id,canEdit:x.authorId===r.id,comment:x,currentUser:r,hasError:((ee=x._state)==null?void 0:ee.type)==="createError",hasReferencedValue:i,intent:(se=x.context)==null?void 0:se.intent,isParent:!0,isRetrying:((le=x._state)==null?void 0:le.type)==="createRetrying",mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onInputKeyDown:m,onReactionSelect:y,onStatusChange:b,readOnly:w,withAvatar:t.parentCommentAvatar})}),G&&!j.current&&u.jsxs(z,{gap:1,paddingY:1,sizing:"border",children:[u.jsx(v1,{}),u.jsx(j4n,{iconRight:Di,mode:"bleed",onClick:J,text:te})]}),X,n&&u.jsx(F0,{avatarSize:t.avatarSize,currentUser:r,expandOnFocus:!0,mentionOptions:s,onChange:k,onDiscardCancel:H,onDiscardConfirm:W,onKeyDown:U,onSubmit:P,placeholder:S(l==="upsell"?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:w||l==="upsell",ref:A,value:E,withAvatar:t.replyAvatar})]})]})});function D4n(e){return{open:{title:e("list-status.empty-state-open-title"),message:e("list-status.empty-state-open-text")},resolved:{title:e("list-status.empty-state-resolved-title"),message:e("list-status.empty-state-resolved-text")}}}function M4n(e){const{status:t,error:n,loading:r,hasNoComments:i}=e,{t:a}=q(ri),o=D4n(a);return n?u.jsx(z,{align:"center",justify:"center",flex:1,padding:4,children:u.jsx(z,{align:"center",children:u.jsx(N,{size:1,muted:!0,children:a("list-status.error")})})}):r?u.jsx(bn,{showText:!0,title:a("list-status.loading")}):i?u.jsx(z,{align:"center",justify:"center",flex:1,sizing:"border",children:u.jsx(ui,{width:0,padding:4,children:u.jsxs(ne,{space:3,children:[u.jsx(N,{align:"center",size:1,muted:!0,weight:"medium",children:o[t].title}),u.jsx(N,{align:"center",size:1,muted:!0,children:o[t].message})]})})}):null}const kF=[];function R4n(e){const{currentUser:t,fieldTitle:n,mentionOptions:r,mode:i,onBlur:a,onFocus:o,onKeyDown:s,onNewThreadCreate:l,readOnly:c}=e,{t:d}=q(ri),[h,p]=f.useState(kF),m=f.useRef(null),g=f.useCallback(()=>{l==null||l(h),p(kF)},[l,h]),y=f.useMemo(()=>O0(h),[h]),v=f.useCallback(()=>{var S;y&&((S=m.current)==null||S.discardDialogController.open())},[y]),b=f.useCallback(S=>{S.isDefaultPrevented()||(S.key==="Escape"&&(S.preventDefault(),S.stopPropagation(),v()),s&&s(S))},[s,v]),x=f.useCallback(()=>{var S,E;p(kF),(S=m.current)==null||S.discardDialogController.close(),(E=m.current)==null||E.focus()},[]),w=f.useCallback(()=>{var S;(S=m.current)==null||S.discardDialogController.close()},[]),C=i==="upsell"?d("compose.add-comment-input-placeholder-upsell"):u.jsx(gt,{t:d,i18nKey:"compose.add-comment-input-placeholder",values:{field:n}});return u.jsx(F0,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:a,onChange:p,onDiscardCancel:w,onDiscardConfirm:x,onKeyDown:b,onFocus:o,onSubmit:g,placeholder:C,readOnly:c||i==="upsell",ref:m,value:h})}const O4n=$(z)`
  min-height: 25px;
`,$4n=$($t)(({theme:e})=>{const t=e.sanity.color.base.fg;return de`
    --card-fg-color: ${t};

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `});function P4n(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:i,fieldPath:a,isSelected:o,mentionOptions:s,mode:l,onNewThreadCreate:c,onPathSelect:d,readOnly:h}=e,{t:p}=q(ri),m=f.useCallback(x=>{const w={message:x,parentCommentId:void 0,status:"open",threadId:Ka(),reactions:[],payload:{fieldPath:a}};c==null||c(w)},[c,a]),g=f.useCallback(x=>{x.stopPropagation(),d==null||d({fieldPath:a,origin:"inspector",threadId:null})},[a,d]),y=f.useCallback(x=>{x.stopPropagation(),x.detail!==0&&(d==null||d({fieldPath:a,origin:"inspector",threadId:null}))},[a,d]),v=f.useMemo(()=>(t==null?void 0:t.map(x=>x.title))||[],[t]),b=v[v.length-1];return u.jsxs(ne,{space:2,children:[u.jsx(O4n,{align:"center",gap:2,paddingRight:1,sizing:"border",children:u.jsx(ne,{flex:1,children:u.jsx(z,{align:"center",children:u.jsx($4n,{"aria-label":p("list-item.breadcrumb-button-go-to-field-aria-label",{field:b}),mode:"bleed",onClick:g,padding:2,space:2,children:u.jsx(qtn,{maxLength:3,titlePath:v})})})})}),n&&u.jsx(Q$e,{onClick:y,"data-active":o,children:u.jsx(R4n,{currentUser:i,fieldTitle:b,mentionOptions:s,mode:l,onNewThreadCreate:m,readOnly:h})}),u.jsx(ne,{space:2,children:r})]})}function F4n(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const N4n=f.forwardRef(function(e,t){const{beforeListNode:n,comments:r,currentUser:i,error:a,loading:o,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onNewThreadCreate:m,onPathSelect:g,onReactionSelect:y,onReply:v,onStatusChange:b,readOnly:x,selectedPath:w,status:C}=e,[S,E]=f.useState(null),k=f.useMemo(()=>Object.entries(F4n(r)),[r]),_=!o&&!a&&k.length>0;return u.jsxs(z,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:E,sizing:"border",children:[l!=="upsell"&&u.jsx(M4n,{error:a,hasNoComments:k.length===0,loading:o,status:C}),(_||n)&&u.jsxs(ne,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:t,children:[n,u.jsx(hf,{element:S,children:k==null?void 0:k.map(([T,j])=>{const A=j[0].breadcrumbs,I=j[0].threadId,M=(w==null?void 0:w.fieldPath)===T&&!w.threadId;return u.jsx(ne,{as:"li",paddingTop:3,...Ekn(I),children:u.jsx(P4n,{breadcrumbs:A,canCreateNewThread:C==="open",currentUser:i,fieldPath:T,isSelected:M,mentionOptions:s,mode:l,onNewThreadCreate:m,onPathSelect:g,readOnly:x,children:j.map(D=>{var P,V,U;const O=D.replies.slice().reverse(),R=C==="open"&&((P=D.parentComment._state)==null?void 0:P.type)!=="createError"&&((V=D.parentComment._state)==null?void 0:V.type)!=="createRetrying",F=(w==null?void 0:w.threadId)===D.parentComment.threadId&&(w==null?void 0:w.fieldPath)===((U=D.parentComment.target.path)==null?void 0:U.field);return u.jsx(e3e,{canReply:R,currentUser:i,hasReferencedValue:D.hasReferencedValue,isSelected:F,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onPathSelect:g,onReactionSelect:y,onReply:v,onStatusChange:b,parentComment:D.parentComment,readOnly:x,replies:O},D.parentComment._id)})},T)},T)})})]})]})}),L4n=f.memo(N4n),B4n=$(L)`
  max-width: 280px;
`,V4n=Tp`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,z4n=$(_n)`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: ${V4n} 200ms 500ms forwards;
`;function U4n(e){const{onDismiss:t}=e,{t:n}=q(ri);return u.jsx(z4n,{content:u.jsx(B4n,{padding:4,children:u.jsxs(ne,{space:3,children:[u.jsx(N,{weight:"medium",size:1,children:n("onboarding.header")}),u.jsx(N,{size:1,children:n("onboarding.body")}),u.jsx(z,{justify:"flex-end",marginTop:2,children:u.jsx(he,{text:n("onboarding.dismiss"),tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}function H4n(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r}=e;return u.jsx(ui,{width:1,children:u.jsx(L,{marginBottom:6,children:u.jsx(yY,{data:t,onPrimaryClick:n,onSecondaryClick:r})})})}const W4n="vision",G4n={locale:"en-US",namespace:W4n,resources:()=>Tf(()=>import("./resources-0a36338a.js"),[])},Y4n=Eb(e=>{const{name:t,title:n,icon:r,...i}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||NI,component:f.lazy(()=>Tf(()=>import("./SanityVision-4e21faec.js"),[])),options:i,router:ga.create("/*")}],i18n:{bundles:[G4n]}}});var q4n=ake,K4n=RU,Z4n=K4n(function(e,t,n){return t=t.toLowerCase(),e+(n?q4n(t):t)}),X4n=Z4n;const afe=Fe(X4n);var J4n=RU,Q4n=J4n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),eNn=Q4n;const tNn=Fe(eNn);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ofe=Object.getOwnPropertySymbols,nNn=Object.prototype.hasOwnProperty,rNn=Object.prototype.propertyIsEnumerable;function iNn(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function aNn(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var oNn=aNn()?Object.assign:function(e,t){for(var n,r=iNn(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)nNn.call(n,o)&&(r[o]=n[o]);if(ofe){i=ofe(n);for(var s=0;s<i.length;s++)rNn.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r},z5=oNn,sNn={};function mu(e,t,n,r,i,a,o,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],d=0;l=new Error(t.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var sfe="mixins";function lNn(e,t,n){var r=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},o={displayName:function(C,S){C.displayName=S},mixins:function(C,S){if(S)for(var E=0;E<S.length;E++)l(C,S[E])},childContextTypes:function(C,S){C.childContextTypes=z5({},C.childContextTypes,S)},contextTypes:function(C,S){C.contextTypes=z5({},C.contextTypes,S)},getDefaultProps:function(C,S){C.getDefaultProps?C.getDefaultProps=h(C.getDefaultProps,S):C.getDefaultProps=S},propTypes:function(C,S){C.propTypes=z5({},C.propTypes,S)},statics:function(C,S){c(C,S)},autobind:function(){}};function s(C,S){var E=i.hasOwnProperty(S)?i[S]:null;b.hasOwnProperty(S)&&mu(E==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",S),C&&mu(E==="DEFINE_MANY"||E==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S)}function l(C,S){if(S){mu(typeof S!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),mu(!t(S),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var E=C.prototype,k=E.__reactAutoBindPairs;S.hasOwnProperty(sfe)&&o.mixins(C,S.mixins);for(var _ in S)if(S.hasOwnProperty(_)&&_!==sfe){var T=S[_],j=E.hasOwnProperty(_);if(s(j,_),o.hasOwnProperty(_))o[_](C,T);else{var A=i.hasOwnProperty(_),I=typeof T=="function",M=I&&!A&&!j&&S.autobind!==!1;if(M)k.push(_,T),E[_]=T;else if(j){var D=i[_];mu(A&&(D==="DEFINE_MANY_MERGED"||D==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",D,_),D==="DEFINE_MANY_MERGED"?E[_]=h(E[_],T):D==="DEFINE_MANY"&&(E[_]=p(E[_],T))}else E[_]=T}}}}function c(C,S){if(S)for(var E in S){var k=S[E];if(S.hasOwnProperty(E)){var _=E in o;mu(!_,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',E);var T=E in C;if(T){var j=a.hasOwnProperty(E)?a[E]:null;mu(j==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",E),C[E]=h(C[E],k);return}C[E]=k}}}function d(C,S){mu(C&&S&&typeof C=="object"&&typeof S=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var E in S)S.hasOwnProperty(E)&&(mu(C[E]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",E),C[E]=S[E]);return C}function h(C,S){return function(){var k=C.apply(this,arguments),_=S.apply(this,arguments);if(k==null)return _;if(_==null)return k;var T={};return d(T,k),d(T,_),T}}function p(C,S){return function(){C.apply(this,arguments),S.apply(this,arguments)}}function m(C,S){var E=S.bind(C);return E}function g(C){for(var S=C.__reactAutoBindPairs,E=0;E<S.length;E+=2){var k=S[E],_=S[E+1];C[k]=m(C,_)}}var y={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(C,S){this.updater.enqueueReplaceState(this,C,S)},isMounted:function(){return!!this.__isMounted}},x=function(){};z5(x.prototype,e.prototype,b);function w(C){var S=function(k,_,T){this.__reactAutoBindPairs.length&&g(this),this.props=k,this.context=_,this.refs=sNn,this.updater=T||n,this.state=null;var j=this.getInitialState?this.getInitialState():null;mu(typeof j=="object"&&!Array.isArray(j),"%s.getInitialState(): must return an object or null",S.displayName||"ReactCompositeComponent"),this.state=j};S.prototype=new x,S.prototype.constructor=S,S.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,S)),l(S,y),l(S,C),l(S,v),S.getDefaultProps&&(S.defaultProps=S.getDefaultProps()),mu(S.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var E in i)S.prototype[E]||(S.prototype[E]=null);return S}return w}var uNn=lNn,Kj=f,cNn=uNn;if(typeof Kj>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var dNn=new Kj.Component().updater,oO=cNn(Kj.Component,Kj.isValidElement,dNn),fNn=Date.now||hNn;function hNn(){return new Date().getTime()}var lfe=fNn,pNn=function(t,n,r){var i,a,o,s,l;n==null&&(n=100);function c(){var d=lfe()-s;d<n&&d>0?i=setTimeout(c,n-d):(i=null,r||(l=t.apply(o,a),i||(o=a=null)))}return function(){o=this,a=arguments,s=lfe();var h=r&&!i;return i||(i=setTimeout(c,n)),h&&(l=t.apply(o,a),o=a=null),l}},mNn=gNn;function gNn(e){for(var t=yNn(e),n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=n,l=r,c=i,d=a;n=fo(n,r,i,a,t[o+0],7,-680876936),a=fo(a,n,r,i,t[o+1],12,-389564586),i=fo(i,a,n,r,t[o+2],17,606105819),r=fo(r,i,a,n,t[o+3],22,-1044525330),n=fo(n,r,i,a,t[o+4],7,-176418897),a=fo(a,n,r,i,t[o+5],12,1200080426),i=fo(i,a,n,r,t[o+6],17,-1473231341),r=fo(r,i,a,n,t[o+7],22,-45705983),n=fo(n,r,i,a,t[o+8],7,1770035416),a=fo(a,n,r,i,t[o+9],12,-1958414417),i=fo(i,a,n,r,t[o+10],17,-42063),r=fo(r,i,a,n,t[o+11],22,-1990404162),n=fo(n,r,i,a,t[o+12],7,1804603682),a=fo(a,n,r,i,t[o+13],12,-40341101),i=fo(i,a,n,r,t[o+14],17,-1502002290),r=fo(r,i,a,n,t[o+15],22,1236535329),n=ho(n,r,i,a,t[o+1],5,-165796510),a=ho(a,n,r,i,t[o+6],9,-1069501632),i=ho(i,a,n,r,t[o+11],14,643717713),r=ho(r,i,a,n,t[o+0],20,-373897302),n=ho(n,r,i,a,t[o+5],5,-701558691),a=ho(a,n,r,i,t[o+10],9,38016083),i=ho(i,a,n,r,t[o+15],14,-660478335),r=ho(r,i,a,n,t[o+4],20,-405537848),n=ho(n,r,i,a,t[o+9],5,568446438),a=ho(a,n,r,i,t[o+14],9,-1019803690),i=ho(i,a,n,r,t[o+3],14,-187363961),r=ho(r,i,a,n,t[o+8],20,1163531501),n=ho(n,r,i,a,t[o+13],5,-1444681467),a=ho(a,n,r,i,t[o+2],9,-51403784),i=ho(i,a,n,r,t[o+7],14,1735328473),r=ho(r,i,a,n,t[o+12],20,-1926607734),n=po(n,r,i,a,t[o+5],4,-378558),a=po(a,n,r,i,t[o+8],11,-2022574463),i=po(i,a,n,r,t[o+11],16,1839030562),r=po(r,i,a,n,t[o+14],23,-35309556),n=po(n,r,i,a,t[o+1],4,-1530992060),a=po(a,n,r,i,t[o+4],11,1272893353),i=po(i,a,n,r,t[o+7],16,-155497632),r=po(r,i,a,n,t[o+10],23,-1094730640),n=po(n,r,i,a,t[o+13],4,681279174),a=po(a,n,r,i,t[o+0],11,-358537222),i=po(i,a,n,r,t[o+3],16,-722521979),r=po(r,i,a,n,t[o+6],23,76029189),n=po(n,r,i,a,t[o+9],4,-640364487),a=po(a,n,r,i,t[o+12],11,-421815835),i=po(i,a,n,r,t[o+15],16,530742520),r=po(r,i,a,n,t[o+2],23,-995338651),n=mo(n,r,i,a,t[o+0],6,-198630844),a=mo(a,n,r,i,t[o+7],10,1126891415),i=mo(i,a,n,r,t[o+14],15,-1416354905),r=mo(r,i,a,n,t[o+5],21,-57434055),n=mo(n,r,i,a,t[o+12],6,1700485571),a=mo(a,n,r,i,t[o+3],10,-1894986606),i=mo(i,a,n,r,t[o+10],15,-1051523),r=mo(r,i,a,n,t[o+1],21,-2054922799),n=mo(n,r,i,a,t[o+8],6,1873313359),a=mo(a,n,r,i,t[o+15],10,-30611744),i=mo(i,a,n,r,t[o+6],15,-1560198380),r=mo(r,i,a,n,t[o+13],21,1309151649),n=mo(n,r,i,a,t[o+4],6,-145523070),a=mo(a,n,r,i,t[o+11],10,-1120210379),i=mo(i,a,n,r,t[o+2],15,718787259),r=mo(r,i,a,n,t[o+9],21,-343485551),n=Hh(n,s),r=Hh(r,l),i=Hh(i,c),a=Hh(a,d)}return U5(n)+U5(r)+U5(i)+U5(a)}var ufe="0123456789abcdef";function NY(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function h7(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function Zj(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function Hh(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function U5(e){var t="",n;for(n=0;n<=3;n++)t+=ufe.charAt(e>>n*8+4&15)+ufe.charAt(e>>n*8&15);return t}function yNn(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var i=e.length*8;return n[t*16-2]=i&255,n[t*16-2]|=(i>>>8&255)<<8,n[t*16-2]|=(i>>>16&255)<<16,n[t*16-2]|=(i>>>24&255)<<24,n}function vNn(e,t){return e<<t|e>>>32-t}function sO(e,t,n,r,i,a){return Hh(vNn(Hh(Hh(t,e),Hh(r,a)),i),n)}function fo(e,t,n,r,i,a,o){return sO(NY(Zj(t,n),Zj(~t,r)),e,t,i,a,o)}function ho(e,t,n,r,i,a,o){return sO(NY(Zj(t,r),Zj(n,~r)),e,t,i,a,o)}function po(e,t,n,r,i,a,o){return sO(h7(h7(t,n),r),e,t,i,a,o)}function mo(e,t,n,r,i,a,o){return sO(h7(n,NY(t,~r)),e,t,i,a,o)}var bNn=Math.ceil(Math.random()*10),xNn=function(){return++bNn},LY=function(e){return Object.prototype.toString.call(e).slice(8,-1)},wNn=LY;function CNn(e){var t=wNn(e);return t!=="Object"&&t!=="Array"}var t3e=CNn,SNn=f,ENn=oO,H5=SNn.createElement,kNn=ENn({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return H5("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return H5("span",null,e.string.split(e.highlight).map(function(i,a){return H5("span",{key:a},a>0?H5("span",{className:"json-inspector__hl"},r):null,i)}))}}),_Nn=f,TNn=oO,ANn=mNn,jNn=xNn,n3e=LY,lT=t3e,INn=kNn,xl=_Nn.createElement,DNn=".root.",r3e=TNn({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+jNn(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return xl("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},xl("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),xl("label",{className:"json-inspector__line",htmlFor:e,onClick:r},xl("div",{className:"json-inspector__flatpath"},n.path),xl("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=n3e(e);switch(t){case"Array":var n=e.length;return xl("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[] ":"[] ")+MNn(n));case"Object":var r=Object.keys(e).length;return xl("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{} ":"{} ")+RNn(r));default:return xl("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!lT(n)?Object.keys(n).map(function(r){var i=n[r],a=!this.state.original||(e.verboseShowOriginal?e.query:!1);return xl(r3e,{data:i,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:a?e.getOriginal:null,key:ONn(r,i),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return lT(e.data)||this.state.original||!e.getOriginal||!e.query||_F(this.keypath(),e.query)?null:xl("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?xl(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!_F(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(DNn.length)},data:function(){return this.state.original||this.props.data},format:function(e){return xl(INn,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),lT(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!_F(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function MNn(e){return e+(e===1?" item":" items")}function RNn(e){return e+(e===1?" property":" properties")}function ONn(e,t){if(lT(t)){var n=ANn(String(t));return e+":"+n}else return e+"["+n3e(t)+"]"}function _F(e,t){return e.indexOf(t)!==-1}var $Nn=r3e,i3e=function(){},PNn=f,FNn=oO,NNn=PNn.createElement,LNn=i3e,BNn=FNn({getDefaultProps:function(){return{onChange:LNn}},render:function(){return NNn("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),a3e=function(e){return Object.keys(e).length===0},VNn=Object.keys,zNn=t3e,UNn=a3e,HNn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return uT(e,r,t);var i;if(!n[r]){for(var a=r.length-1;a>0;a-=1)if(i=r.substr(0,a),n[i]){n[r]=uT(n[i],r,t);break}}return n[r]||(n[r]=uT(e,r,t)),n[r]}};function uT(e,t,n){return VNn(e).reduce(function(r,i){var a=e[i],o;return zNn(a)?(TF(t,i,n)||TF(t,a,n))&&(r[i]=a):TF(t,i,n)?r[i]=a:(o=uT(a,t,n),UNn(o)||Object.assign(r,WNn(i,o))),r},{})}function TF(e,t,n){if(t){var r=String(t),i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r.indexOf(i)!==-1}}function WNn(e,t){var n={};return n[e]=t,n}var GNn=LY,AF=".";function p7(e,t){var n=t.split(AF),r=n.shift();if(!r)return e;var i=GNn(e);if(i==="Array"&&e[cfe(r)])return p7(e[cfe(r)],n.join(AF));if(i==="Object"&&e[r])return p7(e[r],n.join(AF))}function cfe(e){return parseInt(e,10)}var YNn=p7,qNn=f,KNn=oO,ZNn=pNn,Zx=qNn.createElement,XNn=$Nn,JNn=BNn,QNn=HNn,eLn=a3e,tLn=YNn,nLn=i3e,rLn=KNn({getDefaultProps:function(){return{data:null,search:JNn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:nLn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,i=n&&eLn(r);return Zx("div",{className:"json-inspector "+e.className},this.renderToolbar(),i?Zx("div",{className:"json-inspector__not-found"},"Nothing found"):Zx(XNn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return Zx("div",{className:"json-inspector__toolbar"},Zx(e,{onChange:ZNn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:QNn(e,t)})},getOriginal:function(e){return tLn(this.props.data,e)}});const iLn=Fe(rLn);class aLn{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){if(this.cache.set(t,n),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[r,i]of this.oldCache.entries())this.onEviction(r,i);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return Math.min(this._size+t,this.maxSize)}}var oLn=aLn;const sLn=Fe(oLn);var lO={},lLn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},uLn=lLn,dfe={"text/plain":"Text","text/html":"Url",default:"Text"},cLn="Copy to clipboard: #{key}, Enter";function dLn(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function fLn(e,t){var n,r,i,a,o,s,l=!1;t||(t={}),n=t.debug||!1;try{i=uLn(),a=document.createRange(),o=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=dfe[t.format]||dfe.default;window.clipboardData.setData(h,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(s),a.selectNodeContents(s),o.addRange(a);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=dLn("message"in t?t.message:cLn),window.prompt(r,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(a):o.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var hLn=fLn;function m7(e){"@babel/helpers - typeof";return m7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m7(e)}Object.defineProperty(lO,"__esModule",{value:!0});lO.CopyToClipboard=void 0;var W5=o3e(f),pLn=o3e(hLn),mLn=["text","onCopy","options","children"];function o3e(e){return e&&e.__esModule?e:{default:e}}function ffe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ffe(Object(n),!0).forEach(function(r){BY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ffe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gLn(e,t){if(e==null)return{};var n=yLn(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yLn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vLn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bLn(e,t,n){return t&&pfe(e.prototype,t),n&&pfe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xLn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g7(e,t)}function g7(e,t){return g7=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},g7(e,t)}function wLn(e){var t=SLn();return function(){var r=Xj(e),i;if(t){var a=Xj(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return CLn(this,i)}}function CLn(e,t){if(t&&(m7(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(e)}function s3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SLn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xj(e){return Xj=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xj(e)}function BY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l3e=function(e){xLn(n,e);var t=wLn(n);function n(){var r;vLn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),BY(s3e(r),"onClick",function(s){var l=r.props,c=l.text,d=l.onCopy,h=l.children,p=l.options,m=W5.default.Children.only(h),g=(0,pLn.default)(c,p);d&&d(c,g),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(s)}),r}return bLn(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var a=i.children,o=gLn(i,mLn),s=W5.default.Children.only(a);return W5.default.cloneElement(s,hfe(hfe({},o),{},{onClick:this.onClick}))}}]),n}(W5.default.PureComponent);lO.CopyToClipboard=l3e;BY(l3e,"defaultProps",{onCopy:void 0,options:void 0});var ELn=lO,y7=ELn.CopyToClipboard;y7.CopyToClipboard=y7;var kLn=y7;const _Ln=Fe(kLn);var TLn=jf,ALn=il,jLn="[object Number]";function ILn(e){return typeof e=="number"||ALn(e)&&TLn(e)==jLn}var DLn=ILn;const MLn=Fe(DLn);/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function RLn(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Wh(e,t){return typeof e=="function"?e(t):e}function rl(e,t){return n=>{t.setState(r=>({...r,[e]:Wh(n,r[e])}))}}function uO(e){return e instanceof Function}function OLn(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function $Ln(e,t){const n=[],r=i=>{i.forEach(a=>{n.push(a);const o=t(a);o!=null&&o.length&&r(o)})};return r(e),n}function jt(e,t,n){let r=[],i;return a=>{let o;n.key&&n.debug&&(o=Date.now());const s=e(a);if(!(s.length!==r.length||s.some((d,h)=>r[h]!==d)))return i;r=s;let c;if(n.key&&n.debug&&(c=Date.now()),i=t(...s),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-c)*100)/100,p=h/16,m=(g,y)=>{for(g=String(g);g.length<y;)g=" "+g;return g};console.info(`%c ${m(h,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function It(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function PLn(e,t,n,r){const i=()=>{var o;return(o=a.getValue())!=null?o:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:jt(()=>[e,n,t,a],(o,s,l,c)=>({table:o,column:s,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),It(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(a,n,t,e)},{}),a}function FLn(e,t,n,r){var i,a;const s={...e._getDefaultColumnDef(),...t},l=s.accessorKey;let c=(i=(a=s.id)!=null?a:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,d;if(s.accessorFn?d=s.accessorFn:l&&(l.includes(".")?d=p=>{let m=p;for(const y of l.split(".")){var g;m=(g=m)==null?void 0:g[y]}return m}:d=p=>p[s.accessorKey]),!c)throw new Error;let h={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:jt(()=>[!0],()=>{var p;return[h,...(p=h.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},It(e.options,"debugColumns")),getLeafColumns:jt(()=>[e._getOrderColumnsFn()],p=>{var m;if((m=h.columns)!=null&&m.length){let g=h.columns.flatMap(y=>y.getLeafColumns());return p(g)}return[h]},It(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(h,e);return h}const go="debugHeaders";function mfe(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),o.push(l)};return s(a),o},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(a,e)}),a}const NLn={createTable:e=>{e.getHeaderGroups=jt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,o;const s=(a=r==null?void 0:r.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?a:[],l=(o=i==null?void 0:i.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?o:[],c=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(i!=null&&i.includes(h.id)));return G5(t,[...s,...c,...l],e)},It(e.options,go)),e.getCenterHeaderGroups=jt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),G5(t,n,e,"center")),It(e.options,go)),e.getLeftHeaderGroups=jt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return G5(t,a,e,"left")},It(e.options,go)),e.getRightHeaderGroups=jt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return G5(t,a,e,"right")},It(e.options,go)),e.getFooterGroups=jt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),It(e.options,go)),e.getLeftFooterGroups=jt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),It(e.options,go)),e.getCenterFooterGroups=jt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),It(e.options,go)),e.getRightFooterGroups=jt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),It(e.options,go)),e.getFlatHeaders=jt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,go)),e.getLeftFlatHeaders=jt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,go)),e.getCenterFlatHeaders=jt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,go)),e.getRightFlatHeaders=jt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,go)),e.getCenterLeafHeaders=jt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,go)),e.getLeftLeafHeaders=jt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,go)),e.getRightLeafHeaders=jt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,go)),e.getLeafHeaders=jt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,a,o,s,l,c;return[...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},It(e.options,go))}};function G5(e,t,n,r){var i,a;let o=0;const s=function(p,m){m===void 0&&(m=1),o=Math.max(o,m),p.filter(g=>g.getIsVisible()).forEach(g=>{var y;(y=g.columns)!=null&&y.length&&s(g.columns,m+1)},0)};s(e);let l=[];const c=(p,m)=>{const g={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},y=[];p.forEach(v=>{const b=[...y].reverse()[0],x=v.column.depth===g.depth;let w,C=!1;if(x&&v.column.parent?w=v.column.parent:(w=v.column,C=!0),b&&(b==null?void 0:b.column)===w)b.subHeaders.push(v);else{const S=mfe(n,w,{id:[r,m,w.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${y.filter(E=>E.column===w).length}`:void 0,depth:m,index:y.length});S.subHeaders.push(v),y.push(S)}g.headers.push(v),v.headerGroup=g}),l.push(g),m>0&&c(y,m-1)},d=t.map((p,m)=>mfe(n,p,{depth:o,index:m}));c(d,o-1),l.reverse();const h=p=>p.filter(g=>g.column.getIsVisible()).map(g=>{let y=0,v=0,b=[0];g.subHeaders&&g.subHeaders.length?(b=[],h(g.subHeaders).forEach(w=>{let{colSpan:C,rowSpan:S}=w;y+=C,b.push(S)})):y=1;const x=Math.min(...b);return v=v+x,g.colSpan=y,g.rowSpan=v,{colSpan:y,rowSpan:v}});return h((i=(a=l[0])==null?void 0:a.headers)!=null?i:[]),l}const VY=(e,t,n,r,i,a,o)=>{let s={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return s._valuesCache[l]=c.accessorFn(s.original,r),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=c.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=s.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>$Ln(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],c=s;for(;;){const d=c.getParentRow();if(!d)break;l.push(d),c=d}return l.reverse()},getAllCells:jt(()=>[e.getAllLeafColumns()],l=>l.map(c=>PLn(e,s,c,c.id)),It(e.options,"debugRows")),_getAllCellsByColumnId:jt(()=>[s.getAllCells()],l=>l.reduce((c,d)=>(c[d.column.id]=d,c),{}),It(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(s,e)}return s},LLn={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},u3e=(e,t,n)=>{var r,i;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};u3e.autoRemove=e=>Ou(e);const c3e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};c3e.autoRemove=e=>Ou(e);const d3e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};d3e.autoRemove=e=>Ou(e);const f3e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};f3e.autoRemove=e=>Ou(e)||!(e!=null&&e.length);const h3e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});h3e.autoRemove=e=>Ou(e)||!(e!=null&&e.length);const p3e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});p3e.autoRemove=e=>Ou(e)||!(e!=null&&e.length);const m3e=(e,t,n)=>e.getValue(t)===n;m3e.autoRemove=e=>Ou(e);const g3e=(e,t,n)=>e.getValue(t)==n;g3e.autoRemove=e=>Ou(e);const zY=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};zY.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(a>o){const s=a;a=o,o=s}return[a,o]};zY.autoRemove=e=>Ou(e)||Ou(e[0])&&Ou(e[1]);const Td={includesString:u3e,includesStringSensitive:c3e,equalsString:d3e,arrIncludes:f3e,arrIncludesAll:h3e,arrIncludesSome:p3e,equals:m3e,weakEquals:g3e,inNumberRange:zY};function Ou(e){return e==null||e===""}const BLn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:rl("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Td.includesString:typeof r=="number"?Td.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Td.equals:Array.isArray(r)?Td.arrIncludes:Td.weakEquals},e.getFilterFn=()=>{var n,r;return uO(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Td[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),a=r==null?void 0:r.find(d=>d.id===e.id),o=Wh(n,a?a.value:void 0);if(gfe(i,o,e)){var s;return(s=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?s:[]}const l={id:e.id,value:o};if(a){var c;return(c=r==null?void 0:r.map(d=>d.id===e.id?l:d))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var a;return(a=Wh(t,i))==null?void 0:a.filter(o=>{const s=n.find(l=>l.id===o.id);if(s){const l=s.getFilterFn();if(gfe(l,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function gfe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const VLn=(e,t,n)=>n.reduce((r,i)=>{const a=i.getValue(e);return r+(typeof a=="number"?a:0)},0),zLn=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},ULn=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},HLn=(e,t,n)=>{let r,i;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},WLn=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let a=i.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},GLn=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!OLn(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,o)=>a-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},YLn=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),qLn=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,KLn=(e,t)=>t.length,jF={sum:VLn,min:zLn,max:ULn,extent:HLn,mean:WLn,median:GLn,unique:YLn,uniqueCount:qLn,count:KLn},ZLn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:rl("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return jF.sum;if(Object.prototype.toString.call(r)==="[object Date]")return jF.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return uO(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:jF[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function XLn(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(o=>o.id===a)).filter(Boolean),...r]}const JLn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:rl("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=jt(n=>[lC(t,n)],n=>n.findIndex(r=>r.id===e.id),It(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=lC(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=lC(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=jt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let a=[];if(!(t!=null&&t.length))a=i;else{const o=[...t],s=[...i];for(;s.length&&o.length;){const l=o.shift(),c=s.findIndex(d=>d.id===l);c>-1&&a.push(s.splice(c,1)[0])}a=[...a,...s]}return XLn(a,n,r)},It(e.options,"debugTable"))}},IF=()=>({left:[],right:[]}),QLn={getInitialState:e=>({columnPinning:IF(),...e}),getDefaultOptions:e=>({onColumnPinningChange:rl("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var a,o;if(n==="right"){var s,l;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var c,d;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,a,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(s=>r==null?void 0:r.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return a?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=jt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(o=>!a.includes(o.column.id))},It(t.options,"debugRows")),e.getLeftVisibleCells=jt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),It(t.options,"debugRows")),e.getRightVisibleCells=jt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),It(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?IF():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:IF())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=jt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),It(e.options,"debugColumns")),e.getRightLeafColumns=jt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),It(e.options,"debugColumns")),e.getCenterLeafColumns=jt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(a=>!i.includes(a.id))},It(e.options,"debugColumns"))}},Y5={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},DF=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),e8n={getDefaultColumnDef:()=>Y5,getInitialState:e=>({columnSizing:{},columnSizingInfo:DF(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:rl("columnSizing",e),onColumnSizingInfoChange:rl("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Y5.minSize,(r=a??e.columnDef.size)!=null?r:Y5.size),(i=e.columnDef.maxSize)!=null?i:Y5.maxSize)},e.getStart=jt(n=>[n,lC(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),It(t.options,"debugColumns")),e.getAfter=jt(n=>[n,lC(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),It(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),MF(a)&&a.touches&&a.touches.length>1))return;const o=e.getSize(),s=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],l=MF(a)?Math.round(a.touches[0].clientX):a.clientX,c={},d=(b,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(w=>{var C,S;const E=t.options.columnResizeDirection==="rtl"?-1:1,k=(x-((C=w==null?void 0:w.startOffset)!=null?C:0))*E,_=Math.max(k/((S=w==null?void 0:w.startSize)!=null?S:0),-.999999);return w.columnSizingStart.forEach(T=>{let[j,A]=T;c[j]=Math.round(Math.max(A+A*_,0)*100)/100}),{...w,deltaOffset:k,deltaPercentage:_}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(w=>({...w,...c})))},h=b=>d("move",b),p=b=>{d("end",b),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=n||typeof document<"u"?document:null,g={moveHandler:b=>h(b.clientX),upHandler:b=>{m==null||m.removeEventListener("mousemove",g.moveHandler),m==null||m.removeEventListener("mouseup",g.upHandler),p(b.clientX)}},y={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),h(b.touches[0].clientX),!1),upHandler:b=>{var x;m==null||m.removeEventListener("touchmove",y.moveHandler),m==null||m.removeEventListener("touchend",y.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((x=b.touches[0])==null?void 0:x.clientX)}},v=t8n()?{passive:!1}:!1;MF(a)?(m==null||m.addEventListener("touchmove",y.moveHandler,v),m==null||m.addEventListener("touchend",y.upHandler,v)):(m==null||m.addEventListener("mousemove",g.moveHandler,v),m==null||m.addEventListener("mouseup",g.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?DF():(n=e.initialState.columnSizingInfo)!=null?n:DF())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let q5=null;function t8n(){if(typeof q5=="boolean")return q5;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return q5=e,q5}function MF(e){return e.type==="touchstart"}const n8n={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:rl("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=jt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),It(t.options,"debugRows")),e.getVisibleCells=jt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],It(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>jt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),It(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function lC(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const r8n={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},i8n={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:rl("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Td.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return uO(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Td[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},a8n={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:rl("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,a;e.setExpanded(r?{}:(i=(a=e.initialState)==null?void 0:a.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const o=a.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=r,n=(i=n)!=null?i:!a,!a&&n)return{...o,[e.id]:!0};if(a&&!n){const{[e.id]:s,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},v7=0,b7=10,RF=()=>({pageIndex:v7,pageSize:b7}),o8n={getInitialState:e=>({...e,pagination:{...RF(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:rl("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=a=>Wh(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?RF():(i=e.initialState.pagination)!=null?i:RF())},e.setPageIndex=r=>{e.setPagination(i=>{let a=Wh(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...i,pageIndex:a}})},e.resetPageIndex=r=>{var i,a;e.setPageIndex(r?v7:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:v7)},e.resetPageSize=r=>{var i,a;e.setPageSize(r?b7:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:b7)},e.setPageSize=r=>{e.setPagination(i=>{const a=Math.max(1,Wh(r,i.pageSize)),o=i.pageSize*i.pageIndex,s=Math.floor(o/a);return{...i,pageIndex:s,pageSize:a}})},e.setPageCount=r=>e.setPagination(i=>{var a;let o=Wh(r,(a=e.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=jt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,o)=>o)),i},It(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},OF=()=>({top:[],bottom:[]}),s8n={getInitialState:e=>({rowPinning:OF(),...e}),getDefaultOptions:e=>({onRowPinningChange:rl("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],s=new Set([...o,e.id,...a]);t.setRowPinning(l=>{var c,d;if(n==="bottom"){var h,p;return{top:((h=l==null?void 0:l.top)!=null?h:[]).filter(y=>!(s!=null&&s.has(y))),bottom:[...((p=l==null?void 0:l.bottom)!=null?p:[]).filter(y=>!(s!=null&&s.has(y))),...Array.from(s)]}}if(n==="top"){var m,g;return{top:[...((m=l==null?void 0:l.top)!=null?m:[]).filter(y=>!(s!=null&&s.has(y))),...Array.from(s)],bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(y=>!(s!=null&&s.has(y)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(y=>!(s!=null&&s.has(y))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(y=>!(s!=null&&s.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(s=>r==null?void 0:r.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return a?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:s}=o;return s});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?OF():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:OF())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(n??[]).map(o=>t.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=jt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),It(e.options,"debugRows")),e.getBottomRows=jt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),It(e.options,"debugRows")),e.getCenterRows=jt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(a=>!i.has(a.id))},It(e.options,"debugRows"))}},l8n={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:rl("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(a=>{x7(i,a.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=jt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?$F(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getFilteredSelectedRowModel=jt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?$F(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getGroupedSelectedRowModel=jt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?$F(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return a;const s={...a};return x7(s,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return UY(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return w7(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return w7(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},x7=(e,t,n,r,i)=>{var a;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(s=>x7(e,s.id,n,r,i))};function $F(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(o,s){return o.map(l=>{var c;const d=UY(l,n);if(d&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:a(l.subRows)}),d)return l}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function UY(e,t){var n;return(n=t[e.id])!=null?n:!1}function w7(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return e.subRows.forEach(o=>{if(!(a&&!i)&&(o.getCanSelect()&&(UY(o,t)?a=!0:i=!1),o.subRows&&o.subRows.length)){const s=w7(o,t);s==="all"?a=!0:(s==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const C7=/([0-9]+)/gm,u8n=(e,t,n)=>y3e(kp(e.getValue(n)).toLowerCase(),kp(t.getValue(n)).toLowerCase()),c8n=(e,t,n)=>y3e(kp(e.getValue(n)),kp(t.getValue(n))),d8n=(e,t,n)=>HY(kp(e.getValue(n)).toLowerCase(),kp(t.getValue(n)).toLowerCase()),f8n=(e,t,n)=>HY(kp(e.getValue(n)),kp(t.getValue(n))),h8n=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},p8n=(e,t,n)=>HY(e.getValue(n),t.getValue(n));function HY(e,t){return e===t?0:e>t?1:-1}function kp(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function y3e(e,t){const n=e.split(C7).filter(Boolean),r=t.split(C7).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),o=parseInt(i,10),s=parseInt(a,10),l=[o,s].sort();if(isNaN(l[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-r.length}const Xx={alphanumeric:u8n,alphanumericCaseSensitive:c8n,text:d8n,textCaseSensitive:f8n,datetime:h8n,basic:p8n},m8n={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:rl("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Xx.datetime;if(typeof a=="string"&&(r=!0,a.split(C7).length>1))return Xx.alphanumeric}return r?Xx.text:Xx.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return uO(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Xx[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),l=o==null?void 0:o.findIndex(m=>m.id===e.id);let c=[],d,h=a?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?s?d="toggle":d="add":o!=null&&o.length&&l!==o.length-1?d="replace":s?d="toggle":d="replace",d==="toggle"&&(a||i||(d="remove")),d==="add"){var p;c=[...o,{id:e.id,desc:h}],c.splice(0,c.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(m=>m.id===e.id?{...m,desc:h}:m):d==="remove"?c=o.filter(m=>m.id!==e.id):c=[{id:e.id,desc:h}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},g8n=[NLn,n8n,JLn,QLn,LLn,BLn,r8n,i8n,m8n,ZLn,a8n,o8n,s8n,l8n,e8n];function y8n(e){var t,n;const r=[...g8n,...(t=e._features)!=null?t:[]];let i={_features:r};const a=i._features.reduce((p,m)=>Object.assign(p,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(a,p):{...a,...p};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(p=>{var m;l=(m=p.getInitialState==null?void 0:p.getInitialState(l))!=null?m:l});const c=[];let d=!1;const h={_features:r,options:{...a,...e},initialState:l,_queue:p=>{c.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const m=Wh(p,i.options);i.options=o(m)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,m,g)=>{var y;return(y=i.options.getRowId==null?void 0:i.options.getRowId(p,m,g))!=null?y:`${g?[g.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,m)=>{let g=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!g&&(g=i.getCoreRowModel().rowsById[p],!g))throw new Error;return g},_getDefaultColumnDef:jt(()=>[i.options.defaultColumn],p=>{var m;return p=(m=p)!=null?m:{},{header:g=>{const y=g.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:g=>{var y,v;return(y=(v=g.renderValue())==null||v.toString==null?void 0:v.toString())!=null?y:null},...i._features.reduce((g,y)=>Object.assign(g,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...p}},It(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:jt(()=>[i._getColumnDefs()],p=>{const m=function(g,y,v){return v===void 0&&(v=0),g.map(b=>{const x=FLn(i,b,v,y),w=b;return x.columns=w.columns?m(w.columns,x,v+1):[],x})};return m(p)},It(e,"debugColumns")),getAllFlatColumns:jt(()=>[i.getAllColumns()],p=>p.flatMap(m=>m.getFlatColumns()),It(e,"debugColumns")),_getAllFlatColumnsById:jt(()=>[i.getAllFlatColumns()],p=>p.reduce((m,g)=>(m[g.id]=g,m),{}),It(e,"debugColumns")),getAllLeafColumns:jt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,m)=>{let g=p.flatMap(y=>y.getLeafColumns());return m(g)},It(e,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,h);for(let p=0;p<i._features.length;p++){const m=i._features[p];m==null||m.createTable==null||m.createTable(i)}return i}function v8n(){return e=>jt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,o){a===void 0&&(a=0);const s=[];for(let c=0;c<i.length;c++){const d=VY(e,e._getRowId(i[c],c,o),i[c],c,a,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,s.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(i[c],c),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,a+1,d))}}return s};return n.rows=r(t),n},It(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function b8n(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function x8n(e,t,n){return n.options.filterFromLeafRows?w8n(e,t,n):C8n(e,t,n)}function w8n(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){var h;let m=l[p];const g=VY(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(g.columnFilters=m.columnFilters,(h=m.subRows)!=null&&h.length&&c<o){if(g.subRows=s(m.subRows,c+1),m=g,t(m)&&!g.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}if(t(m)||g.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}}else m=g,t(m)&&(d.push(m),a[m.id]=m,i.push(m))}return d};return{rows:s(e),flatRows:i,rowsById:a}}function C8n(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){let m=l[p];if(t(m)){var h;if((h=m.subRows)!=null&&h.length&&c<o){const y=VY(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);y.subRows=s(m.subRows,c+1),m=y}d.push(m),i.push(m),a[m.id]=m}}return d};return{rows:s(e),flatRows:i,rowsById:a}}function S8n(){return e=>jt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<t.flatRows.length;p++)t.flatRows[p].columnFilters={},t.flatRows[p].columnFiltersMeta={};return t}const i=[],a=[];(n??[]).forEach(p=>{var m;const g=e.getColumn(p.id);if(!g)return;const y=g.getFilterFn();y&&i.push({id:p.id,filterFn:y,resolvedValue:(m=y.resolveFilterValue==null?void 0:y.resolveFilterValue(p.value))!=null?m:p.value})});const o=(n??[]).map(p=>p.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&s&&l.length&&(o.push("__global__"),l.forEach(p=>{var m;a.push({id:p.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(r))!=null?m:r})}));let c,d;for(let p=0;p<t.flatRows.length;p++){const m=t.flatRows[p];if(m.columnFilters={},i.length)for(let g=0;g<i.length;g++){c=i[g];const y=c.id;m.columnFilters[y]=c.filterFn(m,y,c.resolvedValue,v=>{m.columnFiltersMeta[y]=v})}if(a.length){for(let g=0;g<a.length;g++){d=a[g];const y=d.id;if(d.filterFn(m,y,d.resolvedValue,v=>{m.columnFiltersMeta[y]=v})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const h=p=>{for(let m=0;m<o.length;m++)if(p.columnFilters[o[m]]===!1)return!1;return!0};return x8n(t.rows,h,e)},It(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function E8n(e){return t=>jt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:a}=n;let{rows:o,flatRows:s,rowsById:l}=r;const c=i*a,d=c+i;o=o.slice(c,d);let h;t.options.paginateExpandedRows?h={rows:o,flatRows:s,rowsById:l}:h=b8n({rows:o,flatRows:s,rowsById:l}),h.flatRows=[];const p=m=>{h.flatRows.push(m),m.subRows.length&&m.subRows.forEach(p)};return h.rows.forEach(p),h},It(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function v3e(e,t){return e?k8n(e)?f.createElement(e,t):e:null}function k8n(e){return _8n(e)||typeof e=="function"||T8n(e)}function _8n(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function T8n(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function A8n(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=f.useState(()=>({current:y8n(t)})),[r,i]=f.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Lt="structure",j8n={locale:"en-US",namespace:Lt,resources:()=>Tf(()=>import("./resources3-c9724e78.js"),[])};function b3e(e){const{document:t}=e,n=tn().get(t._type),{t:r}=q(Lt),{error:i,value:a}=mk({schemaType:n,value:t});return n?i?u.jsx(u.Fragment,{children:r("doc-title.error.text",{errorMessage:i.message})}):u.jsx(u.Fragment,{children:(a==null?void 0:a.title)||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:r("doc-title.fallback.text")})}):u.jsx("code",{children:r("doc-title.unknown-schema-type.text",{schemaType:t._type})})}const x3e=$(L)`
  margin-left: auto;
`,I8n=$.details`
  flex: none;

  &[open] ${x3e} {
    transform: rotate(180deg);
  }
`,D8n=$.summary`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`,M8n=$.table`
  width: 100%;
  text-align: left;
  padding: 0 ${({theme:e})=>Ce(e.sanity.space[2])};
  border-collapse: collapse;

  th {
    padding: ${({theme:e})=>Ce(e.sanity.space[1])};
  }

  td {
    padding: 0 ${({theme:e})=>Ce(e.sanity.space[1])};
  }

  tr > *:last-child {
    text-align: right;
  }
`,R8n=$(z)`
  min-height: 33px;
`,yfe=e=>{const{t}=q(Lt),n=e.totalCount-e.references.length;return n?u.jsx(L,{padding:2,children:u.jsxs(Rn,{space:2,children:[u.jsx(N,{size:1,muted:!0,children:t("confirm-delete-dialog.other-reference-count.title",{count:n})}),u.jsx(bt,{portal:!0,placement:"top",content:t("confirm-delete-dialog.other-reference-count.tooltip"),children:u.jsx(N,{size:1,muted:!0,children:u.jsx(Df,{})})})]})}):null};function w3e(e){const{icon:t,layout:n,presence:r,schemaType:i,value:a}=e,o=wt(a.title)&&f.isValidElement(a.title)||IM(a.title)||MLn(a.title)?a.title:null,s=f.useMemo(()=>Mb(e.documentPreviewStore,i,a._id,o),[e.documentPreviewStore,i,o,a._id]),{draft:l,published:c,isLoading:d}=ti(s,{draft:null,isLoading:!0,published:null}),h=d?null:u.jsx(Ja,{children:u.jsxs(z,{align:"center",gap:3,children:[r&&r.length>0&&u.jsx(KW,{presence:r}),u.jsx(Ib,{draft:l,published:c})]})}),p=u.jsx(Sv,{draft:l,published:c});return u.jsx(ro,{...MG({value:a,draft:l,published:c}),isPlaceholder:d,icon:t,layout:n,status:h,tooltip:p})}const C3e=f.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r}=f.useContext(cI),i=f.useMemo(()=>n.slice(0,r),[r,n]),a=f.useMemo(()=>({panes:i}),[i]);return u.jsx(GM,{...e,ref:t,state:a})});function N0(){const e=f.useContext(She);if(!e)throw new Error("PaneLayout: missing context value");return e}const S3e=f.forwardRef(function(e,t){const{childId:n,childPayload:r,childParameters:i,...a}=e,{routerPanesState:o,groupIndex:s}=f.useContext(cI);return u.jsx(GM,{...a,ref:t,state:{panes:[...o.slice(0,s+1),[{id:n,params:i,payload:r}]]}})}),O8n=f.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r,siblingIndex:i}=f.useContext(cI),{params:a,payload:o,...s}=e,l=Wa(a),c=Wa(o),d=f.useMemo(()=>{const h=n[r],p=h[i],m={...p,params:l??p.params,payload:c??p.payload},g=[...h.slice(0,i),m,...h.slice(i+1)];return{panes:[...n.slice(0,r),g,...n.slice(r+1)]}},[n,r,l,c,i]);return u.jsx(GM,{ref:t,...s,state:d})}),$8n=f.forwardRef(function({documentId:e,documentType:t,parentRefPath:n,children:r,template:i,...a},o){return u.jsx(S3e,{...a,ref:o,childId:e,childPayload:i==null?void 0:i.params,childParameters:{type:t,parentRefPath:Zt(n),...i&&{template:i==null?void 0:i.id}},children:r})});function ud(){return f.useContext(cI)}const vfe=[];function P8n(e){const{onClick:t,type:n,value:r}=e,i=pn(r==null?void 0:r._id),a=Rb(i),o=da(),{ReferenceChildLink:s}=ud(),l=f.useCallback(function(c){return u.jsx(s,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:vfe,...c})},[s,n==null?void 0:n.name,r==null?void 0:r._id]);return u.jsx(cg,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,radius:2,children:u.jsx(w3e,{documentPreviewStore:o,icon:n==null?void 0:n.icon,layout:"compact",presence:(a==null?void 0:a.length)>0?a:vfe,schemaType:n,value:r})})}function F8n({crossDatasetReferences:e,internalReferences:t,documentTitle:n,totalCount:r,action:i,datasetNames:a,hasUnknownDatasetNames:o,onReferenceLinkClick:s}){const l=tn(),c=_r(),{t:d}=q(Lt),h=f.useCallback(g=>{const y=l.get(g._type);return y?u.jsx(P8n,{type:y,value:g,onClick:s}):u.jsx(L,{padding:2,children:u.jsx(ro,{icon:Fl,title:d("confirm-delete-dialog.preview-item.preview-unavailable.title"),subtitle:d("confirm-delete-dialog.preview-item.preview-unavailable.subtitle",{documentId:g._id}),layout:"default"})})},[l,d,s]);if((t==null?void 0:t.totalCount)===0&&(e==null?void 0:e.totalCount)===0)return u.jsx(N,{as:"p",size:1,children:u.jsx(gt,{t:d,i18nKey:"confirm-delete-dialog.confirmation.text",context:i,components:{DocumentTitle:()=>u.jsx("strong",{children:n})}})});const p=[...a,...o?["unavailable"]:[]],m=d("confirm-delete-dialog.cdr-summary.subtitle",{count:p.length,datasets:p.join(", "),context:o&&p.length?"unavailable":""});return u.jsxs(z,{direction:"column",gap:4,children:[u.jsx(ie,{padding:3,radius:2,tone:"caution",flex:"none",children:u.jsxs(z,{children:[u.jsx(N,{"aria-hidden":"true",size:1,children:u.jsx(gr,{})}),u.jsx(L,{flex:1,marginLeft:3,children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"confirm-delete-dialog.referring-document-count.text",components:{DocumentTitle:()=>n},t:d,values:{count:r}})})})]})}),u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"confirm-delete-dialog.referring-documents-descriptor.text",t:d,context:i,components:{DocumentTitle:()=>n}})})}),u.jsx(ie,{radius:2,shadow:1,flex:"auto",padding:2,children:u.jsxs(z,{direction:"column",children:[t.totalCount>0&&u.jsxs(ne,{as:"ul",marginBottom:2,space:2,"data-testid":"internal-references",children:[t==null?void 0:t.references.map(g=>u.jsx(L,{as:"li",children:h(g)},g._id)),t.totalCount>t.references.length&&u.jsx(L,{as:"li",padding:3,children:u.jsx(yfe,{...t})})]}),e.totalCount>0&&u.jsxs(I8n,{"data-testid":"cross-dataset-references",style:{borderTop:t.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[u.jsx(D8n,{children:u.jsx(ie,{as:"a",marginTop:t.totalCount>0?2:0,radius:2,shadow:1,paddingY:1,children:u.jsxs(z,{align:"center",gap:3,paddingX:3,paddingY:1,children:[u.jsx(N,{size:1,children:u.jsx($I,{})}),u.jsxs(ne,{space:2,children:[u.jsx(N,{textOverflow:"ellipsis",size:1,children:d("confirm-delete-dialog.cdr-summary.title",{count:p.length,documentCount:d("confirm-delete-dialog.cdr-summary.document-count",{count:e.totalCount})})}),u.jsx(N,{title:m,textOverflow:"ellipsis",size:1,muted:!0,children:m})]}),u.jsx(x3e,{children:u.jsx(N,{muted:!0,size:1,children:u.jsx(Di,{})})})]})})}),u.jsxs(L,{overflow:"auto",paddingTop:2,children:[u.jsxs(M8n,{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,style:{minWidth:"5rem"},weight:"medium",children:d("confirm-delete-dialog.cdr-table.project-id.label")})}),u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.dataset.label")})}),u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.document-id.label")})})]})}),u.jsx("tbody",{children:e.references.filter(g=>"projectId"in g).map(({projectId:g,datasetName:y,documentId:v},b)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(N,{size:1,children:g})}),u.jsx("td",{children:u.jsx(N,{size:1,children:y||"unavailable"})}),u.jsx("td",{children:u.jsxs(R8n,{align:"center",gap:2,justify:"flex-end",children:[u.jsx(N,{textOverflow:"ellipsis",size:1,children:v||"unavailable"}),v&&u.jsx(_Ln,{text:v,onCopy:()=>{c.push({title:d("confirm-delete-dialog.cdr-table.id-copied-toast.title"),status:"success"})},children:u.jsx(he,{mode:"bleed",icon:Gl,tooltipProps:{content:d("confirm-delete-dialog.cdr-table.copy-id-button.tooltip")}})})]})})]},`${v}-${b}`))})]}),u.jsx(yfe,{...e})]})]})]})}),u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:u.jsx(gt,{i18nKey:"confirm-delete-dialog.referential-integrity-disclaimer.text",t:d,context:i,components:{DocumentTitle:()=>n}})})})]})}function N8n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const L8n=5e3;let PF;const E3e=()=>(PF||(PF=To(document,"visibilitychange").pipe(Wi(null),fe(()=>document.visibilityState==="visible"),hr(),Ct(e=>e?Qr(0,L8n):sr),la({refCount:!0,bufferSize:1}))),PF);function B8n(e,{versionedClient:t}){const n=ca(e),r=pn(e),i={uri:t.getDataUrl("doc",`${n},${r}`),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return t.observable.request(i).pipe(fe(({omitted:a})=>{const o=a.filter(s=>s.reason==="existence");if(o.length!==2)return o.length===0||o.some(s=>s.id===n)?r:n}))}function V8n(e,t){const{versionedClient:n}=t;return E3e().pipe(Ct(()=>B8n(e,t)),Ct(r=>{if(!r)return we({totalCount:0,references:[]});const i=n.config().dataset;return n.observable.request({url:`/data/references/${i}/documents/${r}/to?excludeInternalReferences=true&excludePaths=true`,tag:"use-referring-documents.external"}).pipe(kn(a=>{if(N8n(a)&&a.statusCode===404)return we({totalCount:0,references:[]});throw a}))}))}const z8n=Gp(([e,t])=>t.listenQuery({fetch:'{"references":*[references($documentId)][0...100]{_id,_type},"totalCount":count(*[references($documentId)])}',listen:"*[references($documentId)]"},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})),U8n=Gp(([e,t])=>E3e().pipe(Ct(()=>V8n(e,{versionedClient:t}))));function H8n(e){const t=Xt(qt),n=dl(),r=pn(e),[i,a]=z8n(f.useMemo(()=>[r,n],[n,r])),[o,s]=U8n(f.useMemo(()=>[r,t],[r,t])),l=f.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(h=>h.projectId).filter(Boolean))).sort(),[o==null?void 0:o.references]),c=f.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(h=>(h==null?void 0:h.datasetName)||"").filter(h=>!!h&&h!==""))).sort(),[o==null?void 0:o.references]),d=f.useMemo(()=>!!(o!=null&&o.references.some(h=>typeof h.datasetName!="string")),[o==null?void 0:o.references]);return{totalCount:((i==null?void 0:i.totalCount)||0)+((o==null?void 0:o.totalCount)||0),projectIds:l,datasetNames:c,hasUnknownDatasetNames:d,internalReferences:i,crossDatasetReferences:o,isLoading:a||s}}const W8n=$(L)`
  box-sizing: border-box;
`,G8n=$(z).attrs({align:"center",direction:"column",justify:"center"})`
  height: 110px;
`;function Y8n({id:e,type:t,action:n="delete",onCancel:r,onConfirm:i}){const{t:a}=q(Lt),o=`deletion-confirmation-${f.useId()}`,{internalReferences:s,crossDatasetReferences:l,isLoading:c,totalCount:d,projectIds:h,datasetNames:p,hasUnknownDatasetNames:m}=H8n(e),g=u.jsx(b3e,{document:f.useMemo(()=>({_id:e,_type:t}),[e,t])}),y=!c;return u.jsx(Ri,{width:1,id:o,header:a("confirm-delete-dialog.header.text",{context:n}),footer:{cancelButton:{onClick:r,text:a("confirm-delete-dialog.cancel-button.text")},confirmButton:y?{text:d>0?a("confirm-delete-dialog.confirm-anyway-button.text",{context:n}):a("confirm-delete-dialog.confirm-button.text",{context:n}),onClick:i}:void 0},onClose:r,onClickOutside:r,children:u.jsx(W8n,{children:l&&s&&!c?u.jsx(F8n,{crossDatasetReferences:l,internalReferences:s,documentTitle:g,isLoading:c,totalCount:d,action:n,projectIds:h,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:r}):u.jsx(G8n,{"data-testid":"loading-container",children:u.jsx(bn,{showText:!0,title:a("confirm-delete-dialog.loading.text")})})})})}function WY(e){const{t}=q(Lt),n=f.useId(),[r,i]=f.useState(null),a=f.useCallback(()=>i(null),[]);return r?u.jsx(Ri,{id:`dialog-error-${n}`,"data-testid":"confirm-delete-error-dialog",header:t("confirm-delete-dialog.error.title.text"),footer:{confirmButton:{text:t("confirm-delete-dialog.error.retry-button.text"),onClick:a,tone:"default"}},onClose:e.onCancel,children:u.jsx(L,{padding:4,children:u.jsx(N,{size:1,children:t("confirm-delete-dialog.error.message.text")})})}):u.jsx(Wv,{onCatch:i,children:u.jsx(Y8n,{...e})})}function k3e({children:e,ms:t=0}){const[n,r]=f.useState(t<=0);return f.useEffect(()=>{if(t<=0)return;const i=setTimeout(()=>r(!0),t);return()=>{clearTimeout(i)}},[t]),!n||!e?u.jsx(u.Fragment,{}):typeof e=="function"?e():e}const q8n=!1,uC=51,IS=204,K8n=$(qo)`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`;function Z8n({disabled:e,element:t}){const{resize:n}=N0(),[r,i]=f.useState(!1),a=f.useCallback(o=>{if(!t)return;i(!0),o.preventDefault();const s=o.pageX;n("start",t,0);const l=d=>{d.preventDefault();const h=d.pageX-s;n("move",t,h)},c=d=>{d.preventDefault(),i(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",c),n("end",t,0)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",c)},[t,n]);return u.jsx(K8n,{"data-disabled":e?"":void 0,"data-dragging":r?"":void 0,onMouseDown:a})}const X8n=$(ie)`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`,jk=f.forwardRef(function(e,t){const{children:n,currentMinWidth:r,currentMaxWidth:i,flex:a=1,id:o,minWidth:s,maxWidth:l,selected:c=!1,...d}=e,[h,p]=f.useState(null),{collapse:m,collapsed:g,expand:y,expandedElement:v,mount:b,panes:x}=N0(),w=x.find(W=>W.element===h),C=w&&x.indexOf(w),S=typeof C=="number"?x[C+1]:void 0,E=C===x.length-1,k=g?!1:(w==null?void 0:w.collapsed)||!1,_=(S==null?void 0:S.collapsed)||!1,T=f.useRef(null),j=(w==null?void 0:w.flex)??a,A=(w==null?void 0:w.currentMinWidth)??r,I=(w==null?void 0:w.currentMaxWidth)??i;f.useImperativeHandle(t,()=>T.current);const M=f.useCallback(W=>{p(W),T.current=W},[]);f.useEffect(()=>{if(h)return b(h,{currentMinWidth:r,currentMaxWidth:i,flex:a,id:o,minWidth:s,maxWidth:l})},[r,i,a,o,s,l,b,h]);const D=f.useCallback(()=>{h&&m(h)},[m,h]),O=f.useCallback(()=>{h&&y(h)},[y,h]),R=f.useMemo(()=>({collapse:D,collapsed:g?!1:k,expand:O,index:C,isLast:E,rootElement:h}),[k,D,O,E,g,C,h]),F=f.useMemo(()=>{if(!g)return k?uC:A===0||E?s||IS:A||s||IS},[k,A,E,g,s]),P=f.useMemo(()=>{if(k)return uC;if(!(g&&E))return E?l?I??l:void 0:I??l},[k,I,E,g,l]),V=g&&!E,U=f.useMemo(()=>!E&&!g&&u.jsx(Ef,{zOffset:"paneResizer",children:u.jsx(Z8n,{disabled:k||_,element:h})}),[k,E,g,_,h]),H=f.useMemo(()=>({flex:j,minWidth:F,maxWidth:P===1/0?void 0:P}),[j,F,P]);return u.jsxs(u.Fragment,{children:[u.jsx(Ef,{zOffset:"pane",children:u.jsx(Che.Provider,{value:R,children:u.jsx(EAn,{isLastPane:E,children:u.jsxs(X8n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:V,id:o,overflow:g?void 0:"hidden",...d,"data-pane-collapsed":k?"":void 0,"data-pane-index":C,"data-pane-selected":c?"":void 0,ref:M,style:H,children:[q8n,u.jsx(hf,{element:h,children:!V&&u.jsx(z,{direction:"column",height:"fill",children:n})})]})})})}),U]})}),_3e=$(ie)`
  position: relative;
  outline: none;
`;_3e.displayName="PaneContent__root";function Yf(){const e=f.useContext(Che);if(!e)throw new Error("Pane: missing context value");return e}const Ik=f.forwardRef(function(e,t){const{as:n,children:r,overflow:i,padding:a,...o}=e,{collapsed:s}=Yf(),{collapsed:l}=N0();return u.jsx(_3e,{"data-testid":"pane-content",forwardedAs:n,...o,flex:1,hidden:s,overflow:l?void 0:i,padding:a,ref:t,tone:"inherit",children:r})}),J8n={constrainSize:!0,placement:"left-start",portal:!0};function Jj(e){const{disabled:t,isAfterGroup:n,node:r}=e,i=dR("i18n"in r?r:void 0);if(r.type==="divider")return u.jsx(fr,{});const{title:a}=i(r);return r.type==="group"?r.children.length===0?null:r.expanded?u.jsxs(u.Fragment,{children:[n&&u.jsx(fr,{}),r.children.map((o,s)=>{var l;return u.jsx(Jj,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:o},o.key)})]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(fr,{}),u.jsx(BV,{disabled:t,icon:r.icon,popover:J8n,text:a,children:r.children.map((o,s)=>{var l;return u.jsx(Jj,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:o},o.key)})})]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(fr,{}),u.jsx(Q8n,{disabled:t,node:r})]})}function Q8n(e){const{node:t}=e;return t.intent?u.jsx(t6n,{...e,intent:t.intent}):u.jsx(e6n,{...e})}function e6n(e){var a;const{disabled:t,node:n}=e,r=typeof n.disabled=="object"&&u.jsx(N,{size:1,children:n.disabled.reason}),{title:i}=id(n);return u.jsx(PY,{content:r,placement:"left",children:u.jsx(He,{disabled:t||!!n.disabled,hotkeys:(a=n.hotkey)==null?void 0:a.split("+"),icon:n.icon,iconRight:n.iconRight||n.selected&&_a,onClick:n.onAction,pressed:n.selected,text:i,tone:n.tone})})}function t6n(e){var l;const{disabled:t,intent:n,node:r}=e,i=typeof r.disabled=="object"&&u.jsx(N,{size:1,children:r.disabled.reason}),a=XE({intent:n.type,params:n.params}),o=f.useCallback(c=>{a.onClick(c),r.onAction()},[a,r]),{title:s}=id(r);return u.jsx(PY,{content:i,placement:"left",children:u.jsx(He,{as:"a",disabled:t||!!r.disabled,hotkeys:(l=r.hotkey)==null?void 0:l.split("+"),href:a.href,icon:r.icon,iconRight:r.selected?_a:void 0,onClick:o,pressed:r.selected,text:s,tone:r.tone})})}const n6n={constrainSize:!0,placement:"bottom",portal:!0};function S7(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&S7(n.children,t))}function T3e(e){const{nodes:t,actionsNodes:n}=e,r=f.useId(),i=S7(t,"critical"),a=S7(t,"caution");return u.jsx(Gt,{button:u.jsx(Si,{tone:i?"critical":a?"caution":void 0,"data-testid":"pane-context-menu-button"}),id:r,menu:u.jsxs(Ot,{children:[n&&u.jsxs(u.Fragment,{children:[n,u.jsx(fr,{})]}),t.map((o,s)=>{var c;const l=((c=t[s-1])==null?void 0:c.type)==="group";return u.jsx(Jj,{isAfterGroup:l,node:o},o.key)})]}),popover:n6n})}const r6n=$(qo)`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-border-color);
  }
`,i6n=$(ie)`
  padding-bottom: env(safe-area-inset-bottom);
`,a6n=f.forwardRef(function(e,t){const{children:n,padding:r}=e,{collapsed:i}=Yf();return u.jsx(Ef,{zOffset:"paneFooter",children:u.jsx(r6n,{"data-testid":"pane-footer",hidden:i,ref:t,children:u.jsx(i6n,{tone:"inherit",children:u.jsx(L,{padding:r,children:n})})})})}),o6n=$(qo)(({$border:e})=>de`
    line-height: 0;
    position: sticky;
    top: 0;

    &:not([data-collapsed]):after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      border-bottom: 1px solid ${e?"var(--card-border-color)":"transparent"};
      opacity: 1;
    }
  `),s6n=$(z)`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`,l6n=$(ie)(({theme:e})=>{const{fg:t,bg:n}=e.sanity.color.card.enabled;return de`
    background-color: ${n};

    [data-ui='Text'] {
      color: ${t};
    }
  `}),u6n=$(ur)`
  width: 66%;
  max-width: 175px;
`,c6n=$(N)`
  cursor: default;
  outline: none;
`,d6n=$(L)(({theme:e})=>{const{color:t,space:n}=e.sanity;return de`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: ${n[3]}px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, ${EV(t.base.bg,0)}, var(--card-bg-color));
      width: ${n[3]}px;
      pointer-events: none;
    }
  `}),cO=f.forwardRef(function(e,t){const{actions:n,backButton:r,border:i,contentAfter:a,loading:o,subActions:s,tabs:l,tabIndex:c,title:d}=e,{collapse:h,collapsed:p,expand:m,rootElement:g}=Yf(),y=_g(g||null),v=f.useMemo(()=>({width:p?(y==null?void 0:y.height)||window.innerHeight:void 0}),[p,y]),b=f.useCallback(()=>{p||h()},[h,p]),x=f.useCallback(()=>{p&&m()},[p,m]);return u.jsx(Zl,{zOffset:100,children:u.jsx(o6n,{$border:i,"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:t,children:u.jsx(Ef,{zOffset:"paneHeader",children:u.jsxs(ie,{"data-collapsed":p?"":void 0,tone:"inherit",children:[u.jsxs(s6n,{gap:1,onClick:x,padding:3,paddingBottom:p?3:2,sizing:"border",style:v,children:[r&&u.jsx(L,{flex:"none",children:r}),u.jsxs(l6n,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",onClick:b,paddingLeft:r?1:2,padding:2,tabIndex:c,children:[o&&u.jsx(u6n,{animated:!0,radius:1,size:1}),!o&&u.jsx(c6n,{size:1,textOverflow:"ellipsis",weight:"semibold",children:d})]}),n&&u.jsx(z,{align:"center",hidden:p,children:u.jsx(Ef,{zOffset:"paneHeader",children:n})})]}),!!(!p&&(l||s))&&u.jsxs(z,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,children:[u.jsx(d6n,{flex:1,marginRight:s?3:0,children:l}),s&&s]}),!p&&a&&a]})})})})});function A3e(e){var r;if(!e.disabled)return{disabledReason:void 0,ariaLabel:void 0,isDisabled:!1};const t=typeof e.disabled=="object"?e.disabled.reason:void 0,n=typeof e.disabled=="object"&&typeof((r=e.disabled)==null?void 0:r.reason)=="string"?e.disabled.reason:"This is disabled";return{disabledReason:t,ariaLabel:n,isDisabled:!!e.disabled}}function j3e(e){const{node:t}=e;return t.type==="item"?u.jsx(f6n,{node:t}):t.type==="group"?u.jsx(p6n,{node:t}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function f6n(e){const{node:t}=e,{title:n}=id(t),{t:r}=q();if(t.intent)return u.jsx(h6n,{...e,intent:t.intent});const{disabledReason:i,ariaLabel:a,isDisabled:o}=A3e(t);return u.jsx(Ak,{disabled:o,icon:t.icon,onClick:t.onAction,selected:t.selected,tone:t.tone,"aria-label":a||n||r("status-button.aria-label"),tooltipProps:{hotkeys:!o&&t.hotkey?t.hotkey.split("+"):void 0,content:o?i:n}})}function h6n(e){const{intent:t,node:n}=e,r=XE({intent:t.type,params:t.params}),{t:i}=q(),a=f.useCallback(c=>{r.onClick(c),n.onAction()},[r,n]),{disabledReason:o,ariaLabel:s,isDisabled:l}=A3e(n);return u.jsx(Ak,{forwardedAs:"a",disabled:l,href:r.href,icon:n.icon,onClick:a,selected:n.selected,tone:n.tone,"aria-label":s||n.title||i("status-button.aria-label"),tooltipProps:{hotkeys:!l&&n.hotkey?n.hotkey.split("+"):void 0,content:l?o:n.title,placement:"bottom",portal:!0}})}function p6n(e){const{node:t}=e,{title:n}=id(t);return u.jsx(Gt,{button:u.jsx(he,{disabled:!!t.disabled,icon:t.icon??Fl,label:n,mode:"bleed",tooltipProps:{content:t.title,portal:!0}}),id:f.useId(),menu:u.jsx(Ot,{children:t.children.map((r,i)=>{var a;return u.jsx(Jj,{disabled:!!t.disabled,isAfterGroup:((a=t.children[i-1])==null?void 0:a.type)==="group",node:r},r.key)})})})}const m6n=$(ie)`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`;function g6n(e,t,n,r){const i={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=t.minWidth??IS,o=n.minWidth??IS,s=Math.min(t.maxWidth||1/0,i.width-o),l=Math.min(n.maxWidth||1/0,i.width-a);let c=a-e.left.width;const d=e.right.width-l;c<d&&(c=d);let h=e.right.width-o;const p=s-e.left.width;h>p&&(h=p);const m=Math.min(Math.max(r,c),h),g=e.left.width+m,y=e.right.width-m,v=g/i.width*i.flex,b=y/i.width*i.flex;return{leftFlex:v,leftW:g,rightFlex:b,rightW:y}}function y6n(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const a=Array.from(i.childNodes).indexOf(r);if(n.unshift(a),i===e)return n;r=i}return n}const bfe=[];function v6n(e,t){const n=new WeakMap;for(const i of t)n.set(i,y6n(e,i));const r=(i,a)=>{const o=n.get(i)||bfe,s=n.get(a)||bfe,l=Math.max(o.length,s.length);for(let c=0;c<l;c+=1){const d=o[c]||-1,h=s[c]||-1;if(d!==h)return d-h}return 0};t.sort(r)}function b6n(){const e=[],t=[],n=new WeakMap,r=new Set,i={};let a=null,o=0,s=null,l=new Map,c=!1;function d(x){r.add(x),s===x&&(s=null),b()}function h(x){r.delete(x),s=x,b()}function p(x,w){return n.set(x,{...w,original:w}),t.push(x),a&&v6n(a,t),h(x),()=>{const C=t.indexOf(x);C>-1&&t.splice(C,1),n.delete(x),b()}}function m(x,w,C){const S=t.indexOf(w),E=n.get(w);if(!E)return;const k=t[S+1],_=n.get(k);if(_){if(x==="start"&&(c=!0,i.left={element:w,flex:E.flex||1,width:w.offsetWidth},i.right={element:k,flex:_.flex||1,width:k.offsetWidth},b()),x==="move"&&i.left&&i.right){l=new Map;const{leftW:T,rightW:j,leftFlex:A,rightFlex:I}=g6n(i,E,_,C);l.set(w,{flex:A,width:T}),l.set(k,{flex:I,width:j}),b()}if(x==="end"){c=!1;const T=l.get(w),j=l.get(k);n.set(w,{...E,currentMinWidth:0,currentMaxWidth:E.maxWidth??1/0,flex:(T==null?void 0:T.flex)??E.flex}),n.set(k,{..._,currentMinWidth:0,currentMaxWidth:E.maxWidth??1/0,flex:(j==null?void 0:j.flex)??_.flex}),l=new Map,delete i.left,delete i.right,b()}}}function g(x){a=x}function y(x){o=x,b()}function v(x){return e.push(x),()=>{const w=e.push(x);w>-1&&e.splice(w,1)}}return{collapse:d,expand:h,mount:p,resize:m,setRootElement:g,setRootWidth:y,subscribe:v};function b(){if(!o)return;const x=[];for(const T of t)T!==s&&x.unshift(T);s&&x.unshift(s);const w=new WeakMap,C=x.length,S=x[0],E=(C-1)*uC;let k=o-E;for(const T of x){const j=n.get(T);if(!j)continue;const A=j.currentMinWidth||j.minWidth||IS,I=T===S,M=r.has(T),D=A>k,O=I?!1:M||D,R=l.get(T);w.set(T,{element:T,collapsed:O,currentMinWidth:(R==null?void 0:R.width)??j.currentMinWidth,currentMaxWidth:(R==null?void 0:R.width)??j.currentMaxWidth,flex:(R==null?void 0:R.flex)??j.flex??1}),O?k-=uC:k-=A-uC}const _=[];for(const T of t){const j=w.get(T);j&&_.push(j)}for(const T of e)T({expandedElement:s||t[t.length-1]||null,panes:_,resizing:c})}}function x6n(e){var g;const{children:t,minWidth:n,onCollapse:r,onExpand:i,...a}=e,o=f.useMemo(()=>b6n(),[]),[s,l]=f.useState(null),c=((g=_g(s))==null?void 0:g.width)||0,d=c===void 0||!n?void 0:c<n,[h,p]=f.useState({expandedElement:null,panes:[],resizing:!1});f.useEffect(()=>o.setRootElement(s),[o,s]),f.useEffect(()=>o.setRootWidth(c),[o,c]),f.useEffect(()=>o.subscribe(p),[o]),f.useEffect(()=>{d!==void 0&&(d&&r&&r(),!d&&i&&i())},[d,r,i]);const m=f.useMemo(()=>({collapse:o.collapse,collapsed:d,expand:o.expand,expandedElement:h.expandedElement,mount:o.mount,panes:h.panes,resize:o.resize,resizing:h.resizing}),[d,o,h.expandedElement,h.panes,h.resizing]);return u.jsx(She.Provider,{value:m,children:u.jsx(m6n,{"data-ui":"PaneLayout",...a,"data-collapsed":d?"":void 0,"data-resizing":h.resizing?"":void 0,"data-mounted":c?"":void 0,ref:l,children:t})})}function GY(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const I3e=j3t(GY);function D3e(e){const{fieldActions:t=[],menuItems:n,menuItemGroups:r}=e,i=[];let a=0;for(let l=0;l<t.length;l+=1){const c=t[l];i.push(M3e(c,`${l}-${c.type}`))}a+=i.length;const o=[];for(const l of r)o.find(c=>c.key===l.id)||o.push({type:"group",key:l.id,children:[],expanded:!0,renderAsButton:!1,title:l.title,i18n:l.i18n});const s=[];for(let l=0;l<n.length;l+=1){const c=n[l];let d=c.group&&o.find(h=>h.key===c.group);c.group&&!d&&(d={type:"group",key:c.group,expanded:!0,icon:c.icon,title:c.group,children:[],renderAsButton:!1},o.push(d)),d?d.children.push({type:"item",key:`${a+l}-item`,hotkey:c.shortcut,icon:c.icon,intent:c.intent,onAction:()=>e.actionHandler(c),renderAsButton:c.showAsAction??!1,selected:c.selected,title:c.title,i18n:c.i18n,tone:c.tone}):s.push({type:"item",key:`${a+l}-item`,hotkey:c.shortcut,icon:c.icon,intent:c.intent,onAction:()=>e.actionHandler(c),renderAsButton:c.showAsAction??!1,selected:c.selected,title:c.title,i18n:c.i18n,tone:c.tone})}return[...s,...o,...i]}function M3e(e,t){return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((n,r)=>M3e(n,`${t}-${r}-${n.type}`)),disabled:e.disabled,expanded:e.expanded??!0,icon:e.icon,title:e.title,i18n:e.i18n,renderAsButton:e.renderAsButton??!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:e.renderAsButton??!1,selected:e.selected,title:e.title,i18n:e.i18n,tone:e.tone}}const w6n=f.forwardRef(function(e,t){const{intent:n,...r}=e,i=f.useMemo(()=>f.forwardRef(function(a,o){return u.jsx(su,{...a,intent:n.type,params:n.params,ref:o,searchParams:n.searchParams})}),[n]);return e.disabled?u.jsx(he,{...r,as:"a",role:"link","aria-disabled":"true"}):u.jsx(he,{...r,as:i,"data-as":"a",ref:t})});function FF({reveal:e,context:t,loading:n,children:r}){const i=tr(),{t:a}=q(Lt);return e?u.jsx(bt,{content:n?a("insufficient-permissions-message-tooltip.loading-text"):u.jsx(Ql,{context:t,currentUser:i}),portal:!0,children:u.jsx("div",{children:r})}):u.jsx(u.Fragment,{children:r})}const C6n={constrainSize:!0,placement:"bottom",portal:!0},xfe=(e,t,n)=>{var a;const r=(a=t.find(o=>o.id===n.templateId))==null?void 0:a.schemaType;if(!r)return null;const i={template:n.templateId,type:r,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function S6n({templateItems:e}){var c;const t=tn(),n=Hb(),{t:r}=q(Lt),i=dR([...e,...n]),[a,o]=BG({templateItems:e}),s=f.useMemo(()=>!o&&(a==null?void 0:a.every(d=>!d.granted)),[o,a]),l=f.useMemo(()=>a?a.reduce((d,h)=>(d[h.id]=h,d),{}):{},[a]);if(s)return u.jsx(FF,{context:"create-document-type",reveal:!0,loading:o,children:u.jsx(he,{"aria-label":r("pane-header.disabled-created-button.aria-label"),icon:wa,"data-testid":"action-intent-button",disabled:!0,mode:"bleed",tooltipProps:null})});if(e.length===1){const d=e[0],h=!((c=l[d.id])!=null&&c.granted),p=xfe(t,n,d);return p?u.jsx(FF,{reveal:h,loading:o,context:"create-document-type",children:u.jsx(w6n,{"aria-label":i(d).title,icon:d.icon||wa,intent:p,mode:"bleed",disabled:h,"data-testid":"action-intent-button",tooltipProps:h?null:{content:r("pane-header.create-new-button.tooltip")}})}):null}return u.jsx(Gt,{button:u.jsx(he,{icon:wa,mode:"bleed","data-testid":"multi-action-intent-button",tooltipProps:{content:r("pane-header.create-new-button.tooltip")}}),id:"create-menu",menu:u.jsx(Ot,{children:e.map((d,h)=>{var b;const p=!((b=l[d.id])!=null&&b.granted),m=xfe(t,n,d),g=n.find(x=>x.id===d.templateId);if(!g||!m)return null;const y=f.forwardRef((x,w)=>p?u.jsx("button",{type:"button",disabled:!0,...x,ref:w}):u.jsx(su,{...x,intent:m.type,params:m.params,ref:w}));y.displayName="Link";const{title:v}=i({...d,title:d.title||i(g).title});return u.jsx(FF,{context:"create-document-type",reveal:p,loading:o,children:u.jsx(He,{as:y,"data-as":p?"button":"a",text:v,"aria-label":p?r("pane-header.disabled-created-button.aria-label"):v,disabled:p,"data-testid":`action-intent-button-${h}`})},d.id)})}),popover:C6n})}function E6n(e){return e!=null}const k6n=e=>{const t=n=>typeof n!="object"||!n?n:Array.isArray(n)?n.map(t):Object.entries(n).sort(([r],[i])=>r.localeCompare(i,"en"));return JSON.stringify(t((n=>JSON.parse(JSON.stringify(n)))(e)))},R3e=f.memo(function(e){const{initialValueTemplateItems:t=rn,menuItems:n=rn,menuItemGroups:r=rn,actionHandlers:i=atn}=e,a=Hb(),o=f.useCallback(p=>{if(typeof p.action=="string"&&!(p.action in i))return console.warn("No handler for action:",p.action),!1;const m=typeof p.action=="function"?p.action:typeof p.action=="string"?i[p.action]:null;return m?(m(p.params),!0):!1},[i]),s=f.useMemo(()=>D3e({actionHandler:o,menuItemGroups:r,menuItems:n.filter(p=>{var m;return((m=p.intent)==null?void 0:m.type)!=="create"})}),[o,r,n]),l=f.useMemo(()=>s.filter(GY),[s]),c=f.useMemo(()=>s.filter(I3e),[s]),d=f.useMemo(()=>n.map((p,m)=>{var C;if(((C=p.intent)==null?void 0:C.type)!=="create")return null;const{params:g}=p.intent;if(!g)return null;const y=Array.isArray(g)?g[0]:g,v=Array.isArray(g)?g[1]:void 0,b=y.template||y.type;if(!b)return null;const x=a.find(S=>S.id===b);if(!x)return null;const w=y.id;return{item:p,template:x,templateParams:v,menuItemIndex:m,initialDocumentId:w}}).filter(E6n).map(({initialDocumentId:p,item:m,template:g,menuItemIndex:y,templateParams:v})=>({id:`menuItem${y}`,initialDocumentId:p,templateId:g.id,type:"initialValueTemplateItem",title:m.title||g.title,i18n:m.i18n||g.i18n,icon:m.icon,description:g.description,parameters:v,schemaType:g.schemaType})),[n,a]),h=f.useMemo(()=>mp([...d,...t],p=>k6n([p.initialDocumentId,p.templateId,p.parameters])),[d,t]);return u.jsxs(z,{gap:1,children:[h.length>0&&u.jsx(S6n,{templateItems:h}),l.map(p=>u.jsx(j3e,{node:p},p.key)),c.length>0&&u.jsx(T3e,{nodes:c})]})});function _6n(e){const{t}=q(Lt),{layout:n,value:r}=e;return u.jsx(ro,{title:u.jsx("em",{children:u.jsx(gt,{t,i18nKey:"pane-item.missing-schema-type.title",components:{Code:"code"},values:{documentType:r._type}})}),subtitle:u.jsx(gt,{t,i18nKey:"pane-item.missing-schema-type.subtitle",components:{Code:"code"},values:{documentId:r._id}}),media:()=>u.jsx(gr,{}),layout:n})}function wfe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function O3e(e){const{icon:t,id:n,layout:r="default",pressed:i,schemaType:a,selected:o,title:s,value:l,margin:c,marginBottom:d,marginTop:h}=e,p=tn(),m=da(),{ChildLink:g}=ud(),y=Rb(n),v=!!(a&&a.name&&p.get(a.name)),[b,x]=f.useState(!1),w=f.useMemo(()=>l&&oFe(l)?!a||!v?u.jsx(_6n,{value:l}):u.jsx(w3e,{documentPreviewStore:m,icon:wfe(t,a,Pu),layout:r,schemaType:a,value:l,presence:y}):u.jsx(ro,{status:u.jsx(L,{style:{opacity:.5},children:u.jsx(N,{muted:!0,size:1,children:u.jsx(io,{})})}),icon:wfe(t,a,v9),layout:"compact",title:s}),[m,v,t,r,a,s,l,y]),C=f.useMemo(()=>function(E){return u.jsx(g,{...E,childId:n})},[g,n]),S=f.useCallback(E=>{if(E.metaKey){x(!1);return}x(!0)},[]);return f.useEffect(()=>x(!1),[o]),u.jsx(cg,{"data-testid":`pane-item-${s}`,__unstable_focusRing:!0,as:C,"data-as":"a",margin:c,marginBottom:d,marginTop:h,onClick:S,pressed:i,radius:2,selected:o||b,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const Dk=f.memo(e=>{const{actions:t,children:n,actionProps:r,onActionComplete:i,group:a}=e;return u.jsx(B$e,{onReset:i,hooks:t,args:r,group:a,children:n})});Dk.displayName="Memo(RenderActionCollectionState)";const $3e=f.memo(e=>{const{badges:t,children:n,badgeProps:r}=e;return u.jsx(B$e,{hooks:t,args:r,children:n})});$3e.displayName="Memo(RenderBadgeCollectionState)";function P3e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:i,paneKey:a,title:o="Error",tone:s="critical"}=e;return u.jsxs(jk,{currentMinWidth:n,flex:r,id:a,minWidth:i,tone:s,children:[u.jsx(cO,{title:o}),u.jsx(Ik,{overflow:"auto",children:u.jsx(L,{paddingX:4,paddingY:5,children:t})})]})}function T6n(e){const t=[{ms:300,messageKey:"panes.resolving.default-message"},{ms:5e3,messageKey:"panes.resolving.slow-resolve-message"}],n=we(null);return Bn(...t.map(r=>n.pipe(BD("messageKey"in r?{messageKey:r.messageKey}:{message:r.message}),tCe(r.ms))))}const A6n="panes.resolving.default-message",j6n=$(z)`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`,YY=f.memo(e=>{const{delay:t=300,flex:n,message:r=T6n,minWidth:i,paneKey:a,path:o,selected:s,title:l,tone:c}=e,{t:d}=q(Lt),h=f.useMemo(()=>typeof r=="function"?r(o?o.split(";"):[]):r,[r,o]),[p,m]=f.useState(()=>typeof h=="string"?h:d(A6n));f.useEffect(()=>{if(typeof h!="object"||typeof h.subscribe!="function")return;const x=h.subscribe(w=>{m("messageKey"in w?d(w.messageKey):w.message)});return()=>x.unsubscribe()},[h,d]);const[g,y]=f.useState(null),[v,b]=f.useState(!1);return f.useEffect(()=>{if(g)return VZe(()=>b(!0))},[g]),u.jsx(jk,{flex:n,id:a,minWidth:i,selected:s,tone:c,children:u.jsx(Ik,{children:u.jsx(j6n,{align:"center","data-mounted":v?"":void 0,direction:"column",height:"fill",justify:"center",ref:y,children:u.jsx(bn,{showText:!0,title:l||p})})})})});YY.displayName="Memo(LoadingPane)";function Ar(){const e=f.useContext(dhe);if(!e)throw new Error("DocumentPane: missing context value");return e}function I6n(e){const{children:t,documentId:n,documentType:r}=e;return u.jsx(VRe,{documentId:n,documentType:r,children:u.jsx(D6n,{documentId:n,documentType:r,children:t})})}function D6n(e){const{children:t,documentId:n,documentType:r}=e,{enabled:i}=Zp(),{connectionState:a,onPathOpen:o,inspector:s,openInspector:l}=Ar(),{params:c,setParams:d,createPathWithParams:h}=ud(),p=c==null?void 0:c.comment,m=f.useRef(c);f.useLayoutEffect(()=>{m.current=c},[c]);const g=f.useCallback(b=>{const x=h({...m.current,comment:b,inspect:ww});return`${window.location.origin}${x}`},[h]),y=f.useCallback(()=>{d({...m.current,comment:void 0})},[d]),v=f.useCallback(()=>{(s==null?void 0:s.name)!==ww&&l(ww)},[s==null?void 0:s.name,l]);return i?u.jsx(BRe,{documentId:n,documentType:r,getCommentLink:g,isCommentsOpen:(s==null?void 0:s.name)===ww,isConnecting:a==="connecting",onClearSelectedComment:y,onCommentsOpen:v,onPathOpen:o,selectedCommentId:p,sortOrder:"desc",type:"field",children:t}):u.jsx(u.Fragment,{children:t})}const F3e=!1,M6n={},R6n=Symbol("LOADING_PANE"),N3e="documentPanelPortalElement";function Jp(){const e=f.useContext(Fhe);if(!e)throw new Error("StructureTool: missing context value");return e}const O6n=320,$6n=600,E7=320,P6n=540,F6n={},k7="inspect:",N6n=[{id:"inspectors"},{id:"links"}],_7="sanity/structure/history",L6n="sanity/structure/validation";function B6n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:i}=e,a=r.length,o=f.useRef(a),[s,l]=f.useState(()=>Array.from(new Array(a))),c=f.useRef(s);f.useEffect(()=>{if(o.current!==a){const p=Array.from(new Array(a));for(let m=0;m<a;m++)p[m]=c.current[m];o.current=a,l(()=>(c.current=p,p))}},[a]);const d=f.useCallback((p,m)=>{l(g=>{const y=[...g];return y[p]=m,c.current=y,y})},[]);f.useEffect(()=>{i(s.filter(Boolean))},[s,i]);const h=f.useMemo(()=>r.map((p,m)=>p.useMenuItem?[V6n({documentId:t,documentType:n,index:m,setMenuItem:d,useMenuItem:p.useMenuItem}),p.name]:[()=>null,""]),[t,n,r,d]);return u.jsx(u.Fragment,{children:h.map(([p,m])=>m&&u.jsx(p,{},m))})}function V6n({documentId:e,documentType:t,index:n,setMenuItem:r,useMenuItem:i}){return f.memo(function(){const a=i({documentId:e,documentType:t}),o=Wa(a);return f.useEffect(()=>{r(n,o)},[o]),null})}function qY(){const{connectionState:e,schemaType:t,title:n,value:r}=Ar(),i=!!r&&e!=="connecting",{error:a,value:o}=mk({enabled:i,schemaType:t,value:r});return e==="connecting"?{error:void 0,title:void 0}:n?{error:void 0,title:n}:r?a?{error:`Error: ${a.message}`,title:void 0}:{error:void 0,title:o==null?void 0:o.title}:{error:void 0,title:`New ${(t==null?void 0:t.title)||(t==null?void 0:t.name)}`}}const z6n=["patch","commit"],U6n=f.memo(function(){const{push:e}=_r(),{documentId:t,documentType:n}=Ar(),{title:r}=qY(),i=D$e(t,n),a=f.useRef(i),o=ud(),{t:s}=q(Lt),l=r||s("panes.document-operation-results.operation-undefined-title"),c=l.length>25?`${l.slice(0,25)}...`:l;return f.useEffect(()=>{if(!i||i===a.current)return;let d;return i.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:s("panes.document-operation-results.operation-error",{context:i.op}),description:u.jsxs("details",{children:[u.jsx("summary",{children:s("panes.document-operation-results.error.summary.title")}),i.error.message]})}),i.type==="success"&&!z6n.includes(i.op)&&e({closable:!0,status:"success",title:u.jsx(gt,{context:i.op,i18nKey:"panes.document-operation-results.operation-success",t:s,values:{op:i.op,title:c},components:{Strong:"strong"}})}),i.type==="success"&&i.op==="delete"&&(d=setTimeout(()=>o.closeCurrentAndAfter(),0)),a.current=i,()=>clearTimeout(d)},[i,o,e,s,c]),null}),H6n=$(ie)({position:"relative",zIndex:1,lineHeight:0});function KY(e){const{as:t,children:n,closeButtonLabel:r,onClose:i,title:a,...o}=e,{t:s}=q(Lt);return u.jsxs(H6n,{...o,as:t,children:[u.jsxs(z,{padding:2,children:[u.jsx(L,{flex:1,padding:3,children:u.jsx(N,{as:"h1",size:1,weight:"medium",children:a})}),u.jsx(L,{flex:"none",padding:1,children:u.jsx(he,{"aria-label":r,icon:Nr,mode:"bleed",onClick:i,tooltipProps:{content:s("document-inspector.close-button.tooltip")}})})]}),n]})}const W6n=$.div`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function G6n(e){const{onResize:t,onResizeStart:n}=e,r=f.useRef(0),i=f.useCallback(a=>{a.preventDefault(),r.current=a.pageX,n();const o=l=>{l.preventDefault(),t(l.pageX-r.current)},s=()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",s)},[t,n]);return u.jsxs(W6n,{onMouseDown:i,children:[u.jsx("span",{}),u.jsx("span",{})]})}const Y6n=$(L)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function q6n(e){const{as:t,children:n,minWidth:r,maxWidth:i,...a}=e,[o,s]=f.useState(null),l=f.useRef(),[c,d]=f.useState(),h=f.useCallback(()=>{l.current=o==null?void 0:o.offsetWidth},[o]),p=f.useCallback(g=>{const y=l.current;y&&d(Math.min(Math.max(y-g,r),i))},[r,i]),m=f.useMemo(()=>c?{flex:"none",width:c}:{minWidth:r,maxWidth:i},[r,i,c]);return u.jsxs(Y6n,{as:t,...a,ref:s,style:m,children:[n,u.jsx(G6n,{onResize:p,onResizeStart:h})]})}function K6n(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:i}=Yf(),{closeInspector:a,inspector:o}=Ar(),{features:s}=Jp(),l=f.useCallback(()=>{o&&a(o.name)},[a,o]);if(i||!o)return null;const c=f.createElement(o.component,{onClose:l,documentId:t,documentType:n});return s.resizablePanes?u.jsx(q6n,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:P6n,minWidth:E7,children:c}):u.jsx(L,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:c})}const Z6n="studio.structure-tool";function T7(e,t,n){const r=OMe(),[i,a]=f.useState(n),o=[Z6n,e,t].filter(Boolean).join("."),s=f.useMemo(()=>r.getKey(o),[r,o]);f.useEffect(()=>{const c=s.pipe(Wi(n),fe(d=>d===null?n:d)).subscribe({next:a});return()=>c==null?void 0:c.unsubscribe()},[n,o,s]);const l=f.useCallback(c=>{c!==i&&(a(c),r.setKey(o,c))},[r,o,i]);return f.useMemo(()=>[i,l],[l,i])}const b1={id:"parsed",title:"document-inspector.view-mode.parsed"},x1={id:"raw",title:"document-inspector.view-mode.raw-json"},X6n=[b1,x1],Qj=new sLn({maxSize:1e3});function L3e(e,t){const n=Qj.get(e);return n===void 0?(Qj.set(e,Array.isArray(t)||wt(t)),L3e(e,t)):n}function J6n(e){const{path:t}=e,n=Qj.get(t);n!==void 0&&Qj.set(t,!n)}function B3e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Cfe(e){B3e(e.currentTarget)}function Q6n(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),B3e(e.currentTarget))}function e7n(e){return wt(e)&&lg(e._id)&&lg(e._type)}const t7n=$.div(({theme:e})=>{const{color:t,fonts:n,space:r}=e.sanity;return de`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${n.code.family};
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${Ce(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${Ce(r[3])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: ' ';
      margin-left: calc(0 - ${Ce(r[4])} + 3px);
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: ' ';
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${Ce(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${t.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${t.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${Ce(r[3])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${t.syntax.string};
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${t.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${t.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `});function n7n(e){const{onChange:t,query:n}=e,r=f.useCallback(a=>t(a.target.value),[t]),{t:i}=q(Lt);return u.jsx(Lr,{icon:Ca,onChange:r,placeholder:i("document-inspector.search.placeholder"),radius:2,value:n||""})}function r7n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Ar(),i=`${r}_inspect_`,[a,o]=T7("inspect-view-mode",null,"parsed"),s=X6n.find(h=>h.id===a),l=f.useCallback(()=>{o(b1.id)},[o]),c=f.useCallback(()=>{o(x1.id)},[o]),{t:d}=q(Lt);return u.jsx(Ri,{bodyHeight:"fill",id:`${i}dialog`,header:e7n(t)?u.jsx(gt,{t:d,i18nKey:"document-inspector.dialog.title",components:{DocumentTitle:()=>u.jsx("em",{children:u.jsx(b3e,{document:t})})}}):u.jsx("em",{children:d("document-inspector.dialog.title-no-value")}),onClose:n,onClickOutside:n,padding:!1,width:2,children:u.jsxs(z,{direction:"column",height:"fill",children:[u.jsx(ie,{padding:3,paddingTop:0,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:u.jsxs(Yv,{space:1,children:[u.jsx(BC,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${b1.id}`,label:d(b1.title),onClick:l,selected:s===b1}),u.jsx(BC,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${x1.id}`,label:d(x1.title),onClick:c,selected:s===x1})]})}),u.jsxs(Fbe,{"aria-labelledby":`${i}tab-${a}`,flex:1,id:`${i}tabpanel`,overflow:"auto",padding:4,style:{outline:"none"},children:[s===b1&&u.jsx(t7n,{children:u.jsx(iLn,{data:t,isExpanded:L3e,onClick:J6n,search:n7n,filterOptions:{ignoreCase:!0}})}),s===x1&&u.jsx(mi,{language:"json",tabIndex:0,onKeyDown:Q6n,onDoubleClick:Cfe,onFocus:Cfe,size:1,children:JSON.stringify(t,null,2)})]})]})})}function A7({size:e}){return u.jsx(he,{"aria-hidden":!0,disabled:!0,size:e,style:{pointerEvents:"none",visibility:"hidden",width:0},text:"-"})}function dO(e){const{action:t,content:n,icon:r,tone:i="transparent",...a}=e;return u.jsx(ie,{borderBottom:!0,paddingX:4,paddingY:2,tone:i,...a,children:u.jsxs(z,{align:"center",gap:3,children:[r&&u.jsx(N,{size:0,children:u.jsx(r,{})}),u.jsx(z,{align:"center",flex:1,gap:2,paddingY:3,children:n}),u.jsx(A7,{}),t&&u.jsx(he,{as:t==null?void 0:t.as,mode:"ghost",onClick:t==null?void 0:t.onClick,text:t.text,tone:t.tone||"default"})]})})}function i7n({revisionId:e}){const{documentId:t,documentType:n}=Ar(),{restore:r}=fu(t,n),{navigateIntent:i}=ts(),a=f.useCallback(()=>{e&&(r.execute(e),i("edit",{id:t,type:n}))},[t,n,i,r,e]),{t:o}=q(Lt);return u.jsx(dO,{action:e?{onClick:a,text:o("banners.deleted-document-banner.restore-button.text")}:void 0,content:u.jsx(N,{size:1,weight:"medium",children:o("banners.deleted-document-banner.text")}),"data-testid":"deleted-document-banner",icon:Rv})}function a7n(){const{schemaType:e}=Ar(),{t}=q(Lt);return Gfe(e)?u.jsx(dO,{content:u.jsxs(N,{size:1,weight:"medium",children:[u.jsx(gt,{t,i18nKey:"banners.deprecated-document-type-banner.text"})," ",e.deprecated.reason]}),"data-testid":"deprecated-document-type-banner",icon:Ta}):null}function o7n({granted:e,requiredPermission:t}){const n=tr(),r=j0({style:"short"}),{t:i}=q(Lt);if(e)return null;const a=((n==null?void 0:n.roles)||[]).map(s=>s.title),o=r.formatToParts(a).map(s=>s.type==="element"?u.jsx("code",{children:s.value},s.value):s.value);return u.jsx(dO,{content:u.jsx(N,{size:1,weight:"medium",children:u.jsx(gt,{t:i,i18nKey:"banners.permission-check-banner.missing-permission",components:{Roles:()=>u.jsx(u.Fragment,{children:o})},values:{count:o.length,roles:a},context:t})}),"data-testid":"permission-check-banner",icon:Rv})}const V3e=f.memo(()=>{var y,v,b,x,w,C,S,E;const e=da(),{params:t,groupIndex:n,routerPanesState:r,replaceCurrent:i,BackLink:a}=ud(),o=(y=r[n])==null?void 0:y[0].id,s=(v=r[n-1])==null?void 0:v[0],l=s==null?void 0:s.id,c=!!((b=s==null?void 0:s.params)!=null&&b.rev),d=f.useMemo(()=>(t==null?void 0:t.parentRefPath)&&Zs(t.parentRefPath)||null,[t==null?void 0:t.parentRefPath]),{t:h}=q(Lt),p=f.useMemo(()=>{const k=d==null?void 0:d[0];if(!l||!k||!d)return we({loading:!1});const _=pn(l),T=Zs(k),j=T.findIndex(A=>typeof A=="object"&&"_key"in A);return ji(we({loading:!0}),e.unstable_observePathsDocumentPair(_,j===-1?T:T.slice(0,j)).pipe(Cz(750),fe(({draft:A,published:I})=>{var M;return{loading:!1,result:{availability:{draft:A.availability,published:I.availability},refValue:(M=_v(A.snapshot||I.snapshot,d))==null?void 0:M._ref}}})))},[e,l,d]),m=ti(p,{loading:!0}),g=f.useCallback(()=>{var k;m.loading||(k=m.result)!=null&&k.refValue&&i({id:m.result.refValue,params:t})},[m.loading,m.result,i,t]);return!l||!d||c||m.loading||!((x=m.result)!=null&&x.availability.draft.available)&&!((w=m.result)!=null&&w.availability.published.available)||((C=m.result)==null?void 0:C.refValue)===o?null:u.jsx(dO,{action:(S=m.result)!=null&&S.refValue?{onClick:g,icon:n0,text:h("banners.reference-changed-banner.reason-changed.reload-button.text")}:{as:a,icon:Nr,text:h("banners.reference-changed-banner.reason-removed.close-button.text")},"data-testid":"reference-changed-banner",content:u.jsx(N,{size:1,weight:"medium",children:(E=m.result)!=null&&E.refValue?h("banners.reference-changed-banner.reason-changed.text"):h("banners.reference-changed-banner.reason-removed.text")}),icon:gr,tone:"caution"})});V3e.displayName="Memo(ReferenceChangedBanner)";const s7n=$(ne)`
  ${({theme:e})=>de`
      @supports not (container-type: inline-size) {
        display: none !important;
      }

      container-type: inline-size;

      [data-heading] {
        font-size: ${e.sanity.fonts.heading.sizes[4].fontSize}px;
        line-height: ${e.sanity.fonts.heading.sizes[4].lineHeight}px;
        overflow-wrap: break-word;
        text-wrap: pretty;
      }

      @container (max-width: 560px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[3].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[3].lineHeight}px;
        }
      }

      @container (max-width: 420px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[2].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[2].lineHeight}px;
        }
      }
    `}
`,l7n=({documentId:e,schemaType:t,title:n})=>{const r=e===t.name,{t:i}=qv(Lt);return t.__experimental_formPreviewTitle===!1?null:u.jsxs(s7n,{marginBottom:6,space:4,children:[!r&&u.jsx(N,{muted:!0,size:1,children:t.title??t.name}),u.jsx(Gi,{as:"h2","data-heading":!0,muted:!n,"data-testid":"document-panel-document-title",children:n??i("document-view.form-view.form-title-fallback")})]})},u7n=1e3*60*60*24*24;function c7n(e){const t=_r();f.useEffect(()=>(e.enabled&&t.push({...e,duration:u7n}),()=>{e.enabled&&t.push({...e,duration:.01})}),[e,t])}const d7n=e=>e.preventDefault(),f7n=f.forwardRef(function(e,t){var U;const{hidden:n,margins:r}=e,{collapsedFieldSets:i,collapsedPaths:a,displayed:o,editState:s,documentId:l,documentType:c,fieldActions:d,onChange:h,validation:p,ready:m,formState:g,onFocus:y,connectionState:v,onBlur:b,onSetCollapsedPath:x,onPathOpen:w,onSetCollapsedFieldSet:C,onSetActiveFieldGroup:S,openPath:E}=Ar(),k=dl(),_=Rb(l),{title:T}=qY(),j=f.useMemo(()=>Vje(),[]),A=(U=s==null?void 0:s.transactionSyncLock)==null?void 0:U.enabled,{t:I}=q(Lt),M=f.useMemo(()=>({id:"sync-lock",status:"warning",enabled:A,title:I("document-view.form-view.sync-lock-toast.title"),description:I("document-view.form-view.sync-lock-toast.description"),closable:!0}),[A,I]);c7n(M),f.useEffect(()=>{const H=k.pair.documentEvents(l,c).pipe(Qn(W=>{W.type==="mutation"&&j.publish(h7n(W)),W.type==="rebase"&&j.publish(p7n(W))})).subscribe();return()=>{H.unsubscribe()}},[l,k,c,j]);const D=!!(o!=null&&o._rev);f.useEffect(()=>{D&&j.publish({type:"mutation",patches:[],snapshot:o})},[D]);const[O,R]=f.useState(null),[F,P]=f.useState(!1);f.useEffect(()=>{!F&&m&&!(g!=null&&g.focusPath.length)&&O&&(P(!0),Tg(O))},[F,O,g==null?void 0:g.focusPath.length,m]);const V=f.useCallback(H=>{R(H),typeof t=="function"?t(H):t&&(t.current=H)},[t]);return u.jsx(ui,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:u.jsx(Tb,{margins:r,children:u.jsx(L,{as:"form",onSubmit:d7n,ref:V,children:v==="connecting"?u.jsx(k3e,{ms:300,children:u.jsxs(z,{align:"center",direction:"column",height:"fill",justify:"center",children:[u.jsx(Op,{muted:!0}),u.jsx(L,{marginTop:3,children:u.jsx(N,{align:"center",muted:!0,size:1,children:I("document-view.form-view.loading")})})]})}):g===null||n?u.jsx(L,{padding:2,children:u.jsx(N,{children:I("document-view.form-view.form-hidden")})}):u.jsxs(u.Fragment,{children:[u.jsx(l7n,{documentId:l,schemaType:g.schemaType,title:T}),u.jsx(GDe,{__internal_fieldActions:d,__internal_patchChannel:j,changed:g.changed,collapsedFieldSets:i,collapsedPaths:a,focused:g.focused,focusPath:g.focusPath,groups:g.groups,id:"root",members:g.members,onChange:h,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:x,openPath:E,presence:_,readOnly:v==="reconnecting"||g.readOnly,schemaType:g.schemaType,validation:p,value:g.value})]})})})})});function h7n(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:W6(e.origin,t)}}function p7n(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:W6("remote",t).concat(W6("local",n))}}const m7n=$(L)({position:"relative"}),g7n=$(cR)(({$disabled:e})=>e?{height:"100%"}:de`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `),y7n=function(e){const{footerHeight:t,headerHeight:n,isInspectOpen:r,rootElement:i,setDocumentPanelPortalElement:a}=e,{activeViewId:o,displayed:s,documentId:l,documentType:c,editState:d,inspector:h,value:p,views:m,ready:g,schemaType:y,permissions:v,isPermissionsLoading:b,isDeleting:x,isDeleted:w,timelineStore:C,onChange:S}=Ar(),{collapsed:E}=N0(),{collapsed:k}=Yf(),_=Ff(),{features:T}=Jp(),j=f.useRef(null),[A,I]=f.useState(null),M=f.useRef(null),D=p._createdAt?"update":"create",O=f.useMemo(()=>m.find(Z=>Z.id===o)||m[0]||{type:"form"},[o,m]),R=T.splitPanes&&j.current||_.element,F=f.useMemo(()=>E?[n||0,0,t?t+2:2,0]:[0,0,2,0],[E,t,n]),P=O.type!=="form",V=f.useMemo(()=>O.type==="component"&&O.component&&f.createElement(O.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:s||p,historical:s,published:(d==null?void 0:d.published)||null},documentId:l,options:O.options,schemaType:y}),[O,s,l,d==null?void 0:d.draft,d==null?void 0:d.published,y,p]),U=ya(C,Z=>Z.lastNonDeletedRevId);f.useEffect(()=>{A!=null&&A.scrollTo&&A.scrollTo(0,0)},[l,A]),f.useEffect(()=>{R&&a(R)},[R,a]);const H=f.useMemo(()=>r?u.jsx(r7n,{value:s||p}):null,[r,s,p]),W=!!(!k&&h);return u.jsx(Ik,{children:u.jsxs(z,{height:"fill",children:[(T.resizablePanes||!W)&&u.jsx(m7n,{flex:2,overflow:"hidden",children:u.jsx(Gv,{element:R,__unstable_elements:{documentScrollElement:A},children:u.jsx(hf,{element:A,children:u.jsxs(gv,{scrollElement:A,containerElement:M,children:[O.type==="form"&&!b&&g&&u.jsxs(u.Fragment,{children:[u.jsx(o7n,{granted:!!(v!=null&&v.granted),requiredPermission:D}),!x&&w&&u.jsx(i7n,{revisionId:U}),u.jsx(V3e,{}),u.jsx(a7n,{})]}),u.jsxs(g7n,{$disabled:E||!1,"data-testid":"document-panel-scroller",ref:I,children:[u.jsx(f7n,{hidden:P,margins:F,ref:M},l+(g?"_ready":"_pending")),V]}),H,u.jsx("div",{"data-testid":"document-panel-portal",ref:j})]})})})}),W&&u.jsx(hf,{element:i,children:u.jsx(K6n,{documentId:l,documentType:y.name,flex:1})})]})})},z3e=["left","bottom"],v7n={small:0,medium:1,large:2,full:"auto"};function b7n(e){const{dialog:t,referenceElement:n}=e;return u.jsx(Fp,{content:u.jsx(x7n,{dialog:t}),fallbackPlacements:z3e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function x7n(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:i,confirmButtonText:a,message:o,onCancel:s,onConfirm:l,tone:c}=t,{t:d}=q(Lt),{isTopLayer:h}=Ts(),p=f.useRef(null),m=f.useCallback(g=>{g.key==="Escape"&&h&&s()},[h,s]);return Yo(m),xn(h&&s,()=>[p.current]),u.jsxs(z,{direction:"column",ref:p,style:{minWidth:304,maxWidth:400},children:[u.jsx(L,{flex:1,overflow:"auto",padding:4,children:u.jsx(N,{children:o})}),u.jsx(L,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:u.jsxs(Gn,{columns:2,gap:2,children:[u.jsx($t,{"data-testid":"confirm-dialog-cancel-button",icon:n,onClick:s,mode:"ghost",text:r||d("confirm-dialog.cancel-button.fallback-text")}),u.jsx($t,{"data-testid":"confirm-dialog-confirm-button",icon:i,onClick:l,text:a||d("confirm-dialog.confirm-button.fallback-text"),tone:c})]})})]})}function w7n(e){const{dialog:t}=e,n=f.useId(),r=t.footer&&u.jsx(L,{paddingX:4,paddingY:3,children:t.footer});return u.jsx(Ef,{zOffset:"fullscreen",children:u.jsx(wD,{animate:!0,__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:v7n[t.width],children:u.jsx(L,{padding:4,children:t.content})})})}function C7n(e){const{dialog:t,referenceElement:n}=e;return u.jsx(Fp,{content:u.jsx(S7n,{dialog:t}),fallbackPlacements:z3e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function S7n(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:i}=Ts(),a=f.useRef(null),o=f.useCallback(s=>{s.key==="Escape"&&i&&r()},[i,r]);return Yo(o),xn(i&&r,()=>[a.current]),u.jsx("div",{ref:a,children:n})}function Sfe(e){const{children:t}=e,{element:n,elements:r}=Ff(),i=(r==null?void 0:r[N3e])||n;return u.jsx(Gv,{element:i,children:t})}function ZY(e){const{dialog:t,referenceElement:n=null}=e,r=f.useId();if(t.type==="confirm")return u.jsx(b7n,{dialog:t,referenceElement:n});if(t.type==="popover")return u.jsx(C7n,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return u.jsx(Sfe,{children:u.jsx(w7n,{dialog:t})});if(t.type==="custom")return u.jsx(Sfe,{children:t==null?void 0:t.component});const i=t;return console.warn(`Unsupported modal type ${i.type}`),u.jsx(Ri,{id:r,onClose:i.onClose,onClickOutside:i.onClose,width:1,children:i.content||u.jsxs(N,{size:1,children:["Unexpected modal type (",u.jsx("code",{children:i.type}),")"]})})}const U3e=f.memo(function({actionStates:e,children:t,referenceElement:n}){const[r,i]=f.useState(-1),a=f.useMemo(()=>e[r],[r,e]),o=f.useCallback(l=>{i(l)},[]),s=f.useMemo(()=>t({handleAction:o}),[t,o]);return u.jsxs(u.Fragment,{children:[a&&a.dialog&&u.jsx(Ef,{zOffset:"paneFooter",children:u.jsx(ZY,{dialog:a.dialog,referenceElement:n})}),s]})});function E7n(e){const{actionStates:t,disabled:n}=e,r=f.useId(),[i,a]=f.useState(null),o=f.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),{t:s}=q(Lt),l=f.useCallback(({handleAction:c})=>u.jsx(Gt,{id:`${r}-action-menu`,button:u.jsx(Si,{"aria-label":s("buttons.action-menu-button.aria-label"),disabled:n,"data-testid":"action-menu-button",size:"large",tooltipProps:{content:s("buttons.action-menu-button.tooltip")}}),menu:u.jsx(Ot,{padding:1,children:t.map((d,h)=>u.jsx(H3e,{actionState:d,disabled:n,index:h,onAction:c},h))}),popover:o,ref:a}),[t,n,r,o,s]);return u.jsx(U3e,{actionStates:t,referenceElement:i,children:l})}function H3e(e){const{actionState:t,disabled:n,index:r,onAction:i}=e,{onHandle:a}=t,o=f.useCallback(()=>{i(r),a&&a()},[r,i,a]),s=f.useMemo(()=>t.shortcut?String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1)):void 0,[t.shortcut]);return u.jsx(He,{"data-testid":`action-${t.label.replace(" ","")}`,disabled:n||!!t.disabled,hotkeys:s,icon:t.icon,onClick:o,text:t.label,tone:t.tone,...t.disabled&&{tooltipProps:{content:t.title}}})}const k7n={NOTHING_TO_DELETE:"action.delete.disabled.nothing-to-delete",NOT_READY:"action.delete.disabled.not-ready"},XY=({id:e,type:t,draft:n,onComplete:r})=>{const{setIsDeleting:i}=Ar(),{delete:a}=fu(e,t),[o,s]=f.useState(!1),[l,c]=f.useState(!1),{t:d}=q(Lt),h=f.useCallback(()=>{c(!1),r()},[r]),p=f.useCallback(()=>{s(!0),c(!1),i(!0),a.execute(),r()},[a,r,i]),m=f.useCallback(()=>{c(!0)},[]),[g,y]=ld({id:e,type:t,permission:"delete"}),v=tr();return f.useMemo(()=>!y&&!(g!=null&&g.granted)?{tone:"critical",icon:Jr,disabled:!0,label:d("action.delete.label"),title:u.jsx(Ql,{context:"delete-document",currentUser:v})}:{tone:"critical",icon:Jr,disabled:o||!!a.disabled||y,title:a.disabled&&d(k7n[a.disabled])||"",label:d(o?"action.delete.running.label":"action.delete.label"),shortcut:"Ctrl+Alt+D",onHandle:m,dialog:l&&{type:"custom",component:u.jsx(WY,{action:"delete",id:(n==null?void 0:n._id)||e,type:t,onCancel:h,onConfirm:p})}},[v,a.disabled,n==null?void 0:n._id,m,h,p,e,l,o,y,g==null?void 0:g.granted,d,t])};XY.action="delete";XY.displayName="DeleteAction";const _7n={NO_CHANGES:"action.discard-changes.disabled.no-change",NOT_PUBLISHED:"action.discard-changes.disabled.not-published",NOT_READY:"action.discard-changes.disabled.not-ready"},JY=({id:e,type:t,published:n,liveEdit:r,onComplete:i})=>{const{discardChanges:a}=fu(e,t),[o,s]=f.useState(!1),[l,c]=ld({id:e,type:t,permission:"discardDraft"}),d=tr(),{t:h}=q(Lt),p=f.useCallback(()=>{a.execute(),i()},[a,i]),m=f.useCallback(()=>{s(!0)},[]),g=f.useMemo(()=>o&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:h("action.discard-changes.confirm-dialog.confirm-discard-changes")},[p,o,i,h]);return f.useMemo(()=>!n||r?null:!c&&!(l!=null&&l.granted)?{tone:"critical",icon:Bc,disabled:!0,label:h("action.discard-changes.label"),title:u.jsx(Ql,{context:"discard-changes",currentUser:d})}:{tone:"critical",icon:Bc,disabled:!!a.disabled||c,title:a.disabled&&_7n[a.disabled]||"",label:h("action.discard-changes.label"),onHandle:m,dialog:g},[d,g,a.disabled,m,c,r,l==null?void 0:l.granted,n,h])};JY.action="discardChanges";JY.displayName="DiscardChangesAction";const T7n={NOTHING_TO_DUPLICATE:"action.duplicate.disabled.nothing-to-duplicate",NOT_READY:"action.duplicate.disabled.not-ready"},QY=({id:e,type:t,onComplete:n})=>{const r=dl(),{duplicate:i}=fu(e,t),{navigateIntent:a}=ts(),[o,s]=f.useState(!1),[l,c]=ld({id:e,type:t,permission:"duplicate"}),{t:d}=q(Lt),h=tr(),p=f.useCallback(async()=>{const m=Ka();s(!0);const g=ndt(r.pair.operationEvents(e,t).pipe(Nt(y=>y.op==="duplicate"&&y.type==="success")));i.execute(m),await g,a("edit",{id:m,type:t}),n()},[r.pair,i,e,a,n,t]);return f.useMemo(()=>!c&&!(l!=null&&l.granted)?{icon:Gl,disabled:!0,label:d("action.duplicate.label"),title:u.jsx(Ql,{context:"duplicate-document",currentUser:h})}:{icon:Gl,disabled:o||!!i.disabled||c,label:d(o?"action.duplicate.running.label":"action.duplicate.label"),title:i.disabled?d(T7n[i.disabled]):"",onHandle:p},[h,i.disabled,p,o,c,l==null?void 0:l.granted,d])};QY.action="duplicate";QY.displayName="DuplicateAction";const fO=({id:e,type:t,revision:n,onComplete:r})=>{const{restore:i}=fu(e,t),a=D$e(e,t),{navigateIntent:o}=ts(),s=f.useRef(a),[l,c]=f.useState(!1),{t:d}=q(Lt),h=f.useCallback(()=>{i.execute(n),r()},[i,n,r]);f.useEffect(()=>{!a||a===s.current||(a.type==="success"&&a.op==="restore"&&o("edit",{id:e,type:t}),s.current=a)},[a,e,o,t]);const p=f.useCallback(()=>{c(!0)},[]),m=f.useMemo(()=>l?{type:"confirm",tone:"critical",onCancel:r,onConfirm:h,message:d("action.restore.confirm.message")}:null,[h,l,r,d]),g=n==="@initial",y=n===void 0;return f.useMemo(()=>y?null:{label:d("action.restore.label"),color:"primary",onHandle:p,title:d(g?"action.restore.disabled.cannot-restore-initial":"action.restore.tooltip"),icon:zI,dialog:m,disabled:g},[m,p,g,y,d])};fO.action="restore";fO.displayName="HistoryRestoreAction";const A7n=ci({name:"Document Published",version:1,description:'User clicked the "Publish" button in the document pane'}),j7n={LIVE_EDIT_ENABLED:"action.publish.live-edit.publish-disabled",ALREADY_PUBLISHED:"action.publish.already-published.no-time-ago.tooltip",NO_CHANGES:"action.publish.no-changes.tooltip",NOT_READY:"action.publish.disabled.not-ready"};function I7n(e,t,n){return e==="ALREADY_PUBLISHED"&&t?u.jsx(D7n,{publishedAt:t}):n(j7n[e])}function D7n({publishedAt:e}){const{t}=q(Lt),n=Xg(e,{useTemporalPhrase:!0});return u.jsx("span",{children:t("action.publish.already-published.tooltip",{timeSincePublished:n})})}const eq=e=>{var O;const{id:t,type:n,liveEdit:r,draft:i,published:a}=e,[o,s]=f.useState(null),{publish:l}=fu(t,n),c=Vb(t,n),d=$$e(t,n),{changesOpen:h,onHistoryOpen:p,documentId:m,documentType:g}=Ar(),y=iO(m,g),{t:v}=q(Lt),b=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,x=c.validation.some(P7),[w,C]=f.useState(!1),S=d.isSyncing,E=c.isValidating,[k,_]=ld({id:t,type:n,permission:"publish"}),T=tr(),j=l.disabled?I7n(l.disabled,(a||{})._updatedAt,v)||"":x?v("action.publish.validation-issues.tooltip"):"",A=!!i,I=f.useCallback(()=>{l.execute(),s("publishing")},[l]);f.useEffect(()=>{const R=c.isValidating===!1&&c.revision!==b;!w||S||!R||(x||I(),C(!1))},[S,I,x,w,c.revision,b,E,c.isValidating]),f.useEffect(()=>{const R=o==="publishing"&&!A;R&&h&&p();const F=R?"published":null,P=setTimeout(()=>{s(F)},R?200:4e3);return()=>clearTimeout(P)},[h,o,A,p]);const M=Qo(),D=f.useCallback(()=>{M.log(A7n,{publishedImmediately:!(i!=null&&i._createdAt),previouslyPublished:!!a}),d.isSyncing||c.isValidating||c.revision!==b?C(!0):I()},[M,i==null?void 0:i._createdAt,a,d.isSyncing,c.isValidating,c.revision,b,I]);return f.useMemo(()=>{var F;if(r)return{tone:"default",icon:Hm,label:v("action.publish.live-edit.label"),title:v("action.publish.live-edit.tooltip"),disabled:!0};if(!_&&!(k!=null&&k.granted))return{tone:"default",icon:Hm,label:"Publish",title:u.jsx(Ql,{context:"publish-document",currentUser:T}),disabled:!0};const R=!!(w||(F=y==null?void 0:y.transactionSyncLock)!=null&&F.enabled||o==="publishing"||o==="published"||x||l.disabled);return{disabled:R||_,tone:"default",label:v(o==="published"?"action.publish.published.label":w||o==="publishing"?"action.publish.running.label":"action.publish.draft.label"),icon:Hm,title:w?v("action.publish.waiting"):o==="published"||o==="publishing"?null:j,shortcut:R||w?null:"Ctrl+Alt+P",onHandle:D}},[T,(O=y==null?void 0:y.transactionSyncLock)==null?void 0:O.enabled,D,x,_,r,k==null?void 0:k.granted,l.disabled,w,o,v,j])};eq.action="publish";eq.displayName="PublishAction";const M7n={NOT_PUBLISHED:"action.unpublish.disabled.not-published",NOT_READY:"action.unpublish.disabled.not-ready",LIVE_EDIT_ENABLED:"action.unpublish.disabled.live-edit-enabled"},tq=({id:e,type:t,draft:n,onComplete:r,liveEdit:i})=>{const{unpublish:a}=fu(e,t),[o,s]=f.useState(!1),[l,c]=ld({id:e,type:t,permission:"unpublish"}),d=tr(),{t:h}=q(Lt),p=f.useCallback(()=>{s(!1),r()},[r]),m=f.useCallback(()=>{s(!1),a.execute(),r()},[r,a]),g=f.useMemo(()=>o?{type:"dialog",onClose:r,content:u.jsx(WY,{id:(n==null?void 0:n._id)||e,type:t,action:"unpublish",onCancel:p,onConfirm:m})}:null,[n,e,p,m,o,r,t]);return f.useMemo(()=>i?null:!c&&!(l!=null&&l.granted)?{tone:"critical",icon:hC,label:"Unpublish",title:u.jsx(Ql,{context:"unpublish-document",currentUser:d}),disabled:!0}:{tone:"critical",icon:hC,disabled:!!a.disabled||c,label:h("action.unpublish.label"),title:a.disabled?h(M7n[a.disabled]):"",onHandle:()=>s(!0),dialog:g},[d,g,c,i,l==null?void 0:l.granted,h,a.disabled])};tq.action="unpublish";tq.displayName="UnpublishAction";const W3e=f.memo(function(e){var g,y;const{disabled:t,showMenu:n,states:r}=e,{__internal_tasks:i,schemaType:a,openPath:o}=Ar(),[s,...l]=r,[c,d]=f.useState(null),h=(y=(g=Hn().beta)==null?void 0:g.treeArrayEditing)==null?void 0:y.enabled,p=f.useMemo(()=>h?qIe(a,o):!1,[h,o,a]),m=f.useMemo(()=>!s||!s.title&&!s.shortcut?null:u.jsxs(z,{style:{maxWidth:300},align:"center",gap:3,children:[s.title&&u.jsx(N,{size:1,children:s.title}),s.shortcut&&u.jsx(VV,{"data-testid":"document-status-bar-hotkeys",fontSize:1,style:{marginTop:-4,marginBottom:-4},keys:String(s.shortcut).split("+").map(v=>v.slice(0,1).toUpperCase()+v.slice(1).toLowerCase())})]}),[s]);return u.jsxs(z,{align:"center",gap:1,children:[i&&i.footerAction,s&&u.jsx(Zl,{zOffset:200,children:u.jsx(bt,{disabled:!m,content:m,placement:"top",children:u.jsx(ne,{children:u.jsx(he,{"data-testid":`action-${s.label}`,disabled:t||!!s.disabled||p,icon:s.icon,onClick:s.onHandle,ref:d,size:"large",text:s.label,tone:s.tone||"primary"})})})}),n&&l.length>0&&u.jsx(E7n,{actionStates:l,disabled:t}),s&&s.dialog&&u.jsx(ZY,{dialog:s.dialog,referenceElement:c})]})}),R7n=f.memo(function(){const{actions:e,connectionState:t,documentId:n,editState:r}=Ar(),i=f.useMemo(()=>(e??[]).filter(o=>!nq(o)),[e]),a=f.useCallback(({states:o})=>u.jsx(W3e,{disabled:t!=="connected",showMenu:i.length>1,states:o},n),[i.length,t,n]);return i.length===0||!r?null:u.jsx(Dk,{actions:i,actionProps:r,group:"default",children:a})}),O7n=f.memo(function(){var c;const{actions:e,connectionState:t,editState:n,timelineStore:r}=Ar(),i=((c=ya(r,d=>d.revTime))==null?void 0:c.id)||"",a=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,o=f.useMemo(()=>({...n||{},revision:i}),[n,i]),s=f.useMemo(()=>(e??[]).filter(nq).slice(-1),[e]),l=f.useCallback(({states:d})=>u.jsx(W3e,{disabled:t!=="connected"||!!a,showMenu:!1,states:d}),[t,a]);return u.jsx(Dk,{actions:s,actionProps:o,group:"default",children:l})});function nq(e){return e.action===fO.action}const $7n={create:yT,delete:Jr,discardDraft:Nr,initial:yT,editDraft:Lc,editLive:Lc,publish:Hm,unpublish:hC};function P7n(e){return $7n[e]}const F7n=$(ne)`
  max-width: 200px;
`,N7n=$(z)`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`,L7n=$(L)(({$visible:e})=>de`
    opacity: 0;
    pointer-events: none;

    ${e&&de`
      opacity: 1;
      pointer-events: auto;
    `}
  `),G3e={initial:"timeline.operation.created-initial",create:"timeline.operation.created",publish:"timeline.operation.published",editLive:"timeline.operation.edited-live",editDraft:"timeline.operation.edited-draft",unpublish:"timeline.operation.unpublished",discardDraft:"timeline.operation.draft-discarded",delete:"timeline.operation.deleted"},cT=$(z)(({theme:e})=>{var n;const t=(n=e.sanity.color.base.skeleton)==null?void 0:n.from;return de`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: ${t};
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `}),B7n=$($t)(({$selected:e,$disabled:t})=>de`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] ${cT}::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] ${cT}::before {
      height: 50%;
    }

    ${e&&de`
      ${cT}::before {
        background: transparent;
      }
    `}

    ${t&&de`
      cursor: not-allowed;
    `}
  `),V7n=$(L)`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`,z7n=$(L)`
  min-width: 1rem;
  margin-left: ${({theme:e})=>`-${Ce(e.sanity.space[1])}`};
`;function U7n({maxLength:e,userIds:t}){return u.jsx(yE,{maxLength:e,children:t.map(n=>u.jsx(nl,{user:n,withTooltip:!0},n))})}const Efe={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function H7n({chunk:e,isFirst:t,isLast:n,isLatest:r,isSelected:i,onSelect:a,timestamp:o,type:s}){const{t:l}=q("studio"),c=P7n(s),d=Array.from(e.authors),h=s!=="delete",p=Hl({dateStyle:"medium",timeStyle:"short"}),m=f.useMemo(()=>{const y=new Date(o);return p.format(y)},[o,p]),g=f.useCallback(y=>{y.preventDefault(),y.stopPropagation(),h&&a(e)},[a,e,h]);return u.jsx(B7n,{$selected:i,$disabled:!h,"data-testid":"timeline-item-button","data-chunk-id":e.id,"data-first":t?!0:void 0,"data-last":n?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:g,padding:0,radius:2,tone:i?"primary":Efe[e.type],children:u.jsx(L,{paddingX:2,children:u.jsxs(z,{align:"stretch",children:[u.jsx(cT,{align:"center",children:u.jsx(V7n,{padding:2,children:u.jsx(N,{size:2,children:c&&f.createElement(c)})})}),u.jsxs(ne,{space:2,margin:2,children:[r&&u.jsx(z,{children:u.jsx(ie,{padding:1,radius:2,shadow:1,tone:i?"primary":Efe[e.type],children:u.jsx(N,{muted:!0,size:0,weight:"medium",children:l("timeline.latest")})})}),u.jsx(L,{children:u.jsx(N,{size:1,weight:"medium",children:l(G3e[s])||u.jsx("code",{children:s})})}),u.jsx(z7n,{paddingX:1,children:u.jsx(N,{as:"time",size:0,muted:!0,dateTime:o,children:m})})]}),u.jsx(z,{flex:1,justify:"flex-end",align:"center",children:u.jsx(U7n,{maxLength:3,userIds:d})})]})})})}const j7=({chunks:e,disabledBeforeFirstChunk:t,hasMoreChunks:n,lastChunk:r,onLoadMore:i,onSelect:a,firstChunk:o})=>{const[s,l]=f.useState(!1),{t:c}=q("studio"),d=f.useMemo(()=>e.filter(m=>t&&o?m.index<o.index:!0),[e,t,o]),h=f.useMemo(()=>r!=null&&r.id?d.findIndex(m=>m.id===r.id):-1,[r==null?void 0:r.id,d]),p=f.useCallback((m,{activeIndex:g})=>{const y=g===0,v=d&&g===d.length-1||!1;return u.jsxs(L,{paddingBottom:v?1:0,paddingTop:y?1:0,paddingX:1,children:[u.jsx(H7n,{chunk:m,isFirst:y,isLast:v,isLatest:g===0&&!t,isSelected:g===h,onSelect:a,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&n&&u.jsx(bn,{})]})},[t,d,n,a,h]);return f.useEffect(()=>l(!0),[]),u.jsxs(L7n,{$visible:!h||s,"data-ui":"timeline",children:[d.length===0&&u.jsxs(F7n,{padding:3,space:3,children:[u.jsx(N,{size:1,weight:"medium",children:c("timeline.error.no-document-history-title")}),u.jsx(N,{muted:!0,size:1,children:c("timeline.error.no-document-history-description")})]}),d.length>0&&u.jsx(N7n,{direction:"column",children:u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:c("timeline.list.aria-label"),autoFocus:"list",initialIndex:h,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};j7.displayName="Timeline";function W7n(){const{t:e}=q("studio");return u.jsxs(z,{align:"flex-start",gap:3,padding:4,children:[u.jsx(Xr,{tone:"critical",children:u.jsx(Ta,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Xr,{size:1,tone:"critical",weight:"medium",children:e("timeline.error.load-document-changes-title")}),u.jsx(Xr,{size:1,tone:"critical",children:e("timeline.error.load-document-changes-description")})]})]})}const G7n=$(_n)`
  overflow: hidden;
  overflow: clip;
`;function Y3e({chunk:e,mode:t,placement:n}){const{setTimelineRange:r,setTimelineMode:i,timelineError:a,ready:o,timelineStore:s}=Ar(),[l,c]=f.useState(!1),[d,h]=f.useState(null),p=f.useRef(null),m=_r(),g=ya(s,D=>D.chunks),y=ya(s,D=>D.isLoading),v=ya(s,D=>D.hasMoreChunks),b=ya(s,D=>D.realRevChunk),x=ya(s,D=>D.sinceTime),{t:w}=q("studio"),C=f.useCallback(()=>{i(t),c(!0)},[t,i]),S=f.useCallback(()=>{i("closed"),c(!1)},[i]),E=f.useCallback(D=>{l&&(D.key==="Escape"||D.key==="Tab")&&(S(),d==null||d.focus())},[d,S,l]);Yo(E),xn(l&&S,()=>[d,p.current]);const k=f.useCallback(D=>{try{const[O,R]=s.findRangeForRev(D);i("closed"),r(O,R)}catch(O){m.push({closable:!0,description:O.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),_=f.useCallback(D=>{try{const[O,R]=s.findRangeForSince(D);i("closed"),r(O,R)}catch(O){m.push({closable:!0,description:O.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),T=f.useCallback(()=>{y||s.loadMore()},[y,s]),j=a?u.jsx(W7n,{}):u.jsxs(u.Fragment,{children:[t==="rev"&&u.jsx(j7,{chunks:g,firstChunk:b,hasMoreChunks:v,lastChunk:b,onLoadMore:T,onSelect:k}),t==="since"&&u.jsx(j7,{chunks:g,disabledBeforeFirstChunk:!0,firstChunk:b,hasMoreChunks:v,lastChunk:x,onLoadMore:T,onSelect:_})]}),A={timestamp:{dateStyle:"medium",timeStyle:"short"}},I=e?w(G3e[e.type],{context:"timestamp",timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:A}):w("timeline.latest-revision"),M=e?w("timeline.since",{timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:A}):w("timeline.since-version-missing");return u.jsx(G7n,{"data-testid":"timeline-menu",constrainSize:!0,content:l&&j,"data-ui":"versionMenu",open:l,placement:n,portal:!0,ref:p,children:u.jsx(he,{"data-testid":l?"timeline-menu-close-button":"timeline-menu-open-button",disabled:!o,mode:"bleed",iconRight:Di,onClick:l?S:C,ref:h,selected:l,style:{maxWidth:"100%"},text:o?t==="rev"?I:M:w("timeline.loading-history")})})}function Y7n(){const{activeViewId:e,paneKey:t,views:n}=Ar(),r=`${t}tabpanel`;return u.jsx(Yv,{space:1,children:n.map((i,a)=>u.jsx(q7n,{icon:i.icon,id:`${t}tab-${i.id}`,isActive:e===i.id,label:i.title,tabPanelId:r,viewId:a===0?null:i.id??null},i.id))})}function q7n(e){const{icon:t,id:n,isActive:r,label:i,tabPanelId:a,viewId:o,...s}=e,{ready:l}=Ar(),{setView:c}=ud(),d=f.useCallback(()=>c(o),[c,o]);return u.jsx(BC,{...s,"aria-controls":a,disabled:!l,icon:t,id:n,label:i,onClick:d,selected:r})}function K7n(){const{connectionState:e,schemaType:t,title:n,value:r}=Ar(),i=!!r&&e!=="connecting",{error:a,value:o}=mk({enabled:i,schemaType:t,value:r}),{t:s}=q(Lt);return e==="connecting"?u.jsx(u.Fragment,{}):n?u.jsx(u.Fragment,{children:n}):r?a?u.jsx(u.Fragment,{children:s("panes.document-header-title.error.text",{error:a.message})}):u.jsx(u.Fragment,{children:(o==null?void 0:o.title)||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:s("panes.document-header-title.untitled.text")})}):u.jsx(u.Fragment,{children:s("panes.document-header-title.new.text",{schemaType:(t==null?void 0:t.title)||(t==null?void 0:t.name)})})}const Z7n=f.memo(f.forwardRef(function(e,t){const{menuItems:n}=e,{actions:r,editState:i,onMenuAction:a,onPaneClose:o,onPaneSplit:s,menuItemGroups:l,schemaType:c,timelineStore:d,connectionState:h,views:p,unstable_languageFilter:m}=Ar(),{features:g}=Jp(),{index:y,BackLink:v,hasGroupSiblings:b}=ud(),{actions:x}=qW(),[w,C]=f.useState(null),S=f.useMemo(()=>(r??[]).filter(U=>!nq(U)),[r]),E=f.useMemo(()=>D3e({actionHandler:a,fieldActions:x,menuItems:n,menuItemGroups:l}),[a,x,l,n]),k=f.useMemo(()=>E.filter(GY),[E]),_=f.useMemo(()=>E.filter(I3e),[E]),T=p.length>1,j=ya(d,U=>U.revTime),{collapsed:A,isLast:I}=Yf(),M=I&&!A?-1:0,D=g.splitViews&&s&&p.length>1,O=D&&b,R=g.backButton&&y>0,F=!O&&!R&&!!v,{t:P}=q(Lt),V=f.useCallback(({states:U})=>u.jsx(X7n,{contextMenuNodes:_,setReferenceElement:C,referenceElement:w,states:U}),[_,w]);return u.jsx(Ja,{children:u.jsx(cO,{border:!0,ref:t,loading:h==="connecting",title:u.jsx(K7n,{}),tabs:T&&u.jsx(Y7n,{}),tabIndex:M,backButton:R&&u.jsx(he,{as:v,"data-as":"a",icon:Iv,mode:"bleed",tooltipProps:{content:P("pane-header.back-button.text")}}),subActions:u.jsx(Y3e,{chunk:j,mode:"rev",placement:"bottom-end"}),actions:u.jsxs(z,{align:"center",gap:1,children:[m.length>0&&u.jsx(u.Fragment,{children:m.map((U,H)=>f.createElement(U,{key:`language-filter-${H}`,schemaType:c}))}),k.map(U=>u.jsx(j3e,{node:U},U.key)),i&&u.jsx(Dk,{actions:S,actionProps:i,group:"paneActions",children:V}),D&&u.jsx(he,{"aria-label":P("buttons.split-pane-button.aria-label"),icon:M9,mode:"bleed",onClick:s,tooltipProps:{content:P("buttons.split-pane-button.tooltip")}},"split-pane-button"),O&&u.jsx(he,{icon:Nr,mode:"bleed",onClick:o,tooltipProps:{content:P("buttons.split-pane-close-button.title")}},"close-view-button"),F&&u.jsx(he,{icon:Nr,mode:"bleed",tooltipProps:{content:P("buttons.split-pane-close-group-button.title")},as:v},"close-view-button")]})})})})),X7n=f.memo(function(e){const{setReferenceElement:t,referenceElement:n,contextMenuNodes:r}=e,i=f.useDeferredValue(e.states);return u.jsx(J7n,{setReferenceElement:t,referenceElement:n,contextMenuNodes:r,states:i})}),J7n=f.memo(function(e){const{states:t,setReferenceElement:n,contextMenuNodes:r,referenceElement:i}=e,a=f.useCallback(({handleAction:o})=>u.jsx("div",{ref:n,children:u.jsx(T3e,{nodes:r,actionsNodes:t.length>0?t.map((s,l)=>u.jsx(H3e,{actionState:s,disabled:!!s.disabled,index:l,onAction:o},s.label)):void 0},"context-menu")}),[r,n,t]);return u.jsx(U3e,{actionStates:t,referenceElement:i,children:a})}),Q7n={primary:"primary",success:"positive",warning:"caution",danger:"critical"},e9n=f.memo(function({states:e}){return e.length===0?null:u.jsx(Rn,{space:1,children:e.map((t,n)=>u.jsx(bt,{content:t.title,disabled:!t.title,placement:"top",portal:!0,children:u.jsx(ao,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:t.color?Q7n[t.color]:void 0,style:{whiteSpace:"nowrap"},children:t.label})},`${t.label}-${n}`))})}),t9n=f.memo(function(e){const t=f.useDeferredValue(e.states);return u.jsx(e9n,{states:t})});function n9n(){const{badges:e,editState:t}=Ar(),n=f.useCallback(({states:r})=>u.jsx(t9n,{states:r}),[]);return!t||!e?null:u.jsx($3e,{badges:e,badgeProps:t,children:n})}const r9n=$(Mi.path)`
  transform-origin: center;
`,i9n=e=>u.jsx(Mi.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),a9n=e=>u.jsx(r9n,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),o9n=e=>u.jsx(Mi.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),s9n=Tp`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`,l9n=$.g`
  transform-origin: center;

  &[data-rotate] {
    animation: ${s9n} 1s ease-in-out infinite;
  }
`,u9n={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},c9n={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},d9n={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},f9n={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}};function h9n(e){const{status:t}=e;return t?u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"animated-status-icon",children:u.jsxs(Mi.g,{variants:u9n,initial:t,animate:t,children:[u.jsxs(l9n,{"data-rotate":t==="changes"?void 0:"",children:[u.jsx(a9n,{variants:d9n,initial:t,animate:t}),u.jsx(i9n,{variants:c9n,initial:t,animate:t})]}),u.jsx(o9n,{variants:f9n,initial:t,animate:t})]})}):null}const p9n={saved:{i18nKey:"status-bar.document-status-pulse.status.saved.text",tone:"positive"},syncing:{i18nKey:"status-bar.document-status-pulse.status.syncing.text",tone:"default"}},m9n=e=>{const{status:t}=e,{t:n}=q(Lt);if(t!=="saved"&&t!=="syncing")return null;const r=p9n[t];return u.jsxs(z,{align:"center",gap:2,"data-testid":"pane-footer-document-status-pulse",children:[u.jsx(Xr,{size:1,tone:r.tone,children:u.jsx(h9n,{status:t})}),u.jsx(N,{muted:!0,size:1,children:n(r.i18nKey)})]})},g9n=1e3,y9n=3e3;function v9n({singleLine:e}){const{documentId:t,documentType:n,editState:r,value:i}=Ar(),[a,o]=f.useState(null),s=$$e(t,n),l=i==null?void 0:i._updatedAt;return f.useEffect(()=>{if(a==="syncing"&&!s.isSyncing){const c=setTimeout(()=>o("saved"),g9n);return()=>clearTimeout(c)}if(a==="saved"){const c=setTimeout(()=>o(null),y9n);return()=>clearTimeout(c)}},[a,l,s.isSyncing]),f.useLayoutEffect(()=>{o(null)},[t]),f.useLayoutEffect(()=>{s.isSyncing&&o("syncing")},[s.isSyncing,l]),a?u.jsx(m9n,{status:a||void 0}):u.jsx(bt,{content:u.jsx(Sv,{absoluteDate:!0,draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),placement:"top",children:u.jsxs(z,{align:"center",gap:3,children:[u.jsx(Ib,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),u.jsx(Sv,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published,singleLine:e})]})})}function b9n({element:e,onResize:t}){f.useLayoutEffect(()=>(e&&vS.observe(e,t),()=>{e&&vS.unobserve(e)}),[e,t])}const x9n=480;function w9n(e){const{actionsBoxRef:t}=e,{editState:n,timelineStore:r}=Ar(),i=ya(r,h=>h.onOlderRevision),[a,o]=f.useState(null),[s,l]=f.useState(null),c=f.useCallback(h=>{o(h.contentRect.width<x9n)},[]);b9n({element:s,onResize:c});const d=(n==null?void 0:n.ready)&&typeof a=="boolean";return u.jsx(z,{direction:"column",ref:l,sizing:"border",children:d&&u.jsxs(z,{align:"stretch",gap:1,justify:"space-between",paddingY:2,paddingLeft:4,paddingRight:3,children:[u.jsxs(z,{align:"center",flex:1,gap:a?2:3,wrap:"wrap",paddingRight:3,children:[u.jsxs(z,{align:"center",children:[u.jsx(v9n,{singleLine:!a}),u.jsx(A7,{size:"large"})]}),u.jsx(n9n,{})]}),u.jsxs(z,{align:"flex-start",justify:"flex-end",ref:t,style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(A7,{size:"large"}),i?u.jsx(O7n,{}):u.jsx(R7n,{})]})]})})}const C9n=f.memo(function(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:i,id:a,onActionStart:o,onKeyDown:s,rootRef:l,states:c,...d}=e,h=c[n],p=f.useCallback(m=>{const g=c.filter(v=>v.shortcut&&Qi(v.shortcut,m)),y=g[0];if(g.length>1&&console.warn(`Keyboard shortcut conflict: More than one document action matches the shortcut "${y.shortcut}"`),y&&!y.disabled&&y.onHandle){m.preventDefault(),y.onHandle(),o(c.indexOf(y));return}s&&s(m)},[o,s,c]);return f.createElement(r,{id:a,onKeyDown:p,tabIndex:-1,...d,ref:l},[i,h&&h.dialog&&u.jsx(Ef,{zOffset:"paneFooter",children:u.jsx(ZY,{dialog:h.dialog,referenceElement:t})})])}),q3e=f.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...i}=e,{actions:a,editState:o}=Ar(),[s,l]=f.useState(-1),c=f.useCallback(p=>{l(p)},[]),d=f.useMemo(()=>o&&{...o,onComplete:()=>{},revision:void 0},[o]),h=f.useCallback(({states:p})=>u.jsx(C9n,{...i,activeIndex:s,actionsBoxElement:t,as:n,onActionStart:c,states:p,children:r}),[t,s,n,r,c,i]);return!d||!a?null:u.jsx(Dk,{actionProps:d,actions:a,children:h})});q3e.displayName="Memo(DocumentActionShortcuts)";function S9n({currentInspector:e,hasValue:t,inspectors:n,inspectorMenuItems:r}){return n.map((i,a)=>{var s;const o=r[a];return!o||o.hidden?null:{action:`${k7}${i.name}`,group:o.showAsAction?void 0:"inspectors",icon:o.icon,isDisabled:!t,selected:(e==null?void 0:e.name)===i.name,shortcut:(s=o.hotkeys)==null?void 0:s.join("+"),showAsAction:o.showAsAction,title:o.title,tone:o.tone}}).filter(Boolean)}function E9n({hasValue:e,t}){return{action:"inspect",group:"inspectors",title:t("document-inspector.menu-item.title"),icon:w9,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function k9n({previewUrl:e,t}){return e?{action:"production-preview",group:"links",title:t("production-preview.menu-item.title"),icon:K1,shortcut:"Ctrl+Alt+O"}:null}function _9n(e){const t=S9n(e),n=[k9n(e)].filter(Boolean);return[{action:"copy-document-url",showAsAction:!0,title:e.t("action.copy-document-url.label"),icon:Ss},...t,E9n(e),...n]}const T9n=e=>wt(e)&&typeof e._id=="string"&&typeof e._type=="string";function K3e(e){const{resolveProductionUrl:t}=Hn().document,n=f.useMemo(()=>new PD(void 0),[]);f.useEffect(()=>{n.next(e)},[n,e]);const r=f.useMemo(()=>n.asObservable().pipe(hr(),Cz(500),Ct(i=>T9n(i)?Br(t({document:i})):we(void 0)),hr(),kn(i=>{const a=wt(i)&&typeof i.message=="string"?i.message:"Unknown error";throw new Error(`An error was thrown while trying to get your preview url: ${a}`)})),[t,n]);return ti(r)}function A9n(e){const{documentType:t,value:n,currentMinWidth:r,paneKey:i,minWidth:a}=e,{t:o}=q();return u.jsx(P3e,{currentMinWidth:r,flex:2.5,minWidth:a,paneKey:i,title:u.jsx(gt,{t:o,i18nKey:"panes.document-pane.document-unknown-type.title",values:{documentType:t}}),tone:"caution",children:u.jsxs(ne,{space:4,children:[t&&u.jsx(N,{as:"p",children:u.jsx(gt,{t:o,i18nKey:"panes.document-pane.document-unknown-type.text",values:{documentType:t}})}),!t&&u.jsx(N,{as:"p",children:o("panes.document-pane.document-unknown-type.without-schema.text")}),cl]})})}const kfe=[],_fe=["fixed","fixed","absolute"],j9n=$(Ytn)`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`;function I9n(){const{changesOpen:e,documentId:t,documentType:n,fieldActions:r,focusPath:i,inspectOpen:a,inspector:o,inspectors:s,onFocus:l,onHistoryOpen:c,onMenuAction:d,onPathOpen:h,paneKey:p,schemaType:m,value:g}=Ar(),{features:y}=Jp(),{t:v}=qv(Lt),{collapsed:b}=N0(),x=W$e(),w=K3e(g),[C,S]=f.useState(null),[E,k]=f.useState(null),[_,T]=f.useState(null),[j,A]=f.useState(null),[I,M]=f.useState(null);U3n({element:C,focusPath:i,value:g});const[D,O]=f.useState([]),[R,F]=f.useState([]),P=_g(E),V=_g(_),U=P==null?void 0:P.height,H=V==null?void 0:V.height,W=$6n+(o?E7:0),Z=O6n+(o?E7:0),J=f.useMemo(()=>s==null?void 0:s.find(K=>K.name===(o==null?void 0:o.name)),[s,o==null?void 0:o.name]),re=!!g,G=f.useMemo(()=>_9n({currentInspector:J,features:y,hasValue:re,inspectorMenuItems:D,inspectors:s,previewUrl:w,t:v}),[J,y,re,D,s,w,v]),te=f.useCallback(K=>{for(const Q of G)if(Q.shortcut&&Qi(Q.shortcut,K)){K.preventDefault(),K.stopPropagation(),d(Q);return}},[d,G]),X=f.useCallback(K=>{h(K),l(K)},[h,l]);return m?u.jsxs(nRe,{value:g,children:[s.length>0&&u.jsx(B6n,{documentId:t,documentType:n,inspectors:s,onMenuItems:O}),r.length>0&&m&&u.jsx(uk,{actions:r,documentId:t,documentType:n,onActions:F,path:kfe,schemaType:m}),u.jsx(lk,{actions:R,path:kfe,children:u.jsxs(q3e,{actionsBoxElement:j,as:jk,currentMinWidth:W,"data-testid":"document-pane",flex:2.5,id:p,minWidth:Z,onKeyUp:te,rootRef:S,children:[u.jsx(Z7n,{ref:T,menuItems:G}),u.jsx(rA,{position:_fe,zOffset:x.paneDialog,children:u.jsx(z,{direction:"column",flex:1,height:b?void 0:"fill",children:u.jsx(j9n,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:c,onSetFocus:X,children:u.jsx(y7n,{footerHeight:U||null,headerHeight:H||null,isInspectOpen:a,rootElement:C,setDocumentPanelPortalElement:M})})})}),u.jsx(Gv,{__unstable_elements:{[N3e]:I},children:u.jsx(rA,{position:_fe,zOffset:x.portal,children:u.jsx(a6n,{ref:k,children:u.jsx(Ja,{children:u.jsx(w9n,{actionsBoxRef:A})})})})}),u.jsx(U6n,{})]})})]}):u.jsx(A9n,{currentMinWidth:W,documentType:n,minWidth:Z,paneKey:p,value:g})}function D9n(e){var t,n;return(n=(t=e.document)==null?void 0:t.components)==null?void 0:n.unstable_layout}function M9n(){return lu({pick:D9n,defaultComponent:I9n})}const R9n=ci({name:"DocumentURLCopied",version:1,description:"User copied document URL to clipboard"});function O9n(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn(`Conflicting templates: URL says "${t.urlTemplate}", structure node says "${r}". Using "${r}".`);const i=r||t.urlTemplate,a=e.filter(l=>l.schemaType===t.documentType),o={...t.templateParams,...typeof n=="object"?n||{}:{}};let s=i;return!i&&a.length===1&&(s=a[0].id),{templateName:s,templateParams:o}}const rq=f.memo(e=>{const{children:t,index:n,pane:r,paneKey:i,onFocusPath:a}=e,o=tn(),s=Hb(),{setDocumentMeta:l}=Ub(),{__internal_tasks:c,document:{actions:d,badges:h,unstable_fieldActions:p,unstable_languageFilter:m,inspectors:g}}=Hn(),y=UG(),v=ud(),b=v.setParams,{features:x}=Jp(),{push:w}=_r(),{options:C,menuItemGroups:S=N6n,title:E=null,views:k=[]}=r,_=Wa(C),T=_.id,j=pn(T),A=C.type,I=Wa(v.params)||F6n,M=Wa(v.payload),{templateName:D,templateParams:O}=f.useMemo(()=>O9n(s,{documentType:A,templateName:_.template,templateParams:_.templateParameters,panePayload:M,urlTemplate:I.template}),[A,_,I,M,s]),R=kvn({documentId:j,documentType:A,templateName:D,templateParams:O}),F=Wa(R),{patch:P}=fu(j,A),V=iO(j,A),{validation:U}=Vb(j,A),H=j$e(j,A),W=o.get(A),Z=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||F.value,[J,re]=f.useState(!1),G=f.useMemo(()=>d({schemaType:A,documentId:j}),[d,j,A]),te=f.useMemo(()=>h({schemaType:A,documentId:j}),[h,j,A]),X=f.useMemo(()=>m({schemaType:A,documentId:j}),[j,A,m]),K=Wa(U),Q=Wa(k),[ee,se]=f.useState(()=>I.path?Zs(I.path):rn),le=f.useRef([]),oe=I.view||Q[0]&&Q[0].id||null,[ue,ye]=f.useState("closed"),[Ee,ke]=f.useState(null),ge=xbn({documentId:j,documentType:A,onError:ke,rev:I.rev,since:I.since}),je=ya(ge,dt=>dt.onOlderRevision),Ve=ya(ge,dt=>dt.revTime),xe=ya(ge,dt=>dt.sinceAttributes),me=ya(ge,dt=>dt.timelineDisplayed),Se=ya(ge,dt=>dt.timelineReady),ve=ya(ge,dt=>dt.isPristine),_e=f.useMemo(()=>Se?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!ve:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,ve,Se]),Ze=K3e(Z),[Je,ot]=f.useState([]);f.useEffect(()=>{const dt=y.documentPresence(j).subscribe(sn=>{ot(sn)});return()=>{dt.unsubscribe()}},[j,y]);const $e=f.useMemo(()=>g({documentId:j,documentType:A}),[j,A,g]),[Le,Oe]=f.useState(()=>I.inspect||null),qe=f.useRef(I.inspect);f.useEffect(()=>{qe.current!==I.inspect&&(qe.current=I.inspect,Oe(I.inspect||null))},[I.inspect]);const nt=$e==null?void 0:$e.find(dt=>dt.name===Le),_t=$e.find(dt=>dt.name===_7),wn=(nt==null?void 0:nt.name)===_7,{t:We}=q(Lt),yt=I.inspect==="on",Pn=wn?xe:(V==null?void 0:V.published)||null,Ei=f.useMemo(()=>W?p({documentId:j,documentType:A,schemaType:W}):[],[j,A,p,W]),on=H==="connected"&&V.ready&&(Se||!!Ee),br=f.useMemo(()=>je?me||{_id:Z._id,_type:Z._type}:Z,[je,me,Z]),Ke=f.useCallback((dt,sn)=>{b({...I,since:dt,rev:sn||void 0})},[I,b]),Bt=f.useCallback(dt=>{wO.current||(se(rn),le.current!==rn&&(le.current=rn,a==null||a(rn)))},[a,se]),jn=f.useRef(()=>{throw new Error("Nope")});jn.current=dt=>{P.execute(ORe(dt.patches),F.value)};const Cn=f.useCallback(dt=>jn.current(dt),[]),Ki=f.useCallback(dt=>{var gn,ja;const sn=dt&&$e.find(hu=>hu.name===dt);if(dt&&!sn){console.warn(`No inspector named "${dt}"`);return}if(nt){if(sn){const hu=((gn=sn.onClose)==null?void 0:gn.call(sn,{params:I}))??{params:I};Oe(null),qe.current=void 0,b({...hu.params,inspect:void 0});return}if(nt){const hu=((ja=nt.onClose)==null?void 0:ja.call(nt,{params:I}))??{params:I};Oe(null),qe.current=void 0,b({...hu.params,inspect:void 0})}}},[nt,$e,I,b]),fa=f.useCallback((dt,sn)=>{var qb,Iq;const gn=$e.find(MPe=>MPe.name===dt);if(!gn){console.warn(`No inspector named "${dt}"`);return}if((nt==null?void 0:nt.name)===gn.name){b({...I,...sn,inspect:gn.name});return}let ja=I;nt&&(ja=(((qb=gn.onClose)==null?void 0:qb.call(gn,{params:ja}))??{params:ja}).params);const hu=((Iq=gn.onOpen)==null?void 0:Iq.call(gn,{params:ja}))??{params:ja};Oe(gn.name),qe.current=gn.name,b({...hu.params,...sn,inspect:gn.name})},[nt,$e,I,b]),ha=f.useCallback(()=>{_t&&Ki(_t.name)},[Ki,_t]),so=f.useCallback(()=>{x.reviewChanges&&_t&&fa(_t.name)},[x.reviewChanges,fa,_t]),hl=f.useCallback(()=>v.closeCurrent(),[v]),Qp=f.useCallback(()=>v.duplicateCurrent(),[v]),cd=f.useCallback((dt=!yt)=>{b(dt?{...I,inspect:"on"}:Qa(I,"inspect"))},[yt,I,b]),Yb=Qo(),qf=f.useCallback(dt=>{if(dt.action==="production-preview"&&Ze)return window.open(Ze),!0;if(dt.action==="copy-document-url"&&navigator)return Yb.log(R9n),navigator.clipboard.writeText(window.location.toString()),w({id:"copy-document-url",status:"info",title:We("panes.document-operation-results.operation-success_copy-url")}),!0;if(dt.action==="inspect")return cd(!0),!0;if(dt.action==="reviewChanges")return so(),!0;if(typeof dt.action=="string"&&dt.action.startsWith(k7)){const sn=dt.action.slice(k7.length),gn=$e.find(ja=>ja.name===sn);if(gn)return gn.name===Le?Ki(gn.name):fa(gn.name),!0}return!1},[We,Ki,so,Le,$e,fa,Ze,cd,w,Yb]),Kf=f.useCallback(()=>cd(!1),[cd]),[em,_Pe]=f.useState([]),[TPe,bq]=f.useState(),[vO,xq]=f.useState(),[bO,wq]=f.useState(),Cq=f.useCallback((dt,sn)=>{xq(gn=>gc(gn,dt,sn))},[]),Sq=f.useCallback((dt,sn)=>{wq(gn=>gc(gn,dt,sn))},[]),Eq=f.useCallback((dt,sn)=>bq(gn=>gc(gn,dt,sn)),[]),APe=Z._createdAt?"update":"create",kq=!!(W!=null&&W.liveEdit),xO=Z._id?Z._id:"dummy-id",jPe=f.useMemo(()=>({...Z,_id:kq?pn(xO):ca(xO)}),[kq,Z,xO]),[Zf,Pk]=Rvn({document:jPe,permission:APe}),_q=!(Z!=null&&Z._id),IPe=f.useMemo(()=>{var qb;const dt=!Pk&&!(Zf!=null&&Zf.granted),sn=!kee(W,"update"),gn=_q&&!kee(W,"create"),ja=H==="reconnecting",hu=(qb=V.transactionSyncLock)==null?void 0:qb.enabled;return!on||Ve!==null||dt||sn||gn||ja||hu||J||_e},[H,V.transactionSyncLock,_q,_e,J,Pk,Zf==null?void 0:Zf.granted,on,Ve,W]),Fk=jRe(W,{value:br,readOnly:IPe,comparisonValue:Pn,focusPath:ee,openPath:em,collapsedPaths:vO,presence:Je,validation:K,collapsedFieldSets:bO,fieldGroupState:TPe,changesOpen:wn});f.useEffect(()=>{l({documentId:j,documentType:A,schemaType:W,onChange:Cn})},[j,A,W,Cn,l]);const Nk=f.useRef(Fk);Nk.current=Fk;const V0=f.useCallback(dt=>{OEn(Nk.current,dt).forEach(sn=>{sn.type==="expandPath"&&xq(gn=>gc(gn,sn.path,!1)),sn.type==="expandFieldSet"&&wq(gn=>gc(gn,sn.path,!1)),sn.type==="setSelectedGroup"&&bq(gn=>gc(gn,sn.path,sn.groupName))}),_Pe(dt)},[Nk]),Tq=f.useCallback((dt,sn)=>{y.setLocation([{type:"document",documentId:j,path:dt,lastActiveAt:new Date().toISOString(),selection:sn==null?void 0:sn.selection}])},[j,y]),Aq=f.useMemo(()=>ab(Tq,1e3,{leading:!0,trailing:!0}),[Tq]),jq=f.useCallback((dt,sn)=>{se(dt),fg(le.current,dt)||(V0(dt.slice(0,-1)),le.current=dt,a==null||a(dt)),Aq(dt,sn)},[a,V0,Aq]),DPe=f.useMemo(()=>({actions:G,activeViewId:oe,badges:te,changesOpen:wn,closeInspector:Ki,collapsedFieldSets:bO,collapsedPaths:vO,compareValue:Pn,connectionState:H,displayed:br,documentId:j,documentIdRaw:T,documentType:A,editState:V,fieldActions:Ei,focusPath:ee,inspector:nt||null,inspectors:$e,__internal_tasks:c,onBlur:Bt,onChange:Cn,onFocus:jq,onPathOpen:V0,onHistoryClose:ha,onHistoryOpen:so,onInspectClose:Kf,onMenuAction:qf,onPaneClose:hl,onPaneSplit:Qp,onSetActiveFieldGroup:Eq,onSetCollapsedPath:Cq,onSetCollapsedFieldSet:Sq,openInspector:fa,openPath:em,index:n,inspectOpen:yt,validation:K,menuItemGroups:S||[],paneKey:i,previewUrl:Ze,ready:on,schemaType:W,isPermissionsLoading:Pk,permissions:Zf,setTimelineMode:ye,setTimelineRange:Ke,setIsDeleting:re,isDeleting:J,isDeleted:_e,timelineError:Ee,timelineMode:ue,timelineStore:ge,title:E,value:Z,views:Q,formState:Fk,unstable_languageFilter:X}),[c,G,oe,te,wn,Ki,bO,vO,Pn,H,nt,br,j,T,A,V,Ei,ee,Fk,Bt,Cn,jq,ha,so,Kf,qf,Sq,Cq,hl,Qp,Eq,n,yt,$e,_e,J,Pk,X,S,fa,em,i,Zf,Ze,on,W,V0,Ke,Ee,ue,ge,E,K,Z,Q]);f.useEffect(()=>{H==="reconnecting"&&w({id:"sanity/structure/reconnecting",status:"warning",title:We("panes.document-pane-provider.reconnecting.title")})},[H,w,We]);const wO=f.useRef(!1);return f.useEffect(()=>{var dt;if(on&&I.path){const{path:sn,...gn}=I,ja=CFe((dt=Nk.current)==null?void 0:dt.value,Zs(sn));wO.current=!0,fg(le.current,ja)||(se(ja),V0(ja),le.current=ja,a==null||a(ja));const hu=setTimeout(()=>{wO.current=!1},0);return v.setParams(gn),()=>clearTimeout(hu)}},[I,j,a,V0,on,v]),u.jsx(dhe.Provider,{value:DPe,children:t})});rq.displayName="Memo(DocumentPaneProvider)";const Z3e=f.memo(function(e){const{name:t}=Hn();return u.jsx(HR,{name:e.pane.source||t,children:u.jsx(a3n,{children:u.jsx($9n,{...e})})})});function $9n(e){var k;const{pane:t,paneKey:n}=e,{resolveNewDocumentOptions:r}=Hn().document,i=ud(),a=P9n(t.options,i.params),{documentType:o,isLoaded:s}=Svn(a.id,a.type),l=M9n(),c=f.useMemo(()=>r({type:"document",documentId:a.id,schemaType:a.type}),[a.id,a.type,r]),[d,h]=BG({templateItems:c}),p=s&&!h,m=f.useMemo(()=>p&&o&&a.type!==o?F9n(e,a,o):e,[e,o,p,a]),{ReferenceChildLink:g,handleEditReference:y,groupIndex:v,routerPanesState:b}=i,x=((k=b[v+1])==null?void 0:k[0].params)||{},w=b.length,{parentRefPath:C}=x,S=f.useMemo(()=>C?{path:Zs(C),state:v>=w-1?"none":v>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,v,w]),{t:E}=q(Lt);return a.type==="*"&&!p?u.jsx(YY,{flex:2.5,minWidth:320,paneKey:n,title:E("panes.document-pane.document-not-found.loading")}):o?u.jsx(rq,{...m,children:u.jsx(isn,{EditReferenceLinkComponent:g,onEditReference:y,initialValueTemplateItems:d,activePath:S,children:u.jsx(I6n,{documentId:a.id,documentType:a.type,children:u.jsx(l,{documentId:a.id,documentType:a.type})})})},`${o}-${a.id}`):u.jsx(P3e,{flex:2.5,minWidth:320,paneKey:n,title:E("panes.document-pane.document-not-found.title"),children:u.jsx(ne,{space:4,children:u.jsx(N,{as:"p",children:u.jsx(gt,{t:E,i18nKey:"panes.document-pane.document-not-found.text",values:{id:a.id},components:{Code:({children:_})=>u.jsx("code",{children:_})}})})})})}function P9n(e,t={}){const n=Hb();return f.useMemo(()=>{var a;if(e.type&&e.type!=="*")return e;const r=e.template||t.template,i=(a=r?n.find(o=>o.id===r):void 0)==null?void 0:a.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function F9n(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}const Tfe=100,I7=2e3,X3e={by:[{field:"_updatedAt",direction:"desc"}]},J3e={},N9n=$(L)`
  position: relative;
`,L9n=$(L)`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`,B9n=[...Array(30).keys()];function V9n(e){const{layout:t}=e;return u.jsx(ne,{paddingX:3,paddingY:2,paddingTop:0,space:1,children:B9n.map(n=>u.jsx(ro,{isPlaceholder:!0,layout:t},n))})}function z9n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:i,hasSearchQuery:a,isActive:o,isLazyLoading:s,isLoading:l,items:c,layout:d,loadingVariant:h,onListChange:p,onRetry:m,paneTitle:g,searchInputElement:y,showIcons:v}=e,b=tn(),{collapsed:x}=N0(),{collapsed:w,index:C}=Yf(),[S,E]=f.useState(!1),{t:k}=q(Lt),_=f.useCallback(()=>{l||s||!S||p()},[s,l,p,S]);f.useEffect(()=>{if(w)return;const I=setTimeout(()=>{E(!0)},0);return()=>{clearTimeout(I)}},[w,c]);const T=f.useCallback((I,{activeIndex:M})=>{const D=pn(I._id),O=t===D,R=!o&&O,F=o&&O,P=M===c.length-1,V=P&&s,U=P&&i;return u.jsxs(u.Fragment,{children:[u.jsx(O3e,{icon:v===!1?!1:void 0,id:D,layout:d,marginBottom:1,pressed:R,schemaType:b.get(I._type),selected:F,value:I}),V&&u.jsx(bn,{}),U&&u.jsx(L,{marginY:1,paddingX:3,paddingY:4,children:u.jsx(N,{align:"center",muted:!0,size:1,children:k("panes.document-list-pane.max-items.text",{limit:I7})})})]})},[t,o,c.length,d,b,v,i,s,k]),j=f.useMemo(()=>a?u.jsx(z,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(ui,{width:1,children:u.jsx(L,{paddingX:4,paddingY:5,children:u.jsx(N,{align:"center",muted:!0,children:k("panes.document-list-pane.no-documents.text")})})})}):u.jsx(z,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(ui,{width:1,children:u.jsx(L,{paddingX:4,paddingY:5,children:u.jsx(N,{align:"center",muted:!0,children:k(r?"panes.document-list-pane.no-documents-of-type.text":"panes.document-list-pane.no-matching-documents.text")})})})}),[r,a,k]),A=f.useMemo(()=>{if(!S)return null;if(n)return u.jsx(z,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(ui,{width:1,children:u.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[u.jsx(Gi,{as:"h3",children:k("panes.document-list-pane.error.title")}),u.jsx(N,{as:"p",children:u.jsx(gt,{t:k,i18nKey:"panes.document-list-pane.error.text",values:{error:n.message},components:{Code:({children:M})=>u.jsx("code",{children:M})}})}),m&&u.jsx(L,{children:u.jsx(he,{icon:n0,onClick:m,text:k("panes.document-list-pane.error.retry-button.text"),tone:"primary"})})]})})});if(!l&&c.length===0)return j;if(h==="initial"&&l)return u.jsx(k3e,{ms:300,children:u.jsx(V9n,{layout:d})});if(h==="spinner"&&l)return null;const I=`${C}-${w}`;return u.jsx(N9n,{overflow:"hidden",height:"fill",children:u.jsx(L9n,{children:u.jsx(rd,{activeItemDataAttr:"data-hovered",ariaLabel:g,canReceiveFocus:!0,inputElement:y,itemHeight:51,items:c,onEndReached:_,onlyShowSelectionWhenActive:!0,overscan:10,paddingBottom:1,paddingX:3,renderItem:T,wrapAround:!1},I)})})},[w,n,_,C,l,c,d,h,m,T,y,S]);return u.jsx(Ik,{"data-testid":"document-list-pane",overflow:x||h==="initial"?"hidden":"auto",children:A})}function U9n(e){return uR(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}function H9n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const i=W9n(t,r.field);return i?Y9n(i,"datetime")?{...r,mapWith:"dateTime"}:i.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,i)=>r===e.by[i])?e:{...e,by:n}}function W9n(e,t){const n=Zs(t);let r=e;for(const i of n){if(!r)return;if(typeof i=="string"){r=G9n(r,i);continue}if(!(En(i)||Ya(i))||r.jsonType!=="array")return;const[a,o]=r.of||[];if(o||!a)return;if(!Gs(a)){r=a;continue}const[s,l]=a.to||[];if(l||!s)return;r=s}return r}function G9n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function Y9n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}function w1(e){switch(e.type){case"OpCall":{const{left:t,right:n}=e;switch(e.op){case"==":return t.type==="AccessAttribute"&&t.name==="_type"&&!t.base?n.type!=="Value"||typeof n.value!="string"?null:new Set([n.value]):n.type==="AccessAttribute"&&n.name==="_type"&&!n.base?t.type!=="Value"||typeof t.value!="string"?null:new Set([t.value]):null;case"in":{if(t.type!=="AccessAttribute"||t.name!=="_type"||t.base||n.type!=="Array")return null;const r=new Set;for(const i of n.elements){if(i.isSplat||i.value.type!=="Value"||typeof i.value.value!="string")return null;r.add(i.value.value)}return r.size?r:null}default:return null}}case"Group":return w1(e.base);case"Or":{const t=w1(e.left);if(!t)return null;const n=w1(e.right);return n?new Set([...t,...n]):null}case"And":{const t=w1(e.left),n=w1(e.right);return!t&&!n?null:new Set([...t||[],...n||[]])}default:return null}}function iq(e,t={}){try{const n=w1(dU(e,{params:t}));return n?Array.from(n).sort():null}catch{return null}}const q9n=["_id","_type","_createdAt","_updatedAt","_rev"];function D7(e,t,n=!1){const[r,...i]=t;if(!("fields"in e))return"";const a=e.fields.find(l=>l.name===r);if(!a){if(!q9n.includes(r)){const l=`The current ordering config targeted the nonexistent field "${r}" on schema type "${e.name}". It should be one of ${e.fields.map(c=>c.name).join(", ")}`;if(n)throw new Error(l);console.warn(l)}return""}if("to"in a.type&&a.type.name==="reference"){const l=a.type.to;return`${r}->{${l.map(c=>D7(c,i)).join(",")}}`}const o=i.length>0&&D7(a.type,i),s=o?`{${o}}`:"";return i.length>0?`${r}${s}`:r}function Q3e(e,t,n=!1){return t.map(r=>D7(e,r.field.split("."),n)).join(", ")}function K9n(e){const{client:t,schema:n,sort:r,limit:i,params:a,filter:o,searchQuery:s,staticTypeNames:l,maxFieldDepth:c,enableLegacySearch:d}=e,h=r.by,p=r==null?void 0:r.extendedProjection,m=oa(()=>t.listen(`*[${o}]`,a,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(Mt((v,b)=>b===0&&v.type!=="welcome"?pp(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${v.type}"`)):we(v)),Ho()),[g,y]=xz(m,v=>v.type==="welcome");return Bn(g.pipe($a(1)),y.pipe(HC(1e3,Jl,{leading:!0,trailing:!0}))).pipe(TW(v=>(l?we(l):t.observable.fetch(`array::unique(*[${o}][]._type)`,a)).pipe(Mt(b=>{const x=yIe(n,l||[]).filter(S=>b.includes(S.name)?(Q3e(S,r.by,!0),!0):!1),w=kR(x,t,{filter:o,params:a,enableLegacySearch:d,maxDepth:c}),C=()=>w({query:s||"",types:x},{__unstable_extendedProjection:p,comments:[`findability-source: ${s?"list-query":"list"}`],limit:i,skipSortByScore:!0,sort:h}).pipe(fe(S=>S.hits.map(({hit:E})=>E)));return v.type==="mutation"&&v.visibility!=="query"?Qr(1200).pipe(Mt(C)):C()}))))}const Z9n=[],Afe={error:null,onRetry:void 0,result:null},X9n={result:null,error:null};function J9n(e){const{filter:t,params:n,sortOrder:r,searchQuery:i,apiVersion:a}=e,o=Xt({...qt,apiVersion:a||qt.apiVersion}),{enableLegacySearch:s=!1}=Vr().search,l=tn(),c=_R(),[d,h]=f.useState(Afe),{onRetry:p,error:m,result:g}=d,y=g==null?void 0:g.documents,v=f.useMemo(()=>y?U9n(y):Z9n,[y]),[b,x]=f.useState(!1),[w,C]=f.useState(!1),[S,E]=f.useState(!1),k=f.useMemo(()=>iq(t,n),[t,n]),_=g===null&&!m,T=(y==null?void 0:y.length)===I7,j=f.useCallback(()=>{_||w||S||E(!0)},[_,w,S]),A=f.useCallback(D=>{var R,F;if(D.error){h(D);return}const O=((F=(R=D.result)==null?void 0:R.documents)==null?void 0:F.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&S){x(!0);return}if(O<Tfe&&O!==0&&!S&&C(!0),(D==null?void 0:D.result)===null){h(P=>({...P.error?D:P}));return}x(!1),h(D)},[S]),I=f.useMemo(()=>{const D=new Fr,O=()=>D.next();return K9n({client:o,filter:t,limit:S?I7:Tfe,params:n,schema:l,searchQuery:i||"",sort:r||X3e,staticTypeNames:k,maxFieldDepth:c,enableLegacySearch:s}).pipe(fe(R=>({result:{documents:R},error:null})),Wi(X9n),kn(R=>R instanceof ProgressEvent?pp(()=>new Error("Request error")):pp(()=>R)),kn((R,F)=>ji(we({result:null,error:R}),Bn(To(window,"online"),D).pipe($a(1),Mt(()=>F)))),Qs((R,F)=>({...R,...F,onRetry:O})))},[S,r,o,t,n,l,i,k,c,s]);f.useEffect(()=>{const D=I.subscribe(A);return()=>{D.unsubscribe()}},[A,I]);const M=f.useCallback(()=>{C(!1),x(!1),h(Afe),E(!1)},[]);return f.useEffect(()=>{M()},[M,t,n,r,i]),{error:m,hasMaxItems:T,isLazyLoading:b,isLoading:_,isSearchReady:!m,items:v,onListChange:j,onRetry:p}}const Q9n=Tp`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eBn=$(Ov)`
  animation: ${Q9n} 500ms linear infinite;
`,tBn=f.memo(function(e){const{childItemId:t,isActive:n,pane:r,paneKey:i,sortOrder:a,layout:o}=e,s=tn(),{displayOptions:l,options:c}=r,{apiVersion:d,filter:h}=c,p=aPe(c.params||J3e),m=f.useMemo(()=>{const W=iq(h,p);return(W==null?void 0:W.length)===1?W[0]:null},[h,p]),g=(l==null?void 0:l.showIcons)!==!1,{t:y}=q(Lt),{title:v}=id(r),[b,x]=f.useState(""),[w,C]=f.useState(""),[S,E]=f.useState(null),k=f.useRef(!1),_=m&&a?H9n(a,s.get(m)):a,T=Wa(_),{error:j,hasMaxItems:A,isLazyLoading:I,isLoading:M,isSearchReady:D,items:O,onListChange:R,onRetry:F}=J9n({apiVersion:d,filter:h,params:p,searchQuery:b==null?void 0:b.trim(),sortOrder:T}),P=UD(W=>W.pipe(fe(Z=>Z.target.value),Qn(C),wz(Z=>Z===""?we(""):Qr(300)),Qn(x))),V=f.useCallback(()=>{x(""),C("")},[]),U=f.useCallback(W=>{W.key==="Escape"&&V()},[V]);f.useEffect(()=>(k.current===!1&&!M&&(k.current=!0),()=>{k.current=!1}),[M]),f.useEffect(()=>{V(),k.current=!1},[i,V]);const H=f.useMemo(()=>M&&O.length===0&&k.current?"spinner":"initial",[M,O.length]);return u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingX:3,paddingBottom:3,children:u.jsx(Lr,{"aria-label":y("panes.document-list-pane.search-input.aria-label"),autoComplete:"off",border:!1,clearButton:!!b,disabled:!D,fontSize:[2,2,1],icon:H==="spinner"?eBn:Ca,onChange:P,onClear:V,onKeyDown:U,padding:2,placeholder:y("panes.document-list-pane.search-input.placeholder"),radius:2,ref:E,spellCheck:!1,value:w})}),u.jsx(z9n,{childItemId:t,error:j,filterIsSimpleTypeConstraint:!!m,hasMaxItems:A,hasSearchQuery:!!b,isActive:n,isLazyLoading:I,isLoading:M,items:O,layout:o,loadingVariant:H,onListChange:R,onRetry:F,paneTitle:v,searchInputElement:S,showIcons:g},i)]})}),ePe=f.memo(({contentAfter:e,index:t,initialValueTemplates:n=[],menuItemGroups:r=[],menuItems:i=[],setLayout:a,setSortOrder:o,title:s})=>{const{features:l}=Jp(),{collapsed:c,isLast:d}=Yf(),h=d&&!c?-1:0,p=f.useMemo(()=>({setLayout:({layout:m})=>{a(m)},setSortOrder:m=>{o(m)}}),[a,o]);return u.jsx(Ja,{children:u.jsx(cO,{actions:u.jsx(R3e,{initialValueTemplateItems:n,actionHandlers:p,menuItemGroups:r,menuItems:i}),backButton:l.backButton&&t>0&&u.jsx(he,{as:C3e,"data-as":"a",icon:Iv,mode:"bleed",tooltipProps:{content:"Back"}}),contentAfter:e,tabIndex:h,title:s})})});ePe.displayName="Memo(PaneHeader)";function nBn(e){const{row:t,table:n}=e,{selectedAnchor:r,setSelectedAnchor:i}=n.options.meta||{},a=f.useCallback(o=>{if(o.shiftKey&&r!==null&&r!==void 0){const s=t.index,l=s<r?s:r,c=s<r?r:s,d=n.getRowModel().flatRows.slice(l,c+1).map(({id:p})=>p),h=n.getSelectedRowModel().rows.map(({id:p})=>p);n.setRowSelection(()=>[...d,...h].reduce((p,m)=>({...p,[m]:!0}),{}))}else if(i){const s=t.getIsSelected();i(s?null:t.index),t.toggleSelected()}},[r,t,i,n]);return u.jsx($p,{style:{paddingLeft:4},checked:e.row.getIsSelected(),disabled:!e.row.getCanSelect(),onChange:()=>null,onClick:a})}const rBn=()=>{const e=f.useContext(fhe);if(e===void 0)throw new Error("useDocumentSheetListContext must be used within an DocumentSheetListProvider");return e};function iBn({children:e,table:t}){const[n,r]=f.useState(null),[i,a]=f.useState([]),o=f.useCallback((w=null)=>{(n==null?void 0:n.state)==="focused"&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),r(w),a([])},[n]),s=f.useCallback(()=>o(),[o]),l=f.useCallback(w=>{if(!n)return;const C=t.getVisibleLeafColumns(),S=C.findIndex(E=>E.id===n.colId)+(w==="left"?-1:1);S<0||S>=C.length||o({colId:C[S].id,rowIndex:n.rowIndex,state:"selected"})},[o,n,t]),c=f.useCallback(w=>{n&&a(C=>{const{rowIndex:S}=n,E=T=>T+(w==="down"?1:-1);if(!C.length){const T=E(S);return T<0?[]:[T]}const k=C[C.length-1],_=E(k);return _<0?C:_===S?[]:C.includes(_)?C.slice(0,-1):[...C,_]})},[n]),d=f.useCallback((w,C)=>{o({colId:w,rowIndex:C,state:"selected"})},[o]),h=f.useCallback(()=>{if(n)if(i.length)a([]);else{const w=n.state==="selected"?null:{...n,state:"selected"};o(w)}},[o,n,i.length]),p=f.useCallback((w,C)=>{if(!n)return;const S=C==="ArrowDown"?"down":"up",E=S==="down"?1:-1;if(w)c(S);else{const k=n.rowIndex+E;if(k<0)return;d(n.colId,k)}},[c,n,d]),m=f.useCallback(w=>{if(!n)return;const{key:C,shiftKey:S}=w;switch(C){case"Shift":break;case"Escape":h();break;case"ArrowDown":case"ArrowUp":w.preventDefault(),p(S,C);break;case"ArrowLeft":case"ArrowRight":n.state==="selected"&&(w.preventDefault(),l(C==="ArrowLeft"?"left":"right"));break}},[n,h,p,l]),g=f.useCallback(w=>{var C;n&&((C=document.getElementById(`cell-${n.colId}-${n.rowIndex}`))!=null&&C.contains(w.target)||s())},[s,n]);f.useEffect(()=>(n&&(document.addEventListener("keydown",m),document.addEventListener("click",g)),()=>{n&&(document.removeEventListener("keydown",m),document.removeEventListener("click",g))}),[g,m,n]);const y=f.useCallback(()=>r(w=>w?{...w,state:"focused"}:null),[]),v=f.useCallback((w,C)=>(n==null?void 0:n.colId)!==w?null:n.rowIndex===C?n.state==="focused"?"focused":"selectedAnchor":i.includes(C)?"selectedRange":null,[n,i]),b=f.useCallback(()=>{n&&o({colId:n.colId,rowIndex:n.rowIndex+1,state:"selected"})},[o,n]),x=f.useMemo(()=>({focusAnchorCell:y,resetFocusSelection:s,setSelectedAnchorCell:d,getStateByCellId:v,submitFocusedCell:b}),[y,s,d,v,b]);return u.jsx(fhe.Provider,{value:x,children:e})}const tPe=$.td`
  display: flex;
  overflow: hidden;
  box-sizing: border-box;
  width: ${({width:e})=>e}px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-bg-color);
`,aBn=$(tPe)`
  position: sticky;
  z-index: 2;
`;function oBn(e){const{getValue:t,column:n,row:r,fieldType:i}=e,a=`cell-${n.id}-${r.index}`,[o,s]=f.useState(t()),[l,c]=f.useState(!1),d=f.useRef(null),{focusAnchorCell:h,resetFocusSelection:p,setSelectedAnchorCell:m,getStateByCellId:g,submitFocusedCell:y}=rBn(),v=g(n.id,r.index),b=f.useCallback(()=>{m(n.id,r.index),h()},[n.id,h,r.index,m]),{patchDocument:x}=e.table.options.meta||{},w=()=>{var I;(I=d.current)==null||I.focus(),d.current instanceof HTMLInputElement&&d.current.select()},C=I=>{I.detail===2?w():(I.preventDefault(),m(n.id,r.index))},S=f.useCallback(I=>{const{key:M}=I;M==="Enter"&&(v==="selectedAnchor"&&w(),v==="focused"&&y())},[v,y]),E=I=>{c(!0),s(I.target.value)},k=()=>{l&&(x==null||x(r.id,n.id,o),c(!1)),p()},_=f.useCallback(I=>{var D;const M=(D=I.clipboardData)==null?void 0:D.getData("Text");(typeof M=="string"||typeof M=="number")&&(s(M),x==null||x(r.id,n.id,M))},[n.id,x,r.id]),T=f.useCallback(()=>{navigator.clipboard.writeText(o.toString())},[o]);f.useEffect(()=>((v==="selectedAnchor"||v==="focused")&&document.addEventListener("keydown",S),(v==="selectedAnchor"||v==="selectedRange")&&document.addEventListener("paste",_),v==="selectedAnchor"&&document.addEventListener("copy",T),()=>{(v==="selectedAnchor"||v==="focused")&&document.removeEventListener("keydown",S),(v==="selectedAnchor"||v==="selectedRange")&&document.removeEventListener("paste",_),v==="selectedAnchor"&&document.removeEventListener("copy",T)}),[a,v,n.id,g,T,S,_,r.index]);const j=()=>v==="focused"?"2px solid blue":v==="selectedRange"?"1px solid green":v==="selectedAnchor"?"1px solid blue":"1px solid transparent",A={onFocus:b,onBlur:k,onMouseDown:C,"aria-selected":!!v,"data-testid":a,id:a,ref:I=>d.current=I};return i.name==="boolean"?u.jsxs(Xl,{...A,onChange:()=>null,radius:0,style:{boxShadow:"none",border:j(),padding:0},value:JSON.stringify(o),children:[u.jsx("option",{value:"True",children:"True"}),u.jsx("option",{value:"False",children:"False"})]}):u.jsx(Lr,{...A,size:0,radius:0,border:!1,style:{border:j(),padding:"22px 16px"},value:typeof o=="string"||typeof o=="number"?o:JSON.stringify(o),onChange:E})}function sBn(e){var i;const t=e.column.getIsPinned(),n=t?aBn:tPe,r=t&&e.column.getIsLastColumn("left")?2:1;return u.jsx(n,{style:{left:e.column.getStart("left")??void 0,borderRight:`${r}px solid var(--card-border-color)`},width:e.column.getSize(),children:v3e(e.column.columnDef.cell,(i=e.getContext)==null?void 0:i.call(e))},e.row.original._id+e.id)}const nPe=5,lBn=e=>{const{documentPreviewStore:t,row:n,schemaType:r}=e,i="Document title",a=f.useMemo(()=>Mb(t,r,n.original._id,i),[t,n.original._id,r]),{draft:o,published:s,isLoading:l}=ti(a,{draft:null,isLoading:!0,published:null});if(l)return u.jsx(N,{size:1,muted:!0,children:"Loading..."});const c=(o==null?void 0:o.title)??(s==null?void 0:s.title)??"Untitled";return u.jsxs(z,{align:"center",gap:3,children:[u.jsx(Ib,{draft:o,published:s}),u.jsx(N,{size:1,children:c})]})},eI=RLn(),uBn=["string","number","boolean"],rPe=(e,t)=>e.fields.reduce((n,r)=>{const{type:i,name:a}=r;if(uBn.includes(i.name)){const o=eI.accessor(t?`${t}.${r.name}`:r.name,{id:t?`${t}_${r.name}`:r.name,header:r.type.title,enableHiding:!0,cell:s=>u.jsx(oBn,{...s,fieldType:i})});return[...n,o]}return i.name==="object"&&Ui(i)&&!t?[...n,eI.group({header:a,columns:rPe(i,r.name)})]:n},[]);function cBn(e){return"accessorKey"in e}function dBn(e){return"columns"in e}const iPe=e=>e.flatMap(t=>cBn(t)?t:dBn(t)?t.columns?iPe(t.columns):[]:[]);function fBn(e){const t=da(),n=f.useMemo(()=>e?[eI.display({id:"selected",enableHiding:!1,header:i=>u.jsxs(L,{children:[u.jsx($p,{style:{paddingLeft:4},indeterminate:i.table.getIsSomeRowsSelected(),onChange:i.table.getToggleAllPageRowsSelectedHandler()}),i.table.getSelectedRowModel().rows.length," selected"]}),cell:nBn}),eI.accessor("Preview",{enableHiding:!1,id:"Preview",cell:i=>u.jsx(lBn,{...i,documentPreviewStore:t,schemaType:e})}),...rPe(e)]:[],[t,e]),[r]=f.useMemo(()=>iPe(n).reduce(([i,a],o)=>{if(!o.id)throw new Error("Column must have an id");const s=o.id;return o.enableHiding?a===nPe?[{...i,[s]:!1},a]:[{...i,[s]:!0},a+1]:[{...i,[s]:!0},a]},[{},0]),[n]);return{columns:n,initialColumnsVisibility:r}}function hBn({table:e}){const{t}=q(),n=e.getVisibleLeafColumns().filter(o=>o.getCanHide()).length>=nPe,r=f.useCallback(()=>{e.resetColumnVisibility()},[e]),i=o=>()=>{o.toggleVisibility()},a=o=>{const s=o.getIsVisible(),l=e.getVisibleLeafColumns().filter(c=>c.getCanHide()).length===1;return n&&!s||l&&s};return u.jsx(Gt,{button:u.jsx(he,{mode:"bleed",text:t("sheet-list.edit-columns")}),id:"columns-control",menu:u.jsx(Ot,{padding:3,paddingTop:4,style:{width:240},children:u.jsxs(z,{direction:"column",height:"fill",gap:3,children:[u.jsx(N,{weight:"semibold",size:1,children:t("sheet-list.select-fields")}),u.jsx(z,{style:{flex:"1 1 auto",maxHeight:320,overflowY:"scroll"},children:u.jsx(ne,{children:e.getAllLeafColumns().filter(o=>o.getCanHide()).map(o=>{var s;return u.jsxs(z,{marginY:2,align:"center",children:[u.jsx($p,{readOnly:a(o),checked:o.getIsVisible(),onChange:i(o),id:`col-visibility-${o.id}`,style:{display:"block"}}),u.jsx(L,{flex:1,paddingLeft:3,children:u.jsx(N,{size:1,children:u.jsx("label",{htmlFor:`col-visibility-${o.id}`,children:(s=o.columnDef.header)==null?void 0:s.toString()})})})]},o.id)})})}),u.jsx(he,{width:"fill",mode:"ghost",text:t("sheet-list.reset-columns"),onClick:r})]})}),placement:"bottom",popover:{portal:!0}})}const pBn=$(z)`
  flex-shrink: 0;
`;function mBn(){const{state:{filtersVisible:e}}=en();return u.jsxs(pBn,{children:[u.jsx(_Y,{}),e&&u.jsx(kY,{showTypeFilter:!1})]})}const aq=$.th`
  margin: 16px;
  z-index: 1;
  padding: 22px 0px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-badge-default-bg-color);
  box-sizing: border-box;
  text-align: left;
  width: ${({width:e})=>e}px;
  max-width: ${({width:e})=>e}px;
`,gBn=$(aq)`
  position: sticky;
  z-index: 2;
`,yBn=$.div`
  visibility: hidden;

  ${aq}:hover & {
    visibility: visible;
  }
`;function vBn(e){const{header:t,headerGroup:n}=e,{t:r}=q(),i=t.column.getIsPinned(),a=n.depth>0&&!t.column.parent?null:u.jsx(N,{size:1,weight:"semibold",textOverflow:"ellipsis",children:v3e(t.column.columnDef.header,t.getContext())}),o=i?gBn:aq,s=t.column.getCanHide()&&(n.depth===0?!t.column.columns.length:t.column.parent),l=i&&t.column.getIsLastColumn("left")?2:1;return u.jsx(o,{style:{left:t.column.getStart("left")??void 0,borderRight:`${l}px solid var(--card-border-color)`},"data-testid":`header-${t.id}`,width:t.getSize(),children:u.jsxs(z,{justify:"space-between",marginX:2,align:"baseline",children:[u.jsx(bt,{delay:500,content:a,children:u.jsx(L,{style:{boxSizing:"border-box"},marginLeft:3,marginRight:3,children:a})}),s&&u.jsx(yBn,{children:u.jsx(Gt,{button:u.jsx(he,{tooltipProps:{content:"Open field menu"},mode:"bleed",icon:Mv,"data-testid":"field-menu-button"}),id:"field menu",popover:{placement:"bottom-end"},menu:u.jsx(Ot,{children:u.jsx(He,{text:r("sheet-list.hide-field"),icon:Nr,onClick:()=>t.column.toggleVisibility()})})})})]})},t.id)}function bBn({table:e}){return u.jsx(Ja,{children:u.jsxs(z,{gap:3,align:"center",children:[u.jsx(he,{onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),icon:m9,tooltipProps:{content:"Go to first page"}}),u.jsx(he,{onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),icon:If,tooltipProps:{content:"Go to previous page"}}),u.jsxs(N,{style:{whiteSpace:"nowrap"},children:[e.getState().pagination.pageIndex+1," of ",e.getPageCount()]}),u.jsx(he,{onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),icon:io,tooltipProps:{content:"Go to next page"}}),u.jsx(he,{onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),icon:PI,tooltipProps:{content:"Go to last page"}}),u.jsx("select",{value:e.getState().pagination.pageSize,onChange:t=>{e.setPageSize(Number(t.target.value))},children:[25,50,100].map(t=>u.jsx("option",{value:t,children:t},t))})]})})}function xBn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function wBn(e,t){switch(t.type){case"DOCUMENTS_SET":{const n=xBn(t.documents);return{...e,documents:n}}case"DOCUMENT_RECEIVED":{const n=t.payload;return{...e,documents:{...e.documents,[n._id]:n}}}case"DOCUMENT_DELETED":{const{[t.id]:n,...r}=e.documents;return{...e,documents:r}}case"DOCUMENT_UPDATED":{const n=t.payload,r=n._id,i={...e.documents[r],...n};return{...e,documents:{...e.documents,[r]:i}}}default:return e}}const CBn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"};function SBn({filter:e,params:t,apiVersion:n}){const r=`*[${e}][0...2000]`,i=Xt({...qt,apiVersion:n||qt.apiVersion}),[a,o]=f.useReducer(wBn,{documents:{}}),[s,l]=f.useState(i!==null),[c,d]=f.useState(null),h=f.useCallback(async()=>{if(!i){l(!1);return}try{const g=await i.fetch(r,t);o({type:"DOCUMENTS_SET",documents:g}),l(!1)}catch(g){d(g)}},[i,t,r]),p=f.useCallback(async g=>{if(g.type==="welcome"&&(l(!0),await h(),l(!1)),g.type==="reconnect"&&l(!0),g.type==="mutation"){if(g.transition==="appear"){const y=g.result;y&&o({type:"DOCUMENT_RECEIVED",payload:y})}if(g.transition==="disappear"&&o({type:"DOCUMENT_DELETED",id:g.documentId}),g.transition==="update"){const y=g.result;y&&o({type:"DOCUMENT_UPDATED",payload:y})}}},[h]),m=f.useMemo(()=>i?i.observable.listen(r,t,CBn).pipe(kn(g=>(d(g),we(g)))):we(),[i,t,r]);return f.useEffect(()=>{const g=m.subscribe(p);return()=>{g==null||g.unsubscribe()}},[p,m]),{data:f.useMemo(()=>{const g=Object.keys(a.documents).reduce((y,v)=>{const b=a.documents[v],x=b._id===ca(b._id),w=x?b._id:ca(b._id);return y[w]&&!x||(y[w]=b),y},{});return Object.values(g)},[a.documents]),isLoading:s,error:c}}function EBn({typeName:e}){const{state:t}=en(),n=f.useMemo(()=>{const a=new Map;return t.result.hits.forEach(o=>a.set(pn(o.hit._id),o.hit)),a},[t.result.hits]),{data:r,isLoading:i}=SBn({filter:`_type == "${e}"`});return{data:f.useMemo(()=>r.filter(a=>n.has(pn(a._id))),[r,n]),isLoading:i}}const kBn=$(z)`
  height: 100%;
`,_Bn=$.div`
  overflow: auto; //our scrollable table container
  position: relative; //needed for sticky header
`,TBn=$.table`
  border-collapse: separate;
  border-spacing: 0;
  font-family: arial, sans-serif;
  white-space: nowrap;
  width: 100%;
  border: 1px solid lightgray;

  thead {
    display: grid;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  tr {
    padding: 0;
  }
  tr:last-child {
    border-bottom: none;
  }
`;function ABn({documentSchemaType:e}){const{dispatch:t,state:n}=en(),{columns:r,initialColumnsVisibility:i}=fBn(e),{data:a}=EBn({typeName:e.name}),[o,s]=f.useState(null),l=n.result.hits.length,c=A8n({data:a,columns:r,getCoreRowModel:v8n(),getFilteredRowModel:S8n(),getPaginationRowModel:E8n(),autoResetPageIndex:!1,initialState:{columnPinning:{left:["selected","Preview"]},pagination:{pageSize:25},columnVisibility:i},getRowId:m=>m._id,meta:{selectedAnchor:o,setSelectedAnchor:s,patchDocument:(m,g,y)=>null}}),{rows:d}=c.getRowModel();f.useEffect(()=>(t({type:"TERMS_TYPE_ADD",schemaType:e}),()=>{t({type:"TERMS_TYPE_REMOVE",schemaType:e})}),[e,t]);const h=f.useCallback(m=>u.jsx(L,{as:"tr",paddingY:2,style:{display:"flex",width:"100%"},children:m.getVisibleCells().map(g=>f.createElement(sBn,{...g,key:m.original._id+g.id}))},m.original._id+m.id),[]),p=`Total: ${l} rows, showing ${d.length} rows`;return u.jsxs(kBn,{direction:"column",paddingX:3,"data-testid":"document-sheet-list-pane",children:[u.jsxs(z,{direction:"row",align:"center",paddingY:3,paddingX:1,justify:"space-between",children:[u.jsxs(z,{direction:"row",align:"center",children:[u.jsx(mBn,{}),u.jsx(N,{size:0,muted:!0,children:p})]}),u.jsx(hBn,{table:c})]}),u.jsx(_Bn,{children:u.jsx(iBn,{table:c,children:u.jsxs(TBn,{children:[u.jsx("thead",{children:c.getHeaderGroups().map(m=>u.jsx(L,{as:"tr",children:m.headers.map(g=>u.jsx(vBn,{header:g,headerGroup:m},g.id))},m.id))}),u.jsx("tbody",{children:c.getRowModel().rows.map(h)})]})})}),u.jsx(z,{justify:"flex-end",padding:3,gap:4,paddingY:5,children:u.jsx(bBn,{table:c})})]})}function jBn(e){const t=tn(),n=e.pane.schemaTypeName,r=t.get(n);if(!r||!dFe(r))throw new Error(`Schema type "${n}" not found or not a document schema`);return u.jsx(jY,{children:u.jsx(ABn,{...e,documentSchemaType:r})})}const IBn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(i=>{var a,o,s,l;return(a=i.params)!=null&&a.layout?{...i,selected:r===((o=i.params)==null?void 0:o.layout)}:(s=i==null?void 0:i.params)!=null&&s.by?{...i,selected:kt(n==null?void 0:n.by,((l=i==null?void 0:i.params)==null?void 0:l.by)||rn)}:{...i,selected:!1}})};function aPe(e){const t=f.useRef(e);return yp(t.current,e)||(t.current=e),t.current}const oPe=f.memo(function(e){const{index:t,isSelected:n,pane:r,paneKey:i}=e,{name:a}=Hn(),{defaultLayout:o="default",initialValueTemplates:s=rn,menuItemGroups:l,menuItems:c,options:d}=r,{defaultOrdering:h=rn,filter:p}=d,m=aPe(d.params||J3e),g=r.source,y=f.useMemo(()=>{const T=iq(p,m);return(T==null?void 0:T.length)===1?T[0]:null},[p,m]),[v,b]=T7("layout",y??r.id,o),{title:x}=id(r),w=f.useMemo(()=>(h==null?void 0:h.length)>0?{by:h}:X3e,[h]),[C,S]=T7("sort-order",y??r.id,w),E=f.useMemo(()=>IBn({menuItems:c,sortOrderRaw:C,layout:v}),[v,c,C]),k=v==="sheetList",_=k?f.createElement(jBn,{...e,key:e.pane.id}):u.jsx(tBn,{...e,sortOrder:C,layout:v});return u.jsx(HR,{name:g||a,children:u.jsxs(jk,{"data-ui":"DocumentListPane",id:i,minWidth:320,...k?{}:{currentMaxWidth:350,maxWidth:640},selected:n,children:[F3e,u.jsx(ePe,{index:t,initialValueTemplates:s,menuItemGroups:l,menuItems:E,setLayout:b,setSortOrder:S,title:x}),_]})})});class Mn extends Error{constructor(n,r,i,a){super(n);Y(this,"path");Y(this,"helpId");this.name="SerializeError";const o=typeof i>"u"?"<unknown>":`${i}`;this.path=(r||[]).concat(a?`${o} (${a})`:o)}withHelpUrl(n){return this.helpId=n,this}}var lr=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(lr||{});const sPe={title:"Last edited",i18n:{title:{key:"menu-items.sort-by.last-edited",ns:Lt}},name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},DBn={title:"Created",i18n:{title:{key:"menu-items.sort-by.created",ns:Lt}},name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},MBn=sPe,jfe=[sPe,DBn];function oq(e,t,n){return e instanceof kf?e.serialize({path:n,index:t}):e}class kf{constructor(t,n){Y(this,"spec");this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(t=!0){return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(t={path:[]}){const{title:n,action:r,intent:i}=this.spec;if(!n){const a=typeof r=="string"?`action: "${r}"`:void 0;throw new Mn("`title` is required for menu item",t.path,t.index,a).withHelpUrl(lr.TITLE_REQUIRED)}if(!r&&!i)throw new Mn(`\`action\` or \`intent\` required for menu item with title ${this.spec.title}`,t.path,t.index,`"${n}"`).withHelpUrl(lr.ACTION_OR_INTENT_REQUIRED);if(i&&r)throw new Mn("cannot set both `action` AND `intent`",t.path,t.index,`"${n}"`).withHelpUrl(lr.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new kf(this._context);return n.spec={...this.spec,...t||{}},n}}function sq(e,{by:t,title:n,i18n:r},i){let a=new kf(e).group("sorting").title(e.i18n.t("default-menu-item.fallback-title",{ns:"studio",replace:{title:n}})).icon(Oy).action("setSortOrder").params({by:t,extendedProjection:i});return r&&(a=a.i18n(r)),a}function lq(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(jfe):jfe).map(i=>sq(e,i,Q3e(r,i.by)))}function uq(e,t,n){return e instanceof dg?e.serialize({path:n,index:t}):e}class dg{constructor(t,n){Y(this,"_id");Y(this,"_title");Y(this,"_i18n");this._context=t,this._id=n?n.id:"",this._title=n?n.title:"",this._i18n=n?n.i18n:void 0}id(t){return new dg(this._context,{id:t,title:this._title,i18n:this._i18n})}getId(){return this._id}title(t){return new dg(this._context,{title:t,id:this._id,i18n:this._i18n})}getTitle(){return this._title}i18n(t){return new dg(this._context,{i18n:t,id:this._id,title:this._title})}getI18n(){return this._i18n}serialize(t={path:[]}){const{_id:n,_title:r,_i18n:i}=this;if(!n)throw new Mn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(lr.ID_REQUIRED);if(!r)throw new Mn("`title` is required for a menu item group",t.path,n).withHelpUrl(lr.TITLE_REQUIRED);return{id:n,title:r,i18n:i}}}const lPe=/([^A-Za-z0-9-_.])/;function Mk(e,t,n){if(typeof e!="string")throw new Mn(`Structure node id must be of type string, got ${typeof e}`,t,n);const[r]=e.match(lPe)||[];if(r)throw new Mn(`Structure node id cannot contain character "${r}"`,t,n);if(e.startsWith("__edit__"))throw new Mn("Structure node id cannot start with __edit__",t,n);return e}function hO(e,t){if(t)return t;const n=afe(e);return lPe.test(n)?afe(XAe(e)):n}class Ev{constructor(t){Y(this,"spec");this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:hO(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}canHandleIntent(t){return this.clone({canHandleIntent:t})}serialize(t={path:[]}){const{id:n,title:r,child:i,options:a,component:o}=this.spec;if(!n)throw new Mn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(lr.ID_REQUIRED);if(!o)throw new Mn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(lr.ID_REQUIRED);return{id:Mk(n,t.path,t.index),title:r,type:"component",child:i,component:o,canHandleIntent:this.spec.canHandleIntent,options:a||{},menuItems:(this.spec.menuItems||[]).map((s,l)=>oq(s,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,l)=>uq(s,l,t.path))}}clone(t){const n=new Ev;return n.spec={...this.spec,...t||{}},n}}async function uPe(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=pn(t),i=ca(t);return(await e(qt).fetch(n,{documentId:r,draftId:i},{tag:"structure.resolve-type"}))[0]}class pO{constructor(){Y(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||tNn(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(t={path:[]}){const{id:n,title:r,icon:i}=this.spec;if(!n)throw new Mn("`id` is required for view item",t.path,t.index).withHelpUrl(lr.ID_REQUIRED);if(!r)throw new Mn("`title` is required for view item",t.path,t.index).withHelpUrl(lr.TITLE_REQUIRED);return{id:Mk(n,t.path,t.index),title:r,icon:i}}}function RBn(e){return typeof e.serialize=="function"}function cq(e,t,n){return RBn(e)?e.serialize({path:n,index:t}):e}const OBn=e=>wt(e)&&e.type==="component";class Rk extends pO{constructor(n){const r=OBn(n)?{...n}:{options:{}};super();Y(this,"spec");this.spec=r;const i=typeof n=="function"?n:this.spec.component;i&&(this.spec=this.component(i).spec)}component(n){return this.clone({component:n})}getComponent(){return this.spec.component}options(n){return this.clone({options:n})}getOptions(){return this.spec.options||{}}serialize(n={path:[]}){const r=super.serialize(n),i=this.spec.component;if(typeof i!="function")throw new Mn("`component` is required and must be a function for `component()` view item",n.path,n.index).withHelpUrl(lr.COMPONENT_REQUIRED);return{...r,component:i,options:this.spec.options||{},type:"component"}}clone(n){const r=new Rk;return r.spec={...this.spec,...n||{}},r}}class Ok extends pO{constructor(n){super();Y(this,"spec");this.spec={id:"editor",title:"Editor",...n||{}}}serialize(n={path:[]}){return{...super.serialize(n),type:"form"}}clone(n){const r=new Ok;return r.spec={...this.spec,...n||{}},r}}const dq=e=>new Ok(e),cPe=e=>new Rk(e);var $Bn=Object.freeze({__proto__:null,ComponentViewBuilder:Rk,FormViewBuilder:Ok,GenericViewBuilder:pO,component:cPe,form:dq,maybeSerializeView:cq});const PBn=({resolveDocumentNode:e,getClient:t})=>async(n,{params:r,path:i})=>{let a=r.type;const o=i.slice(0,i.length-1),s=i[i.length-1];if(a||(a=await uPe(t,n)),!a)throw new Mn("Failed to resolve document, and no type provided in parameters.",o,s);return e({documentId:n,schemaType:a})};class _f{constructor(t,n){Y(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:hO(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize({path:t=[],index:n,hint:r}={path:[]}){const i=t[n||t.length-1],a=this.spec.id||i&&`${i}`||"",o={id:a,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof a!="string"||!a)throw new Mn("`id` is required for document nodes",t,n,r).withHelpUrl(lr.ID_REQUIRED);if(!o||!o.id)throw new Mn("document id (`id`) is required for document nodes",t,a,r).withHelpUrl(lr.DOCUMENT_ID_REQUIRED);if(!o||!o.type)throw new Mn("document type (`schemaType`) is required for document nodes",t,a,r);const s=(this.spec.views&&this.spec.views.length>0?this.spec.views:[dq()]).map((d,h)=>cq(d,h,t)),l=s.map(d=>d.id),c=Sa(l.filter((d,h)=>l.includes(d,h+1)));if(c.length>0)throw new Mn(`document node has views with duplicate IDs: ${c.join(",  ")}`,t,a,r);return{...this.spec,child:this.spec.child||PBn(this._context),id:Mk(a,t,n),type:"document",options:FBn(o),views:s}}clone(t={}){const n=new _f(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function FBn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function dPe(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new _f(e);if(!t)return n;const{id:r,type:i,template:a,templateParameters:o}=t.options;return n=n.id(t.id).documentId(r),i&&(n=n.schemaType(i)),a&&(n=n.initialValueTemplate(a,o)),t.child&&(n=n.child(t.child)),n}function fPe({resolveDocumentNode:e,templates:t},n,r){const i=t.find(a=>a.id===n);if(!i)throw new Error(`Template with ID "${n}" not defined`);return e({schemaType:i.schemaType}).initialValueTemplate(n,r)}class $k{constructor(t,n){Y(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize({path:t=[],index:n,hint:r}={path:[]}){const{spec:i,_context:a}=this,{templates:o}=a;if(typeof i.id!="string"||!i.id)throw new Mn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(lr.ID_REQUIRED);if(!i.templateId)throw new Mn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(lr.ID_REQUIRED);const s=o.find(l=>l.id===i.templateId);if(!s)throw new Mn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(lr.ID_REQUIRED);return{id:i.id,templateId:i.id,schemaType:s.schemaType,type:"initialValueTemplateItem",description:i.description||s.description,title:i.title||s.title,subtitle:i.subtitle,icon:i.icon||s.icon,initialDocumentId:i.initialDocumentId,parameters:i.parameters}}clone(t={}){const n=new $k(this._context);return n.spec={...this.spec,...t},n}}function hPe(e){const{schema:t,getStructureBuilder:n,templates:r}=e,i=t.getTypeNames();return r.filter(a=>{var o;return!((o=a.parameters)!=null&&o.length)}).sort((a,o)=>i.indexOf(a.schemaType)-i.indexOf(o.schemaType)).map(a=>n().initialValueTemplateItem(a.id))}function pPe(e,t,n){return e instanceof $k?e.serialize({path:n,index:t}):e}function mPe(e,t){const{schema:n,templates:r}=e;return t.map(i=>{const a=r.find(p=>p.id===i.templateId),o=i.title||(a==null?void 0:a.title)||"Create",s={};a&&a.schemaType&&(s.type=a.schemaType),i.templateId&&(s.template=i.templateId);const l=i.parameters?[s,i.parameters]:s,c=a&&n.get(a.schemaType),d=i.i18n||(a==null?void 0:a.i18n);let h=new kf(e).title(o).icon(a&&a.icon||(c==null?void 0:c.icon)||wa).intent({type:"create",params:l});return d&&(h=h.i18n(d)),h.serialize()})}const fq=Symbol("Document type list canHandleIntent"),mO=(e,t,{pane:n})=>{var d,h;const r=e==="edit",i=e==="create",a=n,o=((d=a.options)==null?void 0:d.filter)||"",s=((h=a.options)==null?void 0:h.params)||{},l=a.schemaTypeName?[a.schemaTypeName]:gO(o,s),c=a.initialValueTemplates||[];return i&&t.template?c.some(p=>p.templateId===t.template):r&&t.id&&l.includes(t.type)||i&&l.includes(t.type)};mO.identity=fq;const Ife=["default","card","media","detail","block"];function NBn(){}const hq=(e,t,{pane:n,index:r})=>r<=1&&mO(e,t,{pane:n,index:r});class pq{constructor(){Y(this,"initialValueTemplatesSpecified",!1);Y(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:hO(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(t={path:[]}){const n=this.spec.id||"",r=t.path,i=this.spec.defaultLayout;if(i&&!Ife.includes(i))throw new Mn(`\`layout\` must be one of ${Ife.map(o=>`"${o}"`).join(", ")}`,r,n||t.index,this.spec.title);const a=(this.spec.initialValueTemplates||[]).map((o,s)=>pPe(o,s,r));return{id:Mk(n,t.path,n||t.index),title:this.spec.title,i18n:this.spec.i18n,type:"genericList",defaultLayout:i,child:this.spec.child||NBn,canHandleIntent:this.spec.canHandleIntent||hq,displayOptions:this.spec.displayOptions,initialValueTemplates:a,menuItems:(this.spec.menuItems||[]).map((o,s)=>oq(o,s,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((o,s)=>uq(o,s,r))}}}const LBn=(e,t)=>{var r;const n=((r=e.options)==null?void 0:r.filter.trim())||"";if(["*","{"].includes(n[0]))throw new Mn(`\`filter\` cannot start with \`${n[0]}\` - looks like you are providing a query, not a filter`,t.path,e.id,e.title).withHelpUrl(lr.QUERY_PROVIDED_FOR_FILTER);return n},BBn=e=>(t,n)=>{var o;const r=n.parent,i=(o=n.params)!=null&&o.template?e.templates.find(s=>s.id===n.params.template):void 0,a=i?i.schemaType:r.schemaTypeName||uPe(e.getClient,t);return Promise.resolve(a).then(s=>s?e.resolveDocumentNode({schemaType:s,documentId:t}):new _f(e).id("editor").documentId(t).schemaType(""))};class Gb extends pq{constructor(n,r){super();Y(this,"spec");this._context=n,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r!=null&&r.initialValueTemplates)}apiVersion(n){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:n}})}getApiVersion(){var n;return(n=this.spec.options)==null?void 0:n.apiVersion}filter(n){return this.clone({options:{...this.spec.options||{},filter:n}})}getFilter(){var n;return(n=this.spec.options)==null?void 0:n.filter}schemaType(n){const r=typeof n=="string"?n:n.name;return this.clone({schemaTypeName:r})}getSchemaType(){return this.spec.schemaTypeName}params(n){return this.clone({options:{...this.spec.options||{filter:""},params:n}})}getParams(){var n;return(n=this.spec.options)==null?void 0:n.params}defaultOrdering(n){if(!Array.isArray(n))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:n}})}getDefaultOrdering(){var n;return(n=this.spec.options)==null?void 0:n.defaultOrdering}serialize(n={path:[]}){var r;if(typeof this.spec.id!="string"||!this.spec.id)throw new Mn("`id` is required for document lists",n.path,n.index,this.spec.title).withHelpUrl(lr.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new Mn("`filter` is required for document lists",n.path,this.spec.id,this.spec.title).withHelpUrl(lr.FILTER_REQUIRED);return((r=this.spec.options)==null?void 0:r.filter)!=="_type == $type"&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn(`No apiVersion specified for document type list with custom filter: \`${this.spec.options.filter}\`. This will be required in the future. See %s for more info.`,txe(lr.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(n),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||BBn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||qt.apiVersion,filter:LBn(this.spec,n)}}}clone(n){const r=new Gb(this._context);return r.spec={...this.spec,...n||{}},this.initialValueTemplatesSpecified||(r.spec.initialValueTemplates=VBn(this._context,r.spec)),r.spec.schemaTypeName||(r.spec.schemaTypeName=zBn(r.spec)),r}getSpec(){return this.spec}}function VBn(e,t){const{document:n}=e,{schemaTypeName:r,options:i}=t,{filter:a,params:o}=i||{filter:"",params:{}},s=r?[r]:Array.from(new Set(gO(a,o)));if(s.length!==0)return s.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:wa}))}function zBn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},i=gO(n,r);return i.length===1?i[0]:void 0}function gO(e,t={}){let n=UBn(e,t);return n.length===0&&(n=HBn(e,t)),n}function UBn(e,t={}){const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let i;for(;(i=n.exec(e))!==null;)r.push(i[1]||i[2]);return r.map(a=>((a[0]==="$"?t[a.slice(1)]:a)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function HBn(e,t={}){const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(i=>i.trim().replace(/^["']+|["']+$/g,"")).map(i=>i[0]==="$"?t[i.slice(1)]:i).filter(Boolean):[]}const WBn=e=>e instanceof L0?"ListBuilder":ZBn(e)?"Promise":Array.isArray(e)?"array":typeof e,GBn=e=>e.type==="listItem",YBn=(e,t,n)=>(n.pane.items||[]).filter(gPe).some(r=>r.schemaType.name===t.type&&r._id===t.id)||hq(e,t,n),qBn=(e,t)=>{const n=(t.parent.items.filter(GBn).find(r=>r.id===e)||{child:void 0}).child;return!n||typeof n!="function"?n:typeof n=="function"?n(e,t):n};function KBn(e,t,n){if(e instanceof B0)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const i=r&&r.type||WBn(r),a=i==="array"?" - did you forget to spread (...moreItems)?":"";throw new Mn(`List items must be of type "listItem", got "${i}"${a}`,n,t).withHelpUrl(lr.INVALID_LIST_ITEM)}return e}function ZBn(e){return wt(e)&&typeof e.then=="function"}class L0 extends pq{constructor(n,r){super();Y(this,"spec");this._context=n,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r&&r.initialValueTemplates)}items(n){return this.clone({items:n})}getItems(){return this.spec.items}serialize(n={path:[]}){const r=this.spec.id;if(typeof r!="string"||!r)throw new Mn("`id` is required for lists",n.path,n.index).withHelpUrl(lr.ID_REQUIRED);const i=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(i))throw new Mn("`items` must be an array of items",n.path,n.index).withHelpUrl(lr.LIST_ITEMS_MUST_BE_ARRAY);const a=(n.path||[]).concat(r),o=i.map((l,c)=>KBn(l,c,a)),s=o.filter((l,c)=>QAe(o,{id:l.id},c+1));if(s.length>0){const l=s.map(d=>d.id).slice(0,5),c=s.length>5?`${l.join(", ")}...`:l.join(", ");throw new Mn(`List items with same ID found (${c})`,n.path,n.index).withHelpUrl(lr.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(n),type:"list",canHandleIntent:this.spec.canHandleIntent||YBn,child:this.spec.child||qBn,items:o}}clone(n){const r=new L0(this._context);return r.spec={...this.spec,...n||{}},r}}class B0{constructor(t,n){Y(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:hO(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}icon(t){return this.clone({icon:t})}showIcon(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(t={path:[]}){const{id:n,title:r,child:i}=this.spec;if(typeof n!="string"||!n)throw new Mn("`id` is required for list items",t.path,t.index).withHelpUrl(lr.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new Mn("`title` is required for list items",t.path,n).withHelpUrl(lr.TITLE_REQUIRED);let a=this.spec.schemaType;if(typeof a=="string"){const l=this._context.schema.get(a);if(!l)throw new Mn(`Could not find type "${a}" in schema`,t.path,n).withHelpUrl(lr.SCHEMA_TYPE_NOT_FOUND);a=l}const o={path:t.path.concat(n),hint:"child"};let s=i instanceof Ev||i instanceof Gb||i instanceof _f||i instanceof L0?i.serialize(o):i;if(typeof s=="function"){const l=s;s=(c,d)=>l(c,{...d,serializeOptions:o})}return{...this.spec,id:Mk(n,t.path,t.index),schemaType:a,child:s,title:r,type:"listItem"}}clone(t){const n=new B0(this._context);return n.spec={...this.spec,...t||{}},n}}const XBn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new _f(e).id("documentEditor").documentId(n)};class yO extends B0{constructor(n,r){super(n,r);Y(this,"spec");this._context=n,this.spec=r||{}}serialize(n={path:[]}){const r=super.serialize({...n,titleIsOptional:!0});if(!r.schemaType)throw new Mn("`schemaType` is required for document list items",n.path,n.index).withHelpUrl(lr.SCHEMA_TYPE_REQUIRED);const i=r.child||XBn(this._context,r);return{...r,child:i,schemaType:r.schemaType,_id:r.id}}clone(n){const r=new yO(this._context);return r.spec={...this.spec,...n||{}},r}}function gPe(e){return wt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class DS extends Gb{constructor(n,r){super(n);Y(this,"spec");this._context=n,this.spec=r||{}}child(n){return this.cloneWithoutDefaultIntentHandler({child:n})}clone(n){const r=super.clone(n),i=new DS(this._context);return i.spec={...this.spec,...r.getSpec(),...n||{}},i}cloneWithoutDefaultIntentHandler(n){const r=super.clone(n),i=new DS(this._context),a=this.spec.canHandleIntent,o=a&&a.identity===fq?{canHandleIntent:void 0}:{};return i.spec={...r.getSpec(),...this.spec,...n||{},...o},i}}const JBn=["sanity.imageAsset","sanity.fileAsset"];function QBn(e){return JBn.includes(e)}function eVn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function tVn(e){return e.type==="list"}function nVn({schema:e}){return e.getTypeNames().filter(t=>{const n=e.get(t);return n&&eVn(n)}).filter(t=>!QBn(t))}function yPe(e){return nVn(e).map(t=>vPe(e,t))}function vPe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error(`Schema type with name "${t}" not found`);const i=r.title||Vn(t);return new B0(e).id(t).title(i).schemaType(r).child((a,o)=>{const s=o.parent,l=tVn(s)?s.items.find(d=>d.id===a):null;let c=bPe(e,t);return l&&l.title&&(c=c.title(l.title)),c})}function bPe(e,t){const{schema:n,resolveDocumentNode:r}=e,i=typeof t=="string"?t:t.schemaType,a=typeof i=="string"?i:i.name,o=typeof t=="string"?{schemaType:i}:t,s=n.get(a);if(!s)throw new Error(`Schema type with name "${a}" not found`);const l=s.title||Vn(a);return new DS(e).id(o.id||a).title(o.title||l).filter("_type == $type").params({type:a}).schemaType(s).defaultOrdering(MBn.by).menuItemGroups(o.menuItemGroups||[{id:"sorting",title:"Sort",i18n:{title:{key:"menu-item-groups.actions-group",ns:Lt}}},{id:"layout",title:"Layout",i18n:{title:{key:"menu-item-groups.layout-group",ns:Lt}}},{id:"actions",title:"Actions",i18n:{title:{key:"menu-item-groups.sorting-group",ns:Lt}}}]).child(o.child||(c=>r({schemaType:a,documentId:c}))).canHandleIntent(o.canHandleIntent||mO).menuItems(o.menuItems||[...lq(e,s),new kf(e).group("layout").i18n({title:{key:"menu-items.layout.compact-view",ns:Lt}}).title("Compact view").icon(HI).action("setLayout").params({layout:"default"}),new kf(e).group("layout").i18n({title:{key:"menu-items.layout.detailed-view",ns:Lt}}).title("Detailed view").icon(R9).action("setLayout").params({layout:"detail"})])}function rVn(e){return!e||typeof e=="string"?!1:!!e.icon}function iVn(e){const t=yPe(e);return new L0(e).id("__root__").title("Content").i18n({title:{key:"default-definition.content-title",ns:Lt}}).items(t).showIcons(t.some(n=>rVn(n.getSchemaType())))}function xPe({defaultDocumentNode:e,source:t}){const n=MDn(t),r={...t,getStructureBuilder:()=>i,resolveDocumentNode:a=>{let o=(e==null?void 0:e(i,{...a,...n}))||new _f(r);return o.getId()||(o=o.id("documentEditor")),a.documentId&&(o=o.documentId(pn(a.documentId))),o.schemaType(a.schemaType)}},i={defaults:()=>iVn(r),documentTypeList:(...a)=>bPe(r,...a),documentTypeListItem:(...a)=>vPe(r,...a),documentTypeListItems:(...a)=>yPe(r,...a),document:(...a)=>new _f(r,...a),documentWithInitialValueTemplate:(...a)=>fPe(r,...a),defaultDocument:r.resolveDocumentNode,list:(...a)=>new L0(r,...a),listItem:(...a)=>new B0(r,...a),menuItem:(...a)=>new kf(r,...a),menuItemGroup:(...a)=>new dg(r,...a),menuItemsFromInitialValueTemplateItems:(...a)=>mPe(r,...a),documentList:(...a)=>new Gb(r,...a),documentListItem:(...a)=>new yO(r,...a),orderingMenuItem:(...a)=>sq(r,...a),orderingMenuItemsForType:(...a)=>lq(r,...a),editor:(...a)=>dPe(r,...a),defaultInitialValueTemplateItems:(...a)=>hPe(r,...a),initialValueTemplateItem:(a,o)=>new $k(r,{id:a,parameters:o,templateId:a}),component:a=>ka.isValidElementType(a)?new Ev().component(a):new Ev(a),divider:()=>({id:BSe("__divider__"),type:"divider"}),view:$Bn,context:r};return i}const wPe=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null};wPe.displayName="LiveEditBadge";const CPe={activePanes:[]};function aVn(e){CPe.activePanes=e}function oVn(e,t,n,r){var l;const i=(n==null?void 0:n.panes)||[],a=CPe.activePanes||[],o=t.id||Ka(),s=e==="create"&&t.template;for(let c=a.length-1;c>=0;c--){const d=a[c];if(typeof d=="object"&&((l=d.canHandleIntent)!=null&&l.call(d,e,t,{pane:d,index:c})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const h=s?{template:t.template}:M6n;return{panes:i.slice(0,c).concat([[{id:o,params:h,payload:r}]])}}}return{intent:e,params:t,payload:r}}function sVn(e){const t=new Map;return fR(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:i}=n.annotation,a=t.get(r);return(!a||a.timestamp<i)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const lVn=$(cR)`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`;function uVn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:i,timelineStore:a,value:o}=Ar(),s=f.useRef(null),l=ya(a,b=>b.diff),c=ya(a,b=>b.onOlderRevision),d=ya(a,b=>b.selectionState),h=ya(a,b=>b.sinceTime),p=d==="loading",m=!c,{t:g}=q("studio"),y=f.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:ntn,rootDiff:l,isComparingCurrent:m,value:o,showFromValue:!0}),[n,l,m,r,o]),v=f.useMemo(()=>l?sVn(l):[],[l]);return u.jsxs(z,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(KY,{as:"header",closeButtonLabel:g("changes.action.close-label"),flex:"none",onClose:t,title:g("changes.title"),children:u.jsxs(z,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[u.jsx(L,{flex:1,children:u.jsx(Y3e,{mode:"since",chunk:h,placement:"bottom-start"})}),u.jsx(L,{flex:"none",children:u.jsx(zo,{annotations:v,description:g("changes.changes-by-author"),portal:!0,children:u.jsx(yE,{maxLength:4,"aria-label":g("changes.changes-by-author"),children:v.map(({author:b})=>u.jsx(nl,{user:b},b))})})})]})}),u.jsx(ie,{flex:1,children:u.jsx(hf,{element:s.current,children:u.jsx(lVn,{"data-ui":"Scroller",ref:s,children:u.jsx(L,{flex:1,padding:4,children:u.jsx(cVn,{diff:l,documentContext:y,error:i,loading:p,schemaType:r})})})})})]})}function cVn({error:e,diff:t,documentContext:n,loading:r,schemaType:i}){return e?u.jsx(L6,{}):r?u.jsx(bn,{showText:!0}):t?u.jsx(lhe.Provider,{value:n,children:u.jsx(yk,{diff:t,schemaType:i})}):u.jsx(L6,{})}const dVn={name:_7,useMenuItem:()=>{const{features:e}=Jp(),{t}=q();return{hidden:!e.reviewChanges,icon:zI,title:t("changes.title")}},component:uVn,onClose:({params:e})=>({params:{...e,since:void 0}}),onOpen:({params:e})=>({params:{...e,since:"@lastPublished"}})};function fVn(e){const{path:t,schemaType:n,value:r}=e,i=[];let a=n,o=r;for(const s of t){if(typeof s=="string"){if(!wt(o)&&o!==void 0)throw new Error(`Parent value is not an object, cannot get path segment: .${s}`);if(a.jsonType!=="object")throw new Error(`Parent type is not an object schema type, cannot get path segment: .${s}`);o=o==null?void 0:o[s];const l=a.fields.find(c=>c.name===s);if(!l)return i.push({name:s}),i;a=l.type,i.push(a);continue}if(typeof s=="number"){if(!Joe(o)&&o!==void 0)throw new Error(`Parent value is not an array, cannot get path segment: [${s}]`);if(a.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: [${s}]`);o=o==null?void 0:o[s];const l=a.of.find(c=>typeof o=="string"?c.jsonType==="string":typeof o=="number"?c.jsonType==="number":typeof o=="boolean"?c.jsonType==="boolean":wt(o)?c.name===(o==null?void 0:o._type):!1);if(!l)throw new Error(`Item type not found: [${s}]`);a=l,i.push(a);continue}if(wt(s)&&s._key){if(!Joe(o))throw new Error(`Parent value is not an array, cannot get path segment: [_key == ${s}]`);if(a.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: .${s}`);if(o=(o??[]).find(c=>wt(c)&&c._key===s._key),!wt(o))throw new Error(`Array item not found: [_key == ${s._key}]`);const l=a.of.find(c=>wt(o)&&c.name===(o==null?void 0:o._type));if(!l)throw new Error(`Array item type not found: .${o==null?void 0:o._type}`);a=l,i.push(a);continue}throw new Error(`Invalid path segment: ${JSON.stringify(s)}`)}return i}const hVn={error:Ta,warning:gr,info:Df},pVn={error:"critical",warning:"caution",info:"primary"};function mVn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:i,validation:a,value:o}=Ar(),{t:s}=q("validation"),l=f.useCallback(c=>{r(c),n(c)},[n,r]);return u.jsxs(z,{direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(KY,{as:"header",closeButtonLabel:s("panel.close-button-aria-label"),flex:"none",onClose:t,title:s("panel.title")}),u.jsxs(ie,{flex:1,overflow:"auto",padding:3,children:[a.length===0&&u.jsx(L,{padding:2,children:u.jsx(N,{muted:!0,size:1,children:s("panel.no-errors-message")})}),a.length>0&&u.jsx(ne,{space:2,children:a.map((c,d)=>u.jsx(gVn,{marker:c,onOpen:l,schemaType:i,value:o},d))})]})]})}function gVn(e){const{marker:t,onOpen:n,schemaType:r,value:i}=e,a=f.useCallback(()=>n(t.path),[t,n]),[o,s]=f.useState(null);return u.jsxs(Wv,{onCatch:s,children:[o&&u.jsx(ie,{padding:3,radius:2,tone:"critical",children:u.jsx(N,{size:1,children:o.error.message})}),!o&&u.jsx(ie,{__unstable_focusRing:!0,as:"button",onClick:a,padding:3,radius:2,tone:pVn[t.level],children:u.jsxs(z,{align:"flex-start",gap:3,children:[u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:f.createElement(hVn[t.level])})}),u.jsxs(ne,{flex:1,space:2,children:[u.jsx(yVn,{path:t.path,schemaType:r,value:i}),u.jsx(N,{muted:!0,size:1,children:t.message})]})]})})]})}function yVn(e){const{path:t,schemaType:n,value:r}=e,i=f.useMemo(()=>{try{return fVn({path:t,schemaType:n,value:r})}catch(a){console.error(a)}return null},[t,n,r]);return i!=null&&i.length?u.jsx(N,{size:1,children:i.map((a,o)=>u.jsxs(f.Fragment,{children:[o>0&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),u.jsx("span",{style:{fontWeight:500},children:a.title||a.name})]},o))}):null}function vVn(e){const{documentId:t,documentType:n}=e,{t:r}=q("validation"),{validation:i}=Vb(t,n),a=f.useMemo(()=>i.map(d=>({level:d.level,message:d.message,path:d.path})),[i]),o=a.some(mFe),s=a.some(gFe),l=f.useMemo(()=>o?Ta:s?gr:Ap,[o,s]),c=f.useMemo(()=>o?"critical":s?"caution":"positive",[o,s]);return{hidden:a.length===0,icon:l,title:r("panel.title"),tone:c,showAsAction:!0}}const bVn={name:L6n,component:mVn,useMenuItem:vVn},xVn={};function wVn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function CVn(e){return(e||[]).map(t=>t.map(MVn).join("|")).map(encodeURIComponent).join(";")}function SVn(e){return JSON.stringify(e)}function EVn(e){return RVn(decodeURIComponent(e))}function kVn(e){return CVn(e)}const _Vn=ga.create("/",[ga.intents("/intent"),ga.create("/edit/:type/:editDocumentId",[ga.create({path:"/:params",transform:{params:{toState:wVn,toPath:SVn}}})]),ga.create({path:"/:panes",children:[ga.create("/:action",ga.create("/:legacyEditDocumentId"))],transform:{panes:{toState:EVn,toPath:kVn}}})]),TVn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,AVn=e=>/^[a-z0-9]+=[^=]+/i.test(e),jVn=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),SPe=["view","since","rev","inspect","comment"],IVn=Boolean;function DVn(e,t){const n={...t,params:xVn,payload:void 0};return e.reduce((r,i)=>{if(AVn(i)){const a=i.slice(0,i.indexOf("=")),o=i.slice(a.length+1);r.params={...r.params,[decodeURIComponent(a)]:decodeURIComponent(o)}}else jVn(i)?r.payload=PVn(i):console.warn("Unknown pane segment: %s - skipping",i);return r},n)}function MVn(e,t,n){const{payload:r,params:i={},id:a}=e,[o]=n,s=e===o,l=t!==0&&a===o.id,c=typeof r>"u"?void 0:A_e(r),d=Object.entries(i).filter(h=>{var y;const[p,m]=h;if(!m)return!1;if(s)return!0;const g=(y=o.params)==null?void 0:y[p];return!(m===g&&!SPe.includes(p))}).map(([h,p])=>`${encodeURIComponent(h)}=${encodeURIComponent(p)}`);return[l?"":a].concat([d.length>0&&d,c].filter(IVn).flat()).join(",")||","}function RVn(e){return e.indexOf(",{")!==-1?OVn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(i=>{const[a,...o]=i.split(",");return DVn(o,{id:a})});return[n,...r.map(i=>({...n,...i,id:i.id||n.id,params:{...Qa(n.params,SPe),...i.params},payload:i.payload||n.payload}))]}).filter(t=>t.length>0)}function OVn(e){const t=[];let n=e;for(;n.length;){const[r,i,a]=n.match(TVn)||[];if(!r){n=n.slice(1);continue}const o=a&&$Vn(a);t.push({id:i,payload:o}),n=n.slice(r.length)}return[t]}function $Vn(e){try{return JSON.parse(e)}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}function PVn(e){try{return e?T_e(e):void 0}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}const FVn=[eq,tq,JY,QY,XY,fO],NVn=[wPe],LVn=[bVn,dVn],EPe=Eb(e=>{const t=(e==null?void 0:e.icon)||S9;return{name:"sanity/structure",document:{actions:n=>Array.from(new Set([...n,...FVn])),badges:n=>Array.from(new Set([...n,...NVn])),inspectors:n=>Array.from(new Set([...n,...LVn]))},tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:t,component:f.lazy(()=>Tf(()=>import("./index3-541c342d.js"),[])),canHandleIntent:(n,r)=>n==="create"?BVn(r):n==="edit"?VVn(r):!1,getIntentState:oVn,controlsDocumentTitle:!0,options:e,router:_Vn}],i18n:{bundles:[j8n]}}});function BVn(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function VVn(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}function zVn({defaultDocumentNode:e,structure:t,children:n}){const[r,i]=f.useState(!1),a=Hn(),o=DDn(a),s=dl(),l=f.useMemo(()=>xPe({defaultDocumentNode:e,source:a}),[e,a]),c=f.useMemo(()=>t?t(l,{...o,documentStore:s}):l.defaults(),[l,t,o,s]),d=f.useMemo(()=>({backButton:r,resizablePanes:!r,reviewChanges:!r,splitPanes:!r,splitViews:!r}),[r]),h=f.useMemo(()=>({features:d,layoutCollapsed:r,setLayoutCollapsed:i,rootPaneNode:c,structureContext:l.context}),[d,r,c,l.context]);return u.jsx(Fhe.Provider,{value:h,children:n})}var UVn=Object.freeze({__proto__:null,default:Z3e}),HVn=Object.freeze({__proto__:null,default:oPe});const yzn=Object.freeze(Object.defineProperty({__proto__:null,BackLink:C3e,ChildLink:S3e,ComponentBuilder:Ev,ComponentViewBuilder:Rk,ConfirmDeleteDialogContainer:WY,DEFAULT_INTENT_HANDLER:fq,DocumentBuilder:_f,DocumentInspectorHeader:KY,DocumentListBuilder:Gb,DocumentListItemBuilder:yO,DocumentPane:Z3e,DocumentPaneProvider:rq,DocumentTypeListBuilder:DS,FormViewBuilder:Ok,GenericListBuilder:pq,GenericViewBuilder:pO,HELP_URL:lr,InitialValueTemplateItemBuilder:$k,LOADING_PANE:R6n,ListBuilder:L0,ListItemBuilder:B0,LoadingPane:YY,MenuItemBuilder:kf,MenuItemGroupBuilder:dg,Pane:jk,PaneContainer:oPe,PaneContent:Ik,PaneHeader:cO,PaneHeaderActions:R3e,PaneItem:O3e,PaneLayout:x6n,ParameterizedLink:O8n,ReferenceChildLink:$8n,SerializeError:Mn,StructureToolProvider:zVn,_DEBUG:F3e,component:cPe,createStructureBuilder:xPe,defaultInitialValueTemplateItems:hPe,defaultIntentChecker:mO,documentFromEditor:dPe,documentFromEditorWithInitialValue:fPe,form:dq,getOrderingMenuItem:sq,getOrderingMenuItemsForSchemaType:lq,getTypeNamesFromFilter:gO,isDocumentListItem:gPe,maybeSerializeInitialValueTemplateItem:pPe,maybeSerializeMenuItem:oq,maybeSerializeMenuItemGroup:uq,maybeSerializeView:cq,menuItemsFromInitialValueTemplateItems:mPe,pane:UVn,pane$1:HVn,setActivePanes:aVn,shallowIntentChecker:hq,structureLocaleNamespace:Lt,structureTool:EPe,useDocumentPane:Ar,useDocumentTitle:qY,usePane:Yf,usePaneLayout:N0,usePaneRouter:ud,useStructureTool:Jp},Symbol.toStringTag,{value:"Module"})),WVn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2024-09-08",GVn=kPe({}.NEXT_PUBLIC_SANITY_DATASET,"Missing environment variable: NEXT_PUBLIC_SANITY_DATASET"),YVn=kPe({}.NEXT_PUBLIC_SANITY_PROJECT_ID,"Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID");function kPe(e,t){if(e===void 0)throw new Error(t);return e}const qVn=_p({name:"heroSection",title:"Hero Section",type:"document",fields:[un({name:"title",title:"Title",type:"string",validation:e=>e.required().min(5).max(30)}),un({name:"description",title:"Description",type:"string",validation:e=>e.required().min(10).max(50)}),un({name:"image",title:"Image",type:"image",description:"There has to be one picture published because if there is more than one photo published, then the first picture will be selected.",options:{hotspot:!0},validation:e=>e.required().error("image is required")})]}),KVn=_p({name:"user",title:"Users",type:"document",fields:[un({name:"name",title:"Name",type:"string",readOnly:!0}),un({name:"email",title:"Email",type:"string",readOnly:!0}),un({name:"image",title:"Image",type:"url",readOnly:!0}),un({name:"password",type:"string",hidden:!0}),un({readOnly:!0,name:"emailVerified",type:"datetime"}),un({name:"role",type:"string",title:"Role",options:{list:[{title:"Admin",value:"admin"},{title:"User",value:"user"}],layout:"radio"}}),un({readOnly:!0,name:"shoppingBagItem",title:"Shopping Bag Item",type:"array",of:[{type:"object",name:"shoppingBagItem",fields:[{name:"product",type:"reference",to:[{type:"product"}],title:"Product"},{name:"size",type:"string",title:"Size"},{name:"quantity",type:"number",title:"Quantity"}]}]})]}),ZVn=_p({name:"account",title:"Accounts",type:"document",readOnly:!0,fields:[{name:"providerType",type:"string"},{name:"providerId",type:"string"},{name:"providerAccountId",type:"string"},{name:"refreshToken",type:"string"},{name:"accessToken",type:"string"},{name:"accessTokenExpires",type:"number"},{name:"user",title:"User",type:"reference",to:{type:"user"}}]}),XVn=_p({name:"verification-token",title:"Verification Tokens",type:"document",readOnly:!0,fields:[{name:"identifier",title:"Identifier",type:"string"},{name:"token",title:"Token",type:"string"},{name:"expires",title:"Expires",type:"datetime"}]}),JVn=_p({name:"category",type:"document",title:"Category",fields:[un({name:"title",type:"string",title:"Title",validation:e=>e.required().min(1).max(30).error("Title must be between 1 and 30 characters")}),un({name:"subCategories",type:"array",title:"Sub Categories",of:[{type:"reference",to:[{type:"subCategory"}]}],validation:e=>e.unique().required()}),un({name:"categoryImage",title:"Category Image",type:"image",options:{hotspot:!0},validation:e=>e.required()}),un({name:"products",type:"array",title:"Products",of:[{type:"reference",to:[{type:"product"}]}],validation:e=>e.unique().required()})]}),QVn=_p({name:"subCategory",type:"document",title:"Sub Category",fields:[un({name:"title",type:"string",title:"Title",validation:e=>e.required().min(1).max(50).error("Title must be between 1 and 50 characters")}),un({name:"products",type:"array",title:"Products",of:[{type:"reference",to:[{type:"product"}]}],validation:e=>e.unique().required()})]}),ezn=_p({name:"product",title:"Product",type:"document",fields:[un({name:"title",title:"Title",type:"string",validation:e=>e.required().min(5).max(50)}),un({name:"desc",title:"Description",type:"text",validation:e=>e.required().min(20).max(300)}),un({name:"moreInformation",title:"More Information",type:"array",initialValue:[],of:[{type:"object",title:"Information",fields:[{name:"infoText",title:"Info Text",type:"text",validation:e=>e.required().min(5).max(500)}]}],validation:e=>e.min(1).max(20)}),un({name:"images",title:"Images",type:"array",of:[{type:"image",validation:e=>e.required(),options:{hotspot:!0}}],validation:e=>e.required().min(1).max(10)}),un({name:"secondaryImage",title:"Secondary Image",description:"Secondary image will be displayed on hover",type:"image",options:{hotspot:!0},validation:e=>e.required()}),un({name:"price",title:"Price",type:"number",validation:e=>e.precision(2).required().positive().greaterThan(1)}),un({name:"oldPrice",title:"Old Price",type:"number",validation:e=>e.precision(2).positive().greaterThan(1)}),un({name:"salesCount",title:"Sales Count",type:"number",readOnly:!0,initialValue:0}),un({name:"brand",title:"Brand",type:"string",validation:e=>e.required(),options:{list:[{title:"Nike",value:"nike"},{title:"Adidas",value:"adidas"},{title:"Puma",value:"puma"},{title:"Under Armour",value:"under_armour"},{title:"Reebok",value:"reebok"},{title:"Louis Vuitton",value:"louis_vuitton"},{title:"Gucci",value:"gucci"},{title:"Chanel",value:"chanel"},{title:"Herms",value:"hermes"},{title:"Prada",value:"prada"},{title:"Versace",value:"versace"},{title:"Dior",value:"dior"},{title:"Fendi",value:"fendi"},{title:"Balenciaga",value:"balenciaga"},{title:"Givenchy",value:"givenchy"},{title:"Tom Ford",value:"tom_ford"},{title:"Burberry",value:"burberry"},{title:"Saint Laurent",value:"saint_laurent"},{title:"Alexander McQueen",value:"alexander_mcqueen"},{title:"Giorgio Armani",value:"giorgio_armani"},{title:"Dolce & Gabbana",value:"dolce_gabbana"},{title:"Ralph Lauren",value:"ralph_lauren"},{title:"Calvin Klein",value:"calvin_klein"},{title:"Tommy Hilfiger",value:"tommy_hilfiger"},{title:"Michael Kors",value:"michael_kors"},{title:"Hugo Boss",value:"hugo_boss"},{title:"Valentino",value:"valentino"},{title:"Moncler",value:"moncler"},{title:"Off-White",value:"off_white"},{title:"Supreme",value:"supreme"},{title:"Levi's",value:"levis"},{title:"Lacoste",value:"lacoste"},{title:"Vans",value:"vans"},{title:"Zara",value:"zara"},{title:"H&M",value:"hm"},{title:"Uniqlo",value:"uniqlo"},{title:"Gap",value:"gap"},{title:"Forever 21",value:"forever_21"},{title:"American Eagle",value:"american_eagle"},{title:"Abercrombie & Fitch",value:"abercrombie_fitch"},{title:"Banana Republic",value:"banana_republic"},{title:"Old Navy",value:"old_navy"},{title:"Victoria's Secret",value:"victorias_secret"},{title:"Urban Outfitters",value:"urban_outfitters"},{title:"Free People",value:"free_people"},{title:"Anthropologie",value:"anthropologie"},{title:"Coach",value:"coach"},{title:"Kate Spade",value:"kate_spade"},{title:"Tory Burch",value:"tory_burch"},{title:"Skechers",value:"skechers"},{title:"New Balance",value:"new_balance"},{title:"Converse",value:"converse"},{title:"AllSaints",value:"allsaints"},{title:"Ted Baker",value:"ted_baker"},{title:"Topshop",value:"topshop"},{title:"Lululemon",value:"lululemon"},{title:"J.Crew",value:"j_crew"},{title:"Madewell",value:"madewell"},{title:"Diesel",value:"diesel"},{title:"Guess",value:"guess"},{title:"True Religion",value:"true_religion"},{title:"Hollister",value:"hollister"},{title:"Aritzia",value:"aritzia"},{title:"Balmain",value:"balmain"},{title:"Kenzo",value:"kenzo"},{title:"Ermenegildo Zegna",value:"ermenegildo_zegna"},{title:"Salvatore Ferragamo",value:"salvatore_ferragamo"},{title:"Bvlgari",value:"bvlgari"},{title:"Brioni",value:"brioni"},{title:"Canali",value:"canali"},{title:"Dries Van Noten",value:"dries_van_noten"},{title:"Loewe",value:"loewe"},{title:"Miu Miu",value:"miu_miu"},{title:"Stella McCartney",value:"stella_mccartney"},{title:"Celine",value:"celine"},{title:"Jimmy Choo",value:"jimmy_choo"},{title:"Christian Louboutin",value:"christian_louboutin"},{title:"Bottega Veneta",value:"bottega_veneta"},{title:"Maison Margiela",value:"maison_margiela"},{title:"Etro",value:"etro"},{title:"Thom Browne",value:"thom_browne"},{title:"Palm Angels",value:"palm_angels"},{title:"Amiri",value:"amiri"},{title:"Fear of God",value:"fear_of_god"},{title:"Kith",value:"kith"},{title:"Stone Island",value:"stone_island"},{title:"A.P.C.",value:"apc"},{title:"Carhartt",value:"carhartt"},{title:"Patagonia",value:"patagonia"},{title:"The North Face",value:"the_north_face"},{title:"Columbia",value:"columbia"},{title:"Arc'teryx",value:"arcteryx"},{title:"Fila",value:"fila"},{title:"Champion",value:"champion"},{title:"Asics",value:"asics"},{title:"Brooks",value:"brooks"}]}}),un({name:"qtyInStock",title:"Quantity in Stock",type:"number",initialValue:0,validation:e=>e.required().positive()}),un({name:"maxPurchaseQty",title:"Maximum Purchase Quantity",type:"number",initialValue:1,validation:e=>e.required().positive()}),un({name:"colour",title:"Colour",type:"string",validation:e=>e.required(),options:{list:[{title:"Beige",value:"beige"},{title:"Black",value:"black"},{title:"Blue",value:"blue"},{title:"Brown",value:"brown"},{title:"Gold",value:"gold"},{title:"Gray",value:"gray"},{title:"Green",value:"green"},{title:"Multicolor",value:"multicolor"},{title:"Navy Blue",value:"navy_blue"},{title:"Orange",value:"orange"},{title:"Pink",value:"pink"},{title:"Purple",value:"purple"},{title:"Red",value:"red"},{title:"Silver",value:"silver"},{title:"White",value:"white"},{title:"Yellow",value:"yellow"}]}}),un({name:"material",title:"Material",type:"string",options:{list:[{title:"Acetate",value:"acetate"},{title:"Acrylic",value:"acrylic"},{title:"Bamboo",value:"bamboo"},{title:"Beaded",value:"beaded"},{title:"Cashmere",value:"cashmere"},{title:"Chiffon",value:"chiffon"},{title:"Corduroy",value:"corduroy"},{title:"Cotton",value:"cotton"}]},validation:e=>e.required()}),un({name:"pattern",title:"Pattern",type:"string",options:{list:[{title:"Floral",value:"floral"},{title:"Leopard",value:"leopard"},{title:"Stripes",value:"stripes"},{title:"Snake",value:"snake"},{title:"Camo",value:"camo"},{title:"Polka Dots",value:"polka_dots"},{title:"Checkered",value:"checkered"},{title:"Paisley",value:"paisley"}]}}),un({name:"sizes",title:"Sizes",type:"array",of:[{type:"string"}],options:{list:[{title:"Extra Small (XS)",value:"XS"},{title:"Small (S)",value:"S"},{title:"Medium (M)",value:"M"},{title:"Large (L)",value:"L"},{title:"Extra Large (XL)",value:"XL"},{title:"2X Large (2XL)",value:"2XL"},{title:"3X Large (3XL)",value:"3XL"},{title:"4X Large (4XL)",value:"4XL"},{title:"5X Large (5XL)",value:"5XL"}],layout:"grid"},validation:e=>e.required()}),un({name:"category",title:"Category",type:"reference",to:[{type:"category"}],validation:e=>e.required()}),un({name:"subCategory",title:"Sub Category",type:"reference",to:[{type:"subCategory"}],validation:e=>e.required()}),un({name:"type",title:"Type",type:"array",of:[{type:"string"}],options:{list:[{title:"Featured",value:"featured"},{title:"Trending",value:"trending"}]},validation:e=>e.required().min(1)})]}),tzn={types:[qVn,KVn,ZVn,XVn,JVn,QVn,ezn]},nzn=e=>e.list().title("Content").items(e.documentTypeListItems()),rzn={basePath:"/studio",projectId:YVn,dataset:GVn,schema:tzn,plugins:[EPe({structure:nzn}),Y4n({defaultApiVersion:WVn})]};L3n(document.getElementById("sanity"),rzn,{reactStrictMode:!1,basePath:"/"});export{JE as $,zv as A,$t as B,lzn as C,qbe as D,Ta as E,z as F,Gn as G,Gi as H,Rn as I,t0 as J,xn as K,sLn as L,Fp as M,ao as N,gg as O,nge as P,iLn as Q,Xe as R,ne as S,N as T,pme as U,Qi as V,rt as W,On as X,an as Y,ts as Z,uut as _,pf as a,wt as a0,Jp as a1,dl as a2,Tf as a3,YY as a4,kt as a5,tn as a6,mzn as a7,Gv as a8,R6n as a9,hr as aA,bz as aB,gz as aC,Ka as aD,ndt as aE,iO as aF,mk as aG,x6n as aH,tdt as aI,Br as aJ,we as aK,ji as aL,ezt as aM,ku as aN,Eu as aO,id as aP,ka as aQ,Yf as aR,R3e as aS,Iv as aT,F3e as aU,dR as aV,O3e as aW,rd as aX,yzn as aY,Vr as aa,aVn as ab,Wv as ac,HR as ad,zVn as ae,N0 as af,Zt as ag,S3e as ah,C3e as ai,$8n as aj,O8n as ak,Qa as al,cI as am,fe as an,Lt as ao,Mn as ap,txe as aq,he as ar,n0 as as,jk as at,cO as au,Ik as av,gr as aw,Wi as ax,Qs as ay,Ct as az,$ as b,va as c,BW as d,Ce as e,_r as f,Fe as g,q as h,ie as i,u as j,ui as k,de as l,mi as m,Op as n,L as o,Uv as p,Xl as q,f as r,Lr as s,nA as t,Xt as u,W4n as v,Gl as w,PV as x,Sge as y,gt as z};
